const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BqsPTARW.js","assets/hooks.module-CuBEORbW.js","assets/index-LknClZxn.js","assets/inherits_browser-BlmhoU4v.js","assets/events-f1jT3I1d.js","assets/index-nfUwwW_c.js","assets/index-BvO-zEdN.js","assets/index.es-DgeMfSxx.js","assets/alchemy-provider-0066b792-DpVUeaiD.js","assets/alchemy-websocket-provider-98da5bb0-Cng64Ji0.js"])))=>i.map(i=>d[i]);
function eF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var tF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function km(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function W2e(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var nF={exports:{}},aw={},rF={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=Symbol.for("react.element"),uG=Symbol.for("react.portal"),dG=Symbol.for("react.fragment"),fG=Symbol.for("react.strict_mode"),hG=Symbol.for("react.profiler"),pG=Symbol.for("react.provider"),mG=Symbol.for("react.context"),gG=Symbol.for("react.forward_ref"),yG=Symbol.for("react.suspense"),vG=Symbol.for("react.memo"),wG=Symbol.for("react.lazy"),r5=Symbol.iterator;function bG(t){return t===null||typeof t!="object"?null:(t=r5&&t[r5]||t["@@iterator"],typeof t=="function"?t:null)}var iF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oF=Object.assign,sF={};function Bf(t,e,n){this.props=t,this.context=e,this.refs=sF,this.updater=n||iF}Bf.prototype.isReactComponent={};Bf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function aF(){}aF.prototype=Bf.prototype;function SS(t,e,n){this.props=t,this.context=e,this.refs=sF,this.updater=n||iF}var CS=SS.prototype=new aF;CS.constructor=SS;oF(CS,Bf.prototype);CS.isPureReactComponent=!0;var i5=Array.isArray,lF=Object.prototype.hasOwnProperty,TS={current:null},cF={key:!0,ref:!0,__self:!0,__source:!0};function uF(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)lF.call(e,r)&&!cF.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Nm,type:t,key:o,ref:s,props:i,_owner:TS.current}}function xG(t,e){return{$$typeof:Nm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function MS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nm}function EG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var o5=/\/+/g;function lb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EG(""+t.key):e.toString(36)}function Xg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Nm:case uG:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+lb(s,0):r,i5(i)?(n="",t!=null&&(n=t.replace(o5,"$&/")+"/"),Xg(i,e,n,"",function(c){return c})):i!=null&&(MS(i)&&(i=xG(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(o5,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",i5(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+lb(o,a);s+=Xg(o,e,n,l,i)}else if(l=bG(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+lb(o,a++),s+=Xg(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function E0(t,e,n){if(t==null)return t;var r=[],i=0;return Xg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function AG(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yi={current:null},Yg={transition:null},_G={ReactCurrentDispatcher:yi,ReactCurrentBatchConfig:Yg,ReactCurrentOwner:TS};function dF(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:E0,forEach:function(t,e,n){E0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return E0(t,function(){e++}),e},toArray:function(t){return E0(t,function(e){return e})||[]},only:function(t){if(!MS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Wt.Component=Bf;Wt.Fragment=dG;Wt.Profiler=hG;Wt.PureComponent=SS;Wt.StrictMode=fG;Wt.Suspense=yG;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_G;Wt.act=dF;Wt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oF({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=TS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)lF.call(e,l)&&!cF.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Nm,type:t.type,key:i,ref:o,props:r,_owner:s}};Wt.createContext=function(t){return t={$$typeof:mG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pG,_context:t},t.Consumer=t};Wt.createElement=uF;Wt.createFactory=function(t){var e=uF.bind(null,t);return e.type=t,e};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(t){return{$$typeof:gG,render:t}};Wt.isValidElement=MS;Wt.lazy=function(t){return{$$typeof:wG,_payload:{_status:-1,_result:t},_init:AG}};Wt.memo=function(t,e){return{$$typeof:vG,type:t,compare:e===void 0?null:e}};Wt.startTransition=function(t){var e=Yg.transition;Yg.transition={};try{t()}finally{Yg.transition=e}};Wt.unstable_act=dF;Wt.useCallback=function(t,e){return yi.current.useCallback(t,e)};Wt.useContext=function(t){return yi.current.useContext(t)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(t){return yi.current.useDeferredValue(t)};Wt.useEffect=function(t,e){return yi.current.useEffect(t,e)};Wt.useId=function(){return yi.current.useId()};Wt.useImperativeHandle=function(t,e,n){return yi.current.useImperativeHandle(t,e,n)};Wt.useInsertionEffect=function(t,e){return yi.current.useInsertionEffect(t,e)};Wt.useLayoutEffect=function(t,e){return yi.current.useLayoutEffect(t,e)};Wt.useMemo=function(t,e){return yi.current.useMemo(t,e)};Wt.useReducer=function(t,e,n){return yi.current.useReducer(t,e,n)};Wt.useRef=function(t){return yi.current.useRef(t)};Wt.useState=function(t){return yi.current.useState(t)};Wt.useSyncExternalStore=function(t,e,n){return yi.current.useSyncExternalStore(t,e,n)};Wt.useTransition=function(){return yi.current.useTransition()};Wt.version="18.3.1";rF.exports=Wt;var U=rF.exports;const B=km(U),WE=eF({__proto__:null,default:B},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SG=U,CG=Symbol.for("react.element"),TG=Symbol.for("react.fragment"),MG=Object.prototype.hasOwnProperty,IG=SG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RG={key:!0,ref:!0,__self:!0,__source:!0};function fF(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)MG.call(e,r)&&!RG.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:CG,type:t,key:o,ref:s,props:i,_owner:IG.current}}aw.Fragment=TG;aw.jsx=fF;aw.jsxs=fF;nF.exports=aw;var yn=nF.exports;function PG(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function kG(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var NG=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kG(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=PG(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Vr="-ms-",Wy="-moz-",rn="-webkit-",hF="comm",IS="rule",RS="decl",FG="@import",pF="@keyframes",OG="@layer",BG=Math.abs,lw=String.fromCharCode,LG=Object.assign;function DG(t,e){return Nr(t,0)^45?(((e<<2^Nr(t,0))<<2^Nr(t,1))<<2^Nr(t,2))<<2^Nr(t,3):0}function mF(t){return t.trim()}function UG(t,e){return(t=e.exec(t))?t[0]:t}function on(t,e,n){return t.replace(e,n)}function VE(t,e){return t.indexOf(e)}function Nr(t,e){return t.charCodeAt(e)|0}function Ep(t,e,n){return t.slice(e,n)}function Is(t){return t.length}function PS(t){return t.length}function A0(t,e){return e.push(t),t}function zG(t,e){return t.map(e).join("")}var cw=1,Qd=1,gF=0,ji=0,er=0,Lf="";function uw(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:cw,column:Qd,length:s,return:""}}function dh(t,e){return LG(uw("",null,null,"",null,null,0),t,{length:-t.length},e)}function jG(){return er}function GG(){return er=ji>0?Nr(Lf,--ji):0,Qd--,er===10&&(Qd=1,cw--),er}function ro(){return er=ji<gF?Nr(Lf,ji++):0,Qd++,er===10&&(Qd=1,cw++),er}function zs(){return Nr(Lf,ji)}function Jg(){return ji}function Fm(t,e){return Ep(Lf,t,e)}function Ap(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yF(t){return cw=Qd=1,gF=Is(Lf=t),ji=0,[]}function vF(t){return Lf="",t}function Zg(t){return mF(Fm(ji-1,$E(t===91?t+2:t===40?t+1:t)))}function HG(t){for(;(er=zs())&&er<33;)ro();return Ap(t)>2||Ap(er)>3?"":" "}function WG(t,e){for(;--e&&ro()&&!(er<48||er>102||er>57&&er<65||er>70&&er<97););return Fm(t,Jg()+(e<6&&zs()==32&&ro()==32))}function $E(t){for(;ro();)switch(er){case t:return ji;case 34:case 39:t!==34&&t!==39&&$E(er);break;case 40:t===41&&$E(t);break;case 92:ro();break}return ji}function VG(t,e){for(;ro()&&t+er!==57;)if(t+er===84&&zs()===47)break;return"/*"+Fm(e,ji-1)+"*"+lw(t===47?t:ro())}function $G(t){for(;!Ap(zs());)ro();return Fm(t,ji)}function qG(t){return vF(ey("",null,null,null,[""],t=yF(t),0,[0],t))}function ey(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,h=0,g=0,m=1,y=1,p=1,v=0,w="",x=i,T=o,N=r,A=w;y;)switch(g=v,v=ro()){case 40:if(g!=108&&Nr(A,d-1)==58){VE(A+=on(Zg(v),"&","&\f"),"&\f")!=-1&&(p=-1);break}case 34:case 39:case 91:A+=Zg(v);break;case 9:case 10:case 13:case 32:A+=HG(g);break;case 92:A+=WG(Jg()-1,7);continue;case 47:switch(zs()){case 42:case 47:A0(KG(VG(ro(),Jg()),e,n),l);break;default:A+="/"}break;case 123*m:a[c++]=Is(A)*p;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:p==-1&&(A=on(A,/\f/g,"")),h>0&&Is(A)-d&&A0(h>32?a5(A+";",r,n,d-1):a5(on(A," ","")+";",r,n,d-2),l);break;case 59:A+=";";default:if(A0(N=s5(A,e,n,c,u,i,a,w,x=[],T=[],d),o),v===123)if(u===0)ey(A,e,N,N,x,o,d,a,T);else switch(f===99&&Nr(A,3)===110?100:f){case 100:case 108:case 109:case 115:ey(t,N,N,r&&A0(s5(t,N,N,0,0,i,a,w,i,x=[],d),T),i,T,d,a,r?x:T);break;default:ey(A,N,N,N,[""],T,0,a,T)}}c=u=h=0,m=p=1,w=A="",d=s;break;case 58:d=1+Is(A),h=g;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&GG()==125)continue}switch(A+=lw(v),v*m){case 38:p=u>0?1:(A+="\f",-1);break;case 44:a[c++]=(Is(A)-1)*p,p=1;break;case 64:zs()===45&&(A+=Zg(ro())),f=zs(),u=d=Is(w=A+=$G(Jg())),v++;break;case 45:g===45&&Is(A)==2&&(m=0)}}return o}function s5(t,e,n,r,i,o,s,a,l,c,u){for(var d=i-1,f=i===0?o:[""],h=PS(f),g=0,m=0,y=0;g<r;++g)for(var p=0,v=Ep(t,d+1,d=BG(m=s[g])),w=t;p<h;++p)(w=mF(m>0?f[p]+" "+v:on(v,/&\f/g,f[p])))&&(l[y++]=w);return uw(t,e,n,i===0?IS:a,l,c,u)}function KG(t,e,n){return uw(t,e,n,hF,lw(jG()),Ep(t,2,-2),0)}function a5(t,e,n,r){return uw(t,e,n,RS,Ep(t,0,r),Ep(t,r+1,-1),r)}function Id(t,e){for(var n="",r=PS(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function QG(t,e,n,r){switch(t.type){case OG:if(t.children.length)break;case FG:case RS:return t.return=t.return||t.value;case hF:return"";case pF:return t.return=t.value+"{"+Id(t.children,r)+"}";case IS:t.value=t.props.join(",")}return Is(n=Id(t.children,r))?t.return=t.value+"{"+n+"}":""}function XG(t){var e=PS(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function YG(t){return function(e){e.root||(e=e.return)&&t(e)}}var l5=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function wF(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var JG=function(e,n,r){for(var i=0,o=0;i=o,o=zs(),i===38&&o===12&&(n[r]=1),!Ap(o);)ro();return Fm(e,ji)},ZG=function(e,n){var r=-1,i=44;do switch(Ap(i)){case 0:i===38&&zs()===12&&(n[r]=1),e[r]+=JG(ji-1,n,r);break;case 2:e[r]+=Zg(i);break;case 4:if(i===44){e[++r]=zs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=lw(i)}while(i=ro());return e},eH=function(e,n){return vF(ZG(yF(e),n))},c5=new WeakMap,tH=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!c5.get(r))&&!i){c5.set(e,!0);for(var o=[],s=eH(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},nH=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function bF(t,e){switch(DG(t,e)){case 5103:return rn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return rn+t+Wy+t+Vr+t+t;case 6828:case 4268:return rn+t+Vr+t+t;case 6165:return rn+t+Vr+"flex-"+t+t;case 5187:return rn+t+on(t,/(\w+).+(:[^]+)/,rn+"box-$1$2"+Vr+"flex-$1$2")+t;case 5443:return rn+t+Vr+"flex-item-"+on(t,/flex-|-self/,"")+t;case 4675:return rn+t+Vr+"flex-line-pack"+on(t,/align-content|flex-|-self/,"")+t;case 5548:return rn+t+Vr+on(t,"shrink","negative")+t;case 5292:return rn+t+Vr+on(t,"basis","preferred-size")+t;case 6060:return rn+"box-"+on(t,"-grow","")+rn+t+Vr+on(t,"grow","positive")+t;case 4554:return rn+on(t,/([^-])(transform)/g,"$1"+rn+"$2")+t;case 6187:return on(on(on(t,/(zoom-|grab)/,rn+"$1"),/(image-set)/,rn+"$1"),t,"")+t;case 5495:case 3959:return on(t,/(image-set\([^]*)/,rn+"$1$`$1");case 4968:return on(on(t,/(.+:)(flex-)?(.*)/,rn+"box-pack:$3"+Vr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rn+t+t;case 4095:case 3583:case 4068:case 2532:return on(t,/(.+)-inline(.+)/,rn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Is(t)-1-e>6)switch(Nr(t,e+1)){case 109:if(Nr(t,e+4)!==45)break;case 102:return on(t,/(.+:)(.+)-([^]+)/,"$1"+rn+"$2-$3$1"+Wy+(Nr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~VE(t,"stretch")?bF(on(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Nr(t,e+1)!==115)break;case 6444:switch(Nr(t,Is(t)-3-(~VE(t,"!important")&&10))){case 107:return on(t,":",":"+rn)+t;case 101:return on(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rn+(Nr(t,14)===45?"inline-":"")+"box$3$1"+rn+"$2$3$1"+Vr+"$2box$3")+t}break;case 5936:switch(Nr(t,e+11)){case 114:return rn+t+Vr+on(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return rn+t+Vr+on(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return rn+t+Vr+on(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return rn+t+Vr+t+t}return t}var rH=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case RS:e.return=bF(e.value,e.length);break;case pF:return Id([dh(e,{value:on(e.value,"@","@"+rn)})],i);case IS:if(e.length)return zG(e.props,function(o){switch(UG(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Id([dh(e,{props:[on(o,/:(read-\w+)/,":"+Wy+"$1")]})],i);case"::placeholder":return Id([dh(e,{props:[on(o,/:(plac\w+)/,":"+rn+"input-$1")]}),dh(e,{props:[on(o,/:(plac\w+)/,":"+Wy+"$1")]}),dh(e,{props:[on(o,/:(plac\w+)/,Vr+"input-$1")]})],i)}return""})}},iH=[rH],oH=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||iH,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),p=1;p<y.length;p++)o[y[p]]=!0;a.push(m)});var l,c=[tH,nH];{var u,d=[QG,YG(function(m){u.insert(m)})],f=XG(c.concat(i,d)),h=function(y){return Id(qG(y),f)};l=function(y,p,v,w){u=v,h(y?y+"{"+p.styles+"}":p.styles),w&&(g.inserted[p.name]=!0)}}var g={key:n,sheet:new NG({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g};function Vy(){return Vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vy.apply(null,arguments)}var xF={exports:{}},hn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mr=typeof Symbol=="function"&&Symbol.for,kS=Mr?Symbol.for("react.element"):60103,NS=Mr?Symbol.for("react.portal"):60106,dw=Mr?Symbol.for("react.fragment"):60107,fw=Mr?Symbol.for("react.strict_mode"):60108,hw=Mr?Symbol.for("react.profiler"):60114,pw=Mr?Symbol.for("react.provider"):60109,mw=Mr?Symbol.for("react.context"):60110,FS=Mr?Symbol.for("react.async_mode"):60111,gw=Mr?Symbol.for("react.concurrent_mode"):60111,yw=Mr?Symbol.for("react.forward_ref"):60112,vw=Mr?Symbol.for("react.suspense"):60113,sH=Mr?Symbol.for("react.suspense_list"):60120,ww=Mr?Symbol.for("react.memo"):60115,bw=Mr?Symbol.for("react.lazy"):60116,aH=Mr?Symbol.for("react.block"):60121,lH=Mr?Symbol.for("react.fundamental"):60117,cH=Mr?Symbol.for("react.responder"):60118,uH=Mr?Symbol.for("react.scope"):60119;function so(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kS:switch(t=t.type,t){case FS:case gw:case dw:case hw:case fw:case vw:return t;default:switch(t=t&&t.$$typeof,t){case mw:case yw:case bw:case ww:case pw:return t;default:return e}}case NS:return e}}}function EF(t){return so(t)===gw}hn.AsyncMode=FS;hn.ConcurrentMode=gw;hn.ContextConsumer=mw;hn.ContextProvider=pw;hn.Element=kS;hn.ForwardRef=yw;hn.Fragment=dw;hn.Lazy=bw;hn.Memo=ww;hn.Portal=NS;hn.Profiler=hw;hn.StrictMode=fw;hn.Suspense=vw;hn.isAsyncMode=function(t){return EF(t)||so(t)===FS};hn.isConcurrentMode=EF;hn.isContextConsumer=function(t){return so(t)===mw};hn.isContextProvider=function(t){return so(t)===pw};hn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kS};hn.isForwardRef=function(t){return so(t)===yw};hn.isFragment=function(t){return so(t)===dw};hn.isLazy=function(t){return so(t)===bw};hn.isMemo=function(t){return so(t)===ww};hn.isPortal=function(t){return so(t)===NS};hn.isProfiler=function(t){return so(t)===hw};hn.isStrictMode=function(t){return so(t)===fw};hn.isSuspense=function(t){return so(t)===vw};hn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===dw||t===gw||t===hw||t===fw||t===vw||t===sH||typeof t=="object"&&t!==null&&(t.$$typeof===bw||t.$$typeof===ww||t.$$typeof===pw||t.$$typeof===mw||t.$$typeof===yw||t.$$typeof===lH||t.$$typeof===cH||t.$$typeof===uH||t.$$typeof===aH)};hn.typeOf=so;xF.exports=hn;var dH=xF.exports,AF=dH,fH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hH={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_F={};_F[AF.ForwardRef]=fH;_F[AF.Memo]=hH;var pH=!0;function SF(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var OS=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||pH===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},CF=function(e,n,r){OS(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function mH(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var gH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},yH=/[A-Z]|^ms/g,vH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,TF=function(e){return e.charCodeAt(1)===45},u5=function(e){return e!=null&&typeof e!="boolean"},cb=wF(function(t){return TF(t)?t:t.replace(yH,"-$&").toLowerCase()}),d5=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(vH,function(r,i,o){return Rs={name:i,styles:o,next:Rs},i})}return gH[e]!==1&&!TF(e)&&typeof n=="number"&&n!==0?n+"px":n};function _p(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Rs={name:i.name,styles:i.styles,next:Rs},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Rs={name:s.name,styles:s.styles,next:Rs},s=s.next;var a=o.styles+";";return a}return wH(t,e,n)}case"function":{if(t!==void 0){var l=Rs,c=n(t);return Rs=l,_p(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function wH(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=_p(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":u5(a)&&(r+=cb(o)+":"+d5(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)u5(s[l])&&(r+=cb(o)+":"+d5(o,s[l])+";");else{var c=_p(t,e,s);switch(o){case"animation":case"animationName":{r+=cb(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var f5=/label:\s*([^\s;{]+)\s*(;|$)/g,Rs;function BS(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Rs=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=_p(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=_p(n,e,t[a]),r){var l=o;i+=l[a]}f5.lastIndex=0;for(var c="",u;(u=f5.exec(i))!==null;)c+="-"+u[1];var d=mH(i)+c;return{name:d,styles:i,next:Rs}}var bH=function(e){return e()},xH=WE.useInsertionEffect?WE.useInsertionEffect:!1,MF=xH||bH,IF=U.createContext(typeof HTMLElement<"u"?oH({key:"css"}):null);IF.Provider;var RF=function(e){return U.forwardRef(function(n,r){var i=U.useContext(IF);return e(n,i,r)})},$y=U.createContext({}),EH=function(e,n){if(typeof n=="function"){var r=n(e);return r}return Vy({},e,n)},AH=l5(function(t){return l5(function(e){return EH(t,e)})}),si=function(e){var n=U.useContext($y);return e.theme!==n&&(n=AH(n)(e.theme)),U.createElement($y.Provider,{value:n},e.children)},Om={}.hasOwnProperty,qE="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",LS=function(e,n){var r={};for(var i in n)Om.call(n,i)&&(r[i]=n[i]);return r[qE]=e,r},_H=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return OS(n,r,i),MF(function(){return CF(n,r,i)}),null},SH=RF(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[qE],o=[r],s="";typeof t.className=="string"?s=SF(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=BS(o,void 0,U.useContext($y));s+=e.key+"-"+a.name;var l={};for(var c in t)Om.call(t,c)&&c!=="css"&&c!==qE&&(l[c]=t[c]);return l.className=s,n&&(l.ref=n),U.createElement(U.Fragment,null,U.createElement(_H,{cache:e,serialized:a,isStringTag:typeof i=="string"}),U.createElement(i,l))}),DS=SH,Po=yn.Fragment,F=function(e,n,r){return Om.call(n,"css")?yn.jsx(DS,LS(e,n),r):yn.jsx(e,n,r)},K=function(e,n,r){return Om.call(n,"css")?yn.jsxs(DS,LS(e,n),r):yn.jsxs(e,n,r)},US={},xw={};xw.byteLength=MH;xw.toByteArray=RH;xw.fromByteArray=NH;var Ns=[],vo=[],CH=typeof Uint8Array<"u"?Uint8Array:Array,ub="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Du=0,TH=ub.length;Du<TH;++Du)Ns[Du]=ub[Du],vo[ub.charCodeAt(Du)]=Du;vo[45]=62;vo[95]=63;function PF(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function MH(t){var e=PF(t),n=e[0],r=e[1];return(n+r)*3/4-r}function IH(t,e,n){return(e+n)*3/4-n}function RH(t){var e,n=PF(t),r=n[0],i=n[1],o=new CH(IH(t,r,i)),s=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=vo[t.charCodeAt(l)]<<18|vo[t.charCodeAt(l+1)]<<12|vo[t.charCodeAt(l+2)]<<6|vo[t.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=vo[t.charCodeAt(l)]<<2|vo[t.charCodeAt(l+1)]>>4,o[s++]=e&255),i===1&&(e=vo[t.charCodeAt(l)]<<10|vo[t.charCodeAt(l+1)]<<4|vo[t.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function PH(t){return Ns[t>>18&63]+Ns[t>>12&63]+Ns[t>>6&63]+Ns[t&63]}function kH(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(PH(r));return i.join("")}function NH(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(kH(t,s,s+o>a?a:s+o));return r===1?(e=t[n-1],i.push(Ns[e>>2]+Ns[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Ns[e>>10]+Ns[e>>4&63]+Ns[e<<2&63]+"=")),i.join("")}var zS={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */zS.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,h=t[e+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=a;u>0;o=o*256+t[e+d],d+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=s*256+t[e+d],d+=f,u-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(h?-1:1)*s*Math.pow(2,o-r)};zS.write=function(t,e,n,r,i,o){var s,a,l,c=o*8-i-1,u=(1<<c)-1,d=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,g=r?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?e+=f/l:e+=f*Math.pow(2,1-d),e*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(e*l-1)*Math.pow(2,i),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+h]=a&255,h+=g,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+h]=s&255,h+=g,s/=256,c-=8);t[n+h-g]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=xw,n=zS,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const G=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(G,_),G.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(G){if(G>i)throw new RangeError('The value "'+G+'" is invalid for option "size"');const _=new Uint8Array(G);return Object.setPrototypeOf(_,a.prototype),_}function a(G,_,P){if(typeof G=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(G)}return l(G,_,P)}a.poolSize=8192;function l(G,_,P){if(typeof G=="string")return f(G,_);if(ArrayBuffer.isView(G))return g(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(V(G,ArrayBuffer)||G&&V(G.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(V(G,SharedArrayBuffer)||G&&V(G.buffer,SharedArrayBuffer)))return m(G,_,P);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=G.valueOf&&G.valueOf();if(Q!=null&&Q!==G)return a.from(Q,_,P);const Y=y(G);if(Y)return Y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return a.from(G[Symbol.toPrimitive]("string"),_,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}a.from=function(G,_,P){return l(G,_,P)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function u(G,_,P){return c(G),G<=0?s(G):_!==void 0?typeof P=="string"?s(G).fill(_,P):s(G).fill(_):s(G)}a.alloc=function(G,_,P){return u(G,_,P)};function d(G){return c(G),s(G<0?0:p(G)|0)}a.allocUnsafe=function(G){return d(G)},a.allocUnsafeSlow=function(G){return d(G)};function f(G,_){if((typeof _!="string"||_==="")&&(_="utf8"),!a.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const P=w(G,_)|0;let Q=s(P);const Y=Q.write(G,_);return Y!==P&&(Q=Q.slice(0,Y)),Q}function h(G){const _=G.length<0?0:p(G.length)|0,P=s(_);for(let Q=0;Q<_;Q+=1)P[Q]=G[Q]&255;return P}function g(G){if(V(G,Uint8Array)){const _=new Uint8Array(G);return m(_.buffer,_.byteOffset,_.byteLength)}return h(G)}function m(G,_,P){if(_<0||G.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<_+(P||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return _===void 0&&P===void 0?Q=new Uint8Array(G):P===void 0?Q=new Uint8Array(G,_):Q=new Uint8Array(G,_,P),Object.setPrototypeOf(Q,a.prototype),Q}function y(G){if(a.isBuffer(G)){const _=p(G.length)|0,P=s(_);return P.length===0||G.copy(P,0,0,_),P}if(G.length!==void 0)return typeof G.length!="number"||fe(G.length)?s(0):h(G);if(G.type==="Buffer"&&Array.isArray(G.data))return h(G.data)}function p(G){if(G>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return G|0}function v(G){return+G!=G&&(G=0),a.alloc(+G)}a.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==a.prototype},a.compare=function(_,P){if(V(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),V(P,Uint8Array)&&(P=a.from(P,P.offset,P.byteLength)),!a.isBuffer(_)||!a.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===P)return 0;let Q=_.length,Y=P.length;for(let ee=0,ne=Math.min(Q,Y);ee<ne;++ee)if(_[ee]!==P[ee]){Q=_[ee],Y=P[ee];break}return Q<Y?-1:Y<Q?1:0},a.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(_,P){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return a.alloc(0);let Q;if(P===void 0)for(P=0,Q=0;Q<_.length;++Q)P+=_[Q].length;const Y=a.allocUnsafe(P);let ee=0;for(Q=0;Q<_.length;++Q){let ne=_[Q];if(V(ne,Uint8Array))ee+ne.length>Y.length?(a.isBuffer(ne)||(ne=a.from(ne)),ne.copy(Y,ee)):Uint8Array.prototype.set.call(Y,ne,ee);else if(a.isBuffer(ne))ne.copy(Y,ee);else throw new TypeError('"list" argument must be an Array of Buffers');ee+=ne.length}return Y};function w(G,_){if(a.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||V(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);const P=G.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&P===0)return 0;let Y=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return ct(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return st(G).length;default:if(Y)return Q?-1:ct(G).length;_=(""+_).toLowerCase(),Y=!0}}a.byteLength=w;function x(G,_,P){let Q=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,_>>>=0,P<=_))return"";for(G||(G="utf8");;)switch(G){case"hex":return j(this,_,P);case"utf8":case"utf-8":return b(this,_,P);case"ascii":return O(this,_,P);case"latin1":case"binary":return C(this,_,P);case"base64":return L(this,_,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,_,P);default:if(Q)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),Q=!0}}a.prototype._isBuffer=!0;function T(G,_,P){const Q=G[_];G[_]=G[P],G[P]=Q}a.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let P=0;P<_;P+=2)T(this,P,P+1);return this},a.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let P=0;P<_;P+=4)T(this,P,P+3),T(this,P+1,P+2);return this},a.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let P=0;P<_;P+=8)T(this,P,P+7),T(this,P+1,P+6),T(this,P+2,P+5),T(this,P+3,P+4);return this},a.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?b(this,0,_):x.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(_){if(!a.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:a.compare(this,_)===0},a.prototype.inspect=function(){let _="";const P=t.INSPECT_MAX_BYTES;return _=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(_+=" ... "),"<Buffer "+_+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(_,P,Q,Y,ee){if(V(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),!a.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(P===void 0&&(P=0),Q===void 0&&(Q=_?_.length:0),Y===void 0&&(Y=0),ee===void 0&&(ee=this.length),P<0||Q>_.length||Y<0||ee>this.length)throw new RangeError("out of range index");if(Y>=ee&&P>=Q)return 0;if(Y>=ee)return-1;if(P>=Q)return 1;if(P>>>=0,Q>>>=0,Y>>>=0,ee>>>=0,this===_)return 0;let ne=ee-Y,De=Q-P;const Ne=Math.min(ne,De),$e=this.slice(Y,ee),ht=_.slice(P,Q);for(let it=0;it<Ne;++it)if($e[it]!==ht[it]){ne=$e[it],De=ht[it];break}return ne<De?-1:De<ne?1:0};function N(G,_,P,Q,Y){if(G.length===0)return-1;if(typeof P=="string"?(Q=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,fe(P)&&(P=Y?0:G.length-1),P<0&&(P=G.length+P),P>=G.length){if(Y)return-1;P=G.length-1}else if(P<0)if(Y)P=0;else return-1;if(typeof _=="string"&&(_=a.from(_,Q)),a.isBuffer(_))return _.length===0?-1:A(G,_,P,Q,Y);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?Y?Uint8Array.prototype.indexOf.call(G,_,P):Uint8Array.prototype.lastIndexOf.call(G,_,P):A(G,[_],P,Q,Y);throw new TypeError("val must be string, number or Buffer")}function A(G,_,P,Q,Y){let ee=1,ne=G.length,De=_.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(G.length<2||_.length<2)return-1;ee=2,ne/=2,De/=2,P/=2}function Ne(ht,it){return ee===1?ht[it]:ht.readUInt16BE(it*ee)}let $e;if(Y){let ht=-1;for($e=P;$e<ne;$e++)if(Ne(G,$e)===Ne(_,ht===-1?0:$e-ht)){if(ht===-1&&(ht=$e),$e-ht+1===De)return ht*ee}else ht!==-1&&($e-=$e-ht),ht=-1}else for(P+De>ne&&(P=ne-De),$e=P;$e>=0;$e--){let ht=!0;for(let it=0;it<De;it++)if(Ne(G,$e+it)!==Ne(_,it)){ht=!1;break}if(ht)return $e}return-1}a.prototype.includes=function(_,P,Q){return this.indexOf(_,P,Q)!==-1},a.prototype.indexOf=function(_,P,Q){return N(this,_,P,Q,!0)},a.prototype.lastIndexOf=function(_,P,Q){return N(this,_,P,Q,!1)};function z(G,_,P,Q){P=Number(P)||0;const Y=G.length-P;Q?(Q=Number(Q),Q>Y&&(Q=Y)):Q=Y;const ee=_.length;Q>ee/2&&(Q=ee/2);let ne;for(ne=0;ne<Q;++ne){const De=parseInt(_.substr(ne*2,2),16);if(fe(De))return ne;G[P+ne]=De}return ne}function S(G,_,P,Q){return X(ct(_,G.length-P),G,P,Q)}function k(G,_,P,Q){return X(Ze(_),G,P,Q)}function R(G,_,P,Q){return X(st(_),G,P,Q)}function W(G,_,P,Q){return X(Nt(_,G.length-P),G,P,Q)}a.prototype.write=function(_,P,Q,Y){if(P===void 0)Y="utf8",Q=this.length,P=0;else if(Q===void 0&&typeof P=="string")Y=P,Q=this.length,P=0;else if(isFinite(P))P=P>>>0,isFinite(Q)?(Q=Q>>>0,Y===void 0&&(Y="utf8")):(Y=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ee=this.length-P;if((Q===void 0||Q>ee)&&(Q=ee),_.length>0&&(Q<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");let ne=!1;for(;;)switch(Y){case"hex":return z(this,_,P,Q);case"utf8":case"utf-8":return S(this,_,P,Q);case"ascii":case"latin1":case"binary":return k(this,_,P,Q);case"base64":return R(this,_,P,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,_,P,Q);default:if(ne)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),ne=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(G,_,P){return _===0&&P===G.length?e.fromByteArray(G):e.fromByteArray(G.slice(_,P))}function b(G,_,P){P=Math.min(G.length,P);const Q=[];let Y=_;for(;Y<P;){const ee=G[Y];let ne=null,De=ee>239?4:ee>223?3:ee>191?2:1;if(Y+De<=P){let Ne,$e,ht,it;switch(De){case 1:ee<128&&(ne=ee);break;case 2:Ne=G[Y+1],(Ne&192)===128&&(it=(ee&31)<<6|Ne&63,it>127&&(ne=it));break;case 3:Ne=G[Y+1],$e=G[Y+2],(Ne&192)===128&&($e&192)===128&&(it=(ee&15)<<12|(Ne&63)<<6|$e&63,it>2047&&(it<55296||it>57343)&&(ne=it));break;case 4:Ne=G[Y+1],$e=G[Y+2],ht=G[Y+3],(Ne&192)===128&&($e&192)===128&&(ht&192)===128&&(it=(ee&15)<<18|(Ne&63)<<12|($e&63)<<6|ht&63,it>65535&&it<1114112&&(ne=it))}}ne===null?(ne=65533,De=1):ne>65535&&(ne-=65536,Q.push(ne>>>10&1023|55296),ne=56320|ne&1023),Q.push(ne),Y+=De}return I(Q)}const E=4096;function I(G){const _=G.length;if(_<=E)return String.fromCharCode.apply(String,G);let P="",Q=0;for(;Q<_;)P+=String.fromCharCode.apply(String,G.slice(Q,Q+=E));return P}function O(G,_,P){let Q="";P=Math.min(G.length,P);for(let Y=_;Y<P;++Y)Q+=String.fromCharCode(G[Y]&127);return Q}function C(G,_,P){let Q="";P=Math.min(G.length,P);for(let Y=_;Y<P;++Y)Q+=String.fromCharCode(G[Y]);return Q}function j(G,_,P){const Q=G.length;(!_||_<0)&&(_=0),(!P||P<0||P>Q)&&(P=Q);let Y="";for(let ee=_;ee<P;++ee)Y+=_e[G[ee]];return Y}function H(G,_,P){const Q=G.slice(_,P);let Y="";for(let ee=0;ee<Q.length-1;ee+=2)Y+=String.fromCharCode(Q[ee]+Q[ee+1]*256);return Y}a.prototype.slice=function(_,P){const Q=this.length;_=~~_,P=P===void 0?Q:~~P,_<0?(_+=Q,_<0&&(_=0)):_>Q&&(_=Q),P<0?(P+=Q,P<0&&(P=0)):P>Q&&(P=Q),P<_&&(P=_);const Y=this.subarray(_,P);return Object.setPrototypeOf(Y,a.prototype),Y};function D(G,_,P){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+_>P)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(_,P,Q){_=_>>>0,P=P>>>0,Q||D(_,P,this.length);let Y=this[_],ee=1,ne=0;for(;++ne<P&&(ee*=256);)Y+=this[_+ne]*ee;return Y},a.prototype.readUintBE=a.prototype.readUIntBE=function(_,P,Q){_=_>>>0,P=P>>>0,Q||D(_,P,this.length);let Y=this[_+--P],ee=1;for(;P>0&&(ee*=256);)Y+=this[_+--P]*ee;return Y},a.prototype.readUint8=a.prototype.readUInt8=function(_,P){return _=_>>>0,P||D(_,1,this.length),this[_]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(_,P){return _=_>>>0,P||D(_,2,this.length),this[_]|this[_+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(_,P){return _=_>>>0,P||D(_,2,this.length),this[_]<<8|this[_+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(_,P){return _=_>>>0,P||D(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(_,P){return _=_>>>0,P||D(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},a.prototype.readBigUInt64LE=Ie(function(_){_=_>>>0,qe(_,"offset");const P=this[_],Q=this[_+7];(P===void 0||Q===void 0)&&te(_,this.length-8);const Y=P+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,ee=this[++_]+this[++_]*2**8+this[++_]*2**16+Q*2**24;return BigInt(Y)+(BigInt(ee)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ie(function(_){_=_>>>0,qe(_,"offset");const P=this[_],Q=this[_+7];(P===void 0||Q===void 0)&&te(_,this.length-8);const Y=P*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],ee=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+Q;return(BigInt(Y)<<BigInt(32))+BigInt(ee)}),a.prototype.readIntLE=function(_,P,Q){_=_>>>0,P=P>>>0,Q||D(_,P,this.length);let Y=this[_],ee=1,ne=0;for(;++ne<P&&(ee*=256);)Y+=this[_+ne]*ee;return ee*=128,Y>=ee&&(Y-=Math.pow(2,8*P)),Y},a.prototype.readIntBE=function(_,P,Q){_=_>>>0,P=P>>>0,Q||D(_,P,this.length);let Y=P,ee=1,ne=this[_+--Y];for(;Y>0&&(ee*=256);)ne+=this[_+--Y]*ee;return ee*=128,ne>=ee&&(ne-=Math.pow(2,8*P)),ne},a.prototype.readInt8=function(_,P){return _=_>>>0,P||D(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},a.prototype.readInt16LE=function(_,P){_=_>>>0,P||D(_,2,this.length);const Q=this[_]|this[_+1]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt16BE=function(_,P){_=_>>>0,P||D(_,2,this.length);const Q=this[_+1]|this[_]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt32LE=function(_,P){return _=_>>>0,P||D(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},a.prototype.readInt32BE=function(_,P){return _=_>>>0,P||D(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},a.prototype.readBigInt64LE=Ie(function(_){_=_>>>0,qe(_,"offset");const P=this[_],Q=this[_+7];(P===void 0||Q===void 0)&&te(_,this.length-8);const Y=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(Q<<24);return(BigInt(Y)<<BigInt(32))+BigInt(P+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),a.prototype.readBigInt64BE=Ie(function(_){_=_>>>0,qe(_,"offset");const P=this[_],Q=this[_+7];(P===void 0||Q===void 0)&&te(_,this.length-8);const Y=(P<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(Y)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+Q)}),a.prototype.readFloatLE=function(_,P){return _=_>>>0,P||D(_,4,this.length),n.read(this,_,!0,23,4)},a.prototype.readFloatBE=function(_,P){return _=_>>>0,P||D(_,4,this.length),n.read(this,_,!1,23,4)},a.prototype.readDoubleLE=function(_,P){return _=_>>>0,P||D(_,8,this.length),n.read(this,_,!0,52,8)},a.prototype.readDoubleBE=function(_,P){return _=_>>>0,P||D(_,8,this.length),n.read(this,_,!1,52,8)};function M(G,_,P,Q,Y,ee){if(!a.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>Y||_<ee)throw new RangeError('"value" argument is out of bounds');if(P+Q>G.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(_,P,Q,Y){if(_=+_,P=P>>>0,Q=Q>>>0,!Y){const De=Math.pow(2,8*Q)-1;M(this,_,P,Q,De,0)}let ee=1,ne=0;for(this[P]=_&255;++ne<Q&&(ee*=256);)this[P+ne]=_/ee&255;return P+Q},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(_,P,Q,Y){if(_=+_,P=P>>>0,Q=Q>>>0,!Y){const De=Math.pow(2,8*Q)-1;M(this,_,P,Q,De,0)}let ee=Q-1,ne=1;for(this[P+ee]=_&255;--ee>=0&&(ne*=256);)this[P+ee]=_/ne&255;return P+Q},a.prototype.writeUint8=a.prototype.writeUInt8=function(_,P,Q){return _=+_,P=P>>>0,Q||M(this,_,P,1,255,0),this[P]=_&255,P+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(_,P,Q){return _=+_,P=P>>>0,Q||M(this,_,P,2,65535,0),this[P]=_&255,this[P+1]=_>>>8,P+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(_,P,Q){return _=+_,P=P>>>0,Q||M(this,_,P,2,65535,0),this[P]=_>>>8,this[P+1]=_&255,P+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(_,P,Q){return _=+_,P=P>>>0,Q||M(this,_,P,4,4294967295,0),this[P+3]=_>>>24,this[P+2]=_>>>16,this[P+1]=_>>>8,this[P]=_&255,P+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(_,P,Q){return _=+_,P=P>>>0,Q||M(this,_,P,4,4294967295,0),this[P]=_>>>24,this[P+1]=_>>>16,this[P+2]=_>>>8,this[P+3]=_&255,P+4};function $(G,_,P,Q,Y){we(_,Q,Y,G,P,7);let ee=Number(_&BigInt(4294967295));G[P++]=ee,ee=ee>>8,G[P++]=ee,ee=ee>>8,G[P++]=ee,ee=ee>>8,G[P++]=ee;let ne=Number(_>>BigInt(32)&BigInt(4294967295));return G[P++]=ne,ne=ne>>8,G[P++]=ne,ne=ne>>8,G[P++]=ne,ne=ne>>8,G[P++]=ne,P}function J(G,_,P,Q,Y){we(_,Q,Y,G,P,7);let ee=Number(_&BigInt(4294967295));G[P+7]=ee,ee=ee>>8,G[P+6]=ee,ee=ee>>8,G[P+5]=ee,ee=ee>>8,G[P+4]=ee;let ne=Number(_>>BigInt(32)&BigInt(4294967295));return G[P+3]=ne,ne=ne>>8,G[P+2]=ne,ne=ne>>8,G[P+1]=ne,ne=ne>>8,G[P]=ne,P+8}a.prototype.writeBigUInt64LE=Ie(function(_,P=0){return $(this,_,P,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ie(function(_,P=0){return J(this,_,P,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(_,P,Q,Y){if(_=+_,P=P>>>0,!Y){const Ne=Math.pow(2,8*Q-1);M(this,_,P,Q,Ne-1,-Ne)}let ee=0,ne=1,De=0;for(this[P]=_&255;++ee<Q&&(ne*=256);)_<0&&De===0&&this[P+ee-1]!==0&&(De=1),this[P+ee]=(_/ne>>0)-De&255;return P+Q},a.prototype.writeIntBE=function(_,P,Q,Y){if(_=+_,P=P>>>0,!Y){const Ne=Math.pow(2,8*Q-1);M(this,_,P,Q,Ne-1,-Ne)}let ee=Q-1,ne=1,De=0;for(this[P+ee]=_&255;--ee>=0&&(ne*=256);)_<0&&De===0&&this[P+ee+1]!==0&&(De=1),this[P+ee]=(_/ne>>0)-De&255;return P+Q},a.prototype.writeInt8=function(_,P,Q){return _=+_,P=P>>>0,Q||M(this,_,P,1,127,-128),_<0&&(_=255+_+1),this[P]=_&255,P+1},a.prototype.writeInt16LE=function(_,P,Q){return _=+_,P=P>>>0,Q||M(this,_,P,2,32767,-32768),this[P]=_&255,this[P+1]=_>>>8,P+2},a.prototype.writeInt16BE=function(_,P,Q){return _=+_,P=P>>>0,Q||M(this,_,P,2,32767,-32768),this[P]=_>>>8,this[P+1]=_&255,P+2},a.prototype.writeInt32LE=function(_,P,Q){return _=+_,P=P>>>0,Q||M(this,_,P,4,2147483647,-2147483648),this[P]=_&255,this[P+1]=_>>>8,this[P+2]=_>>>16,this[P+3]=_>>>24,P+4},a.prototype.writeInt32BE=function(_,P,Q){return _=+_,P=P>>>0,Q||M(this,_,P,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[P]=_>>>24,this[P+1]=_>>>16,this[P+2]=_>>>8,this[P+3]=_&255,P+4},a.prototype.writeBigInt64LE=Ie(function(_,P=0){return $(this,_,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ie(function(_,P=0){return J(this,_,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(G,_,P,Q,Y,ee){if(P+Q>G.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function ce(G,_,P,Q,Y){return _=+_,P=P>>>0,Y||Z(G,_,P,4),n.write(G,_,P,Q,23,4),P+4}a.prototype.writeFloatLE=function(_,P,Q){return ce(this,_,P,!0,Q)},a.prototype.writeFloatBE=function(_,P,Q){return ce(this,_,P,!1,Q)};function oe(G,_,P,Q,Y){return _=+_,P=P>>>0,Y||Z(G,_,P,8),n.write(G,_,P,Q,52,8),P+8}a.prototype.writeDoubleLE=function(_,P,Q){return oe(this,_,P,!0,Q)},a.prototype.writeDoubleBE=function(_,P,Q){return oe(this,_,P,!1,Q)},a.prototype.copy=function(_,P,Q,Y){if(!a.isBuffer(_))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!Y&&Y!==0&&(Y=this.length),P>=_.length&&(P=_.length),P||(P=0),Y>0&&Y<Q&&(Y=Q),Y===Q||_.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),_.length-P<Y-Q&&(Y=_.length-P+Q);const ee=Y-Q;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(P,Q,Y):Uint8Array.prototype.set.call(_,this.subarray(Q,Y),P),ee},a.prototype.fill=function(_,P,Q,Y){if(typeof _=="string"){if(typeof P=="string"?(Y=P,P=0,Q=this.length):typeof Q=="string"&&(Y=Q,Q=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!a.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(_.length===1){const ne=_.charCodeAt(0);(Y==="utf8"&&ne<128||Y==="latin1")&&(_=ne)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(P<0||this.length<P||this.length<Q)throw new RangeError("Out of range index");if(Q<=P)return this;P=P>>>0,Q=Q===void 0?this.length:Q>>>0,_||(_=0);let ee;if(typeof _=="number")for(ee=P;ee<Q;++ee)this[ee]=_;else{const ne=a.isBuffer(_)?_:a.from(_,Y),De=ne.length;if(De===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ee=0;ee<Q-P;++ee)this[ee+P]=ne[ee%De]}return this};const Ee={};function de(G,_,P){Ee[G]=class extends P{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${G}]`,this.stack,delete this.name}get code(){return G}set code(Y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Y,writable:!0})}toString(){return`${this.name} [${G}]: ${this.message}`}}}de("ERR_BUFFER_OUT_OF_BOUNDS",function(G){return G?`${G} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),de("ERR_INVALID_ARG_TYPE",function(G,_){return`The "${G}" argument must be of type number. Received type ${typeof _}`},TypeError),de("ERR_OUT_OF_RANGE",function(G,_,P){let Q=`The value of "${G}" is out of range.`,Y=P;return Number.isInteger(P)&&Math.abs(P)>2**32?Y=Re(String(P)):typeof P=="bigint"&&(Y=String(P),(P>BigInt(2)**BigInt(32)||P<-(BigInt(2)**BigInt(32)))&&(Y=Re(Y)),Y+="n"),Q+=` It must be ${_}. Received ${Y}`,Q},RangeError);function Re(G){let _="",P=G.length;const Q=G[0]==="-"?1:0;for(;P>=Q+4;P-=3)_=`_${G.slice(P-3,P)}${_}`;return`${G.slice(0,P)}${_}`}function ae(G,_,P){qe(_,"offset"),(G[_]===void 0||G[_+P]===void 0)&&te(_,G.length-(P+1))}function we(G,_,P,Q,Y,ee){if(G>P||G<_){const ne=typeof _=="bigint"?"n":"";let De;throw _===0||_===BigInt(0)?De=`>= 0${ne} and < 2${ne} ** ${(ee+1)*8}${ne}`:De=`>= -(2${ne} ** ${(ee+1)*8-1}${ne}) and < 2 ** ${(ee+1)*8-1}${ne}`,new Ee.ERR_OUT_OF_RANGE("value",De,G)}ae(Q,Y,ee)}function qe(G,_){if(typeof G!="number")throw new Ee.ERR_INVALID_ARG_TYPE(_,"number",G)}function te(G,_,P){throw Math.floor(G)!==G?(qe(G,P),new Ee.ERR_OUT_OF_RANGE("offset","an integer",G)):_<0?new Ee.ERR_BUFFER_OUT_OF_BOUNDS:new Ee.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_}`,G)}const We=/[^+/0-9A-Za-z-_]/g;function Ke(G){if(G=G.split("=")[0],G=G.trim().replace(We,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function ct(G,_){_=_||1/0;let P;const Q=G.length;let Y=null;const ee=[];for(let ne=0;ne<Q;++ne){if(P=G.charCodeAt(ne),P>55295&&P<57344){if(!Y){if(P>56319){(_-=3)>-1&&ee.push(239,191,189);continue}else if(ne+1===Q){(_-=3)>-1&&ee.push(239,191,189);continue}Y=P;continue}if(P<56320){(_-=3)>-1&&ee.push(239,191,189),Y=P;continue}P=(Y-55296<<10|P-56320)+65536}else Y&&(_-=3)>-1&&ee.push(239,191,189);if(Y=null,P<128){if((_-=1)<0)break;ee.push(P)}else if(P<2048){if((_-=2)<0)break;ee.push(P>>6|192,P&63|128)}else if(P<65536){if((_-=3)<0)break;ee.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((_-=4)<0)break;ee.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return ee}function Ze(G){const _=[];for(let P=0;P<G.length;++P)_.push(G.charCodeAt(P)&255);return _}function Nt(G,_){let P,Q,Y;const ee=[];for(let ne=0;ne<G.length&&!((_-=2)<0);++ne)P=G.charCodeAt(ne),Q=P>>8,Y=P%256,ee.push(Y),ee.push(Q);return ee}function st(G){return e.toByteArray(Ke(G))}function X(G,_,P,Q){let Y;for(Y=0;Y<Q&&!(Y+P>=_.length||Y>=G.length);++Y)_[Y+P]=G[Y];return Y}function V(G,_){return G instanceof _||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===_.name}function fe(G){return G!==G}const _e=function(){const G="0123456789abcdef",_=new Array(256);for(let P=0;P<16;++P){const Q=P*16;for(let Y=0;Y<16;++Y)_[Q+Y]=G[P]+G[Y]}return _}();function Ie(G){return typeof BigInt>"u"?ge:G}function ge(){throw new Error("BigInt not supported")}})(US);var kF={exports:{}},Xn=kF.exports={},Ts,Ms;function KE(){throw new Error("setTimeout has not been defined")}function QE(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ts=setTimeout:Ts=KE}catch{Ts=KE}try{typeof clearTimeout=="function"?Ms=clearTimeout:Ms=QE}catch{Ms=QE}})();function NF(t){if(Ts===setTimeout)return setTimeout(t,0);if((Ts===KE||!Ts)&&setTimeout)return Ts=setTimeout,setTimeout(t,0);try{return Ts(t,0)}catch{try{return Ts.call(null,t,0)}catch{return Ts.call(this,t,0)}}}function FH(t){if(Ms===clearTimeout)return clearTimeout(t);if((Ms===QE||!Ms)&&clearTimeout)return Ms=clearTimeout,clearTimeout(t);try{return Ms(t)}catch{try{return Ms.call(null,t)}catch{return Ms.call(this,t)}}}var ba=[],Rd=!1,Tc,ty=-1;function OH(){!Rd||!Tc||(Rd=!1,Tc.length?ba=Tc.concat(ba):ty=-1,ba.length&&FF())}function FF(){if(!Rd){var t=NF(OH);Rd=!0;for(var e=ba.length;e;){for(Tc=ba,ba=[];++ty<e;)Tc&&Tc[ty].run();ty=-1,e=ba.length}Tc=null,Rd=!1,FH(t)}}Xn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ba.push(new OF(t,e)),ba.length===1&&!Rd&&NF(FF)};function OF(t,e){this.fun=t,this.array=e}OF.prototype.run=function(){this.fun.apply(null,this.array)};Xn.title="browser";Xn.browser=!0;Xn.env={};Xn.argv=[];Xn.version="";Xn.versions={};function Ha(){}Xn.on=Ha;Xn.addListener=Ha;Xn.once=Ha;Xn.off=Ha;Xn.removeListener=Ha;Xn.removeAllListeners=Ha;Xn.emit=Ha;Xn.prependListener=Ha;Xn.prependOnceListener=Ha;Xn.listeners=function(t){return[]};Xn.binding=function(t){throw new Error("process.binding is not supported")};Xn.cwd=function(){return"/"};Xn.chdir=function(t){throw new Error("process.chdir is not supported")};Xn.umask=function(){return 0};var BH=kF.exports;const LH=km(BH);window.Buffer=US.Buffer;window.process=LH;typeof window<"u"&&(window.global=window.global||window,!window.URL&&window.webkitURL&&(window.URL=window.webkitURL));window.require=function(t){switch(t){case"stream":return require("stream-browserify");case"crypto":return require("crypto-browserify");case"util":return require("util");case"buffer":return require("buffer");case"process":return require("process/browser");case"zlib":return require("browserify-zlib");case"path":return require("path-browserify");default:throw new Error(`Module ${t} not found`)}};var XE={},BF={exports:{}},ao={},LF={exports:{}},DF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,j){var H=C.length;C.push(j);e:for(;0<H;){var D=H-1>>>1,M=C[D];if(0<i(M,j))C[D]=j,C[H]=M,H=D;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var j=C[0],H=C.pop();if(H!==j){C[0]=H;e:for(var D=0,M=C.length,$=M>>>1;D<$;){var J=2*(D+1)-1,Z=C[J],ce=J+1,oe=C[ce];if(0>i(Z,H))ce<M&&0>i(oe,Z)?(C[D]=oe,C[ce]=H,D=ce):(C[D]=Z,C[J]=H,D=J);else if(ce<M&&0>i(oe,H))C[D]=oe,C[ce]=H,D=ce;else break e}}return j}function i(C,j){var H=C.sortIndex-j.sortIndex;return H!==0?H:C.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(C){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=C)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function x(C){if(m=!1,w(C),!g)if(n(l)!==null)g=!0,I(T);else{var j=n(c);j!==null&&O(x,j.startTime-C)}}function T(C,j){g=!1,m&&(m=!1,p(z),z=-1),h=!0;var H=f;try{for(w(j),d=n(l);d!==null&&(!(d.expirationTime>j)||C&&!R());){var D=d.callback;if(typeof D=="function"){d.callback=null,f=d.priorityLevel;var M=D(d.expirationTime<=j);j=t.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&r(l),w(j)}else r(l);d=n(l)}if(d!==null)var $=!0;else{var J=n(c);J!==null&&O(x,J.startTime-j),$=!1}return $}finally{d=null,f=H,h=!1}}var N=!1,A=null,z=-1,S=5,k=-1;function R(){return!(t.unstable_now()-k<S)}function W(){if(A!==null){var C=t.unstable_now();k=C;var j=!0;try{j=A(!0,C)}finally{j?L():(N=!1,A=null)}}else N=!1}var L;if(typeof v=="function")L=function(){v(W)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,E=b.port2;b.port1.onmessage=W,L=function(){E.postMessage(null)}}else L=function(){y(W,0)};function I(C){A=C,N||(N=!0,L())}function O(C,j){z=y(function(){C(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,I(T))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var H=f;f=j;try{return C()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,j){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var H=f;f=C;try{return j()}finally{f=H}},t.unstable_scheduleCallback=function(C,j,H){var D=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?D+H:D):H=D,C){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=H+M,C={id:u++,callback:j,priorityLevel:C,startTime:H,expirationTime:M,sortIndex:-1},H>D?(C.sortIndex=H,e(c,C),n(l)===null&&C===n(c)&&(m?(p(z),z=-1):m=!0,O(x,H-D))):(C.sortIndex=M,e(l,C),g||h||(g=!0,I(T))),C},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(C){var j=f;return function(){var H=f;f=j;try{return C.apply(this,arguments)}finally{f=H}}}})(DF);LF.exports=DF;var DH=LF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UH=U,oo=DH;function Ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UF=new Set,Sp={};function Su(t,e){Xd(t,e),Xd(t+"Capture",e)}function Xd(t,e){for(Sp[t]=e,t=0;t<e.length;t++)UF.add(e[t])}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),YE=Object.prototype.hasOwnProperty,zH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h5={},p5={};function jH(t){return YE.call(p5,t)?!0:YE.call(h5,t)?!1:zH.test(t)?p5[t]=!0:(h5[t]=!0,!1)}function GH(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HH(t,e,n,r){if(e===null||typeof e>"u"||GH(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vi(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zr[t]=new vi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zr[e]=new vi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zr[t]=new vi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zr[t]=new vi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zr[t]=new vi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zr[t]=new vi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zr[t]=new vi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zr[t]=new vi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zr[t]=new vi(t,5,!1,t.toLowerCase(),null,!1,!1)});var jS=/[\-:]([a-z])/g;function GS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jS,GS);zr[e]=new vi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jS,GS);zr[e]=new vi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jS,GS);zr[e]=new vi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zr[t]=new vi(t,1,!1,t.toLowerCase(),null,!1,!1)});zr.xlinkHref=new vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zr[t]=new vi(t,1,!1,t.toLowerCase(),null,!0,!0)});function HS(t,e,n,r){var i=zr.hasOwnProperty(e)?zr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HH(e,n,i,r)&&(n=null),r||i===null?jH(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wa=UH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_0=Symbol.for("react.element"),dd=Symbol.for("react.portal"),fd=Symbol.for("react.fragment"),WS=Symbol.for("react.strict_mode"),JE=Symbol.for("react.profiler"),zF=Symbol.for("react.provider"),jF=Symbol.for("react.context"),VS=Symbol.for("react.forward_ref"),ZE=Symbol.for("react.suspense"),eA=Symbol.for("react.suspense_list"),$S=Symbol.for("react.memo"),ml=Symbol.for("react.lazy"),GF=Symbol.for("react.offscreen"),m5=Symbol.iterator;function fh(t){return t===null||typeof t!="object"?null:(t=m5&&t[m5]||t["@@iterator"],typeof t=="function"?t:null)}var Fn=Object.assign,db;function zh(t){if(db===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);db=e&&e[1]||""}return`
`+db+t}var fb=!1;function hb(t,e){if(!t||fb)return"";fb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{fb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zh(t):""}function WH(t){switch(t.tag){case 5:return zh(t.type);case 16:return zh("Lazy");case 13:return zh("Suspense");case 19:return zh("SuspenseList");case 0:case 2:case 15:return t=hb(t.type,!1),t;case 11:return t=hb(t.type.render,!1),t;case 1:return t=hb(t.type,!0),t;default:return""}}function tA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fd:return"Fragment";case dd:return"Portal";case JE:return"Profiler";case WS:return"StrictMode";case ZE:return"Suspense";case eA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jF:return(t.displayName||"Context")+".Consumer";case zF:return(t._context.displayName||"Context")+".Provider";case VS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $S:return e=t.displayName||null,e!==null?e:tA(t.type)||"Memo";case ml:e=t._payload,t=t._init;try{return tA(t(e))}catch{}}return null}function VH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tA(e);case 8:return e===WS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function HF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $H(t){var e=HF(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function S0(t){t._valueTracker||(t._valueTracker=$H(t))}function WF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=HF(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nA(t,e){var n=e.checked;return Fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function g5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VF(t,e){e=e.checked,e!=null&&HS(t,"checked",e,!1)}function rA(t,e){VF(t,e);var n=zl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?iA(t,e.type,n):e.hasOwnProperty("defaultValue")&&iA(t,e.type,zl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function y5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function iA(t,e,n){(e!=="number"||qy(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jh=Array.isArray;function Pd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function oA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return Fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function v5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ve(92));if(jh(n)){if(1<n.length)throw Error(Ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zl(n)}}function $F(t,e){var n=zl(e.value),r=zl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function w5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var C0,KF=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(C0=C0||document.createElement("div"),C0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=C0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qH=["Webkit","ms","Moz","O"];Object.keys(Zh).forEach(function(t){qH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zh[e]=Zh[t]})});function QF(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zh.hasOwnProperty(t)&&Zh[t]?(""+e).trim():e+"px"}function XF(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QF(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var KH=Fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aA(t,e){if(e){if(KH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ve(62))}}function lA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cA=null;function qS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uA=null,kd=null,Nd=null;function b5(t){if(t=Dm(t)){if(typeof uA!="function")throw Error(Ve(280));var e=t.stateNode;e&&(e=Cw(e),uA(t.stateNode,t.type,e))}}function YF(t){kd?Nd?Nd.push(t):Nd=[t]:kd=t}function JF(){if(kd){var t=kd,e=Nd;if(Nd=kd=null,b5(t),e)for(t=0;t<e.length;t++)b5(e[t])}}function ZF(t,e){return t(e)}function e4(){}var pb=!1;function t4(t,e,n){if(pb)return t(e,n);pb=!0;try{return ZF(t,e,n)}finally{pb=!1,(kd!==null||Nd!==null)&&(e4(),JF())}}function Tp(t,e){var n=t.stateNode;if(n===null)return null;var r=Cw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ve(231,e,typeof n));return n}var dA=!1;if(Na)try{var hh={};Object.defineProperty(hh,"passive",{get:function(){dA=!0}}),window.addEventListener("test",hh,hh),window.removeEventListener("test",hh,hh)}catch{dA=!1}function QH(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ep=!1,Ky=null,Qy=!1,fA=null,XH={onError:function(t){ep=!0,Ky=t}};function YH(t,e,n,r,i,o,s,a,l){ep=!1,Ky=null,QH.apply(XH,arguments)}function JH(t,e,n,r,i,o,s,a,l){if(YH.apply(this,arguments),ep){if(ep){var c=Ky;ep=!1,Ky=null}else throw Error(Ve(198));Qy||(Qy=!0,fA=c)}}function Cu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function n4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x5(t){if(Cu(t)!==t)throw Error(Ve(188))}function ZH(t){var e=t.alternate;if(!e){if(e=Cu(t),e===null)throw Error(Ve(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return x5(i),t;if(o===r)return x5(i),e;o=o.sibling}throw Error(Ve(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Ve(189))}}if(n.alternate!==r)throw Error(Ve(190))}if(n.tag!==3)throw Error(Ve(188));return n.stateNode.current===n?t:e}function r4(t){return t=ZH(t),t!==null?i4(t):null}function i4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=i4(t);if(e!==null)return e;t=t.sibling}return null}var o4=oo.unstable_scheduleCallback,E5=oo.unstable_cancelCallback,eW=oo.unstable_shouldYield,tW=oo.unstable_requestPaint,Kn=oo.unstable_now,nW=oo.unstable_getCurrentPriorityLevel,KS=oo.unstable_ImmediatePriority,s4=oo.unstable_UserBlockingPriority,Xy=oo.unstable_NormalPriority,rW=oo.unstable_LowPriority,a4=oo.unstable_IdlePriority,Ew=null,js=null;function iW(t){if(js&&typeof js.onCommitFiberRoot=="function")try{js.onCommitFiberRoot(Ew,t,void 0,(t.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:aW,oW=Math.log,sW=Math.LN2;function aW(t){return t>>>=0,t===0?32:31-(oW(t)/sW|0)|0}var T0=64,M0=4194304;function Gh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Gh(a):(o&=s,o!==0&&(r=Gh(o)))}else s=n&~i,s!==0?r=Gh(s):o!==0&&(r=Gh(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ls(e),i=1<<n,r|=t[n],e&=~i;return r}function lW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cW(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ls(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=lW(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function hA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function l4(){var t=T0;return T0<<=1,!(T0&4194240)&&(T0=64),t}function mb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ls(e),t[e]=n}function uW(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ls(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function QS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ls(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var fn=0;function c4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var u4,XS,d4,f4,h4,pA=!1,I0=[],Cl=null,Tl=null,Ml=null,Mp=new Map,Ip=new Map,vl=[],dW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A5(t,e){switch(t){case"focusin":case"focusout":Cl=null;break;case"dragenter":case"dragleave":Tl=null;break;case"mouseover":case"mouseout":Ml=null;break;case"pointerover":case"pointerout":Mp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ip.delete(e.pointerId)}}function ph(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Dm(e),e!==null&&XS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fW(t,e,n,r,i){switch(e){case"focusin":return Cl=ph(Cl,t,e,n,r,i),!0;case"dragenter":return Tl=ph(Tl,t,e,n,r,i),!0;case"mouseover":return Ml=ph(Ml,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mp.set(o,ph(Mp.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ip.set(o,ph(Ip.get(o)||null,t,e,n,r,i)),!0}return!1}function p4(t){var e=Mc(t.target);if(e!==null){var n=Cu(e);if(n!==null){if(e=n.tag,e===13){if(e=n4(n),e!==null){t.blockedOn=e,h4(t.priority,function(){d4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ny(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cA=r,n.target.dispatchEvent(r),cA=null}else return e=Dm(n),e!==null&&XS(e),t.blockedOn=n,!1;e.shift()}return!0}function _5(t,e,n){ny(t)&&n.delete(e)}function hW(){pA=!1,Cl!==null&&ny(Cl)&&(Cl=null),Tl!==null&&ny(Tl)&&(Tl=null),Ml!==null&&ny(Ml)&&(Ml=null),Mp.forEach(_5),Ip.forEach(_5)}function mh(t,e){t.blockedOn===e&&(t.blockedOn=null,pA||(pA=!0,oo.unstable_scheduleCallback(oo.unstable_NormalPriority,hW)))}function Rp(t){function e(i){return mh(i,t)}if(0<I0.length){mh(I0[0],t);for(var n=1;n<I0.length;n++){var r=I0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cl!==null&&mh(Cl,t),Tl!==null&&mh(Tl,t),Ml!==null&&mh(Ml,t),Mp.forEach(e),Ip.forEach(e),n=0;n<vl.length;n++)r=vl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vl.length&&(n=vl[0],n.blockedOn===null);)p4(n),n.blockedOn===null&&vl.shift()}var Fd=Wa.ReactCurrentBatchConfig,Jy=!0;function pW(t,e,n,r){var i=fn,o=Fd.transition;Fd.transition=null;try{fn=1,YS(t,e,n,r)}finally{fn=i,Fd.transition=o}}function mW(t,e,n,r){var i=fn,o=Fd.transition;Fd.transition=null;try{fn=4,YS(t,e,n,r)}finally{fn=i,Fd.transition=o}}function YS(t,e,n,r){if(Jy){var i=mA(t,e,n,r);if(i===null)Sb(t,e,r,Zy,n),A5(t,r);else if(fW(i,t,e,n,r))r.stopPropagation();else if(A5(t,r),e&4&&-1<dW.indexOf(t)){for(;i!==null;){var o=Dm(i);if(o!==null&&u4(o),o=mA(t,e,n,r),o===null&&Sb(t,e,r,Zy,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Sb(t,e,r,null,n)}}var Zy=null;function mA(t,e,n,r){if(Zy=null,t=qS(r),t=Mc(t),t!==null)if(e=Cu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=n4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zy=t,null}function m4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nW()){case KS:return 1;case s4:return 4;case Xy:case rW:return 16;case a4:return 536870912;default:return 16}default:return 16}}var xl=null,JS=null,ry=null;function g4(){if(ry)return ry;var t,e=JS,n=e.length,r,i="value"in xl?xl.value:xl.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ry=i.slice(t,1<r?1-r:void 0)}function iy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function R0(){return!0}function S5(){return!1}function lo(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?R0:S5,this.isPropagationStopped=S5,this}return Fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=R0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=R0)},persist:function(){},isPersistent:R0}),e}var Df={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZS=lo(Df),Lm=Fn({},Df,{view:0,detail:0}),gW=lo(Lm),gb,yb,gh,Aw=Fn({},Lm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gh&&(gh&&t.type==="mousemove"?(gb=t.screenX-gh.screenX,yb=t.screenY-gh.screenY):yb=gb=0,gh=t),gb)},movementY:function(t){return"movementY"in t?t.movementY:yb}}),C5=lo(Aw),yW=Fn({},Aw,{dataTransfer:0}),vW=lo(yW),wW=Fn({},Lm,{relatedTarget:0}),vb=lo(wW),bW=Fn({},Df,{animationName:0,elapsedTime:0,pseudoElement:0}),xW=lo(bW),EW=Fn({},Df,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AW=lo(EW),_W=Fn({},Df,{data:0}),T5=lo(_W),SW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TW[t])?!!e[t]:!1}function eC(){return MW}var IW=Fn({},Lm,{key:function(t){if(t.key){var e=SW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=iy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eC,charCode:function(t){return t.type==="keypress"?iy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?iy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RW=lo(IW),PW=Fn({},Aw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M5=lo(PW),kW=Fn({},Lm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eC}),NW=lo(kW),FW=Fn({},Df,{propertyName:0,elapsedTime:0,pseudoElement:0}),OW=lo(FW),BW=Fn({},Aw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LW=lo(BW),DW=[9,13,27,32],tC=Na&&"CompositionEvent"in window,tp=null;Na&&"documentMode"in document&&(tp=document.documentMode);var UW=Na&&"TextEvent"in window&&!tp,y4=Na&&(!tC||tp&&8<tp&&11>=tp),I5=" ",R5=!1;function v4(t,e){switch(t){case"keyup":return DW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hd=!1;function zW(t,e){switch(t){case"compositionend":return w4(e);case"keypress":return e.which!==32?null:(R5=!0,I5);case"textInput":return t=e.data,t===I5&&R5?null:t;default:return null}}function jW(t,e){if(hd)return t==="compositionend"||!tC&&v4(t,e)?(t=g4(),ry=JS=xl=null,hd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return y4&&e.locale!=="ko"?null:e.data;default:return null}}var GW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GW[t.type]:e==="textarea"}function b4(t,e,n,r){YF(r),e=ev(e,"onChange"),0<e.length&&(n=new ZS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var np=null,Pp=null;function HW(t){P4(t,0)}function _w(t){var e=gd(t);if(WF(e))return t}function WW(t,e){if(t==="change")return e}var x4=!1;if(Na){var wb;if(Na){var bb="oninput"in document;if(!bb){var k5=document.createElement("div");k5.setAttribute("oninput","return;"),bb=typeof k5.oninput=="function"}wb=bb}else wb=!1;x4=wb&&(!document.documentMode||9<document.documentMode)}function N5(){np&&(np.detachEvent("onpropertychange",E4),Pp=np=null)}function E4(t){if(t.propertyName==="value"&&_w(Pp)){var e=[];b4(e,Pp,t,qS(t)),t4(HW,e)}}function VW(t,e,n){t==="focusin"?(N5(),np=e,Pp=n,np.attachEvent("onpropertychange",E4)):t==="focusout"&&N5()}function $W(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _w(Pp)}function qW(t,e){if(t==="click")return _w(e)}function KW(t,e){if(t==="input"||t==="change")return _w(e)}function QW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hs=typeof Object.is=="function"?Object.is:QW;function kp(t,e){if(hs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!YE.call(e,i)||!hs(t[i],e[i]))return!1}return!0}function F5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function O5(t,e){var n=F5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=F5(n)}}function A4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?A4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _4(){for(var t=window,e=qy();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qy(t.document)}return e}function nC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XW(t){var e=_4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&A4(n.ownerDocument.documentElement,n)){if(r!==null&&nC(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=O5(n,o);var s=O5(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YW=Na&&"documentMode"in document&&11>=document.documentMode,pd=null,gA=null,rp=null,yA=!1;function B5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yA||pd==null||pd!==qy(r)||(r=pd,"selectionStart"in r&&nC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rp&&kp(rp,r)||(rp=r,r=ev(gA,"onSelect"),0<r.length&&(e=new ZS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pd)))}function P0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var md={animationend:P0("Animation","AnimationEnd"),animationiteration:P0("Animation","AnimationIteration"),animationstart:P0("Animation","AnimationStart"),transitionend:P0("Transition","TransitionEnd")},xb={},S4={};Na&&(S4=document.createElement("div").style,"AnimationEvent"in window||(delete md.animationend.animation,delete md.animationiteration.animation,delete md.animationstart.animation),"TransitionEvent"in window||delete md.transitionend.transition);function Sw(t){if(xb[t])return xb[t];if(!md[t])return t;var e=md[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in S4)return xb[t]=e[n];return t}var C4=Sw("animationend"),T4=Sw("animationiteration"),M4=Sw("animationstart"),I4=Sw("transitionend"),R4=new Map,L5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ql(t,e){R4.set(t,e),Su(e,[t])}for(var Eb=0;Eb<L5.length;Eb++){var Ab=L5[Eb],JW=Ab.toLowerCase(),ZW=Ab[0].toUpperCase()+Ab.slice(1);Ql(JW,"on"+ZW)}Ql(C4,"onAnimationEnd");Ql(T4,"onAnimationIteration");Ql(M4,"onAnimationStart");Ql("dblclick","onDoubleClick");Ql("focusin","onFocus");Ql("focusout","onBlur");Ql(I4,"onTransitionEnd");Xd("onMouseEnter",["mouseout","mouseover"]);Xd("onMouseLeave",["mouseout","mouseover"]);Xd("onPointerEnter",["pointerout","pointerover"]);Xd("onPointerLeave",["pointerout","pointerover"]);Su("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Su("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Su("onBeforeInput",["compositionend","keypress","textInput","paste"]);Su("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Su("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Su("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hh));function D5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JH(r,e,void 0,t),t.currentTarget=null}function P4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;D5(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;D5(i,a,c),o=l}}}if(Qy)throw t=fA,Qy=!1,fA=null,t}function An(t,e){var n=e[EA];n===void 0&&(n=e[EA]=new Set);var r=t+"__bubble";n.has(r)||(k4(e,t,2,!1),n.add(r))}function _b(t,e,n){var r=0;e&&(r|=4),k4(n,t,r,e)}var k0="_reactListening"+Math.random().toString(36).slice(2);function Np(t){if(!t[k0]){t[k0]=!0,UF.forEach(function(n){n!=="selectionchange"&&(eV.has(n)||_b(n,!1,t),_b(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[k0]||(e[k0]=!0,_b("selectionchange",!1,e))}}function k4(t,e,n,r){switch(m4(e)){case 1:var i=pW;break;case 4:i=mW;break;default:i=YS}n=i.bind(null,e,n,t),i=void 0,!dA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Mc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}t4(function(){var c=o,u=qS(n),d=[];e:{var f=R4.get(t);if(f!==void 0){var h=ZS,g=t;switch(t){case"keypress":if(iy(n)===0)break e;case"keydown":case"keyup":h=RW;break;case"focusin":g="focus",h=vb;break;case"focusout":g="blur",h=vb;break;case"beforeblur":case"afterblur":h=vb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=C5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=vW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=NW;break;case C4:case T4:case M4:h=xW;break;case I4:h=OW;break;case"scroll":h=gW;break;case"wheel":h=LW;break;case"copy":case"cut":case"paste":h=AW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=M5}var m=(e&4)!==0,y=!m&&t==="scroll",p=m?f!==null?f+"Capture":null:f;m=[];for(var v=c,w;v!==null;){w=v;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,p!==null&&(x=Tp(v,p),x!=null&&m.push(Fp(v,x,w)))),y)break;v=v.return}0<m.length&&(f=new h(f,g,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==cA&&(g=n.relatedTarget||n.fromElement)&&(Mc(g)||g[Fa]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=c,g=g?Mc(g):null,g!==null&&(y=Cu(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(m=C5,x="onMouseLeave",p="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=M5,x="onPointerLeave",p="onPointerEnter",v="pointer"),y=h==null?f:gd(h),w=g==null?f:gd(g),f=new m(x,v+"leave",h,n,u),f.target=y,f.relatedTarget=w,x=null,Mc(u)===c&&(m=new m(p,v+"enter",g,n,u),m.target=w,m.relatedTarget=y,x=m),y=x,h&&g)t:{for(m=h,p=g,v=0,w=m;w;w=Uu(w))v++;for(w=0,x=p;x;x=Uu(x))w++;for(;0<v-w;)m=Uu(m),v--;for(;0<w-v;)p=Uu(p),w--;for(;v--;){if(m===p||p!==null&&m===p.alternate)break t;m=Uu(m),p=Uu(p)}m=null}else m=null;h!==null&&U5(d,f,h,m,!1),g!==null&&y!==null&&U5(d,y,g,m,!0)}}e:{if(f=c?gd(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var T=WW;else if(P5(f))if(x4)T=KW;else{T=$W;var N=VW}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=qW);if(T&&(T=T(t,c))){b4(d,T,n,u);break e}N&&N(t,f,c),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&iA(f,"number",f.value)}switch(N=c?gd(c):window,t){case"focusin":(P5(N)||N.contentEditable==="true")&&(pd=N,gA=c,rp=null);break;case"focusout":rp=gA=pd=null;break;case"mousedown":yA=!0;break;case"contextmenu":case"mouseup":case"dragend":yA=!1,B5(d,n,u);break;case"selectionchange":if(YW)break;case"keydown":case"keyup":B5(d,n,u)}var A;if(tC)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else hd?v4(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(y4&&n.locale!=="ko"&&(hd||z!=="onCompositionStart"?z==="onCompositionEnd"&&hd&&(A=g4()):(xl=u,JS="value"in xl?xl.value:xl.textContent,hd=!0)),N=ev(c,z),0<N.length&&(z=new T5(z,t,null,n,u),d.push({event:z,listeners:N}),A?z.data=A:(A=w4(n),A!==null&&(z.data=A)))),(A=UW?zW(t,n):jW(t,n))&&(c=ev(c,"onBeforeInput"),0<c.length&&(u=new T5("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=A))}P4(d,e)})}function Fp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ev(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Tp(t,n),o!=null&&r.unshift(Fp(t,o,i)),o=Tp(t,e),o!=null&&r.push(Fp(t,o,i))),t=t.return}return r}function Uu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function U5(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Tp(n,o),l!=null&&s.unshift(Fp(n,l,a))):i||(l=Tp(n,o),l!=null&&s.push(Fp(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var tV=/\r\n?/g,nV=/\u0000|\uFFFD/g;function z5(t){return(typeof t=="string"?t:""+t).replace(tV,`
`).replace(nV,"")}function N0(t,e,n){if(e=z5(e),z5(t)!==e&&n)throw Error(Ve(425))}function tv(){}var vA=null,wA=null;function bA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xA=typeof setTimeout=="function"?setTimeout:void 0,rV=typeof clearTimeout=="function"?clearTimeout:void 0,j5=typeof Promise=="function"?Promise:void 0,iV=typeof queueMicrotask=="function"?queueMicrotask:typeof j5<"u"?function(t){return j5.resolve(null).then(t).catch(oV)}:xA;function oV(t){setTimeout(function(){throw t})}function Cb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Rp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rp(e)}function Il(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function G5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Uf=Math.random().toString(36).slice(2),Fs="__reactFiber$"+Uf,Op="__reactProps$"+Uf,Fa="__reactContainer$"+Uf,EA="__reactEvents$"+Uf,sV="__reactListeners$"+Uf,aV="__reactHandles$"+Uf;function Mc(t){var e=t[Fs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fa]||n[Fs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=G5(t);t!==null;){if(n=t[Fs])return n;t=G5(t)}return e}t=n,n=t.parentNode}return null}function Dm(t){return t=t[Fs]||t[Fa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ve(33))}function Cw(t){return t[Op]||null}var AA=[],yd=-1;function Xl(t){return{current:t}}function Cn(t){0>yd||(t.current=AA[yd],AA[yd]=null,yd--)}function wn(t,e){yd++,AA[yd]=t.current,t.current=e}var jl={},Jr=Xl(jl),ki=Xl(!1),Zc=jl;function Yd(t,e){var n=t.type.contextTypes;if(!n)return jl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ni(t){return t=t.childContextTypes,t!=null}function nv(){Cn(ki),Cn(Jr)}function H5(t,e,n){if(Jr.current!==jl)throw Error(Ve(168));wn(Jr,e),wn(ki,n)}function N4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ve(108,VH(t)||"Unknown",i));return Fn({},n,r)}function rv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jl,Zc=Jr.current,wn(Jr,t),wn(ki,ki.current),!0}function W5(t,e,n){var r=t.stateNode;if(!r)throw Error(Ve(169));n?(t=N4(t,e,Zc),r.__reactInternalMemoizedMergedChildContext=t,Cn(ki),Cn(Jr),wn(Jr,t)):Cn(ki),wn(ki,n)}var pa=null,Tw=!1,Tb=!1;function F4(t){pa===null?pa=[t]:pa.push(t)}function lV(t){Tw=!0,F4(t)}function Yl(){if(!Tb&&pa!==null){Tb=!0;var t=0,e=fn;try{var n=pa;for(fn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pa=null,Tw=!1}catch(i){throw pa!==null&&(pa=pa.slice(t+1)),o4(KS,Yl),i}finally{fn=e,Tb=!1}}return null}var vd=[],wd=0,iv=null,ov=0,Eo=[],Ao=0,eu=null,xa=1,Ea="";function hc(t,e){vd[wd++]=ov,vd[wd++]=iv,iv=t,ov=e}function O4(t,e,n){Eo[Ao++]=xa,Eo[Ao++]=Ea,Eo[Ao++]=eu,eu=t;var r=xa;t=Ea;var i=32-ls(r)-1;r&=~(1<<i),n+=1;var o=32-ls(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,xa=1<<32-ls(e)+i|n<<i|r,Ea=o+t}else xa=1<<o|n<<i|r,Ea=t}function rC(t){t.return!==null&&(hc(t,1),O4(t,1,0))}function iC(t){for(;t===iv;)iv=vd[--wd],vd[wd]=null,ov=vd[--wd],vd[wd]=null;for(;t===eu;)eu=Eo[--Ao],Eo[Ao]=null,Ea=Eo[--Ao],Eo[Ao]=null,xa=Eo[--Ao],Eo[Ao]=null}var io=null,to=null,In=!1,es=null;function B4(t,e){var n=Ro(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function V5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,io=t,to=Il(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,io=t,to=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eu!==null?{id:xa,overflow:Ea}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ro(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,io=t,to=null,!0):!1;default:return!1}}function _A(t){return(t.mode&1)!==0&&(t.flags&128)===0}function SA(t){if(In){var e=to;if(e){var n=e;if(!V5(t,e)){if(_A(t))throw Error(Ve(418));e=Il(n.nextSibling);var r=io;e&&V5(t,e)?B4(r,n):(t.flags=t.flags&-4097|2,In=!1,io=t)}}else{if(_A(t))throw Error(Ve(418));t.flags=t.flags&-4097|2,In=!1,io=t}}}function $5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;io=t}function F0(t){if(t!==io)return!1;if(!In)return $5(t),In=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bA(t.type,t.memoizedProps)),e&&(e=to)){if(_A(t))throw L4(),Error(Ve(418));for(;e;)B4(t,e),e=Il(e.nextSibling)}if($5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){to=Il(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}to=null}}else to=io?Il(t.stateNode.nextSibling):null;return!0}function L4(){for(var t=to;t;)t=Il(t.nextSibling)}function Jd(){to=io=null,In=!1}function oC(t){es===null?es=[t]:es.push(t)}var cV=Wa.ReactCurrentBatchConfig;function yh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ve(309));var r=n.stateNode}if(!r)throw Error(Ve(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Ve(284));if(!n._owner)throw Error(Ve(290,t))}return t}function O0(t,e){throw t=Object.prototype.toString.call(e),Error(Ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function q5(t){var e=t._init;return e(t._payload)}function D4(t){function e(p,v){if(t){var w=p.deletions;w===null?(p.deletions=[v],p.flags|=16):w.push(v)}}function n(p,v){if(!t)return null;for(;v!==null;)e(p,v),v=v.sibling;return null}function r(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function i(p,v){return p=Nl(p,v),p.index=0,p.sibling=null,p}function o(p,v,w){return p.index=w,t?(w=p.alternate,w!==null?(w=w.index,w<v?(p.flags|=2,v):w):(p.flags|=2,v)):(p.flags|=1048576,v)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,v,w,x){return v===null||v.tag!==6?(v=Fb(w,p.mode,x),v.return=p,v):(v=i(v,w),v.return=p,v)}function l(p,v,w,x){var T=w.type;return T===fd?u(p,v,w.props.children,x,w.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ml&&q5(T)===v.type)?(x=i(v,w.props),x.ref=yh(p,v,w),x.return=p,x):(x=dy(w.type,w.key,w.props,null,p.mode,x),x.ref=yh(p,v,w),x.return=p,x)}function c(p,v,w,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Ob(w,p.mode,x),v.return=p,v):(v=i(v,w.children||[]),v.return=p,v)}function u(p,v,w,x,T){return v===null||v.tag!==7?(v=Vc(w,p.mode,x,T),v.return=p,v):(v=i(v,w),v.return=p,v)}function d(p,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Fb(""+v,p.mode,w),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _0:return w=dy(v.type,v.key,v.props,null,p.mode,w),w.ref=yh(p,null,v),w.return=p,w;case dd:return v=Ob(v,p.mode,w),v.return=p,v;case ml:var x=v._init;return d(p,x(v._payload),w)}if(jh(v)||fh(v))return v=Vc(v,p.mode,w,null),v.return=p,v;O0(p,v)}return null}function f(p,v,w,x){var T=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(p,v,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _0:return w.key===T?l(p,v,w,x):null;case dd:return w.key===T?c(p,v,w,x):null;case ml:return T=w._init,f(p,v,T(w._payload),x)}if(jh(w)||fh(w))return T!==null?null:u(p,v,w,x,null);O0(p,w)}return null}function h(p,v,w,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(w)||null,a(v,p,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _0:return p=p.get(x.key===null?w:x.key)||null,l(v,p,x,T);case dd:return p=p.get(x.key===null?w:x.key)||null,c(v,p,x,T);case ml:var N=x._init;return h(p,v,w,N(x._payload),T)}if(jh(x)||fh(x))return p=p.get(w)||null,u(v,p,x,T,null);O0(v,x)}return null}function g(p,v,w,x){for(var T=null,N=null,A=v,z=v=0,S=null;A!==null&&z<w.length;z++){A.index>z?(S=A,A=null):S=A.sibling;var k=f(p,A,w[z],x);if(k===null){A===null&&(A=S);break}t&&A&&k.alternate===null&&e(p,A),v=o(k,v,z),N===null?T=k:N.sibling=k,N=k,A=S}if(z===w.length)return n(p,A),In&&hc(p,z),T;if(A===null){for(;z<w.length;z++)A=d(p,w[z],x),A!==null&&(v=o(A,v,z),N===null?T=A:N.sibling=A,N=A);return In&&hc(p,z),T}for(A=r(p,A);z<w.length;z++)S=h(A,p,z,w[z],x),S!==null&&(t&&S.alternate!==null&&A.delete(S.key===null?z:S.key),v=o(S,v,z),N===null?T=S:N.sibling=S,N=S);return t&&A.forEach(function(R){return e(p,R)}),In&&hc(p,z),T}function m(p,v,w,x){var T=fh(w);if(typeof T!="function")throw Error(Ve(150));if(w=T.call(w),w==null)throw Error(Ve(151));for(var N=T=null,A=v,z=v=0,S=null,k=w.next();A!==null&&!k.done;z++,k=w.next()){A.index>z?(S=A,A=null):S=A.sibling;var R=f(p,A,k.value,x);if(R===null){A===null&&(A=S);break}t&&A&&R.alternate===null&&e(p,A),v=o(R,v,z),N===null?T=R:N.sibling=R,N=R,A=S}if(k.done)return n(p,A),In&&hc(p,z),T;if(A===null){for(;!k.done;z++,k=w.next())k=d(p,k.value,x),k!==null&&(v=o(k,v,z),N===null?T=k:N.sibling=k,N=k);return In&&hc(p,z),T}for(A=r(p,A);!k.done;z++,k=w.next())k=h(A,p,z,k.value,x),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?z:k.key),v=o(k,v,z),N===null?T=k:N.sibling=k,N=k);return t&&A.forEach(function(W){return e(p,W)}),In&&hc(p,z),T}function y(p,v,w,x){if(typeof w=="object"&&w!==null&&w.type===fd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case _0:e:{for(var T=w.key,N=v;N!==null;){if(N.key===T){if(T=w.type,T===fd){if(N.tag===7){n(p,N.sibling),v=i(N,w.props.children),v.return=p,p=v;break e}}else if(N.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ml&&q5(T)===N.type){n(p,N.sibling),v=i(N,w.props),v.ref=yh(p,N,w),v.return=p,p=v;break e}n(p,N);break}else e(p,N);N=N.sibling}w.type===fd?(v=Vc(w.props.children,p.mode,x,w.key),v.return=p,p=v):(x=dy(w.type,w.key,w.props,null,p.mode,x),x.ref=yh(p,v,w),x.return=p,p=x)}return s(p);case dd:e:{for(N=w.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(p,v.sibling),v=i(v,w.children||[]),v.return=p,p=v;break e}else{n(p,v);break}else e(p,v);v=v.sibling}v=Ob(w,p.mode,x),v.return=p,p=v}return s(p);case ml:return N=w._init,y(p,v,N(w._payload),x)}if(jh(w))return g(p,v,w,x);if(fh(w))return m(p,v,w,x);O0(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(p,v.sibling),v=i(v,w),v.return=p,p=v):(n(p,v),v=Fb(w,p.mode,x),v.return=p,p=v),s(p)):n(p,v)}return y}var Zd=D4(!0),U4=D4(!1),sv=Xl(null),av=null,bd=null,sC=null;function aC(){sC=bd=av=null}function lC(t){var e=sv.current;Cn(sv),t._currentValue=e}function CA(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Od(t,e){av=t,sC=bd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ti=!0),t.firstContext=null)}function No(t){var e=t._currentValue;if(sC!==t)if(t={context:t,memoizedValue:e,next:null},bd===null){if(av===null)throw Error(Ve(308));bd=t,av.dependencies={lanes:0,firstContext:t}}else bd=bd.next=t;return e}var Ic=null;function cC(t){Ic===null?Ic=[t]:Ic.push(t)}function z4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,cC(e)):(n.next=i.next,i.next=n),e.interleaved=n,Oa(t,r)}function Oa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gl=!1;function uC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ta(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Zt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Oa(t,n)}return i=r.interleaved,i===null?(e.next=e,cC(r)):(e.next=i.next,i.next=e),r.interleaved=e,Oa(t,n)}function oy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,QS(t,n)}}function K5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lv(t,e,n,r){var i=t.updateQueue;gl=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(f=e,h=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=Fn({},d,f);break e;case 2:gl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);nu|=s,t.lanes=s,t.memoizedState=d}}function Q5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ve(191,i));i.call(r)}}}var Um={},Gs=Xl(Um),Bp=Xl(Um),Lp=Xl(Um);function Rc(t){if(t===Um)throw Error(Ve(174));return t}function dC(t,e){switch(wn(Lp,e),wn(Bp,t),wn(Gs,Um),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sA(e,t)}Cn(Gs),wn(Gs,e)}function ef(){Cn(Gs),Cn(Bp),Cn(Lp)}function G4(t){Rc(Lp.current);var e=Rc(Gs.current),n=sA(e,t.type);e!==n&&(wn(Bp,t),wn(Gs,n))}function fC(t){Bp.current===t&&(Cn(Gs),Cn(Bp))}var Rn=Xl(0);function cv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mb=[];function hC(){for(var t=0;t<Mb.length;t++)Mb[t]._workInProgressVersionPrimary=null;Mb.length=0}var sy=Wa.ReactCurrentDispatcher,Ib=Wa.ReactCurrentBatchConfig,tu=0,Nn=null,ur=null,br=null,uv=!1,ip=!1,Dp=0,uV=0;function jr(){throw Error(Ve(321))}function pC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hs(t[n],e[n]))return!1;return!0}function mC(t,e,n,r,i,o){if(tu=o,Nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sy.current=t===null||t.memoizedState===null?pV:mV,t=n(r,i),ip){o=0;do{if(ip=!1,Dp=0,25<=o)throw Error(Ve(301));o+=1,br=ur=null,e.updateQueue=null,sy.current=gV,t=n(r,i)}while(ip)}if(sy.current=dv,e=ur!==null&&ur.next!==null,tu=0,br=ur=Nn=null,uv=!1,e)throw Error(Ve(300));return t}function gC(){var t=Dp!==0;return Dp=0,t}function Ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?Nn.memoizedState=br=t:br=br.next=t,br}function Fo(){if(ur===null){var t=Nn.alternate;t=t!==null?t.memoizedState:null}else t=ur.next;var e=br===null?Nn.memoizedState:br.next;if(e!==null)br=e,ur=t;else{if(t===null)throw Error(Ve(310));ur=t,t={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},br===null?Nn.memoizedState=br=t:br=br.next=t}return br}function Up(t,e){return typeof e=="function"?e(t):e}function Rb(t){var e=Fo(),n=e.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=t;var r=ur,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((tu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Nn.lanes|=u,nu|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,hs(r,e.memoizedState)||(Ti=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Nn.lanes|=o,nu|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pb(t){var e=Fo(),n=e.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);hs(o,e.memoizedState)||(Ti=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function H4(){}function W4(t,e){var n=Nn,r=Fo(),i=e(),o=!hs(r.memoizedState,i);if(o&&(r.memoizedState=i,Ti=!0),r=r.queue,yC(q4.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||br!==null&&br.memoizedState.tag&1){if(n.flags|=2048,zp(9,$4.bind(null,n,r,i,e),void 0,null),Sr===null)throw Error(Ve(349));tu&30||V4(n,e,i)}return i}function V4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Nn.updateQueue,e===null?(e={lastEffect:null,stores:null},Nn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $4(t,e,n,r){e.value=n,e.getSnapshot=r,K4(e)&&Q4(t)}function q4(t,e,n){return n(function(){K4(e)&&Q4(t)})}function K4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hs(t,n)}catch{return!0}}function Q4(t){var e=Oa(t,1);e!==null&&cs(e,t,1,-1)}function X5(t){var e=Ss();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Up,lastRenderedState:t},e.queue=t,t=t.dispatch=hV.bind(null,Nn,t),[e.memoizedState,t]}function zp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Nn.updateQueue,e===null?(e={lastEffect:null,stores:null},Nn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function X4(){return Fo().memoizedState}function ay(t,e,n,r){var i=Ss();Nn.flags|=t,i.memoizedState=zp(1|e,n,void 0,r===void 0?null:r)}function Mw(t,e,n,r){var i=Fo();r=r===void 0?null:r;var o=void 0;if(ur!==null){var s=ur.memoizedState;if(o=s.destroy,r!==null&&pC(r,s.deps)){i.memoizedState=zp(e,n,o,r);return}}Nn.flags|=t,i.memoizedState=zp(1|e,n,o,r)}function Y5(t,e){return ay(8390656,8,t,e)}function yC(t,e){return Mw(2048,8,t,e)}function Y4(t,e){return Mw(4,2,t,e)}function J4(t,e){return Mw(4,4,t,e)}function Z4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eO(t,e,n){return n=n!=null?n.concat([t]):null,Mw(4,4,Z4.bind(null,e,t),n)}function vC(){}function tO(t,e){var n=Fo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nO(t,e){var n=Fo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rO(t,e,n){return tu&21?(hs(n,e)||(n=l4(),Nn.lanes|=n,nu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ti=!0),t.memoizedState=n)}function dV(t,e){var n=fn;fn=n!==0&&4>n?n:4,t(!0);var r=Ib.transition;Ib.transition={};try{t(!1),e()}finally{fn=n,Ib.transition=r}}function iO(){return Fo().memoizedState}function fV(t,e,n){var r=kl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oO(t))sO(e,n);else if(n=z4(t,e,n,r),n!==null){var i=fi();cs(n,t,r,i),aO(n,e,r)}}function hV(t,e,n){var r=kl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oO(t))sO(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,hs(a,s)){var l=e.interleaved;l===null?(i.next=i,cC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=z4(t,e,i,r),n!==null&&(i=fi(),cs(n,t,r,i),aO(n,e,r))}}function oO(t){var e=t.alternate;return t===Nn||e!==null&&e===Nn}function sO(t,e){ip=uv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,QS(t,n)}}var dv={readContext:No,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},pV={readContext:No,useCallback:function(t,e){return Ss().memoizedState=[t,e===void 0?null:e],t},useContext:No,useEffect:Y5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ay(4194308,4,Z4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ay(4194308,4,t,e)},useInsertionEffect:function(t,e){return ay(4,2,t,e)},useMemo:function(t,e){var n=Ss();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ss();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fV.bind(null,Nn,t),[r.memoizedState,t]},useRef:function(t){var e=Ss();return t={current:t},e.memoizedState=t},useState:X5,useDebugValue:vC,useDeferredValue:function(t){return Ss().memoizedState=t},useTransition:function(){var t=X5(!1),e=t[0];return t=dV.bind(null,t[1]),Ss().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Nn,i=Ss();if(In){if(n===void 0)throw Error(Ve(407));n=n()}else{if(n=e(),Sr===null)throw Error(Ve(349));tu&30||V4(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Y5(q4.bind(null,r,o,t),[t]),r.flags|=2048,zp(9,$4.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ss(),e=Sr.identifierPrefix;if(In){var n=Ea,r=xa;n=(r&~(1<<32-ls(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mV={readContext:No,useCallback:tO,useContext:No,useEffect:yC,useImperativeHandle:eO,useInsertionEffect:Y4,useLayoutEffect:J4,useMemo:nO,useReducer:Rb,useRef:X4,useState:function(){return Rb(Up)},useDebugValue:vC,useDeferredValue:function(t){var e=Fo();return rO(e,ur.memoizedState,t)},useTransition:function(){var t=Rb(Up)[0],e=Fo().memoizedState;return[t,e]},useMutableSource:H4,useSyncExternalStore:W4,useId:iO,unstable_isNewReconciler:!1},gV={readContext:No,useCallback:tO,useContext:No,useEffect:yC,useImperativeHandle:eO,useInsertionEffect:Y4,useLayoutEffect:J4,useMemo:nO,useReducer:Pb,useRef:X4,useState:function(){return Pb(Up)},useDebugValue:vC,useDeferredValue:function(t){var e=Fo();return ur===null?e.memoizedState=t:rO(e,ur.memoizedState,t)},useTransition:function(){var t=Pb(Up)[0],e=Fo().memoizedState;return[t,e]},useMutableSource:H4,useSyncExternalStore:W4,useId:iO,unstable_isNewReconciler:!1};function qo(t,e){if(t&&t.defaultProps){e=Fn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function TA(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Iw={isMounted:function(t){return(t=t._reactInternals)?Cu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fi(),i=kl(t),o=Ta(r,i);o.payload=e,n!=null&&(o.callback=n),e=Rl(t,o,i),e!==null&&(cs(e,t,i,r),oy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fi(),i=kl(t),o=Ta(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Rl(t,o,i),e!==null&&(cs(e,t,i,r),oy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fi(),r=kl(t),i=Ta(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rl(t,i,r),e!==null&&(cs(e,t,r,n),oy(e,t,r))}};function J5(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!kp(n,r)||!kp(i,o):!0}function lO(t,e,n){var r=!1,i=jl,o=e.contextType;return typeof o=="object"&&o!==null?o=No(o):(i=Ni(e)?Zc:Jr.current,r=e.contextTypes,o=(r=r!=null)?Yd(t,i):jl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Iw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Z5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Iw.enqueueReplaceState(e,e.state,null)}function MA(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},uC(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=No(o):(o=Ni(e)?Zc:Jr.current,i.context=Yd(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(TA(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Iw.enqueueReplaceState(i,i.state,null),lv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tf(t,e){try{var n="",r=e;do n+=WH(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function kb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function IA(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yV=typeof WeakMap=="function"?WeakMap:Map;function cO(t,e,n){n=Ta(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hv||(hv=!0,UA=r),IA(t,e)},n}function uO(t,e,n){n=Ta(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){IA(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){IA(t,e),typeof r!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function eM(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=PV.bind(null,t,e,n),e.then(t,t))}function tM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nM(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ta(-1,1),e.tag=2,Rl(n,e,1))),n.lanes|=1),t)}var vV=Wa.ReactCurrentOwner,Ti=!1;function ti(t,e,n,r){e.child=t===null?U4(e,null,n,r):Zd(e,t.child,n,r)}function rM(t,e,n,r,i){n=n.render;var o=e.ref;return Od(e,i),r=mC(t,e,n,r,o,i),n=gC(),t!==null&&!Ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ba(t,e,i)):(In&&n&&rC(e),e.flags|=1,ti(t,e,r,i),e.child)}function iM(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!CC(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,dO(t,e,o,r,i)):(t=dy(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:kp,n(s,r)&&t.ref===e.ref)return Ba(t,e,i)}return e.flags|=1,t=Nl(o,r),t.ref=e.ref,t.return=e,e.child=t}function dO(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(kp(o,r)&&t.ref===e.ref)if(Ti=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ti=!0);else return e.lanes=t.lanes,Ba(t,e,i)}return RA(t,e,n,r,i)}function fO(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wn(Ed,Xi),Xi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,wn(Ed,Xi),Xi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,wn(Ed,Xi),Xi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,wn(Ed,Xi),Xi|=r;return ti(t,e,i,n),e.child}function hO(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function RA(t,e,n,r,i){var o=Ni(n)?Zc:Jr.current;return o=Yd(e,o),Od(e,i),n=mC(t,e,n,r,o,i),r=gC(),t!==null&&!Ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ba(t,e,i)):(In&&r&&rC(e),e.flags|=1,ti(t,e,n,i),e.child)}function oM(t,e,n,r,i){if(Ni(n)){var o=!0;rv(e)}else o=!1;if(Od(e,i),e.stateNode===null)ly(t,e),lO(e,n,r),MA(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=No(c):(c=Ni(n)?Zc:Jr.current,c=Yd(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Z5(e,s,r,c),gl=!1;var f=e.memoizedState;s.state=f,lv(e,r,s,i),l=e.memoizedState,a!==r||f!==l||ki.current||gl?(typeof u=="function"&&(TA(e,n,u,r),l=e.memoizedState),(a=gl||J5(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,j4(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:qo(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=No(l):(l=Ni(n)?Zc:Jr.current,l=Yd(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Z5(e,s,r,l),gl=!1,f=e.memoizedState,s.state=f,lv(e,r,s,i);var g=e.memoizedState;a!==d||f!==g||ki.current||gl?(typeof h=="function"&&(TA(e,n,h,r),g=e.memoizedState),(c=gl||J5(e,n,c,r,f,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return PA(t,e,n,r,o,i)}function PA(t,e,n,r,i,o){hO(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&W5(e,n,!1),Ba(t,e,o);r=e.stateNode,vV.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Zd(e,t.child,null,o),e.child=Zd(e,null,a,o)):ti(t,e,a,o),e.memoizedState=r.state,i&&W5(e,n,!0),e.child}function pO(t){var e=t.stateNode;e.pendingContext?H5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&H5(t,e.context,!1),dC(t,e.containerInfo)}function sM(t,e,n,r,i){return Jd(),oC(i),e.flags|=256,ti(t,e,n,r),e.child}var kA={dehydrated:null,treeContext:null,retryLane:0};function NA(t){return{baseLanes:t,cachePool:null,transitions:null}}function mO(t,e,n){var r=e.pendingProps,i=Rn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),wn(Rn,i&1),t===null)return SA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=kw(s,r,0,null),t=Vc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=NA(n),e.memoizedState=kA,t):wC(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return wV(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Nl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Nl(a,o):(o=Vc(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?NA(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=kA,r}return o=t.child,t=o.sibling,r=Nl(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wC(t,e){return e=kw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function B0(t,e,n,r){return r!==null&&oC(r),Zd(e,t.child,null,n),t=wC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wV(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=kb(Error(Ve(422))),B0(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=kw({mode:"visible",children:r.children},i,0,null),o=Vc(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Zd(e,t.child,null,s),e.child.memoizedState=NA(s),e.memoizedState=kA,o);if(!(e.mode&1))return B0(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Ve(419)),r=kb(o,r,void 0),B0(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ti||a){if(r=Sr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Oa(t,i),cs(r,t,i,-1))}return SC(),r=kb(Error(Ve(421))),B0(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kV.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,to=Il(i.nextSibling),io=e,In=!0,es=null,t!==null&&(Eo[Ao++]=xa,Eo[Ao++]=Ea,Eo[Ao++]=eu,xa=t.id,Ea=t.overflow,eu=e),e=wC(e,r.children),e.flags|=4096,e)}function aM(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),CA(t.return,e,n)}function Nb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function gO(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ti(t,e,r.children,n),r=Rn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&aM(t,n,e);else if(t.tag===19)aM(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(wn(Rn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Nb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Nb(e,!0,n,null,o);break;case"together":Nb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ly(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ba(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ve(153));if(e.child!==null){for(t=e.child,n=Nl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bV(t,e,n){switch(e.tag){case 3:pO(e),Jd();break;case 5:G4(e);break;case 1:Ni(e.type)&&rv(e);break;case 4:dC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;wn(sv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(wn(Rn,Rn.current&1),e.flags|=128,null):n&e.child.childLanes?mO(t,e,n):(wn(Rn,Rn.current&1),t=Ba(t,e,n),t!==null?t.sibling:null);wn(Rn,Rn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gO(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wn(Rn,Rn.current),r)break;return null;case 22:case 23:return e.lanes=0,fO(t,e,n)}return Ba(t,e,n)}var yO,FA,vO,wO;yO=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};FA=function(){};vO=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Rc(Gs.current);var o=null;switch(n){case"input":i=nA(t,i),r=nA(t,r),o=[];break;case"select":i=Fn({},i,{value:void 0}),r=Fn({},r,{value:void 0}),o=[];break;case"textarea":i=oA(t,i),r=oA(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tv)}aA(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sp.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i?.[c],r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Sp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&An("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};wO=function(t,e,n,r){n!==r&&(e.flags|=4)};function vh(t,e){if(!In)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xV(t,e,n){var r=e.pendingProps;switch(iC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(e),null;case 1:return Ni(e.type)&&nv(),Gr(e),null;case 3:return r=e.stateNode,ef(),Cn(ki),Cn(Jr),hC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(F0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,es!==null&&(GA(es),es=null))),FA(t,e),Gr(e),null;case 5:fC(e);var i=Rc(Lp.current);if(n=e.type,t!==null&&e.stateNode!=null)vO(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ve(166));return Gr(e),null}if(t=Rc(Gs.current),F0(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Fs]=e,r[Op]=o,t=(e.mode&1)!==0,n){case"dialog":An("cancel",r),An("close",r);break;case"iframe":case"object":case"embed":An("load",r);break;case"video":case"audio":for(i=0;i<Hh.length;i++)An(Hh[i],r);break;case"source":An("error",r);break;case"img":case"image":case"link":An("error",r),An("load",r);break;case"details":An("toggle",r);break;case"input":g5(r,o),An("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},An("invalid",r);break;case"textarea":v5(r,o),An("invalid",r)}aA(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&N0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&N0(r.textContent,a,t),i=["children",""+a]):Sp.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&An("scroll",r)}switch(n){case"input":S0(r),y5(r,o,!0);break;case"textarea":S0(r),w5(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=tv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qF(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Fs]=e,t[Op]=r,yO(t,e,!1,!1),e.stateNode=t;e:{switch(s=lA(n,r),n){case"dialog":An("cancel",t),An("close",t),i=r;break;case"iframe":case"object":case"embed":An("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hh.length;i++)An(Hh[i],t);i=r;break;case"source":An("error",t),i=r;break;case"img":case"image":case"link":An("error",t),An("load",t),i=r;break;case"details":An("toggle",t),i=r;break;case"input":g5(t,r),i=nA(t,r),An("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fn({},r,{value:void 0}),An("invalid",t);break;case"textarea":v5(t,r),i=oA(t,r),An("invalid",t);break;default:i=r}aA(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?XF(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&KF(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cp(t,l):typeof l=="number"&&Cp(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Sp.hasOwnProperty(o)?l!=null&&o==="onScroll"&&An("scroll",t):l!=null&&HS(t,o,l,s))}switch(n){case"input":S0(t),y5(t,r,!1);break;case"textarea":S0(t),w5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Pd(t,!!r.multiple,o,!1):r.defaultValue!=null&&Pd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gr(e),null;case 6:if(t&&e.stateNode!=null)wO(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ve(166));if(n=Rc(Lp.current),Rc(Gs.current),F0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fs]=e,(o=r.nodeValue!==n)&&(t=io,t!==null))switch(t.tag){case 3:N0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&N0(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fs]=e,e.stateNode=r}return Gr(e),null;case 13:if(Cn(Rn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(In&&to!==null&&e.mode&1&&!(e.flags&128))L4(),Jd(),e.flags|=98560,o=!1;else if(o=F0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Ve(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ve(317));o[Fs]=e}else Jd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gr(e),o=!1}else es!==null&&(GA(es),es=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Rn.current&1?fr===0&&(fr=3):SC())),e.updateQueue!==null&&(e.flags|=4),Gr(e),null);case 4:return ef(),FA(t,e),t===null&&Np(e.stateNode.containerInfo),Gr(e),null;case 10:return lC(e.type._context),Gr(e),null;case 17:return Ni(e.type)&&nv(),Gr(e),null;case 19:if(Cn(Rn),o=e.memoizedState,o===null)return Gr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)vh(o,!1);else{if(fr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=cv(t),s!==null){for(e.flags|=128,vh(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return wn(Rn,Rn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Kn()>nf&&(e.flags|=128,r=!0,vh(o,!1),e.lanes=4194304)}else{if(!r)if(t=cv(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!In)return Gr(e),null}else 2*Kn()-o.renderingStartTime>nf&&n!==1073741824&&(e.flags|=128,r=!0,vh(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Kn(),e.sibling=null,n=Rn.current,wn(Rn,r?n&1|2:n&1),e):(Gr(e),null);case 22:case 23:return _C(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xi&1073741824&&(Gr(e),e.subtreeFlags&6&&(e.flags|=8192)):Gr(e),null;case 24:return null;case 25:return null}throw Error(Ve(156,e.tag))}function EV(t,e){switch(iC(e),e.tag){case 1:return Ni(e.type)&&nv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ef(),Cn(ki),Cn(Jr),hC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fC(e),null;case 13:if(Cn(Rn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ve(340));Jd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Cn(Rn),null;case 4:return ef(),null;case 10:return lC(e.type._context),null;case 22:case 23:return _C(),null;case 24:return null;default:return null}}var L0=!1,qr=!1,AV=typeof WeakSet=="function"?WeakSet:Set,xt=null;function xd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Un(t,e,r)}else n.current=null}function OA(t,e,n){try{n()}catch(r){Un(t,e,r)}}var lM=!1;function _V(t,e){if(vA=Jy,t=_4(),nC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wA={focusedElem:t,selectionRange:n},Jy=!1,xt=e;xt!==null;)if(e=xt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xt=t;else for(;xt!==null;){e=xt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,p=e.stateNode,v=p.getSnapshotBeforeUpdate(e.elementType===e.type?m:qo(e.type,m),y);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(x){Un(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,xt=t;break}xt=e.return}return g=lM,lM=!1,g}function op(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&OA(e,n,o)}i=i.next}while(i!==r)}}function Rw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function BA(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bO(t){var e=t.alternate;e!==null&&(t.alternate=null,bO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fs],delete e[Op],delete e[EA],delete e[sV],delete e[aV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xO(t){return t.tag===5||t.tag===3||t.tag===4}function cM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function LA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tv));else if(r!==4&&(t=t.child,t!==null))for(LA(t,e,n),t=t.sibling;t!==null;)LA(t,e,n),t=t.sibling}function DA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(DA(t,e,n),t=t.sibling;t!==null;)DA(t,e,n),t=t.sibling}var Pr=null,Jo=!1;function Ya(t,e,n){for(n=n.child;n!==null;)EO(t,e,n),n=n.sibling}function EO(t,e,n){if(js&&typeof js.onCommitFiberUnmount=="function")try{js.onCommitFiberUnmount(Ew,n)}catch{}switch(n.tag){case 5:qr||xd(n,e);case 6:var r=Pr,i=Jo;Pr=null,Ya(t,e,n),Pr=r,Jo=i,Pr!==null&&(Jo?(t=Pr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pr.removeChild(n.stateNode));break;case 18:Pr!==null&&(Jo?(t=Pr,n=n.stateNode,t.nodeType===8?Cb(t.parentNode,n):t.nodeType===1&&Cb(t,n),Rp(t)):Cb(Pr,n.stateNode));break;case 4:r=Pr,i=Jo,Pr=n.stateNode.containerInfo,Jo=!0,Ya(t,e,n),Pr=r,Jo=i;break;case 0:case 11:case 14:case 15:if(!qr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&OA(n,e,s),i=i.next}while(i!==r)}Ya(t,e,n);break;case 1:if(!qr&&(xd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Un(n,e,a)}Ya(t,e,n);break;case 21:Ya(t,e,n);break;case 22:n.mode&1?(qr=(r=qr)||n.memoizedState!==null,Ya(t,e,n),qr=r):Ya(t,e,n);break;default:Ya(t,e,n)}}function uM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AV),e.forEach(function(r){var i=NV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ho(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Pr=a.stateNode,Jo=!1;break e;case 3:Pr=a.stateNode.containerInfo,Jo=!0;break e;case 4:Pr=a.stateNode.containerInfo,Jo=!0;break e}a=a.return}if(Pr===null)throw Error(Ve(160));EO(o,s,i),Pr=null,Jo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Un(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AO(e,t),e=e.sibling}function AO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ho(e,t),bs(t),r&4){try{op(3,t,t.return),Rw(3,t)}catch(m){Un(t,t.return,m)}try{op(5,t,t.return)}catch(m){Un(t,t.return,m)}}break;case 1:Ho(e,t),bs(t),r&512&&n!==null&&xd(n,n.return);break;case 5:if(Ho(e,t),bs(t),r&512&&n!==null&&xd(n,n.return),t.flags&32){var i=t.stateNode;try{Cp(i,"")}catch(m){Un(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&VF(i,o),lA(a,s);var c=lA(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?XF(i,d):u==="dangerouslySetInnerHTML"?KF(i,d):u==="children"?Cp(i,d):HS(i,u,d,c)}switch(a){case"input":rA(i,o);break;case"textarea":$F(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Pd(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Pd(i,!!o.multiple,o.defaultValue,!0):Pd(i,!!o.multiple,o.multiple?[]:"",!1))}i[Op]=o}catch(m){Un(t,t.return,m)}}break;case 6:if(Ho(e,t),bs(t),r&4){if(t.stateNode===null)throw Error(Ve(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){Un(t,t.return,m)}}break;case 3:if(Ho(e,t),bs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rp(e.containerInfo)}catch(m){Un(t,t.return,m)}break;case 4:Ho(e,t),bs(t);break;case 13:Ho(e,t),bs(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(EC=Kn())),r&4&&uM(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(qr=(c=qr)||u,Ho(e,t),qr=c):Ho(e,t),bs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(xt=t,u=t.child;u!==null;){for(d=xt=u;xt!==null;){switch(f=xt,h=f.child,f.tag){case 0:case 11:case 14:case 15:op(4,f,f.return);break;case 1:xd(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Un(r,n,m)}}break;case 5:xd(f,f.return);break;case 22:if(f.memoizedState!==null){fM(d);continue}}h!==null?(h.return=f,xt=h):fM(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=QF("display",s))}catch(m){Un(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Un(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ho(e,t),bs(t),r&4&&uM(t);break;case 21:break;default:Ho(e,t),bs(t)}}function bs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xO(n)){var r=n;break e}n=n.return}throw Error(Ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cp(i,""),r.flags&=-33);var o=cM(t);DA(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=cM(t);LA(t,a,s);break;default:throw Error(Ve(161))}}catch(l){Un(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SV(t,e,n){xt=t,_O(t)}function _O(t,e,n){for(var r=(t.mode&1)!==0;xt!==null;){var i=xt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||L0;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||qr;a=L0;var c=qr;if(L0=s,(qr=l)&&!c)for(xt=i;xt!==null;)s=xt,l=s.child,s.tag===22&&s.memoizedState!==null?hM(i):l!==null?(l.return=s,xt=l):hM(i);for(;o!==null;)xt=o,_O(o),o=o.sibling;xt=i,L0=a,qr=c}dM(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,xt=o):dM(t)}}function dM(t){for(;xt!==null;){var e=xt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qr||Rw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Q5(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Q5(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Rp(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}qr||e.flags&512&&BA(e)}catch(f){Un(e,e.return,f)}}if(e===t){xt=null;break}if(n=e.sibling,n!==null){n.return=e.return,xt=n;break}xt=e.return}}function fM(t){for(;xt!==null;){var e=xt;if(e===t){xt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xt=n;break}xt=e.return}}function hM(t){for(;xt!==null;){var e=xt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rw(4,e)}catch(l){Un(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Un(e,i,l)}}var o=e.return;try{BA(e)}catch(l){Un(e,o,l)}break;case 5:var s=e.return;try{BA(e)}catch(l){Un(e,s,l)}}}catch(l){Un(e,e.return,l)}if(e===t){xt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xt=a;break}xt=e.return}}var CV=Math.ceil,fv=Wa.ReactCurrentDispatcher,bC=Wa.ReactCurrentOwner,ko=Wa.ReactCurrentBatchConfig,Zt=0,Sr=null,nr=null,Ur=0,Xi=0,Ed=Xl(0),fr=0,jp=null,nu=0,Pw=0,xC=0,sp=null,_i=null,EC=0,nf=1/0,la=null,hv=!1,UA=null,Pl=null,D0=!1,El=null,pv=0,ap=0,zA=null,cy=-1,uy=0;function fi(){return Zt&6?Kn():cy!==-1?cy:cy=Kn()}function kl(t){return t.mode&1?Zt&2&&Ur!==0?Ur&-Ur:cV.transition!==null?(uy===0&&(uy=l4()),uy):(t=fn,t!==0||(t=window.event,t=t===void 0?16:m4(t.type)),t):1}function cs(t,e,n,r){if(50<ap)throw ap=0,zA=null,Error(Ve(185));Bm(t,n,r),(!(Zt&2)||t!==Sr)&&(t===Sr&&(!(Zt&2)&&(Pw|=n),fr===4&&wl(t,Ur)),Fi(t,r),n===1&&Zt===0&&!(e.mode&1)&&(nf=Kn()+500,Tw&&Yl()))}function Fi(t,e){var n=t.callbackNode;cW(t,e);var r=Yy(t,t===Sr?Ur:0);if(r===0)n!==null&&E5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&E5(n),e===1)t.tag===0?lV(pM.bind(null,t)):F4(pM.bind(null,t)),iV(function(){!(Zt&6)&&Yl()}),n=null;else{switch(c4(r)){case 1:n=KS;break;case 4:n=s4;break;case 16:n=Xy;break;case 536870912:n=a4;break;default:n=Xy}n=kO(n,SO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function SO(t,e){if(cy=-1,uy=0,Zt&6)throw Error(Ve(327));var n=t.callbackNode;if(Bd()&&t.callbackNode!==n)return null;var r=Yy(t,t===Sr?Ur:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mv(t,r);else{e=r;var i=Zt;Zt|=2;var o=TO();(Sr!==t||Ur!==e)&&(la=null,nf=Kn()+500,Wc(t,e));do try{IV();break}catch(a){CO(t,a)}while(!0);aC(),fv.current=o,Zt=i,nr!==null?e=0:(Sr=null,Ur=0,e=fr)}if(e!==0){if(e===2&&(i=hA(t),i!==0&&(r=i,e=jA(t,i))),e===1)throw n=jp,Wc(t,0),wl(t,r),Fi(t,Kn()),n;if(e===6)wl(t,r);else{if(i=t.current.alternate,!(r&30)&&!TV(i)&&(e=mv(t,r),e===2&&(o=hA(t),o!==0&&(r=o,e=jA(t,o))),e===1))throw n=jp,Wc(t,0),wl(t,r),Fi(t,Kn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ve(345));case 2:pc(t,_i,la);break;case 3:if(wl(t,r),(r&130023424)===r&&(e=EC+500-Kn(),10<e)){if(Yy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){fi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xA(pc.bind(null,t,_i,la),e);break}pc(t,_i,la);break;case 4:if(wl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ls(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Kn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CV(r/1960))-r,10<r){t.timeoutHandle=xA(pc.bind(null,t,_i,la),r);break}pc(t,_i,la);break;case 5:pc(t,_i,la);break;default:throw Error(Ve(329))}}}return Fi(t,Kn()),t.callbackNode===n?SO.bind(null,t):null}function jA(t,e){var n=sp;return t.current.memoizedState.isDehydrated&&(Wc(t,e).flags|=256),t=mv(t,e),t!==2&&(e=_i,_i=n,e!==null&&GA(e)),t}function GA(t){_i===null?_i=t:_i.push.apply(_i,t)}function TV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!hs(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wl(t,e){for(e&=~xC,e&=~Pw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ls(e),r=1<<n;t[n]=-1,e&=~r}}function pM(t){if(Zt&6)throw Error(Ve(327));Bd();var e=Yy(t,0);if(!(e&1))return Fi(t,Kn()),null;var n=mv(t,e);if(t.tag!==0&&n===2){var r=hA(t);r!==0&&(e=r,n=jA(t,r))}if(n===1)throw n=jp,Wc(t,0),wl(t,e),Fi(t,Kn()),n;if(n===6)throw Error(Ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pc(t,_i,la),Fi(t,Kn()),null}function AC(t,e){var n=Zt;Zt|=1;try{return t(e)}finally{Zt=n,Zt===0&&(nf=Kn()+500,Tw&&Yl())}}function ru(t){El!==null&&El.tag===0&&!(Zt&6)&&Bd();var e=Zt;Zt|=1;var n=ko.transition,r=fn;try{if(ko.transition=null,fn=1,t)return t()}finally{fn=r,ko.transition=n,Zt=e,!(Zt&6)&&Yl()}}function _C(){Xi=Ed.current,Cn(Ed)}function Wc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rV(n)),nr!==null)for(n=nr.return;n!==null;){var r=n;switch(iC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nv();break;case 3:ef(),Cn(ki),Cn(Jr),hC();break;case 5:fC(r);break;case 4:ef();break;case 13:Cn(Rn);break;case 19:Cn(Rn);break;case 10:lC(r.type._context);break;case 22:case 23:_C()}n=n.return}if(Sr=t,nr=t=Nl(t.current,null),Ur=Xi=e,fr=0,jp=null,xC=Pw=nu=0,_i=sp=null,Ic!==null){for(e=0;e<Ic.length;e++)if(n=Ic[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ic=null}return t}function CO(t,e){do{var n=nr;try{if(aC(),sy.current=dv,uv){for(var r=Nn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}uv=!1}if(tu=0,br=ur=Nn=null,ip=!1,Dp=0,bC.current=null,n===null||n.return===null){fr=1,jp=e,nr=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ur,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=tM(s);if(h!==null){h.flags&=-257,nM(h,s,a,o,e),h.mode&1&&eM(o,c,e),e=h,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){eM(o,c,e),SC();break e}l=Error(Ve(426))}}else if(In&&a.mode&1){var y=tM(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),nM(y,s,a,o,e),oC(tf(l,a));break e}}o=l=tf(l,a),fr!==4&&(fr=2),sp===null?sp=[o]:sp.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=cO(o,l,e);K5(o,p);break e;case 1:a=l;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Pl===null||!Pl.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=uO(o,a,e);K5(o,x);break e}}o=o.return}while(o!==null)}IO(n)}catch(T){e=T,nr===n&&n!==null&&(nr=n=n.return);continue}break}while(!0)}function TO(){var t=fv.current;return fv.current=dv,t===null?dv:t}function SC(){(fr===0||fr===3||fr===2)&&(fr=4),Sr===null||!(nu&268435455)&&!(Pw&268435455)||wl(Sr,Ur)}function mv(t,e){var n=Zt;Zt|=2;var r=TO();(Sr!==t||Ur!==e)&&(la=null,Wc(t,e));do try{MV();break}catch(i){CO(t,i)}while(!0);if(aC(),Zt=n,fv.current=r,nr!==null)throw Error(Ve(261));return Sr=null,Ur=0,fr}function MV(){for(;nr!==null;)MO(nr)}function IV(){for(;nr!==null&&!eW();)MO(nr)}function MO(t){var e=PO(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,e===null?IO(t):nr=e,bC.current=null}function IO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=EV(n,e),n!==null){n.flags&=32767,nr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fr=6,nr=null;return}}else if(n=xV(n,e,Xi),n!==null){nr=n;return}if(e=e.sibling,e!==null){nr=e;return}nr=e=t}while(e!==null);fr===0&&(fr=5)}function pc(t,e,n){var r=fn,i=ko.transition;try{ko.transition=null,fn=1,RV(t,e,n,r)}finally{ko.transition=i,fn=r}return null}function RV(t,e,n,r){do Bd();while(El!==null);if(Zt&6)throw Error(Ve(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ve(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(uW(t,o),t===Sr&&(nr=Sr=null,Ur=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||D0||(D0=!0,kO(Xy,function(){return Bd(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ko.transition,ko.transition=null;var s=fn;fn=1;var a=Zt;Zt|=4,bC.current=null,_V(t,n),AO(n,t),XW(wA),Jy=!!vA,wA=vA=null,t.current=n,SV(n),tW(),Zt=a,fn=s,ko.transition=o}else t.current=n;if(D0&&(D0=!1,El=t,pv=i),o=t.pendingLanes,o===0&&(Pl=null),iW(n.stateNode),Fi(t,Kn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hv)throw hv=!1,t=UA,UA=null,t;return pv&1&&t.tag!==0&&Bd(),o=t.pendingLanes,o&1?t===zA?ap++:(ap=0,zA=t):ap=0,Yl(),null}function Bd(){if(El!==null){var t=c4(pv),e=ko.transition,n=fn;try{if(ko.transition=null,fn=16>t?16:t,El===null)var r=!1;else{if(t=El,El=null,pv=0,Zt&6)throw Error(Ve(331));var i=Zt;for(Zt|=4,xt=t.current;xt!==null;){var o=xt,s=o.child;if(xt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(xt=c;xt!==null;){var u=xt;switch(u.tag){case 0:case 11:case 15:op(8,u,o)}var d=u.child;if(d!==null)d.return=u,xt=d;else for(;xt!==null;){u=xt;var f=u.sibling,h=u.return;if(bO(u),u===c){xt=null;break}if(f!==null){f.return=h,xt=f;break}xt=h}}}var g=o.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}xt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,xt=s;else e:for(;xt!==null;){if(o=xt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:op(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,xt=p;break e}xt=o.return}}var v=t.current;for(xt=v;xt!==null;){s=xt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,xt=w;else e:for(s=v;xt!==null;){if(a=xt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rw(9,a)}}catch(T){Un(a,a.return,T)}if(a===s){xt=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,xt=x;break e}xt=a.return}}if(Zt=i,Yl(),js&&typeof js.onPostCommitFiberRoot=="function")try{js.onPostCommitFiberRoot(Ew,t)}catch{}r=!0}return r}finally{fn=n,ko.transition=e}}return!1}function mM(t,e,n){e=tf(n,e),e=cO(t,e,1),t=Rl(t,e,1),e=fi(),t!==null&&(Bm(t,1,e),Fi(t,e))}function Un(t,e,n){if(t.tag===3)mM(t,t,n);else for(;e!==null;){if(e.tag===3){mM(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pl===null||!Pl.has(r))){t=tf(n,t),t=uO(e,t,1),e=Rl(e,t,1),t=fi(),e!==null&&(Bm(e,1,t),Fi(e,t));break}}e=e.return}}function PV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fi(),t.pingedLanes|=t.suspendedLanes&n,Sr===t&&(Ur&n)===n&&(fr===4||fr===3&&(Ur&130023424)===Ur&&500>Kn()-EC?Wc(t,0):xC|=n),Fi(t,e)}function RO(t,e){e===0&&(t.mode&1?(e=M0,M0<<=1,!(M0&130023424)&&(M0=4194304)):e=1);var n=fi();t=Oa(t,e),t!==null&&(Bm(t,e,n),Fi(t,n))}function kV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RO(t,n)}function NV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ve(314))}r!==null&&r.delete(e),RO(t,n)}var PO;PO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ki.current)Ti=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ti=!1,bV(t,e,n);Ti=!!(t.flags&131072)}else Ti=!1,In&&e.flags&1048576&&O4(e,ov,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ly(t,e),t=e.pendingProps;var i=Yd(e,Jr.current);Od(e,n),i=mC(null,e,r,t,i,n);var o=gC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ni(r)?(o=!0,rv(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uC(e),i.updater=Iw,e.stateNode=i,i._reactInternals=e,MA(e,r,t,n),e=PA(null,e,r,!0,o,n)):(e.tag=0,In&&o&&rC(e),ti(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ly(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=OV(r),t=qo(r,t),i){case 0:e=RA(null,e,r,t,n);break e;case 1:e=oM(null,e,r,t,n);break e;case 11:e=rM(null,e,r,t,n);break e;case 14:e=iM(null,e,r,qo(r.type,t),n);break e}throw Error(Ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qo(r,i),RA(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qo(r,i),oM(t,e,r,i,n);case 3:e:{if(pO(e),t===null)throw Error(Ve(387));r=e.pendingProps,o=e.memoizedState,i=o.element,j4(t,e),lv(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=tf(Error(Ve(423)),e),e=sM(t,e,r,n,i);break e}else if(r!==i){i=tf(Error(Ve(424)),e),e=sM(t,e,r,n,i);break e}else for(to=Il(e.stateNode.containerInfo.firstChild),io=e,In=!0,es=null,n=U4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jd(),r===i){e=Ba(t,e,n);break e}ti(t,e,r,n)}e=e.child}return e;case 5:return G4(e),t===null&&SA(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,bA(r,i)?s=null:o!==null&&bA(r,o)&&(e.flags|=32),hO(t,e),ti(t,e,s,n),e.child;case 6:return t===null&&SA(e),null;case 13:return mO(t,e,n);case 4:return dC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zd(e,null,r,n):ti(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qo(r,i),rM(t,e,r,i,n);case 7:return ti(t,e,e.pendingProps,n),e.child;case 8:return ti(t,e,e.pendingProps.children,n),e.child;case 12:return ti(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,wn(sv,r._currentValue),r._currentValue=s,o!==null)if(hs(o.value,s)){if(o.children===i.children&&!ki.current){e=Ba(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ta(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),CA(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Ve(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),CA(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ti(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Od(e,n),i=No(i),r=r(i),e.flags|=1,ti(t,e,r,n),e.child;case 14:return r=e.type,i=qo(r,e.pendingProps),i=qo(r.type,i),iM(t,e,r,i,n);case 15:return dO(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qo(r,i),ly(t,e),e.tag=1,Ni(r)?(t=!0,rv(e)):t=!1,Od(e,n),lO(e,r,i),MA(e,r,i,n),PA(null,e,r,!0,t,n);case 19:return gO(t,e,n);case 22:return fO(t,e,n)}throw Error(Ve(156,e.tag))};function kO(t,e){return o4(t,e)}function FV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ro(t,e,n,r){return new FV(t,e,n,r)}function CC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OV(t){if(typeof t=="function")return CC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===VS)return 11;if(t===$S)return 14}return 2}function Nl(t,e){var n=t.alternate;return n===null?(n=Ro(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dy(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")CC(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case fd:return Vc(n.children,i,o,e);case WS:s=8,i|=8;break;case JE:return t=Ro(12,n,e,i|2),t.elementType=JE,t.lanes=o,t;case ZE:return t=Ro(13,n,e,i),t.elementType=ZE,t.lanes=o,t;case eA:return t=Ro(19,n,e,i),t.elementType=eA,t.lanes=o,t;case GF:return kw(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zF:s=10;break e;case jF:s=9;break e;case VS:s=11;break e;case $S:s=14;break e;case ml:s=16,r=null;break e}throw Error(Ve(130,t==null?t:typeof t,""))}return e=Ro(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Vc(t,e,n,r){return t=Ro(7,t,r,e),t.lanes=n,t}function kw(t,e,n,r){return t=Ro(22,t,r,e),t.elementType=GF,t.lanes=n,t.stateNode={isHidden:!1},t}function Fb(t,e,n){return t=Ro(6,t,null,e),t.lanes=n,t}function Ob(t,e,n){return e=Ro(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mb(0),this.expirationTimes=mb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function TC(t,e,n,r,i,o,s,a,l){return t=new BV(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ro(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uC(o),t}function LV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function NO(t){if(!t)return jl;t=t._reactInternals;e:{if(Cu(t)!==t||t.tag!==1)throw Error(Ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ni(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ve(171))}if(t.tag===1){var n=t.type;if(Ni(n))return N4(t,n,e)}return e}function FO(t,e,n,r,i,o,s,a,l){return t=TC(n,r,!0,t,i,o,s,a,l),t.context=NO(null),n=t.current,r=fi(),i=kl(n),o=Ta(r,i),o.callback=e??null,Rl(n,o,i),t.current.lanes=i,Bm(t,i,r),Fi(t,r),t}function Nw(t,e,n,r){var i=e.current,o=fi(),s=kl(i);return n=NO(n),e.context===null?e.context=n:e.pendingContext=n,e=Ta(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rl(i,e,s),t!==null&&(cs(t,i,s,o),oy(t,i,s)),s}function gv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function MC(t,e){gM(t,e),(t=t.alternate)&&gM(t,e)}function DV(){return null}var OO=typeof reportError=="function"?reportError:function(t){console.error(t)};function IC(t){this._internalRoot=t}Fw.prototype.render=IC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ve(409));Nw(t,e,null,null)};Fw.prototype.unmount=IC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ru(function(){Nw(null,t,null,null)}),e[Fa]=null}};function Fw(t){this._internalRoot=t}Fw.prototype.unstable_scheduleHydration=function(t){if(t){var e=f4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vl.length&&e!==0&&e<vl[n].priority;n++);vl.splice(n,0,t),n===0&&p4(t)}};function RC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ow(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yM(){}function UV(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=gv(s);o.call(c)}}var s=FO(e,r,t,0,null,!1,!1,"",yM);return t._reactRootContainer=s,t[Fa]=s.current,Np(t.nodeType===8?t.parentNode:t),ru(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=gv(l);a.call(c)}}var l=TC(t,0,!1,null,null,!1,!1,"",yM);return t._reactRootContainer=l,t[Fa]=l.current,Np(t.nodeType===8?t.parentNode:t),ru(function(){Nw(e,l,n,r)}),l}function Bw(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=gv(s);a.call(l)}}Nw(e,s,t,i)}else s=UV(n,e,t,i,r);return gv(s)}u4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gh(e.pendingLanes);n!==0&&(QS(e,n|1),Fi(e,Kn()),!(Zt&6)&&(nf=Kn()+500,Yl()))}break;case 13:ru(function(){var r=Oa(t,1);if(r!==null){var i=fi();cs(r,t,1,i)}}),MC(t,1)}};XS=function(t){if(t.tag===13){var e=Oa(t,134217728);if(e!==null){var n=fi();cs(e,t,134217728,n)}MC(t,134217728)}};d4=function(t){if(t.tag===13){var e=kl(t),n=Oa(t,e);if(n!==null){var r=fi();cs(n,t,e,r)}MC(t,e)}};f4=function(){return fn};h4=function(t,e){var n=fn;try{return fn=t,e()}finally{fn=n}};uA=function(t,e,n){switch(e){case"input":if(rA(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cw(r);if(!i)throw Error(Ve(90));WF(r),rA(r,i)}}}break;case"textarea":$F(t,n);break;case"select":e=n.value,e!=null&&Pd(t,!!n.multiple,e,!1)}};ZF=AC;e4=ru;var zV={usingClientEntryPoint:!1,Events:[Dm,gd,Cw,YF,JF,AC]},wh={findFiberByHostInstance:Mc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jV={bundleType:wh.bundleType,version:wh.version,rendererPackageName:wh.rendererPackageName,rendererConfig:wh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=r4(t),t===null?null:t.stateNode},findFiberByHostInstance:wh.findFiberByHostInstance||DV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var U0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!U0.isDisabled&&U0.supportsFiber)try{Ew=U0.inject(jV),js=U0}catch{}}ao.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zV;ao.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RC(e))throw Error(Ve(200));return LV(t,e,null,n)};ao.createRoot=function(t,e){if(!RC(t))throw Error(Ve(299));var n=!1,r="",i=OO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=TC(t,1,!1,null,null,n,!1,r,i),t[Fa]=e.current,Np(t.nodeType===8?t.parentNode:t),new IC(e)};ao.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ve(188)):(t=Object.keys(t).join(","),Error(Ve(268,t)));return t=r4(e),t=t===null?null:t.stateNode,t};ao.flushSync=function(t){return ru(t)};ao.hydrate=function(t,e,n){if(!Ow(e))throw Error(Ve(200));return Bw(null,t,e,!0,n)};ao.hydrateRoot=function(t,e,n){if(!RC(t))throw Error(Ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=OO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=FO(e,null,t,1,n??null,i,!1,o,s),t[Fa]=e.current,Np(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Fw(e)};ao.render=function(t,e,n){if(!Ow(e))throw Error(Ve(200));return Bw(null,t,e,!1,n)};ao.unmountComponentAtNode=function(t){if(!Ow(t))throw Error(Ve(40));return t._reactRootContainer?(ru(function(){Bw(null,null,t,!1,function(){t._reactRootContainer=null,t[Fa]=null})}),!0):!1};ao.unstable_batchedUpdates=AC;ao.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ow(n))throw Error(Ve(200));if(t==null||t._reactInternals===void 0)throw Error(Ve(38));return Bw(t,e,n,!1,r)};ao.version="18.3.1-next-f1338f8080-20240426";function BO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BO)}catch(t){console.error(t)}}BO(),BF.exports=ao;var Lw=BF.exports;const LO=km(Lw),GV=eF({__proto__:null,default:LO},[Lw]);var vM=Lw;XE.createRoot=vM.createRoot,XE.hydrateRoot=vM.hydrateRoot;const DO="2.31.2";let Bb={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${DO}`},Fe=class HA extends Error{constructor(e,n={}){const r=n.cause instanceof HA?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof HA&&n.cause.docsPath||n.docsPath,o=Bb.getDocsUrl?.({...n,docsPath:i}),s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...Bb.version?[`Version: ${Bb.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=DO}walk(e){return UO(this,e)}};function UO(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?UO(t.cause,e):e?null:t}let zO=class extends Fe{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class HV extends Fe{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class WV extends Fe{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let VV=class extends Fe{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}},jO=class extends Fe{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},GO=class extends Fe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class wM extends Fe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function zf(t,{dir:e,size:n=32}={}){return typeof t=="string"?Fl(t,{dir:e,size:n}):$V(t,{dir:e,size:n})}function Fl(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new GO({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function $V(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new GO({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const o=e==="right";r[o?i:n-i-1]=t[o?i:t.length-i-1]}return r}function Vs(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function kn(t){return Vs(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Oi(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const qV=new TextEncoder;function jf(t,e={}){return typeof t=="number"||typeof t=="bigint"?QV(t,e):typeof t=="boolean"?KV(t,e):Vs(t)?Oo(t,e):$c(t,e)}function KV(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(jo(n,{size:e.size}),zf(n,{size:e.size})):n}const Js={zero:48,nine:57,A:65,F:70,a:97,f:102};function bM(t){if(t>=Js.zero&&t<=Js.nine)return t-Js.zero;if(t>=Js.A&&t<=Js.F)return t-(Js.A-10);if(t>=Js.a&&t<=Js.f)return t-(Js.a-10)}function Oo(t,e={}){let n=t;e.size&&(jo(n,{size:e.size}),n=zf(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,o=new Uint8Array(i);for(let s=0,a=0;s<i;s++){const l=bM(r.charCodeAt(a++)),c=bM(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new Fe(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[s]=l*16+c}return o}function QV(t,e){const n=je(t,e);return Oo(n)}function $c(t,e={}){const n=qV.encode(t);return typeof e.size=="number"?(jo(n,{size:e.size}),zf(n,{dir:"right",size:e.size})):n}function jo(t,{size:e}){if(kn(t)>e)throw new VV({givenSize:kn(t),maxSize:e})}function Ar(t,e={}){const{signed:n}=e;e.size&&jo(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function XV(t,e={}){let n=t;if(e.size&&(jo(n,{size:e.size}),n=Oi(n)),Oi(n)==="0x00")return!1;if(Oi(n)==="0x01")return!0;throw new WV(n)}function Bo(t,e={}){return Number(Ar(t,e))}function YV(t,e={}){let n=Oo(t);return e.size&&(jo(n,{size:e.size}),n=Oi(n,{dir:"right"})),new TextDecoder().decode(n)}const JV=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function hi(t,e={}){return typeof t=="number"||typeof t=="bigint"?je(t,e):typeof t=="string"?rf(t,e):typeof t=="boolean"?HO(t,e):or(t,e)}function HO(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(jo(n,{size:e.size}),zf(n,{size:e.size})):n}function or(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=JV[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(jo(r,{size:e.size}),zf(r,{dir:"right",size:e.size})):r}function je(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const l=typeof t=="bigint"?"n":"";throw new zO({max:o?`${o}${l}`:void 0,min:`${s}${l}`,signed:n,size:r,value:`${t}${l}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?zf(a,{size:r}):a}const ZV=new TextEncoder;function rf(t,e={}){const n=ZV.encode(t);return or(n,e)}async function e$(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:o,blockExplorers:s}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:je(n),chainName:r,nativeCurrency:i,rpcUrls:o.default.http,blockExplorerUrls:s?Object.values(s).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function ps(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new h$(t.type);return`${t.name}(${Dw(t.inputs,{includeName:e})})`}function Dw(t,{includeName:e=!1}={}){return t?t.map(n=>t$(n,{includeName:e})).join(e?", ":","):""}function t$(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Dw(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class n$ extends Fe{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class xM extends Fe{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class WO extends Fe{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Dw(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class zm extends Fe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class r$ extends Fe{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class i$ extends Fe{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${kn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class o$ extends Fe{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class s$ extends Fe{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class EM extends Fe{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class VO extends Fe{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class a$ extends Fe{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class $O extends Fe{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class AM extends Fe{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class of extends Fe{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class qO extends Fe{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class l$ extends Fe{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class c$ extends Fe{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${ps(e.abiItem)}\`, and`,`\`${n.type}\` in \`${ps(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let u$=class extends Fe{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Gp extends Fe{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Dw(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class Uw extends Fe{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ps(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class d$ extends Fe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class f$ extends Fe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let KO=class extends Fe{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class h$ extends Fe{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function $s(t){return typeof t[0]=="string"?gs(t):p$(t)}function p$(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function gs(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}let gi=class extends Fe{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},zw=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const z0=BigInt(2**32-1),_M=BigInt(32);function m$(t,e=!1){return e?{h:Number(t&z0),l:Number(t>>_M&z0)}:{h:Number(t>>_M&z0)|0,l:Number(t&z0)|0}}function g$(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=m$(t[o],e);[r[o],i[o]]=[s,a]}return[r,i]}const y$=(t,e,n)=>t<<n|e>>>32-n,v$=(t,e,n)=>e<<n|t>>>32-n,w$=(t,e,n)=>e<<n-32|t>>>64-n,b$=(t,e,n)=>t<<n-32|e>>>64-n,zu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function PC(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Hp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ms(t,...e){if(!PC(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function x$(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Hp(t.outputLen),Hp(t.blockLen)}function sf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function QO(t,e){ms(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function E$(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function af(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Lb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function xs(t,e){return t<<32-e|t>>>e}const A$=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function _$(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function S$(t){for(let e=0;e<t.length;e++)t[e]=_$(t[e]);return t}const SM=A$?t=>t:S$,XO=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",C$=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Wp(t){if(ms(t),XO)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=C$[t[n]];return e}const Zs={_0:48,_9:57,A:65,F:70,a:97,f:102};function CM(t){if(t>=Zs._0&&t<=Zs._9)return t-Zs._0;if(t>=Zs.A&&t<=Zs.F)return t-(Zs.A-10);if(t>=Zs.a&&t<=Zs.f)return t-(Zs.a-10)}function kC(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(XO)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=CM(t.charCodeAt(o)),a=CM(t.charCodeAt(o+1));if(s===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function T$(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function jm(t){return typeof t=="string"&&(t=T$(t)),ms(t),t}function Pc(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];ms(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}let NC=class{};function YO(t){const e=r=>t().update(jm(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function M$(t){const e=(r,i)=>t(i).update(jm(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function I$(t=32){if(zu&&typeof zu.getRandomValues=="function")return zu.getRandomValues(new Uint8Array(t));if(zu&&typeof zu.randomBytes=="function")return Uint8Array.from(zu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const R$=BigInt(0),bh=BigInt(1),P$=BigInt(2),k$=BigInt(7),N$=BigInt(256),F$=BigInt(113),JO=[],ZO=[],eB=[];for(let t=0,e=bh,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],JO.push(2*(5*r+n)),ZO.push((t+1)*(t+2)/2%64);let i=R$;for(let o=0;o<7;o++)e=(e<<bh^(e>>k$)*F$)%N$,e&P$&&(i^=bh<<(bh<<BigInt(o))-bh);eB.push(i)}const tB=g$(eB,!0),O$=tB[0],B$=tB[1],TM=(t,e,n)=>n>32?w$(t,e,n):y$(t,e,n),MM=(t,e,n)=>n>32?b$(t,e,n):v$(t,e,n);function nB(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],u=n[l+1],d=TM(c,u,1)^n[a],f=MM(c,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[s+h]^=d,t[s+h+1]^=f}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=ZO[s],l=TM(i,o,a),c=MM(i,o,a),u=JO[s];i=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=O$[r],t[1]^=B$[r]}af(n)}let FC=class rB extends NC{constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,Hp(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=E$(this.state)}clone(){return this._cloneInto()}keccak(){SM(this.state32),nB(this.state32,this.rounds),SM(this.state32),this.posOut=0,this.pos=0}update(e){sf(this),e=jm(e),ms(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){sf(this,!1),ms(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Hp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(QO(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,af(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new rB(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};const Jl=(t,e,n)=>YO(()=>new FC(e,t,n)),L$=Jl(6,144,224/8),D$=Jl(6,136,256/8),U$=Jl(6,104,384/8),z$=Jl(6,72,512/8),j$=Jl(1,144,224/8),OC=Jl(1,136,256/8),G$=Jl(1,104,384/8),H$=Jl(1,72,512/8),iB=(t,e,n)=>M$((r={})=>new FC(e,t,r.dkLen===void 0?n:r.dkLen,!0)),W$=iB(31,168,128/8),V$=iB(31,136,256/8),t_e=Object.freeze(Object.defineProperty({__proto__:null,Keccak:FC,keccakP:nB,keccak_224:j$,keccak_256:OC,keccak_384:G$,keccak_512:H$,sha3_224:L$,sha3_256:D$,sha3_384:U$,sha3_512:z$,shake128:W$,shake256:V$},Symbol.toStringTag,{value:"Module"}));function Lr(t,e){const n=e||"hex",r=OC(Vs(t,{strict:!1})?jf(t):t);return n==="bytes"?r:hi(r)}const Db=new zw(8192);function Gm(t,e){if(Db.has(`${t}.${e}`))return Db.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Lr($c(n),"bytes"),i=(e?n.substring(`${e}0x`.length):n).split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(r[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());const o=`0x${i.join("")}`;return Db.set(`${t}.${e}`,o),o}function Dr(t,e){if(!sr(t,{strict:!1}))throw new gi({address:t});return Gm(t,e)}const $$=/^0x[a-fA-F0-9]{40}$/,Ub=new zw(8192);function sr(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Ub.has(r))return Ub.get(r);const i=$$.test(t)?t.toLowerCase()===t?!0:n?Gm(t)===t:!0:!1;return Ub.set(r,i),i}function iu(t,e,n,{strict:r}={}){return Vs(t,{strict:!1})?yv(t,e,n,{strict:r}):aB(t,e,n,{strict:r})}function oB(t,e){if(typeof e=="number"&&e>0&&e>kn(t)-1)throw new jO({offset:e,position:"start",size:kn(t)})}function sB(t,e,n){if(typeof e=="number"&&typeof n=="number"&&kn(t)!==n-e)throw new jO({offset:n,position:"end",size:kn(t)})}function aB(t,e,n,{strict:r}={}){oB(t,e);const i=t.slice(e,n);return r&&sB(i,e,n),i}function yv(t,e,n,{strict:r}={}){oB(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&sB(i,e,n),i}const q$=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,lB=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Zl(t,e){if(t.length!==e.length)throw new o$({expectedLength:t.length,givenLength:e.length});const n=K$({params:t,values:e}),r=LC(n);return r.length===0?"0x":r}function K$({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(BC({param:t[r],value:e[r]}));return n}function BC({param:t,value:e}){const n=DC(t.type);if(n){const[r,i]=n;return X$(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return tq(e,{param:t});if(t.type==="address")return Q$(e);if(t.type==="bool")return J$(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=lB.exec(t.type)??[];return Z$(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return Y$(e,{param:t});if(t.type==="string")return eq(e);throw new d$(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function LC(t){let e=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?e+=32:e+=kn(a)}const n=[],r=[];let i=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?(n.push(je(e+i,{size:32})),r.push(a),i+=kn(a)):n.push(a)}return $s([...n,...r])}function Q$(t){if(!sr(t))throw new gi({address:t});return{dynamic:!1,encoded:Fl(t.toLowerCase())}}function X$(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new KO(t);if(!r&&t.length!==e)throw new r$({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const o=[];for(let s=0;s<t.length;s++){const a=BC({param:n,value:t[s]});a.dynamic&&(i=!0),o.push(a)}if(r||i){const s=LC(o);if(r){const a=je(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?$s([a,s]):a}}if(i)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:$s(o.map(({encoded:s})=>s))}}function Y$(t,{param:e}){const[,n]=e.type.split("bytes"),r=kn(t);if(!n){let i=t;return r%32!==0&&(i=Fl(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:$s([Fl(je(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new i$({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Fl(t,{dir:"right"})}}function J$(t){if(typeof t!="boolean")throw new Fe(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Fl(HO(t))}}function Z$(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new zO({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:je(t,{size:32,signed:e})}}function eq(t){const e=rf(t),n=Math.ceil(kn(e)/32),r=[];for(let i=0;i<n;i++)r.push(Fl(iu(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:$s([Fl(je(kn(e),{size:32})),...r])}}function tq(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const o=e.components[i],s=Array.isArray(t)?i:o.name,a=BC({param:o,value:t[s]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?LC(r):$s(r.map(({encoded:i})=>i))}}function DC(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const zb="/docs/contract/encodeDeployData";function jw(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(s=>"type"in s&&s.type==="constructor");if(!i)throw new n$({docsPath:zb});if(!("inputs"in i))throw new xM({docsPath:zb});if(!i.inputs||i.inputs.length===0)throw new xM({docsPath:zb});const o=Zl(i.inputs,n);return gs([r,o])}function Vn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class Tu extends Fe{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class fy extends Fe{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function nq(t){const e=Lr(`0x${t.substring(4)}`).substring(26);return Gm(`0x${e}`)}const rq="modulepreload",iq=function(t){return"/"+t},IM={},Xe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");i=Promise.allSettled(n.map(l=>{if(l=iq(l),l in IM)return;IM[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":rq,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};async function oq({hash:t,signature:e}){const n=Vs(t)?t:hi(t),{secp256k1:r}=await Xe(async()=>{const{secp256k1:s}=await Promise.resolve().then(()=>RJ);return{secp256k1:s}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:d,yParity:f}=e,h=Number(f??d),g=RM(h);return new r.Signature(Ar(c),Ar(u)).addRecoveryBit(g)}const s=Vs(e)?e:hi(e);if(kn(s)!==65)throw new Error("invalid signature length");const a=Bo(`0x${s.slice(130)}`),l=RM(a);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function RM(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function cB({hash:t,signature:e}){return nq(await oq({hash:t,signature:e}))}class PM extends Fe{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class uB extends Fe{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class sq extends Fe{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const aq={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new sq({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new uB({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new PM({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new PM({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function UC(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(aq);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function Gl(t,e="hex"){const n=dB(t),r=UC(new Uint8Array(n.length));return n.encode(r),e==="hex"?or(r.bytes):r.bytes}function dB(t){return Array.isArray(t)?lq(t.map(e=>dB(e))):cq(t)}function lq(t){const e=t.reduce((i,o)=>i+o.length,0),n=fB(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:o}of t)o(i)}}}function cq(t){const e=typeof t=="string"?Oo(t):t,n=fB(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function fB(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Fe("Length is too large.")}function uq(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,o=Lr(gs(["0x05",Gl([e?je(e):"0x",i,n?je(n):"0x"])]));return r==="bytes"?Oo(o):o}async function hB(t){const{authorization:e,signature:n}=t;return cB({hash:uq(e),signature:n??e})}class WA extends Fe{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class dq extends Fe{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class fq extends Fe{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class pB extends Fe{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Gw extends Fe{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function mB({chain:t,currentChainId:e}){if(!t)throw new fq;if(e!==t.id)throw new dq({chain:t,currentChainId:e})}const hq={gwei:9,wei:18},pq={ether:-9,wei:9},mq={ether:-18,gwei:-9};function Hm(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,o]=[n.slice(0,n.length-e),n.slice(n.length-e)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${o?`.${o}`:""}`}function Bi(t,e="wei"){return Hm(t,pq[e])}class Ad extends Fe{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Ad,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Ad,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class ou extends Fe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Bi(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(ou,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class VA extends Fe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Bi(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(VA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class $A extends Fe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty($A,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class qA extends Fe{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(qA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class KA extends Fe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(KA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class QA extends Fe{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(QA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class XA extends Fe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(XA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class YA extends Fe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(YA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class JA extends Fe{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(JA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Vp extends Fe{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Bi(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Bi(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Vp,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Wm extends Fe{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function Hw(t,e="wei"){return Hm(t,hq[e])}function Vm(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class gq extends Fe{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class yq extends Fe{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class vq extends Fe{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Vm(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class wq extends Fe{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class bq extends Fe{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:d,value:f}){const h=Vm({chain:i&&`${i?.name} (id: ${i?.id})`,from:n?.address,to:d,value:typeof f<"u"&&`${Hw(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${Bi(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Bi(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Bi(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class gB extends Fe{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:o}){let s="Transaction";r&&o!==void 0&&(s=`Transaction at block time "${r}" at index "${o}"`),e&&o!==void 0&&(s=`Transaction at block hash "${e}" at index "${o}"`),n&&o!==void 0&&(s=`Transaction at block number "${n}" at index "${o}"`),i&&(s=`Transaction with hash "${i}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class yB extends Fe{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class xq extends Fe{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const pr=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n),Eq=t=>t,zC=t=>t;class lp extends Fe{constructor({body:e,cause:n,details:r,headers:i,status:o,url:s}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${zC(s)}`,e&&`Request body: ${pr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=o,this.url=s}}class jC extends Fe{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${zC(r)}`,`Request body: ${pr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class kM extends Fe{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${zC(n)}`,`Request body: ${pr(e)}`],name:"TimeoutError"})}}const Aq=-1;class Hi extends Fe{constructor(e,{code:n,docsPath:r,metaMessages:i,name:o,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof jC?e.code:n??Aq}}class co extends Hi{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class $p extends Hi{constructor(e){super(e,{code:$p.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty($p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class qp extends Hi{constructor(e){super(e,{code:qp.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Kp extends Hi{constructor(e,{method:n}={}){super(e,{code:Kp.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Kp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Qp extends Hi{constructor(e){super(e,{code:Qp.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class su extends Hi{constructor(e){super(e,{code:su.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(su,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class au extends Hi{constructor(e){super(e,{code:au.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(au,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Xp extends Hi{constructor(e){super(e,{code:Xp.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ol extends Hi{constructor(e){super(e,{code:Ol.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Ol,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Yp extends Hi{constructor(e){super(e,{code:Yp.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class kc extends Hi{constructor(e,{method:n}={}){super(e,{code:kc.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(kc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class lf extends Hi{constructor(e){super(e,{code:lf.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(lf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Jp extends Hi{constructor(e){super(e,{code:Jp.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Sn extends co{constructor(e){super(e,{code:Sn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Zp extends co{constructor(e){super(e,{code:Zp.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class em extends co{constructor(e,{method:n}={}){super(e,{code:em.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(em,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class tm extends co{constructor(e){super(e,{code:tm.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(tm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class nm extends co{constructor(e){super(e,{code:nm.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(nm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Lo extends co{constructor(e){super(e,{code:Lo.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Lo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class cf extends co{constructor(e){super(e,{code:cf.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(cf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class rm extends co{constructor(e){super(e,{code:rm.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(rm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class im extends co{constructor(e){super(e,{code:im.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(im,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class om extends co{constructor(e){super(e,{code:om.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(om,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class sm extends co{constructor(e){super(e,{code:sm.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(sm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class am extends co{constructor(e){super(e,{code:am.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(am,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class uf extends co{constructor(e){super(e,{code:uf.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(uf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class _q extends Hi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function Ww(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof Fe?t.walk(i=>i?.code===Ad.code):t;return r instanceof Fe?new Ad({cause:t,message:r.details}):Ad.nodeMessage.test(n)?new Ad({cause:t,message:t.details}):ou.nodeMessage.test(n)?new ou({cause:t,maxFeePerGas:e?.maxFeePerGas}):VA.nodeMessage.test(n)?new VA({cause:t,maxFeePerGas:e?.maxFeePerGas}):$A.nodeMessage.test(n)?new $A({cause:t,nonce:e?.nonce}):qA.nodeMessage.test(n)?new qA({cause:t,nonce:e?.nonce}):KA.nodeMessage.test(n)?new KA({cause:t,nonce:e?.nonce}):QA.nodeMessage.test(n)?new QA({cause:t}):XA.nodeMessage.test(n)?new XA({cause:t,gas:e?.gas}):YA.nodeMessage.test(n)?new YA({cause:t,gas:e?.gas}):JA.nodeMessage.test(n)?new JA({cause:t}):Vp.nodeMessage.test(n)?new Vp({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new Wm({cause:t})}function vB(t,{docsPath:e,...n}){const r=(()=>{const i=Ww(t,n);return i instanceof Wm?t:i})();return new bq(r,{docsPath:e,...n})}function Vw(t,{format:e}){if(!e)return{};const n={};function r(o){const s=Object.keys(o);for(const a of s)a in t&&(n[a]=t[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const i=e(t||{});return r(i),n}function GC(t,e){return({exclude:n,format:r})=>({exclude:n,format:i=>{const o=e(i);if(n)for(const s of n)delete o[s];return{...o,...r(i)}},type:t})}const Sq={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Gf(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=Cq(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>or(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=je(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=je(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=je(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=je(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=je(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=je(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=Sq[t.type]),typeof t.value<"u"&&(e.value=je(t.value)),e}function Cq(t){return t.map(e=>({address:e.address,r:e.r?je(BigInt(e.r)):e.r,s:e.s?je(BigInt(e.s)):e.s,chainId:je(e.chainId),nonce:je(e.nonce),...typeof e.yParity<"u"?{yParity:je(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:je(e.v)}:{}}))}function It(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:o=>e(t,o)}const $w=2n**256n-1n;function Mu(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:o}=t,s=e?Vn(e):void 0;if(s&&!sr(s.address))throw new gi({address:s.address});if(o&&!sr(o))throw new gi({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new gq;if(r&&r>$w)throw new ou({maxFeePerGas:r});if(i&&r&&i>r)throw new Vp({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function Hf(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Bo(e)}class Tq extends Fe{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class HC extends Fe{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Mq extends Fe{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Bi(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class wB extends Fe{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const bB={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function qw(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Bo(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Bo(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?bB[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=Rq(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const Iq=GC("transaction",qw);function Rq(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function WC(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:qw(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const Pq=GC("block",WC);async function Ds(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:i}={}){const o=r??"latest",s=i??!1,a=n!==void 0?je(n):void 0;let l=null;if(e?l=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):l=await t.request({method:"eth_getBlockByNumber",params:[a||o,s]},{dedupe:!!a}),!l)throw new wB({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||WC)(l)}async function VC(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function kq(t,e){return xB(t,e)}async function xB(t,e){const{block:n,chain:r=t.chain,request:i}=e||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await It(t,Ds,"getBlock")({}),l=await o({block:a,client:t,request:i});if(l===null)throw new Error;return l}if(typeof o<"u")return o;const s=await t.request({method:"eth_maxPriorityFeePerGas"});return Ar(s)}catch{const[o,s]=await Promise.all([n?Promise.resolve(n):It(t,Ds,"getBlock")({}),It(t,VC,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new HC;const a=s-o.baseFeePerGas;return a<0n?0n:a}}async function Nq(t,e){return ZA(t,e)}async function ZA(t,e){const{block:n,chain:r=t.chain,request:i,type:o="eip1559"}=e||{},s=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):r?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new Tq;const l=10**(s.toString().split(".")[1]?.length??0),c=f=>f*BigInt(Math.ceil(s*l))/BigInt(l),u=n||await It(t,Ds,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const f=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:c,request:i,type:o});if(f!==null)return f}if(o==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new HC;const f=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await xB(t,{block:u,chain:r,request:i}),h=c(u.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??h+f,maxPriorityFeePerGas:f}}return{gasPrice:i?.gasPrice??c(await It(t,VC,"getGasPrice")({}))}}class Fq extends Fe{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:d,value:f}){const h=Vm({from:n?.address,to:d,value:typeof f<"u"&&`${Hw(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${Bi(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Bi(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Bi(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function Oq(t,{docsPath:e,...n}){const r=(()=>{const i=Ww(t,n);return i instanceof Wm?t:i})();return new Fq(r,{docsPath:e,...n})}class Bq extends Fe{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Lq extends Fe{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function NM(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function Dq(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=NM(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=NM(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function FM(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new wM({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new wM({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function Uq(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:o}=t,s={};if(o!==void 0&&(s.code=o),e!==void 0&&(s.balance=je(e)),n!==void 0&&(s.nonce=je(n)),r!==void 0&&(s.state=FM(r)),i!==void 0){if(s.state)throw new Lq;s.stateDiff=FM(i)}return s}function $C(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!sr(n,{strict:!1}))throw new gi({address:n});if(e[n])throw new Bq({address:n});e[n]=Uq(r)}return e}async function qC(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=typeof n=="bigint"?je(n):void 0,o=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(o)}async function KC(t,e){const{account:n=t.account}=e,r=n?Vn(n):void 0;try{let R=function(L){const{block:b,request:E,rpcStateOverride:I}=L;return t.request({method:"eth_estimateGas",params:I?[E,b??"latest",I]:b?[E,b]:[E]})};const{accessList:i,authorizationList:o,blobs:s,blobVersionedHashes:a,blockNumber:l,blockTag:c,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:h,maxFeePerGas:g,maxPriorityFeePerGas:m,nonce:y,value:p,stateOverride:v,...w}=await Kw(t,{...e,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),T=(typeof l=="bigint"?je(l):void 0)||c,N=$C(v),A=await(async()=>{if(w.to)return w.to;if(o&&o.length>0)return await hB({authorization:o[0]}).catch(()=>{throw new Fe("`to` is required. Could not infer from `authorizationList`")})})();Mu(e);const z=t.chain?.formatters?.transactionRequest?.format,k=(z||Gf)({...Vw(w,{format:z}),from:r?.address,accessList:i,authorizationList:o,blobs:s,blobVersionedHashes:a,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:h,maxFeePerGas:g,maxPriorityFeePerGas:m,nonce:y,to:A,value:p});let W=BigInt(await R({block:T,request:k,rpcStateOverride:N}));if(o){const L=await qC(t,{address:k.from}),b=await Promise.all(o.map(async E=>{const{address:I}=E,O=await R({block:T,request:{authorizationList:void 0,data:u,from:r?.address,to:I,value:je(L)},rpcStateOverride:N}).catch(()=>100000n);return 2n*BigInt(O)}));W+=b.reduce((E,I)=>E+I,0n)}return W}catch(i){throw Oq(i,{...e,account:r,chain:t.chain})}}async function QC(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?je(r):n]},{dedupe:!!r});return Bo(i)}function XC(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Oo(o)):t.blobs,i=[];for(const o of r)i.push(Uint8Array.from(e.blobToKzgCommitment(o)));return n==="bytes"?i:i.map(o=>or(o))}function YC(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>Oo(s)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(s=>Oo(s)):t.commitments,o=[];for(let s=0;s<r.length;s++){const a=r[s],l=i[s];o.push(Uint8Array.from(e.computeBlobKzgProof(a,l)))}return n==="bytes"?o:o.map(s=>or(s))}function zq(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}function jq(t,e,n){return t&e^~t&n}function Gq(t,e,n){return t&e^t&n^e&n}class Hq extends NC{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Lb(this.buffer)}update(e){sf(this),e=jm(e),ms(e);const{view:n,buffer:r,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Lb(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){sf(this),QO(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,af(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let d=s;d<i;d++)n[d]=0;zq(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Lb(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Ja=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Wq=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Za=new Uint32Array(64);let Vq=class extends Hq{constructor(e=32){super(64,e,8,!1),this.A=Ja[0]|0,this.B=Ja[1]|0,this.C=Ja[2]|0,this.D=Ja[3]|0,this.E=Ja[4]|0,this.F=Ja[5]|0,this.G=Ja[6]|0,this.H=Ja[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)Za[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=Za[d-15],h=Za[d-2],g=xs(f,7)^xs(f,18)^f>>>3,m=xs(h,17)^xs(h,19)^h>>>10;Za[d]=m+Za[d-7]+g+Za[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const f=xs(a,6)^xs(a,11)^xs(a,25),h=u+f+jq(a,l,c)+Wq[d]+Za[d]|0,m=(xs(r,2)^xs(r,13)^xs(r,22))+Gq(r,i,o)|0;u=c,c=l,l=a,a=s+h|0,s=o,o=i,i=r,r=h+m|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,l,c,u)}roundClean(){af(Za)}destroy(){this.set(0,0,0,0,0,0,0,0),af(this.buffer)}};const EB=YO(()=>new Vq),$q=EB;function qq(t,e){return $q(Vs(t,{strict:!1})?jf(t):t)}function Kq(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=qq(e);return i.set([n],0),r==="bytes"?i:or(i)}function AB(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const o of e)i.push(Kq({commitment:o,to:r,version:n}));return i}const OM=6,_B=32,JC=4096,SB=_B*JC,BM=SB*OM-1-1*JC*OM,CB=1;class Qq extends Fe{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class TB extends Fe{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Xq extends Fe{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Yq extends Fe{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${CB}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Jq(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Oo(t.data):t.data,r=kn(n);if(!r)throw new TB;if(r>BM)throw new Qq({maxSize:BM,size:r});const i=[];let o=!0,s=0;for(;o;){const a=UC(new Uint8Array(SB));let l=0;for(;l<JC;){const c=n.slice(s,s+(_B-1));if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),o=!1;break}l++,s+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>or(a.bytes))}function MB(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??Jq({data:e,to:r}),o=t.commitments??XC({blobs:i,kzg:n,to:r}),s=t.proofs??YC({blobs:i,commitments:o,kzg:n,to:r}),a=[];for(let l=0;l<i.length;l++)a.push({blob:i[l],commitment:o[l],proof:s[l]});return a}function IB(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new vq({transaction:t})}const RB=["blobVersionedHashes","chainId","fees","gas","nonce","type"],LM=new Map;async function Kw(t,e){const{account:n=t.account,blobs:r,chain:i,gas:o,kzg:s,nonce:a,nonceManager:l,parameters:c=RB,type:u}=e,d=n&&Vn(n),f={...e,...d?{from:d?.address}:{}};let h;async function g(){return h||(h=await It(t,Ds,"getBlock")({blockTag:"latest"}),h)}let m;async function y(){return m||(i?i.id:typeof e.chainId<"u"?e.chainId:(m=await It(t,Hf,"getChainId")({}),m))}if(c.includes("nonce")&&typeof a>"u"&&d)if(l){const p=await y();f.nonce=await l.consume({address:d.address,chainId:p,client:t})}else f.nonce=await It(t,QC,"getTransactionCount")({address:d.address,blockTag:"pending"});if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&r&&s){const p=XC({blobs:r,kzg:s});if(c.includes("blobVersionedHashes")){const v=AB({commitments:p,to:"hex"});f.blobVersionedHashes=v}if(c.includes("sidecars")){const v=YC({blobs:r,commitments:p,kzg:s}),w=MB({blobs:r,commitments:p,proofs:v,to:"hex"});f.sidecars=w}}if(c.includes("chainId")&&(f.chainId=await y()),(c.includes("fees")||c.includes("type"))&&typeof u>"u")try{f.type=IB(f)}catch{let p=LM.get(t.uid);typeof p>"u"&&(p=typeof(await g())?.baseFeePerGas=="bigint",LM.set(t.uid,p)),f.type=p?"eip1559":"legacy"}if(c.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const p=await g(),{maxFeePerGas:v,maxPriorityFeePerGas:w}=await ZA(t,{block:p,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<w)throw new Mq({maxPriorityFeePerGas:w});f.maxPriorityFeePerGas=w,f.maxFeePerGas=v}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new HC;if(typeof e.gasPrice>"u"){const p=await g(),{gasPrice:v}=await ZA(t,{block:p,chain:i,request:f,type:"legacy"});f.gasPrice=v}}return c.includes("gas")&&typeof o>"u"&&(f.gas=await It(t,KC,"estimateGas")({...f,account:d&&{address:d.address,type:"json-rpc"}})),Mu(f),delete f.parameters,f}async function ZC(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const jb=new zw(128);async function Qw(t,e){const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:o,blobs:s,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,type:g,value:m,...y}=e;if(typeof n>"u")throw new Tu({docsPath:"/docs/actions/wallet/sendTransaction"});const p=n?Vn(n):null;try{Mu(e);const v=await(async()=>{if(e.to)return e.to;if(e.to!==null&&o&&o.length>0)return await hB({authorization:o[0]}).catch(()=>{throw new Fe("`to` is required. Could not infer from `authorizationList`.")})})();if(p?.type==="json-rpc"||p===null){let w;r!==null&&(w=await It(t,Hf,"getChainId")({}),mB({currentChainId:w,chain:r}));const x=t.chain?.formatters?.transactionRequest?.format,N=(x||Gf)({...Vw(y,{format:x}),accessList:i,authorizationList:o,blobs:s,chainId:w,data:a,from:p?.address,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:v,type:g,value:m}),A=jb.get(t.uid),z=A?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:z,params:[N]},{retryCount:0})}catch(S){if(A===!1)throw S;const k=S;if(k.name==="InvalidInputRpcError"||k.name==="InvalidParamsRpcError"||k.name==="MethodNotFoundRpcError"||k.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[N]},{retryCount:0}).then(R=>(jb.set(t.uid,!0),R)).catch(R=>{const W=R;throw W.name==="MethodNotFoundRpcError"||W.name==="MethodNotSupportedRpcError"?(jb.set(t.uid,!1),k):W});throw k}}if(p?.type==="local"){const w=await It(t,Kw,"prepareTransactionRequest")({account:p,accessList:i,authorizationList:o,blobs:s,chain:r,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,nonceManager:p.nonceManager,parameters:[...RB,"sidecars"],type:g,value:m,...y,to:v}),x=r?.serializers?.transaction,T=await p.signTransaction(w,{serializer:x});return await It(t,ZC,"sendRawTransaction")({serializedTransaction:T})}throw p?.type==="smart"?new fy({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new fy({docsPath:"/docs/actions/wallet/sendTransaction",type:p?.type})}catch(v){throw v instanceof fy?v:vB(v,{...e,account:p,chain:e.chain||void 0})}}function Zq(t,e){const{abi:n,args:r,bytecode:i,...o}=e,s=jw({abi:n,args:r,bytecode:i});return Qw(t,{...o,...o.authorizationList?{to:null}:{},data:s})}const e2=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],t2=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],PB=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],kB=[...PB,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],eK=[...PB,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],DM=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],UM=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],zM=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function tK(t,e={}){typeof e.size<"u"&&jo(t,{size:e.size});const n=or(t,e);return Ar(n,e)}function nK(t,e={}){let n=t;if(typeof e.size<"u"&&(jo(n,{size:e.size}),n=Oi(n)),n.length>1||n[0]>1)throw new HV(n);return!!n[0]}function Ma(t,e={}){typeof e.size<"u"&&jo(t,{size:e.size});const n=or(t,e);return Bo(n,e)}function rK(t,e={}){let n=t;return typeof e.size<"u"&&(jo(n,{size:e.size}),n=Oi(n,{dir:"right"})),new TextDecoder().decode(n)}function $m(t,e){const n=typeof e=="string"?Oo(e):e,r=UC(n);if(kn(n)===0&&t.length>0)throw new zm;if(kn(e)&&kn(e)<32)throw new WO({data:typeof e=="string"?e:or(e),params:t,size:kn(e)});let i=0;const o=[];for(let s=0;s<t.length;++s){const a=t[s];r.setPosition(i);const[l,c]=Ld(r,a,{staticPosition:0});i+=c,o.push(l)}return o}function Ld(t,e,{staticPosition:n}){const r=DC(e.type);if(r){const[i,o]=r;return oK(t,{...e,type:o},{length:i,staticPosition:n})}if(e.type==="tuple")return cK(t,e,{staticPosition:n});if(e.type==="address")return iK(t);if(e.type==="bool")return sK(t);if(e.type.startsWith("bytes"))return aK(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return lK(t,e);if(e.type==="string")return uK(t,{staticPosition:n});throw new f$(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const jM=32,n2=32;function iK(t){const e=t.readBytes(32);return[Gm(or(aB(e,-20))),32]}function oK(t,e,{length:n,staticPosition:r}){if(!n){const s=Ma(t.readBytes(n2)),a=r+s,l=a+jM;t.setPosition(a);const c=Ma(t.readBytes(jM)),u=lm(e);let d=0;const f=[];for(let h=0;h<c;++h){t.setPosition(l+(u?h*32:d));const[g,m]=Ld(t,e,{staticPosition:l});d+=m,f.push(g)}return t.setPosition(r+32),[f,32]}if(lm(e)){const s=Ma(t.readBytes(n2)),a=r+s,l=[];for(let c=0;c<n;++c){t.setPosition(a+c*32);const[u]=Ld(t,e,{staticPosition:a});l.push(u)}return t.setPosition(r+32),[l,32]}let i=0;const o=[];for(let s=0;s<n;++s){const[a,l]=Ld(t,e,{staticPosition:r+i});i+=l,o.push(a)}return[o,i]}function sK(t){return[nK(t.readBytes(32),{size:32}),32]}function aK(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const s=Ma(t.readBytes(32));t.setPosition(n+s);const a=Ma(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(a);return t.setPosition(n+32),[or(l),32]}return[or(t.readBytes(Number.parseInt(i),32)),32]}function lK(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[r>48?tK(i,{signed:n}):Ma(i,{signed:n}),32]}function cK(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:s})=>!s),i=r?[]:{};let o=0;if(lm(e)){const s=Ma(t.readBytes(n2)),a=n+s;for(let l=0;l<e.components.length;++l){const c=e.components[l];t.setPosition(a+o);const[u,d]=Ld(t,c,{staticPosition:a});o+=d,i[r?l:c?.name]=u}return t.setPosition(n+32),[i,32]}for(let s=0;s<e.components.length;++s){const a=e.components[s],[l,c]=Ld(t,a,{staticPosition:n});i[r?s:a?.name]=l,o+=c}return[i,o]}function uK(t,{staticPosition:e}){const n=Ma(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Ma(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const o=t.readBytes(i,32),s=rK(Oi(o));return t.setPosition(e+32),[s,32]}function lm(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(lm);const n=DC(t.type);return!!(n&&lm({...t,type:n[1]}))}const dK=t=>Lr(jf(t));function fK(t){return dK(t)}const hK="1.0.8";let uo=class r2 extends Error{constructor(e,n={}){const r=n.cause instanceof r2?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof r2&&n.cause.docsPath||n.docsPath,o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${hK}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Va(t,e){return t.exec(e)?.groups}const NB=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,FB=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,OB=/^\(.+?\).*?$/,GM=/^tuple(?<array>(\[(\d*)\])*)$/;function i2(t){let e=t.type;if(GM.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const o=t.components[i];e+=i2(o),i<n-1&&(e+=", ")}const r=Va(GM,t.type);return e+=`)${r?.array??""}`,i2({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function xh(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=i2(i),r!==n-1&&(e+=", ")}return e}function vv(t){return t.type==="function"?`function ${t.name}(${xh(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${xh(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${xh(t.inputs)})`:t.type==="error"?`error ${t.name}(${xh(t.inputs)})`:t.type==="constructor"?`constructor(${xh(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const BB=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function pK(t){return BB.test(t)}function mK(t){return Va(BB,t)}const LB=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function gK(t){return LB.test(t)}function yK(t){return Va(LB,t)}const DB=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function vK(t){return DB.test(t)}function wK(t){return Va(DB,t)}const UB=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function eT(t){return UB.test(t)}function bK(t){return Va(UB,t)}const zB=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function xK(t){return zB.test(t)}function EK(t){return Va(zB,t)}const jB=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function AK(t){return jB.test(t)}function _K(t){return Va(jB,t)}const SK=/^receive\(\) external payable$/;function CK(t){return SK.test(t)}const TK=new Set(["indexed"]),o2=new Set(["calldata","memory","storage"]);class MK extends uo{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class IK extends uo{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class RK extends uo{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class PK extends uo{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class kK extends uo{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class NK extends uo{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class FK extends uo{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class OK extends uo{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Wf extends uo{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class BK extends uo{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class LK extends uo{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class DK extends uo{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class UK extends uo{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function zK(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let o="";for(const s of i[1])o+=`[${s.type}${s.name?`:${s.name}`:""}]`;r+=`(${i[0]}{${o}})`}return e?`${e}:${t}${r}`:t}const Gb=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function s2(t,e={}){if(vK(t))return jK(t,e);if(gK(t))return GK(t,e);if(pK(t))return HK(t,e);if(xK(t))return WK(t,e);if(AK(t))return VK(t);if(CK(t))return{type:"receive",stateMutability:"payable"};throw new BK({signature:t})}function jK(t,e={}){const n=wK(t);if(!n)throw new Wf({signature:t,type:"function"});const r=rs(n.parameters),i=[],o=r.length;for(let a=0;a<o;a++)i.push(lu(r[a],{modifiers:o2,structs:e,type:"function"}));const s=[];if(n.returns){const a=rs(n.returns),l=a.length;for(let c=0;c<l;c++)s.push(lu(a[c],{modifiers:o2,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:s}}function GK(t,e={}){const n=yK(t);if(!n)throw new Wf({signature:t,type:"event"});const r=rs(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(lu(r[s],{modifiers:TK,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function HK(t,e={}){const n=mK(t);if(!n)throw new Wf({signature:t,type:"error"});const r=rs(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(lu(r[s],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function WK(t,e={}){const n=EK(t);if(!n)throw new Wf({signature:t,type:"constructor"});const r=rs(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(lu(r[s],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function VK(t){const e=_K(t);if(!e)throw new Wf({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const $K=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,qK=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,KK=/^u?int$/;function lu(t,e){const n=zK(t,e?.type,e?.structs);if(Gb.has(n))return Gb.get(n);const r=OB.test(t),i=Va(r?qK:$K,t);if(!i)throw new PK({param:t});if(i.name&&XK(i.name))throw new kK({param:t,name:i.name});const o=i.name?{name:i.name}:{},s=i.modifier==="indexed"?{indexed:!0}:{},a=e?.structs??{};let l,c={};if(r){l="tuple";const d=rs(i.type),f=[],h=d.length;for(let g=0;g<h;g++)f.push(lu(d[g],{structs:a}));c={components:f}}else if(i.type in a)l="tuple",c={components:a[i.type]};else if(KK.test(i.type))l=`${i.type}256`;else if(l=i.type,e?.type!=="struct"&&!GB(l))throw new RK({type:l});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new NK({param:t,type:e?.type,modifier:i.modifier});if(o2.has(i.modifier)&&!YK(l,!!i.array))throw new FK({param:t,type:e?.type,modifier:i.modifier})}const u={type:`${l}${i.array??""}`,...o,...s,...c};return Gb.set(n,u),u}function rs(t,e=[],n="",r=0){const i=t.trim().length;for(let o=0;o<i;o++){const s=t[o],a=t.slice(o+1);switch(s){case",":return r===0?rs(a,[...e,n.trim()]):rs(a,e,`${n}${s}`,r);case"(":return rs(a,e,`${n}${s}`,r+1);case")":return rs(a,e,`${n}${s}`,r-1);default:return rs(a,e,`${n}${s}`,r)}}if(n==="")return e;if(r!==0)throw new UK({current:n,depth:r});return e.push(n.trim()),e}function GB(t){return t==="address"||t==="bool"||t==="function"||t==="string"||NB.test(t)||FB.test(t)}const QK=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function XK(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||NB.test(t)||FB.test(t)||QK.test(t)}function YK(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function HB(t){const e={},n=t.length;for(let s=0;s<n;s++){const a=t[s];if(!eT(a))continue;const l=bK(a);if(!l)throw new Wf({signature:a,type:"struct"});const c=l.properties.split(";"),u=[],d=c.length;for(let f=0;f<d;f++){const g=c[f].trim();if(!g)continue;const m=lu(g,{type:"struct"});u.push(m)}if(!u.length)throw new LK({signature:a});e[l.name]=u}const r={},i=Object.entries(e),o=i.length;for(let s=0;s<o;s++){const[a,l]=i[s];r[a]=WB(l,e)}return r}const JK=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function WB(t,e,n=new Set){const r=[],i=t.length;for(let o=0;o<i;o++){const s=t[o];if(OB.test(s.type))r.push(s);else{const l=Va(JK,s.type);if(!l?.type)throw new OK({abiParameter:s});const{array:c,type:u}=l;if(u in e){if(n.has(u))throw new DK({type:u});r.push({...s,type:`tuple${c??""}`,components:WB(e[u]??[],e,new Set([...n,u]))})}else if(GB(u))r.push(s);else throw new IK({type:u})}}return r}function VB(t){const e=HB(t),n=[],r=t.length;for(let i=0;i<r;i++){const o=t[i];eT(o)||n.push(s2(o,e))}return n}function HM(t){let e;if(typeof t=="string")e=s2(t);else{const n=HB(t),r=t.length;for(let i=0;i<r;i++){const o=t[i];if(!eT(o)){e=s2(o,n);break}}}if(!e)throw new MK({signature:t});return e}function ZK(t){let e=!0,n="",r=0,i="",o=!1;for(let s=0;s<t.length;s++){const a=t[s];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){o=!0;break}continue}if(a===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!o)throw new Fe("Unable to normalize signature.");return i}const eQ=t=>{const e=typeof t=="string"?t:vv(t);return ZK(e)};function $B(t){return fK(eQ(t))}const Xw=$B,qm=t=>iu($B(t),0,4);function Iu(t){const{abi:e,args:n=[],name:r}=t,i=Vs(r,{strict:!1}),o=e.filter(a=>i?a.type==="function"?qm(a)===r:a.type==="event"?Xw(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let s;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((c,u)=>{const d="inputs"in a&&a.inputs[u];return d?a2(c,d):!1})){if(s&&"inputs"in s&&s.inputs){const c=qB(a.inputs,s.inputs,n);if(c)throw new c$({abiItem:a,type:c[0]},{abiItem:s,type:c[1]})}s=a}}return s||o[0]}function a2(t,e){const n=typeof t,r=e.type;switch(r){case"address":return sr(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,o)=>a2(Object.values(t)[o],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>a2(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function qB(t,e,n){for(const r in t){const i=t[r],o=e[r];if(i.type==="tuple"&&o.type==="tuple"&&"components"in i&&"components"in o)return qB(i.components,o.components,n[r]);const s=[i.type,o.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?sr(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?sr(n[r],{strict:!1}):!1)return s}}const Hb="/docs/contract/decodeFunctionResult";function Ru(t){const{abi:e,args:n,functionName:r,data:i}=t;let o=e[0];if(r){const a=Iu({abi:e,args:n,name:r});if(!a)throw new of(r,{docsPath:Hb});o=a}if(o.type!=="function")throw new of(void 0,{docsPath:Hb});if(!o.outputs)throw new qO(o.name,{docsPath:Hb});const s=$m(o.outputs,i);if(s&&s.length>1)return s;if(s&&s.length===1)return s[0]}const WM="/docs/contract/encodeFunctionData";function tQ(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const o=Iu({abi:e,args:n,name:r});if(!o)throw new of(r,{docsPath:WM});i=o}if(i.type!=="function")throw new of(void 0,{docsPath:WM});return{abi:[i],functionName:qm(ps(i))}}function Go(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:tQ(t),i=n[0],o=r,s="inputs"in i&&i.inputs?Zl(i.inputs,e??[]):void 0;return gs([o,s??"0x"])}function Vf({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new WA({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new WA({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const KB={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},QB={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},nQ={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function rQ(t){const{abi:e,data:n}=t,r=iu(n,0,4);if(r==="0x")throw new zm;const o=[...e||[],QB,nQ].find(s=>s.type==="error"&&r===qm(ps(s)));if(!o)throw new VO(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?$m(o.inputs,iu(n,4)):void 0,errorName:o.name}}function XB({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,o)=>`${r&&i.name?`${i.name}: `:""}${typeof e[o]=="object"?pr(e[o]):e[o]}`).join(", ")})`}class YB extends Fe{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:d,value:f,stateOverride:h}){const g=n?Vn(n):void 0;let m=Vm({from:g?.address,to:d,value:typeof f<"u"&&`${Hw(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${Bi(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Bi(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Bi(c)} gwei`,nonce:u});h&&(m+=`
${Dq(h)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class JB extends Fe{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:o,functionName:s,sender:a}){const l=Iu({abi:n,args:r,name:s}),c=l?XB({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=l?ps(l,{includeName:!0}):void 0,d=Vm({address:i&&Eq(i),function:u,args:c&&c!=="()"&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${c}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:o,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=s,this.sender=a}}class l2 extends Fe{constructor({abi:e,data:n,functionName:r,message:i}){let o,s,a,l;if(n&&n!=="0x")try{s=rQ({abi:e,data:n});const{abiItem:u,errorName:d,args:f}=s;if(d==="Error")l=f[0];else if(d==="Panic"){const[h]=f;l=KB[h]}else{const h=u?ps(u,{includeName:!0}):void 0,g=u&&f?XB({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",g&&g!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(u){o=u}else i&&(l=i);let c;o instanceof VO&&(c=o.signature,a=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(l&&l!=="execution reverted"||c?[`The contract function "${r}" reverted with the following ${c?"signature":"reason"}:`,l||c].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.raw=n,this.reason=l,this.signature=c}}class iQ extends Fe{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class oQ extends Fe{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Yw extends Fe{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function tT(t,e){if(!(t instanceof Fe))return!1;const n=t.walk(r=>r instanceof l2);return n instanceof l2?!!(n.data?.errorName==="ResolverNotFound"||n.data?.errorName==="ResolverWildcardNotSupported"||n.data?.errorName==="ResolverNotContract"||n.data?.errorName==="ResolverError"||n.data?.errorName==="HttpError"||n.reason?.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===KB[50]):!1}function sQ(t){const{abi:e,data:n}=t,r=iu(n,0,4),i=e.find(o=>o.type==="function"&&r===qm(ps(o)));if(!i)throw new l$(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?$m(i.inputs,iu(n,4)):void 0}}const Wb="/docs/contract/encodeErrorResult";function VM(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const l=Iu({abi:e,args:r,name:n});if(!l)throw new EM(n,{docsPath:Wb});i=l}if(i.type!=="error")throw new EM(void 0,{docsPath:Wb});const o=ps(i),s=qm(o);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new s$(i.name,{docsPath:Wb});a=Zl(i.inputs,r)}return gs([s,a])}const Vb="/docs/contract/encodeFunctionResult";function aQ(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const s=Iu({abi:e,name:n});if(!s)throw new of(n,{docsPath:Vb});i=s}if(i.type!=="function")throw new of(void 0,{docsPath:Vb});if(!i.outputs)throw new qO(i.name,{docsPath:Vb});const o=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new KO(r)})();return Zl(i.outputs,o)}const ZB="x-batch-gateway:true";async function r_e(t){const{data:e,ccipRequest:n}=t,{args:[r]}=sQ({abi:t2,data:e}),i=[],o=[];return await Promise.all(r.map(async(s,a)=>{try{o[a]=await n(s),i[a]=!1}catch(l){i[a]=!0,o[a]=lQ(l)}})),aQ({abi:t2,functionName:"query",result:[i,o]})}function lQ(t){return t.name==="HttpRequestError"&&t.status?VM({abi:t2,errorName:"HttpError",args:[t.status,t.shortMessage]}):VM({abi:[QB],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function eL(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Vs(e)?e:null}function hy(t){let e=new Uint8Array(32).fill(0);if(!t)return or(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=eL(n[r]),o=i?jf(i):Lr($c(n[r]),"bytes");e=Lr($s([e,o]),"bytes")}return or(e)}function cQ(t){return`[${t.slice(2)}]`}function uQ(t){const e=new Uint8Array(32).fill(0);return t?eL(t)||Lr($c(t)):or(e)}function Jw(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array($c(e).byteLength+2);let r=0;const i=e.split(".");for(let o=0;o<i.length;o++){let s=$c(i[o]);s.byteLength>255&&(s=$c(cQ(uQ(i[o])))),n[r]=s.length,n.set(s,r+1),r+=s.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const dQ=3;function cu(t,{abi:e,address:n,args:r,docsPath:i,functionName:o,sender:s}){const a=t instanceof Yw?t:t instanceof Fe?t.walk(g=>"data"in g)||t.walk():{},{code:l,data:c,details:u,message:d,shortMessage:f}=a,h=t instanceof zm?new iQ({functionName:o}):[dQ,su.code].includes(l)&&(c||u||d||f)?new l2({abi:e,data:typeof c=="object"?c.data:c,functionName:o,message:a instanceof jC?u:f??d}):t;return new JB(h,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:o,sender:s})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nT=BigInt(0),c2=BigInt(1);function wv(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function j0(t){const e=t.toString(16);return e.length&1?"0"+e:e}function tL(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?nT:BigInt("0x"+t)}function Zw(t){return tL(Wp(t))}function nL(t){return ms(t),tL(Wp(Uint8Array.from(t).reverse()))}function rT(t,e){return kC(t.toString(16).padStart(e*2,"0"))}function rL(t,e){return rT(t,e).reverse()}function wo(t,e,n){let r;if(typeof e=="string")try{r=kC(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(PC(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const $b=t=>typeof t=="bigint"&&nT<=t;function fQ(t,e,n){return $b(t)&&$b(e)&&$b(n)&&e<=t&&t<n}function hQ(t,e,n,r){if(!fQ(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function pQ(t){let e;for(e=0;t>nT;t>>=c2,e+=1);return e}const e1=t=>(c2<<BigInt(t))-c2;function mQ(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let o=r(t),s=r(t),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...h)=>n(s,o,...h),u=(h=r(0))=>{s=c(i(0),h),o=c(),h.length!==0&&(s=c(i(1),h),o=c())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const g=[];for(;h<e;){o=c();const m=o.slice();g.push(m),h+=o.length}return Pc(...g)};return(h,g)=>{l(),u(h);let m;for(;!(m=g(d()));)u();return l(),m}}function iT(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,s){const a=t[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function $M(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}const gQ="0.1.1";function yQ(){return gQ}let Yn=class u2 extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof u2){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof u2&&n.cause.docsPath||n.docsPath,s=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${s}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${yQ()}`}),this.cause=n.cause,this.details=r,this.docs=s,this.docsPath=i,this.shortMessage=e}walk(e){return iL(this,e)}};function iL(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?iL(t.cause,e):e?null:t}const vQ="#__bigint";function wQ(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+vQ:i,n)}function bQ(t,e){if(KM(t)>e)throw new RQ({givenSize:KM(t),maxSize:e})}const ea={zero:48,nine:57,A:65,F:70,a:97,f:102};function qM(t){if(t>=ea.zero&&t<=ea.nine)return t-ea.zero;if(t>=ea.A&&t<=ea.F)return t-(ea.A-10);if(t>=ea.a&&t<=ea.f)return t-(ea.a-10)}function xQ(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new PQ({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let o=0;o<r;o++){const s=n==="right";i[s?o:r-o-1]=t[s?o:t.length-o-1]}return i}function oT(t,e){if(Do(t)>e)throw new BQ({givenSize:Do(t),maxSize:e})}function EQ(t,e){if(typeof e=="number"&&e>0&&e>Do(t)-1)throw new cL({offset:e,position:"start",size:Do(t)})}function AQ(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Do(t)!==n-e)throw new cL({offset:n,position:"end",size:Do(t)})}function oL(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new LQ({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const _Q=new TextEncoder;function SQ(t){return t instanceof Uint8Array?t:typeof t=="string"?TQ(t):CQ(t)}function CQ(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function TQ(t,e={}){const{size:n}=e;let r=t;n&&(oT(t,n),r=du(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const o=i.length/2,s=new Uint8Array(o);for(let a=0,l=0;a<o;a++){const c=qM(i.charCodeAt(l++)),u=qM(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new Yn(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);s[a]=c*16+u}return s}function MQ(t,e={}){const{size:n}=e,r=_Q.encode(t);return typeof n=="number"?(bQ(r,n),IQ(r,n)):r}function IQ(t,e){return xQ(t,{dir:"right",size:e})}function KM(t){return t.length}let RQ=class extends Yn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},PQ=class extends Yn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const kQ=new TextEncoder,NQ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function FQ(t,e={}){const{strict:n=!1}=e;if(!t)throw new QM(t);if(typeof t!="string")throw new QM(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new XM(t);if(!t.startsWith("0x"))throw new XM(t)}function qs(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function sL(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(oT(n,e.size),uu(n,e.size)):n}function aL(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=NQ[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(oT(r,e.size),du(r,e.size)):r}function oi(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const c=typeof t=="bigint"?"n":"";throw new lL({max:o?`${o}${c}`:void 0,min:`${s}${c}`,signed:n,size:r,value:`${t}${c}`})}const l=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?uu(l,r):l}function sT(t,e={}){return aL(kQ.encode(t),e)}function uu(t,e){return oL(t,{dir:"left",size:e})}function du(t,e){return oL(t,{dir:"right",size:e})}function aT(t,e,n,r={}){const{strict:i}=r;EQ(t,e);const o=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&AQ(o,e,n),o}function Do(t){return Math.ceil((t.length-2)/2)}function OQ(t,e={}){const{strict:n=!1}=e;try{return FQ(t,{strict:n}),!0}catch{return!1}}class lL extends Yn{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number \`${o}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class QM extends Yn{constructor(e){super(`Value \`${typeof e=="object"?wQ(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class XM extends Yn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class BQ extends Yn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class cL extends Yn{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class LQ extends Yn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function DQ(t){return{address:t.address,amount:oi(t.amount),index:oi(t.index),validatorIndex:oi(t.validatorIndex)}}function uL(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:oi(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:oi(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:oi(t.gasLimit)},...typeof t.number=="bigint"&&{number:oi(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:oi(t.prevRandao)},...typeof t.time=="bigint"&&{time:oi(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(DQ)}}}const UQ="0x82ad56cb",dL="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",zQ="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",jQ="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function fL(t,{docsPath:e,...n}){const r=(()=>{const i=Ww(t,n);return i instanceof Wm?t:i})();return new YB(r,{docsPath:e,...n})}function lT(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const qb=new Map;function hL({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const o=async()=>{const u=l();s();const d=u.map(({args:f})=>f);d.length!==0&&t(d).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let h=0;h<u.length;h++){const{resolve:g}=u[h];g?.([f[h],f])}}).catch(f=>{for(let h=0;h<u.length;h++){const{reject:g}=u[h];g?.(f)}})},s=()=>qb.delete(e),a=()=>l().map(({args:u})=>u),l=()=>qb.get(e)||[],c=u=>qb.set(e,[...l(),u]);return{flush:s,async schedule(u){const{promise:d,resolve:f,reject:h}=lT();return n?.([...a(),u])&&o(),l().length>0?(c({args:u,resolve:f,reject:h}),d):(c({args:u,resolve:f,reject:h}),setTimeout(o,r),d)}}}async function t1(t,e){const{account:n=t.account,authorizationList:r,batch:i=!!t.batch?.multicall,blockNumber:o,blockTag:s="latest",accessList:a,blobs:l,blockOverrides:c,code:u,data:d,factory:f,factoryData:h,gas:g,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:p,maxPriorityFeePerGas:v,nonce:w,to:x,value:T,stateOverride:N,...A}=e,z=n?Vn(n):void 0;if(u&&(f||h))throw new Fe("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&x)throw new Fe("Cannot provide both `code` & `to` as parameters.");const S=u&&d,k=f&&h&&x&&d,R=S||k,W=S?WQ({code:u,data:d}):k?VQ({data:d,factory:f,factoryData:h,to:x}):d;try{Mu(e);const b=(typeof o=="bigint"?je(o):void 0)||s,E=c?uL(c):void 0,I=$C(N),O=t.chain?.formatters?.transactionRequest?.format,j=(O||Gf)({...Vw(A,{format:O}),from:z?.address,accessList:a,authorizationList:r,blobs:l,data:W,gas:g,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:p,maxPriorityFeePerGas:v,nonce:w,to:R?void 0:x,value:T});if(i&&GQ({request:j})&&!I&&!E)try{return await HQ(t,{...j,blockNumber:o,blockTag:s})}catch(M){if(!(M instanceof pB)&&!(M instanceof WA))throw M}const H=(()=>{const M=[j,b];return I&&E?[...M,I,E]:I?[...M,I]:E?[...M,{},E]:M})(),D=await t.request({method:"eth_call",params:H});return D==="0x"?{data:void 0}:{data:D}}catch(L){const b=$Q(L),{offchainLookup:E,offchainLookupSignature:I}=await Xe(async()=>{const{offchainLookup:O,offchainLookupSignature:C}=await import("./ccip-CM0I02y-.js");return{offchainLookup:O,offchainLookupSignature:C}},[]);if(t.ccipRead!==!1&&b?.slice(0,10)===I&&x)return{data:await E(t,{data:b,to:x})};throw R&&b?.slice(0,10)==="0x101bb98d"?new oQ({factory:f}):fL(L,{...e,account:z,chain:t.chain})}}function GQ({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(UQ)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function HQ(t,e){const{batchSize:n=1024,wait:r=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:o="latest",data:s,multicallAddress:a,to:l}=e;let c=a;if(!c){if(!t.chain)throw new pB;c=Vf({blockNumber:i,chain:t.chain,contract:"multicall3"})}const d=(typeof i=="bigint"?je(i):void 0)||o,{schedule:f}=hL({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(m){return m.reduce((p,{data:v})=>p+(v.length-2),0)>n*2},fn:async m=>{const y=m.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),p=Go({abi:e2,args:[y],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{data:p,to:c},d]});return Ru({abi:e2,args:[y],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:h,success:g}]=await f({data:s,to:l});if(!g)throw new Yw({data:h});return h==="0x"?{data:void 0}:{data:h}}function WQ(t){const{code:e,data:n}=t;return jw({abi:VB(["constructor(bytes, bytes)"]),bytecode:dL,args:[e,n]})}function VQ(t){const{data:e,factory:n,factoryData:r,to:i}=t;return jw({abi:VB(["constructor(address, bytes, address, bytes)"]),bytecode:zQ,args:[i,e,n,r]})}function $Q(t){if(!(t instanceof Fe))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}async function Ks(t,e){const{abi:n,address:r,args:i,functionName:o,...s}=e,a=Go({abi:n,args:i,functionName:o});try{const{data:l}=await It(t,t1,"call")({...s,data:a,to:r});return Ru({abi:n,args:i,functionName:o,data:l||"0x"})}catch(l){throw cu(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:o})}}async function qQ(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:o,gatewayUrls:s,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return Vf({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l?.ensTlds;if(u&&!u.some(d=>o.endsWith(d)))return null;try{const d=Go({abi:UM,functionName:"addr",...i!=null?{args:[hy(o),BigInt(i)]}:{args:[hy(o)]}}),f={address:c,abi:kB,functionName:"resolve",args:[hi(Jw(o)),d,s??[ZB]],blockNumber:n,blockTag:r},g=await It(t,Ks,"readContract")(f);if(g[0]==="0x")return null;const m=Ru({abi:UM,args:i!=null?[hy(o),BigInt(i)]:void 0,functionName:"addr",data:g[0]});return m==="0x"||Oi(m)==="0x00"?null:m}catch(d){if(a)throw d;if(tT(d,"resolve"))return null;throw d}}class KQ extends Fe{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Eh extends Fe{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class cT extends Fe{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class QQ extends Fe{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const XQ=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,YQ=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,JQ=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,ZQ=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function eX(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function YM(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function pL({uri:t,gatewayUrls:e}){const n=JQ.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=YM(e?.ipfs,"https://ipfs.io"),i=YM(e?.arweave,"https://arweave.net"),o=t.match(XQ),{protocol:s,subpath:a,target:l,subtarget:c=""}=o?.groups||{},u=s==="ipns:/"||a==="ipns/",d=s==="ipfs:/"||a==="ipfs/"||YQ.test(t);if(t.startsWith("http")&&!u&&!d){let h=t;return e?.arweave&&(h=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((u||d)&&l)return{uri:`${r}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(ZQ,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new cT({uri:t})}function mL(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new KQ({data:t});return t.image||t.image_url||t.image_data}async function tX({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await uT({gatewayUrls:t,uri:mL(n)})}catch{throw new cT({uri:e})}}async function uT({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=pL({uri:e,gatewayUrls:t});if(r||await eX(n))return n;throw new cT({uri:e})}function nX(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[o,s]=n.split(":"),[a,l]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Eh({reason:"Only EIP-155 supported"});if(!s)throw new Eh({reason:"Chain ID not found"});if(!l)throw new Eh({reason:"Contract address not found"});if(!i)throw new Eh({reason:"Token ID not found"});if(!a)throw new Eh({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s),namespace:a.toLowerCase(),contractAddress:l,tokenID:i}}async function rX(t,{nft:e}){if(e.namespace==="erc721")return Ks(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Ks(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new QQ({namespace:e.namespace})}async function iX(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?oX(t,{gatewayUrls:e,record:n}):uT({uri:n,gatewayUrls:e})}async function oX(t,{gatewayUrls:e,record:n}){const r=nX(n),i=await rX(t,{nft:r}),{uri:o,isOnChain:s,isEncoded:a}=pL({uri:i,gatewayUrls:e});if(s&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const c=a?atob(o.replace("data:application/json;base64,","")):o,u=JSON.parse(c);return uT({uri:mL(u),gatewayUrls:e})}let l=r.tokenID;return r.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),tX({gatewayUrls:e,uri:o.replace(/(?:0x)?{id}/,l)})}async function gL(t,e){const{blockNumber:n,blockTag:r,key:i,name:o,gatewayUrls:s,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return Vf({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l?.ensTlds;if(u&&!u.some(d=>o.endsWith(d)))return null;try{const d={address:c,abi:kB,functionName:"resolve",args:[hi(Jw(o)),Go({abi:DM,functionName:"text",args:[hy(o),i]}),s??[ZB]],blockNumber:n,blockTag:r},h=await It(t,Ks,"readContract")(d);if(h[0]==="0x")return null;const g=Ru({abi:DM,functionName:"text",data:h[0]});return g===""?null:g}catch(d){if(a)throw d;if(tT(d,"resolve"))return null;throw d}}async function yL(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:o,strict:s,universalResolverAddress:a}){const l=await It(t,gL,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:o,strict:s});if(!l)return null;try{return await iX(t,{record:l,gatewayUrls:r})}catch{return null}}async function vL(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:i,strict:o,universalResolverAddress:s}){let a=s;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Vf({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const l=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const c={address:a,abi:eK,functionName:"reverse",args:[hi(Jw(l))],blockNumber:n,blockTag:r},u=It(t,Ks,"readContract"),[d,f]=i?await u({...c,args:[...c.args,i]}):await u(c);return e.toLowerCase()!==f.toLowerCase()?null:d}catch(c){if(o)throw c;if(tT(c,"reverse"))return null;throw c}}async function sX(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:o}=t,s=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return Vf({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(c=>i.endsWith(c)))throw new Error(`${i} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[l]=await It(t,Ks,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[hi(Jw(i))],blockNumber:n,blockTag:r});return l}async function wL(t,e){const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:o,data:s,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h,...g}=e,m=n?Vn(n):void 0;try{Mu(e);const p=(typeof r=="bigint"?je(r):void 0)||i,v=t.chain?.formatters?.transactionRequest?.format,x=(v||Gf)({...Vw(g,{format:v}),from:m?.address,blobs:o,data:s,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h}),T=await t.request({method:"eth_createAccessList",params:[x,p]});return{accessList:T.accessList,gasUsed:BigInt(T.gasUsed)}}catch(y){throw fL(y,{...e,account:m,chain:t.chain})}}function n1(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:i,status:o,transport:s})=>{o==="success"&&e===r&&(n[i]=s.request)}),r=>n[r]||t.request}async function aX(t){const e=n1(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}class lX extends Fe{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const JM="/docs/contract/encodeEventTopics";function Km(t){const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const l=Iu({abi:e,name:n});if(!l)throw new AM(n,{docsPath:JM});i=l}if(i.type!=="event")throw new AM(void 0,{docsPath:JM});const o=ps(i),s=Xw(o);let a=[];if(r&&"inputs"in i){const l=i.inputs?.filter(u=>"indexed"in u&&u.indexed),c=Array.isArray(r)?r:Object.values(r).length>0?l?.map(u=>r[u.name])??[]:[];c.length>0&&(a=l?.map((u,d)=>Array.isArray(c[d])?c[d].map((f,h)=>ZM({param:u,value:c[d][h]})):typeof c[d]<"u"&&c[d]!==null?ZM({param:u,value:c[d]}):null)??[])}return[s,...a]}function ZM({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Lr(jf(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new lX(t.type);return Zl([t],[e])}async function bL(t,e){const{address:n,abi:r,args:i,eventName:o,fromBlock:s,strict:a,toBlock:l}=e,c=n1(t,{method:"eth_newFilter"}),u=o?Km({abi:r,args:i,eventName:o}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof s=="bigint"?je(s):s,toBlock:typeof l=="bigint"?je(l):l,topics:u}]});return{abi:r,args:i,eventName:o,id:d,request:c(d),strict:!!a,type:"event"}}async function xL(t,{address:e,args:n,event:r,events:i,fromBlock:o,strict:s,toBlock:a}={}){const l=i??(r?[r]:void 0),c=n1(t,{method:"eth_newFilter"});let u=[];l&&(u=[l.flatMap(h=>Km({abi:[h],eventName:h.name,args:n}))],r&&(u=u[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof o=="bigint"?je(o):o,toBlock:typeof a=="bigint"?je(a):a,...u.length?{topics:u}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:c(d),strict:!!s,toBlock:a,type:"event"}}async function EL(t){const e=n1(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function cX(t,e){const{abi:n,address:r,args:i,functionName:o,dataSuffix:s,...a}=e,l=Go({abi:n,args:i,functionName:o});try{return await It(t,KC,"estimateGas")({data:`${l}${s?s.replace("0x",""):""}`,to:r,...a})}catch(c){const u=a.account?Vn(a.account):void 0;throw cu(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u?.address})}}async function uX(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}const dX=new Map,fX=new Map;function hX(t){const e=(i,o)=>({clear:()=>o.delete(i),get:()=>o.get(i),set:s=>o.set(i,s)}),n=e(t,dX),r=e(t,fX);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function pX(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=hX(e),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let o=r.promise.get();o||(o=t(),r.promise.set(o));try{const s=await o;return r.response.set({created:new Date,data:s}),s}finally{r.promise.clear()}}const mX=t=>`blockNumber.${t}`;async function Qm(t,{cacheTime:e=t.cacheTime}={}){const n=await pX(()=>t.request({method:"eth_blockNumber"}),{cacheKey:mX(t.uid),cacheTime:e});return BigInt(n)}async function gX(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?je(n):void 0;let o;return e?o=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):o=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),Bo(o)}async function eI(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?je(n):void 0,o=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(o!=="0x")return o}function r1(t,e){if(!sr(t,{strict:!1}))throw new gi({address:t});if(!sr(e,{strict:!1}))throw new gi({address:e});return t.toLowerCase()===e.toLowerCase()}const tI="/docs/contract/decodeEventLog";function dT(t){const{abi:e,data:n,strict:r,topics:i}=t,o=r??!0,[s,...a]=i;if(!s)throw new a$({docsPath:tI});const l=e.find(m=>m.type==="event"&&s===Xw(ps(m)));if(!(l&&"name"in l)||l.type!=="event")throw new $O(s,{docsPath:tI});const{name:c,inputs:u}=l,d=u?.some(m=>!("name"in m&&m.name)),f=d?[]:{},h=u.map((m,y)=>[m,y]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<h.length;m++){const[y,p]=h[m],v=a[m];if(!v)throw new Uw({abiItem:l,param:y});f[d?p:y.name||p]=yX({param:y,value:v})}const g=u.filter(m=>!("indexed"in m&&m.indexed));if(g.length>0){if(n&&n!=="0x")try{const m=$m(g,n);if(m)if(d)for(let y=0;y<u.length;y++)f[y]=f[y]??m.shift();else for(let y=0;y<g.length;y++)f[g[y].name]=m[y]}catch(m){if(o)throw m instanceof WO||m instanceof uB?new Gp({abiItem:l,data:n,params:g,size:kn(n)}):m}else if(o)throw new Gp({abiItem:l,data:"0x",params:g,size:0})}return{eventName:c,args:Object.values(f).length>0?f:void 0}}function yX({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:($m([t],e)||[])[0]}function fT(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,o=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(s=>{try{const a=e.find(c=>c.type==="event"&&s.topics[0]===Xw(c));if(!a)return null;const l=dT({...s,abi:[a],strict:i});return o&&!o.includes(l.eventName)||!vX({args:l.args,inputs:a.inputs,matchArgs:n})?null:{...l,...s}}catch(a){let l,c;if(a instanceof $O)return null;if(a instanceof Gp||a instanceof Uw){if(i)return null;l=a.abiItem.name,c=a.abiItem.inputs?.some(u=>!("name"in u&&u.name))}return{...s,args:c?[]:{},eventName:l}}}).filter(Boolean)}function vX(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(o,s,a){try{return o.type==="address"?r1(s,a):o.type==="string"||o.type==="bytes"?Lr(jf(s))===a:s===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((o,s)=>{if(o==null)return!0;const a=n[s];return a?(Array.isArray(o)?o:[o]).some(c=>i(a,c,e[s])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,s])=>{if(s==null)return!0;const a=n.find(c=>c.name===o);return a?(Array.isArray(s)?s:[s]).some(c=>i(a,c,e[o])):!1}):!1}function La(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function hT(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:o,events:s,args:a,strict:l}={}){const c=l??!1,u=s??(o?[o]:void 0);let d=[];u&&(d=[u.flatMap(m=>Km({abi:[m],eventName:m.name,args:s?void 0:a}))],o&&(d=d[0]));let f;n?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:n}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof r=="bigint"?je(r):r,toBlock:typeof i=="bigint"?je(i):i}]});const h=f.map(g=>La(g));return u?fT({abi:u,args:a,logs:h,strict:c}):h}async function AL(t,e){const{abi:n,address:r,args:i,blockHash:o,eventName:s,fromBlock:a,toBlock:l,strict:c}=e,u=s?Iu({abi:n,name:s}):void 0,d=u?void 0:n.filter(f=>f.type==="event");return It(t,hT,"getLogs")({address:r,args:i,blockHash:o,event:u,events:d,fromBlock:a,toBlock:l,strict:c})}class wX extends Fe{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function bX(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[o,s,a,l,c,u,d]=await It(t,Ks,"readContract")({abi:xX,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:s,version:a,chainId:Number(l),verifyingContract:c,salt:u},extensions:d,fields:o}}catch(o){const s=o;throw s.name==="ContractFunctionExecutionError"&&s.cause.name==="ContractFunctionZeroDataError"?new wX({address:n}):s}}const xX=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function EX(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function AX(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const o=typeof n=="bigint"?je(n):void 0,s=await t.request({method:"eth_feeHistory",params:[je(e),o||r,i]},{dedupe:!!o});return EX(s)}async function i1(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(o=>La(o));return!("abi"in e)||!e.abi?i:fT({abi:e.abi,logs:i,strict:n})}async function _X(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(o=>La(o));return e.abi?fT({abi:e.abi,logs:i,strict:n}):i}async function SX(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const o=n!==void 0?je(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,o||r]})}async function pT(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:o}){const s=r||"latest",a=n!==void 0?je(n):void 0;let l=null;if(i?l=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?l=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,je(o)]},{dedupe:!0}):l=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||s,je(o)]},{dedupe:!!a}),!l)throw new gB({blockHash:e,blockNumber:n,blockTag:s,hash:i,index:o});return(t.chain?.formatters?.transaction?.format||qw)(l)}async function CX(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([It(t,Qm,"getBlockNumber")({}),e?It(t,pT,"getTransaction")({hash:e}):void 0]),o=n?.blockNumber||i?.blockNumber;return o?r-o+1n:0n}const _L={"0x0":"reverted","0x1":"success"};function SL(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>La(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Bo(t.transactionIndex):null,status:t.status?_L[t.status]:null,type:t.type?bB[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const TX=GC("transactionReceipt",SL);async function d2(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new yB({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||SL)(n)}async function CL(t,e){const{account:n,allowFailure:r=!0,batchSize:i,blockNumber:o,blockTag:s,multicallAddress:a,stateOverride:l}=e,c=e.contracts,u=i??(typeof t.batch?.multicall=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=Vf({blockNumber:o,chain:t.chain,contract:"multicall3"})}const f=[[]];let h=0,g=0;for(let p=0;p<c.length;p++){const{abi:v,address:w,args:x,functionName:T}=c[p];try{const N=Go({abi:v,args:x,functionName:T});g+=(N.length-2)/2,u>0&&g>u&&f[h].length>0&&(h++,g=(N.length-2)/2,f[h]=[]),f[h]=[...f[h],{allowFailure:!0,callData:N,target:w}]}catch(N){const A=cu(N,{abi:v,address:w,args:x,docsPath:"/docs/contract/multicall",functionName:T,sender:n});if(!r)throw A;f[h]=[...f[h],{allowFailure:!0,callData:"0x",target:w}]}}const m=await Promise.allSettled(f.map(p=>It(t,Ks,"readContract")({abi:e2,account:n,address:d,args:[p],blockNumber:o,blockTag:s,functionName:"aggregate3",stateOverride:l}))),y=[];for(let p=0;p<m.length;p++){const v=m[p];if(v.status==="rejected"){if(!r)throw v.reason;for(let x=0;x<f[p].length;x++)y.push({status:"failure",error:v.reason,result:void 0});continue}const w=v.value;for(let x=0;x<w.length;x++){const{returnData:T,success:N}=w[x],{callData:A}=f[p][x],{abi:z,address:S,functionName:k,args:R}=c[y.length];try{if(A==="0x")throw new zm;if(!N)throw new Yw({data:T});const W=Ru({abi:z,args:R,data:T,functionName:k});y.push(r?{result:W,status:"success"}:W)}catch(W){const L=cu(W,{abi:z,address:S,args:R,docsPath:"/docs/contract/multicall",functionName:k});if(!r)throw L;y.push({error:L,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new Fe("multicall results mismatch");return y}async function f2(t,e){const{blockNumber:n,blockTag:r="latest",blocks:i,returnFullTransactions:o,traceTransfers:s,validation:a}=e;try{const l=[];for(const f of i){const h=f.blockOverrides?uL(f.blockOverrides):void 0,g=f.calls.map(y=>{const p=y,v=p.account?Vn(p.account):void 0,w={...p,data:p.abi?Go(p):p.data,from:p.from??v?.address};return Mu(w),Gf(w)}),m=f.stateOverrides?$C(f.stateOverrides):void 0;l.push({blockOverrides:h,calls:g,stateOverrides:m})}const u=(typeof n=="bigint"?je(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:o,traceTransfers:s,validation:a},u]})).map((f,h)=>({...WC(f),calls:f.calls.map((g,m)=>{const{abi:y,args:p,functionName:v,to:w}=i[h].calls[m],x=g.error?.data??g.returnData,T=BigInt(g.gasUsed),N=g.logs?.map(k=>La(k)),A=g.status==="0x1"?"success":"failure",z=y&&A==="success"&&x!=="0x"?Ru({abi:y,data:x,functionName:v}):null,S=(()=>{if(A==="success")return;let k;if(g.error?.data==="0x"?k=new zm:g.error&&(k=new Yw(g.error)),!!k)return cu(k,{abi:y??[],address:w??"0x",args:p,functionName:v??"<unknown>"})})();return{data:x,gasUsed:T,logs:N,status:A,...A==="success"?{result:z}:{error:S}}})}))}catch(l){const c=l,u=Ww(c,{});throw u instanceof Wm?c:u}}function TL(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=OC(SQ(t));return n==="Bytes"?r:aL(r)}class MX extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const IX={checksum:new MX(8192)},Kb=IX.checksum,RX=/^0x[a-fA-F0-9]{40}$/;function o1(t,e={}){const{strict:n=!0}=e;if(!RX.test(t))throw new nI({address:t,cause:new kX});if(n){if(t.toLowerCase()===t)return;if(PX(t)!==t)throw new nI({address:t,cause:new NX})}}function PX(t){if(Kb.has(t))return Kb.get(t);o1(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=TL(MQ(e),{as:"Bytes"}),r=e.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const i=`0x${r.join("")}`;return Kb.set(t,i),i}function h2(t,e={}){const{strict:n=!0}=e??{};try{return o1(t,{strict:n}),!0}catch{return!1}}class nI extends Yn{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class kX extends Yn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class NX extends Yn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function p2(t){let e=!0,n="",r=0,i="",o=!1;for(let s=0;s<t.length;s++){const a=t[s];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){o=!0;break}continue}if(a===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!o)throw new Yn("Unable to normalize signature.");return i}function m2(t,e){const n=typeof t,r=e.type;switch(r){case"address":return h2(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,o)=>m2(Object.values(t)[o],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>m2(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function ML(t,e,n){for(const r in t){const i=t[r],o=e[r];if(i.type==="tuple"&&o.type==="tuple"&&"components"in i&&"components"in o)return ML(i.components,o.components,n[r]);const s=[i.type,o.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?h2(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?h2(n[r],{strict:!1}):!1)return s}}function IL(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?HM(t):t;return{...r,...n?{hash:_d(r)}:{}}}function FX(t,e,n){const{args:r=[],prepare:i=!0}=n??{},o=OQ(e,{strict:!1}),s=t.filter(c=>o?c.type==="function"||c.type==="error"?RL(c)===aT(e,0,4):c.type==="event"?_d(c)===e:!1:"name"in c&&c.name===e);if(s.length===0)throw new g2({name:e});if(s.length===1)return{...s[0],...i?{hash:_d(s[0])}:{}};let a;for(const c of s){if(!("inputs"in c))continue;if(!r||r.length===0){if(!c.inputs||c.inputs.length===0)return{...c,...i?{hash:_d(c)}:{}};continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==r.length)continue;if(r.every((d,f)=>{const h="inputs"in c&&c.inputs[f];return h?m2(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=ML(c.inputs,a.inputs,r);if(d)throw new BX({abiItem:c,type:d[0]},{abiItem:a,type:d[1]})}a=c}}const l=(()=>{if(a)return a;const[c,...u]=s;return{...c,overloads:u}})();if(!l)throw new g2({name:e});return{...l,...i?{hash:_d(l)}:{}}}function RL(t){return aT(_d(t),0,4)}function OX(t){const e=typeof t=="string"?t:vv(t);return p2(e)}function _d(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:TL(sT(OX(t)))}class BX extends Yn{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${p2(vv(e.abiItem))}\`, and`,`\`${n.type}\` in \`${p2(vv(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class g2 extends Yn{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const LX=/^(.*)\[([0-9]*)\]$/,DX=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,PL=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function UX({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(mT({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function mT({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=qX(r.type);if(i){const[o,s]=i;return jX(n,{checksumAddress:t,length:o,parameter:{...r,type:s}})}if(r.type==="tuple")return $X(n,{checksumAddress:t,parameter:r});if(r.type==="address")return zX(n,{checksum:t});if(r.type==="bool")return HX(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,s="256"]=PL.exec(r.type)??[];return WX(n,{signed:o,size:Number(s)})}if(r.type.startsWith("bytes"))return GX(n,{type:r.type});if(r.type==="string")return VX(n);throw new OL(r.type)}function gT(t){let e=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?e+=32:e+=Do(a)}const n=[],r=[];let i=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?(n.push(oi(e+i,{size:32})),r.push(a),i+=Do(a)):n.push(a)}return qs(...n,...r)}function zX(t,e){const{checksum:n=!1}=e;return o1(t,{strict:n}),{dynamic:!1,encoded:uu(t.toLowerCase())}}function jX(t,e){const{checksumAddress:n,length:r,parameter:i}=e,o=r===null;if(!Array.isArray(t))throw new QX(t);if(!o&&t.length!==r)throw new KX({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let s=!1;const a=[];for(let l=0;l<t.length;l++){const c=mT({checksumAddress:n,parameter:i,value:t[l]});c.dynamic&&(s=!0),a.push(c)}if(o||s){const l=gT(a);if(o){const c=oi(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?qs(c,l):c}}if(s)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:qs(...a.map(({encoded:l})=>l))}}function GX(t,{type:e}){const[,n]=e.split("bytes"),r=Do(t);if(!n){let i=t;return r%32!==0&&(i=du(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:qs(uu(oi(r,{size:32})),i)}}if(r!==Number.parseInt(n))throw new NL({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:du(t)}}function HX(t){if(typeof t!="boolean")throw new Yn(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:uu(sL(t))}}function WX(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new lL({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:oi(t,{size:32,signed:e})}}function VX(t){const e=sT(t),n=Math.ceil(Do(e)/32),r=[];for(let i=0;i<n;i++)r.push(du(aT(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:qs(du(oi(Do(e),{size:32})),...r)}}function $X(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const o=[];for(let s=0;s<r.components.length;s++){const a=r.components[s],l=Array.isArray(t)?s:a.name,c=mT({checksumAddress:n,parameter:a,value:t[l]});o.push(c),c.dynamic&&(i=!0)}return{dynamic:i,encoded:i?gT(o):qs(...o.map(({encoded:s})=>s))}}function qX(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function kL(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new FL({expectedLength:t.length,givenLength:e.length});const i=UX({checksumAddress:r,parameters:t,values:e}),o=gT(i);return o.length===0?"0x":o}function y2(t,e){if(t.length!==e.length)throw new FL({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],o=e[r];n.push(y2.encode(i,o))}return qs(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const l=r;return o1(l),uu(l.toLowerCase(),i?32:0)}if(n==="string")return sT(r);if(n==="bytes")return r;if(n==="bool")return uu(sL(r),i?32:1);const o=n.match(PL);if(o){const[l,c,u="256"]=o,d=Number.parseInt(u)/8;return oi(r,{size:i?32:d,signed:c==="int"})}const s=n.match(DX);if(s){const[l,c]=s;if(Number.parseInt(c)!==(r.length-2)/2)throw new NL({expectedSize:Number.parseInt(c),value:r});return du(r,i?32:0)}const a=n.match(LX);if(a&&Array.isArray(r)){const[l,c]=a,u=[];for(let d=0;d<r.length;d++)u.push(e(c,r[d],!0));return u.length===0?"0x":qs(...u)}throw new OL(n)}t.encode=e})(y2||(y2={}));class KX extends Yn{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class NL extends Yn{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Do(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class FL extends Yn{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class QX extends Yn{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class OL extends Yn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function XX(t,e){const{bytecode:n,args:r}=e;return qs(n,t.inputs?.length&&r?.length?kL(t.inputs,r):"0x")}function YX(t){return IL(t)}function JX(t,...e){const{overloads:n}=t,r=n?ZX([t,...n],t.name,{args:e[0]}):t,i=eY(r),o=e.length>0?kL(r.inputs,e[0]):void 0;return o?qs(i,o):i}function ju(t,e={}){return IL(t,e)}function ZX(t,e,n){const r=FX(t,e,n);if(r.type!=="function")throw new g2({name:e,type:"function"});return r}function eY(t){return RL(t)}const tY="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Es="0x0000000000000000000000000000000000000000",G0=new zw(8192);function nY(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(G0.get(n))return G0.get(n);const r=t().finally(()=>G0.delete(n));return G0.set(n,r),r}async function v2(t){return new Promise(e=>setTimeout(e,t))}function bv(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,o)=>{const s=async({count:a=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:a,error:c}):e;u&&await v2(u),s({count:a+1})};try{const c=await t();i(c)}catch(c){if(a<n&&await r({count:a,error:c}))return l({error:c});o(c)}};s()})}function rY(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,methods:o,retryDelay:s=150,retryCount:a=3,uid:l}={...e,...r},{method:c}=n;if(o?.exclude?.includes(c))throw new kc(new Error("method not supported"),{method:c});if(o?.include&&!o.include.includes(c))throw new kc(new Error("method not supported"),{method:c});const u=i?rf(`${l}.${pr(n)}`):void 0;return nY(()=>bv(async()=>{try{return await t(n)}catch(d){const f=d;switch(f.code){case $p.code:throw new $p(f);case qp.code:throw new qp(f);case Kp.code:throw new Kp(f,{method:n.method});case Qp.code:throw new Qp(f);case su.code:throw new su(f);case au.code:throw new au(f);case Xp.code:throw new Xp(f);case Ol.code:throw new Ol(f);case Yp.code:throw new Yp(f);case kc.code:throw new kc(f,{method:n.method});case lf.code:throw new lf(f);case Jp.code:throw new Jp(f);case Sn.code:throw new Sn(f);case Zp.code:throw new Zp(f);case em.code:throw new em(f);case tm.code:throw new tm(f);case nm.code:throw new nm(f);case Lo.code:throw new Lo(f);case cf.code:throw new cf(f);case rm.code:throw new rm(f);case im.code:throw new im(f);case om.code:throw new om(f);case sm.code:throw new sm(f);case am.code:throw new am(f);case uf.code:throw new uf(f);case 5e3:throw new Sn(f);default:throw d instanceof Fe?d:new _q(f)}}},{delay:({count:d,error:f})=>{if(f&&f instanceof lp){const h=f?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h)*1e3}return~~(1<<d)*s},retryCount:a,shouldRetry:({error:d})=>iY(d)}),{enabled:i,id:u})}}function iY(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===lf.code||t.code===su.code:t instanceof lp&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Pu(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function yT(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,o)=>{(async()=>{let s;try{const a=new AbortController;n>0&&(s=setTimeout(()=>{r?a.abort():o(e)},n)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(e),o(a)}finally{clearTimeout(s)}})()})}function oY(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const rI=oY();function sY(t,e={}){return{async request(n){const{body:r,onRequest:i=e.onRequest,onResponse:o=e.onResponse,timeout:s=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:c,signal:u}=a;try{const d=await yT(async({signal:h})=>{const g={...a,body:Array.isArray(r)?pr(r.map(v=>({jsonrpc:"2.0",id:v.id??rI.take(),...v}))):pr({jsonrpc:"2.0",id:r.id??rI.take(),...r}),headers:{"Content-Type":"application/json",...l},method:c||"POST",signal:u||(s>0?h:null)},m=new Request(t,g),y=await i?.(m,g)??{...g,url:t};return await fetch(y.url??t,y)},{errorInstance:new kM({body:r,url:t}),timeout:s,signal:!0});o&&await o(d);let f;if(d.headers.get("Content-Type")?.startsWith("application/json"))f=await d.json();else{f=await d.text();try{f=JSON.parse(f||"{}")}catch(h){if(d.ok)throw h;f={error:f}}}if(!d.ok)throw new lp({body:r,details:pr(f.error)||d.statusText,headers:d.headers,status:d.status,url:t});return f}catch(d){throw d instanceof lp||d instanceof kM?d:new lp({body:r,cause:d,url:t})}}}}class aY extends Fe{constructor({domain:e}){super(`Invalid domain "${pr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class lY extends Fe{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class cY extends Fe{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function uY(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:jL({domain:e}),...t.types};zL({domain:e,message:n,primaryType:r,types:i});const o=["0x1901"];return e&&o.push(dY({domain:e,types:i})),r!=="EIP712Domain"&&o.push(BL({data:n,primaryType:r,types:i})),Lr($s(o))}function dY({domain:t,types:e}){return BL({data:t,primaryType:"EIP712Domain",types:e})}function BL({data:t,primaryType:e,types:n}){const r=LL({data:t,primaryType:e,types:n});return Lr(r)}function LL({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[fY({primaryType:e,types:n})];for(const o of n[e]){const[s,a]=UL({types:n,name:o.name,type:o.type,value:t[o.name]});r.push(s),i.push(a)}return Zl(r,i)}function fY({primaryType:t,types:e}){const n=hi(hY({primaryType:t,types:e}));return Lr(n)}function hY({primaryType:t,types:e}){let n="";const r=DL({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const o of i)n+=`${o}(${e[o].map(({name:s,type:a})=>`${a} ${s}`).join(",")})`;return n}function DL({primaryType:t,types:e},n=new Set){const i=t.match(/^\w*/u)?.[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const o of e[i])DL({primaryType:o.type,types:e},n);return n}function UL({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Lr(LL({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Lr(r)];if(n==="string")return[{type:"bytes32"},Lr(hi(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),o=r.map(s=>UL({name:e,type:i,types:t,value:s}));return[{type:"bytes32"},Lr(Zl(o.map(([s])=>s),o.map(([,s])=>s)))]}return[{type:n},r]}function pY(t){const{domain:e,message:n,primaryType:r,types:i}=t,o=(l,c)=>{const u={...c};for(const d of l){const{name:f,type:h}=d;h==="address"&&(u[f]=u[f].toLowerCase())}return u},s=i.EIP712Domain?e?o(i.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(i[r],n)})();return pr({domain:s,message:a,primaryType:r,types:i})}function zL(t){const{domain:e,message:n,primaryType:r,types:i}=t,o=(s,a)=>{for(const l of s){const{name:c,type:u}=l,d=a[c],f=u.match(lB);if(f&&(typeof d=="number"||typeof d=="bigint")){const[m,y,p]=f;je(d,{signed:y==="int",size:Number.parseInt(p)/8})}if(u==="address"&&typeof d=="string"&&!sr(d))throw new gi({address:d});const h=u.match(q$);if(h){const[m,y]=h;if(y&&kn(d)!==Number.parseInt(y))throw new u$({expectedSize:Number.parseInt(y),givenSize:kn(d)})}const g=i[u];g&&(mY(u),o(g,d))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new aY({domain:e});o(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])o(i[r],n);else throw new lY({primaryType:r,types:i})}function jL({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function mY(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new cY({type:t})}function gY(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,i=n.address;if(!sr(i))throw new gi({address:i});if(r<0)throw new Gw({chainId:r})}vT(t)}function yY(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new TB;for(const n of e){const r=kn(n),i=Bo(iu(n,0,1));if(r!==32)throw new Xq({hash:n,size:r});if(i!==CB)throw new Yq({hash:n,version:i})}}vT(t)}function vT(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=t;if(e<=0)throw new Gw({chainId:e});if(i&&!sr(i))throw new gi({address:i});if(r&&r>$w)throw new ou({maxFeePerGas:r});if(n&&r&&n>r)throw new Vp({maxFeePerGas:r,maxPriorityFeePerGas:n})}function vY(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:o}=t;if(e<=0)throw new Gw({chainId:e});if(o&&!sr(o))throw new gi({address:o});if(n||i)throw new Fe("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>$w)throw new ou({maxFeePerGas:r})}function wY(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:o}=t;if(o&&!sr(o))throw new gi({address:o});if(typeof e<"u"&&e<=0)throw new Gw({chainId:e});if(n||i)throw new Fe("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>$w)throw new ou({maxFeePerGas:r})}function s1(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:i}=t[n];for(let o=0;o<i.length;o++)if(i[o].length-2!==64)throw new wq({storageKey:i[o]});if(!sr(r,{strict:!1}))throw new gi({address:r});e.push([r,i])}return e}function bY(t,e){const n=IB(t);return n==="eip1559"?AY(t,e):n==="eip2930"?_Y(t,e):n==="eip4844"?EY(t,e):n==="eip7702"?xY(t,e):SY(t,e)}function xY(t,e){const{authorizationList:n,chainId:r,gas:i,nonce:o,to:s,value:a,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:d}=t;gY(t);const f=s1(u),h=CY(n);return gs(["0x04",Gl([je(r),o?je(o):"0x",c?je(c):"0x",l?je(l):"0x",i?je(i):"0x",s??"0x",a?je(a):"0x",d??"0x",f,h,...Xm(t,e)])])}function EY(t,e){const{chainId:n,gas:r,nonce:i,to:o,value:s,maxFeePerBlobGas:a,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:d}=t;yY(t);let f=t.blobVersionedHashes,h=t.sidecars;if(t.blobs&&(typeof f>"u"||typeof h>"u")){const w=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(N=>or(N)),x=t.kzg,T=XC({blobs:w,kzg:x});if(typeof f>"u"&&(f=AB({commitments:T})),typeof h>"u"){const N=YC({blobs:w,commitments:T,kzg:x});h=MB({blobs:w,commitments:T,proofs:N})}}const g=s1(u),m=[je(n),i?je(i):"0x",c?je(c):"0x",l?je(l):"0x",r?je(r):"0x",o??"0x",s?je(s):"0x",d??"0x",g,a?je(a):"0x",f??[],...Xm(t,e)],y=[],p=[],v=[];if(h)for(let w=0;w<h.length;w++){const{blob:x,commitment:T,proof:N}=h[w];y.push(x),p.push(T),v.push(N)}return gs(["0x03",Gl(h?[m,y,p,v]:m)])}function AY(t,e){const{chainId:n,gas:r,nonce:i,to:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:l,accessList:c,data:u}=t;vT(t);const d=s1(c),f=[je(n),i?je(i):"0x",l?je(l):"0x",a?je(a):"0x",r?je(r):"0x",o??"0x",s?je(s):"0x",u??"0x",d,...Xm(t,e)];return gs(["0x02",Gl(f)])}function _Y(t,e){const{chainId:n,gas:r,data:i,nonce:o,to:s,value:a,accessList:l,gasPrice:c}=t;vY(t);const u=s1(l),d=[je(n),o?je(o):"0x",c?je(c):"0x",r?je(r):"0x",s??"0x",a?je(a):"0x",i??"0x",u,...Xm(t,e)];return gs(["0x01",Gl(d)])}function SY(t,e){const{chainId:n=0,gas:r,data:i,nonce:o,to:s,value:a,gasPrice:l}=t;wY(t);let c=[o?je(o):"0x",l?je(l):"0x",r?je(r):"0x",s??"0x",a?je(a):"0x",i??"0x"];if(e){const u=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const h=27n+(e.v===27n?0n:1n);if(e.v!==h)throw new yq({v:e.v});return h})(),d=Oi(e.r),f=Oi(e.s);c=[...c,je(u),d==="0x00"?"0x":d,f==="0x00"?"0x":f]}else n>0&&(c=[...c,je(n),"0x","0x"]);return Gl(c)}function Xm(t,e){const n=e??t,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const o=Oi(n.r),s=Oi(n.s);return[typeof i=="number"?i?je(1):"0x":r===0n?"0x":r===1n?je(1):r===27n?"0x":je(1),o==="0x00"?"0x":o,s==="0x00"?"0x":s]}function CY(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:i,...o}=n,s=n.address;e.push([r?hi(r):"0x",s,i?hi(i):"0x",...Xm({},o)])}return e}const TY=`Ethereum Signed Message:
`;function MY(t){const e=typeof t=="string"?rf(t):typeof t.raw=="string"?t.raw:or(t.raw),n=rf(`${TY}${kn(e)}`);return $s([n,e])}function GL(t,e){return Lr(MY(t),e)}const HL="0x6492649264926492649264926492649264926492649264926492649264926492";function IY(t){return yv(t,-32)===HL}function RY(t){const{address:e,data:n,signature:r,to:i="hex"}=t,o=gs([Zl([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),HL]);return i==="hex"?o:Oo(o)}const PY="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function kY(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:o,traceAssetChanges:s,traceTransfers:a,validation:l}=e,c=e.account?Vn(e.account):void 0;if(s&&!c)throw new Fe("`account` is required when `traceAssetChanges` is true");const u=c?XX(YX("constructor(bytes, bytes)"),{bytecode:dL,args:[PY,JX(ju("function getBalance(address)"),[c.address])]}):void 0,d=s?await Promise.all(e.calls.map(async C=>{if(!C.data&&!C.abi)return;const{accessList:j}=await wL(t,{account:c.address,...C,data:C.abi?Go(C):C.data});return j.map(({address:H,storageKeys:D})=>D.length>0?H:null)})).then(C=>C.flat().filter(Boolean)):[],f=await f2(t,{blockNumber:n,blockTag:r,blocks:[...s?[{calls:[{data:u}],stateOverrides:o},{calls:d.map((C,j)=>({abi:[ju("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:C,from:Es,nonce:j})),stateOverrides:[{address:Es,nonce:0}]}]:[],{calls:[...i,{}].map(C=>({...C,from:c?.address})),stateOverrides:o},...s?[{calls:[{data:u}]},{calls:d.map((C,j)=>({abi:[ju("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:C,from:Es,nonce:j})),stateOverrides:[{address:Es,nonce:0}]},{calls:d.map((C,j)=>({to:C,abi:[ju("function decimals() returns (uint256)")],functionName:"decimals",from:Es,nonce:j})),stateOverrides:[{address:Es,nonce:0}]},{calls:d.map((C,j)=>({to:C,abi:[ju("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Es,nonce:j})),stateOverrides:[{address:Es,nonce:0}]},{calls:d.map((C,j)=>({to:C,abi:[ju("function symbol() returns (string)")],functionName:"symbol",from:Es,nonce:j})),stateOverrides:[{address:Es,nonce:0}]}]:[]],traceTransfers:a,validation:l}),h=s?f[2]:f[0],[g,m,,y,p,v,w,x]=s?f:[],{calls:T,...N}=h,A=T.slice(0,-1)??[],z=g?.calls??[],S=m?.calls??[],k=[...z,...S].map(C=>C.status==="success"?Ar(C.data):null),R=y?.calls??[],W=p?.calls??[],L=[...R,...W].map(C=>C.status==="success"?Ar(C.data):null),b=(v?.calls??[]).map(C=>C.status==="success"?C.result:null),E=(x?.calls??[]).map(C=>C.status==="success"?C.result:null),I=(w?.calls??[]).map(C=>C.status==="success"?C.result:null),O=[];for(const[C,j]of L.entries()){const H=k[C];if(typeof j!="bigint"||typeof H!="bigint")continue;const D=b[C-1],M=E[C-1],$=I[C-1],J=C===0?{address:tY,decimals:18,symbol:"ETH"}:{address:d[C-1],decimals:$||D?Number(D??1):void 0,symbol:M??void 0};O.some(Z=>Z.token.address===J.address)||O.push({token:J,value:{pre:H,post:j,diff:j-H}})}return{assetChanges:O,block:N,results:A}}const Qb=new Map,iI=new Map;let NY=0;function Da(t,e,n){const r=++NY,i=()=>Qb.get(t)||[],o=()=>{const u=i();Qb.set(t,u.filter(d=>d.id!==r))},s=()=>{const u=i();if(!u.some(f=>f.id===r))return;const d=iI.get(t);if(u.length===1&&d){const f=d();f instanceof Promise&&f.catch(()=>{})}o()},a=i();if(Qb.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return s;const l={};for(const u in e)l[u]=(...d)=>{const f=i();if(f.length!==0)for(const h of f)h.fns[u]?.(...d)};const c=n(l);return typeof c=="function"&&iI.set(t,c),s}function $f(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const o=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:o}));const l=await n?.(a)??r;await v2(l);const c=async()=>{i&&(await t({unpoll:o}),await v2(r),c())};c()})(),o}function FY(t,{blockTag:e="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:o,includeTransactions:s,poll:a,pollingInterval:l=t.pollingInterval}){const c=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),u=s??!1;let d;return c?(()=>{const g=pr(["watchBlocks",t.uid,e,n,r,u,l]);return Da(g,{onBlock:i,onError:o},m=>$f(async()=>{try{const y=await It(t,Ds,"getBlock")({blockTag:e,includeTransactions:u});if(y.number!==null&&d?.number!=null){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let p=d?.number+1n;p<y.number;p++){const v=await It(t,Ds,"getBlock")({blockNumber:p,includeTransactions:u});m.onBlock(v,d),d=v}}(d?.number==null||e==="pending"&&y?.number==null||y.number!==null&&y.number>d.number)&&(m.onBlock(y,d),d=y)}catch(y){m.onError?.(y)}},{emitOnBegin:r,interval:l}))})():(()=>{let g=!0,m=!0,y=()=>g=!1;return(async()=>{try{r&&It(t,Ds,"getBlock")({blockTag:e,includeTransactions:u}).then(w=>{g&&m&&(i(w,void 0),m=!1)}).catch(o);const p=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(x=>x.config.type==="webSocket");return w?w.value:t.transport}return t.transport})(),{unsubscribe:v}=await p.subscribe({params:["newHeads"],async onData(w){if(!g)return;const x=await It(t,Ds,"getBlock")({blockNumber:w.result?.number,includeTransactions:u}).catch(()=>{});g&&(i(x,d),m=!1,d=x)},onError(w){o?.(w)}});y=v,g||y()}catch(p){o?.(p)}})(),()=>y()})()}function WL(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:o,pollingInterval:s=t.pollingInterval}){const a=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let l;return a?(()=>{const d=pr(["watchBlockNumber",t.uid,e,n,s]);return Da(d,{onBlockNumber:r,onError:i},f=>$f(async()=>{try{const h=await It(t,Qm,"getBlockNumber")({cacheTime:0});if(l){if(h===l)return;if(h-l>1&&n)for(let g=l+1n;g<h;g++)f.onBlockNumber(g,l),l=g}(!l||h>l)&&(f.onBlockNumber(h,l),l=h)}catch(h){f.onError?.(h)}},{emitOnBegin:e,interval:s}))})():(()=>{const d=pr(["watchBlockNumber",t.uid,e,n]);return Da(d,{onBlockNumber:r,onError:i},f=>{let h=!0,g=()=>h=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const p=t.transport.transports.find(v=>v.config.type==="webSocket");return p?p.value:t.transport}return t.transport})(),{unsubscribe:y}=await m.subscribe({params:["newHeads"],onData(p){if(!h)return;const v=Ar(p.result?.number);f.onBlockNumber(v,l),l=v},onError(p){f.onError?.(p)}});g=y,h||g()}catch(m){i?.(m)}})(),()=>g()})})()}async function a1(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function OY(t,{address:e,args:n,batch:r=!0,event:i,events:o,fromBlock:s,onError:a,onLogs:l,poll:c,pollingInterval:u=t.pollingInterval,strict:d}){const f=typeof c<"u"?c:typeof s=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),h=d??!1;return f?(()=>{const y=pr(["watchEvent",e,n,r,t.uid,i,u,s]);return Da(y,{onLogs:l,onError:a},p=>{let v;s!==void 0&&(v=s-1n);let w,x=!1;const T=$f(async()=>{if(!x){try{w=await It(t,xL,"createEventFilter")({address:e,args:n,event:i,events:o,strict:h,fromBlock:s})}catch{}x=!0;return}try{let N;if(w)N=await It(t,i1,"getFilterChanges")({filter:w});else{const A=await It(t,Qm,"getBlockNumber")({});v&&v!==A?N=await It(t,hT,"getLogs")({address:e,args:n,event:i,events:o,fromBlock:v+1n,toBlock:A}):N=[],v=A}if(N.length===0)return;if(r)p.onLogs(N);else for(const A of N)p.onLogs([A])}catch(N){w&&N instanceof au&&(x=!1),p.onError?.(N)}},{emitOnBegin:!0,interval:u});return async()=>{w&&await It(t,a1,"uninstallFilter")({filter:w}),T()}})})():(()=>{let y=!0,p=()=>y=!1;return(async()=>{try{const v=(()=>{if(t.transport.type==="fallback"){const N=t.transport.transports.find(A=>A.config.type==="webSocket");return N?N.value:t.transport}return t.transport})(),w=o??(i?[i]:void 0);let x=[];w&&(x=[w.flatMap(A=>Km({abi:[A],eventName:A.name,args:n}))],i&&(x=x[0]));const{unsubscribe:T}=await v.subscribe({params:["logs",{address:e,topics:x}],onData(N){if(!y)return;const A=N.result;try{const{eventName:z,args:S}=dT({abi:w??[],data:A.data,topics:A.topics,strict:h}),k=La(A,{args:S,eventName:z});l([k])}catch(z){let S,k;if(z instanceof Gp||z instanceof Uw){if(d)return;S=z.abiItem.name,k=z.abiItem.inputs?.some(W=>!("name"in W&&W.name))}const R=La(A,{args:k?[]:{},eventName:S});l([R])}},onError(N){a?.(N)}});p=T,y||p()}catch(v){a?.(v)}})(),()=>p()})()}function BY(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:o=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket")?(()=>{const c=pr(["watchPendingTransactions",t.uid,e,o]);return Da(c,{onTransactions:r,onError:n},u=>{let d;const f=$f(async()=>{try{if(!d)try{d=await It(t,EL,"createPendingTransactionFilter")({});return}catch(g){throw f(),g}const h=await It(t,i1,"getFilterChanges")({filter:d});if(h.length===0)return;if(e)u.onTransactions(h);else for(const g of h)u.onTransactions([g])}catch(h){u.onError?.(h)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await It(t,a1,"uninstallFilter")({filter:d}),f()}})})():(()=>{let c=!0,u=()=>c=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!c)return;const h=f.result;r([h])},onError(f){n?.(f)}});u=d,c||u()}catch(d){n?.(d)}})(),()=>u()})()}async function LY(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>Gm(n))}async function DY(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function UY(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?Vn(n):void 0,o=r?[i?.address,[je(r)]]:[i?.address],s=await t.request({method:"wallet_getCapabilities",params:o}),a={};for(const[l,c]of Object.entries(s)){a[Number(l)]={};for(let[u,d]of Object.entries(c))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(l)][u]=d}return typeof r=="number"?a[r]:a}const VL="0x5792579257925792579257925792579257925792579257925792579257925792",$L=je(0,{size:32});async function zY(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:o,experimental_fallbackDelay:s=32,forceAtomic:a=!1,id:l,version:c="2.0.0"}=e,u=n?Vn(n):null,d=e.calls.map(f=>{const h=f;return{data:h.abi?Go({abi:h.abi,functionName:h.functionName,args:h.args}):h.data,to:h.to,value:h.value?je(h.value):void 0}});try{const f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:je(i.id),from:u?.address,id:l,version:c}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const h=f;if(o&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method"))){if(r&&Object.values(r).some(v=>!v.optional)){const v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new cf(new Fe(v,{details:v}))}if(a&&d.length>1){const p="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new uf(new Fe(p,{details:p}))}const g=[];for(const p of d){const v=Qw(t,{account:u,chain:i,data:p.data,to:p.to,value:p.value?Ar(p.value):void 0});g.push(v),s>0&&await new Promise(w=>setTimeout(w,s))}const m=await Promise.allSettled(g);if(m.every(p=>p.status==="rejected"))throw m[0].reason;const y=m.map(p=>p.status==="fulfilled"?p.value:$L);return{id:$s([...y,je(i.id,{size:32}),VL])}}throw vB(f,{...e,account:u,chain:e.chain})}}async function qL(t,e){async function n(u){if(u.endsWith(VL.slice(2))){const f=Oi(yv(u,-64,-32)),h=yv(u,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(h.map(y=>$L.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),m=g.some(y=>y===null)?100:g.every(y=>y?.status==="0x1")?200:g.every(y=>y?.status==="0x0")?500:600;return{atomic:!1,chainId:Bo(f),receipts:g.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:i,receipts:o,version:s="2.0.0",...a}=await n(e.id),[l,c]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:i?Bo(i):void 0,receipts:o?.map(u=>({...u,blockNumber:Ar(u.blockNumber),gasUsed:Ar(u.gasUsed),status:_L[u.status]}))??[],statusCode:c,status:l,version:s}}async function jY(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function GY(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:f})=>f>=200,timeout:o=6e4}=e,s=pr(["waitForCallsStatus",t.uid,n]),{promise:a,resolve:l,reject:c}=lT();let u;const d=Da(s,{resolve:l,reject:c},f=>{const h=$f(async()=>{const g=m=>{clearTimeout(u),h(),m(),d()};try{const m=await qL(t,{id:n});if(!i(m))return;g(()=>f.resolve(m))}catch(m){g(()=>f.reject(m))}},{interval:r,emitOnBegin:!0});return h});return u=o?setTimeout(()=>{d(),clearTimeout(u),c(new HY({id:n}))},o):void 0,await a}class HY extends Fe{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function WY(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function VY(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Bo(t.nonce):void 0,storageProof:t.storageProof?WY(t.storageProof):void 0}}async function $Y(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const o=r??"latest",s=n!==void 0?je(n):void 0,a=await t.request({method:"eth_getProof",params:[e,i,s||o]});return VY(a)}async function qY(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:i=t.pollingInterval,retryCount:o=6,retryDelay:s=({count:l})=>~~(1<<l)*200,timeout:a=18e4}){const l=pr(["waitForTransactionReceipt",t.uid,n]);let c,u,d,f=!1,h,g;const{promise:m,resolve:y,reject:p}=lT(),v=a?setTimeout(()=>{g(),h(),p(new xq({hash:n}))},a):void 0;return h=Da(l,{onReplaced:r,resolve:y,reject:p},w=>{g=It(t,WL,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(x){const T=A=>{clearTimeout(v),g(),A(),h()};let N=x;if(!f)try{if(d){if(e>1&&(!d.blockNumber||N-d.blockNumber+1n<e))return;T(()=>w.resolve(d));return}if(c||(f=!0,await bv(async()=>{c=await It(t,pT,"getTransaction")({hash:n}),c.blockNumber&&(N=c.blockNumber)},{delay:s,retryCount:o}),f=!1),d=await It(t,d2,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||N-d.blockNumber+1n<e))return;T(()=>w.resolve(d))}catch(A){if(A instanceof gB||A instanceof yB){if(!c){f=!1;return}try{u=c,f=!0;const z=await bv(()=>It(t,Ds,"getBlock")({blockNumber:N,includeTransactions:!0}),{delay:s,retryCount:o,shouldRetry:({error:R})=>R instanceof wB});f=!1;const S=z.transactions.find(({from:R,nonce:W})=>R===u.from&&W===u.nonce);if(!S||(d=await It(t,d2,"getTransactionReceipt")({hash:S.hash}),e>1&&(!d.blockNumber||N-d.blockNumber+1n<e)))return;let k="replaced";S.to===u.to&&S.value===u.value&&S.input===u.input?k="repriced":S.from===S.to&&S.value===0n&&(k="cancelled"),T(()=>{w.onReplaced?.({reason:k,replacedTransaction:u,transaction:S,transactionReceipt:d}),w.resolve(d)})}catch(z){T(()=>w.reject(z))}}else T(()=>w.reject(A))}}})}),m}async function KY(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Dr(n))}async function QY(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function KL(t,e){const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new Tu({docsPath:"/docs/eip7702/prepareAuthorization"});const o=Vn(n),s=(()=>{if(e.executor)return e.executor==="self"?e.executor:Vn(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof a.chainId>"u"&&(a.chainId=t.chain?.id??await It(t,Hf,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await It(t,QC,"getTransactionCount")({address:o.address,blockTag:"pending"}),(s==="self"||s?.address&&r1(s.address,o.address))&&(a.nonce+=1)),a}async function XY(t,e){const{account:n=t.account}=e;if(!n)throw new Tu({docsPath:"/docs/eip7702/signAuthorization"});const r=Vn(n);if(!r.signAuthorization)throw new fy({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await KL(t,e);return r.signAuthorization(i)}async function YY(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new Tu({docsPath:"/docs/actions/wallet/signTransaction"});const o=Vn(n);Mu({account:o,...e});const s=await It(t,Hf,"getChainId")({});r!==null&&mB({currentChainId:s,chain:r});const l=(r?.formatters||t.chain?.formatters)?.transactionRequest?.format||Gf;return o.signTransaction?o.signTransaction({...i,chainId:s},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...l(i),chainId:je(s),from:o.address}]},{retryCount:0})}async function QL(t,{account:e=t.account,message:n}){if(!e)throw new Tu({docsPath:"/docs/actions/wallet/signMessage"});const r=Vn(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?rf(n):n.raw instanceof Uint8Array?hi(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function JY(t,e){const{account:n=t.account,domain:r,message:i,primaryType:o}=e;if(!n)throw new Tu({docsPath:"/docs/actions/wallet/signTypedData"});const s=Vn(n),a={EIP712Domain:jL({domain:r}),...e.types};if(zL({domain:r,message:i,primaryType:o,types:a}),s.signTypedData)return s.signTypedData({domain:r,message:i,primaryType:o,types:a});const l=pY({domain:r,message:i,primaryType:o,types:a});return t.request({method:"eth_signTypedData_v4",params:[s.address,l]},{retryCount:0})}async function ZY(t,e){const{abi:n,address:r,args:i,dataSuffix:o,functionName:s,...a}=e,l=a.account?Vn(a.account):t.account,c=Go({abi:n,args:i,functionName:s});try{const{data:u}=await It(t,t1,"call")({batch:!1,data:`${c}${o?o.replace("0x",""):""}`,to:r,...a,account:l}),d=Ru({abi:n,args:i,functionName:s,data:u||"0x"}),f=n.filter(h=>"name"in h&&h.name===e.functionName);return{result:d,request:{abi:f,address:r,args:i,dataSuffix:o,functionName:s,...a,account:l}}}catch(u){throw cu(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:s,sender:l?.address})}}async function eJ(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:je(e)}]},{retryCount:0})}let XL=class extends NC{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,x$(e);const r=jm(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),af(o)}update(e){return sf(this),this.iHash.update(e),this}digestInto(e){sf(this),ms(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const YL=(t,e,n)=>new XL(t,e).update(n).digest();YL.create=(t,e)=>new XL(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mi=BigInt(0),pi=BigInt(1),Nc=BigInt(2),tJ=BigInt(3),JL=BigInt(4),ZL=BigInt(5),eD=BigInt(8);function xo(t,e){const n=t%e;return n>=Mi?n:e+n}function po(t,e,n){let r=t;for(;e-- >Mi;)r*=r,r%=n;return r}function oI(t,e){if(t===Mi)throw new Error("invert: expected non-zero number");if(e<=Mi)throw new Error("invert: expected positive modulus, got "+e);let n=xo(t,e),r=e,i=Mi,o=pi;for(;n!==Mi;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==pi)throw new Error("invert: does not exist");return xo(i,e)}function tD(t,e){const n=(t.ORDER+pi)/JL,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function nJ(t,e){const n=(t.ORDER-ZL)/eD,r=t.mul(e,Nc),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,Nc),i),a=t.mul(o,t.sub(s,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function rJ(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-pi,n=0;for(;e%Nc===Mi;)e/=Nc,n++;let r=Nc;const i=l1(t);for(;sI(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return tD;let o=i.pow(r,e);const s=(e+pi)/Nc;return function(l,c){if(l.is0(c))return c;if(sI(l,c)!==1)throw new Error("Cannot find square root");let u=n,d=l.mul(l.ONE,o),f=l.pow(c,e),h=l.pow(c,s);for(;!l.eql(f,l.ONE);){if(l.is0(f))return l.ZERO;let g=1,m=l.sqr(f);for(;!l.eql(m,l.ONE);)if(g++,m=l.sqr(m),g===u)throw new Error("Cannot find square root");const y=pi<<BigInt(u-g-1),p=l.pow(d,y);u=g,d=l.sqr(p),f=l.mul(f,d),h=l.mul(h,p)}return h}}function iJ(t){return t%JL===tJ?tD:t%eD===ZL?nJ:rJ(t)}const oJ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sJ(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=oJ.reduce((r,i)=>(r[i]="function",r),e);return iT(t,n),t}function aJ(t,e,n){if(n<Mi)throw new Error("invalid exponent, negatives unsupported");if(n===Mi)return t.ONE;if(n===pi)return e;let r=t.ONE,i=e;for(;n>Mi;)n&pi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=pi;return r}function nD(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),o),r}function sI(t,e){const n=(t.ORDER-pi)/Nc,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function lJ(t,e){e!==void 0&&Hp(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function l1(t,e,n=!1,r={}){if(t<=Mi)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(o=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:s,nByteLength:a}=lJ(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:a,MASK:e1(s),ZERO:Mi,ONE:pi,create:u=>xo(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Mi<=u&&u<t},is0:u=>u===Mi,isValidNot0:u=>!c.is0(u)&&c.isValid(u),isOdd:u=>(u&pi)===pi,neg:u=>xo(-u,t),eql:(u,d)=>u===d,sqr:u=>xo(u*u,t),add:(u,d)=>xo(u+d,t),sub:(u,d)=>xo(u-d,t),mul:(u,d)=>xo(u*d,t),pow:(u,d)=>aJ(c,u,d),div:(u,d)=>xo(u*oI(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>oI(u,t),sqrt:o||(u=>(l||(l=iJ(t)),l(c,u))),toBytes:u=>n?rL(u,a):rT(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?nL(u):Zw(u)},invertBatch:u=>nD(c,u),cmov:(u,d,f)=>f?d:u});return Object.freeze(c)}function rD(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function iD(t){const e=rD(t);return e+Math.ceil(e/2)}function cJ(t,e,n=!1){const r=t.length,i=rD(e),o=iD(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?nL(t):Zw(t),a=xo(s,e-pi)+pi;return n?rL(a,i):rT(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const df=BigInt(0),Fc=BigInt(1);function cp(t,e){const n=e.negate();return t?n:e}function uJ(t,e,n){const r=s=>s.pz,i=nD(t.Fp,n.map(r));return n.map((s,a)=>s.toAffine(i[a])).map(t.fromAffine)}function oD(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Xb(t,e){oD(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=e1(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function aI(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),l=t>>s;a>r&&(a-=o,l+=Fc);const c=e*r,u=c+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:c}}function dJ(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function fJ(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Yb=new WeakMap,sD=new WeakMap;function Jb(t){return sD.get(t)||1}function lI(t){if(t!==df)throw new Error("invalid wNAF")}function hJ(t,e){return{constTimeNegate:cp,hasPrecomputes(n){return Jb(n)!==1},unsafeLadder(n,r,i=t.ZERO){let o=n;for(;r>df;)r&Fc&&(i=i.add(o)),o=o.double(),r>>=Fc;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=Xb(r,e),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let u=1;u<o;u++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){let o=t.ZERO,s=t.BASE;const a=Xb(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:g}=aI(i,l,a);i=c,d?s=s.add(cp(h,r[g])):o=o.add(cp(f,r[u]))}return lI(i),{p:o,f:s}},wNAFUnsafe(n,r,i,o=t.ZERO){const s=Xb(n,e);for(let a=0;a<s.windows&&i!==df;a++){const{nextN:l,offset:c,isZero:u,isNeg:d}=aI(i,a,s);if(i=l,!u){const f=r[c];o=o.add(d?f.negate():f)}}return lI(i),o},getPrecomputes(n,r,i){let o=Yb.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(o=i(o)),Yb.set(r,o))),o},wNAFCached(n,r,i){const o=Jb(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=Jb(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){oD(r,e),sD.set(n,r),Yb.delete(n)}}}function pJ(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>df||r>df;)n&Fc&&(o=o.add(i)),r&Fc&&(s=s.add(i)),i=i.double(),n>>=Fc,r>>=Fc;return{p1:o,p2:s}}function mJ(t,e,n,r){dJ(n,t),fJ(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=pQ(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=e1(l),u=new Array(Number(c)+1).fill(s),d=Math.floor((e.BITS-1)/l)*l;let f=s;for(let h=d;h>=0;h-=l){u.fill(s);for(let m=0;m<o;m++){const y=r[m],p=Number(y>>BigInt(h)&c);u[p]=u[p].add(n[m])}let g=s;for(let m=u.length-1,y=s;m>0;m--)y=y.add(u[m]),g=g.add(y);if(f=f.add(g),h!==0)for(let m=0;m<l;m++)f=f.double()}return f}function cI(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return sJ(e),e}else return l1(t)}function gJ(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const l=e[a];if(!(typeof l=="bigint"&&l>df))throw new Error(`CURVE.${a} must be positive bigint`)}const r=cI(e.p,n.Fp),i=cI(e.n,n.Fn),s=["Gx","Gy","a","b"];for(const a of s)if(!r.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uI(t){t.lowS!==void 0&&wv("lowS",t.lowS),t.prehash!==void 0&&wv("prehash",t.prehash)}class yJ extends Error{constructor(e=""){super(e)}}const ma={Err:yJ,_tlv:{encode:(t,e)=>{const{Err:n}=ma;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=j0(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?j0(i.length/2|128):"";return j0(t)+o+i+e},decode(t,e){const{Err:n}=ma;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)s=s<<8|u;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=ma;if(t<up)throw new e("integer: negative integers are not allowed");let n=j0(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ma;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Zw(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ma,i=wo("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=ma,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},up=BigInt(0),dp=BigInt(1),vJ=BigInt(2),H0=BigInt(3),wJ=BigInt(4);function bJ(t,e,n){function r(i){const o=t.sqr(i),s=t.mul(o,i);return t.add(t.add(s,t.mul(i,e)),n)}return r}function aD(t,e,n){const{BYTES:r}=t;function i(o){let s;if(typeof o=="bigint")s=o;else{let a=wo("private key",o);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{s=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof o}`)}}if(n&&(s=t.create(s)),!t.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return i}function xJ(t,e={}){const{Fp:n,Fn:r}=gJ("weierstrass",t,e),{h:i,n:o}=t;iT(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=e;if(s&&(!n.is0(t.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(z,S,k){const{x:R,y:W}=S.toAffine(),L=n.toBytes(R);if(wv("isCompressed",k),k){a();const b=!n.isOdd(W);return Pc(lD(b),L)}else return Pc(Uint8Array.of(4),L,n.toBytes(W))}function c(z){ms(z);const S=n.BYTES,k=S+1,R=2*S+1,W=z.length,L=z[0],b=z.subarray(1);if(W===k&&(L===2||L===3)){const E=n.fromBytes(b);if(!n.isValid(E))throw new Error("bad point: is not on curve, wrong x");const I=f(E);let O;try{O=n.sqrt(I)}catch(H){const D=H instanceof Error?": "+H.message:"";throw new Error("bad point: is not on curve, sqrt error"+D)}a();const C=n.isOdd(O);return(L&1)===1!==C&&(O=n.neg(O)),{x:E,y:O}}else if(W===R&&L===4){const E=n.fromBytes(b.subarray(S*0,S*1)),I=n.fromBytes(b.subarray(S*1,S*2));if(!h(E,I))throw new Error("bad point: is not on curve");return{x:E,y:I}}else throw new Error(`bad point: got length ${W}, expected compressed=${k} or uncompressed=${R}`)}const u=e.toBytes||l,d=e.fromBytes||c,f=bJ(n,t.a,t.b);function h(z,S){const k=n.sqr(S),R=f(z);return n.eql(k,R)}if(!h(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const g=n.mul(n.pow(t.a,H0),wJ),m=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(g,m)))throw new Error("bad curve params: a or b");function y(z,S,k=!1){if(!n.isValid(S)||k&&n.is0(S))throw new Error(`bad point coordinate ${z}`);return S}function p(z){if(!(z instanceof T))throw new Error("ProjectivePoint expected")}const v=$M((z,S)=>{const{px:k,py:R,pz:W}=z;if(n.eql(W,n.ONE))return{x:k,y:R};const L=z.is0();S==null&&(S=L?n.ONE:n.inv(W));const b=n.mul(k,S),E=n.mul(R,S),I=n.mul(W,S);if(L)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:b,y:E}}),w=$M(z=>{if(z.is0()){if(e.allowInfinityPoint&&!n.is0(z.py))return;throw new Error("bad point: ZERO")}const{x:S,y:k}=z.toAffine();if(!n.isValid(S)||!n.isValid(k))throw new Error("bad point: x or y not field elements");if(!h(S,k))throw new Error("bad point: equation left != right");if(!z.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function x(z,S,k,R,W){return k=new T(n.mul(k.px,z),k.py,k.pz),S=cp(R,S),k=cp(W,k),S.add(k)}class T{constructor(S,k,R){this.px=y("x",S),this.py=y("y",k,!0),this.pz=y("z",R),Object.freeze(this)}static fromAffine(S){const{x:k,y:R}=S||{};if(!S||!n.isValid(k)||!n.isValid(R))throw new Error("invalid affine point");if(S instanceof T)throw new Error("projective point not allowed");return n.is0(k)&&n.is0(R)?T.ZERO:new T(k,R,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){return uJ(T,"pz",S)}static fromBytes(S){return ms(S),T.fromHex(S)}static fromHex(S){const k=T.fromAffine(d(wo("pointHex",S)));return k.assertValidity(),k}static fromPrivateKey(S){const k=aD(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return T.BASE.multiply(k(S))}static msm(S,k){return mJ(T,r,S,k)}precompute(S=8,k=!0){return A.setWindowSize(this,S),k||this.multiply(H0),this}_setWindowSize(S){this.precompute(S)}assertValidity(){w(this)}hasEvenY(){const{y:S}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(S)}equals(S){p(S);const{px:k,py:R,pz:W}=this,{px:L,py:b,pz:E}=S,I=n.eql(n.mul(k,E),n.mul(L,W)),O=n.eql(n.mul(R,E),n.mul(b,W));return I&&O}negate(){return new T(this.px,n.neg(this.py),this.pz)}double(){const{a:S,b:k}=t,R=n.mul(k,H0),{px:W,py:L,pz:b}=this;let E=n.ZERO,I=n.ZERO,O=n.ZERO,C=n.mul(W,W),j=n.mul(L,L),H=n.mul(b,b),D=n.mul(W,L);return D=n.add(D,D),O=n.mul(W,b),O=n.add(O,O),E=n.mul(S,O),I=n.mul(R,H),I=n.add(E,I),E=n.sub(j,I),I=n.add(j,I),I=n.mul(E,I),E=n.mul(D,E),O=n.mul(R,O),H=n.mul(S,H),D=n.sub(C,H),D=n.mul(S,D),D=n.add(D,O),O=n.add(C,C),C=n.add(O,C),C=n.add(C,H),C=n.mul(C,D),I=n.add(I,C),H=n.mul(L,b),H=n.add(H,H),C=n.mul(H,D),E=n.sub(E,C),O=n.mul(H,j),O=n.add(O,O),O=n.add(O,O),new T(E,I,O)}add(S){p(S);const{px:k,py:R,pz:W}=this,{px:L,py:b,pz:E}=S;let I=n.ZERO,O=n.ZERO,C=n.ZERO;const j=t.a,H=n.mul(t.b,H0);let D=n.mul(k,L),M=n.mul(R,b),$=n.mul(W,E),J=n.add(k,R),Z=n.add(L,b);J=n.mul(J,Z),Z=n.add(D,M),J=n.sub(J,Z),Z=n.add(k,W);let ce=n.add(L,E);return Z=n.mul(Z,ce),ce=n.add(D,$),Z=n.sub(Z,ce),ce=n.add(R,W),I=n.add(b,E),ce=n.mul(ce,I),I=n.add(M,$),ce=n.sub(ce,I),C=n.mul(j,Z),I=n.mul(H,$),C=n.add(I,C),I=n.sub(M,C),C=n.add(M,C),O=n.mul(I,C),M=n.add(D,D),M=n.add(M,D),$=n.mul(j,$),Z=n.mul(H,Z),M=n.add(M,$),$=n.sub(D,$),$=n.mul(j,$),Z=n.add(Z,$),D=n.mul(M,Z),O=n.add(O,D),D=n.mul(ce,Z),I=n.mul(J,I),I=n.sub(I,D),D=n.mul(J,M),C=n.mul(ce,C),C=n.add(C,D),new T(I,O,C)}subtract(S){return this.add(S.negate())}is0(){return this.equals(T.ZERO)}multiply(S){const{endo:k}=e;if(!r.isValidNot0(S))throw new Error("invalid scalar: out of range");let R,W;const L=b=>A.wNAFCached(this,b,T.normalizeZ);if(k){const{k1neg:b,k1:E,k2neg:I,k2:O}=k.splitScalar(S),{p:C,f:j}=L(E),{p:H,f:D}=L(O);W=j.add(D),R=x(k.beta,C,H,b,I)}else{const{p:b,f:E}=L(S);R=b,W=E}return T.normalizeZ([R,W])[0]}multiplyUnsafe(S){const{endo:k}=e,R=this;if(!r.isValid(S))throw new Error("invalid scalar: out of range");if(S===up||R.is0())return T.ZERO;if(S===dp)return R;if(A.hasPrecomputes(this))return this.multiply(S);if(k){const{k1neg:W,k1:L,k2neg:b,k2:E}=k.splitScalar(S),{p1:I,p2:O}=pJ(T,R,L,E);return x(k.beta,I,O,W,b)}else return A.wNAFCachedUnsafe(R,S)}multiplyAndAddUnsafe(S,k,R){const W=this.multiplyUnsafe(k).add(S.multiplyUnsafe(R));return W.is0()?void 0:W}toAffine(S){return v(this,S)}isTorsionFree(){const{isTorsionFree:S}=e;return i===dp?!0:S?S(T,this):A.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:S}=e;return i===dp?this:S?S(T,this):this.multiplyUnsafe(i)}toBytes(S=!0){return wv("isCompressed",S),this.assertValidity(),u(T,this,S)}toRawBytes(S=!0){return this.toBytes(S)}toHex(S=!0){return Wp(this.toBytes(S))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}T.BASE=new T(t.Gx,t.Gy,n.ONE),T.ZERO=new T(n.ZERO,n.ONE,n.ZERO),T.Fp=n,T.Fn=r;const N=r.BITS,A=hJ(T,e.endo?Math.ceil(N/2):N);return T}function lD(t){return Uint8Array.of(t?2:3)}function EJ(t,e,n={}){iT(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||I$,i=e.hmac||((R,...W)=>YL(e.hash,R,Pc(...W))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:l}=s;function c(R){const W=a>>dp;return R>W}function u(R){return c(R)?s.neg(R):R}function d(R,W){if(!s.isValidNot0(W))throw new Error(`invalid signature ${R}: out of range 1..CURVE.n`)}class f{constructor(W,L,b){d("r",W),d("s",L),this.r=W,this.s=L,b!=null&&(this.recovery=b),Object.freeze(this)}static fromCompact(W){const L=s.BYTES,b=wo("compactSignature",W,L*2);return new f(s.fromBytes(b.subarray(0,L)),s.fromBytes(b.subarray(L,L*2)))}static fromDER(W){const{r:L,s:b}=ma.toSig(wo("DER",W));return new f(L,b)}assertValidity(){}addRecoveryBit(W){return new f(this.r,this.s,W)}recoverPublicKey(W){const L=o.ORDER,{r:b,s:E,recovery:I}=this;if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");if(a*vJ<L&&I>1)throw new Error("recovery id is ambiguous for h>1 curve");const C=I===2||I===3?b+a:b;if(!o.isValid(C))throw new Error("recovery id 2 or 3 invalid");const j=o.toBytes(C),H=t.fromHex(Pc(lD((I&1)===0),j)),D=s.inv(C),M=w(wo("msgHash",W)),$=s.create(-M*D),J=s.create(E*D),Z=t.BASE.multiplyUnsafe($).add(H.multiplyUnsafe(J));if(Z.is0())throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,s.neg(this.s),this.recovery):this}toBytes(W){if(W==="compact")return Pc(s.toBytes(this.r),s.toBytes(this.s));if(W==="der")return kC(ma.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Wp(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Wp(this.toBytes("compact"))}}const h=aD(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),g={isValidPrivateKey(R){try{return h(R),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const R=a;return cJ(r(iD(R)),R)},precompute(R=8,W=t.BASE){return W.precompute(R,!1)}};function m(R,W=!0){return t.fromPrivateKey(R).toBytes(W)}function y(R){if(typeof R=="bigint")return!1;if(R instanceof t)return!0;const L=wo("key",R).length,b=o.BYTES,E=b+1,I=2*b+1;if(!(n.allowedPrivateKeyLengths||s.BYTES===E))return L===E||L===I}function p(R,W,L=!0){if(y(R)===!0)throw new Error("first arg must be private key");if(y(W)===!1)throw new Error("second arg must be public key");return t.fromHex(W).multiply(h(R)).toBytes(L)}const v=e.bits2int||function(R){if(R.length>8192)throw new Error("input is too large");const W=Zw(R),L=R.length*8-l;return L>0?W>>BigInt(L):W},w=e.bits2int_modN||function(R){return s.create(v(R))},x=e1(l);function T(R){return hQ("num < 2^"+l,R,up,x),s.toBytes(R)}function N(R,W,L=A){if(["recovered","canonical"].some(J=>J in L))throw new Error("sign() legacy options not supported");const{hash:b}=e;let{lowS:E,prehash:I,extraEntropy:O}=L;E==null&&(E=!0),R=wo("msgHash",R),uI(L),I&&(R=wo("prehashed msgHash",b(R)));const C=w(R),j=h(W),H=[T(j),T(C)];if(O!=null&&O!==!1){const J=O===!0?r(o.BYTES):O;H.push(wo("extraEntropy",J))}const D=Pc(...H),M=C;function $(J){const Z=v(J);if(!s.isValidNot0(Z))return;const ce=s.inv(Z),oe=t.BASE.multiply(Z).toAffine(),Ee=s.create(oe.x);if(Ee===up)return;const de=s.create(ce*s.create(M+Ee*j));if(de===up)return;let Re=(oe.x===Ee?0:2)|Number(oe.y&dp),ae=de;return E&&c(de)&&(ae=u(de),Re^=1),new f(Ee,ae,Re)}return{seed:D,k2sig:$}}const A={lowS:e.lowS,prehash:!1},z={lowS:e.lowS,prehash:!1};function S(R,W,L=A){const{seed:b,k2sig:E}=N(R,W,L);return mQ(e.hash.outputLen,s.BYTES,i)(b,E)}t.BASE.precompute(8);function k(R,W,L,b=z){const E=R;W=wo("msgHash",W),L=wo("publicKey",L),uI(b);const{lowS:I,prehash:O,format:C}=b;if("strict"in b)throw new Error("options.strict was renamed to lowS");if(C!==void 0&&!["compact","der","js"].includes(C))throw new Error('format must be "compact", "der" or "js"');const j=typeof E=="string"||PC(E),H=!j&&!C&&typeof E=="object"&&E!==null&&typeof E.r=="bigint"&&typeof E.s=="bigint";if(!j&&!H)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let D,M;try{if(H)if(C===void 0||C==="js")D=new f(E.r,E.s);else throw new Error("invalid format");if(j){try{C!=="compact"&&(D=f.fromDER(E))}catch(ae){if(!(ae instanceof ma.Err))throw ae}!D&&C!=="der"&&(D=f.fromCompact(E))}M=t.fromHex(L)}catch{return!1}if(!D||I&&D.hasHighS())return!1;O&&(W=e.hash(W));const{r:$,s:J}=D,Z=w(W),ce=s.inv(J),oe=s.create(Z*ce),Ee=s.create($*ce),de=t.BASE.multiplyUnsafe(oe).add(M.multiplyUnsafe(Ee));return de.is0()?!1:s.create(de.x)===$}return Object.freeze({getPublicKey:m,getSharedSecret:p,sign:S,verify:k,utils:g,Point:t,Signature:f})}function AJ(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=l1(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function _J(t){const{CURVE:e,curveOpts:n}=AJ(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function SJ(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function CJ(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=_J(t),i=xJ(e,n),o=EJ(i,r,n);return SJ(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function TJ(t,e){const n=r=>CJ({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xv={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const MJ=BigInt(1),w2=BigInt(2),dI=(t,e)=>(t+e/w2)/e;function IJ(t){const e=xv.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,d=po(u,n,e)*u%e,f=po(d,n,e)*u%e,h=po(f,w2,e)*c%e,g=po(h,i,e)*h%e,m=po(g,o,e)*g%e,y=po(m,a,e)*m%e,p=po(y,l,e)*y%e,v=po(p,a,e)*m%e,w=po(v,n,e)*u%e,x=po(w,s,e)*g%e,T=po(x,r,e)*c%e,N=po(T,w2,e);if(!b2.eql(b2.sqr(N),t))throw new Error("Cannot find square root");return N}const b2=l1(xv.p,void 0,void 0,{sqrt:IJ}),cD=TJ({...xv,Fp:b2,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=xv.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-MJ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=dI(o*t,e),l=dI(-r*t,e);let c=xo(t-a*n-l*i,e),u=xo(-a*r-l*o,e);const d=c>s,f=u>s;if(d&&(c=e-c),f&&(u=e-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:f,k2:u}}}},EB),RJ=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:cD},Symbol.toStringTag,{value:"Module"}));function PJ({r:t,s:e,to:n="hex",v:r,yParity:i}){const o=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),s=`0x${new cD.Signature(Ar(t),Ar(e)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?s:Oo(s)}async function wT(t,e){const{address:n,factory:r,factoryData:i,hash:o,signature:s,universalSignatureVerifierAddress:a=t.chain?.contracts?.universalSignatureVerifier?.address,...l}=e,c=Vs(s)?s:typeof s=="object"&&"r"in s&&"s"in s?PJ(s):or(s),u=await(async()=>!r&&!i||IY(c)?c:RY({address:r,data:i,signature:c}))();try{const d=a?{to:a,data:Go({abi:zM,functionName:"isValidSig",args:[n,o,u]}),...l}:{data:jw({abi:zM,args:[n,o,u],bytecode:jQ}),...l},{data:f}=await It(t,t1,"call")(d);return XV(f??"0x0")}catch(d){try{if(r1(Dr(n),await cB({hash:o,signature:s})))return!0}catch{}if(d instanceof YB)return!1;throw d}}async function kJ(t,{address:e,message:n,factory:r,factoryData:i,signature:o,...s}){const a=GL(n);return wT(t,{address:e,factory:r,factoryData:i,hash:a,signature:o,...s})}async function NJ(t,e){const{address:n,factory:r,factoryData:i,signature:o,message:s,primaryType:a,types:l,domain:c,...u}=e,d=uY({message:s,primaryType:a,types:l,domain:c});return wT(t,{address:n,factory:r,factoryData:i,hash:d,signature:o,...u})}async function FJ(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function OJ(t,e){const{abi:n,address:r,args:i,batch:o=!0,eventName:s,fromBlock:a,onError:l,onLogs:c,poll:u,pollingInterval:d=t.pollingInterval,strict:f}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))?(()=>{const y=f??!1,p=pr(["watchContractEvent",r,i,o,t.uid,s,d,y,a]);return Da(p,{onLogs:c,onError:l},v=>{let w;a!==void 0&&(w=a-1n);let x,T=!1;const N=$f(async()=>{if(!T){try{x=await It(t,bL,"createContractEventFilter")({abi:n,address:r,args:i,eventName:s,strict:y,fromBlock:a})}catch{}T=!0;return}try{let A;if(x)A=await It(t,i1,"getFilterChanges")({filter:x});else{const z=await It(t,Qm,"getBlockNumber")({});w&&w<z?A=await It(t,AL,"getContractEvents")({abi:n,address:r,args:i,eventName:s,fromBlock:w+1n,toBlock:z,strict:y}):A=[],w=z}if(A.length===0)return;if(o)v.onLogs(A);else for(const z of A)v.onLogs([z])}catch(A){x&&A instanceof au&&(T=!1),v.onError?.(A)}},{emitOnBegin:!0,interval:d});return async()=>{x&&await It(t,a1,"uninstallFilter")({filter:x}),N()}})})():(()=>{const y=f??!1,p=pr(["watchContractEvent",r,i,o,t.uid,s,d,y]);let v=!0,w=()=>v=!1;return Da(p,{onLogs:c,onError:l},x=>((async()=>{try{const T=(()=>{if(t.transport.type==="fallback"){const z=t.transport.transports.find(S=>S.config.type==="webSocket");return z?z.value:t.transport}return t.transport})(),N=s?Km({abi:n,eventName:s,args:i}):[],{unsubscribe:A}=await T.subscribe({params:["logs",{address:r,topics:N}],onData(z){if(!v)return;const S=z.result;try{const{eventName:k,args:R}=dT({abi:n,data:S.data,topics:S.topics,strict:f}),W=La(S,{args:R,eventName:k});x.onLogs([W])}catch(k){let R,W;if(k instanceof Gp||k instanceof Uw){if(f)return;R=k.abiItem.name,W=k.abiItem.inputs?.some(b=>!("name"in b&&b.name))}const L=La(S,{args:W?[]:{},eventName:R});x.onLogs([L])}},onError(z){x.onError?.(z)}});w=A,v||w()}catch(T){l?.(T)}})(),()=>w()))})()}async function BJ(t,e){const{abi:n,account:r=t.account,address:i,args:o,dataSuffix:s,functionName:a,...l}=e;if(typeof r>"u")throw new Tu({docsPath:"/docs/contract/writeContract"});const c=r?Vn(r):null,u=Go({abi:n,args:o,functionName:a});try{return await It(t,Qw,"sendTransaction")({data:`${u}${s?s.replace("0x",""):""}`,to:i,account:c,...l})}catch(d){throw cu(d,{abi:n,address:i,args:o,docsPath:"/docs/contract/writeContract",functionName:a,sender:c?.address})}}function qf(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:o=>e(t,o)}const py="2.17.3",LJ=()=>`@wagmi/core@${py}`;var uD=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ev,dD;let $a=class x2 extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return LJ()}constructor(e,n={}){super(),Ev.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof x2?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof x2&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return uD(this,Ev,"m",dD).call(this,this,e)}};Ev=new WeakSet,dD=function t(e,n){return n?.(e)?e:e.cause?uD(this,Ev,"m",t).call(this,e.cause,n):e};class fu extends $a{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class DJ extends $a{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class UJ extends $a{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class zJ extends $a{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class jJ extends $a{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class GJ extends $a{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function HJ(t,e){let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new DJ;try{t.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...i}=e,o=await n.connect(i),s=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await t.storage?.setItem("recentConnectorId",n.id),t.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:s,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s,chainId:o.chainId}}catch(r){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),r}}const E2=256;let W0=E2,V0;function fD(t=11){if(!V0||W0+t>E2*2){V0="",W0=0;for(let e=0;e<E2;e++)V0+=(256+Math.random()*256|0).toString(16).substring(1)}return V0.substring(W0,W0+++t)}function bT(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:o="Base Client",type:s="base"}=t,a=n?.blockTime??12e3,l=Math.min(Math.max(Math.floor(a/2),500),4e3),c=t.pollingInterval??l,u=t.cacheTime??c,d=t.account?Vn(t.account):void 0,{config:f,request:h,value:g}=t.transport({chain:n,pollingInterval:c}),m={...f,...g},y={account:d,batch:e,cacheTime:u,ccipRead:r,chain:n,key:i,name:o,pollingInterval:c,request:h,transport:m,type:s,uid:fD()};function p(v){return w=>{const x=w(v);for(const N in y)delete x[N];const T={...v,...x};return Object.assign(T,{extend:p(T)})}}return Object.assign(y,{extend:p(y)})}function hD({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:o=150,timeout:s,type:a},l){const c=fD();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:o,timeout:s,type:a},request:rY(r,{methods:e,retryCount:i,retryDelay:o,uid:c}),value:l}}function WJ(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:o}=e;return({retryCount:s})=>hD({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??s,retryDelay:o,type:"custom"})}class VJ extends Fe{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function ca(t,e={}){const{batch:n,fetchOptions:r,key:i="http",methods:o,name:s="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:l,retryDelay:c,raw:u}=e;return({chain:d,retryCount:f,timeout:h})=>{const{batchSize:g=1e3,wait:m=0}=typeof n=="object"?n:{},y=e.retryCount??f,p=h??e.timeout??1e4,v=t||d?.rpcUrls.default.http[0];if(!v)throw new VJ;const w=sY(v,{fetchOptions:r,onRequest:a,onResponse:l,timeout:p});return hD({key:i,methods:o,name:s,async request({method:x,params:T}){const N={method:x,params:T},{schedule:A}=hL({id:v,wait:m,shouldSplitBatch(R){return R.length>g},fn:R=>w.request({body:R}),sort:(R,W)=>R.id-W.id}),z=async R=>n?A(R):[await w.request({body:R})],[{error:S,result:k}]=await z(N);if(u)return{error:S,result:k};if(S)throw new jC({body:N,error:S,url:v});return k},retryCount:y,retryDelay:c,timeout:p,type:"http"},{fetchOptions:r,url:v})}}function $J(t){const{scheme:e,statement:n,...r}=t.match(qJ)?.groups??{},{chainId:i,expirationTime:o,issuedAt:s,notBefore:a,requestId:l,...c}=t.match(KJ)?.groups??{},u=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...c,...i?{chainId:Number(i)}:{},...o?{expirationTime:new Date(o)}:{},...s?{issuedAt:new Date(s)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const qJ=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,KJ=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function QJ(t){const{address:e,domain:n,message:r,nonce:i,scheme:o,time:s=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||o&&r.scheme!==o||r.expirationTime&&s>=r.expirationTime||r.notBefore&&s<r.notBefore)return!1;try{if(!r.address||!sr(r.address,{strict:!1})||e&&!r1(r.address,e))return!1}catch{return!1}return!0}async function XJ(t,e){const{address:n,domain:r,message:i,nonce:o,scheme:s,signature:a,time:l=new Date,...c}=e,u=$J(i);if(!u.address||!QJ({address:n,domain:r,message:u,nonce:o,scheme:s,time:l}))return!1;const f=GL(i);return wT(t,{address:u.address,hash:f,signature:a,...c})}function pD(t){return{call:e=>t1(t,e),createAccessList:e=>wL(t,e),createBlockFilter:()=>aX(t),createContractEventFilter:e=>bL(t,e),createEventFilter:e=>xL(t,e),createPendingTransactionFilter:()=>EL(t),estimateContractGas:e=>cX(t,e),estimateGas:e=>KC(t,e),getBalance:e=>qC(t,e),getBlobBaseFee:()=>uX(t),getBlock:e=>Ds(t,e),getBlockNumber:e=>Qm(t,e),getBlockTransactionCount:e=>gX(t,e),getBytecode:e=>eI(t,e),getChainId:()=>Hf(t),getCode:e=>eI(t,e),getContractEvents:e=>AL(t,e),getEip712Domain:e=>bX(t,e),getEnsAddress:e=>qQ(t,e),getEnsAvatar:e=>yL(t,e),getEnsName:e=>vL(t,e),getEnsResolver:e=>sX(t,e),getEnsText:e=>gL(t,e),getFeeHistory:e=>AX(t,e),estimateFeesPerGas:e=>Nq(t,e),getFilterChanges:e=>i1(t,e),getFilterLogs:e=>_X(t,e),getGasPrice:()=>VC(t),getLogs:e=>hT(t,e),getProof:e=>$Y(t,e),estimateMaxPriorityFeePerGas:e=>kq(t,e),getStorageAt:e=>SX(t,e),getTransaction:e=>pT(t,e),getTransactionConfirmations:e=>CX(t,e),getTransactionCount:e=>QC(t,e),getTransactionReceipt:e=>d2(t,e),multicall:e=>CL(t,e),prepareTransactionRequest:e=>Kw(t,e),readContract:e=>Ks(t,e),sendRawTransaction:e=>ZC(t,e),simulate:e=>f2(t,e),simulateBlocks:e=>f2(t,e),simulateCalls:e=>kY(t,e),simulateContract:e=>ZY(t,e),verifyMessage:e=>kJ(t,e),verifySiweMessage:e=>XJ(t,e),verifyTypedData:e=>NJ(t,e),uninstallFilter:e=>a1(t,e),waitForTransactionReceipt:e=>qY(t,e),watchBlocks:e=>FY(t,e),watchBlockNumber:e=>WL(t,e),watchContractEvent:e=>OJ(t,e),watchEvent:e=>OY(t,e),watchPendingTransactions:e=>BY(t,e)}}function YJ(t){const{key:e="public",name:n="Public Client"}=t;return bT({...t,key:e,name:n,type:"publicClient"}).extend(pD)}function JJ(t){return{addChain:e=>e$(t,e),deployContract:e=>Zq(t,e),getAddresses:()=>LY(t),getCallsStatus:e=>qL(t,e),getCapabilities:e=>UY(t,e),getChainId:()=>Hf(t),getPermissions:()=>DY(t),prepareAuthorization:e=>KL(t,e),prepareTransactionRequest:e=>Kw(t,e),requestAddresses:()=>KY(t),requestPermissions:e=>QY(t,e),sendCalls:e=>zY(t,e),sendRawTransaction:e=>ZC(t,e),sendTransaction:e=>Qw(t,e),showCallsStatus:e=>jY(t,e),signAuthorization:e=>XY(t,e),signMessage:e=>QL(t,e),signTransaction:e=>YY(t,e),signTypedData:e=>JY(t,e),switchChain:e=>eJ(t,e),waitForCallsStatus:e=>GY(t,e),watchAsset:e=>FJ(t,e),writeContract:e=>BJ(t,e)}}async function mD(t,e={}){let n;if(e.connector){const{connector:c}=e;if(t.state.status==="reconnecting"&&!c.getAccounts&&!c.getChainId)throw new GJ({connector:c});const[u,d]=await Promise.all([c.getAccounts().catch(f=>{if(e.account===null)return[];throw f}),c.getChainId()]);n={accounts:u,chainId:d,connector:c}}else n=t.state.connections.get(t.state.current);if(!n)throw new UJ;const r=e.chainId??n.chainId,i=await n.connector.getChainId();if(i!==n.chainId)throw new jJ({connectionChainId:n.chainId,connectorChainId:i});const o=n.connector;if(o.getClient)return o.getClient({chainId:r});const s=Vn(e.account??n.accounts[0]);if(s&&(s.address=Dr(s.address)),e.account&&!n.accounts.some(c=>c.toLowerCase()===s.address.toLowerCase()))throw new zJ({address:s.address,connector:o});const a=t.chains.find(c=>c.id===r),l=await n.connector.getProvider({chainId:r});return bT({account:s,chain:a,name:"Connector Client",transport:c=>WJ(l)({...c,retryCount:0})})}async function ZJ(t,e={}){let n;if(e.connector)n=e.connector;else{const{connections:i,current:o}=t.state;n=i.get(o)?.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(i=>{if(r.size===0)return{...i,connections:new Map,current:null,status:"disconnected"};const o=r.values().next().value;return{...i,connections:new Map(r),current:o.connector.uid}});{const i=t.state.current;if(!i)return;const o=t.state.connections.get(i)?.connector;if(!o)return;await t.storage?.setItem("recentConnectorId",o.id)}}function gD(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(mq[t])}function yD(t){const e=t.state.current,n=t.state.connections.get(e),r=n?.accounts,i=r?.[0],o=t.chains.find(a=>a.id===n?.chainId),s=t.state.status;switch(s){case"connected":return{address:i,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:s};case"reconnecting":return{address:i,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:s};case"connecting":return{address:i,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:s};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:s}}}async function eZ(t,e){const{allowFailure:n=!0,chainId:r,contracts:i,...o}=e,s=t.getClient({chainId:r});return qf(s,CL,"multicall")({allowFailure:n,contracts:i,...o})}function tZ(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return qf(i,Ks,"readContract")(r)}async function nZ(t,e){const{allowFailure:n=!0,blockNumber:r,blockTag:i,...o}=e,s=e.contracts;try{const a={};for(const[d,f]of s.entries()){const h=f.chainId??t.state.chainId;a[h]||(a[h]=[]),a[h]?.push({contract:f,index:d})}const l=()=>Object.entries(a).map(([d,f])=>eZ(t,{...o,allowFailure:n,blockNumber:r,blockTag:i,chainId:Number.parseInt(d),contracts:f.map(({contract:h})=>h)})),c=(await Promise.all(l())).flat(),u=Object.values(a).flatMap(d=>d.map(({index:f})=>f));return c.reduce((d,f,h)=>(d&&(d[u[h]]=f),d),[])}catch(a){if(a instanceof JB)throw a;const l=()=>s.map(c=>tZ(t,{...c,blockNumber:r,blockTag:i}));return n?(await Promise.allSettled(l())).map(c=>c.status==="fulfilled"?{result:c.value,status:"success"}:{error:c.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function rZ(t,e){const{address:n,blockNumber:r,blockTag:i,chainId:o,token:s,unit:a="ether"}=e;if(s)try{return await fI(t,{balanceAddress:n,chainId:o,symbolType:"string",tokenAddress:s})}catch(f){if(f.name==="ContractFunctionExecutionError"){const h=await fI(t,{balanceAddress:n,chainId:o,symbolType:"bytes32",tokenAddress:s}),g=YV(Oi(h.symbol,{dir:"right"}));return{...h,symbol:g}}throw f}const l=t.getClient({chainId:o}),u=await qf(l,qC,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:i}),d=t.chains.find(f=>f.id===o)??l.chain;return{decimals:d.nativeCurrency.decimals,formatted:Hm(u,gD(a)),symbol:d.nativeCurrency.symbol,value:u}}async function fI(t,e){const{balanceAddress:n,chainId:r,symbolType:i,tokenAddress:o,unit:s}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]}],address:o},[l,c,u]=await nZ(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=Hm(l??"0",gD(s??c));return{decimals:c,formatted:d,symbol:u,value:l}}function hI(t){return t.state.chainId}function Hl(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Hl(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(o&&!Hl(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}let Zb=[];function pI(t){const e=t.chains;return Hl(Zb,e)?Zb:(Zb=e,e)}function iZ(t,e={}){let n;try{n=t.getClient(e)}catch{}return n}let $0=[];function A2(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||Hl($0,e)?$0:($0=e,e)}let ex=[];function mI(t){const e=t.connectors;return Hl(ex,e)?ex:(ex=e,e)}function oZ(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return qf(i,yL,"getEnsAvatar")(r)}function sZ(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return qf(i,vL,"getEnsName")(r)}function _2(t,e={}){return iZ(t,e)?.extend(pD)}async function aZ(t,e={}){return(await mD(t,e)).extend(JJ)}let tx=!1;async function lZ(t,e={}){if(tx)return[];tx=!0,t.setState(c=>({...c,status:c.current?"reconnecting":"connecting"}));const n=[];if(e.connectors?.length)for(const c of e.connectors){let u;typeof c=="function"?u=t._internal.connectors.setup(c):u=c,n.push(u)}else n.push(...t.connectors);let r;try{r=await t.storage?.getItem("recentConnectorId")}catch{}const i={};for(const[,c]of t.state.connections)i[c.connector.id]=1;r&&(i[r]=0);const o=Object.keys(i).length>0?[...n].sort((c,u)=>(i[c.id]??10)-(i[u.id]??10)):n;let s=!1;const a=[],l=[];for(const c of o){const u=await c.getProvider().catch(()=>{});if(!u||l.some(h=>h===u)||!await c.isAuthorized())continue;const f=await c.connect({isReconnecting:!0}).catch(()=>null);f&&(c.emitter.off("connect",t._internal.events.connect),c.emitter.on("change",t._internal.events.change),c.emitter.on("disconnect",t._internal.events.disconnect),t.setState(h=>{const g=new Map(s?h.connections:new Map).set(c.uid,{accounts:f.accounts,chainId:f.chainId,connector:c});return{...h,current:s?h.current:c.uid,connections:g}}),a.push({accounts:f.accounts,chainId:f.chainId,connector:c}),l.push(u),s=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(s?t.setState(c=>({...c,status:"connected"})):t.setState(c=>({...c,connections:new Map,current:null,status:"disconnected"}))),tx=!1,a}async function cZ(t,e){const{account:n,connector:r,...i}=e;let o;return typeof n=="object"&&n.type==="local"?o=t.getClient():o=await mD(t,{account:n,connector:r}),qf(o,QL,"signMessage")({...i,...n?{account:n}:{}})}class _o extends $a{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class uZ extends $a{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function dZ(t,e){const{addEthereumChainParameter:n,chainId:r}=e,i=t.state.connections.get(e.connector?.uid??t.state.current);if(i){const s=i.connector;if(!s.switchChain)throw new uZ({connector:s});return await s.switchChain({addEthereumChainParameter:n,chainId:r})}const o=t.chains.find(s=>s.id===r);if(!o)throw new fu;return t.setState(s=>({...s,chainId:r})),o}function vD(t,e){const{onChange:n}=e;return t.subscribe(()=>yD(t),n,{equalityFn(r,i){const{connector:o,...s}=r,{connector:a,...l}=i;return Hl(s,l)&&o?.id===a?.id&&o?.uid===a?.uid}})}function fZ(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function hZ(t,e){const{onChange:n}=e;return t.subscribe(()=>A2(t),n,{equalityFn:Hl})}function pZ(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,i)=>{n(Object.values(r),i)})}function mZ(t,e){const{onChange:n}=e;return t.subscribe(()=>_2(t),n,{equalityFn(r,i){return r?.uid===i?.uid}})}Ym.type="injected";function Ym(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const l=t.target;if(typeof l=="function"){const c=l();if(c)return c}return typeof l=="object"?l:typeof l=="string"?{...gZ[l]??{id:l,name:`${l[0].toUpperCase()}${l.slice(1)}`,provider:`is${l[0].toUpperCase()}${l.slice(1)}`}}:{id:"injected",name:"Injected",provider(c){return c?.ethereum}}}let i,o,s,a;return l=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Ym.type,async setup(){const c=await this.getProvider();c?.on&&t.target&&(s||(s=this.onConnect.bind(this),c.on("connect",s)),i||(i=this.onAccountsChanged.bind(this),c.on("accountsChanged",i)))},async connect({chainId:c,isReconnecting:u}={}){const d=await this.getProvider();if(!d)throw new _o;let f=[];if(u)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(g=>Dr(g)),f.length>0&&(f=await this.getAccounts())}catch(h){const g=h;if(g.code===Sn.code)throw new Sn(g);if(g.code===Ol.code)throw g}try{!f?.length&&!u&&(f=(await d.request({method:"eth_requestAccounts"})).map(m=>Dr(m))),s&&(d.removeListener("connect",s),s=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),d.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let h=await this.getChainId();return c&&h!==c&&(h=(await this.switchChain({chainId:c}).catch(m=>{if(m.code===Sn.code)throw m;return{id:h}}))?.id??h),e&&await l.storage?.removeItem(`${this.id}.disconnected`),t.target||await l.storage?.setItem("injected.connected",!0),{accounts:f,chainId:h}}catch(h){const g=h;throw g.code===Sn.code?new Sn(g):g.code===Ol.code?new Ol(g):g}},async disconnect(){const c=await this.getProvider();if(!c)throw new _o;o&&(c.removeListener("chainChanged",o),o=void 0),a&&(c.removeListener("disconnect",a),a=void 0),s||(s=this.onConnect.bind(this),c.on("connect",s));try{await yT(()=>c.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await l.storage?.setItem(`${this.id}.disconnected`,!0),t.target||await l.storage?.removeItem("injected.connected")},async getAccounts(){const c=await this.getProvider();if(!c)throw new _o;return(await c.request({method:"eth_accounts"})).map(d=>Dr(d))},async getChainId(){const c=await this.getProvider();if(!c)throw new _o;const u=await c.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let c;const u=r();return typeof u.provider=="function"?c=u.provider(window):typeof u.provider=="string"?c=my(window,u.provider):c=u.provider,c&&!c.removeListener&&("off"in c&&typeof c.off=="function"?c.removeListener=c.off:c.removeListener=()=>{}),c},async isAuthorized(){try{if(e&&await l.storage?.getItem(`${this.id}.disconnected`)||!t.target&&!await l.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const f=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",f),!!await this.getProvider()),h=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(m=>window.addEventListener("ethereum#initialized",()=>m(f()),{once:!0}))]:[],new Promise(m=>setTimeout(()=>m(f()),h))]))return!0}throw new _o}return!!(await bv(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:u}){const d=await this.getProvider();if(!d)throw new _o;const f=l.chains.find(g=>g.id===u);if(!f)throw new Lo(new fu);const h=new Promise(g=>{const m=y=>{"chainId"in y&&y.chainId===u&&(l.emitter.off("change",m),g())};l.emitter.on("change",m)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:je(u)}]}).then(async()=>{await this.getChainId()===u&&l.emitter.emit("change",{chainId:u})}),h]),f}catch(g){const m=g;if(m.code===4902||m?.data?.originalError?.code===4902)try{const{default:y,...p}=f.blockExplorers??{};let v;c?.blockExplorerUrls?v=c.blockExplorerUrls:y&&(v=[y.url,...Object.values(p).map(T=>T.url)]);let w;c?.rpcUrls?.length?w=c.rpcUrls:w=[f.rpcUrls.default?.http[0]??""];const x={blockExplorerUrls:v,chainId:je(u),chainName:c?.chainName??f.name,iconUrls:c?.iconUrls,nativeCurrency:c?.nativeCurrency??f.nativeCurrency,rpcUrls:w};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[x]}).then(async()=>{if(await this.getChainId()===u)l.emitter.emit("change",{chainId:u});else throw new Sn(new Error("User rejected switch after adding network."))}),h]),f}catch(y){throw new Sn(y)}throw m.code===Sn.code?new Sn(m):new Lo(m)}},async onAccountsChanged(c){if(c.length===0)this.onDisconnect();else if(l.emitter.listenerCount("connect")){const u=(await this.getChainId()).toString();this.onConnect({chainId:u}),e&&await l.storage?.removeItem(`${this.id}.disconnected`)}else l.emitter.emit("change",{accounts:c.map(u=>Dr(u))})},onChainChanged(c){const u=Number(c);l.emitter.emit("change",{chainId:u})},async onConnect(c){const u=await this.getAccounts();if(u.length===0)return;const d=Number(c.chainId);l.emitter.emit("connect",{accounts:u,chainId:d});const f=await this.getProvider();f&&(s&&(f.removeListener("connect",s),s=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(c){const u=await this.getProvider();c&&c.code===1013&&u&&(await this.getAccounts()).length||(l.emitter.emit("disconnect"),u&&(o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),s||(s=this.onConnect.bind(this),u.on("connect",s))))}})}const gZ={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t?.coinbaseWalletExtension?t.coinbaseWalletExtension:my(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return my(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){return t?.phantom?.ethereum?t.phantom?.ethereum:my(t,"isPhantom")}}};function my(t,e){function n(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=t.ethereum;if(r?.providers)return r.providers.find(i=>n(i));if(r&&n(r))return r}function yZ(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function vZ(){const t=new Set;let e=[];const n=()=>yZ(i=>{e.some(({info:o})=>o.uuid===i.info.uuid)||(e=[...e,i],t.forEach(o=>o(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:i}){return e.find(o=>o.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(i,{emitImmediately:o}={}){return t.add(i),o&&i(e,{added:e}),()=>t.delete(i)}}}const wZ=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(s,a,l)=>{let c=s;if(a){const u=l?.equalityFn||Object.is;let d=s(r.getState());c=f=>{const h=s(f);if(!u(d,h)){const g=d;a(d=h,g)}},l?.fireImmediately&&a(d,d)}return i(c)},t(e,n,r)},bZ=wZ;function xZ(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var o;const s=l=>l===null?null:JSON.parse(l,void 0),a=(o=n.getItem(i))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const S2=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return S2(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return S2(r)(n)}}}},EZ=(t,e)=>(n,r,i)=>{let o={storage:xZ(()=>localStorage),partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...e},s=!1;const a=new Set,l=new Set;let c=o.storage;if(!c)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...m)},r,i);const u=()=>{const m=o.partialize({...r()});return c.setItem(o.name,{state:m,version:o.version})},d=i.setState;i.setState=(m,y)=>{d(m,y),u()};const f=t((...m)=>{n(...m),u()},r,i);i.getInitialState=()=>f;let h;const g=()=>{var m,y;if(!c)return;s=!1,a.forEach(v=>{var w;return v((w=r())!=null?w:f)});const p=((y=o.onRehydrateStorage)==null?void 0:y.call(o,(m=r())!=null?m:f))||void 0;return S2(c.getItem.bind(c))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return[!0,o.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var w;const[x,T]=v;if(h=o.merge(T,(w=r())!=null?w:f),n(h,!0),x)return u()}).then(()=>{p?.(h,void 0),h=r(),s=!0,l.forEach(v=>v(h))}).catch(v=>{p?.(void 0,v)})};return i.persist={setOptions:m=>{o={...o,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},o.skipHydration||g(),h||f},AZ=EZ,gI=t=>{let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const f=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,a);return a},nx=t=>t?gI(t):gI;var wD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,f),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],h]:l._events[g].push(h):(l._events[g]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,g=new Array(h);f<h;f++)g[f]=d[f].fn;return g},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,h,g){var m=n?n+c:c;if(!this._events[m])return!1;var y=this._events[m],p=arguments.length,v,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),p){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,f),!0;case 5:return y.fn.call(y.context,u,d,f,h),!0;case 6:return y.fn.call(y.context,u,d,f,h,g),!0}for(w=1,v=new Array(p-1);w<p;w++)v[w-1]=arguments[w];y.fn.apply(y.context,v)}else{var x=y.length,T;for(w=0;w<x;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),p){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,d);break;case 4:y[w].fn.call(y[w].context,u,d,f);break;default:if(!v)for(T=1,v=new Array(p-1);T<p;T++)v[T-1]=arguments[T];y[w].fn.apply(y[w].context,v)}}return!0},a.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var g=this._events[h];if(g.fn)g.fn===u&&(!f||g.once)&&(!d||g.context===d)&&s(this,h);else{for(var m=0,y=[],p=g.length;m<p;m++)(g[m].fn!==u||f&&!g[m].once||d&&g[m].context!==d)&&y.push(g[m]);y.length?this._events[h]=y.length===1?y[0]:y:s(this,h)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(wD);var _Z=wD.exports;const SZ=km(_Z);class CZ{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new SZ})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function TZ(t){return new CZ(t)}function MZ(t,e){return JSON.parse(t,(n,r)=>{let i=r;return i?.__type==="bigint"&&(i=BigInt(i.value)),i?.__type==="Map"&&(i=new Map(i.value)),e?.(n,i)??i})}function yI(t,e){return t.slice(0,e).join(".")||"."}function vI(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function IZ(t,e){const n=typeof t=="function",r=typeof e=="function",i=[],o=[];return function(a,l){if(typeof l=="object")if(i.length){const c=vI(i,this);c===0?i[i.length]=this:(i.splice(c),o.splice(c)),o[o.length]=a;const u=vI(i,l);if(u!==0)return r?e.call(this,a,l,yI(o,u)):`[ref=${yI(o,u)}]`}else i[0]=l,o[0]=a;return n?t.call(this,a,l):l}}function RZ(t,e,n,r){return JSON.stringify(t,IZ((i,o)=>{let s=o;return typeof s=="bigint"&&(s={__type:"bigint",value:o.toString()}),s instanceof Map&&(s={__type:"Map",value:Array.from(o.entries())}),e?.(i,s)??s},r),n??void 0)}function PZ(t){const{deserialize:e=MZ,key:n="wagmi",serialize:r=RZ,storage:i=bD}=t;function o(s){return s instanceof Promise?s.then(a=>a).catch(()=>null):s}return{...i,key:n,async getItem(s,a){const l=i.getItem(`${n}.${s}`),c=await o(l);return c?e(c)??null:a??null},async setItem(s,a){const l=`${n}.${s}`;a===null?await o(i.removeItem(l)):await o(i.setItem(l,r(a)))},async removeItem(s){await o(i.removeItem(`${n}.${s}`))}}}const bD={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function kZ(){const t=typeof window<"u"&&window.localStorage?window.localStorage:bD;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const C2=256;let q0=C2,K0;function NZ(t=11){if(!K0||q0+t>C2*2){K0="",q0=0;for(let e=0;e<C2;e++)K0+=(256+Math.random()*256|0).toString(16).substring(1)}return K0.substring(q0,q0+++t)}function xD(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=PZ({storage:kZ()}),syncConnectedChain:r=!0,ssr:i=!1,...o}=t,s=typeof window<"u"&&e?vZ():void 0,a=nx(()=>o.chains),l=nx(()=>{const T=[],N=new Set;for(const A of o.connectors??[]){const z=c(A);if(T.push(z),!i&&z.rdns){const S=typeof z.rdns=="string"?[z.rdns]:z.rdns;for(const k of S)N.add(k)}}if(!i&&s){const A=s.getProviders();for(const z of A)N.has(z.info.rdns)||T.push(c(u(z)))}return T});function c(T){const N=TZ(NZ()),A={...T({emitter:N,chains:a.getState(),storage:n,transports:o.transports}),emitter:N,uid:N.uid};return N.on("connect",w),A.setup?.(),A}function u(T){const{info:N}=T,A=T.provider;return Ym({target:{...N,id:N.rdns,provider:A}})}const d=new Map;function f(T={}){const N=T.chainId??y.getState().chainId,A=a.getState().find(S=>S.id===N);if(T.chainId&&!A)throw new fu;{const S=d.get(y.getState().chainId);if(S&&!A)return S;if(!A)throw new fu}{const S=d.get(N);if(S)return S}let z;if(o.client)z=o.client({chain:A});else{const S=A.id,k=a.getState().map(L=>L.id),R={},W=Object.entries(o);for(const[L,b]of W)if(!(L==="chains"||L==="client"||L==="connectors"||L==="transports"))if(typeof b=="object")if(S in b)R[L]=b[S];else{if(k.some(I=>I in b))continue;R[L]=b}else R[L]=b;z=bT({...R,chain:A,batch:R.batch??{multicall:!0},transport:L=>o.transports[S]({...L,connectors:l})})}return d.set(N,z),z}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let g;const m="0.0.0-canary-";py.startsWith(m)?g=Number.parseInt(py.replace(m,"")):g=Number.parseInt(py.split(".")[0]??"0");const y=nx(bZ(n?AZ(h,{migrate(T,N){if(N===g)return T;const A=h(),z=p(T,A.chainId);return{...A,chainId:z}},name:"store",partialize(T){return{connections:{__type:"Map",value:Array.from(T.connections.entries()).map(([N,A])=>{const{id:z,name:S,type:k,uid:R}=A.connector;return[N,{...A,connector:{id:z,name:S,type:k,uid:R}}]})},chainId:T.chainId,current:T.current}},merge(T,N){typeof T=="object"&&T&&"status"in T&&delete T.status;const A=p(T,N.chainId);return{...N,...T,chainId:A}},skipHydration:i,storage:n,version:g}):h));y.setState(h());function p(T,N){return T&&typeof T=="object"&&"chainId"in T&&typeof T.chainId=="number"&&a.getState().some(A=>A.id===T.chainId)?T.chainId:N}r&&y.subscribe(({connections:T,current:N})=>N?T.get(N)?.chainId:void 0,T=>{if(a.getState().some(A=>A.id===T))return y.setState(A=>({...A,chainId:T??A.chainId}))}),s?.subscribe(T=>{const N=new Set,A=new Set;for(const S of l.getState())if(N.add(S.id),S.rdns){const k=typeof S.rdns=="string"?[S.rdns]:S.rdns;for(const R of k)A.add(R)}const z=[];for(const S of T){if(A.has(S.info.rdns))continue;const k=c(u(S));N.has(k.id)||z.push(k)}n&&!y.persist.hasHydrated()||l.setState(S=>[...S,...z],!0)});function v(T){y.setState(N=>{const A=N.connections.get(T.uid);return A?{...N,connections:new Map(N.connections).set(T.uid,{accounts:T.accounts??A.accounts,chainId:T.chainId??A.chainId,connector:A.connector})}:N})}function w(T){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(N=>{const A=l.getState().find(z=>z.uid===T.uid);return A?(A.emitter.listenerCount("connect")&&A.emitter.off("connect",v),A.emitter.listenerCount("change")||A.emitter.on("change",v),A.emitter.listenerCount("disconnect")||A.emitter.on("disconnect",x),{...N,connections:new Map(N.connections).set(T.uid,{accounts:T.accounts,chainId:T.chainId,connector:A}),current:T.uid,status:"connected"}):N})}function x(T){y.setState(N=>{const A=N.connections.get(T.uid);if(A){const S=A.connector;S.emitter.listenerCount("change")&&A.connector.emitter.off("change",v),S.emitter.listenerCount("disconnect")&&A.connector.emitter.off("disconnect",x),S.emitter.listenerCount("connect")||A.connector.emitter.on("connect",w)}if(N.connections.delete(T.uid),N.connections.size===0)return{...N,connections:new Map,current:null,status:"disconnected"};const z=N.connections.values().next().value;return{...N,connections:new Map(N.connections),current:z.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return l.getState()},storage:n,getClient:f,get state(){return y.getState()},setState(T){let N;typeof T=="function"?N=T(y.getState()):N=T;const A=h();typeof N!="object"&&(N=A),Object.keys(A).some(S=>!(S in N))&&(N=A),y.setState(N,!0)},subscribe(T,N,A){return y.subscribe(T,N,A?{...A,fireImmediately:A.emitImmediately}:void 0)},_internal:{mipd:s,store:y,ssr:!!i,syncConnectedChain:r,transports:o.transports,chains:{setState(T){const N=typeof T=="function"?T(a.getState()):T;if(N.length!==0)return a.setState(N,!0)},subscribe(T){return a.subscribe(T)}},connectors:{providerDetailToConnector:u,setup:c,setState(T){return l.setState(typeof T=="function"?T(l.getState()):T,!0)},subscribe(T){return l.subscribe(T)}},events:{change:v,connect:w,disconnect:x}}}}function FZ(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(i=>i.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{const o=new Set;for(const l of i??[])if(l.rdns){const c=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const u of c)o.add(u)}const s=[],a=t._internal.mipd?.getProviders()??[];for(const l of a){if(o.has(l.info.rdns))continue;const c=t._internal.connectors.providerDetailToConnector(l),u=t._internal.connectors.setup(c);s.push(u)}return[...i,...s]})),r?lZ(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function OZ(t){const{chain:e}=t,n=e.rpcUrls.default.http[0];if(!t.transports)return[n];const r=t.transports?.[e.id]?.({chain:e});return(r?.value?.transports||[r]).map(({value:o})=>o?.url||n)}function BZ(t){const{children:e,config:n,initialState:r,reconnectOnMount:i=!0}=t,{onMount:o}=FZ(n,{initialState:r,reconnectOnMount:i});n._internal.ssr||o();const s=U.useRef(!0);return U.useEffect(()=>{if(s.current&&n._internal.ssr)return o(),()=>{s.current=!1}},[]),e}const ED=U.createContext(void 0);function LZ(t){const{children:e,config:n}=t,r={value:n};return U.createElement(BZ,t,U.createElement(ED.Provider,r,e))}const DZ="2.15.6",UZ=()=>`wagmi@${DZ}`;class zZ extends $a{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return UZ()}}class jZ extends zZ{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function yr(t={}){const e=t.config??U.useContext(ED);if(!e)throw new jZ;return e}function GZ(t,e){const{onChange:n}=e;return t._internal.chains.subscribe((r,i)=>{n(r,i)})}var AD={exports:{}},_D={},SD={exports:{}},CD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=U;function HZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var WZ=typeof Object.is=="function"?Object.is:HZ,VZ=ff.useState,$Z=ff.useEffect,qZ=ff.useLayoutEffect,KZ=ff.useDebugValue;function QZ(t,e){var n=e(),r=VZ({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return qZ(function(){i.value=n,i.getSnapshot=e,rx(i)&&o({inst:i})},[t,n,e]),$Z(function(){return rx(i)&&o({inst:i}),t(function(){rx(i)&&o({inst:i})})},[t]),KZ(n),n}function rx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!WZ(t,n)}catch{return!0}}function XZ(t,e){return e()}var YZ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?XZ:QZ;CD.useSyncExternalStore=ff.useSyncExternalStore!==void 0?ff.useSyncExternalStore:YZ;SD.exports=CD;var JZ=SD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1=U,ZZ=JZ;function eee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tee=typeof Object.is=="function"?Object.is:eee,nee=ZZ.useSyncExternalStore,ree=c1.useRef,iee=c1.useEffect,oee=c1.useMemo,see=c1.useDebugValue;_D.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=ree(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=oee(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var g=s.value;if(i(g,h))return d=g}return d=h}if(g=d,tee(u,h))return g;var m=r(h);return i!==void 0&&i(g,m)?(u=h,g):(u=h,d=m)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=nee(t,o[0],o[1]);return iee(function(){s.hasValue=!0,s.value=a},[a]),see(a),a};AD.exports=_D;var TD=AD.exports;const ix=t=>typeof t=="object"&&!Array.isArray(t);function aee(t,e,n=e,r=Hl){const i=U.useRef([]),o=TD.useSyncExternalStoreWithSelector(t,e,n,s=>s,(s,a)=>{if(ix(s)&&ix(a)&&i.current.length){for(const l of i.current)if(!r(s[l],a[l]))return!1;return!0}return r(s,a)});return U.useMemo(()=>{if(ix(o)){const s={...o};let a={};for(const[l,c]of Object.entries(s))a={...a,[l]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(l)||i.current.push(l),c)}};return Object.defineProperties(s,a),s}return o},[o])}function Tr(t={}){const e=yr(t);return aee(n=>vD(e,{onChange:n}),()=>yD(e))}function MD(t={}){const{onConnect:e,onDisconnect:n}=t,r=yr(t);U.useEffect(()=>vD(r,{onChange(i,o){if((o.status==="reconnecting"||o.status==="connecting"&&o.address===void 0)&&i.status==="connected"){const{address:s,addresses:a,chain:l,chainId:c,connector:u}=i,d=o.status==="reconnecting"||o.status===void 0;e?.({address:s,addresses:a,chain:l,chainId:c,connector:u,isReconnected:d})}else o.status==="connected"&&i.status==="disconnected"&&n?.()}}),[r,e,n])}var Kf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hu=typeof window>"u"||"Deno"in globalThis;function ri(){}function lee(t,e){return typeof t=="function"?t(e):t}function T2(t){return typeof t=="number"&&t>=0&&t!==1/0}function ID(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Bl(t,e){return typeof t=="function"?t(e):t}function ts(t,e){return typeof t=="function"?t(e):t}function wI(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==xT(s,e.options))return!1}else if(!cm(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function bI(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(pu(e.options.mutationKey)!==pu(o))return!1}else if(!cm(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function xT(t,e){return(e?.queryKeyHashFn||pu)(t)}function pu(t){return JSON.stringify(t,(e,n)=>M2(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function cm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>cm(t[n],e[n])):!1}function RD(t,e){if(t===e)return t;const n=xI(t)&&xI(e);if(n||M2(t)&&M2(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<s;u++){const d=n?u:o[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=RD(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return i===s&&c===i?t:a}return e}function Av(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function xI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function M2(t){if(!EI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!EI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function EI(t){return Object.prototype.toString.call(t)==="[object Object]"}function cee(t){return new Promise(e=>{setTimeout(e,t)})}function I2(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?RD(t,e):e}function uee(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function dee(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ET=Symbol();function PD(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===ET?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function kD(t,e){return typeof t=="function"?t(...e):!!t}var fee=class extends Kf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!hu&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},AT=new fee,hee=class extends Kf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!hu&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},_v=new hee;function R2(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function pee(t){return Math.min(1e3*2**t,3e4)}function ND(t){return(t??"online")==="online"?_v.isOnline():!0}var FD=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function ox(t){return t instanceof FD}function OD(t){let e=!1,n=0,r=!1,i;const o=R2(),s=m=>{r||(f(new FD(m)),t.abort?.())},a=()=>{e=!0},l=()=>{e=!1},c=()=>AT.isFocused()&&(t.networkMode==="always"||_v.isOnline())&&t.canRun(),u=()=>ND(t.networkMode)&&t.canRun(),d=m=>{r||(r=!0,t.onSuccess?.(m),i?.(),o.resolve(m))},f=m=>{r||(r=!0,t.onError?.(m),i?.(),o.reject(m))},h=()=>new Promise(m=>{i=y=>{(r||c())&&m(y)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),g=()=>{if(r)return;let m;const y=n===0?t.initialPromise:void 0;try{m=y??t.fn()}catch(p){m=Promise.reject(p)}Promise.resolve(m).then(d).catch(p=>{if(r)return;const v=t.retry??(hu?0:3),w=t.retryDelay??pee,x=typeof w=="function"?w(n,p):w,T=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,p);if(e||!T){f(p);return}n++,t.onFail?.(n,p),cee(x).then(()=>c()?void 0:h()).then(()=>{e?f(p):g()})})};return{promise:o,cancel:s,continue:()=>(i?.(),o),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():h().then(g),o)}}var mee=t=>setTimeout(t,0);function gee(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=mee;const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var dr=gee(),BD=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),T2(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(hu?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},yee=class extends BD{#e;#t;#n;#r;#i;#s;#o;constructor(t){super(),this.#o=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=vee(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=I2(this.state.data,t,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(ri).catch(ri):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>ts(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ET||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ID(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const l=PD(this.options,e),u=(()=>{const d={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},s=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#a({type:"fetch",meta:s.fetchOptions?.meta});const a=l=>{ox(l)&&l.silent||this.#a({type:"error",error:l}),ox(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=OD({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){a(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:a,onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#i.start()}#a(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...LD(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return ox(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),dr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function LD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ND(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function vee(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var wee=class extends Kf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??xT(r,e);let o=this.get(i);return o||(o=new yee({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){dr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>wI(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>wI(t,n)):e}notify(t){dr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){dr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){dr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},bee=class extends BD{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||DD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=OD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:r})}const i=await this.#n.start();return await this.#t.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),dr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function DD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xee=class extends Kf{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new bee({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Q0(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Q0(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Q0(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Q0(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){dr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>bI(e,n))}findAll(t={}){return this.getAll().filter(e=>bI(t,e))}notify(t){dr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return dr.batch(()=>Promise.all(t.map(e=>e.continue().catch(ri))))}};function Q0(t){return t.options.scope?.id}function AI(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],s=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const d=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},f=PD(e.options,e.fetchOptions),h=async(g,m,y)=>{if(u)return Promise.reject();if(m==null&&g.pages.length)return Promise.resolve(g);const v=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:m,direction:y?"backward":"forward",meta:e.options.meta};return d(N),N})(),w=await f(v),{maxPages:x}=e.options,T=y?dee:uee;return{pages:T(g.pages,w,x),pageParams:T(g.pageParams,m,x)}};if(i&&o.length){const g=i==="backward",m=g?Eee:_I,y={pages:o,pageParams:s},p=m(r,y);a=await h(y,p,g)}else{const g=t??o.length;do{const m=l===0?s[0]??r.initialPageParam:_I(r,a);if(l>0&&m==null)break;a=await h(a,m),l++}while(l<g)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function _I(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Eee(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Aee=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new wee,this.#t=t.mutationCache||new xee,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=AT.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=_v.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Bl(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,s=lee(e,o);if(s!==void 0)return this.#e.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return dr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;dr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return dr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=dr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ri).catch(ri)}invalidateQueries(t,e={}){return dr.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=dr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(ri)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(ri)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Bl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ri).catch(ri)}fetchInfiniteQuery(t){return t.behavior=AI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ri).catch(ri)}ensureInfiniteQueryData(t){return t.behavior=AI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _v.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(pu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{cm(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(pu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{cm(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ET&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},_ee=class extends Kf{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=R2(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#p;#u;#m;#h;#l;#c;#d=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),SI(this.#t,this.options)?this.#f():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return P2(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return P2(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ts(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#t.setOptions(this.options),e._defaulted&&!Av(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&CI(this.#t,n,this.options,e)&&this.#f(),this.updateResult(),r&&(this.#t!==n||ts(this.options.enabled,this.#t)!==ts(e.enabled,this.#t)||Bl(this.options.staleTime,this.#t)!==Bl(e.staleTime,this.#t))&&this.#y();const i=this.#g();r&&(this.#t!==n||ts(this.options.enabled,this.#t)!==ts(e.enabled,this.#t)||i!==this.#c)&&this.#v(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Cee(this,n)&&(this.#r=n,this.#s=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),Reflect.get(n,r))})}trackProp(t){this.#d.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#f({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#f(t){this.#E();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ri)),e}#y(){this.#b();const t=Bl(this.options.staleTime,this.#t);if(hu||this.#r.isStale||!T2(t))return;const n=ID(this.#r.dataUpdatedAt,t)+1;this.#h=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#c=t,!(hu||ts(this.options.enabled,this.#t)===!1||!T2(this.#c)||this.#c===0)&&(this.#l=setInterval(()=>{(this.options.refetchIntervalInBackground||AT.isFocused())&&this.#f()},this.#c))}#w(){this.#y(),this.#v(this.#g())}#b(){this.#h&&(clearTimeout(this.#h),this.#h=void 0)}#x(){this.#l&&(clearInterval(this.#l),this.#l=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,o=this.#i,s=this.#s,l=t!==n?t.state:this.#n,{state:c}=t;let u={...c},d=!1,f;if(e._optimisticResults){const z=this.hasListeners(),S=!z&&SI(t,e),k=z&&CI(t,n,e,r);(S||k)&&(u={...u,...LD(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:g,status:m}=u;f=u.data;let y=!1;if(e.placeholderData!==void 0&&f===void 0&&m==="pending"){let z;i?.isPlaceholderData&&e.placeholderData===s?.placeholderData?(z=i.data,y=!0):z=typeof e.placeholderData=="function"?e.placeholderData(this.#m?.state.data,this.#m):e.placeholderData,z!==void 0&&(m="success",f=I2(i?.data,z,e),d=!0)}if(e.select&&f!==void 0&&!y)if(i&&f===o?.data&&e.select===this.#p)f=this.#u;else try{this.#p=e.select,f=e.select(f),f=I2(i?.data,f,e),this.#u=f,this.#a=null}catch(z){this.#a=z}this.#a&&(h=this.#a,f=this.#u,g=Date.now(),m="error");const p=u.fetchStatus==="fetching",v=m==="pending",w=m==="error",x=v&&p,T=f!==void 0,A={status:m,fetchStatus:u.fetchStatus,isPending:v,isSuccess:m==="success",isError:w,isInitialLoading:x,isLoading:x,data:f,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:g,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:p,isRefetching:p&&!v,isLoadingError:w&&!T,isPaused:u.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:w&&T,isStale:_T(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const z=R=>{A.status==="error"?R.reject(A.error):A.data!==void 0&&R.resolve(A.data)},S=()=>{const R=this.#o=A.promise=R2();z(R)},k=this.#o;switch(k.status){case"pending":t.queryHash===n.queryHash&&z(k);break;case"fulfilled":(A.status==="error"||A.data!==k.value)&&S();break;case"rejected":(A.status!=="error"||A.error!==k.reason)&&S();break}}return A}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#m=this.#t),Av(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#d.size)return!0;const o=new Set(i??this.#d);return this.options.throwOnError&&o.add("error"),Object.keys(this.#r).some(s=>{const a=s;return this.#r[a]!==t[a]&&o.has(a)})};this.#A({listeners:n()})}#E(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#A(t){dr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function See(t,e){return ts(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function SI(t,e){return See(t,e)||t.state.data!==void 0&&P2(t,e,e.refetchOnMount)}function P2(t,e,n){if(ts(e.enabled,t)!==!1&&Bl(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&_T(t,e)}return!1}function CI(t,e,n,r){return(t!==e||ts(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&_T(t,n)}function _T(t,e){return ts(e.enabled,t)!==!1&&t.isStaleByTime(Bl(e.staleTime,t))}function Cee(t,e){return!Av(t.getCurrentResult(),e)}var Tee=class extends Kf{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Av(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&pu(n.mutationKey)!==pu(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??DD();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){dr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}};function Mee(t){return JSON.stringify(t,(e,n)=>Iee(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):typeof n=="bigint"?n.toString():n)}function Iee(t){if(!TI(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!TI(n)||!n.hasOwnProperty("isPrototypeOf"))}function TI(t){return Object.prototype.toString.call(t)==="[object Object]"}function u1(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:i,initialDataUpdatedAt:o,maxPages:s,meta:a,networkMode:l,queryFn:c,queryHash:u,queryKey:d,queryKeyHashFn:f,retry:h,retryDelay:g,structuralSharing:m,getPreviousPageParam:y,getNextPageParam:p,initialPageParam:v,_optimisticResults:w,enabled:x,notifyOnChangeProps:T,placeholderData:N,refetchInterval:A,refetchIntervalInBackground:z,refetchOnMount:S,refetchOnReconnect:k,refetchOnWindowFocus:R,retryOnMount:W,select:L,staleTime:b,suspense:E,throwOnError:I,config:O,connector:C,query:j,...H}=t;return H}function Ree(t){return{mutationFn(e){return HJ(t,e)},mutationKey:["connect"]}}function Pee(t){return{mutationFn(e){return ZJ(t,e)},mutationKey:["disconnect"]}}function kee(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:i,...o}=n[1];if(!r)throw new Error("address is required");return await rZ(t,{...o,address:r})??null},queryKey:Nee(e)}}function Nee(t={}){return["balance",u1(t)]}function Fee(t,e={}){return{async queryFn({queryKey:n}){const{name:r,scopeKey:i,...o}=n[1];if(!r)throw new Error("name is required");return oZ(t,{...o,name:r})},queryKey:Oee(e)}}function Oee(t={}){return["ensAvatar",u1(t)]}function Bee(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:i,...o}=n[1];if(!r)throw new Error("address is required");return sZ(t,{...o,address:r})},queryKey:Lee(e)}}function Lee(t={}){return["ensName",u1(t)]}function Dee(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=e,{connectorUid:i,scopeKey:o,...s}=n[1];return aZ(t,{...s,connector:r})},queryKey:Uee(e)}}function Uee(t={}){const{connector:e,...n}=t;return["walletClient",{...u1(n),connectorUid:e?.uid}]}function zee(t){return{mutationFn(e){return cZ(t,e)},mutationKey:["signMessage"]}}function jee(t){return{mutationFn(e){return dZ(t,e)},mutationKey:["switchChain"]}}var UD=U.createContext(void 0),ST=t=>{const e=U.useContext(UD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Gee=({client:t,children:e})=>(U.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),yn.jsx(UD.Provider,{value:t,children:e})),zD=U.createContext(!1),Hee=()=>U.useContext(zD);zD.Provider;function Wee(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Vee=U.createContext(Wee()),$ee=()=>U.useContext(Vee),qee=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Kee=t=>{U.useEffect(()=>{t.clearReset()},[t])},Qee=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||kD(n,[t.error,r])),Xee=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Yee=(t,e)=>t.isLoading&&t.isFetching&&!e,Jee=(t,e)=>t?.suspense&&e.isPending,MI=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Zee(t,e,n){const r=Hee(),i=$ee(),o=ST(),s=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=r?"isRestoring":"optimistic",Xee(s),qee(s,i),Kee(i);const a=!o.getQueryCache().get(s.queryHash),[l]=U.useState(()=>new e(o,s)),c=l.getOptimisticResult(s),u=!r&&t.subscribed!==!1;if(U.useSyncExternalStore(U.useCallback(d=>{const f=u?l.subscribe(dr.batchCalls(d)):ri;return l.updateResult(),f},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),U.useEffect(()=>{l.setOptions(s)},[s,l]),Jee(s,c))throw MI(s,l,i);if(Qee({result:c,errorResetBoundary:i,throwOnError:s.throwOnError,query:o.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw c.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(s,c),s.experimental_prefetchInRender&&!hu&&Yee(c,r)&&(a?MI(s,l,i):o.getQueryCache().get(s.queryHash)?.promise)?.catch(ri).finally(()=>{l.updateResult()}),s.notifyOnChangeProps?c:l.trackResult(c)}function jD(t,e){return Zee(t,_ee)}function d1(t,e){const n=ST(),[r]=U.useState(()=>new Tee(n,t));U.useEffect(()=>{r.setOptions(t)},[r,t]);const i=U.useSyncExternalStore(U.useCallback(s=>r.subscribe(dr.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=U.useCallback((s,a)=>{r.mutate(s,a).catch(ri)},[r]);if(i.error&&kD(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function f1(t){const e=jD({...t,queryKeyHashFn:Mee});return e.queryKey=t.queryKey,e}function Jm(t={}){const e=yr(t);return U.useSyncExternalStore(n=>fZ(e,{onChange:n}),()=>hI(e),()=>hI(e))}function GD(t={}){const{address:e,query:n={}}=t,r=yr(t),i=Jm({config:r}),o=kee(r,{...t,chainId:t.chainId??i}),s=!!(e&&(n.enabled??!0));return f1({...n,...o,enabled:s})}function ete(t={}){const e=yr(t);return U.useSyncExternalStore(n=>GZ(e,{onChange:n}),()=>pI(e),()=>pI(e))}function tte(t={}){const e=yr(t);return U.useSyncExternalStore(n=>pZ(e,{onChange:n}),()=>mI(e),()=>mI(e))}function nte(t={}){const{mutation:e}=t,n=yr(t),r=Ree(n),{mutate:i,mutateAsync:o,...s}=d1({...e,...r});return U.useEffect(()=>n.subscribe(({status:a})=>a,(a,l)=>{l==="connected"&&a==="disconnected"&&s.reset()}),[n,s.reset]),{...s,connect:i,connectAsync:o,connectors:tte({config:n})}}function rte(t={}){const e=yr(t);return U.useSyncExternalStore(n=>hZ(e,{onChange:n}),()=>A2(e),()=>A2(e))}function CT(t={}){const{mutation:e}=t,n=yr(t),r=Pee(n),{mutate:i,mutateAsync:o,...s}=d1({...e,...r});return{...s,connectors:rte({config:n}).map(a=>a.connector),disconnect:i,disconnectAsync:o}}function ite(t={}){const{name:e,query:n={}}=t,r=yr(t),i=Jm({config:r}),o=Fee(r,{...t,chainId:t.chainId??i}),s=!!(e&&(n.enabled??!0));return f1({...n,...o,enabled:s})}function ote(t={}){const{address:e,query:n={}}=t,r=yr(t),i=Jm({config:r}),o=Bee(r,{...t,chainId:t.chainId??i}),s=!!(e&&(n.enabled??!0));return f1({...n,...o,enabled:s})}function TT(t={}){const e=yr(t);return TD.useSyncExternalStoreWithSelector(n=>mZ(e,{onChange:n}),()=>_2(e,t),()=>_2(e,t),n=>n,(n,r)=>n?.uid===r?.uid)}function ste(t={}){const{mutation:e}=t,n=yr(t),r=zee(n),{mutate:i,mutateAsync:o,...s}=d1({...e,...r});return{...s,signMessage:i,signMessageAsync:o}}function HD(t={}){const{mutation:e}=t,n=yr(t),r=jee(n),{mutate:i,mutateAsync:o,...s}=d1({...e,...r});return{...s,chains:ete({config:n}),switchChain:i,switchChainAsync:o}}function WD(t={}){const{query:e={},...n}=t,r=yr(n),i=ST(),{address:o,connector:s,status:a}=Tr({config:r}),l=Jm({config:r}),c=t.connector??s,{queryKey:u,...d}=Dee(r,{...t,chainId:t.chainId??l,connector:t.connector??s}),f=!!((a==="connected"||a==="reconnecting"&&c?.getProvider)&&(e.enabled??!0)),h=U.useRef(o);return U.useEffect(()=>{const g=h.current;!o&&g?(i.removeQueries({queryKey:u}),h.current=void 0):o!==g&&(i.invalidateQueries({queryKey:u}),h.current=o)},[o,i]),f1({...e,...d,queryKey:u,enabled:f,staleTime:Number.POSITIVE_INFINITY})}var II='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',ate={rounded:`SFRounded, ui-rounded, "SF Pro Rounded", ${II}`,system:II},Ah={large:{actionButton:"9999px",connectButton:"12px",modal:"24px",modalMobile:"28px"},medium:{actionButton:"10px",connectButton:"8px",modal:"16px",modalMobile:"18px"},none:{actionButton:"0px",connectButton:"0px",modal:"0px",modalMobile:"0px"},small:{actionButton:"4px",connectButton:"4px",modal:"8px",modalMobile:"8px"}},lte={large:{modalOverlay:"blur(20px)"},none:{modalOverlay:"blur(0px)"},small:{modalOverlay:"blur(4px)"}},VD=({borderRadius:t="large",fontStack:e="rounded",overlayBlur:n="none"})=>({blurs:{modalOverlay:lte[n].modalOverlay},fonts:{body:ate[e]},radii:{actionButton:Ah[t].actionButton,connectButton:Ah[t].connectButton,menuButton:Ah[t].connectButton,modal:Ah[t].modal,modalMobile:Ah[t].modalMobile}}),gy="#1A1B1F",$D={blue:{accentColor:"#3898FF",accentColorForeground:"#FFF"},green:{accentColor:"#4BD166",accentColorForeground:gy},orange:{accentColor:"#FF983D",accentColorForeground:gy},pink:{accentColor:"#FF7AB8",accentColorForeground:gy},purple:{accentColor:"#7A70FF",accentColorForeground:"#FFF"},red:{accentColor:"#FF6257",accentColorForeground:"#FFF"}},RI=$D.blue,qD=({accentColor:t=RI.accentColor,accentColorForeground:e=RI.accentColorForeground,...n}={})=>({...VD(n),colors:{accentColor:t,accentColorForeground:e,actionButtonBorder:"rgba(255, 255, 255, 0.04)",actionButtonBorderMobile:"rgba(255, 255, 255, 0.08)",actionButtonSecondaryBackground:"rgba(255, 255, 255, 0.08)",closeButton:"rgba(224, 232, 255, 0.6)",closeButtonBackground:"rgba(255, 255, 255, 0.08)",connectButtonBackground:gy,connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(255, 255, 255, 0.075), rgba(255, 255, 255, 0.15))",connectButtonText:"#FFF",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(0, 0, 0, 0) 9.49%, rgba(120, 120, 120, 0.2) 71.04%), #1A1B1F",downloadTopCardBackground:"linear-gradient(126deg, rgba(120, 120, 120, 0.2) 9.49%, rgba(0, 0, 0, 0) 71.04%), #1A1B1F",error:"#FF494A",generalBorder:"rgba(255, 255, 255, 0.08)",generalBorderDim:"rgba(255, 255, 255, 0.04)",menuItemBackground:"rgba(224, 232, 255, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.5)",modalBackground:"#1A1B1F",modalBorder:"rgba(255, 255, 255, 0.08)",modalText:"#FFF",modalTextDim:"rgba(224, 232, 255, 0.3)",modalTextSecondary:"rgba(255, 255, 255, 0.6)",profileAction:"rgba(224, 232, 255, 0.1)",profileActionHover:"rgba(224, 232, 255, 0.2)",profileForeground:"rgba(224, 232, 255, 0.05)",selectedOptionBorder:"rgba(224, 232, 255, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.24)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});qD.accentColors=$D;var KD={blue:{accentColor:"#0E76FD",accentColorForeground:"#FFF"},green:{accentColor:"#1DB847",accentColorForeground:"#FFF"},orange:{accentColor:"#FF801F",accentColorForeground:"#FFF"},pink:{accentColor:"#FF5CA0",accentColorForeground:"#FFF"},purple:{accentColor:"#5F5AFA",accentColorForeground:"#FFF"},red:{accentColor:"#FA423C",accentColorForeground:"#FFF"}},PI=KD.blue,QD=({accentColor:t=PI.accentColor,accentColorForeground:e=PI.accentColorForeground,...n}={})=>({...VD(n),colors:{accentColor:t,accentColorForeground:e,actionButtonBorder:"rgba(0, 0, 0, 0.04)",actionButtonBorderMobile:"rgba(0, 0, 0, 0.06)",actionButtonSecondaryBackground:"rgba(0, 0, 0, 0.06)",closeButton:"rgba(60, 66, 66, 0.8)",closeButtonBackground:"rgba(0, 0, 0, 0.06)",connectButtonBackground:"#FFF",connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(0, 0, 0, 0.03), rgba(0, 0, 0, 0.06))",connectButtonText:"#25292E",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(255, 255, 255, 0) 9.49%, rgba(171, 171, 171, 0.04) 71.04%), #FFFFFF",downloadTopCardBackground:"linear-gradient(126deg, rgba(171, 171, 171, 0.2) 9.49%, rgba(255, 255, 255, 0) 71.04%), #FFFFFF",error:"#FF494A",generalBorder:"rgba(0, 0, 0, 0.06)",generalBorderDim:"rgba(0, 0, 0, 0.03)",menuItemBackground:"rgba(60, 66, 66, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.3)",modalBackground:"#FFF",modalBorder:"transparent",modalText:"#25292E",modalTextDim:"rgba(60, 66, 66, 0.3)",modalTextSecondary:"rgba(60, 66, 66, 0.6)",profileAction:"#FFF",profileActionHover:"rgba(255, 255, 255, 0.5)",profileForeground:"rgba(60, 66, 66, 0.06)",selectedOptionBorder:"rgba(60, 66, 66, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.12)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});QD.accentColors=KD;var k2=`{
  "connect_wallet": {
    "label": "Connect Wallet",
    "wrong_network": {
      "label": "Wrong network"
    }
  },

  "intro": {
    "title": "What is a Wallet?",
    "description": "A wallet is used to send, receive, store, and display digital assets. It's also a new way to log in, without needing to create new accounts and passwords on every website.",
    "digital_asset": {
      "title": "A Home for your Digital Assets",
      "description": "Wallets are used to send, receive, store, and display digital assets like Ethereum and NFTs."
    },
    "login": {
      "title": "A New Way to Log In",
      "description": "Instead of creating new accounts and passwords on every website, just connect your wallet."
    },
    "get": {
      "label": "Get a Wallet"
    },
    "learn_more": {
      "label": "Learn More"
    }
  },

  "sign_in": {
    "label": "Verify your account",
    "description": "To finish connecting, you must sign a message in your wallet to verify that you are the owner of this account.",
    "message": {
      "send": "Sign message",
      "preparing": "Preparing message...",
      "cancel": "Cancel",
      "preparing_error": "Error preparing message, please retry!"
    },
    "signature": {
      "waiting": "Waiting for signature...",
      "verifying": "Verifying signature...",
      "signing_error": "Error signing message, please retry!",
      "verifying_error": "Error verifying signature, please retry!",
      "oops_error": "Oops, something went wrong!"
    }
  },

  "connect": {
    "label": "Connect",
    "title": "Connect a Wallet",
    "new_to_ethereum": {
      "description": "New to Ethereum wallets?",
      "learn_more": {
        "label": "Learn More"
      }
    },
    "learn_more": {
      "label": "Learn more"
    },
    "recent": "Recent",
    "status": {
      "opening": "Opening %{wallet}...",
      "connecting": "Connecting",
      "connect_mobile": "Continue in %{wallet}",
      "not_installed": "%{wallet} is not installed",
      "not_available": "%{wallet} is not available",
      "confirm": "Confirm connection in the extension",
      "confirm_mobile": "Accept connection request in the wallet"
    },
    "secondary_action": {
      "get": {
        "description": "Don't have %{wallet}?",
        "label": "GET"
      },
      "install": {
        "label": "INSTALL"
      },
      "retry": {
        "label": "RETRY"
      }
    },
    "walletconnect": {
      "description": {
        "full": "Need the official WalletConnect modal?",
        "compact": "Need the WalletConnect modal?"
      },
      "open": {
        "label": "OPEN"
      }
    }
  },

  "connect_scan": {
    "title": "Scan with %{wallet}",
    "fallback_title": "Scan with your phone"
  },

  "connector_group": {
    "installed": "Installed",
    "recommended": "Recommended",
    "other": "Other",
    "popular": "Popular",
    "more": "More",
    "others": "Others"
  },

  "get": {
    "title": "Get a Wallet",
    "action": {
      "label": "GET"
    },
    "mobile": {
      "description": "Mobile Wallet"
    },
    "extension": {
      "description": "Browser Extension"
    },
    "mobile_and_extension": {
      "description": "Mobile Wallet and Extension"
    },
    "mobile_and_desktop": {
      "description": "Mobile and Desktop Wallet"
    },
    "looking_for": {
      "title": "Not what you're looking for?",
      "mobile": {
        "description": "Select a wallet on the main screen to get started with a different wallet provider."
      },
      "desktop": {
        "compact_description": "Select a wallet on the main screen to get started with a different wallet provider.",
        "wide_description": "Select a wallet on the left to get started with a different wallet provider."
      }
    }
  },

  "get_options": {
    "title": "Get started with %{wallet}",
    "short_title": "Get %{wallet}",
    "mobile": {
      "title": "%{wallet} for Mobile",
      "description": "Use the mobile wallet to explore the world of Ethereum.",
      "download": {
        "label": "Get the app"
      }
    },
    "extension": {
      "title": "%{wallet} for %{browser}",
      "description": "Access your wallet right from your favorite web browser.",
      "download": {
        "label": "Add to %{browser}"
      }
    },
    "desktop": {
      "title": "%{wallet} for %{platform}",
      "description": "Access your wallet natively from your powerful desktop.",
      "download": {
        "label": "Add to %{platform}"
      }
    }
  },

  "get_mobile": {
    "title": "Install %{wallet}",
    "description": "Scan with your phone to download on iOS or Android",
    "continue": {
      "label": "Continue"
    }
  },

  "get_instructions": {
    "mobile": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "extension": {
      "refresh": {
        "label": "Refresh"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "desktop": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    }
  },

  "chains": {
    "title": "Switch Networks",
    "wrong_network": "Wrong network detected, switch or disconnect to continue.",
    "confirm": "Confirm in Wallet",
    "switching_not_supported": "Your wallet does not support switching networks from %{appName}. Try switching networks from within your wallet instead.",
    "switching_not_supported_fallback": "Your wallet does not support switching networks from this app. Try switching networks from within your wallet instead.",
    "disconnect": "Disconnect",
    "connected": "Connected"
  },

  "profile": {
    "disconnect": {
      "label": "Disconnect"
    },
    "copy_address": {
      "label": "Copy Address",
      "copied": "Copied!"
    },
    "explorer": {
      "label": "View more on explorer"
    },
    "transactions": {
      "description": "%{appName} transactions will appear here...",
      "description_fallback": "Your transactions will appear here...",
      "recent": {
        "title": "Recent Transactions"
      },
      "clear": {
        "label": "Clear All"
      }
    }
  },

  "wallet_connectors": {
    "argent": {
      "qr_code": {
        "step1": {
          "description": "Put Argent on your home screen for faster access to your wallet.",
          "title": "Open the Argent app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "berasig": {
      "extension": {
        "step1": {
          "title": "Install the BeraSig extension",
          "description": "We recommend pinning BeraSig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "best": {
      "qr_code": {
        "step1": {
          "title": "Open the Best Wallet app",
          "description": "Add Best Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bifrost": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bifrost Wallet on your home screen for quicker access.",
          "title": "Open the Bifrost Wallet app"
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "bitget": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bitget Wallet on your home screen for quicker access.",
          "title": "Open the Bitget Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Bitget Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitget Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitski": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Bitski to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitski extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitverse": {
      "qr_code": {
        "step1": {
          "title": "Open the Bitverse Wallet app",
          "description": "Add Bitverse Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bloom": {
      "desktop": {
        "step1": {
          "title": "Open the Bloom Wallet app",
          "description": "We recommend putting Bloom Wallet on your home screen for quicker access."
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you have a wallet, click on Connect to connect via Bloom. A connection prompt in the app will appear for you to confirm the connection.",
          "title": "Click on Connect"
        }
      }
    },

    "bybit": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bybit on your home screen for faster access to your wallet.",
          "title": "Open the Bybit app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Bybit Wallet for easy access.",
          "title": "Install the Bybit Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Bybit Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "binance": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Binance on your home screen for faster access to your wallet.",
          "title": "Open the Binance app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      }
    },

    "coin98": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coin98 Wallet on your home screen for faster access to your wallet.",
          "title": "Open the Coin98 Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Coin98 Wallet for easy access.",
          "title": "Install the Coin98 Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Coin98 Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "coinbase": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coinbase Wallet on your home screen for quicker access.",
          "title": "Open the Coinbase Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Coinbase Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Coinbase Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "compass": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Compass Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Compass Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "core": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Core on your home screen for faster access to your wallet.",
          "title": "Open the Core app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Core to your taskbar for quicker access to your wallet.",
          "title": "Install the Core extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "fox": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting FoxWallet on your home screen for quicker access.",
          "title": "Open the FoxWallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "frontier": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Frontier Wallet on your home screen for quicker access.",
          "title": "Open the Frontier Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Frontier Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Frontier Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "im_token": {
      "qr_code": {
        "step1": {
          "title": "Open the imToken app",
          "description": "Put imToken app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "iopay": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting ioPay on your home screen for faster access to your wallet.",
          "title": "Open the ioPay app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      }
    },

    "kaikas": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaikas to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaikas extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaikas app",
          "description": "Put Kaikas app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kaia": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaia to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaia extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaia app",
          "description": "Put Kaia app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kraken": {
      "qr_code": {
        "step1": {
          "title": "Open the Kraken Wallet app",
          "description": "Add Kraken Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "kresus": {
      "qr_code": {
        "step1": {
          "title": "Open the Kresus Wallet app",
          "description": "Add Kresus Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "magicEden": {
      "extension": {
        "step1": {
          "title": "Install the Magic Eden extension",
          "description": "We recommend pinning Magic Eden to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "metamask": {
      "qr_code": {
        "step1": {
          "title": "Open the MetaMask app",
          "description": "We recommend putting MetaMask on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the MetaMask extension",
          "description": "We recommend pinning MetaMask to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "nestwallet": {
      "extension": {
        "step1": {
          "title": "Install the NestWallet extension",
          "description": "We recommend pinning NestWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "okx": {
      "qr_code": {
        "step1": {
          "title": "Open the OKX Wallet app",
          "description": "We recommend putting OKX Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the OKX Wallet extension",
          "description": "We recommend pinning OKX Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "omni": {
      "qr_code": {
        "step1": {
          "title": "Open the Omni app",
          "description": "Add Omni to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your home screen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "1inch": {
      "qr_code": {
        "step1": {
          "description": "Put 1inch Wallet on your home screen for faster access to your wallet.",
          "title": "Open the 1inch Wallet app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "token_pocket": {
      "qr_code": {
        "step1": {
          "title": "Open the TokenPocket app",
          "description": "We recommend putting TokenPocket on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the TokenPocket extension",
          "description": "We recommend pinning TokenPocket to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "trust": {
      "qr_code": {
        "step1": {
          "title": "Open the Trust Wallet app",
          "description": "Put Trust Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Trust Wallet extension",
          "description": "Click at the top right of your browser and pin Trust Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up Trust Wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "uniswap": {
      "qr_code": {
        "step1": {
          "title": "Open the Uniswap app",
          "description": "Add Uniswap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "zerion": {
      "qr_code": {
        "step1": {
          "title": "Open the Zerion app",
          "description": "We recommend putting Zerion on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Zerion extension",
          "description": "We recommend pinning Zerion to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rainbow": {
      "qr_code": {
        "step1": {
          "title": "Open the Rainbow app",
          "description": "We recommend putting Rainbow on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "You can easily backup your wallet using our backup feature on your phone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "enkrypt": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Enkrypt Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Enkrypt Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "frame": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Frame to your taskbar for quicker access to your wallet.",
          "title": "Install Frame & the companion extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "one_key": {
      "extension": {
        "step1": {
          "title": "Install the OneKey Wallet extension",
          "description": "We recommend pinning OneKey Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "paraswap": {
      "qr_code": {
        "step1": {
          "title": "Open the ParaSwap app",
          "description": "Add ParaSwap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "phantom": {
      "extension": {
        "step1": {
          "title": "Install the Phantom extension",
          "description": "We recommend pinning Phantom to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rabby": {
      "extension": {
        "step1": {
          "title": "Install the Rabby extension",
          "description": "We recommend pinning Rabby to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "ronin": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Ronin Wallet on your home screen for quicker access.",
          "title": "Open the Ronin Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Ronin Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Ronin Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "ramper": {
      "extension": {
        "step1": {
          "title": "Install the Ramper extension",
          "description": "We recommend pinning Ramper to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safeheron": {
      "extension": {
        "step1": {
          "title": "Install the Core extension",
          "description": "We recommend pinning Safeheron to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "taho": {
      "extension": {
        "step1": {
          "title": "Install the Taho extension",
          "description": "We recommend pinning Taho to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "wigwam": {
      "extension": {
        "step1": {
          "title": "Install the Wigwam extension",
          "description": "We recommend pinning Wigwam to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "talisman": {
      "extension": {
        "step1": {
          "title": "Install the Talisman extension",
          "description": "We recommend pinning Talisman to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import an Ethereum Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "xdefi": {
      "extension": {
        "step1": {
          "title": "Install the XDEFI Wallet extension",
          "description": "We recommend pinning XDEFI Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "zeal": {
      "qr_code": {
        "step1": {
          "title": "Open the Zeal app",
          "description": "Add Zeal Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Zeal extension",
          "description": "We recommend pinning Zeal to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safepal": {
      "extension": {
        "step1": {
          "title": "Install the SafePal Wallet extension",
          "description": "Click at the top right of your browser and pin SafePal Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up SafePal Wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SafePal Wallet app",
          "description": "Put SafePal Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "desig": {
      "extension": {
        "step1": {
          "title": "Install the Desig extension",
          "description": "We recommend pinning Desig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "subwallet": {
      "extension": {
        "step1": {
          "title": "Install the SubWallet extension",
          "description": "We recommend pinning SubWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SubWallet app",
          "description": "We recommend putting SubWallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "clv": {
      "extension": {
        "step1": {
          "title": "Install the CLV Wallet extension",
          "description": "We recommend pinning CLV Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the CLV Wallet app",
          "description": "We recommend putting CLV Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "okto": {
      "qr_code": {
        "step1": {
          "title": "Open the Okto app",
          "description": "Add Okto to your home screen for quick access"
        },
        "step2": {
          "title": "Create an MPC Wallet",
          "description": "Create an account and generate a wallet"
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Tap the Scan QR icon at the top right and confirm the prompt to connect."
        }
      }
    },

    "ledger": {
      "desktop": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "Set up a new Ledger or connect to an existing one."
        },
        "step3": {
          "title": "Connect",
          "description": "A connection prompt will appear for you to connect your wallet."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "You can either sync with the desktop app or connect your Ledger."
        },
        "step3": {
          "title": "Scan the code",
          "description": "Tap WalletConnect then Switch to Scanner. After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "valora": {
      "qr_code": {
        "step1": {
          "title": "Open the Valora app",
          "description": "We recommend putting Valora on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "gate": {
      "qr_code": {
        "step1": {
          "title": "Open the Gate app",
          "description": "We recommend putting Gate on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Gate extension",
          "description": "We recommend pinning Gate to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "xportal": {
      "qr_code": {
        "step1": {
          "description": "Put xPortal on your home screen for faster access to your wallet.",
          "title": "Open the xPortal app"
        },
        "step2": {
          "description": "Create a wallet or import an existing one.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "mew": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting MEW Wallet on your home screen for quicker access.",
          "title": "Open the MEW Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    }
  },

  "zilpay": {
    "qr_code": {
      "step1": {
        "title": "Open the ZilPay app",
        "description": "Add ZilPay to your home screen for faster access to your wallet."
      },
      "step2": {
        "title": "Create or Import a Wallet",
        "description": "Create a new wallet or import an existing one."
      },
      "step3": {
        "title": "Tap the scan button",
        "description": "After you scan, a connection prompt will appear for you to connect your wallet."
      }
    }
  }
}
`;function cte(t,e){return Object.defineProperty(t,"__recipe__",{value:e,writable:!1}),t}var XD=cte;function YD(t){var{conditions:e}=t;if(!e)throw new Error("Styles have no conditions");function n(r){if(typeof r=="string"||typeof r=="number"||typeof r=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return{[e.defaultCondition]:r}}if(Array.isArray(r)){if(!("responsiveArray"in e))throw new Error("Responsive arrays are not supported");var i={};for(var o in e.responsiveArray)r[o]!=null&&(i[e.responsiveArray[o]]=r[o]);return i}return r}return XD(n,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createNormalizeValueFn",args:[{conditions:t.conditions}]})}function ute(t){var{conditions:e}=t;if(!e)throw new Error("Styles have no conditions");var n=YD(t);function r(i,o){if(typeof i=="string"||typeof i=="number"||typeof i=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return o(i,e.defaultCondition)}var s=Array.isArray(i)?n(i):i,a={};for(var l in s)s[l]!=null&&(a[l]=o(s[l],l));return a}return XD(r,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createMapValueFn",args:[{conditions:t.conditions}]})}function dte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fte(t){var e=dte(t,"string");return typeof e=="symbol"?e:String(e)}function hte(t,e,n){return e=fte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var pte=t=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Object.assign({},...n.map(l=>l.styles)),o=Object.keys(i),s=o.filter(l=>"mappings"in i[l]),a=l=>{var c=[],u={},d=sx({},l),f=!1;for(var h of s){var g=l[h];if(g!=null){var m=i[h];f=!0;for(var y of m.mappings)u[y]=g,d[y]==null&&delete d[y]}}var p=f?sx(sx({},u),d):l,v=function(){var T=p[w],N=i[w];try{if(N.mappings)return 1;if(typeof T=="string"||typeof T=="number")c.push(N.values[T].defaultClass);else if(Array.isArray(T))for(var A=0;A<T.length;A++){var z=T[A];if(z!=null){var S=N.responsiveArray[A];c.push(N.values[z].conditions[S])}}else for(var k in T){var R=T[k];R!=null&&c.push(N.values[R].conditions[k])}}catch(W){throw W}};for(var w in p)v();return t(c.join(" "))};return Object.assign(a,{properties:new Set(o)})},mte=t=>t,gte=function(){return pte(mte)(...arguments)};function JD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=JD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ZD(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=JD(t))&&(r&&(r+=" "),r+=e);return r}var yte="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const NI=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),FI=4;function vte(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,o=[0,1];for(let T=1;T<r;T++)o.push(i+=n());let s=n(),a=e;e+=s;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const d=31,f=2**d,h=f>>>1,g=h>>1,m=f-1;let y=0;for(let T=0;T<d;T++)y=y<<1|u();let p=[],v=0,w=f;for(;;){let T=Math.floor(((y-v+1)*i-1)/w),N=0,A=r;for(;A-N>1;){let k=N+A>>>1;T<o[k]?A=k:N=k}if(N==0)break;p.push(N);let z=v+Math.floor(w*o[N]/i),S=v+Math.floor(w*o[N+1]/i)-1;for(;!((z^S)&h);)y=y<<1&m|u(),z=z<<1&m,S=S<<1&m|1;for(;z&~S&g;)y=y&h|y<<1&m>>>1|u(),z=z<<1^h,S=(S^h)<<1|h|1;v=z,w=1+S-z}let x=r-4;return p.map(T=>{switch(T-x){case 3:return x+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return x+256+(t[a++]<<8|t[a++]);case 1:return x+t[a++];default:return T-1}})}function wte(t){let e=0;return()=>t[e++]}function eU(t){return wte(vte(bte(t)))}function bte(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,o=0,s=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],s+=6,s>=8&&(r[o++]=a>>(s-=8));return r}function xte(t){return t&1?~t>>1:t>>1}function Ete(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=xte(e());return n}function um(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let o=0;o<i;o++)n.push(e+o);e+=i+1}return n}function tU(t){return dm(()=>{let e=um(t);if(e.length)return e})}function nU(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(Ate(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(_te(n,t))}return e.flat()}function dm(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function rU(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)Ete(t,n).forEach((o,s)=>r[s].push(o));return r}function Ate(t,e){let n=1+e(),r=e(),i=dm(e);return rU(i.length,1+t,e).flatMap((s,a)=>{let[l,...c]=s;return Array(i[a]).fill().map((u,d)=>{let f=d*r;return[l+d*n,c.map(h=>h+f)]})})}function _te(t,e){let n=1+e();return rU(n,1+t,e).map(i=>[i[0],i.slice(1)])}function Ste(t){let e=[],n=um(t);return i(r([]),[]),e;function r(o){let s=t(),a=dm(()=>{let l=um(t).map(c=>n[c]);if(l.length)return r(l)});return{S:s,B:a,Q:o}}function i({S:o,B:s},a,l){if(!(o&4&&l===a[a.length-1])){o&2&&(l=a[a.length-1]),o&1&&e.push(a);for(let c of s)for(let u of c.Q)i(c,[...a,u],l)}}}function Cte(t){return t.toString(16).toUpperCase().padStart(2,"0")}function iU(t){return`{${Cte(t)}}`}function Tte(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function hf(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function Mte(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var Ite="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const fm=44032,Sv=4352,Cv=4449,Tv=4519,oU=19,sU=21,pf=28,Mv=sU*pf,Rte=oU*Mv,Pte=fm+Rte,kte=Sv+oU,Nte=Cv+sU,Fte=Tv+pf;function Wh(t){return t>>24&255}function aU(t){return t&16777215}let N2,OI,F2,yy;function Ote(){let t=eU(Ite);N2=new Map(tU(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),OI=new Set(um(t)),F2=new Map,yy=new Map;for(let[e,n]of nU(t)){if(!OI.has(e)&&n.length==2){let[r,i]=n,o=yy.get(r);o||(o=new Map,yy.set(r,o)),o.set(i,e)}F2.set(e,n.reverse())}}function lU(t){return t>=fm&&t<Pte}function Bte(t,e){if(t>=Sv&&t<kte&&e>=Cv&&e<Nte)return fm+(t-Sv)*Mv+(e-Cv)*pf;if(lU(t)&&e>Tv&&e<Fte&&(t-fm)%pf==0)return t+(e-Tv);{let n=yy.get(t);return n&&(n=n.get(e),n)?n:-1}}function cU(t){N2||Ote();let e=[],n=[],r=!1;function i(o){let s=N2.get(o);s&&(r=!0,o|=s),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(lU(o)){let s=o-fm,a=s/Mv|0,l=s%Mv/pf|0,c=s%pf;i(Sv+a),i(Cv+l),c>0&&i(Tv+c)}else{let s=F2.get(o);s?n.push(...s):i(o)}if(!n.length)break;o=n.pop()}if(r&&e.length>1){let o=Wh(e[0]);for(let s=1;s<e.length;s++){let a=Wh(e[s]);if(a==0||o<=a){o=a;continue}let l=s-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(o=Wh(e[--l]),o<=a))break}o=Wh(e[s])}}return e}function Lte(t){let e=[],n=[],r=-1,i=0;for(let o of t){let s=Wh(o),a=aU(o);if(r==-1)s==0?r=a:e.push(a);else if(i>0&&i>=s)s==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=s;else{let l=Bte(r,a);l>=0?r=l:i==0&&s==0?(e.push(r),r=a):(n.push(a),i=s)}}return r>=0&&e.push(r,...n),e}function uU(t){return cU(t).map(aU)}function Dte(t){return Lte(cU(t))}const BI=45,dU=".",fU=65039,hU=1,Iv=t=>Array.from(t);function hm(t,e){return t.P.has(e)||t.Q.has(e)}let Ute=class extends Array{get is_emoji(){return!0}},O2,pU,Oc,B2,mU,Dd,ax,cd,mc,LI,L2;function MT(){if(O2)return;let t=eU(yte);const e=()=>um(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(f=>u.add(f));O2=new Map(nU(t)),pU=n(),Oc=e(),B2=new Set(e().map(u=>Oc[u])),Oc=new Set(Oc),mU=n(),n();let i=tU(t),o=t();const s=()=>{let u=new Set;return e().forEach(d=>r(u,i[d])),r(u,e()),u};Dd=dm(u=>{let d=dm(t).map(f=>f+96);if(d.length){let f=u>=o;d[0]-=32,d=hf(d),f&&(d=`Restricted[${d}]`);let h=s(),g=s(),m=!t();return{N:d,P:h,Q:g,M:m,R:f}}}),ax=n(),cd=new Map;let a=e().concat(Iv(ax)).sort((u,d)=>u-d);a.forEach((u,d)=>{let f=t(),h=a[d]=f?a[d-f]:{V:[],M:new Map};h.V.push(u),ax.has(u)||cd.set(u,h)});for(let{V:u,M:d}of new Set(cd.values())){let f=[];for(let g of u){let m=Dd.filter(p=>hm(p,g)),y=f.find(({G:p})=>m.some(v=>p.has(v)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(g),r(y.G,m)}let h=f.flatMap(g=>Iv(g.G));for(let{G:g,V:m}of f){let y=new Set(h.filter(p=>!g.has(p)));for(let p of m)d.set(p,y)}}mc=new Set;let l=new Set;const c=u=>mc.has(u)?l.add(u):mc.add(u);for(let u of Dd){for(let d of u.P)c(d);for(let d of u.Q)c(d)}for(let u of mc)!cd.has(u)&&!l.has(u)&&cd.set(u,hU);r(mc,uU(mc)),LI=Ste(t).map(u=>Ute.from(u)).sort(Mte),L2=new Map;for(let u of LI){let d=[L2];for(let f of u){let h=d.map(g=>{let m=g.get(f);return m||(m=new Map,g.set(f,m)),m});f===fU?d.push(...h):d=h}for(let f of d)f.V=u}}function IT(t){return(gU(t)?"":`${RT(h1([t]))} `)+iU(t)}function RT(t){return`"${t}"`}function zte(t){if(t.length>=4&&t[2]==BI&&t[3]==BI)throw new Error(`invalid label extension: "${hf(t.slice(0,4))}"`)}function jte(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function Gte(t){let e=t[0],n=NI.get(e);if(n)throw fp(`leading ${n}`);let r=t.length,i=-1;for(let o=1;o<r;o++){e=t[o];let s=NI.get(e);if(s){if(i==o)throw fp(`${n} + ${s}`);i=o+1,n=s}}if(i==r)throw fp(`trailing ${n}`)}function h1(t,e=1/0,n=iU){let r=[];Hte(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let s=0;s<o;s++){let a=t[s];gU(a)&&(r.push(hf(t.slice(i,s))),r.push(n(a)),i=s+1)}return r.push(hf(t.slice(i,o))),r.join("")}function Hte(t,e){return MT(),Oc.has(t)}function gU(t){return MT(),mU.has(t)}function Wte(t){return Kte(Vte(t,Dte,Yte))}function Vte(t,e,n){if(!t)return[];MT();let r=0;return t.split(dU).map(i=>{let o=Tte(i),s={input:o,offset:r};r+=o.length+1;try{let a=s.tokens=Xte(o,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=s.output=a.flat();if(jte(u),!(s.emoji=l>1||a[0].is_emoji)&&u.every(f=>f<128))zte(u),c="ASCII";else{let f=a.flatMap(h=>h.is_emoji?[]:h);if(!f.length)c="Emoji";else{if(Oc.has(u[0]))throw fp("leading combining mark");for(let m=1;m<l;m++){let y=a[m];if(!y.is_emoji&&Oc.has(y[0]))throw fp(`emoji + combining mark: "${hf(a[m-1])} + ${h1([y[0]])}"`)}Gte(u);let h=Iv(new Set(f)),[g]=qte(h);Qte(g,f),$te(g,h),c=g.N}}s.type=c}catch(a){s.error=a}return s})}function $te(t,e){let n,r=[];for(let i of e){let o=cd.get(i);if(o===hU)return;if(o){let s=o.M.get(i);if(n=n?n.filter(a=>s.has(a)):Iv(s),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(o=>hm(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function qte(t){let e=Dd;for(let n of t){let r=e.filter(i=>hm(i,n));if(!r.length)throw Dd.some(i=>hm(i,n))?vU(e[0],n):yU(n);if(e=r,r.length==1)break}return e}function Kte(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${RT(h1(e,63))}: ${i}`)}return hf(r)}).join(dU)}function yU(t){return new Error(`disallowed character: ${IT(t)}`)}function vU(t,e){let n=IT(e),r=Dd.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function fp(t){return new Error(`illegal placement: ${t}`)}function Qte(t,e){for(let n of e)if(!hm(t,n))throw vU(t,n);if(t.M){let n=uU(e);for(let r=1,i=n.length;r<i;r++)if(B2.has(n[r])){let o=r+1;for(let s;o<i&&B2.has(s=n[o]);o++)for(let a=r;a<o;a++)if(n[a]==s)throw new Error(`duplicate non-spacing marks: ${IT(s)}`);if(o-r>FI)throw new Error(`excessive non-spacing marks: ${RT(h1(n.slice(r-1,o)))} (${o-r}/${FI})`);r=o}}}function Xte(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let o=Jte(t);if(o)i.length&&(r.push(e(i)),i=[]),r.push(n(o));else{let s=t.pop();if(mc.has(s))i.push(s);else{let a=O2.get(s);if(a)i.push(...a);else if(!pU.has(s))throw yU(s)}}}return i.length&&r.push(e(i)),r}function Yte(t){return t.filter(e=>e!=fU)}function Jte(t,e){let n=L2,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:o}=n;o&&(r=o,t.length=i)}return r}function Zte(t){return Wte(t)}function ene(t){return Zte(t)}const tne={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},nne={block:Pq({format(t){return{transactions:t.transactions?.map(n=>{if(typeof n=="string")return n;const r=qw(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?Ar(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:t.stateRoot}}}),transaction:Iq({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?Ar(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:TX({format(t){return{l1GasPrice:t.l1GasPrice?Ar(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?Ar(t.l1GasUsed):null,l1Fee:t.l1Fee?Ar(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function rne(t,e){return sne(t)?one(t):bY(t,e)}const ine={transaction:rne};function one(t){ane(t);const{sourceHash:e,data:n,from:r,gas:i,isSystemTx:o,mint:s,to:a,value:l}=t,c=[e,r,a??"0x",s?hi(s):"0x",l?hi(l):"0x",i?hi(i):"0x",o?"0x1":"0x",n??"0x"];return gs(["0x7e",Gl(c)])}function sne(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function ane(t){const{from:e,to:n}=t;if(e&&!sr(e))throw new gi({address:e});if(n&&!sr(n))throw new gi({address:n})}const Rv={blockTime:2e3,contracts:tne,formatters:nne,serializers:ine},PT=Pu({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),kT=Pu({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),_h=1,p1=Pu({...Rv,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Rv.contracts,disputeGameFactory:{[_h]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[_h]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[_h]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[_h]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:_h}),NT=Pu({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),Qf=Pu({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Sh=1,FT=Pu({...Rv,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...Rv.contracts,disputeGameFactory:{[Sh]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Sh]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Sh]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Sh]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Sh}),OT=Pu({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}});var D2=function(t,e){return D2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},D2(t,e)};function wU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");D2(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var So=function(){return So=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},So.apply(this,arguments)};function m1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bU(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function xU(t,e){return function(n,r){e(n,r,t)}}function lne(t,e,n,r,i,o){function s(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,f=!1,h=n.length-1;h>=0;h--){var g={};for(var m in r)g[m]=m==="access"?{}:r[m];for(var m in r.access)g.access[m]=r.access[m];g.addInitializer=function(p){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(p||null))};var y=(0,n[h])(a==="accessor"?{get:u.get,set:u.set}:u[l],g);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(d=s(y.get))&&(u.get=d),(d=s(y.set))&&(u.set=d),(d=s(y.init))&&i.unshift(d)}else(d=s(y))&&(a==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),f=!0}function cne(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function une(t){return typeof t=="symbol"?t:"".concat(t)}function dne(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function EU(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function AU(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function _U(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var g1=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function SU(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&g1(e,t,n)}function Pv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function BT(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function CU(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(BT(arguments[e]));return t}function TU(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function LT(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function mf(t){return this instanceof mf?(this.v=t,this):new mf(t)}function MU(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(g){return Promise.resolve(g).then(h,d)}}function a(h,g){r[h]&&(i[h]=function(m){return new Promise(function(y,p){o.push([h,m,y,p])>1||l(h,m)})},g&&(i[h]=g(i[h])))}function l(h,g){try{c(r[h](g))}catch(m){f(o[0][3],m)}}function c(h){h.value instanceof mf?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,g){h(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function IU(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(s){return(n=!n)?{value:mf(t[i](s)),done:!1}:o?o(s):s}:o}}function RU(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Pv=="function"?Pv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function PU(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var fne=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function kU(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&g1(e,t,n);return fne(e,t),e}function NU(t){return t&&t.__esModule?t:{default:t}}function FU(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function OU(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function BU(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function LU(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var hne=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function DU(t){function e(o){t.error=t.hasError?new hne(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(s){return e(s),i()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}const pne={__extends:wU,__assign:So,__rest:m1,__decorate:bU,__param:xU,__metadata:EU,__awaiter:AU,__generator:_U,__createBinding:g1,__exportStar:SU,__values:Pv,__read:BT,__spread:CU,__spreadArrays:TU,__spreadArray:LT,__await:mf,__asyncGenerator:MU,__asyncDelegator:IU,__asyncValues:RU,__makeTemplateObject:PU,__importStar:kU,__importDefault:NU,__classPrivateFieldGet:FU,__classPrivateFieldSet:OU,__classPrivateFieldIn:BU,__addDisposableResource:LU,__disposeResources:DU},c_e=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:LU,get __assign(){return So},__asyncDelegator:IU,__asyncGenerator:MU,__asyncValues:RU,__await:mf,__awaiter:AU,__classPrivateFieldGet:FU,__classPrivateFieldIn:BU,__classPrivateFieldSet:OU,__createBinding:g1,__decorate:bU,__disposeResources:DU,__esDecorate:lne,__exportStar:SU,__extends:wU,__generator:_U,__importDefault:NU,__importStar:kU,__makeTemplateObject:PU,__metadata:EU,__param:xU,__propKey:une,__read:BT,__rest:m1,__runInitializers:cne,__setFunctionName:dne,__spread:CU,__spreadArray:LT,__spreadArrays:TU,__values:Pv,default:pne},Symbol.toStringTag,{value:"Module"}));var vy="right-scroll-bar-position",wy="width-before-scroll-bar",mne="with-scroll-bars-hidden",gne="--removed-body-scroll-bar-size";function lx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function yne(t,e){var n=U.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var vne=typeof window<"u"?U.useLayoutEffect:U.useEffect,DI=new WeakMap;function wne(t,e){var n=yne(null,function(r){return t.forEach(function(i){return lx(i,r)})});return vne(function(){var r=DI.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||lx(a,null)}),o.forEach(function(a){i.has(a)||lx(a,s)})}DI.set(n,t)},[t]),n}function bne(t){return t}function xne(t,e){e===void 0&&(e=bne);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function Ene(t){t===void 0&&(t={});var e=xne(null);return e.options=So({async:!0,ssr:!1},t),e}var UU=function(t){var e=t.sideCar,n=m1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return U.createElement(r,So({},n))};UU.isSideCarExport=!0;function Ane(t,e){return t.useMedium(e),UU}var zU=Ene(),cx=function(){},y1=U.forwardRef(function(t,e){var n=U.useRef(null),r=U.useState({onScrollCapture:cx,onWheelCapture:cx,onTouchMoveCapture:cx}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,g=t.inert,m=t.allowPinchZoom,y=t.as,p=y===void 0?"div":y,v=t.gapMode,w=m1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,T=wne([n,e]),N=So(So({},w),i);return U.createElement(U.Fragment,null,u&&U.createElement(x,{sideCar:zU,removeScrollBar:c,shards:d,noIsolation:h,inert:g,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:v}),s?U.cloneElement(U.Children.only(a),So(So({},N),{ref:T})):U.createElement(p,So({},N,{className:l,ref:T}),a))});y1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};y1.classNames={fullWidth:wy,zeroRight:vy};var _ne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Sne(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_ne();return e&&t.setAttribute("nonce",e),t}function Cne(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Tne(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Mne=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Sne())&&(Cne(e,n),Tne(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ine=function(){var t=Mne();return function(e,n){U.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},jU=function(){var t=Ine(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Rne={left:0,top:0,right:0,gap:0},ux=function(t){return parseInt(t||"",10)||0},Pne=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ux(n),ux(r),ux(i)]},kne=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Rne;var e=Pne(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Nne=jU(),Ud="data-scroll-locked",Fne=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(mne,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ud,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vy,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wy,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vy," .").concat(vy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wy," .").concat(wy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ud,`] {
    `).concat(gne,": ").concat(a,`px;
  }
`)},UI=function(){var t=parseInt(document.body.getAttribute(Ud)||"0",10);return isFinite(t)?t:0},One=function(){U.useEffect(function(){return document.body.setAttribute(Ud,(UI()+1).toString()),function(){var t=UI()-1;t<=0?document.body.removeAttribute(Ud):document.body.setAttribute(Ud,t.toString())}},[])},Bne=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;One();var o=U.useMemo(function(){return kne(i)},[i]);return U.createElement(Nne,{styles:Fne(o,!e,i,n?"":"!important")})},U2=!1;if(typeof window<"u")try{var X0=Object.defineProperty({},"passive",{get:function(){return U2=!0,!0}});window.addEventListener("test",X0,X0),window.removeEventListener("test",X0,X0)}catch{U2=!1}var Gu=U2?{passive:!1}:!1,Lne=function(t){return t.tagName==="TEXTAREA"},GU=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Lne(t)&&n[e]==="visible")},Dne=function(t){return GU(t,"overflowY")},Une=function(t){return GU(t,"overflowX")},zI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=HU(t,r);if(i){var o=WU(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zne=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},jne=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},HU=function(t,e){return t==="v"?Dne(e):Une(e)},WU=function(t,e){return t==="v"?zne(e):jne(e)},Gne=function(t,e){return t==="h"&&e==="rtl"?-1:1},Hne=function(t,e,n,r,i){var o=Gne(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,d=0,f=0;do{var h=WU(t,a),g=h[0],m=h[1],y=h[2],p=m-y-o*g;(g||p)&&HU(t,a)&&(d+=p,f+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},Y0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},jI=function(t){return[t.deltaX,t.deltaY]},GI=function(t){return t&&"current"in t?t.current:t},Wne=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Vne=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$ne=0,Hu=[];function qne(t){var e=U.useRef([]),n=U.useRef([0,0]),r=U.useRef(),i=U.useState($ne++)[0],o=U.useState(jU)[0],s=U.useRef(t);U.useEffect(function(){s.current=t},[t]),U.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=LT([t.lockRef.current],(t.shards||[]).map(GI),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=U.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var p=Y0(m),v=n.current,w="deltaX"in m?m.deltaX:v[0]-p[0],x="deltaY"in m?m.deltaY:v[1]-p[1],T,N=m.target,A=Math.abs(w)>Math.abs(x)?"h":"v";if("touches"in m&&A==="h"&&N.type==="range")return!1;var z=zI(A,N);if(!z)return!0;if(z?T=A:(T=A==="v"?"h":"v",z=zI(A,N)),!z)return!1;if(!r.current&&"changedTouches"in m&&(w||x)&&(r.current=T),!T)return!0;var S=r.current||T;return Hne(S,y,m,S==="h"?w:x)},[]),l=U.useCallback(function(m){var y=m;if(!(!Hu.length||Hu[Hu.length-1]!==o)){var p="deltaY"in y?jI(y):Y0(y),v=e.current.filter(function(T){return T.name===y.type&&(T.target===y.target||y.target===T.shadowParent)&&Wne(T.delta,p)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var w=(s.current.shards||[]).map(GI).filter(Boolean).filter(function(T){return T.contains(y.target)}),x=w.length>0?a(y,w[0]):!s.current.noIsolation;x&&y.cancelable&&y.preventDefault()}}},[]),c=U.useCallback(function(m,y,p,v){var w={name:m,delta:y,target:p,should:v,shadowParent:Kne(p)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(x){return x!==w})},1)},[]),u=U.useCallback(function(m){n.current=Y0(m),r.current=void 0},[]),d=U.useCallback(function(m){c(m.type,jI(m),m.target,a(m,t.lockRef.current))},[]),f=U.useCallback(function(m){c(m.type,Y0(m),m.target,a(m,t.lockRef.current))},[]);U.useEffect(function(){return Hu.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Gu),document.addEventListener("touchmove",l,Gu),document.addEventListener("touchstart",u,Gu),function(){Hu=Hu.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,Gu),document.removeEventListener("touchmove",l,Gu),document.removeEventListener("touchstart",u,Gu)}},[]);var h=t.removeScrollBar,g=t.inert;return U.createElement(U.Fragment,null,g?U.createElement(o,{styles:Vne(i)}):null,h?U.createElement(Bne,{gapMode:t.gapMode}):null)}function Kne(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Qne=Ane(zU,qne);var VU=U.forwardRef(function(t,e){return U.createElement(y1,So({},t,{ref:e,sideCar:Qne}))});VU.classNames=y1.classNames;function HI(t){var e=t.match(/^var\((.*)\)$/);return e?e[1]:t}function Xne(t,e){var n=t;for(var r of e){if(!(r in n))throw new Error("Path ".concat(e.join(" -> ")," does not exist in object"));n=n[r]}return n}function $U(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r={};for(var i in t){var o=t[i],s=[...n,i];typeof o=="string"||typeof o=="number"||o==null?r[i]=e(o,s):typeof o=="object"&&!Array.isArray(o)?r[i]=$U(o,e,s):console.warn('Skipping invalid key "'.concat(s.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(o)?"Array":typeof o,'"'))}return r}function WI(t,e){var n={};if(typeof e=="object"){var r=t;$U(e,(a,l)=>{if(a!=null){var c=Xne(r,l);n[HI(c)]=String(a)}})}else{var i=t;for(var o in i){var s=i[o];s!=null&&(n[HI(o)]=s)}}return Object.defineProperty(n,"toString",{value:function(){return Object.keys(this).map(l=>"".concat(l,":").concat(this[l])).join(";")},writable:!1}),n}var z2={exports:{}};(function(t,e){(function(n,r){var i="1.0.40",o="",s="?",a="function",l="undefined",c="object",u="string",d="major",f="model",h="name",g="type",m="vendor",y="version",p="architecture",v="console",w="mobile",x="tablet",T="smarttv",N="wearable",A="embedded",z=500,S="Amazon",k="Apple",R="ASUS",W="BlackBerry",L="Browser",b="Chrome",E="Edge",I="Firefox",O="Google",C="Huawei",j="LG",H="Microsoft",D="Motorola",M="Opera",$="Samsung",J="Sharp",Z="Sony",ce="Xiaomi",oe="Zebra",Ee="Facebook",de="Chromium OS",Re="Mac OS",ae=" Browser",we=function(ge,G){var _={};for(var P in ge)G[P]&&G[P].length%2===0?_[P]=G[P].concat(ge[P]):_[P]=ge[P];return _},qe=function(ge){for(var G={},_=0;_<ge.length;_++)G[ge[_].toUpperCase()]=ge[_];return G},te=function(ge,G){return typeof ge===u?We(G).indexOf(We(ge))!==-1:!1},We=function(ge){return ge.toLowerCase()},Ke=function(ge){return typeof ge===u?ge.replace(/[^\d\.]/g,o).split(".")[0]:r},ct=function(ge,G){if(typeof ge===u)return ge=ge.replace(/^\s\s*/,o),typeof G===l?ge:ge.substring(0,z)},Ze=function(ge,G){for(var _=0,P,Q,Y,ee,ne,De;_<G.length&&!ne;){var Ne=G[_],$e=G[_+1];for(P=Q=0;P<Ne.length&&!ne&&Ne[P];)if(ne=Ne[P++].exec(ge),ne)for(Y=0;Y<$e.length;Y++)De=ne[++Q],ee=$e[Y],typeof ee===c&&ee.length>0?ee.length===2?typeof ee[1]==a?this[ee[0]]=ee[1].call(this,De):this[ee[0]]=ee[1]:ee.length===3?typeof ee[1]===a&&!(ee[1].exec&&ee[1].test)?this[ee[0]]=De?ee[1].call(this,De,ee[2]):r:this[ee[0]]=De?De.replace(ee[1],ee[2]):r:ee.length===4&&(this[ee[0]]=De?ee[3].call(this,De.replace(ee[1],ee[2])):r):this[ee]=De||r;_+=2}},Nt=function(ge,G){for(var _ in G)if(typeof G[_]===c&&G[_].length>0){for(var P=0;P<G[_].length;P++)if(te(G[_][P],ge))return _===s?r:_}else if(te(G[_],ge))return _===s?r:_;return G.hasOwnProperty("*")?G["*"]:ge},st={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},V={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,y],[/opios[\/ ]+([\w\.]+)/i],[y,[h,M+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[h,M+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[h,M]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[h,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[h,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[h,"UC"+L]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[h,"Smart Lenovo "+L]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+L],y],[/\bfocus\/([\w\.]+)/i],[y,[h,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[h,M+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[h,M+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[h,"MIUI"+ae]],[/fxios\/([\w\.-]+)/i],[y,[h,I]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[h,"360"]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+ae],y],[/samsungbrowser\/([\w\.]+)/i],[y,[h,$+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[h,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,Ee],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[h,b+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,b+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[h,"Android "+L]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[y,Nt,st]],[/(webkit|khtml)\/([\w\.]+)/i],[h,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[h,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[h,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,We]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,o,We]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,We]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[m,$],[g,x]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[m,$],[g,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[m,k],[g,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[m,k],[g,x]],[/(macintosh);/i],[f,[m,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[m,J],[g,w]],[/(?:honor)([-\w ]+)[;\)]/i],[f,[m,"Honor"],[g,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[m,C],[g,x]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[m,C],[g,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[m,ce],[g,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[m,ce],[g,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[m,"OPPO"],[g,w]],[/\b(opd2\d{3}a?) bui/i],[f,[m,"OPPO"],[g,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[m,"Vivo"],[g,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[m,"Realme"],[g,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[m,D],[g,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[m,D],[g,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[m,j],[g,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[m,j],[g,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[m,"Lenovo"],[g,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[m,"Nokia"],[g,w]],[/(pixel c)\b/i],[f,[m,O],[g,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[m,O],[g,w]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[m,Z],[g,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[m,Z],[g,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[m,"OnePlus"],[g,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[m,S],[g,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[m,S],[g,w]],[/(playbook);[-\w\),; ]+(rim)/i],[f,m,[g,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[m,W],[g,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[m,R],[g,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[m,R],[g,w]],[/(nexus 9)/i],[f,[m,"HTC"],[g,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[f,/_/g," "],[g,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[m,"TCL"],[g,x]],[/(itel) ((\w+))/i],[[m,We],f,[g,Nt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[m,"Acer"],[g,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[m,"Meizu"],[g,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[m,"Ulefone"],[g,w]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[m,"Energizer"],[g,w]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[m,"Cat"],[g,w]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[m,"Smartfren"],[g,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[m,"Nothing"],[g,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,f,[g,w]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,f,[g,x]],[/(surface duo)/i],[f,[m,H],[g,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[m,"Fairphone"],[g,w]],[/(u304aa)/i],[f,[m,"AT&T"],[g,w]],[/\bsie-(\w*)/i],[f,[m,"Siemens"],[g,w]],[/\b(rct\w+) b/i],[f,[m,"RCA"],[g,x]],[/\b(venue[\d ]{2,7}) b/i],[f,[m,"Dell"],[g,x]],[/\b(q(?:mv|ta)\w+) b/i],[f,[m,"Verizon"],[g,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[m,"Barnes & Noble"],[g,x]],[/\b(tm\d{3}\w+) b/i],[f,[m,"NuVision"],[g,x]],[/\b(k88) b/i],[f,[m,"ZTE"],[g,x]],[/\b(nx\d{3}j) b/i],[f,[m,"ZTE"],[g,w]],[/\b(gen\d{3}) b.+49h/i],[f,[m,"Swiss"],[g,w]],[/\b(zur\d{3}) b/i],[f,[m,"Swiss"],[g,x]],[/\b((zeki)?tb.*\b) b/i],[f,[m,"Zeki"],[g,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],f,[g,x]],[/\b(ns-?\w{0,9}) b/i],[f,[m,"Insignia"],[g,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[m,"NextBook"],[g,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],f,[g,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],f,[g,w]],[/\b(ph-1) /i],[f,[m,"Essential"],[g,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[m,"Envizen"],[g,x]],[/\b(trio[-\w\. ]+) b/i],[f,[m,"MachSpeed"],[g,x]],[/\btu_(1491) b/i],[f,[m,"Rotor"],[g,x]],[/(shield[\w ]+) b/i],[f,[m,"Nvidia"],[g,x]],[/(sprint) (\w+)/i],[m,f,[g,w]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[m,H],[g,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[m,oe],[g,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[m,oe],[g,w]],[/smart-tv.+(samsung)/i],[m,[g,T]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[m,$],[g,T]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,j],[g,T]],[/(apple) ?tv/i],[m,[f,k+" TV"],[g,T]],[/crkey/i],[[f,b+"cast"],[m,O],[g,T]],[/droid.+aft(\w+)( bui|\))/i],[f,[m,S],[g,T]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[m,J],[g,T]],[/(bravia[\w ]+)( bui|\))/i],[f,[m,Z],[g,T]],[/(mitv-\w{5}) bui/i],[f,[m,ce],[g,T]],[/Hbbtv.*(technisat) (.*);/i],[m,f,[g,T]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,ct],[f,ct],[g,T]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,T]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,f,[g,v]],[/droid.+; (shield) bui/i],[f,[m,"Nvidia"],[g,v]],[/(playstation [345portablevi]+)/i],[f,[m,Z],[g,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[m,H],[g,v]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[m,$],[g,N]],[/((pebble))app/i],[m,f,[g,N]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[m,k],[g,N]],[/droid.+; (glass) \d/i],[f,[m,O],[g,N]],[/droid.+; (wt63?0{2,3})\)/i],[f,[m,oe],[g,N]],[/droid.+; (glass) \d/i],[f,[m,O],[g,N]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,f,[g,N]],[/; (quest( \d| pro)?)/i],[f,[m,Ee],[g,N]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[g,A]],[/(aeobc)\b/i],[f,[m,S],[g,A]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[g,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[g,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,w]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[h,E+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[h,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,y],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[y,Nt,X]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,Nt,X],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,Re],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,y],[/\(bb(10);/i],[y,[h,W]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[h,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[h,b+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,de],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,y],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,y]]},fe=function(ge,G){if(typeof ge===c&&(G=ge,ge=r),!(this instanceof fe))return new fe(ge,G).getResult();var _=typeof n!==l&&n.navigator?n.navigator:r,P=ge||(_&&_.userAgent?_.userAgent:o),Q=_&&_.userAgentData?_.userAgentData:r,Y=G?we(V,G):V,ee=_&&_.userAgent==P;return this.getBrowser=function(){var ne={};return ne[h]=r,ne[y]=r,Ze.call(ne,P,Y.browser),ne[d]=Ke(ne[y]),ee&&_&&_.brave&&typeof _.brave.isBrave==a&&(ne[h]="Brave"),ne},this.getCPU=function(){var ne={};return ne[p]=r,Ze.call(ne,P,Y.cpu),ne},this.getDevice=function(){var ne={};return ne[m]=r,ne[f]=r,ne[g]=r,Ze.call(ne,P,Y.device),ee&&!ne[g]&&Q&&Q.mobile&&(ne[g]=w),ee&&ne[f]=="Macintosh"&&_&&typeof _.standalone!==l&&_.maxTouchPoints&&_.maxTouchPoints>2&&(ne[f]="iPad",ne[g]=x),ne},this.getEngine=function(){var ne={};return ne[h]=r,ne[y]=r,Ze.call(ne,P,Y.engine),ne},this.getOS=function(){var ne={};return ne[h]=r,ne[y]=r,Ze.call(ne,P,Y.os),ee&&!ne[h]&&Q&&Q.platform&&Q.platform!="Unknown"&&(ne[h]=Q.platform.replace(/chrome os/i,de).replace(/macos/i,Re)),ne},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return P},this.setUA=function(ne){return P=typeof ne===u&&ne.length>z?ct(ne,z):ne,this},this.setUA(P),this};fe.VERSION=i,fe.BROWSER=qe([h,y,d]),fe.CPU=qe([p]),fe.DEVICE=qe([f,m,g,v,w,T,x,N,A]),fe.ENGINE=fe.OS=qe([h,y]),t.exports&&(e=t.exports=fe),e.UAParser=fe;var _e=typeof n!==l&&(n.jQuery||n.Zepto);if(_e&&!_e.ua){var Ie=new fe;_e.ua=Ie.getResult(),_e.ua.get=function(){return Ie.getUA()},_e.ua.set=function(ge){Ie.setUA(ge);var G=Ie.getResult();for(var _ in G)_e.ua[_]=G[_]}}})(typeof window=="object"?window:tF)})(z2,z2.exports);var Yne=z2.exports;/*!
Copyright (c) 2023 Paul Miller (paulmillr.com)
The library paulmillr-qr is dual-licensed under the Apache 2.0 OR MIT license.
You can select a license of your choice.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const Ch={newline:10,reset:27};function Jne(t){if(!Number.isSafeInteger(t))throw new Error(`integer expected: ${t}`)}function Zne(t){if(!Number.isSafeInteger(t)||t<1||t>40)throw new Error(`Invalid version=${t}. Expected number [1..40]`)}function ic(t,e){return t.toString(2).padStart(e,"0")}function VI(t,e){const n=t%e;return n>=0?n:e+n}function Yi(t,e){return new Array(t).fill(e)}function $I(...t){let e=0;for(const r of t)e=Math.max(e,r.length);const n=[];for(let r=0;r<e;r++)for(const i of t)r>=i.length||n.push(i[r]);return new Uint8Array(n)}function qI(t,e,n){if(n<0||n+e.length>t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[n+r])return!1;return!0}function ere(){let t,e=1/0;return{add(n,r){n>=e||(t=r,e=n)},get:()=>t,score:()=>e}}function KI(t){return{has:e=>t.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r})},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(Jne(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})}}}class Qi{static size(e,n){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: invalid height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: invalid width=${e.width} (${typeof e.width})`);return n!==void 0&&(e={width:Math.min(e.width,n.width),height:Math.min(e.height,n.height)}),e}static fromString(e){e=e.replace(/^\n+/g,"").replace(/\n+$/g,"");const n=e.split(String.fromCharCode(Ch.newline)),r=n.length,i=new Array(r);let o;for(const s of n){const a=s.split("").map(l=>{if(l==="X")return!0;if(l===" ")return!1;if(l!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${l}`)});if(o&&a.length!==o)throw new Error(`Bitmap.fromString different row sizes: width=${o} cur=${a.length}`);o=a.length,i.push(a)}return o||(o=0),new Qi({height:r,width:o},i)}data;height;width;constructor(e,n){const{height:r,width:i}=Qi.size(e);this.data=n||Array.from({length:r},()=>Yi(i,void 0)),this.height=r,this.width=i}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:n,y:r}=this.xy(e);return{height:this.height-r,width:this.width-n}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: invalid x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: invalid y=${e.y}`);return e.x=VI(e.x,this.width),e.y=VI(e.y,this.height),e}rect(e,n,r){const{x:i,y:o}=this.xy(e),{height:s,width:a}=Qi.size(n,this.size({x:i,y:o}));for(let l=0;l<s;l++)for(let c=0;c<a;c++)this.data[o+l][i+c]=typeof r=="function"?r({x:c,y:l},this.data[o+l][i+c]):r;return this}rectRead(e,n,r){return this.rect(e,n,(i,o)=>(r(i,o),o))}hLine(e,n,r){return this.rect(e,{width:n,height:1},r)}vLine(e,n,r){return this.rect(e,{width:1,height:n},r)}border(e=2,n){const r=this.height+2*e,i=this.width+2*e,o=Yi(e,n),s=Array.from({length:e},()=>Yi(i,n));return new Qi({height:r,width:i},[...s,...this.data.map(a=>[...o,...a,...o]),...s])}embed(e,n){return this.rect(e,n.size(),({x:r,y:i})=>n.data[i][r])}rectSlice(e,n=this.size()){const r=new Qi(Qi.size(n,this.size(this.xy(e))));return this.rect(e,n,({x:i,y:o},s)=>r.data[o][i]=s),r}inverse(){const{height:e,width:n}=this;return new Qi({height:n,width:e}).rect({x:0,y:0},1/0,({x:i,y:o})=>this.data[i][o])}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`invalid scale factor: ${e}`);const{height:n,width:r}=this;return new Qi({height:e*n,width:e*r}).rect({x:0,y:0},1/0,({x:o,y:s})=>this.data[Math.floor(s/e)][Math.floor(o/e)])}clone(){return new Qi(this.size()).rect({x:0,y:0},this.size(),({x:n,y:r})=>this.data[r][n])}assertDrawn(){this.rectRead(0,1/0,(e,n)=>{if(typeof n!="boolean")throw new Error(`Invalid color type=${typeof n}`)})}toString(){return this.data.map(e=>e.map(n=>n===void 0?"?":n?"X":" ").join("")).join(String.fromCharCode(Ch.newline))}toASCII(){const{height:e,width:n,data:r}=this;let i="";for(let o=0;o<e;o+=2){for(let s=0;s<n;s++){const a=r[o][s],l=o+1>=e?!0:r[o+1][s];!a&&!l?i+="":!a&&l?i+="":a&&!l?i+="":a&&l&&(i+=" ")}i+=String.fromCharCode(Ch.newline)}return i}toTerm(){const e=String.fromCharCode(Ch.reset),n=e+"[0m",r=e+"[1;47m  "+n,i=e+"[40m  "+n;return this.data.map(o=>o.map(s=>s?i:r).join("")).join(String.fromCharCode(Ch.newline))}toSVG(e=!0){let n=`<svg viewBox="0 0 ${this.width} ${this.height}" xmlns="http://www.w3.org/2000/svg">`,r="",i;return this.rectRead(0,1/0,(o,s)=>{if(!s)return;const{x:a,y:l}=o;if(!e){n+=`<rect x="${a}" y="${l}" width="1" height="1" />`;return}let c=`M${a} ${l}`;if(i){const d=`m${a-i.x} ${l-i.y}`;d.length<=c.length&&(c=d)}const u=a<10?`H${a}`:"h-1";r+=`${c}h1v1${u}Z`,i=o}),e&&(n+=`<path d="${r}"/>`),n+="</svg>",n}toGIF(){const e=a=>[a&255,a>>>8&255],n=[...e(this.width),...e(this.height)],r=[];this.rectRead(0,1/0,(a,l)=>r.push(+(l===!0)));const i=126,o=[71,73,70,56,55,97,...n,246,0,0,255,255,255,...Yi(3*127,0),44,0,0,0,0,...n,0,7],s=Math.floor(r.length/i);for(let a=0;a<s;a++)o.push(i+1,128,...r.slice(i*a,i*(a+1)).map(l=>+l));return o.push(r.length%i+1,128,...r.slice(s*i).map(a=>+a)),o.push(1,129,0,59),new Uint8Array(o)}toImage(e=!1){const{height:n,width:r}=this.size(),i=new Uint8Array(n*r*(e?3:4));let o=0;for(let s=0;s<n;s++)for(let a=0;a<r;a++){const l=this.data[s][a]?0:255;i[o++]=l,i[o++]=l,i[o++]=l,e||(i[o++]=255)}return{height:n,width:r,data:i}}}const QI=["low","medium","quartile","high"],XI=["numeric","alphanumeric","byte","kanji","eci"],tre=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],nre={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},rre={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Kr={size:{encode:t=>21+4*(t-1),decode:t=>(t-17)/4},sizeType:t=>Math.floor((t+7)/17),alignmentPatterns(t){if(t===1)return[];const e=6,n=Kr.size.encode(t)-e-1,r=n-e,i=Math.ceil(r/28);let o=Math.floor(r/i);o%2?o+=1:r%i*2>=i&&(o+=2);const s=[e];for(let a=1;a<i;a++)s.push(n-(i-a)*o);return s.push(n),s},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(t,e){const n=Kr.ECCode[t]<<3|e;let r=n;for(let i=0;i<10;i++)r=r<<1^(r>>9)*1335;return(n<<10|r)^Kr.formatMask},versionBits(t){let e=t;for(let n=0;n<12;n++)e=e<<1^(e>>11)*7973;return t<<12|e},alphabet:{numeric:KI("0123456789"),alphanumerc:KI("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits(t,e){return{numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]}[e][Kr.sizeType(t)]},modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(t,e){const n=tre[t-1],r=nre[e][t-1],i=rre[e][t-1],o=Math.floor(n/i)-r,s=i-n%i;return{words:r,numBlocks:i,shortBlocks:s,blockLen:o,capacity:(n-r*i)*8,total:(r+o)*i+i-s}}},DT=[(t,e)=>(t+e)%2==0,(t,e)=>e%2==0,(t,e)=>t%3==0,(t,e)=>(t+e)%3==0,(t,e)=>(Math.floor(e/2)+Math.floor(t/3))%2==0,(t,e)=>t*e%2+t*e%3==0,(t,e)=>(t*e%2+t*e%3)%2==0,(t,e)=>((t+e)%2+t*e%3)%2==0],vt={tables:(t=>{const e=Yi(256,0),n=Yi(256,0);for(let r=0,i=1;r<256;r++)e[r]=i,n[i]=r,i<<=1,i&256&&(i^=t);return{exp:e,log:n}})(285),exp:t=>vt.tables.exp[t],log(t){if(t===0)throw new Error(`GF.log: invalid arg=${t}`);return vt.tables.log[t]%255},mul(t,e){return t===0||e===0?0:vt.tables.exp[(vt.tables.log[t]+vt.tables.log[e])%255]},add:(t,e)=>t^e,pow:(t,e)=>vt.tables.exp[vt.tables.log[t]*e%255],inv(t){if(t===0)throw new Error(`GF.inverse: invalid arg=${t}`);return vt.tables.exp[255-vt.tables.log[t]]},polynomial(t){if(t.length==0)throw new Error("GF.polymomial: invalid length");if(t[0]!==0)return t;let e=0;for(;e<t.length-1&&t[e]==0;e++);return t.slice(e)},monomial(t,e){if(t<0)throw new Error(`GF.monomial: invalid degree=${t}`);if(e==0)return[0];let n=Yi(t+1,0);return n[0]=e,vt.polynomial(n)},degree:t=>t.length-1,coefficient:(t,e)=>t[vt.degree(t)-e],mulPoly(t,e){if(t[0]===0||e[0]===0)return[0];const n=Yi(t.length+e.length-1,0);for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++)n[r+i]=vt.add(n[r+i],vt.mul(t[r],e[i]));return vt.polynomial(n)},mulPolyScalar(t,e){if(e==0)return[0];if(e==1)return t;const n=Yi(t.length,0);for(let r=0;r<t.length;r++)n[r]=vt.mul(t[r],e);return vt.polynomial(n)},mulPolyMonomial(t,e,n){if(e<0)throw new Error("GF.mulPolyMonomial: invalid degree");if(n==0)return[0];const r=Yi(t.length+e,0);for(let i=0;i<t.length;i++)r[i]=vt.mul(t[i],n);return vt.polynomial(r)},addPoly(t,e){if(t[0]===0)return e;if(e[0]===0)return t;let n=t,r=e;n.length>r.length&&([n,r]=[r,n]);let i=Yi(r.length,0),o=r.length-n.length,s=r.slice(0,o);for(let a=0;a<s.length;a++)i[a]=s[a];for(let a=o;a<r.length;a++)i[a]=vt.add(n[a-o],r[a]);return vt.polynomial(i)},remainderPoly(t,e){const n=Array.from(t);for(let r=0;r<t.length-e.length+1;r++){const i=n[r];if(i!==0)for(let o=1;o<e.length;o++)e[o]!==0&&(n[r+o]=vt.add(n[r+o],vt.mul(e[o],i)))}return n.slice(t.length-e.length+1,n.length)},divisorPoly(t){let e=[1];for(let n=0;n<t;n++)e=vt.mulPoly(e,[1,vt.pow(2,n)]);return e},evalPoly(t,e){if(e==0)return vt.coefficient(t,0);let n=t[0];for(let r=1;r<t.length;r++)n=vt.add(vt.mul(e,n),t[r]);return n},euclidian(t,e,n){vt.degree(t)<vt.degree(e)&&([t,e]=[e,t]);let r=t,i=e,o=[0],s=[1];for(;2*vt.degree(i)>=n;){let c=r,u=o;if(r=i,o=s,r[0]===0)throw new Error("rLast[0] === 0");i=c;let d=[0];const f=vt.inv(r[0]);for(;vt.degree(i)>=vt.degree(r)&&i[0]!==0;){const h=vt.degree(i)-vt.degree(r),g=vt.mul(i[0],f);d=vt.addPoly(d,vt.monomial(h,g)),i=vt.addPoly(i,vt.mulPolyMonomial(r,h,g))}if(d=vt.mulPoly(d,o),s=vt.addPoly(d,u),vt.degree(i)>=vt.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}const a=vt.coefficient(s,0);if(a==0)throw new Error("sigmaTilde(0) was zero");const l=vt.inv(a);return[vt.mulPolyScalar(s,l),vt.mulPolyScalar(i,l)]}};function ire(t){return{encode(e){const n=vt.divisorPoly(t),r=Array.from(e);return r.push(...n.slice(0,-1).fill(0)),Uint8Array.from(vt.remainderPoly(r,n))},decode(e){const n=e.slice(),r=vt.polynomial(Array.from(e));let i=Yi(t,0),o=!1;for(let d=0;d<t;d++){const f=vt.evalPoly(r,vt.exp(d));i[i.length-1-d]=f,f!==0&&(o=!0)}if(!o)return n;i=vt.polynomial(i);const s=vt.monomial(t,1),[a,l]=vt.euclidian(s,i,t),c=Yi(vt.degree(a),0);let u=0;for(let d=1;d<256&&u<c.length;d++)vt.evalPoly(a,d)===0&&(c[u++]=vt.inv(d));if(u!==c.length)throw new Error("RS.decode: invalid errors number");for(let d=0;d<c.length;d++){const f=n.length-1-vt.log(c[d]);if(f<0)throw new Error("RS.decode: invalid error location");const h=vt.inv(c[d]);let g=1;for(let m=0;m<c.length;m++)d!==m&&(g=vt.mul(g,vt.add(1,vt.mul(c[m],h))));n[f]=vt.add(n[f],vt.mul(vt.evalPoly(l,h),vt.inv(g)))}return n}}}function ore(t,e){const{words:n,shortBlocks:r,numBlocks:i,blockLen:o,total:s}=Kr.capacity(t,e),a=ire(n);return{encode(l){const c=[],u=[];for(let g=0;g<i;g++){const m=g<r,y=o+(m?0:1);c.push(l.subarray(0,y)),u.push(a.encode(l.subarray(0,y))),l=l.subarray(y)}const d=$I(...c),f=$I(...u),h=new Uint8Array(d.length+f.length);return h.set(d),h.set(f,d.length),h},decode(l){if(l.length!==s)throw new Error(`interleave.decode: len(data)=${l.length}, total=${s}`);const c=[];for(let f=0;f<i;f++){const h=f<r;c.push(new Uint8Array(n+o+(h?0:1)))}let u=0;for(let f=0;f<o;f++)for(let h=0;h<i;h++)c[h][f]=l[u++];for(let f=r;f<i;f++)c[f][o]=l[u++];for(let f=o;f<o+n;f++)for(let h=0;h<i;h++){const g=h<r;c[h][f+(g?0:1)]=l[u++]}const d=[];for(const f of c)d.push(...Array.from(a.decode(f)).slice(0,-n));return Uint8Array.from(d)}}}function sre(t,e,n,r=!1){const i=Kr.size.encode(t);let o=new Qi(i+2);const s=new Qi(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);o=o.embed(0,s).embed({x:-s.width,y:0},s).embed({x:0,y:-s.height},s),o=o.rectSlice(1,i);const a=new Qi(1).rect(0,1,!0).border(1,!1).border(1,!0),l=Kr.alignmentPatterns(t);for(const c of l)for(const u of l)o.data[c][u]===void 0&&o.embed({x:u-2,y:c-2},a);o=o.hLine({x:0,y:6},1/0,({x:c},u)=>u===void 0?c%2==0:u).vLine({x:6,y:0},1/0,({y:c},u)=>u===void 0?c%2==0:u);{const c=Kr.formatBits(e,n),u=d=>!r&&(c>>d&1)==1;for(let d=0;d<6;d++)o.data[d][8]=u(d);for(let d=6;d<8;d++)o.data[d+1][8]=u(d);for(let d=8;d<15;d++)o.data[i-15+d][8]=u(d);for(let d=0;d<8;d++)o.data[8][i-d-1]=u(d);for(let d=8;d<9;d++)o.data[8][15-d-1+1]=u(d);for(let d=9;d<15;d++)o.data[8][15-d-1]=u(d);o.data[i-8][8]=!r}if(t>=7){const c=Kr.versionBits(t);for(let u=0;u<18;u+=1){const d=!r&&(c>>u&1)==1,f=Math.floor(u/3),h=u%3+i-8-3;o.data[f][h]=d,o.data[h][f]=d}}return o}function are(t,e,n){const r=t.height,i=DT[e];let o=-1,s=r-1;for(let a=r-1;a>0;a-=2){for(a==6&&(a=5);;s+=o){for(let l=0;l<2;l+=1){const c=a-l;t.data[s][c]===void 0&&n(c,s,i(c,s))}if(s+o<0||s+o>=r)break}o=-o}}function lre(t){let e="numeric";for(let n of t)if(!Kr.alphabet.numeric.has(n)&&(e="alphanumeric",!Kr.alphabet.alphanumerc.has(n)))return"byte";return e}function cre(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function YI(t,e,n,r){let i="",o=n.length;if(r==="numeric"){const d=Kr.alphabet.numeric.decode(n.split("")),f=d.length;for(let h=0;h<f-2;h+=3)i+=ic(d[h]*100+d[h+1]*10+d[h+2],10);f%3===1?i+=ic(d[f-1],4):f%3===2&&(i+=ic(d[f-2]*10+d[f-1],7))}else if(r==="alphanumeric"){const d=Kr.alphabet.alphanumerc.decode(n.split("")),f=d.length;for(let h=0;h<f-1;h+=2)i+=ic(d[h]*45+d[h+1],11);f%2==1&&(i+=ic(d[f-1],6))}else if(r==="byte"){const d=cre(n);o=d.length,i=Array.from(d).map(f=>ic(f,8)).join("")}else throw new Error("encode: unsupported type");const{capacity:s}=Kr.capacity(t,e),a=ic(o,Kr.lengthBits(t,r));let l=Kr.modeBits[r]+a+i;if(l.length>s)throw new Error("Capacity overflow");l+="0".repeat(Math.min(4,Math.max(0,s-l.length))),l.length%8&&(l+="0".repeat(8-l.length%8));const c="1110110000010001";for(let d=0;l.length!==s;d++)l+=c[d%c.length];const u=Uint8Array.from(l.match(/(.{8})/g).map(d=>+`0b${d}`));return ore(t,e).encode(u)}function JI(t,e,n,r,i=!1){const o=sre(t,e,r,i);let s=0;const a=8*n.length;if(are(o,r,(l,c,u)=>{let d=!1;s<a&&(d=(n[s>>>3]>>(7-s&7)&1)!==0,s++),o.data[c][l]=d!==u}),s!==a)throw new Error("QR: bytes left after draw");return o}function ure(t){const e=t.inverse(),n=h=>{let g=0;for(let m=0,y=1,p=void 0;m<h.length;m++)p===h[m]&&(y++,m!==h.length-1)||(y>=5&&(g+=3+(y-5)),p=h[m],y=1);return g};let r=0;t.data.forEach(h=>r+=n(h)),e.data.forEach(h=>r+=n(h));let i=0,o=t.data;const s=t.width-1,a=t.height-1;for(let h=0;h<s;h++)for(let g=0;g<a;g++){const m=h+1,y=g+1;o[h][g]===o[m][g]&&o[m][g]===o[h][y]&&o[m][g]===o[m][y]&&(i+=3)}const l=h=>{const g=[!0,!1,!0,!0,!0,!1,!0],m=[!1,!1,!1,!1],y=[...g,...m],p=[...m,...g];let v=0;for(let w=0;w<h.length;w++)qI(h,y,w)&&(v+=40),qI(h,p,w)&&(v+=40);return v};let c=0;for(const h of t.data)c+=l(h);for(const h of e.data)c+=l(h);let u=0;t.rectRead(0,1/0,(h,g)=>u+=g?1:0);const d=u/(t.height*t.width)*100,f=10*Math.floor(Math.abs(d-50)/5);return r+i+c+f}function dre(t,e,n,r){if(r===void 0){const i=ere();for(let o=0;o<DT.length;o++)i.add(ure(JI(t,e,n,o,!0)),o);r=i.get()}if(r===void 0)throw new Error("Cannot find mask");return JI(t,e,n,r)}function fre(t){if(!QI.includes(t))throw new Error(`Invalid error correction mode=${t}. Expected: ${QI}`)}function hre(t){if(!XI.includes(t))throw new Error(`Encoding: invalid mode=${t}. Expected: ${XI}`);if(t==="kanji"||t==="eci")throw new Error(`Encoding: ${t} is not supported (yet?).`)}function pre(t){if(![0,1,2,3,4,5,6,7].includes(t)||!DT[t])throw new Error(`Invalid mask=${t}. Expected number [0..7]`)}function mre(t,e="raw",n={}){const r=n.ecc!==void 0?n.ecc:"medium";fre(r);const i=n.encoding!==void 0?n.encoding:lre(t);hre(i),n.mask!==void 0&&pre(n.mask);let o=n.version,s,a=new Error("Unknown error");if(o!==void 0)Zne(o),s=YI(o,r,t,i);else for(let u=1;u<=40;u++)try{s=YI(u,r,t,i),o=u;break}catch(d){a=d}if(!o||!s)throw a;let l=dre(o,r,s,n.mask);l.assertDrawn();const c=n.border===void 0?2:n.border;if(!Number.isSafeInteger(c))throw new Error(`invalid border type=${typeof c}`);if(l=l.border(c,!1),n.scale!==void 0&&(l=l.scale(n.scale)),e==="raw")return l.data;if(e==="ascii")return l.toASCII();if(e==="svg")return l.toSVG(n.optimize);if(e==="gif")return l.toGIF();if(e==="term")return l.toTerm();throw new Error(`Unknown output: ${e}`)}function gre(t,e={}){const{errorCorrection:n,version:r}=e,i=mre(t,"raw",{border:0,ecc:n,scale:1,version:r});return{edgeLength:i.length,finderLength:7,grid:i,value:t}}function Us(t){const{arena:e,...n}=t;return yn.jsxs(Us.Root,{...n,children:[yn.jsx(Us.Finder,{}),yn.jsx(Us.Cells,{}),e&&yn.jsx(Us.Arena,{children:typeof e=="string"?yn.jsx("img",{alt:"Arena",src:e,style:{borderRadius:1,height:"100%",objectFit:"cover",width:"100%"}}):e})]})}(function(t){t.Context=U.createContext(null);function e(o){const{children:s,size:a="100%",value:l,version:c,...u}=o,d=U.useMemo(()=>(U.Children.map(s,v=>!U.isValidElement(v)||typeof v.type=="string"?null:"displayName"in v.type&&v.type.displayName==="Arena"?!0:null)??[]).some(Boolean),[s]),f=U.useMemo(()=>{let v=o.errorCorrection;return d&&v==="low"&&(v="medium"),gre(l,{errorCorrection:v,version:c})},[l,d,o.errorCorrection,c]),h=1,g=f.edgeLength*h,m=f.finderLength*h/2,y=d?Math.floor(g/4):0,p=U.useMemo(()=>({arenaSize:y,cellSize:h,edgeSize:g,qrcode:f,finderSize:m}),[y,g,f,m]);return yn.jsx(t.Context.Provider,{value:p,children:yn.jsxs("svg",{...u,width:a,height:a,viewBox:`0 0 ${g} ${g}`,xmlns:"http://www.w3.org/2000/svg",children:[yn.jsx("title",{children:"QR Code"}),s]})})}t.Root=e,function(o){o.displayName="Root"}(e=t.Root||(t.Root={}));function n(o){const{className:s,fill:a,innerClassName:l,radius:c=.25}=o,{cellSize:u,edgeSize:d,finderSize:f}=U.useContext(t.Context);function h({position:g}){let m=f-(f-u)-u/2;g==="top-right"&&(m=d-f-(f-u)-u/2);let y=f-(f-u)-u/2;g==="bottom-left"&&(y=d-f-(f-u)-u/2);let p=f-u*1.5;g==="top-right"&&(p=d-f-u*1.5);let v=f-u*1.5;return g==="bottom-left"&&(v=d-f-u*1.5),yn.jsxs(yn.Fragment,{children:[yn.jsx("rect",{className:s,stroke:a??"currentColor",fill:"transparent",x:m,y,width:u+(f-u)*2,height:u+(f-u)*2,rx:2*c*(f-u),ry:2*c*(f-u),strokeWidth:u}),yn.jsx("rect",{className:l,fill:a??"currentColor",x:p,y:v,width:u*3,height:u*3,rx:2*c*u,ry:2*c*u})]})}return yn.jsxs(yn.Fragment,{children:[yn.jsx(h,{position:"top-left"}),yn.jsx(h,{position:"top-right"}),yn.jsx(h,{position:"bottom-left"})]})}t.Finder=n,function(o){o.displayName="Finder"}(n=t.Finder||(t.Finder={}));function r(o){const{className:s,fill:a="currentColor",inset:l=!0,radius:c=1}=o,{arenaSize:u,cellSize:d,qrcode:f}=U.useContext(t.Context),{edgeLength:h,finderLength:g}=f,m=U.useMemo(()=>{let y="";for(let p=0;p<f.grid.length;p++){const v=f.grid[p];if(v)for(let w=0;w<v.length;w++){if(!v[w])continue;const T=h/2-u/2,N=T+u;if(p>=T&&p<=N&&w>=T&&w<=N)continue;const A=p<g&&w<g,z=p<g&&w>=h-g,S=p>=h-g&&w<g;if(A||z||S)continue;const k=l?d*.1:0,R=(d-k*2)/2,W=w*d+d/2,L=p*d+d/2,b=W-R,E=W+R,I=L-R,O=L+R,C=c*R;y+=[`M ${b+C},${I}`,`L ${E-C},${I}`,`A ${C},${C} 0 0,1 ${E},${I+C}`,`L ${E},${O-C}`,`A ${C},${C} 0 0,1 ${E-C},${O}`,`L ${b+C},${O}`,`A ${C},${C} 0 0,1 ${b},${O-C}`,`L ${b},${I+C}`,`A ${C},${C} 0 0,1 ${b+C},${I}`,"z"].join(" ")}}return y},[u,d,h,g,f.grid,l,c]);return yn.jsx("path",{className:s,d:m,fill:a})}t.Cells=r,function(o){o.displayName="Cells"}(r=t.Cells||(t.Cells={}));function i(o){const{children:s}=o,{arenaSize:a,cellSize:l,edgeSize:c}=U.useContext(t.Context),u=Math.ceil(c/2-a/2),d=a+a%2,f=l/2;return yn.jsx("foreignObject",{x:u,y:u,width:d,height:d,children:yn.jsx("div",{style:{alignItems:"center",display:"flex",fontSize:1,justifyContent:"center",height:"100%",overflow:"hidden",width:"100%",padding:f,boxSizing:"border-box"},children:s})})}t.Arena=i,function(o){o.displayName="Arena"}(i=t.Arena||(t.Arena={}))})(Us||(Us={}));Zm.type="coinbaseWallet";function Zm(t={}){return t.version==="3"||t.headlessMode?vre(t):yre(t)}function yre(t){let e,n,r,i;return o=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:Zm.type,async connect({chainId:s,...a}={}){try{const l=await this.getProvider(),c=(await l.request({method:"eth_requestAccounts",params:"instantOnboarding"in a&&a.instantOnboarding?[{onboarding:"instant"}]:[]})).map(d=>Dr(d));n||(n=this.onAccountsChanged.bind(this),l.on("accountsChanged",n)),r||(r=this.onChainChanged.bind(this),l.on("chainChanged",r)),i||(i=this.onDisconnect.bind(this),l.on("disconnect",i));let u=await this.getChainId();return s&&u!==s&&(u=(await this.switchChain({chainId:s}).catch(f=>{if(f.code===Sn.code)throw f;return{id:u}}))?.id??u),{accounts:c,chainId:u}}catch(l){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(l.message)?new Sn(l):l}},async disconnect(){const s=await this.getProvider();n&&(s.removeListener("accountsChanged",n),n=void 0),r&&(s.removeListener("chainChanged",r),r=void 0),i&&(s.removeListener("disconnect",i),i=void 0),s.disconnect(),s.close?.()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(a=>Dr(a))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!e){const s=typeof t.preference=="string"?{options:t.preference}:{...t.preference,options:t.preference?.options??"all"},{createCoinbaseWalletSDK:a}=await Xe(async()=>{const{createCoinbaseWalletSDK:c}=await import("./index-BqsPTARW.js");return{createCoinbaseWalletSDK:c}},__vite__mapDeps([0,1]));e=a({...t,appChainIds:o.chains.map(c=>c.id),preference:s}).getProvider()}return e},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:s,chainId:a}){const l=o.chains.find(u=>u.id===a);if(!l)throw new Lo(new fu);const c=await this.getProvider();try{return await c.request({method:"wallet_switchEthereumChain",params:[{chainId:je(l.id)}]}),l}catch(u){if(u.code===4902)try{let d;s?.blockExplorerUrls?d=s.blockExplorerUrls:d=l.blockExplorers?.default.url?[l.blockExplorers?.default.url]:[];let f;s?.rpcUrls?.length?f=s.rpcUrls:f=[l.rpcUrls.default?.http[0]??""];const h={blockExplorerUrls:d,chainId:je(a),chainName:s?.chainName??l.name,iconUrls:s?.iconUrls,nativeCurrency:s?.nativeCurrency??l.nativeCurrency,rpcUrls:f};return await c.request({method:"wallet_addEthereumChain",params:[h]}),l}catch(d){throw new Sn(d)}throw new Lo(u)}},onAccountsChanged(s){s.length===0?this.onDisconnect():o.emitter.emit("change",{accounts:s.map(a=>Dr(a))})},onChainChanged(s){const a=Number(s);o.emitter.emit("change",{chainId:a})},async onDisconnect(s){o.emitter.emit("disconnect");const a=await this.getProvider();n&&(a.removeListener("accountsChanged",n),n=void 0),r&&(a.removeListener("chainChanged",r),r=void 0),i&&(a.removeListener("disconnect",i),i=void 0)}})}function vre(t){let n,r,i,o,s;return a=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:Zm.type,async connect({chainId:l}={}){try{const c=await this.getProvider(),u=(await c.request({method:"eth_requestAccounts"})).map(f=>Dr(f));i||(i=this.onAccountsChanged.bind(this),c.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),c.on("chainChanged",o)),s||(s=this.onDisconnect.bind(this),c.on("disconnect",s));let d=await this.getChainId();return l&&d!==l&&(d=(await this.switchChain({chainId:l}).catch(h=>{if(h.code===Sn.code)throw h;return{id:d}}))?.id??d),{accounts:u,chainId:d}}catch(c){throw/(user closed modal|accounts received is empty|user denied account)/i.test(c.message)?new Sn(c):c}},async disconnect(){const l=await this.getProvider();i&&(l.removeListener("accountsChanged",i),i=void 0),o&&(l.removeListener("chainChanged",o),o=void 0),s&&(l.removeListener("disconnect",s),s=void 0),l.disconnect(),l.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(c=>Dr(c))},async getChainId(){const c=await(await this.getProvider()).request({method:"eth_chainId"});return Number(c)},async getProvider(){if(!r){const l=await(async()=>{const{default:h}=await Xe(async()=>{const{default:g}=await import("./index-LknClZxn.js").then(m=>m.i);return{default:g}},__vite__mapDeps([2,3,1,4]));return typeof h!="function"&&typeof h.default=="function"?h.default:h})();n=new l({...t,reloadOnDisconnect:!1});const c=n.walletExtension?.getChainId(),u=a.chains.find(h=>t.chainId?h.id===t.chainId:h.id===c)||a.chains[0],d=t.chainId||u?.id,f=t.jsonRpcUrl||u?.rpcUrls.default.http[0];r=n.makeWeb3Provider(f,d)}return r},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:c}){const u=a.chains.find(f=>f.id===c);if(!u)throw new Lo(new fu);const d=await this.getProvider();try{return await d.request({method:"wallet_switchEthereumChain",params:[{chainId:je(u.id)}]}),u}catch(f){if(f.code===4902)try{let h;l?.blockExplorerUrls?h=l.blockExplorerUrls:h=u.blockExplorers?.default.url?[u.blockExplorers?.default.url]:[];let g;l?.rpcUrls?.length?g=l.rpcUrls:g=[u.rpcUrls.default?.http[0]??""];const m={blockExplorerUrls:h,chainId:je(c),chainName:l?.chainName??u.name,iconUrls:l?.iconUrls,nativeCurrency:l?.nativeCurrency??u.nativeCurrency,rpcUrls:g};return await d.request({method:"wallet_addEthereumChain",params:[m]}),u}catch(h){throw new Sn(h)}throw new Lo(f)}},onAccountsChanged(l){l.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:l.map(c=>Dr(c))})},onChainChanged(l){const c=Number(l);a.emitter.emit("change",{chainId:c})},async onDisconnect(l){a.emitter.emit("disconnect");const c=await this.getProvider();i&&(c.removeListener("accountsChanged",i),i=void 0),o&&(c.removeListener("chainChanged",o),o=void 0),s&&(c.removeListener("disconnect",s),s=void 0)}})}UT.type="safe";function UT(t={}){const{shimDisconnect:e=!1}=t;let n,r;return i=>({id:"safe",name:"Safe",type:UT.type,async connect(){const o=await this.getProvider();if(!o)throw new _o;const s=await this.getAccounts(),a=await this.getChainId();return r||(r=this.onDisconnect.bind(this),o.on("disconnect",r)),e&&await i.storage?.removeItem("safe.disconnected"),{accounts:s,chainId:a}},async disconnect(){const o=await this.getProvider();if(!o)throw new _o;r&&(o.removeListener("disconnect",r),r=void 0),e&&await i.storage?.setItem("safe.disconnected",!0)},async getAccounts(){const o=await this.getProvider();if(!o)throw new _o;return(await o.request({method:"eth_accounts"})).map(Dr)},async getProvider(){if(typeof window<"u"&&window?.parent!==window){if(!n){const{default:s}=await Xe(async()=>{const{default:u}=await import("./index-BvO-zEdN.js").then(d=>d.e);return{default:u}},[]),a=new s(t),l=await yT(()=>a.safe.getInfo(),{timeout:t.unstable_getInfoTimeout??10});if(!l)throw new Error("Could not load Safe information");const c=await(async()=>{const u=await Xe(()=>import("./index-nfUwwW_c.js").then(d=>d.i),__vite__mapDeps([5,6,4]));return typeof u.SafeAppProvider!="function"&&typeof u.default.SafeAppProvider=="function"?u.default.SafeAppProvider:u.SafeAppProvider})();n=new c(l,a)}return n}},async getChainId(){const o=await this.getProvider();if(!o)throw new _o;return Number(o.chainId)},async isAuthorized(){try{return e&&await i.storage?.getItem("safe.disconnected")?!1:!!(await this.getAccounts()).length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){i.emitter.emit("disconnect")}})}v1.type="walletConnect";function v1(t){const e=t.isNewChainsStale??!0;let n,r;const i="eip155";let o,s,a,l,c,u;return d=>({id:"walletConnect",name:"WalletConnect",type:v1.type,async setup(){const f=await this.getProvider().catch(()=>null);f&&(a||(a=this.onConnect.bind(this),f.on("connect",a)),c||(c=this.onSessionDelete.bind(this),f.on("session_delete",c)))},async connect({chainId:f,...h}={}){try{const g=await this.getProvider();if(!g)throw new _o;l||(l=this.onDisplayUri,g.on("display_uri",l));let m=f;if(!m){const w=await d.storage?.getItem("state")??{};d.chains.some(T=>T.id===w.chainId)?m=w.chainId:m=d.chains[0]?.id}if(!m)throw new Error("No chains found on connector.");const y=await this.isChainsStale();if(g.session&&y&&await g.disconnect(),!g.session||y){const w=d.chains.filter(x=>x.id!==m).map(x=>x.id);await g.connect({optionalChains:[m,...w],..."pairingTopic"in h?{pairingTopic:h.pairingTopic}:{}}),this.setRequestedChainsIds(d.chains.map(x=>x.id))}const p=(await g.enable()).map(w=>Dr(w)),v=await this.getChainId();return l&&(g.removeListener("display_uri",l),l=void 0),a&&(g.removeListener("connect",a),a=void 0),o||(o=this.onAccountsChanged.bind(this),g.on("accountsChanged",o)),s||(s=this.onChainChanged.bind(this),g.on("chainChanged",s)),u||(u=this.onDisconnect.bind(this),g.on("disconnect",u)),c||(c=this.onSessionDelete.bind(this),g.on("session_delete",c)),{accounts:p,chainId:v}}catch(g){throw/(user rejected|connection request reset)/i.test(g?.message)?new Sn(g):g}},async disconnect(){const f=await this.getProvider();try{await f?.disconnect()}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{s&&(f?.removeListener("chainChanged",s),s=void 0),u&&(f?.removeListener("disconnect",u),u=void 0),a||(a=this.onConnect.bind(this),f?.on("connect",a)),o&&(f?.removeListener("accountsChanged",o),o=void 0),c&&(f?.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(h=>Dr(h))},async getProvider({chainId:f}={}){async function h(){const g=d.chains.map(y=>y.id);if(!g.length)return;const{EthereumProvider:m}=await Xe(async()=>{const{EthereumProvider:y}=await import("./index.es-DgeMfSxx.js").then(p=>p.a0);return{EthereumProvider:y}},__vite__mapDeps([7,4]));return await m.init({...t,disableProviderPing:!0,optionalChains:g,projectId:t.projectId,rpcMap:Object.fromEntries(d.chains.map(y=>{const[p]=OZ({chain:y,transports:d.transports});return[y.id,p]})),showQrModal:t.showQrModal??!0})}return n||(r||(r=h()),n=await r,n?.events.setMaxListeners(Number.POSITIVE_INFINITY)),f&&await this.switchChain?.({chainId:f}),n},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[f,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return f.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:f,chainId:h}){const g=await this.getProvider();if(!g)throw new _o;const m=d.chains.find(y=>y.id===h);if(!m)throw new Lo(new fu);try{await Promise.all([new Promise(p=>{const v=({chainId:w})=>{w===h&&(d.emitter.off("change",v),p())};d.emitter.on("change",v)}),g.request({method:"wallet_switchEthereumChain",params:[{chainId:je(h)}]})]);const y=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...y,h]),m}catch(y){const p=y;if(/(user rejected)/i.test(p.message))throw new Sn(p);try{let v;f?.blockExplorerUrls?v=f.blockExplorerUrls:v=m.blockExplorers?.default.url?[m.blockExplorers?.default.url]:[];let w;f?.rpcUrls?.length?w=f.rpcUrls:w=[...m.rpcUrls.default.http];const x={blockExplorerUrls:v,chainId:je(h),chainName:f?.chainName??m.name,iconUrls:f?.iconUrls,nativeCurrency:f?.nativeCurrency??m.nativeCurrency,rpcUrls:w};await g.request({method:"wallet_addEthereumChain",params:[x]});const T=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...T,h]),m}catch(v){throw new Sn(v)}}},onAccountsChanged(f){f.length===0?this.onDisconnect():d.emitter.emit("change",{accounts:f.map(h=>Dr(h))})},onChainChanged(f){const h=Number(f);d.emitter.emit("change",{chainId:h})},async onConnect(f){const h=Number(f.chainId),g=await this.getAccounts();d.emitter.emit("connect",{accounts:g,chainId:h})},async onDisconnect(f){this.setRequestedChainsIds([]),d.emitter.emit("disconnect");const h=await this.getProvider();o&&(h.removeListener("accountsChanged",o),o=void 0),s&&(h.removeListener("chainChanged",s),s=void 0),u&&(h.removeListener("disconnect",u),u=void 0),c&&(h.removeListener("session_delete",c),c=void 0),a||(a=this.onConnect.bind(this),h.on("connect",a))},onDisplayUri(f){d.emitter.emit("message",{type:"display_uri",data:f})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){return n?n.session?.namespaces[i]?.accounts?.map(h=>Number.parseInt(h.split(":")[1]||""))??[]:[]},async getRequestedChainsIds(){return await d.storage?.getItem(this.requestedChainsStorageKey)??[]},async isChainsStale(){if(!e)return!1;const f=d.chains.map(m=>m.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(m=>f.includes(m)))return!1;const g=await this.getRequestedChainsIds();return!f.every(m=>g.includes(m))},async setRequestedChainsIds(f){await d.storage?.setItem(this.requestedChainsStorageKey,f)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}var kv={},wre=768,Wu=ute({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),qU=YD({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),j2=gte({conditions:{defaultCondition:"base",conditionNames:["base","hover","active"],responsiveArray:void 0},styles:{background:{values:{accentColor:{conditions:{base:"ju367v9i",hover:"ju367v9j",active:"ju367v9k"},defaultClass:"ju367v9i"},accentColorForeground:{conditions:{base:"ju367v9l",hover:"ju367v9m",active:"ju367v9n"},defaultClass:"ju367v9l"},actionButtonBorder:{conditions:{base:"ju367v9o",hover:"ju367v9p",active:"ju367v9q"},defaultClass:"ju367v9o"},actionButtonBorderMobile:{conditions:{base:"ju367v9r",hover:"ju367v9s",active:"ju367v9t"},defaultClass:"ju367v9r"},actionButtonSecondaryBackground:{conditions:{base:"ju367v9u",hover:"ju367v9v",active:"ju367v9w"},defaultClass:"ju367v9u"},closeButton:{conditions:{base:"ju367v9x",hover:"ju367v9y",active:"ju367v9z"},defaultClass:"ju367v9x"},closeButtonBackground:{conditions:{base:"ju367va0",hover:"ju367va1",active:"ju367va2"},defaultClass:"ju367va0"},connectButtonBackground:{conditions:{base:"ju367va3",hover:"ju367va4",active:"ju367va5"},defaultClass:"ju367va3"},connectButtonBackgroundError:{conditions:{base:"ju367va6",hover:"ju367va7",active:"ju367va8"},defaultClass:"ju367va6"},connectButtonInnerBackground:{conditions:{base:"ju367va9",hover:"ju367vaa",active:"ju367vab"},defaultClass:"ju367va9"},connectButtonText:{conditions:{base:"ju367vac",hover:"ju367vad",active:"ju367vae"},defaultClass:"ju367vac"},connectButtonTextError:{conditions:{base:"ju367vaf",hover:"ju367vag",active:"ju367vah"},defaultClass:"ju367vaf"},connectionIndicator:{conditions:{base:"ju367vai",hover:"ju367vaj",active:"ju367vak"},defaultClass:"ju367vai"},downloadBottomCardBackground:{conditions:{base:"ju367val",hover:"ju367vam",active:"ju367van"},defaultClass:"ju367val"},downloadTopCardBackground:{conditions:{base:"ju367vao",hover:"ju367vap",active:"ju367vaq"},defaultClass:"ju367vao"},error:{conditions:{base:"ju367var",hover:"ju367vas",active:"ju367vat"},defaultClass:"ju367var"},generalBorder:{conditions:{base:"ju367vau",hover:"ju367vav",active:"ju367vaw"},defaultClass:"ju367vau"},generalBorderDim:{conditions:{base:"ju367vax",hover:"ju367vay",active:"ju367vaz"},defaultClass:"ju367vax"},menuItemBackground:{conditions:{base:"ju367vb0",hover:"ju367vb1",active:"ju367vb2"},defaultClass:"ju367vb0"},modalBackdrop:{conditions:{base:"ju367vb3",hover:"ju367vb4",active:"ju367vb5"},defaultClass:"ju367vb3"},modalBackground:{conditions:{base:"ju367vb6",hover:"ju367vb7",active:"ju367vb8"},defaultClass:"ju367vb6"},modalBorder:{conditions:{base:"ju367vb9",hover:"ju367vba",active:"ju367vbb"},defaultClass:"ju367vb9"},modalText:{conditions:{base:"ju367vbc",hover:"ju367vbd",active:"ju367vbe"},defaultClass:"ju367vbc"},modalTextDim:{conditions:{base:"ju367vbf",hover:"ju367vbg",active:"ju367vbh"},defaultClass:"ju367vbf"},modalTextSecondary:{conditions:{base:"ju367vbi",hover:"ju367vbj",active:"ju367vbk"},defaultClass:"ju367vbi"},profileAction:{conditions:{base:"ju367vbl",hover:"ju367vbm",active:"ju367vbn"},defaultClass:"ju367vbl"},profileActionHover:{conditions:{base:"ju367vbo",hover:"ju367vbp",active:"ju367vbq"},defaultClass:"ju367vbo"},profileForeground:{conditions:{base:"ju367vbr",hover:"ju367vbs",active:"ju367vbt"},defaultClass:"ju367vbr"},selectedOptionBorder:{conditions:{base:"ju367vbu",hover:"ju367vbv",active:"ju367vbw"},defaultClass:"ju367vbu"},standby:{conditions:{base:"ju367vbx",hover:"ju367vby",active:"ju367vbz"},defaultClass:"ju367vbx"}}},borderColor:{values:{accentColor:{conditions:{base:"ju367vc0",hover:"ju367vc1",active:"ju367vc2"},defaultClass:"ju367vc0"},accentColorForeground:{conditions:{base:"ju367vc3",hover:"ju367vc4",active:"ju367vc5"},defaultClass:"ju367vc3"},actionButtonBorder:{conditions:{base:"ju367vc6",hover:"ju367vc7",active:"ju367vc8"},defaultClass:"ju367vc6"},actionButtonBorderMobile:{conditions:{base:"ju367vc9",hover:"ju367vca",active:"ju367vcb"},defaultClass:"ju367vc9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vcc",hover:"ju367vcd",active:"ju367vce"},defaultClass:"ju367vcc"},closeButton:{conditions:{base:"ju367vcf",hover:"ju367vcg",active:"ju367vch"},defaultClass:"ju367vcf"},closeButtonBackground:{conditions:{base:"ju367vci",hover:"ju367vcj",active:"ju367vck"},defaultClass:"ju367vci"},connectButtonBackground:{conditions:{base:"ju367vcl",hover:"ju367vcm",active:"ju367vcn"},defaultClass:"ju367vcl"},connectButtonBackgroundError:{conditions:{base:"ju367vco",hover:"ju367vcp",active:"ju367vcq"},defaultClass:"ju367vco"},connectButtonInnerBackground:{conditions:{base:"ju367vcr",hover:"ju367vcs",active:"ju367vct"},defaultClass:"ju367vcr"},connectButtonText:{conditions:{base:"ju367vcu",hover:"ju367vcv",active:"ju367vcw"},defaultClass:"ju367vcu"},connectButtonTextError:{conditions:{base:"ju367vcx",hover:"ju367vcy",active:"ju367vcz"},defaultClass:"ju367vcx"},connectionIndicator:{conditions:{base:"ju367vd0",hover:"ju367vd1",active:"ju367vd2"},defaultClass:"ju367vd0"},downloadBottomCardBackground:{conditions:{base:"ju367vd3",hover:"ju367vd4",active:"ju367vd5"},defaultClass:"ju367vd3"},downloadTopCardBackground:{conditions:{base:"ju367vd6",hover:"ju367vd7",active:"ju367vd8"},defaultClass:"ju367vd6"},error:{conditions:{base:"ju367vd9",hover:"ju367vda",active:"ju367vdb"},defaultClass:"ju367vd9"},generalBorder:{conditions:{base:"ju367vdc",hover:"ju367vdd",active:"ju367vde"},defaultClass:"ju367vdc"},generalBorderDim:{conditions:{base:"ju367vdf",hover:"ju367vdg",active:"ju367vdh"},defaultClass:"ju367vdf"},menuItemBackground:{conditions:{base:"ju367vdi",hover:"ju367vdj",active:"ju367vdk"},defaultClass:"ju367vdi"},modalBackdrop:{conditions:{base:"ju367vdl",hover:"ju367vdm",active:"ju367vdn"},defaultClass:"ju367vdl"},modalBackground:{conditions:{base:"ju367vdo",hover:"ju367vdp",active:"ju367vdq"},defaultClass:"ju367vdo"},modalBorder:{conditions:{base:"ju367vdr",hover:"ju367vds",active:"ju367vdt"},defaultClass:"ju367vdr"},modalText:{conditions:{base:"ju367vdu",hover:"ju367vdv",active:"ju367vdw"},defaultClass:"ju367vdu"},modalTextDim:{conditions:{base:"ju367vdx",hover:"ju367vdy",active:"ju367vdz"},defaultClass:"ju367vdx"},modalTextSecondary:{conditions:{base:"ju367ve0",hover:"ju367ve1",active:"ju367ve2"},defaultClass:"ju367ve0"},profileAction:{conditions:{base:"ju367ve3",hover:"ju367ve4",active:"ju367ve5"},defaultClass:"ju367ve3"},profileActionHover:{conditions:{base:"ju367ve6",hover:"ju367ve7",active:"ju367ve8"},defaultClass:"ju367ve6"},profileForeground:{conditions:{base:"ju367ve9",hover:"ju367vea",active:"ju367veb"},defaultClass:"ju367ve9"},selectedOptionBorder:{conditions:{base:"ju367vec",hover:"ju367ved",active:"ju367vee"},defaultClass:"ju367vec"},standby:{conditions:{base:"ju367vef",hover:"ju367veg",active:"ju367veh"},defaultClass:"ju367vef"}}},boxShadow:{values:{connectButton:{conditions:{base:"ju367vei",hover:"ju367vej",active:"ju367vek"},defaultClass:"ju367vei"},dialog:{conditions:{base:"ju367vel",hover:"ju367vem",active:"ju367ven"},defaultClass:"ju367vel"},profileDetailsAction:{conditions:{base:"ju367veo",hover:"ju367vep",active:"ju367veq"},defaultClass:"ju367veo"},selectedOption:{conditions:{base:"ju367ver",hover:"ju367ves",active:"ju367vet"},defaultClass:"ju367ver"},selectedWallet:{conditions:{base:"ju367veu",hover:"ju367vev",active:"ju367vew"},defaultClass:"ju367veu"},walletLogo:{conditions:{base:"ju367vex",hover:"ju367vey",active:"ju367vez"},defaultClass:"ju367vex"}}},color:{values:{accentColor:{conditions:{base:"ju367vf0",hover:"ju367vf1",active:"ju367vf2"},defaultClass:"ju367vf0"},accentColorForeground:{conditions:{base:"ju367vf3",hover:"ju367vf4",active:"ju367vf5"},defaultClass:"ju367vf3"},actionButtonBorder:{conditions:{base:"ju367vf6",hover:"ju367vf7",active:"ju367vf8"},defaultClass:"ju367vf6"},actionButtonBorderMobile:{conditions:{base:"ju367vf9",hover:"ju367vfa",active:"ju367vfb"},defaultClass:"ju367vf9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vfc",hover:"ju367vfd",active:"ju367vfe"},defaultClass:"ju367vfc"},closeButton:{conditions:{base:"ju367vff",hover:"ju367vfg",active:"ju367vfh"},defaultClass:"ju367vff"},closeButtonBackground:{conditions:{base:"ju367vfi",hover:"ju367vfj",active:"ju367vfk"},defaultClass:"ju367vfi"},connectButtonBackground:{conditions:{base:"ju367vfl",hover:"ju367vfm",active:"ju367vfn"},defaultClass:"ju367vfl"},connectButtonBackgroundError:{conditions:{base:"ju367vfo",hover:"ju367vfp",active:"ju367vfq"},defaultClass:"ju367vfo"},connectButtonInnerBackground:{conditions:{base:"ju367vfr",hover:"ju367vfs",active:"ju367vft"},defaultClass:"ju367vfr"},connectButtonText:{conditions:{base:"ju367vfu",hover:"ju367vfv",active:"ju367vfw"},defaultClass:"ju367vfu"},connectButtonTextError:{conditions:{base:"ju367vfx",hover:"ju367vfy",active:"ju367vfz"},defaultClass:"ju367vfx"},connectionIndicator:{conditions:{base:"ju367vg0",hover:"ju367vg1",active:"ju367vg2"},defaultClass:"ju367vg0"},downloadBottomCardBackground:{conditions:{base:"ju367vg3",hover:"ju367vg4",active:"ju367vg5"},defaultClass:"ju367vg3"},downloadTopCardBackground:{conditions:{base:"ju367vg6",hover:"ju367vg7",active:"ju367vg8"},defaultClass:"ju367vg6"},error:{conditions:{base:"ju367vg9",hover:"ju367vga",active:"ju367vgb"},defaultClass:"ju367vg9"},generalBorder:{conditions:{base:"ju367vgc",hover:"ju367vgd",active:"ju367vge"},defaultClass:"ju367vgc"},generalBorderDim:{conditions:{base:"ju367vgf",hover:"ju367vgg",active:"ju367vgh"},defaultClass:"ju367vgf"},menuItemBackground:{conditions:{base:"ju367vgi",hover:"ju367vgj",active:"ju367vgk"},defaultClass:"ju367vgi"},modalBackdrop:{conditions:{base:"ju367vgl",hover:"ju367vgm",active:"ju367vgn"},defaultClass:"ju367vgl"},modalBackground:{conditions:{base:"ju367vgo",hover:"ju367vgp",active:"ju367vgq"},defaultClass:"ju367vgo"},modalBorder:{conditions:{base:"ju367vgr",hover:"ju367vgs",active:"ju367vgt"},defaultClass:"ju367vgr"},modalText:{conditions:{base:"ju367vgu",hover:"ju367vgv",active:"ju367vgw"},defaultClass:"ju367vgu"},modalTextDim:{conditions:{base:"ju367vgx",hover:"ju367vgy",active:"ju367vgz"},defaultClass:"ju367vgx"},modalTextSecondary:{conditions:{base:"ju367vh0",hover:"ju367vh1",active:"ju367vh2"},defaultClass:"ju367vh0"},profileAction:{conditions:{base:"ju367vh3",hover:"ju367vh4",active:"ju367vh5"},defaultClass:"ju367vh3"},profileActionHover:{conditions:{base:"ju367vh6",hover:"ju367vh7",active:"ju367vh8"},defaultClass:"ju367vh6"},profileForeground:{conditions:{base:"ju367vh9",hover:"ju367vha",active:"ju367vhb"},defaultClass:"ju367vh9"},selectedOptionBorder:{conditions:{base:"ju367vhc",hover:"ju367vhd",active:"ju367vhe"},defaultClass:"ju367vhc"},standby:{conditions:{base:"ju367vhf",hover:"ju367vhg",active:"ju367vhh"},defaultClass:"ju367vhf"}}}}},{conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0},styles:{alignItems:{values:{"flex-start":{conditions:{smallScreen:"ju367v0",largeScreen:"ju367v1"},defaultClass:"ju367v0"},"flex-end":{conditions:{smallScreen:"ju367v2",largeScreen:"ju367v3"},defaultClass:"ju367v2"},center:{conditions:{smallScreen:"ju367v4",largeScreen:"ju367v5"},defaultClass:"ju367v4"}}},display:{values:{none:{conditions:{smallScreen:"ju367v6",largeScreen:"ju367v7"},defaultClass:"ju367v6"},block:{conditions:{smallScreen:"ju367v8",largeScreen:"ju367v9"},defaultClass:"ju367v8"},flex:{conditions:{smallScreen:"ju367va",largeScreen:"ju367vb"},defaultClass:"ju367va"},inline:{conditions:{smallScreen:"ju367vc",largeScreen:"ju367vd"},defaultClass:"ju367vc"}}}}},{conditions:void 0,styles:{margin:{mappings:["marginTop","marginBottom","marginLeft","marginRight"]},marginX:{mappings:["marginLeft","marginRight"]},marginY:{mappings:["marginTop","marginBottom"]},padding:{mappings:["paddingTop","paddingBottom","paddingLeft","paddingRight"]},paddingX:{mappings:["paddingLeft","paddingRight"]},paddingY:{mappings:["paddingTop","paddingBottom"]},alignSelf:{values:{"flex-start":{defaultClass:"ju367ve"},"flex-end":{defaultClass:"ju367vf"},center:{defaultClass:"ju367vg"}}},backgroundSize:{values:{cover:{defaultClass:"ju367vh"}}},borderRadius:{values:{1:{defaultClass:"ju367vi"},6:{defaultClass:"ju367vj"},10:{defaultClass:"ju367vk"},13:{defaultClass:"ju367vl"},actionButton:{defaultClass:"ju367vm"},connectButton:{defaultClass:"ju367vn"},menuButton:{defaultClass:"ju367vo"},modal:{defaultClass:"ju367vp"},modalMobile:{defaultClass:"ju367vq"},"25%":{defaultClass:"ju367vr"},full:{defaultClass:"ju367vs"}}},borderStyle:{values:{solid:{defaultClass:"ju367vt"}}},borderWidth:{values:{0:{defaultClass:"ju367vu"},1:{defaultClass:"ju367vv"},2:{defaultClass:"ju367vw"},4:{defaultClass:"ju367vx"}}},cursor:{values:{pointer:{defaultClass:"ju367vy"},none:{defaultClass:"ju367vz"}}},pointerEvents:{values:{none:{defaultClass:"ju367v10"},all:{defaultClass:"ju367v11"}}},minHeight:{values:{8:{defaultClass:"ju367v12"},44:{defaultClass:"ju367v13"}}},flexDirection:{values:{row:{defaultClass:"ju367v14"},column:{defaultClass:"ju367v15"}}},fontFamily:{values:{body:{defaultClass:"ju367v16"}}},fontSize:{values:{12:{defaultClass:"ju367v17"},13:{defaultClass:"ju367v18"},14:{defaultClass:"ju367v19"},16:{defaultClass:"ju367v1a"},18:{defaultClass:"ju367v1b"},20:{defaultClass:"ju367v1c"},23:{defaultClass:"ju367v1d"}}},fontWeight:{values:{regular:{defaultClass:"ju367v1e"},medium:{defaultClass:"ju367v1f"},semibold:{defaultClass:"ju367v1g"},bold:{defaultClass:"ju367v1h"},heavy:{defaultClass:"ju367v1i"}}},gap:{values:{0:{defaultClass:"ju367v1j"},1:{defaultClass:"ju367v1k"},2:{defaultClass:"ju367v1l"},3:{defaultClass:"ju367v1m"},4:{defaultClass:"ju367v1n"},5:{defaultClass:"ju367v1o"},6:{defaultClass:"ju367v1p"},8:{defaultClass:"ju367v1q"},10:{defaultClass:"ju367v1r"},12:{defaultClass:"ju367v1s"},14:{defaultClass:"ju367v1t"},16:{defaultClass:"ju367v1u"},18:{defaultClass:"ju367v1v"},20:{defaultClass:"ju367v1w"},24:{defaultClass:"ju367v1x"},28:{defaultClass:"ju367v1y"},32:{defaultClass:"ju367v1z"},36:{defaultClass:"ju367v20"},44:{defaultClass:"ju367v21"},64:{defaultClass:"ju367v22"},"-1":{defaultClass:"ju367v23"}}},height:{values:{1:{defaultClass:"ju367v24"},2:{defaultClass:"ju367v25"},4:{defaultClass:"ju367v26"},8:{defaultClass:"ju367v27"},12:{defaultClass:"ju367v28"},20:{defaultClass:"ju367v29"},24:{defaultClass:"ju367v2a"},28:{defaultClass:"ju367v2b"},30:{defaultClass:"ju367v2c"},32:{defaultClass:"ju367v2d"},34:{defaultClass:"ju367v2e"},36:{defaultClass:"ju367v2f"},40:{defaultClass:"ju367v2g"},44:{defaultClass:"ju367v2h"},48:{defaultClass:"ju367v2i"},54:{defaultClass:"ju367v2j"},60:{defaultClass:"ju367v2k"},200:{defaultClass:"ju367v2l"},full:{defaultClass:"ju367v2m"},max:{defaultClass:"ju367v2n"}}},justifyContent:{values:{"flex-start":{defaultClass:"ju367v2o"},"flex-end":{defaultClass:"ju367v2p"},center:{defaultClass:"ju367v2q"},"space-between":{defaultClass:"ju367v2r"},"space-around":{defaultClass:"ju367v2s"}}},textAlign:{values:{left:{defaultClass:"ju367v2t"},center:{defaultClass:"ju367v2u"},inherit:{defaultClass:"ju367v2v"}}},marginBottom:{values:{0:{defaultClass:"ju367v2w"},1:{defaultClass:"ju367v2x"},2:{defaultClass:"ju367v2y"},3:{defaultClass:"ju367v2z"},4:{defaultClass:"ju367v30"},5:{defaultClass:"ju367v31"},6:{defaultClass:"ju367v32"},8:{defaultClass:"ju367v33"},10:{defaultClass:"ju367v34"},12:{defaultClass:"ju367v35"},14:{defaultClass:"ju367v36"},16:{defaultClass:"ju367v37"},18:{defaultClass:"ju367v38"},20:{defaultClass:"ju367v39"},24:{defaultClass:"ju367v3a"},28:{defaultClass:"ju367v3b"},32:{defaultClass:"ju367v3c"},36:{defaultClass:"ju367v3d"},44:{defaultClass:"ju367v3e"},64:{defaultClass:"ju367v3f"},"-1":{defaultClass:"ju367v3g"}}},marginLeft:{values:{0:{defaultClass:"ju367v3h"},1:{defaultClass:"ju367v3i"},2:{defaultClass:"ju367v3j"},3:{defaultClass:"ju367v3k"},4:{defaultClass:"ju367v3l"},5:{defaultClass:"ju367v3m"},6:{defaultClass:"ju367v3n"},8:{defaultClass:"ju367v3o"},10:{defaultClass:"ju367v3p"},12:{defaultClass:"ju367v3q"},14:{defaultClass:"ju367v3r"},16:{defaultClass:"ju367v3s"},18:{defaultClass:"ju367v3t"},20:{defaultClass:"ju367v3u"},24:{defaultClass:"ju367v3v"},28:{defaultClass:"ju367v3w"},32:{defaultClass:"ju367v3x"},36:{defaultClass:"ju367v3y"},44:{defaultClass:"ju367v3z"},64:{defaultClass:"ju367v40"},"-1":{defaultClass:"ju367v41"}}},marginRight:{values:{0:{defaultClass:"ju367v42"},1:{defaultClass:"ju367v43"},2:{defaultClass:"ju367v44"},3:{defaultClass:"ju367v45"},4:{defaultClass:"ju367v46"},5:{defaultClass:"ju367v47"},6:{defaultClass:"ju367v48"},8:{defaultClass:"ju367v49"},10:{defaultClass:"ju367v4a"},12:{defaultClass:"ju367v4b"},14:{defaultClass:"ju367v4c"},16:{defaultClass:"ju367v4d"},18:{defaultClass:"ju367v4e"},20:{defaultClass:"ju367v4f"},24:{defaultClass:"ju367v4g"},28:{defaultClass:"ju367v4h"},32:{defaultClass:"ju367v4i"},36:{defaultClass:"ju367v4j"},44:{defaultClass:"ju367v4k"},64:{defaultClass:"ju367v4l"},"-1":{defaultClass:"ju367v4m"}}},marginTop:{values:{0:{defaultClass:"ju367v4n"},1:{defaultClass:"ju367v4o"},2:{defaultClass:"ju367v4p"},3:{defaultClass:"ju367v4q"},4:{defaultClass:"ju367v4r"},5:{defaultClass:"ju367v4s"},6:{defaultClass:"ju367v4t"},8:{defaultClass:"ju367v4u"},10:{defaultClass:"ju367v4v"},12:{defaultClass:"ju367v4w"},14:{defaultClass:"ju367v4x"},16:{defaultClass:"ju367v4y"},18:{defaultClass:"ju367v4z"},20:{defaultClass:"ju367v50"},24:{defaultClass:"ju367v51"},28:{defaultClass:"ju367v52"},32:{defaultClass:"ju367v53"},36:{defaultClass:"ju367v54"},44:{defaultClass:"ju367v55"},64:{defaultClass:"ju367v56"},"-1":{defaultClass:"ju367v57"}}},maxWidth:{values:{1:{defaultClass:"ju367v58"},2:{defaultClass:"ju367v59"},4:{defaultClass:"ju367v5a"},8:{defaultClass:"ju367v5b"},12:{defaultClass:"ju367v5c"},20:{defaultClass:"ju367v5d"},24:{defaultClass:"ju367v5e"},28:{defaultClass:"ju367v5f"},30:{defaultClass:"ju367v5g"},32:{defaultClass:"ju367v5h"},34:{defaultClass:"ju367v5i"},36:{defaultClass:"ju367v5j"},40:{defaultClass:"ju367v5k"},44:{defaultClass:"ju367v5l"},48:{defaultClass:"ju367v5m"},54:{defaultClass:"ju367v5n"},60:{defaultClass:"ju367v5o"},200:{defaultClass:"ju367v5p"},full:{defaultClass:"ju367v5q"},max:{defaultClass:"ju367v5r"}}},minWidth:{values:{1:{defaultClass:"ju367v5s"},2:{defaultClass:"ju367v5t"},4:{defaultClass:"ju367v5u"},8:{defaultClass:"ju367v5v"},12:{defaultClass:"ju367v5w"},20:{defaultClass:"ju367v5x"},24:{defaultClass:"ju367v5y"},28:{defaultClass:"ju367v5z"},30:{defaultClass:"ju367v60"},32:{defaultClass:"ju367v61"},34:{defaultClass:"ju367v62"},36:{defaultClass:"ju367v63"},40:{defaultClass:"ju367v64"},44:{defaultClass:"ju367v65"},48:{defaultClass:"ju367v66"},54:{defaultClass:"ju367v67"},60:{defaultClass:"ju367v68"},200:{defaultClass:"ju367v69"},full:{defaultClass:"ju367v6a"},max:{defaultClass:"ju367v6b"}}},overflow:{values:{hidden:{defaultClass:"ju367v6c"}}},paddingBottom:{values:{0:{defaultClass:"ju367v6d"},1:{defaultClass:"ju367v6e"},2:{defaultClass:"ju367v6f"},3:{defaultClass:"ju367v6g"},4:{defaultClass:"ju367v6h"},5:{defaultClass:"ju367v6i"},6:{defaultClass:"ju367v6j"},8:{defaultClass:"ju367v6k"},10:{defaultClass:"ju367v6l"},12:{defaultClass:"ju367v6m"},14:{defaultClass:"ju367v6n"},16:{defaultClass:"ju367v6o"},18:{defaultClass:"ju367v6p"},20:{defaultClass:"ju367v6q"},24:{defaultClass:"ju367v6r"},28:{defaultClass:"ju367v6s"},32:{defaultClass:"ju367v6t"},36:{defaultClass:"ju367v6u"},44:{defaultClass:"ju367v6v"},64:{defaultClass:"ju367v6w"},"-1":{defaultClass:"ju367v6x"}}},paddingLeft:{values:{0:{defaultClass:"ju367v6y"},1:{defaultClass:"ju367v6z"},2:{defaultClass:"ju367v70"},3:{defaultClass:"ju367v71"},4:{defaultClass:"ju367v72"},5:{defaultClass:"ju367v73"},6:{defaultClass:"ju367v74"},8:{defaultClass:"ju367v75"},10:{defaultClass:"ju367v76"},12:{defaultClass:"ju367v77"},14:{defaultClass:"ju367v78"},16:{defaultClass:"ju367v79"},18:{defaultClass:"ju367v7a"},20:{defaultClass:"ju367v7b"},24:{defaultClass:"ju367v7c"},28:{defaultClass:"ju367v7d"},32:{defaultClass:"ju367v7e"},36:{defaultClass:"ju367v7f"},44:{defaultClass:"ju367v7g"},64:{defaultClass:"ju367v7h"},"-1":{defaultClass:"ju367v7i"}}},paddingRight:{values:{0:{defaultClass:"ju367v7j"},1:{defaultClass:"ju367v7k"},2:{defaultClass:"ju367v7l"},3:{defaultClass:"ju367v7m"},4:{defaultClass:"ju367v7n"},5:{defaultClass:"ju367v7o"},6:{defaultClass:"ju367v7p"},8:{defaultClass:"ju367v7q"},10:{defaultClass:"ju367v7r"},12:{defaultClass:"ju367v7s"},14:{defaultClass:"ju367v7t"},16:{defaultClass:"ju367v7u"},18:{defaultClass:"ju367v7v"},20:{defaultClass:"ju367v7w"},24:{defaultClass:"ju367v7x"},28:{defaultClass:"ju367v7y"},32:{defaultClass:"ju367v7z"},36:{defaultClass:"ju367v80"},44:{defaultClass:"ju367v81"},64:{defaultClass:"ju367v82"},"-1":{defaultClass:"ju367v83"}}},paddingTop:{values:{0:{defaultClass:"ju367v84"},1:{defaultClass:"ju367v85"},2:{defaultClass:"ju367v86"},3:{defaultClass:"ju367v87"},4:{defaultClass:"ju367v88"},5:{defaultClass:"ju367v89"},6:{defaultClass:"ju367v8a"},8:{defaultClass:"ju367v8b"},10:{defaultClass:"ju367v8c"},12:{defaultClass:"ju367v8d"},14:{defaultClass:"ju367v8e"},16:{defaultClass:"ju367v8f"},18:{defaultClass:"ju367v8g"},20:{defaultClass:"ju367v8h"},24:{defaultClass:"ju367v8i"},28:{defaultClass:"ju367v8j"},32:{defaultClass:"ju367v8k"},36:{defaultClass:"ju367v8l"},44:{defaultClass:"ju367v8m"},64:{defaultClass:"ju367v8n"},"-1":{defaultClass:"ju367v8o"}}},position:{values:{absolute:{defaultClass:"ju367v8p"},fixed:{defaultClass:"ju367v8q"},relative:{defaultClass:"ju367v8r"}}},WebkitUserSelect:{values:{none:{defaultClass:"ju367v8s"}}},right:{values:{0:{defaultClass:"ju367v8t"}}},transition:{values:{default:{defaultClass:"ju367v8u"},transform:{defaultClass:"ju367v8v"}}},userSelect:{values:{none:{defaultClass:"ju367v8w"}}},width:{values:{1:{defaultClass:"ju367v8x"},2:{defaultClass:"ju367v8y"},4:{defaultClass:"ju367v8z"},8:{defaultClass:"ju367v90"},12:{defaultClass:"ju367v91"},20:{defaultClass:"ju367v92"},24:{defaultClass:"ju367v93"},28:{defaultClass:"ju367v94"},30:{defaultClass:"ju367v95"},32:{defaultClass:"ju367v96"},34:{defaultClass:"ju367v97"},36:{defaultClass:"ju367v98"},40:{defaultClass:"ju367v99"},44:{defaultClass:"ju367v9a"},48:{defaultClass:"ju367v9b"},54:{defaultClass:"ju367v9c"},60:{defaultClass:"ju367v9d"},200:{defaultClass:"ju367v9e"},full:{defaultClass:"ju367v9f"},max:{defaultClass:"ju367v9g"}}},backdropFilter:{values:{modalOverlay:{defaultClass:"ju367v9h"}}}}}),ZI={colors:{accentColor:"var(--rk-colors-accentColor)",accentColorForeground:"var(--rk-colors-accentColorForeground)",actionButtonBorder:"var(--rk-colors-actionButtonBorder)",actionButtonBorderMobile:"var(--rk-colors-actionButtonBorderMobile)",actionButtonSecondaryBackground:"var(--rk-colors-actionButtonSecondaryBackground)",closeButton:"var(--rk-colors-closeButton)",closeButtonBackground:"var(--rk-colors-closeButtonBackground)",connectButtonBackground:"var(--rk-colors-connectButtonBackground)",connectButtonBackgroundError:"var(--rk-colors-connectButtonBackgroundError)",connectButtonInnerBackground:"var(--rk-colors-connectButtonInnerBackground)",connectButtonText:"var(--rk-colors-connectButtonText)",connectButtonTextError:"var(--rk-colors-connectButtonTextError)",connectionIndicator:"var(--rk-colors-connectionIndicator)",downloadBottomCardBackground:"var(--rk-colors-downloadBottomCardBackground)",downloadTopCardBackground:"var(--rk-colors-downloadTopCardBackground)",error:"var(--rk-colors-error)",generalBorder:"var(--rk-colors-generalBorder)",generalBorderDim:"var(--rk-colors-generalBorderDim)",menuItemBackground:"var(--rk-colors-menuItemBackground)",modalBackdrop:"var(--rk-colors-modalBackdrop)",modalBackground:"var(--rk-colors-modalBackground)",modalBorder:"var(--rk-colors-modalBorder)",modalText:"var(--rk-colors-modalText)",modalTextDim:"var(--rk-colors-modalTextDim)",modalTextSecondary:"var(--rk-colors-modalTextSecondary)",profileAction:"var(--rk-colors-profileAction)",profileActionHover:"var(--rk-colors-profileActionHover)",profileForeground:"var(--rk-colors-profileForeground)",selectedOptionBorder:"var(--rk-colors-selectedOptionBorder)",standby:"var(--rk-colors-standby)"},fonts:{body:"var(--rk-fonts-body)"},radii:{actionButton:"var(--rk-radii-actionButton)",connectButton:"var(--rk-radii-connectButton)",menuButton:"var(--rk-radii-menuButton)",modal:"var(--rk-radii-modal)",modalMobile:"var(--rk-radii-modalMobile)"},shadows:{connectButton:"var(--rk-shadows-connectButton)",dialog:"var(--rk-shadows-dialog)",profileDetailsAction:"var(--rk-shadows-profileDetailsAction)",selectedOption:"var(--rk-shadows-selectedOption)",selectedWallet:"var(--rk-shadows-selectedWallet)",walletLogo:"var(--rk-shadows-walletLogo)"},blurs:{modalOverlay:"var(--rk-blurs-modalOverlay)"}},bre={shrink:"_12cbo8i6",shrinkSm:"_12cbo8i7"},xre="_12cbo8i3 ju367v8r",Ere={grow:"_12cbo8i4",growLg:"_12cbo8i5"};function ir({active:t,hover:e}){return[xre,e&&Ere[e],bre[t]]}var KU=U.createContext(null);function Are(){const{adapter:t}=U.useContext(KU)??{};if(!t)throw new Error("No authentication adapter found");return t}function w1(){return U.useContext(KU)?.status??null}function zT(){const t=w1(),{isConnected:e}=Tr();return e?t&&(t==="loading"||t==="unauthenticated")?t:"connected":"disconnected"}function jT(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function _re(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function Sre(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function ku(){return _re()||Sre()}function Ir(){return jT()||ku()}var Cre="iekbcc0",Tre={a:"iekbcca",blockquote:"iekbcc2",button:"iekbcc9",input:"iekbcc8 iekbcc5 iekbcc4",mark:"iekbcc6",ol:"iekbcc1",q:"iekbcc2",select:"iekbcc7 iekbcc5 iekbcc4",table:"iekbcc3",textarea:"iekbcc5 iekbcc4",ul:"iekbcc1"},Mre=({reset:t,...e})=>{if(!t)return j2(e);const n=Tre[t],r=j2(e);return ZD(Cre,n,r)},re=B.forwardRef(({as:t="div",className:e,testId:n,...r},i)=>{const o={},s={};for(const l in r)j2.properties.has(l)?o[l]=r[l]:s[l]=r[l];const a=Mre({reset:typeof t=="string"?t:"div",...o});return B.createElement(t,{className:ZD(a,e),...s,"data-testid":n?`rk-${n.replace(/^rk-/,"")}`:void 0,ref:i})});re.displayName="Box";var QU=new Map,dx=new Map;async function XU(t){const e=dx.get(t);if(e)return e;const n=async()=>t().then(async i=>(QU.set(t,i),i)),r=n().catch(i=>n().catch(o=>{dx.delete(t)}));return dx.set(t,r),r}async function Qs(...t){return await Promise.all(t.map(e=>typeof e=="function"?XU(e):e))}function Ire(){const[,t]=U.useReducer(e=>e+1,0);return t}function b1(t){const e=typeof t=="function"?QU.get(t):void 0,n=Ire();return U.useEffect(()=>{typeof t=="function"&&!e&&XU(t).then(n)},[t,e,n]),typeof t=="function"?e:t}function Cr({alt:t,background:e,borderColor:n,borderRadius:r,useAsImage:i,boxShadow:o,height:s,src:a,width:l,testId:c}){const u=ku(),d=b1(a),f=d&&/^http/.test(d),[h,g]=U.useReducer(()=>!0,!1);return B.createElement(re,{"aria-label":t,borderRadius:r,boxShadow:o,height:typeof s=="string"?s:void 0,overflow:"hidden",position:"relative",role:"img",style:{background:e,height:typeof s=="number"?s:void 0,width:typeof l=="number"?l:void 0},width:typeof l=="string"?l:void 0,testId:c},B.createElement(re,{...f?{"aria-hidden":!0,as:"img",onLoad:g,src:d}:{"aria-hidden":!0,as:"img",src:d},height:"full",position:"absolute",...u?{WebkitUserSelect:"none"}:{},style:{WebkitTouchCallout:"none",transition:"opacity .15s linear",userSelect:"none",...!i&&f?{opacity:h?1:0}:{}},width:"full"}),n?B.createElement(re,{...typeof n=="object"&&"custom"in n?{style:{borderColor:n.custom}}:{borderColor:n},borderRadius:r,borderStyle:"solid",borderWidth:"1",height:"full",position:"relative",width:"full"}):null)}var Rre="_1luule42",Pre="_1luule43",kre=t=>U.useMemo(()=>`${t}_${Math.round(Math.random()*1e9)}`,[t]),pm=({height:t=21,width:e=21})=>{const n=kre("spinner");return B.createElement("svg",{className:Rre,fill:"none",height:t,viewBox:"0 0 21 21",width:e,xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Loading"),B.createElement("clipPath",{id:n},B.createElement("path",{d:"M10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18C11.3284 18 12 18.6716 12 19.5C12 20.3284 11.3284 21 10.5 21C4.70101 21 0 16.299 0 10.5C0 4.70101 4.70101 0 10.5 0C16.299 0 21 4.70101 21 10.5C21 11.3284 20.3284 12 19.5 12C18.6716 12 18 11.3284 18 10.5C18 6.35786 14.6421 3 10.5 3Z"})),B.createElement("foreignObject",{clipPath:`url(#${n})`,height:"21",width:"21",x:"0",y:"0"},B.createElement("div",{className:Pre})))},Qt=["#FC5C54","#FFD95A","#E95D72","#6A87C8","#5FD0F3","#75C06B","#FFDD86","#5FC6D4","#FF949A","#FF8024","#9BA1A4","#EC66FF","#FF8CBC","#FF9A23","#C5DADB","#A8CE63","#71ABFF","#FFE279","#B6B1B6","#FF6780","#A575FF","#4D82FF","#FFB35A"],eR=[{color:Qt[0],emoji:""},{color:Qt[1],emoji:""},{color:Qt[2],emoji:""},{color:Qt[3],emoji:""},{color:Qt[4],emoji:""},{color:Qt[0],emoji:""},{color:Qt[5],emoji:""},{color:Qt[6],emoji:""},{color:Qt[7],emoji:""},{color:Qt[8],emoji:""},{color:Qt[9],emoji:""},{color:Qt[10],emoji:""},{color:Qt[11],emoji:""},{color:Qt[12],emoji:""},{color:Qt[13],emoji:""},{color:Qt[8],emoji:""},{color:Qt[14],emoji:""},{color:Qt[0],emoji:""},{color:Qt[8],emoji:""},{color:Qt[1],emoji:""},{color:Qt[15],emoji:""},{color:Qt[16],emoji:""},{color:Qt[17],emoji:""},{color:Qt[18],emoji:""},{color:Qt[19],emoji:""},{color:Qt[1],emoji:""},{color:Qt[20],emoji:""},{color:Qt[15],emoji:""},{color:Qt[0],emoji:""},{color:Qt[17],emoji:""},{color:Qt[4],emoji:""},{color:Qt[21],emoji:""},{color:Qt[17],emoji:""},{color:Qt[8],emoji:""},{color:Qt[22],emoji:""}];function Nre(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e|=0}return e}function Fre(t){const n=Math.abs(Nre((typeof t=="string"?t:"").toLowerCase())%eR.length);return eR[n??0]}var Ore=({address:t,ensImage:e,size:n})=>{const[r,i]=U.useState(!1);U.useEffect(()=>{if(e){const a=new Image;a.src=e,a.onload=()=>i(!0)}},[e]);const{color:o,emoji:s}=U.useMemo(()=>Fre(t),[t]);return e?r?B.createElement(re,{backgroundSize:"cover",borderRadius:"full",position:"absolute",style:{backgroundImage:`url(${e})`,backgroundPosition:"center",height:n,width:n}}):B.createElement(re,{alignItems:"center",backgroundSize:"cover",borderRadius:"full",color:"modalText",display:"flex",justifyContent:"center",position:"absolute",style:{height:n,width:n}},B.createElement(pm,null)):B.createElement(re,{alignItems:"center",display:"flex",justifyContent:"center",overflow:"hidden",style:{...!e&&{backgroundColor:o},height:n,width:n}},s)},YU=Ore,JU=U.createContext(YU);function ZU({address:t,imageUrl:e,loading:n,size:r}){const i=U.useContext(JU);return B.createElement(re,{"aria-hidden":!0,borderRadius:"full",overflow:"hidden",position:"relative",style:{height:`${r}px`,width:`${r}px`},userSelect:"none"},B.createElement(re,{alignItems:"center",borderRadius:"full",display:"flex",justifyContent:"center",overflow:"hidden",position:"absolute",style:{fontSize:`${Math.round(r*.55)}px`,height:`${r}px`,transform:n?"scale(0.72)":void 0,transition:".25s ease",transitionDelay:n?void 0:".1s",width:`${r}px`,willChange:"transform"},userSelect:"none"},B.createElement(i,{address:t,ensImage:e,size:r})),n&&B.createElement(re,{color:"accentColor",display:"flex",height:"full",position:"absolute",width:"full"},B.createElement(pm,{height:"100%",width:"100%"})))}var tR=()=>B.createElement("svg",{fill:"none",height:"7",width:"14",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Dropdown"),B.createElement("path",{d:"M12.75 1.54001L8.51647 5.0038C7.77974 5.60658 6.72026 5.60658 5.98352 5.0038L1.75 1.54001",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",xmlns:"http://www.w3.org/2000/svg"})),nR={defaultLocale:"en",locale:"en"},Bre=class{constructor(t){this.listeners=new Set,this.defaultLocale=nR.defaultLocale,this.enableFallback=!1,this.locale=nR.locale,this.cachedLocales=[],this.translations={};for(const[e,n]of Object.entries(t))this.cachedLocales=[...this.cachedLocales,e],this.translations={...this.translations,...this.flattenTranslation(n,e)}}missingMessage(t){return`[missing: "${this.locale}.${t}" translation]`}flattenTranslation(t,e){const n={},r=(i,o)=>{for(const s of Object.keys(i)){const a=`${o}.${s}`,l=i[s];typeof l=="object"&&l!==null?r(l,a):n[a]=l}};return r(t,e),n}translateWithReplacements(t,e={}){let n=t;for(const r in e){const i=e[r];n=n.replace(`%{${r}}`,i)}return n}t(t,e,n){const r=`${this.locale}.${t}`,i=this.translations[r];if(!i){if(this.enableFallback){const o=`${this.defaultLocale}.${t}`,s=this.translations[o];if(s)return this.translateWithReplacements(s,e)}return n?.rawKeyIfTranslationMissing?t:this.missingMessage(t)}return this.translateWithReplacements(i,e)}isLocaleCached(t){return this.cachedLocales.includes(t)}updateLocale(t){this.locale=t,this.notifyListeners()}setTranslations(t,e){this.isLocaleCached(t)||(this.cachedLocales=[...this.cachedLocales,t],this.translations={...this.translations,...this.flattenTranslation(e,t)}),this.locale=t,this.notifyListeners()}notifyListeners(){for(const t of this.listeners)t()}onChange(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}},Co=new Bre({en:JSON.parse(k2),"en-US":JSON.parse(k2)});Co.defaultLocale="en-US";Co.locale="en-US";Co.enableFallback=!0;var Lre=async t=>{switch(t){case"ar":case"ar-AR":return(await Xe(async()=>{const{default:e}=await import("./ar_AR-CTNWGWSS-DlAFo0vZ.js");return{default:e}},[])).default;case"de":case"de-DE":return(await Xe(async()=>{const{default:e}=await import("./de_DE-P43L3PR7-pJRS3eyz.js");return{default:e}},[])).default;case"en":case"en-US":return(await Xe(async()=>{const{default:e}=await Promise.resolve().then(()=>ZN);return{default:e}},void 0)).default;case"es":case"es-419":return(await Xe(async()=>{const{default:e}=await import("./es_419-JBX5FS3Q-Bk-MlIq_.js");return{default:e}},[])).default;case"fr":case"fr-FR":return(await Xe(async()=>{const{default:e}=await import("./fr_FR-CM2EDAQC-DvlCXiU9.js");return{default:e}},[])).default;case"hi":case"hi-IN":return(await Xe(async()=>{const{default:e}=await import("./hi_IN-GYVCUYRD-CQnOa8U_.js");return{default:e}},[])).default;case"id":case"id-ID":return(await Xe(async()=>{const{default:e}=await import("./id_ID-7ZWSMOOE-ZzIoBaiI.js");return{default:e}},[])).default;case"ja":case"ja-JP":return(await Xe(async()=>{const{default:e}=await import("./ja_JP-CGMP6VLZ-BBxPp4Hq.js");return{default:e}},[])).default;case"ko":case"ko-KR":return(await Xe(async()=>{const{default:e}=await import("./ko_KR-YCZDTF7X-4W342j3x.js");return{default:e}},[])).default;case"ms":case"ms-MY":return(await Xe(async()=>{const{default:e}=await import("./ms_MY-5LHAYMS7-BUU8UB2I.js");return{default:e}},[])).default;case"pt":case"pt-BR":return(await Xe(async()=>{const{default:e}=await import("./pt_BR-3JTS4PSK-Cou37HE0.js");return{default:e}},[])).default;case"ru":case"ru-RU":return(await Xe(async()=>{const{default:e}=await import("./ru_RU-6J6XERHI-BEDPqa1p.js");return{default:e}},[])).default;case"th":case"th-TH":return(await Xe(async()=>{const{default:e}=await import("./th_TH-STXOD4CR-DmwaGyKS.js");return{default:e}},[])).default;case"tr":case"tr-TR":return(await Xe(async()=>{const{default:e}=await import("./tr_TR-P7QAUUZU-DHzPxq5a.js");return{default:e}},[])).default;case"ua":case"uk-UA":return(await Xe(async()=>{const{default:e}=await import("./uk_UA-JTTBGJGQ-bEPIKyyu.js");return{default:e}},[])).default;case"vi":case"vi-VN":return(await Xe(async()=>{const{default:e}=await import("./vi_VN-5XUUAVWW-DvcbUvCZ.js");return{default:e}},[])).default;case"zh":case"zh-CN":case"zh-Hans":return(await Xe(async()=>{const{default:e}=await import("./zh_CN-RGMLPFEP-CPkk4IYh.js");return{default:e}},[])).default;case"zh-HK":return(await Xe(async()=>{const{default:e}=await import("./zh_HK-YM3T6EI5-BYHcXtXC.js");return{default:e}},[])).default;case"zh-Hant":case"zh-TW":return(await Xe(async()=>{const{default:e}=await import("./zh_TW-HAEH6VE5-r-nym7hs.js");return{default:e}},[])).default;default:return(await Xe(async()=>{const{default:e}=await Promise.resolve().then(()=>ZN);return{default:e}},void 0)).default}};async function rR(t){if(Co.isLocaleCached(t)){Co.updateLocale(t);return}const n=await Lre(t);Co.setTranslations(t,JSON.parse(n))}var Dre=()=>{if(typeof window<"u"&&typeof navigator<"u"){if(navigator.languages?.length)return navigator.languages[0];if(navigator.language)return navigator.language}},ar=U.createContext({i18n:Co}),Ure=({children:t,locale:e})=>{const[n,r]=U.useState(0),i=U.useMemo(()=>Dre(),[]);U.useEffect(()=>Co.onChange(()=>{r(a=>a+1)}),[]),U.useEffect(()=>{e&&e!==Co.locale?rR(e):!e&&i&&i!==Co.locale&&rR(i)},[e,i]);const o=U.useMemo(()=>({t:(a,l)=>Co.t(a,l),i18n:Co}),[n]);return B.createElement(ar.Provider,{value:o},t)};function e8(t){return t!=null}var iR={iconBackground:"#7290CC",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./apechain-SX5YFU6N-q5qBv-mp.js");return{default:t}},[])).default},fx={iconBackground:"#96bedc",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./arbitrum-WURIBY6W-CqVkHBr5.js");return{default:t}},[])).default},oR={iconBackground:"#e84141",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./avalanche-KOMJD3XY-Dsn_JPR4.js");return{default:t}},[])).default},hx={iconBackground:"#0052ff",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./base-OAXLRA4F-CoYTVIiL.js");return{default:t}},[])).default},px={iconBackground:"#814625",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./berachain-NJECWIVC-DumxnFvf.js");return{default:t}},[])).default},sR={iconBackground:"#000000",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./blast-V555OVXZ-BbhJh1tj.js");return{default:t}},[])).default},aR={iconBackground:"#ebac0e",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./bsc-N647EYR2-B2nLKXWV.js");return{default:t}},[])).default},lR={iconBackground:"#FCFF52",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./celo-GEP4TUHG-CenIBYLU.js");return{default:t}},[])).default},cR={iconBackground:"#002D74",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./cronos-HJPAQTAE-BEOvlOC4.js");return{default:t}},[])).default},zre={iconBackground:"#A36EFD",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./degen-FQQ4XGHB-CeHTs88l.js");return{default:t}},[])).default},el={iconBackground:"#484c50",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./ethereum-RGGVA4PY-SWGOlkuk.js");return{default:t}},[])).default},uR={iconBackground:"transparent",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./flow-5FQJFCTK-CUie2reO.js");return{default:t}},[])).default},jre={iconBackground:"#04795c",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./gnosis-37ZC4RBL-B137OtHZ.js");return{default:t}},[])).default},dR={iconBackground:"#000000",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./gravity-J5YQHTYH-Bj6B0uod.js");return{default:t}},[])).default},Gre={iconBackground:"#f9f7ec",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./hardhat-TX56IT5N-CV1FY-wE.js");return{default:t}},[])).default},Hre={iconBackground:"#000000",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./hyperevm-VKPAA4SA-CHwraEsx.js");return{default:t}},[])).default},fR={iconBackground:"#7132F5",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./ink-FZMYZWHG-62p-5IK5.js");return{default:t}},[])).default},hR={iconBackground:"transparent",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./kaia-65D2U3PU-JmuLQ4gC.js");return{default:t}},[])).default},mx={iconBackground:"#ffffff",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./linea-QRMVQ5DY-DuI3vv0d.js");return{default:t}},[])).default},gx={iconBackground:"#ffffff",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./manta-SI27YFEJ-CpVOKa06.js");return{default:t}},[])).default},pR={iconBackground:"#000000",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./mantle-CKIUT334-DR2WgqzU.js");return{default:t}},[])).default},J0={iconBackground:"#ff5a57",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./optimism-HAF2GUT7-ec6Nqxs9.js");return{default:t}},[])).default},yx={iconBackground:"#9f71ec",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./polygon-WW6ZI7PM-DXlmm4L1.js");return{default:t}},[])).default},Wre={iconBackground:"#1273EA",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./ronin-EMCPYXZT-N-QBHZdV.js");return{default:t}},[])).default},Vre={iconBackground:"#000000",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./sanko-RHQYXGM5-OX010CbN.js");return{default:t}},[])).default},$re={iconBackground:"#000000",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./superposition-HG6MMR2Y-bRkgatRO.js");return{default:t}},[])).default},mR={iconBackground:"#FFEEDA",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./scroll-5OBGQVOV-DJFECiai.js");return{default:t}},[])).default},gR={iconBackground:"#F50DB4",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./unichain-C5BWO2ZY-BfguYsnu.js");return{default:t}},[])).default},yR={iconBackground:"#f9f7ec",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./xdc-KJ3TDBYO-DNV6zchh.js");return{default:t}},[])).default},vR={iconBackground:"#000000",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./zetachain-TLDS5IPW-Udhyw16T.js");return{default:t}},[])).default},wR={iconBackground:"#f9f7ec",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./zksync-DH7HK5U4-Dt4usFw6.js");return{default:t}},[])).default},vx={iconBackground:"#000000",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./zora-FYL5H3IO-iB4wygST.js");return{default:t}},[])).default},qre={apechain:{chainId:33139,name:"ApeChain",...iR},apechainCurtis:{chainId:33111,name:"ApeChain Curtis",...iR},arbitrum:{chainId:42161,name:"Arbitrum",...fx},arbitrumGoerli:{chainId:421613,...fx},arbitrumSepolia:{chainId:421614,...fx},avalanche:{chainId:43114,...oR},avalancheFuji:{chainId:43113,...oR},base:{chainId:8453,name:"Base",...hx},baseGoerli:{chainId:84531,...hx},baseSepolia:{chainId:84532,...hx},berachain:{chainId:80094,name:"Berachain",...px},berachainArtio:{chainId:80085,name:"Berachain Artio",...px},berachainBArtio:{chainId:80084,name:"Berachain bArtio",...px},blast:{chainId:81457,name:"Blast",...sR},blastSepolia:{chainId:168587773,...sR},bsc:{chainId:56,name:"BSC",...aR},bscTestnet:{chainId:97,...aR},celo:{chainId:42220,name:"Celo",...lR},celoAlfajores:{chainId:44787,name:"Celo Alfajores",...lR},cronos:{chainId:25,...cR},cronosTestnet:{chainId:338,...cR},degen:{chainId:666666666,name:"Degen",...zre},flow:{chainId:747,...uR},flowTestnet:{chainId:545,...uR},gnosis:{chainId:100,name:"Gnosis",...jre},goerli:{chainId:5,...el},gravity:{chainId:1625,name:"Gravity",...dR},gravitySepolia:{chainId:13505,name:"Gravity Sepolia",...dR},hardhat:{chainId:31337,...Gre},holesky:{chainId:17e3,...el},hyperevm:{chainId:999,...Hre},ink:{chainId:57073,...fR},inkSepolia:{chainId:763373,...fR},kaia:{chainId:8217,name:"Kaia",...hR},kairos:{chainId:1001,name:"Kairos",...hR},kovan:{chainId:42,...el},linea:{chainId:59144,name:"Linea",...mx},lineaGoerli:{chainId:59140,name:"Linea Goerli",...mx},lineaSepolia:{chainId:59141,name:"Linea Sepolia",...mx},localhost:{chainId:1337,...el},mainnet:{chainId:1,name:"Ethereum",...el},manta:{chainId:169,name:"Manta",...gx},mantaSepolia:{chainId:3441006,...gx},mantaTestnet:{chainId:3441005,...gx},mantle:{chainId:5e3,...pR},mantleTestnet:{chainId:5001,...pR},optimism:{chainId:10,name:"Optimism",...J0},optimismGoerli:{chainId:420,...J0},optimismKovan:{chainId:69,...J0},optimismSepolia:{chainId:11155420,...J0},polygon:{chainId:137,name:"Polygon",...yx},polygonAmoy:{chainId:80002,...yx},polygonMumbai:{chainId:80001,...yx},rinkeby:{chainId:4,...el},ronin:{chainId:2020,...Wre},ropsten:{chainId:3,...el},sanko:{chainId:1996,name:"Sanko",...Vre},scroll:{chainId:534352,...mR},scrollSepolia:{chainId:534351,...mR},sepolia:{chainId:11155111,...el},superposition:{chainId:55244,name:"Superposition",...$re},unichain:{chainId:130,...gR},unichainSepolia:{chainId:1301,...gR},xdc:{chainId:50,name:"XDC",...yR},xdcTestnet:{chainId:51,...yR},zetachain:{chainId:7e3,name:"ZetaChain",...vR},zetachainAthensTestnet:{chainId:7001,name:"Zeta Athens",...vR},zkSync:{chainId:324,name:"zkSync",...wR},zkSyncTestnet:{chainId:280,...wR},zora:{chainId:7777777,name:"Zora",...vx},zoraSepolia:{chainId:999999999,...vx},zoraTestnet:{chainId:999,...vx}},Kre=Object.fromEntries(Object.values(qre).filter(e8).map(({chainId:t,...e})=>[t,e])),Qre=t=>t.map(e=>{const n=Kre[e.id]??{};return{...e,name:n.name??e.name,iconUrl:e.iconUrl??n.iconUrl,iconBackground:e.iconBackground??n.iconBackground}}),GT=U.createContext({chains:[]});function Xre({children:t,initialChain:e}){const{chains:n}=yr();return B.createElement(GT.Provider,{value:U.useMemo(()=>({chains:Qre(n),initialChainId:typeof e=="number"?e:e?.id}),[n,e])},t)}var Nu=()=>U.useContext(GT).chains,Yre=()=>U.useContext(GT).initialChainId,Jre=()=>{const t=Nu();return U.useMemo(()=>{const e={};for(const n of t)e[n.id]=n;return e},[t])},t8=U.createContext({showBalance:void 0,setShowBalance:()=>{}});function Zre({children:t}){const[e,n]=U.useState();return B.createElement(t8.Provider,{value:{showBalance:e,setShowBalance:n}},t)}var n8=()=>U.useContext(t8);function eie(){const[t,e]=U.useState(!1);return U.useEffect(()=>(e(!0),()=>{e(!1)}),[]),U.useCallback(()=>t,[t])}function r8(){const t=Nu(),e=Qf.id;return t.some(r=>r.id===e)}function tie(t){const e=r8(),n=i=>{try{return ene(i)}catch{}},{data:r}=ite({chainId:Qf.id,name:t?n(t):void 0,query:{enabled:e}});return r}async function oc(t,e){if(e={headers:{},method:"get",...e,timeout:e.timeout??1e4},!t)throw new Error("rainbowFetch: Missing url argument");const n=new AbortController,r=setTimeout(()=>n.abort(),e.timeout),{body:i,params:o,headers:s,...a}=e,l=i&&typeof i=="object"?JSON.stringify(e.body):e.body,c=await fetch(`${t}${rie(o)}`,{...a,body:l,headers:{Accept:"application/json","Content-Type":"application/json",...s},signal:n.signal});clearTimeout(r);const u=await nie(c);if(c.ok){const{headers:h,status:g}=c;return{data:u,headers:h,status:g}}throw iie({requestBody:i,response:c,responseBody:typeof u=="string"?{error:u}:u})}function nie(t){return t.headers.get("Content-Type")?.startsWith("application/json")?t.json():t.text()}function rie(t){return t&&Object.keys(t).length?`?${new URLSearchParams(t)}`:""}function iie({requestBody:t,response:e,responseBody:n}){const r=n?.error||e?.statusText||"There was an error with the request.",i=new Error(r);return i.response=e,i.responseBody=n,i.requestBody=t,i}var oie=class{constructor(t={}){const{baseUrl:e="",...n}=t;this.baseUrl=e,this.opts=n}get(t,e){return oc(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"get"})}delete(t,e){return oc(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"delete"})}head(t,e){return oc(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"head"})}options(t,e){return oc(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"options"})}post(t,e,n){return oc(`${this.baseUrl}${t}`,{...this.opts,...n||{},body:e,method:"post"})}put(t,e,n){return oc(`${this.baseUrl}${t}`,{...this.opts,...n||{},body:e,method:"put"})}patch(t,e,n){return oc(`${this.baseUrl}${t}`,{...this.opts,...n||{},body:e,method:"patch"})}};function sie({baseUrl:t,headers:e,params:n,timeout:r}){return new oie({baseUrl:t,headers:e,params:n,timeout:r})}var aie=!!(typeof process<"u"&&typeof kv<"u"&&kv.RAINBOW_PROVIDER_API_KEY),lie=sie({baseUrl:"https://enhanced-provider.rainbow.me",headers:{"x-api-key":typeof process<"u"&&typeof kv<"u"&&kv.RAINBOW_PROVIDER_API_KEY||"LzbasoBiLqltex3VkcQ7LRmL4PtfiiZ1EMJrizrgfonWN6byJReu/l6yrUoo3zLW"}});function cie(t,e,n={}){return[t,e,n]}function by(t){return`rk-ens-name-${t}`}function uie(t){try{const e=t?JSON.parse(t):null;return typeof e=="object"?e:null}catch{return null}}function die(t,e){if(!sr(t))return;const n=new Date,r=new Date(n.getTime()+180*6e4);localStorage.setItem(by(t),JSON.stringify({ensName:e,expires:r.getTime()}))}function fie(t){const e=uie(localStorage.getItem(by(t)));if(!e)return null;const{ensName:n,expires:r}=e;return typeof n!="string"||Number.isNaN(Number(r))||new Date().getTime()>Number(r)?(localStorage.removeItem(by(t)),null):n}async function hie({address:t}){const e=fie(t);if(e)return e;const r=(await lie.get("/v1/resolve-ens",{params:{address:t}})).data.data;return r&&die(t,r),r}function pie(t){const e=r8(),{data:n}=ote({chainId:Qf.id,address:t,query:{enabled:e}}),{data:r}=jD({queryKey:cie("address",t),queryFn:()=>hie({address:t}),enabled:!e&&!!t&&aie,staleTime:10*(60*1e3),retry:1});return n||r}function i8({address:t,includeBalance:e}){const n=pie(t),r=tie(n),{data:i}=GD({address:e?t:void 0});return{ensName:n,ensAvatar:r,balance:i}}function HT(){const{chain:t}=Tr();return t?.id??null}var o8="rk-transactions";function mie(t){try{const e=t?JSON.parse(t):{};return typeof e=="object"?e:{}}catch{return{}}}function bR(){return mie(typeof localStorage<"u"?localStorage.getItem(o8):null)}var gie=/^0x([A-Fa-f0-9]{64})$/;function yie(t){const e=[];return gie.test(t.hash)||e.push("Invalid transaction hash"),typeof t.description!="string"&&e.push("Transaction must have a description"),typeof t.confirmations<"u"&&(!Number.isInteger(t.confirmations)||t.confirmations<1)&&e.push("Transaction confirmations must be a positiver integer"),e}function vie({provider:t}){let e=bR(),n=t;const r=new Set,i=new Set,o=new Map;function s(v){n=v}function a(v,w){return e[v]?.[w]??[]}function l(v,w,x){const T=yie(x);if(T.length>0)throw new Error(["Unable to add transaction",...T].join(`
`));f(v,w,N=>[{...x,status:"pending"},...N.filter(({hash:A})=>A!==x.hash)])}function c(v,w){f(v,w,()=>[])}function u(v,w,x,T){f(v,w,N=>N.map(A=>A.hash===x?{...A,status:T}:A))}async function d(v,w){await Promise.all(a(v,w).filter(x=>x.status==="pending").map(async x=>{const{confirmations:T,hash:N}=x,A=o.get(N);if(A)return await A;const z=n.waitForTransactionReceipt({confirmations:T,hash:N,timeout:3e5}).then(({status:S})=>{o.delete(N),S!==void 0&&(u(v,w,N,S===0||S==="reverted"?"failed":"confirmed"),m(S))}).catch(()=>{u(v,w,N,"failed")});return o.set(N,z),await z}))}function f(v,w,x){e=bR(),e[v]=e[v]??{};let T=0;const N=10,A=x(e[v][w]??[]).filter(({status:z})=>z==="pending"?!0:T++<=N);e[v][w]=A.length>0?A:void 0,h(),g(),d(v,w)}function h(){localStorage.setItem(o8,JSON.stringify(e))}function g(){for(const v of r)v()}function m(v){for(const w of i)w(v)}function y(v){return r.add(v),()=>{r.delete(v)}}function p(v){return i.add(v),()=>{i.delete(v)}}return{addTransaction:l,clearTransactions:c,getTransactions:a,onTransactionStatus:p,onChange:y,setProvider:s,waitForPendingTransactions:d}}var xR,s8=B.createContext(null);function wie({children:t}){const e=TT(),{address:n}=Tr(),r=HT(),{refetch:i}=GD({address:n,query:{enabled:!1}}),[o]=B.useState(()=>xR??(xR=vie({provider:e}))),s=B.useCallback(a=>{a==="success"&&i()},[i]);return B.useEffect(()=>{o.setProvider(e)},[o,e]),B.useEffect(()=>{n&&r&&o.waitForPendingTransactions(n,r)},[o,n,r]),B.useEffect(()=>{if(o&&n&&r)return o.onTransactionStatus(s)},[o,n,r,s]),B.createElement(s8.Provider,{value:o},t)}function a8(){const t=B.useContext(s8);if(!t)throw new Error("Transaction hooks must be used within RainbowKitProvider");return t}function l8(){const t=a8(),{address:e}=Tr(),n=HT(),[r,i]=U.useState(()=>t&&e&&n?t.getTransactions(e,n):[]);return U.useEffect(()=>{if(t&&e&&n)return i(t.getTransactions(e,n)),t.onChange(()=>{i(t.getTransactions(e,n))})},[t,e,n]),r}var ER=t=>typeof t=="function"?t():t;function bie(t,{extends:e}={}){const n={...WI(ZI,ER(t))};if(!e)return n;const r=WI(ZI,ER(e));return Object.fromEntries(Object.entries(n).filter(([o,s])=>s!==r[o]))}function AR(t,e={}){return Object.entries(bie(t,e)).map(([n,r])=>`${n}:${r.replace(/[:;{}</>]/g,"")};`).join("")}var c8={appName:void 0,disclaimer:void 0,learnMoreUrl:"https://learn.rainbow.me/understanding-web3?utm_source=rainbowkit&utm_campaign=learnmore"},e0=U.createContext(c8),u8=U.createContext(!1);function xie(t,e){let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,t()},e)}}var d8=()=>{const[t,e]=U.useState({height:void 0,width:void 0});return U.useEffect(()=>{const n=xie(()=>{e({height:window.innerHeight,width:window.innerWidth})},500);return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t},t0=U.createContext({connector:null,setConnector:()=>{}});function Eie({children:t}){const[e,n]=U.useState(null);return B.createElement(t0.Provider,{value:U.useMemo(()=>({connector:e,setConnector:n}),[e])},t)}var n0={COMPACT:"compact",WIDE:"wide"},x1=U.createContext(n0.WIDE);function Aie({children:t,modalSize:e}){const{width:n}=d8(),r=n&&n<wre,{connector:i}=U.useContext(t0);return B.createElement(x1.Provider,{value:r||i?n0.COMPACT:e},t)}var WT=U.createContext(!1),_ie="rk-version";function Sie({version:t}){localStorage.setItem(_ie,t)}function Cie(){const t=U.useCallback(()=>{Sie({version:"2.2.7"})},[]);U.useEffect(()=>{t()},[t])}function Tie(t,e){const n={};for(const r of t){const i=e(r);i&&(n[i]=r)}return n}function VT(){return typeof navigator<"u"&&typeof navigator.userAgent<"u"&&/Version\/([0-9._]+).*Safari/.test(navigator.userAgent)}function Mie(){return typeof document<"u"&&getComputedStyle(document.body).getPropertyValue("--arc-palette-focus")!==""}function $T(){if(typeof navigator>"u")return"Browser";const t=navigator.userAgent?.toLowerCase();return navigator.brave?.isBrave?"Brave":t?.indexOf("edg/")>-1?"Edge":t?.indexOf("op")>-1?"Opera":Mie()?"Arc":t?.indexOf("chrome")>-1?"Chrome":t?.indexOf("firefox")>-1?"Firefox":VT()?"Safari":"Browser"}var Iie=Yne.UAParser(),{os:qT}=Iie;function Rie(){return qT.name==="Windows"}function Pie(){return qT.name==="Mac OS"}function kie(){return["Ubuntu","Mint","Fedora","Debian","Arch","Linux"].includes(qT.name)}function KT(){return Rie()?"Windows":Pie()?"macOS":kie()?"Linux":"Desktop"}var Nie=t=>{const e=$T();return{Arc:t?.downloadUrls?.chrome,Brave:t?.downloadUrls?.chrome,Chrome:t?.downloadUrls?.chrome,Edge:t?.downloadUrls?.edge||t?.downloadUrls?.chrome,Firefox:t?.downloadUrls?.firefox,Opera:t?.downloadUrls?.opera||t?.downloadUrls?.chrome,Safari:t?.downloadUrls?.safari,Browser:t?.downloadUrls?.browserExtension}[e]??t?.downloadUrls?.browserExtension},Fie=t=>(ku()?t?.downloadUrls?.ios:t?.downloadUrls?.android)??t?.downloadUrls?.mobile,Oie=t=>{const e=KT();return{Windows:t?.downloadUrls?.windows,macOS:t?.downloadUrls?.macos,Linux:t?.downloadUrls?.linux,Desktop:t?.downloadUrls?.desktop}[e]??t?.downloadUrls?.desktop},f8=(t,e)=>t.some(n=>n.id===e),Bie=t=>!!t.isRainbowKitConnector,_R=t=>!!(!t.isRainbowKitConnector&&t.icon?.replace(/\n/g,"").startsWith("data:image")&&t.uid&&t.name),Lie=(t,e)=>t.id==="walletConnect"&&e?{...t,walletConnectModalConnector:e}:t,Die=({wallets:t,recentWallets:e})=>[...e,...t.filter(n=>!f8(e,n.id))],h8="rk-recent";function Uie(t){try{const e=t?JSON.parse(t):[];return Array.isArray(e)?e:[]}catch{return[]}}function p8(){return typeof localStorage<"u"?Uie(localStorage.getItem(h8)):[]}function zie(t){return[...new Set(t)]}function jie(t){const e=zie([t,...p8()]);localStorage.setItem(h8,JSON.stringify(e))}function mm(t=!1){const e=Nu(),n=Yre(),{connectAsync:r,connectors:i}=nte(),o=i,{setIsWalletConnectModalOpen:s}=U8(),a=o.map(x=>({...x,...x.rkDetails||{}}));async function l(x){const T=await x.getChainId(),N=await r({chainId:n??e.find(({id:A})=>A===T)?.id??e[0]?.id,connector:x});return N&&jie(x.id),N}async function c(x){try{s(!0),await l(x),s(!1)}catch(T){const N=T.name==="UserRejectedRequestError"||T.message==="Connection request reset. Please try again.";if(s(!1),!N)throw T}}const u=async(x,T)=>{const N=await x.getProvider();return x.id==="coinbase"?N.qrUrl:new Promise(A=>N.once("display_uri",z=>{A(T(z))}))},d=a.find(x=>x.id==="walletConnect"&&x.isWalletConnectModalConnector),f=a.filter(_R).map(x=>({...x,groupIndex:0})),h=a.filter(Bie).filter(x=>!x.isWalletConnectModalConnector).filter(x=>t?!f.some(N=>N.id===x.rdns):!0).map(x=>Lie(x,d)),g=[...f,...h],m=Tie(g,x=>x.id),p=p8().map(x=>m[x]).filter(Boolean).slice(0,3),v=[],w=Die({wallets:g,recentWallets:p});for(const x of w){if(!x)continue;const T=_R(x),N=f8(p,x.id);if(T){v.push({...x,iconUrl:x.icon,ready:!0,connect:()=>l(x),groupName:"Installed",recent:N});continue}v.push({...x,ready:x.installed??!0,connect:()=>l(x),desktopDownloadUrl:Oie(x),extensionDownloadUrl:Nie(x),groupName:x.groupName,mobileDownloadUrl:Fie(x),getQrCodeUri:x.qrCode?.getUri?()=>u(x,x.qrCode.getUri):void 0,getDesktopUri:x.desktop?.getUri?()=>u(x,x.desktop.getUri):void 0,getMobileUri:x.mobile?.getUri?()=>u(x,x.mobile?.getUri):void 0,recent:N,showWalletConnectModal:x.walletConnectModalConnector?()=>c(x.walletConnectModalConnector):void 0})}return v}var m8=async()=>(await Xe(async()=>{const{default:t}=await import("./assets-Q6ZU7ZJ5-P8HioiAD.js");return{default:t}},[])).default,Gie=()=>Qs(m8),Hie=()=>B.createElement(Cr,{background:"#d0d5de",borderRadius:"10",height:"48",src:m8,width:"48"}),g8=async()=>(await Xe(async()=>{const{default:t}=await import("./login-UP3DZBGS-Db_wM5oQ.js");return{default:t}},[])).default,Wie=()=>Qs(g8),Vie=()=>B.createElement(Cr,{background:"#d0d5de",borderRadius:"10",height:"48",src:g8,width:"48"}),St=B.forwardRef(({as:t="div",children:e,className:n,color:r,display:i,font:o="body",id:s,size:a="16",style:l,tabIndex:c,textAlign:u="inherit",weight:d="regular",testId:f},h)=>B.createElement(re,{as:t,className:n,color:r,display:i,fontFamily:o,fontSize:a,fontWeight:d,id:s,ref:h,style:l,tabIndex:c,textAlign:u,testId:f},e));St.displayName="Text";var $ie={large:{fontSize:"16",paddingX:"24",paddingY:"10"},medium:{fontSize:"14",height:"28",paddingX:"12",paddingY:"4"},small:{fontSize:"14",paddingX:"10",paddingY:"5"}};function mi({disabled:t=!1,href:e,label:n,onClick:r,rel:i="noreferrer noopener",size:o="medium",target:s="_blank",testId:a,type:l="primary"}){const c=l==="primary",u=o!=="large",d=Ir(),f=t?"actionButtonSecondaryBackground":c?"accentColor":u?"actionButtonSecondaryBackground":null,{fontSize:h,height:g,paddingX:m,paddingY:y}=$ie[o],p=!d||!u;return B.createElement(re,{...e?t?{}:{as:"a",href:e,rel:i,target:s}:{as:"button",type:"button"},onClick:t?void 0:r,...p?{borderColor:d&&!u&&!c?"actionButtonBorderMobile":"actionButtonBorder",borderStyle:"solid",borderWidth:"1"}:{},borderRadius:"actionButton",className:!t&&ir({active:"shrinkSm",hover:"grow"}),display:"block",paddingX:m,paddingY:y,style:{willChange:"transform"},testId:a,textAlign:"center",transition:"transform",...f?{background:f}:{},...g?{height:g}:{}},B.createElement(St,{color:t?"modalTextSecondary":c?"accentColorForeground":"accentColor",size:h,weight:"bold"},n))}var qie=()=>Ir()?B.createElement("svg",{"aria-hidden":!0,fill:"none",height:"11.5",viewBox:"0 0 11.5 11.5",width:"11.5",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Close"),B.createElement("path",{d:"M2.13388 0.366117C1.64573 -0.122039 0.854272 -0.122039 0.366117 0.366117C-0.122039 0.854272 -0.122039 1.64573 0.366117 2.13388L3.98223 5.75L0.366117 9.36612C-0.122039 9.85427 -0.122039 10.6457 0.366117 11.1339C0.854272 11.622 1.64573 11.622 2.13388 11.1339L5.75 7.51777L9.36612 11.1339C9.85427 11.622 10.6457 11.622 11.1339 11.1339C11.622 10.6457 11.622 9.85427 11.1339 9.36612L7.51777 5.75L11.1339 2.13388C11.622 1.64573 11.622 0.854272 11.1339 0.366117C10.6457 -0.122039 9.85427 -0.122039 9.36612 0.366117L5.75 3.98223L2.13388 0.366117Z",fill:"currentColor"})):B.createElement("svg",{"aria-hidden":!0,fill:"none",height:"10",viewBox:"0 0 10 10",width:"10",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Close"),B.createElement("path",{d:"M1.70711 0.292893C1.31658 -0.0976311 0.683417 -0.0976311 0.292893 0.292893C-0.0976311 0.683417 -0.0976311 1.31658 0.292893 1.70711L3.58579 5L0.292893 8.29289C-0.0976311 8.68342 -0.0976311 9.31658 0.292893 9.70711C0.683417 10.0976 1.31658 10.0976 1.70711 9.70711L5 6.41421L8.29289 9.70711C8.68342 10.0976 9.31658 10.0976 9.70711 9.70711C10.0976 9.31658 10.0976 8.68342 9.70711 8.29289L6.41421 5L9.70711 1.70711C10.0976 1.31658 10.0976 0.683417 9.70711 0.292893C9.31658 -0.0976311 8.68342 -0.0976311 8.29289 0.292893L5 3.58579L1.70711 0.292893Z",fill:"currentColor"})),mu=({"aria-label":t="Close",onClose:e})=>{const n=Ir();return B.createElement(re,{alignItems:"center","aria-label":t,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:n?"0":"1",className:ir({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:n?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:n?"30":"28"},B.createElement(qie,null))},y8=async()=>(await Xe(async()=>{const{default:t}=await import("./sign-A7IJEUT5-CGsRnPrd.js");return{default:t}},[])).default;function Kie({onClose:t,onCloseModal:e}){const{i18n:n}=U.useContext(ar),[{status:r,...i},o]=B.useState({status:"idle"}),s=Are(),a=U.useCallback(async()=>{try{const g=await s.getNonce();o(m=>({...m,nonce:g}))}catch{o(g=>({...g,errorMessage:n.t("sign_in.message.preparing_error"),status:"idle"}))}},[s,n.t]),l=U.useRef(!1);B.useEffect(()=>{l.current||(l.current=!0,a())},[a]);const c=Ir(),{address:u,chain:d}=Tr(),{signMessageAsync:f}=ste(),h=async()=>{try{const g=d?.id,{nonce:m}=i;if(!u||!g||!m)return;o(v=>({...v,errorMessage:void 0,status:"signing"}));const y=s.createMessage({address:u,chainId:g,nonce:m});let p;try{p=await f({message:y})}catch(v){return v instanceof Sn?o(w=>({...w,status:"idle"})):o(w=>({...w,errorMessage:n.t("sign_in.signature.signing_error"),status:"idle"}))}o(v=>({...v,status:"verifying"}));try{if(await s.verify({message:y,signature:p})){e();return}throw new Error}catch{return o(v=>({...v,errorMessage:n.t("sign_in.signature.verifying_error"),status:"idle"}))}}catch{o({errorMessage:n.t("sign_in.signature.oops_error"),status:"idle"})}};return B.createElement(re,{position:"relative"},B.createElement(re,{display:"flex",paddingRight:"16",paddingTop:"16",position:"absolute",right:"0"},B.createElement(mu,{onClose:t})),B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"32":"24",padding:"24",paddingX:"18",style:{paddingTop:c?"60px":"36px"}},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"6":"4",style:{maxWidth:c?320:280}},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"32":"16"},B.createElement(Cr,{height:40,src:y8,width:40}),B.createElement(St,{color:"modalText",size:c?"20":"18",textAlign:"center",weight:"heavy"},n.t("sign_in.label"))),B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"16":"12"},B.createElement(St,{color:"modalTextSecondary",size:c?"16":"14",textAlign:"center"},n.t("sign_in.description")),r==="idle"&&i.errorMessage?B.createElement(St,{color:"error",size:c?"16":"14",textAlign:"center",weight:"bold"},i.errorMessage):null)),B.createElement(re,{alignItems:c?void 0:"center",display:"flex",flexDirection:"column",gap:"8",width:"full"},B.createElement(mi,{disabled:!i.nonce||r==="signing"||r==="verifying",label:i.nonce?r==="signing"?n.t("sign_in.signature.waiting"):r==="verifying"?n.t("sign_in.signature.verifying"):n.t("sign_in.message.send"):n.t("sign_in.message.preparing"),onClick:h,size:c?"large":"medium",testId:"auth-message-button"}),c?B.createElement(mi,{label:"Cancel",onClick:t,size:"large",type:"secondary"}):B.createElement(re,{as:"button",borderRadius:"full",className:ir({active:"shrink",hover:"grow"}),display:"block",onClick:t,paddingX:"10",paddingY:"5",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(St,{color:"closeButton",size:c?"16":"14",weight:"bold"},n.t("sign_in.message.cancel"))))))}function Qie(){const t=Nu(),e=mm(),n=w1()==="unauthenticated",r=U.useCallback(()=>{Qs(...e.map(i=>i.iconUrl),...t.map(i=>i.iconUrl).filter(e8)),Ir()||(Gie(),Wie()),n&&Qs(y8)},[e,t,n]);U.useEffect(()=>{r()},[r])}var v8="WALLETCONNECT_DEEPLINK_CHOICE";function Xie({mobileUri:t,name:e}){localStorage.setItem(v8,JSON.stringify({href:t.split("?")[0],name:e}))}function Yie(){localStorage.removeItem(v8)}var w8=U.createContext(void 0),G2="data-rk",b8=t=>({[G2]:t||""}),Jie=t=>{if(t&&!/^[a-zA-Z0-9_]+$/.test(t))throw new Error(`Invalid ID: ${t}`);return t?`[${G2}="${t}"]`:`[${G2}]`},Zie=()=>{const t=U.useContext(w8);return b8(t)},eoe=QD();function toe({appInfo:t,avatar:e,children:n,coolMode:r=!1,id:i,initialChain:o,locale:s,modalSize:a=n0.WIDE,showRecentTransactions:l=!1,theme:c=eoe}){if(Qie(),Cie(),MD({onDisconnect:Yie}),typeof c=="function")throw new Error('A theme function was provided to the "theme" prop instead of a theme object. You must execute this function to get the resulting theme object.');const u=Jie(i),d={...c8,...t},f=e??YU;return B.createElement(Xre,{initialChain:o},B.createElement(Eie,null,B.createElement(Ure,{locale:s},B.createElement(u8.Provider,{value:r},B.createElement(Aie,{modalSize:a},B.createElement(WT.Provider,{value:l},B.createElement(wie,null,B.createElement(JU.Provider,{value:f},B.createElement(e0.Provider,{value:d},B.createElement(w8.Provider,{value:i},B.createElement(Zre,null,B.createElement(mse,null,c?B.createElement("div",{...b8(i)},B.createElement("style",{dangerouslySetInnerHTML:{__html:[`${u}{${AR("lightMode"in c?c.lightMode:c)}}`,"darkMode"in c?`@media(prefers-color-scheme:dark){${u}{${AR(c.darkMode,{extends:c.lightMode})}}}`:null].join("")}}),n):n))))))))))))}var noe="_9pm4ki5 ju367va ju367v15 ju367v8r",roe="_9pm4ki3 ju367v9h ju367vb3 ju367va ju367v2q ju367v8q",SR=(t,e)=>{const n=t.querySelectorAll("button:not(:disabled), a[href]");n.length!==0&&n[e==="end"?n.length-1:0].focus()};function ioe(t){const e=U.useRef(null);return U.useEffect(()=>{const n=document.activeElement;return()=>{n.focus?.()}},[]),U.useEffect(()=>{if(e.current){const n=e.current.querySelector("[data-auto-focus]");n?n.focus():e.current.focus()}},[]),B.createElement(B.Fragment,null,B.createElement("div",{onFocus:U.useCallback(()=>e.current&&SR(e.current,"end"),[]),tabIndex:0}),B.createElement("div",{ref:e,style:{outline:"none"},tabIndex:-1,...t}),B.createElement("div",{onFocus:U.useCallback(()=>e.current&&SR(e.current,"start"),[]),tabIndex:0}))}var ooe=t=>t.stopPropagation();function Nv({children:t,onClose:e,open:n,titleId:r}){U.useEffect(()=>{const c=u=>n&&u.key==="Escape"&&e();return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[n,e]);const[i,o]=U.useState(!0);U.useEffect(()=>{o(getComputedStyle(window.document.body).overflow!=="hidden")},[]);const s=U.useCallback(()=>e(),[e]),a=Zie(),l=Ir();return B.createElement(B.Fragment,null,n?Lw.createPortal(B.createElement(VU,{enabled:i},B.createElement(re,{...a},B.createElement(re,{...a,alignItems:l?"flex-end":"center","aria-labelledby":r,"aria-modal":!0,className:roe,onClick:s,position:"fixed",role:"dialog"},B.createElement(ioe,{className:noe,onClick:ooe,role:"document"},t)))),document.body):null)}var soe="_1ckjpok7",aoe="_1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",loe="_1ckjpok4 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",coe="_1ckjpok6 ju367vq",uoe="_1ckjpok3 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",doe="_1ckjpok2 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r";function Fv({bottomSheetOnMobile:t=!1,children:e,marginTop:n,padding:r="16",paddingBottom:i,wide:o=!1}){const s=Ir(),l=U.useContext(x1)===n0.COMPACT;return B.createElement(re,{marginTop:n},B.createElement(re,{className:[o?s?doe:l?loe:uoe:aoe,s?coe:null,s&&t?soe:null].join(" ")},B.createElement(re,{padding:r,paddingBottom:i??r},e)))}var CR=["k","m","b","t"];function Z0(t,e=1){return t.toString().replace(new RegExp(`(.+\\.\\d{${e}})\\d+`),"$1").replace(/(\.[1-9]*)0+$/,"$1").replace(/\.$/,"")}function x8(t){if(t<1)return Z0(t,3);if(t<10**2)return Z0(t,2);if(t<10**4)return new Intl.NumberFormat().format(Number.parseFloat(Z0(t,1)));const e=10**1;let n=String(t);for(let r=CR.length-1;r>=0;r--){const i=10**((r+1)*3);if(i<=t){t=t*e/i/e,n=Z0(t,1)+CR[r];break}}return n}function E8(t){return t.length<8?t:`${t.substring(0,4)}${t.substring(t.length-4)}`}function A8(t){if(!t)return"";const e=t.split("."),n=e.pop();return e.join(".").length>24?`${e.join(".").substring(0,24)}...`:`${e.join(".")}.${n}`}var foe=()=>B.createElement("svg",{fill:"none",height:"13",viewBox:"0 0 13 13",width:"13",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Copied"),B.createElement("path",{d:"M4.94568 12.2646C5.41052 12.2646 5.77283 12.0869 6.01892 11.7109L12.39 1.96973C12.5677 1.69629 12.6429 1.44336 12.6429 1.2041C12.6429 0.561523 12.1644 0.0966797 11.5082 0.0966797C11.057 0.0966797 10.7767 0.260742 10.5033 0.691406L4.9115 9.50977L2.07458 5.98926C1.82166 5.68848 1.54822 5.55176 1.16541 5.55176C0.502319 5.55176 0.0238037 6.02344 0.0238037 6.66602C0.0238037 6.95312 0.112671 7.20605 0.358765 7.48633L3.88611 11.7588C4.18005 12.1074 4.50818 12.2646 4.94568 12.2646Z",fill:"currentColor"})),hoe=()=>B.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 17 16",width:"17",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Copy"),B.createElement("path",{d:"M3.04236 12.3027H4.18396V13.3008C4.18396 14.8525 5.03845 15.7002 6.59705 15.7002H13.6244C15.183 15.7002 16.0375 14.8525 16.0375 13.3008V6.24609C16.0375 4.69434 15.183 3.84668 13.6244 3.84668H12.4828V2.8418C12.4828 1.29688 11.6283 0.442383 10.0697 0.442383H3.04236C1.48376 0.442383 0.629272 1.29004 0.629272 2.8418V9.90332C0.629272 11.4551 1.48376 12.3027 3.04236 12.3027ZM3.23376 10.5391C2.68689 10.5391 2.39294 10.2656 2.39294 9.68457V3.06055C2.39294 2.47949 2.68689 2.21289 3.23376 2.21289H9.8783C10.4252 2.21289 10.7191 2.47949 10.7191 3.06055V3.84668H6.59705C5.03845 3.84668 4.18396 4.69434 4.18396 6.24609V10.5391H3.23376ZM6.78845 13.9365C6.24158 13.9365 5.94763 13.6699 5.94763 13.0889V6.45801C5.94763 5.87695 6.24158 5.61035 6.78845 5.61035H13.433C13.9799 5.61035 14.2738 5.87695 14.2738 6.45801V13.0889C14.2738 13.6699 13.9799 13.9365 13.433 13.9365H6.78845Z",fill:"currentColor"})),poe=()=>B.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 18 16",width:"18",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Disconnect"),B.createElement("path",{d:"M2.67834 15.5908H9.99963C11.5514 15.5908 12.399 14.7432 12.399 13.1777V10.2656H10.6354V12.9863C10.6354 13.5332 10.3688 13.8271 9.78772 13.8271H2.89026C2.3092 13.8271 2.0426 13.5332 2.0426 12.9863V3.15625C2.0426 2.60254 2.3092 2.30859 2.89026 2.30859H9.78772C10.3688 2.30859 10.6354 2.60254 10.6354 3.15625V5.89746H12.399V2.95801C12.399 1.39941 11.5514 0.544922 9.99963 0.544922H2.67834C1.12659 0.544922 0.278931 1.39941 0.278931 2.95801V13.1777C0.278931 14.7432 1.12659 15.5908 2.67834 15.5908ZM7.43616 8.85059H14.0875L15.0924 8.78906L14.566 9.14453L13.6842 9.96484C13.5406 10.1016 13.4586 10.2861 13.4586 10.4844C13.4586 10.8398 13.7321 11.168 14.1217 11.168C14.3199 11.168 14.4635 11.0928 14.6002 10.9561L16.7809 8.68652C16.986 8.48145 17.0543 8.27637 17.0543 8.06445C17.0543 7.85254 16.986 7.64746 16.7809 7.43555L14.6002 5.17285C14.4635 5.03613 14.3199 4.9541 14.1217 4.9541C13.7321 4.9541 13.4586 5.27539 13.4586 5.6377C13.4586 5.83594 13.5406 6.02734 13.6842 6.15723L14.566 6.98438L15.0924 7.33984L14.0875 7.27148H7.43616C7.01917 7.27148 6.65686 7.62012 6.65686 8.06445C6.65686 8.50195 7.01917 8.85059 7.43616 8.85059Z",fill:"currentColor"}));function moe(){const t=a8(),{address:e}=Tr(),n=HT();return U.useCallback(()=>{if(!e||!n)throw new Error("No address or chain ID found");t.clearTransactions(e,n)},[t,e,n])}var _8=t=>t?.blockExplorers?.default?.url,S8=()=>B.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Link"),B.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM12.7158 12.1416C13.2432 12.1416 13.5684 11.7549 13.5684 11.1836V7.19336C13.5684 6.44629 13.1377 6.05957 12.417 6.05957H8.40918C7.8291 6.05957 7.45117 6.38477 7.45117 6.91211C7.45117 7.43945 7.8291 7.77344 8.40918 7.77344H9.69238L10.7207 7.63281L9.53418 8.67871L6.73047 11.4912C6.53711 11.6758 6.41406 11.9395 6.41406 12.2031C6.41406 12.7832 6.85352 13.1699 7.39844 13.1699C7.68848 13.1699 7.92578 13.0732 8.1543 12.8623L10.9316 10.0762L11.9775 8.89844L11.8545 9.98828V11.1836C11.8545 11.7725 12.1885 12.1416 12.7158 12.1416Z",fill:"currentColor"})),goe=()=>B.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Cancel"),B.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM7.29297 13.3018C7.58301 13.3018 7.81152 13.2139 7.99609 13.0205L10 11.0166L12.0127 13.0205C12.1973 13.2051 12.4258 13.3018 12.707 13.3018C13.2432 13.3018 13.6562 12.8887 13.6562 12.3525C13.6562 12.0977 13.5508 11.8691 13.3662 11.6934L11.3535 9.67188L13.375 7.6416C13.5596 7.44824 13.6562 7.22852 13.6562 6.98242C13.6562 6.44629 13.2432 6.0332 12.7158 6.0332C12.4346 6.0332 12.2148 6.12109 12.0215 6.31445L10 8.32715L7.9873 6.32324C7.80273 6.12988 7.58301 6.04199 7.29297 6.04199C6.76562 6.04199 6.35254 6.45508 6.35254 6.99121C6.35254 7.2373 6.44922 7.46582 6.63379 7.6416L8.65527 9.67188L6.63379 11.6934C6.44922 11.8691 6.35254 12.1064 6.35254 12.3525C6.35254 12.8887 6.76562 13.3018 7.29297 13.3018Z",fill:"currentColor"})),yoe=()=>B.createElement("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Success"),B.createElement("path",{d:"M10 19.4443C15.0977 19.4443 19.2812 15.252 19.2812 10.1543C19.2812 5.06543 15.0889 0.873047 10 0.873047C4.90234 0.873047 0.71875 5.06543 0.71875 10.1543C0.71875 15.252 4.91113 19.4443 10 19.4443ZM10 17.1328C6.1416 17.1328 3.03906 14.0215 3.03906 10.1543C3.03906 6.2959 6.13281 3.18457 10 3.18457C13.8584 3.18457 16.9697 6.2959 16.9697 10.1543C16.9785 14.0215 13.8672 17.1328 10 17.1328ZM9.07715 14.3379C9.4375 14.3379 9.7627 14.1533 9.97363 13.8369L13.7441 8.00977C13.8848 7.79883 13.9814 7.5791 13.9814 7.36816C13.9814 6.84961 13.5244 6.48926 13.0322 6.48926C12.707 6.48926 12.4258 6.66504 12.2148 7.0166L9.05957 12.0967L7.5918 10.2949C7.37207 10.0225 7.13477 9.9082 6.84473 9.9082C6.33496 9.9082 5.92188 10.3125 5.92188 10.8223C5.92188 11.0684 6.00098 11.2793 6.18555 11.5078L8.1543 13.8545C8.40918 14.1709 8.70801 14.3379 9.07715 14.3379Z",fill:"currentColor"})),voe=t=>{switch(t){case"pending":return pm;case"confirmed":return yoe;case"failed":return goe;default:return pm}};function woe({tx:t}){const e=Ir(),n=voe(t.status),r=t.status==="failed"?"error":"accentColor",{chain:i}=Tr(),o=t.status==="confirmed"?"Confirmed":t.status==="failed"?"Failed":"Pending",s=_8(i);return B.createElement(B.Fragment,null,B.createElement(re,{...s?{as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:ir({active:"shrink"}),href:`${s}/tx/${t.hash}`,rel:"noreferrer noopener",target:"_blank",transition:"default"}:{},color:"modalText",display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"8",width:"full"},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:e?"16":"14"},B.createElement(re,{color:r},B.createElement(n,null)),B.createElement(re,{display:"flex",flexDirection:"column",gap:e?"3":"1"},B.createElement(re,null,B.createElement(St,{color:"modalText",font:"body",size:e?"16":"14",weight:"bold"},t?.description)),B.createElement(re,null,B.createElement(St,{color:t.status==="pending"?"modalTextSecondary":r,font:"body",size:"14",weight:e?"medium":"regular"},o)))),s&&B.createElement(re,{alignItems:"center",color:"modalTextDim",display:"flex"},B.createElement(S8,null))))}var boe=3;function xoe({address:t}){const e=l8(),n=moe(),{chain:r}=Tr(),i=_8(r),o=e.slice(0,boe),s=o.length>0,a=Ir(),{appName:l}=U.useContext(e0),{i18n:c}=U.useContext(ar);return B.createElement(B.Fragment,null,B.createElement(re,{display:"flex",flexDirection:"column",gap:"10",paddingBottom:"2",paddingTop:"16",paddingX:a?"8":"18"},s&&B.createElement(re,{paddingBottom:a?"4":"0",paddingTop:"8",paddingX:a?"12":"6"},B.createElement(re,{display:"flex",justifyContent:"space-between"},B.createElement(St,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},c.t("profile.transactions.recent.title")),B.createElement(re,{style:{marginBottom:-6,marginLeft:-10,marginRight:-10,marginTop:-6}},B.createElement(re,{as:"button",background:{hover:"profileForeground"},borderRadius:"actionButton",className:ir({active:"shrink"}),onClick:n,paddingX:a?"8":"12",paddingY:a?"4":"5",transition:"default",type:"button"},B.createElement(St,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},c.t("profile.transactions.clear.label")))))),B.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},s?o.map(u=>B.createElement(woe,{key:u.hash,tx:u})):B.createElement(B.Fragment,null,B.createElement(re,{padding:a?"12":"8"},B.createElement(St,{color:"modalTextDim",size:a?"16":"14",weight:a?"medium":"bold"},l?c.t("profile.transactions.description",{appName:l}):c.t("profile.transactions.description_fallback"))),a&&B.createElement(re,{background:"generalBorderDim",height:"1",marginX:"12",marginY:"8"})))),i&&B.createElement(re,{paddingBottom:"18",paddingX:a?"8":"18"},B.createElement(re,{alignItems:"center",as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:ir({active:"shrink"}),color:"modalTextDim",display:"flex",flexDirection:"row",href:`${i}/address/${t}`,justifyContent:"space-between",paddingX:"8",paddingY:"12",rel:"noreferrer noopener",style:{willChange:"transform"},target:"_blank",transition:"default",width:"full",...a?{paddingLeft:"12"}:{}},B.createElement(St,{color:"modalText",font:"body",size:a?"16":"14",weight:a?"semibold":"bold"},c.t("profile.explorer.label")),B.createElement(S8,null))))}function TR({action:t,icon:e,label:n,testId:r,url:i}){const o=Ir();return B.createElement(re,{...i?{as:"a",href:i,rel:"noreferrer noopener",target:"_blank"}:{as:"button",type:"button"},background:{base:"profileAction",...o?{}:{hover:"profileActionHover"}},borderRadius:"menuButton",boxShadow:"profileDetailsAction",className:ir({active:"shrinkSm",hover:o?void 0:"grow"}),display:"flex",onClick:t,padding:o?"6":"8",style:{willChange:"transform"},testId:r,transition:"default",width:"full"},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"1",justifyContent:"center",paddingTop:"2",width:"full"},B.createElement(re,{color:"modalText",height:"max"},e),B.createElement(re,null,B.createElement(St,{color:"modalText",size:o?"12":"13",weight:"semibold"},n))))}function Eoe({address:t,ensAvatar:e,ensName:n,balance:r,onClose:i,onDisconnect:o}){const s=U.useContext(WT),[a,l]=U.useState(!1),c=U.useCallback(()=>{t&&(navigator.clipboard.writeText(t),l(!0))},[t]);if(U.useEffect(()=>{if(a){const y=setTimeout(()=>{l(!1)},1500);return()=>clearTimeout(y)}},[a]),!t)return null;const u=n?A8(n):E8(t),d=r?.formatted,f=d?x8(Number.parseFloat(d)):void 0,h="rk_profile_title",g=Ir(),{i18n:m}=U.useContext(ar);return B.createElement(B.Fragment,null,B.createElement(re,{display:"flex",flexDirection:"column"},B.createElement(re,{background:"profileForeground",padding:"16"},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:g?"16":"12",justifyContent:"center",margin:"8",style:{textAlign:"center"}},B.createElement(re,{style:{position:"absolute",right:16,top:16,willChange:"transform"}},B.createElement(mu,{onClose:i}))," ",B.createElement(re,{marginTop:g?"24":"0"},B.createElement(ZU,{address:t,imageUrl:e,size:g?82:74})),B.createElement(re,{display:"flex",flexDirection:"column",gap:g?"4":"0",textAlign:"center"},B.createElement(re,{textAlign:"center"},B.createElement(St,{as:"h1",color:"modalText",id:h,size:g?"20":"18",weight:"heavy"},u)),!!r&&B.createElement(re,{textAlign:"center"},B.createElement(St,{as:"h1",color:"modalTextSecondary",id:h,size:g?"16":"14",weight:"semibold"},f," ",r.symbol)))),B.createElement(re,{display:"flex",flexDirection:"row",gap:"8",margin:"2",marginTop:"16"},B.createElement(TR,{action:c,icon:a?B.createElement(foe,null):B.createElement(hoe,null),label:a?m.t("profile.copy_address.copied"):m.t("profile.copy_address.label")}),B.createElement(TR,{action:o,icon:B.createElement(poe,null),label:m.t("profile.disconnect.label"),testId:"disconnect-button"}))),s&&B.createElement(B.Fragment,null,B.createElement(re,{background:"generalBorder",height:"1",marginTop:"-1"}),B.createElement(re,null,B.createElement(xoe,{address:t})))))}function Aoe({onClose:t,open:e}){const{address:n}=Tr(),{balance:r,ensAvatar:i,ensName:o}=i8({address:n,includeBalance:e}),{disconnect:s}=CT();return n?B.createElement(B.Fragment,null,n&&B.createElement(Nv,{onClose:t,open:e,titleId:"rk_account_modal_title"},B.createElement(Fv,{bottomSheetOnMobile:!0,padding:"0"},B.createElement(Eoe,{address:n,ensAvatar:i,ensName:o,balance:r,onClose:t,onDisconnect:s})))):null}var _oe=({size:t})=>B.createElement("svg",{fill:"none",height:t,viewBox:"0 0 28 28",width:t,xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Disconnect"),B.createElement("path",{d:"M6.742 22.195h8.367c1.774 0 2.743-.968 2.743-2.758V16.11h-2.016v3.11c0 .625-.305.96-.969.96H6.984c-.664 0-.968-.335-.968-.96V7.984c0-.632.304-.968.968-.968h7.883c.664 0 .969.336.969.968v3.133h2.016v-3.36c0-1.78-.97-2.757-2.743-2.757H6.742C4.97 5 4 5.977 4 7.758v11.68c0 1.789.969 2.757 2.742 2.757Zm5.438-7.703h7.601l1.149-.07-.602.406-1.008.938a.816.816 0 0 0-.258.593c0 .407.313.782.758.782.227 0 .39-.086.547-.243l2.492-2.593c.235-.235.313-.47.313-.711 0-.242-.078-.477-.313-.719l-2.492-2.586c-.156-.156-.32-.25-.547-.25-.445 0-.758.367-.758.781 0 .227.094.446.258.594l1.008.945.602.407-1.149-.079H12.18a.904.904 0 0 0 0 1.805Z",fill:"currentColor"})),Soe="v9horb0",QT=B.forwardRef(({children:t,currentlySelected:e=!1,onClick:n,testId:r,...i},o)=>{const s=Ir();return B.createElement(re,{as:"button",borderRadius:"menuButton",disabled:e,display:"flex",onClick:n,ref:o,testId:r,type:"button"},B.createElement(re,{borderRadius:"menuButton",className:[s?Soe:void 0,!e&&ir({active:"shrink"})],padding:s?"8":"6",transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",borderStyle:"solid",borderWidth:"1",boxShadow:"selectedOption",color:"accentColorForeground"}:{background:{hover:"menuItemBackground"},color:"modalText",transition:"default"},...i},t))});QT.displayName="MenuButton";var Coe=({chainId:t,currentChainId:e,switchChain:n,chainIconSize:r,isLoading:i,src:o,name:s,iconBackground:a,idx:l})=>{const c=Ir(),{i18n:u}=U.useContext(ar),d=Nu(),f=e===t;return B.createElement(U.Fragment,null,B.createElement(QT,{currentlySelected:f,onClick:f?void 0:()=>n({chainId:t}),testId:`chain-option-${t}`},B.createElement(re,{fontFamily:"body",fontSize:"16",fontWeight:"bold"},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:r},o&&B.createElement(re,{height:"full",marginRight:"8"},B.createElement(Cr,{alt:s,background:a,borderRadius:"full",height:r,src:o,width:r,testId:`chain-option-${t}-icon`})),B.createElement("div",null,s??s)),f&&B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},B.createElement(St,{color:"accentColorForeground",size:"14",weight:"medium"},u.t("chains.connected")),B.createElement(re,{background:"connectionIndicator",borderColor:"selectedOptionBorder",borderRadius:"full",borderStyle:"solid",borderWidth:"1",height:"8",marginLeft:"8",width:"8"})),i&&B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},B.createElement(St,{color:"modalText",size:"14",weight:"medium"},u.t("chains.confirm")),B.createElement(re,{background:"standby",borderRadius:"full",height:"8",marginLeft:"8",width:"8"}))))),c&&l<d.length-1&&B.createElement(re,{background:"generalBorderDim",height:"1",marginX:"8"}))},Toe=Coe,Moe="_18dqw9x0",Ioe="_18dqw9x1";function Roe({onClose:t,open:e}){const{chainId:n}=Tr(),{chains:r}=yr(),[i,o]=U.useState(null),{switchChain:s}=HD({mutation:{onMutate:({chainId:g})=>{o(g)},onSuccess:()=>{i&&o(null)},onError:()=>{i&&o(null)},onSettled:()=>{t()}}}),{i18n:a}=U.useContext(ar),{disconnect:l}=CT(),c="rk_chain_modal_title",u=Ir(),d=r.some(g=>g.id===n),f=u?"36":"28",h=Nu();return n?B.createElement(Nv,{onClose:t,open:e,titleId:c},B.createElement(Fv,{bottomSheetOnMobile:!0,paddingBottom:"0"},B.createElement(re,{display:"flex",flexDirection:"column",gap:"14"},B.createElement(re,{display:"flex",flexDirection:"row",justifyContent:"space-between"},u&&B.createElement(re,{width:"30"}),B.createElement(re,{paddingBottom:"0",paddingLeft:"8",paddingTop:"4"},B.createElement(St,{as:"h1",color:"modalText",id:c,size:u?"20":"18",weight:"heavy"},a.t("chains.title"))),B.createElement(mu,{onClose:t})),!d&&B.createElement(re,{marginX:"8",textAlign:u?"center":"left"},B.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},a.t("chains.wrong_network"))),B.createElement(re,{className:u?Ioe:Moe,display:"flex",flexDirection:"column",gap:"4",padding:"2",paddingBottom:"16"},h.map(({iconBackground:g,iconUrl:m,id:y,name:p},v)=>B.createElement(Toe,{key:y,chainId:y,currentChainId:n,switchChain:s,chainIconSize:f,isLoading:i===y,src:m,name:p,iconBackground:g,idx:v})),!d&&B.createElement(B.Fragment,null,B.createElement(re,{background:"generalBorderDim",height:"1",marginX:"8"}),B.createElement(QT,{onClick:()=>l(),testId:"chain-option-disconnect"},B.createElement(re,{color:"error",fontFamily:"body",fontSize:"16",fontWeight:"bold"},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:f},B.createElement(re,{alignItems:"center",color:"error",height:f,justifyContent:"center",marginRight:"8"},B.createElement(_oe,{size:Number(f)})),B.createElement("div",null,a.t("chains.disconnect"))))))))))):null}function Poe(t,e){const n={};for(const r of t){const i=e(r);i&&(n[i]||(n[i]=[]),n[i].push(r))}return n}var XT=({children:t,href:e})=>B.createElement(re,{as:"a",color:"accentColor",href:e,rel:"noreferrer",target:"_blank"},t),YT=({children:t})=>B.createElement(St,{color:"modalTextSecondary",size:"12",weight:"medium"},t);function MR({compactModeEnabled:t=!1,getWallet:e}){const{disclaimer:n,learnMoreUrl:r}=U.useContext(e0),{i18n:i}=U.useContext(ar);return B.createElement(B.Fragment,null,B.createElement(re,{alignItems:"center",color:"accentColor",display:"flex",flexDirection:"column",height:"full",justifyContent:"space-around"},B.createElement(re,{marginBottom:"10"},!t&&B.createElement(St,{color:"modalText",size:"18",weight:"heavy"},i.t("intro.title"))),B.createElement(re,{display:"flex",flexDirection:"column",gap:"32",justifyContent:"center",marginY:"20",style:{maxWidth:312}},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},B.createElement(re,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},B.createElement(Hie,null)),B.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(St,{color:"modalText",size:"14",weight:"bold"},i.t("intro.digital_asset.title")),B.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},i.t("intro.digital_asset.description")))),B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},B.createElement(re,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},B.createElement(Vie,null)),B.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(St,{color:"modalText",size:"14",weight:"bold"},i.t("intro.login.title")),B.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},i.t("intro.login.description"))))),B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",margin:"10"},B.createElement(mi,{label:i.t("intro.get.label"),onClick:e}),B.createElement(re,{as:"a",className:ir({active:"shrink",hover:"grow"}),display:"block",href:r,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(St,{color:"accentColor",size:"14",weight:"bold"},i.t("intro.learn_more.label")))),n&&!t&&B.createElement(re,{marginBottom:"8",marginTop:"12",textAlign:"center"},B.createElement(n,{Link:XT,Text:YT}))))}var C8=()=>B.createElement("svg",{fill:"none",height:"17",viewBox:"0 0 11 17",width:"11",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Back"),B.createElement("path",{d:"M0.99707 8.6543C0.99707 9.08496 1.15527 9.44531 1.51562 9.79688L8.16016 16.3096C8.43262 16.5732 8.74902 16.7051 9.13574 16.7051C9.90918 16.7051 10.5508 16.0811 10.5508 15.3076C10.5508 14.9121 10.3838 14.5605 10.0938 14.2705L4.30176 8.64551L10.0938 3.0293C10.3838 2.74805 10.5508 2.3877 10.5508 2.00098C10.5508 1.23633 9.90918 0.603516 9.13574 0.603516C8.74902 0.603516 8.43262 0.735352 8.16016 0.999023L1.51562 7.51172C1.15527 7.85449 1.00586 8.21484 0.99707 8.6543Z",fill:"currentColor"})),koe=()=>B.createElement("svg",{fill:"none",height:"12",viewBox:"0 0 8 12",width:"8",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Info"),B.createElement("path",{d:"M3.64258 7.99609C4.19336 7.99609 4.5625 7.73828 4.68555 7.24609C4.69141 7.21094 4.70312 7.16406 4.70898 7.13477C4.80859 6.60742 5.05469 6.35547 6.04492 5.76367C7.14648 5.10156 7.67969 4.3457 7.67969 3.24414C7.67969 1.39844 6.17383 0.255859 3.95898 0.255859C2.32422 0.255859 1.05859 0.894531 0.548828 1.86719C0.396484 2.14844 0.320312 2.44727 0.320312 2.74023C0.314453 3.37305 0.742188 3.79492 1.42188 3.79492C1.91406 3.79492 2.33594 3.54883 2.53516 3.11523C2.78711 2.47656 3.23242 2.21289 3.83594 2.21289C4.55664 2.21289 5.10742 2.65234 5.10742 3.29102C5.10742 3.9707 4.7793 4.29883 3.81836 4.87891C3.02148 5.36523 2.50586 5.92773 2.50586 6.76562V6.90039C2.50586 7.55664 2.96289 7.99609 3.64258 7.99609ZM3.67188 11.4473C4.42773 11.4473 5.04297 10.8672 5.04297 10.1406C5.04297 9.41406 4.42773 8.83984 3.67188 8.83984C2.91602 8.83984 2.30664 9.41406 2.30664 10.1406C2.30664 10.8672 2.91602 11.4473 3.67188 11.4473Z",fill:"currentColor"})),Noe=({"aria-label":t="Info",onClick:e})=>{const n=Ir();return B.createElement(re,{alignItems:"center","aria-label":t,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:n?"0":"1",className:ir({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:n?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:n?"30":"28"},B.createElement(koe,null))},T8=t=>{const e=U.useRef(null),n=U.useContext(u8),r=b1(t);return U.useEffect(()=>{if(n&&e.current&&r)return Ooe(e.current,r)},[n,r]),e},Foe=()=>{const t="_rk_coolMode",e=document.getElementById(t);if(e)return e;const n=document.createElement("div");return n.setAttribute("id",t),n.setAttribute("style",["overflow:hidden","position:fixed","height:100%","top:0","left:0","right:0","bottom:0","pointer-events:none","z-index:2147483647"].join(";")),document.body.appendChild(n),n},IR=0;function Ooe(t,e){IR++;const n=[15,20,25,35,45],r=35;let i=[],o=!1,s=0,a=0;const l=Foe();function c(){const x=n[Math.floor(Math.random()*n.length)],T=Math.random()*10,N=Math.random()*25,A=Math.random()*360,z=Math.random()*35*(Math.random()<=.5?-1:1),S=a-x/2,k=s-x/2,R=Math.random()<=.5?-1:1,W=document.createElement("div");W.innerHTML=`<img src="${e}" width="${x}" height="${x}" style="border-radius: 25%">`,W.setAttribute("style",["position:absolute","will-change:transform",`top:${S}px`,`left:${k}px`,`transform:rotate(${A}deg)`].join(";")),l.appendChild(W),i.push({direction:R,element:W,left:k,size:x,speedHorz:T,speedUp:N,spinSpeed:z,spinVal:A,top:S})}function u(){for(const x of i)x.left=x.left-x.speedHorz*x.direction,x.top=x.top-x.speedUp,x.speedUp=Math.min(x.size,x.speedUp-1),x.spinVal=x.spinVal+x.spinSpeed,x.top>=Math.max(window.innerHeight,document.body.clientHeight)+x.size&&(i=i.filter(T=>T!==x),x.element.remove()),x.element.setAttribute("style",["position:absolute","will-change:transform",`top:${x.top}px`,`left:${x.left}px`,`transform:rotate(${x.spinVal}deg)`].join(";"))}let d;function f(){o&&i.length<r&&c(),u(),d=requestAnimationFrame(f)}f();const h="ontouchstart"in window||navigator.msMaxTouchPoints,g=h?"touchstart":"mousedown",m=h?"touchend":"mouseup",y=h?"touchmove":"mousemove",p=x=>{"touches"in x?(s=x.touches?.[0].clientX,a=x.touches?.[0].clientY):(s=x.clientX,a=x.clientY)},v=x=>{p(x),o=!0},w=()=>{o=!1};return t.addEventListener(y,p,{passive:!1}),t.addEventListener(g,v),t.addEventListener(m,w),t.addEventListener("mouseleave",w),()=>{t.removeEventListener(y,p),t.removeEventListener(g,v),t.removeEventListener(m,w),t.removeEventListener("mouseleave",w);const x=setInterval(()=>{d&&i.length===0&&(cancelAnimationFrame(d),clearInterval(x),--IR===0&&l.remove())},500)}}var Boe="g5kl0l0",M8=({as:t="button",currentlySelected:e=!1,iconBackground:n,iconUrl:r,name:i,onClick:o,ready:s,recent:a,testId:l,isRainbowKitConnector:c,...u})=>{const d=T8(r),[f,h]=B.useState(!1),{i18n:g}=B.useContext(ar);return B.createElement(re,{display:"flex",flexDirection:"column",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),ref:d},B.createElement(re,{as:t,borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:e?void 0:[Boe,ir({active:"shrink"})],disabled:e,onClick:o,padding:"5",style:{willChange:"transform"},testId:l,transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",boxShadow:"selectedWallet"}:{background:{hover:"menuItemBackground"}},...u},B.createElement(re,{color:e?"accentColorForeground":"modalText",disabled:!s,fontFamily:"body",fontSize:"16",fontWeight:"bold",transition:"default"},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"12"},B.createElement(Cr,{background:n,...!f&&c?{borderColor:"actionButtonBorder"}:{},useAsImage:!c,borderRadius:"6",height:"28",src:r,width:"28"}),B.createElement(re,null,B.createElement(re,{style:{marginTop:a?-2:void 0},maxWidth:"200"},i),a&&B.createElement(St,{color:e?"accentColorForeground":"accentColor",size:"12",style:{lineHeight:1,marginTop:-1},weight:"medium"},g.t("connect.recent")))))))};M8.displayName="ModalSelection";var Loe="rk-latest-id";function Doe(t){localStorage.setItem(Loe,t)}var wx=(t,e=1)=>{let n=t.replace("#","");n.length===3&&(n=`${n[0]}${n[0]}${n[1]}${n[1]}${n[2]}${n[2]}`);const r=Number.parseInt(n.substring(0,2),16),i=Number.parseInt(n.substring(2,4),16),o=Number.parseInt(n.substring(4,6),16);return e>1&&e<=100&&(e=e/100),`rgba(${r},${i},${o},${e})`},Uoe=t=>t?[wx(t,.2),wx(t,.14),wx(t,.1)]:null,zoe=t=>/^#([0-9a-f]{3}){1,2}$/i.test(t),I8=async()=>(await Xe(async()=>{const{default:t}=await import("./connect-UA7M4XW6-IY3X6Bmr.js");return{default:t}},[])).default,joe=()=>Qs(I8),Goe=()=>B.createElement(Cr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:I8,width:"48"}),R8=async()=>(await Xe(async()=>{const{default:t}=await import("./create-FASO7PVG-D_rvSpre.js");return{default:t}},[])).default,P8=()=>Qs(R8),Hoe=()=>B.createElement(Cr,{background:"#e3a5e8",borderColor:"generalBorder",borderRadius:"10",height:"48",src:R8,width:"48"}),k8=async()=>(await Xe(async()=>{const{default:t}=await import("./refresh-S4T5V5GX-CwqIaaxK.js");return{default:t}},[])).default,Woe=()=>Qs(k8),Voe=()=>B.createElement(Cr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:k8,width:"48"}),N8=async()=>(await Xe(async()=>{const{default:t}=await import("./scan-4UYSQ56Q-CjMz6-XC.js");return{default:t}},[])).default,F8=()=>Qs(N8),$oe=()=>B.createElement(Cr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:N8,width:"48"}),qoe="_1vwt0cg0",Koe="_1vwt0cg2 ju367v7a ju367v7v",Qoe="_1vwt0cg3",Xoe="_1vwt0cg4";function O8({ecc:t="medium",logoBackground:e,logoSize:n=50,logoUrl:r,size:i=200,uri:o}){const s="20",a=i-Number.parseInt(s,10)*2,l=b1(r);return B.createElement(re,{borderColor:"generalBorder",borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:qoe,padding:s,width:"max"},B.createElement(re,{style:{height:a,userSelect:"none",width:a},userSelect:"none"},B.createElement(Us.Root,{errorCorrection:t,size:a,value:o},B.createElement(Us.Cells,{radius:1}),B.createElement(Us.Finder,{radius:.25}),l&&B.createElement(Us.Arena,null,B.createElement("img",{alt:"Wallet Logo",src:l,style:{objectFit:"cover",height:"88%",width:"88%",borderRadius:"22.5%",backgroundColor:e}})))))}var B8=async()=>{switch($T()){case"Arc":return(await Xe(async()=>{const{default:e}=await import("./Arc-VDBY7LNS-BChRXCXW.js");return{default:e}},[])).default;case"Brave":return(await Xe(async()=>{const{default:e}=await import("./Brave-BRAKJXDS-mq-Xo37j.js");return{default:e}},[])).default;case"Chrome":return(await Xe(async()=>{const{default:e}=await import("./Chrome-65Q5P54Y-DR9MQEVr.js");return{default:e}},[])).default;case"Edge":return(await Xe(async()=>{const{default:e}=await import("./Edge-XSPUTORV-DEoZslQE.js");return{default:e}},[])).default;case"Firefox":return(await Xe(async()=>{const{default:e}=await import("./Firefox-AAHGJQIP-Bp_Hm04m.js");return{default:e}},[])).default;case"Opera":return(await Xe(async()=>{const{default:e}=await import("./Opera-KQZLSACL-Cwv5MDFy.js");return{default:e}},[])).default;case"Safari":return(await Xe(async()=>{const{default:e}=await import("./Safari-ZPL37GXR-C4Ggg6rz.js");return{default:e}},[])).default;default:return(await Xe(async()=>{const{default:e}=await import("./Browser-76IHF3Y2-BMhRaC5Z.js");return{default:e}},[])).default}},Yoe=()=>Qs(B8),L8=async()=>{switch(KT()){case"Windows":return(await Xe(async()=>{const{default:e}=await import("./Windows-PPTHQER6-BlyV2p7Y.js");return{default:e}},[])).default;case"macOS":return(await Xe(async()=>{const{default:e}=await import("./Macos-MW4AE7LN-Vvm8Drw3.js");return{default:e}},[])).default;case"Linux":return(await Xe(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default;default:return(await Xe(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default}},Joe=()=>Qs(L8);function Zoe({getWalletDownload:t,compactModeEnabled:e}){const r=mm().filter(o=>o.isRainbowKitConnector).splice(0,5),{i18n:i}=U.useContext(ar);return B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginTop:"18",width:"full"},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"28",height:"full",width:"full"},r?.filter(o=>o.extensionDownloadUrl||o.desktopDownloadUrl||o.qrCode&&o.downloadUrls?.qrCode).map(o=>{const{downloadUrls:s,iconBackground:a,iconUrl:l,id:c,name:u,qrCode:d}=o,f=s?.qrCode&&d,h=!!o.extensionDownloadUrl,g=s?.qrCode&&h,m=s?.qrCode&&!!o.desktopDownloadUrl;return B.createElement(re,{alignItems:"center",display:"flex",gap:"16",justifyContent:"space-between",key:o.id,width:"full"},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},B.createElement(Cr,{background:a,borderColor:"actionButtonBorder",borderRadius:"10",height:"48",src:l,width:"48"}),B.createElement(re,{display:"flex",flexDirection:"column",gap:"2"},B.createElement(St,{color:"modalText",size:"14",weight:"bold"},u),B.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},g?i.t("get.mobile_and_extension.description"):m?i.t("get.mobile_and_desktop.description"):f?i.t("get.mobile.description"):h?i.t("get.extension.description"):null))),B.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(mi,{label:i.t("get.action.label"),onClick:()=>t(c),type:"secondary"})))})),B.createElement(re,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"column",gap:"8",justifyContent:"space-between",marginBottom:"4",paddingY:"8",style:{maxWidth:275,textAlign:"center"}},B.createElement(St,{color:"modalText",size:"14",weight:"bold"},i.t("get.looking_for.title")),B.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},e?i.t("get.looking_for.desktop.compact_description"):i.t("get.looking_for.desktop.wide_description"))))}var bx="44";function ese({changeWalletStep:t,compactModeEnabled:e,connectionError:n,onClose:r,qrCodeUri:i,reconnect:o,wallet:s}){const{downloadUrls:a,iconBackground:l,iconUrl:c,name:u,qrCode:d,ready:f,showWalletConnectModal:h,getDesktopUri:g}=s,m=!!g,y=VT(),{i18n:p}=U.useContext(ar),v=!!s.extensionDownloadUrl,w=a?.qrCode&&v,x=a?.qrCode&&!!s.desktopDownloadUrl,T=d&&i,N=async()=>{const k=await g?.();window.open(k,y?"_blank":"_self")},A=h?{description:e?p.t("connect.walletconnect.description.compact"):p.t("connect.walletconnect.description.full"),label:p.t("connect.walletconnect.open.label"),onClick:()=>{r(),h()}}:T?{description:p.t("connect.secondary_action.get.description",{wallet:u}),label:p.t("connect.secondary_action.get.label"),onClick:()=>t(w||x?"DOWNLOAD_OPTIONS":"DOWNLOAD")}:null,{width:z}=d8(),S=z&&z<768;return U.useEffect(()=>{Yoe(),Joe()},[]),B.createElement(re,{display:"flex",flexDirection:"column",height:"full",width:"full"},T?B.createElement(re,{alignItems:"center",display:"flex",height:"full",justifyContent:"center"},B.createElement(O8,{logoBackground:l,logoSize:e?60:72,logoUrl:c,size:e?318:S?Math.max(280,Math.min(z-308,382)):382,uri:i})):B.createElement(re,{alignItems:"center",display:"flex",justifyContent:"center",style:{flexGrow:1}},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8"},B.createElement(re,{borderRadius:"10",height:bx,overflow:"hidden"},B.createElement(Cr,{useAsImage:!s.isRainbowKitConnector,height:bx,src:c,width:bx})),B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"4",paddingX:"32",style:{textAlign:"center"}},B.createElement(St,{color:"modalText",size:"18",weight:"bold"},f?p.t("connect.status.opening",{wallet:u}):v?p.t("connect.status.not_installed",{wallet:u}):p.t("connect.status.not_available",{wallet:u})),!f&&v?B.createElement(re,{paddingTop:"20"},B.createElement(mi,{href:s.extensionDownloadUrl,label:p.t("connect.secondary_action.install.label"),type:"secondary"})):null,f&&!T&&B.createElement(B.Fragment,null,B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},B.createElement(St,{color:"modalTextSecondary",size:"14",textAlign:"center",weight:"medium"},p.t("connect.status.confirm"))),B.createElement(re,{alignItems:"center",color:"modalText",display:"flex",flexDirection:"row",height:"32",marginTop:"8"},n?B.createElement(mi,{label:p.t("connect.secondary_action.retry.label"),onClick:async()=>{m&&N(),o(s)}}):B.createElement(re,{color:"modalTextSecondary"},B.createElement(pm,null))))))),B.createElement(re,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"28",justifyContent:"space-between",marginTop:"12"},f&&A&&B.createElement(B.Fragment,null,B.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},A.description),B.createElement(mi,{label:A.label,onClick:A.onClick,type:"secondary"}))))}var xx=({actionLabel:t,description:e,iconAccent:n,iconBackground:r,iconUrl:i,isCompact:o,onAction:s,title:a,url:l,variant:c})=>{const u=c==="browser",d=!u&&n&&Uoe(n);return B.createElement(re,{alignItems:"center",borderRadius:"13",display:"flex",justifyContent:"center",overflow:"hidden",paddingX:o?"18":"44",position:"relative",style:{flex:1,isolation:"isolate"},width:"full"},B.createElement(re,{borderColor:"actionButtonBorder",borderRadius:"13",borderStyle:"solid",borderWidth:"1",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0",zIndex:1}}),u&&B.createElement(re,{background:"downloadTopCardBackground",height:"full",position:"absolute",style:{zIndex:0},width:"full"},B.createElement(re,{display:"flex",flexDirection:"row",justifyContent:"space-between",style:{bottom:"0",filter:"blur(20px)",left:"0",position:"absolute",right:"0",top:"0",transform:"translate3d(0, 0, 0)"}},B.createElement(re,{style:{filter:"blur(100px)",marginLeft:-27,marginTop:-20,opacity:.6,transform:"translate3d(0, 0, 0)"}},B.createElement(Cr,{borderRadius:"full",height:"200",src:i,width:"200"})),B.createElement(re,{style:{filter:"blur(100px)",marginRight:0,marginTop:105,opacity:.6,overflow:"auto",transform:"translate3d(0, 0, 0)"}},B.createElement(Cr,{borderRadius:"full",height:"200",src:i,width:"200"})))),!u&&d&&B.createElement(re,{background:"downloadBottomCardBackground",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}},B.createElement(re,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${d[0]} 0%, ${d[1]} 25%, rgba(0,0,0,0) 100%)`,height:564,left:-215,top:-197,transform:"translate3d(0, 0, 0)",width:564}}),B.createElement(re,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${d[2]} 0%, rgba(0, 0, 0, 0) 100%)`,height:564,left:-1,top:-76,transform:"translate3d(0, 0, 0)",width:564}})),B.createElement(re,{alignItems:"flex-start",display:"flex",flexDirection:"row",gap:"24",height:"max",justifyContent:"center",style:{zIndex:1}},B.createElement(re,null,B.createElement(Cr,{height:"60",src:i,width:"60",...r?{background:r,borderColor:"generalBorder",borderRadius:"10"}:null})),B.createElement(re,{display:"flex",flexDirection:"column",gap:"4",style:{flex:1},width:"full"},B.createElement(St,{color:"modalText",size:"14",weight:"bold"},a),B.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},e),B.createElement(re,{marginTop:"14",width:"max"},B.createElement(mi,{href:l,label:t,onClick:s,size:"medium"})))))};function tse({changeWalletStep:t,wallet:e}){const n=$T(),r=KT(),o=U.useContext(x1)==="compact",{desktop:s,desktopDownloadUrl:a,extension:l,extensionDownloadUrl:c,mobileDownloadUrl:u}=e,{i18n:d}=U.useContext(ar);return U.useEffect(()=>{P8(),F8(),Woe(),joe()},[]),B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",marginBottom:"8",marginTop:"4",width:"full"},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8",height:"full",justifyContent:"center",width:"full"},c&&B.createElement(xx,{actionLabel:d.t("get_options.extension.download.label",{browser:n}),description:d.t("get_options.extension.description"),iconUrl:B8,isCompact:o,onAction:()=>t(l?.instructions?"INSTRUCTIONS_EXTENSION":"CONNECT"),title:d.t("get_options.extension.title",{wallet:e.name,browser:n}),url:c,variant:"browser"}),a&&B.createElement(xx,{actionLabel:d.t("get_options.desktop.download.label",{platform:r}),description:d.t("get_options.desktop.description"),iconUrl:L8,isCompact:o,onAction:()=>t(s?.instructions?"INSTRUCTIONS_DESKTOP":"CONNECT"),title:d.t("get_options.desktop.title",{wallet:e.name,platform:r}),url:a,variant:"desktop"}),u&&B.createElement(xx,{actionLabel:d.t("get_options.mobile.download.label",{wallet:e.name}),description:d.t("get_options.mobile.description"),iconAccent:e.iconAccent,iconBackground:e.iconBackground,iconUrl:e.iconUrl,isCompact:o,onAction:()=>{t("DOWNLOAD")},title:d.t("get_options.mobile.title",{wallet:e.name}),variant:"app"})))}function nse({changeWalletStep:t,wallet:e}){const{downloadUrls:n,qrCode:r}=e,{i18n:i}=U.useContext(ar);return U.useEffect(()=>{P8(),F8()},[]),B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",width:"full"},B.createElement(re,{style:{maxWidth:220,textAlign:"center"}},B.createElement(St,{color:"modalTextSecondary",size:"14",weight:"semibold"},i.t("get_mobile.description"))),B.createElement(re,{height:"full"},n?.qrCode?B.createElement(O8,{logoSize:0,size:268,uri:n.qrCode}):null),B.createElement(re,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"34",justifyContent:"space-between",marginBottom:"12",paddingY:"8"},B.createElement(mi,{label:i.t("get_mobile.continue.label"),onClick:()=>t(r?.instructions?"INSTRUCTIONS_MOBILE":"CONNECT")})))}var JT={connect:()=>B.createElement(Goe,null),create:()=>B.createElement(Hoe,null),install:t=>B.createElement(Cr,{background:t.iconBackground,borderColor:"generalBorder",borderRadius:"10",height:"48",src:t.iconUrl,width:"48"}),refresh:()=>B.createElement(Voe,null),scan:()=>B.createElement($oe,null)};function rse({connectWallet:t,wallet:e}){const{i18n:n}=U.useContext(ar);return B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},B.createElement(re,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},e?.qrCode?.instructions?.steps.map((r,i)=>B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:i},B.createElement(re,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},JT[r.step]?.(e)),B.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(St,{color:"modalText",size:"14",weight:"bold"},n.t(r.title,void 0,{rawKeyIfTranslationMissing:!0})),B.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},n.t(r.description,void 0,{rawKeyIfTranslationMissing:!0})))))),B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},B.createElement(mi,{label:n.t("get_instructions.mobile.connect.label"),onClick:()=>t(e)}),B.createElement(re,{as:"a",className:ir({active:"shrink",hover:"grow"}),display:"block",href:e?.qrCode?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(St,{color:"accentColor",size:"14",weight:"bold"},n.t("get_instructions.mobile.learn_more.label")))))}function ise({wallet:t}){const{i18n:e}=U.useContext(ar);return B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},B.createElement(re,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},t?.extension?.instructions?.steps.map((n,r)=>B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:r},B.createElement(re,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},JT[n.step]?.(t)),B.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(St,{color:"modalText",size:"14",weight:"bold"},e.t(n.title,void 0,{rawKeyIfTranslationMissing:!0})),B.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},e.t(n.description,void 0,{rawKeyIfTranslationMissing:!0})))))),B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},B.createElement(mi,{label:e.t("get_instructions.extension.refresh.label"),onClick:window.location.reload.bind(window.location)}),B.createElement(re,{as:"a",className:ir({active:"shrink",hover:"grow"}),display:"block",href:t?.extension?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(St,{color:"accentColor",size:"14",weight:"bold"},e.t("get_instructions.extension.learn_more.label")))))}function ose({connectWallet:t,wallet:e}){const{i18n:n}=U.useContext(ar);return B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},B.createElement(re,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},e?.desktop?.instructions?.steps.map((r,i)=>B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:i},B.createElement(re,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},JT[r.step]?.(e)),B.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(St,{color:"modalText",size:"14",weight:"bold"},n.t(r.title,void 0,{rawKeyIfTranslationMissing:!0})),B.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},n.t(r.description,void 0,{rawKeyIfTranslationMissing:!0})))))),B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},B.createElement(mi,{label:n.t("get_instructions.desktop.connect.label"),onClick:()=>t(e)}),B.createElement(re,{as:"a",className:ir({active:"shrink",hover:"grow"}),display:"block",href:e?.desktop?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(St,{color:"accentColor",size:"14",weight:"bold"},n.t("get_instructions.desktop.learn_more.label")))))}function sse({onClose:t}){const e="rk_connect_title",[n,r]=U.useState(),[i,o]=U.useState(),[s,a]=U.useState(),l=!!i?.qrCode&&s,[c,u]=U.useState(!1),f=U.useContext(x1)===n0.COMPACT,{disclaimer:h}=U.useContext(e0),{i18n:g}=U.useContext(ar),m=VT(),y=U.useRef(!1),{connector:p}=U.useContext(t0),w=mm(!p).filter(J=>J.ready||!!J.extensionDownloadUrl).sort((J,Z)=>J.groupIndex-Z.groupIndex),x=mm(),T=Poe(w,J=>J.groupName),N=["Recommended","Other","Popular","More","Others","Installed"];U.useEffect(()=>{p&&!y.current&&(L("CONNECT"),k(p),y.current=!0)},[p]);const A=J=>{u(!1),J.ready&&J?.connect?.()?.catch(()=>{u(!0)})},z=async J=>{const Z=w.find(ce=>J.id===ce.id);Z?.getDesktopUri&&setTimeout(async()=>{const ce=await Z?.getDesktopUri?.();ce&&window.open(ce,m?"_blank":"_self")},0)},S=async J=>{const Z=w.find(oe=>J.id===oe.id),ce=await Z?.getQrCodeUri?.();a(ce),setTimeout(()=>{o(Z),L("CONNECT")},ce?0:50)},k=async J=>{Doe(J.id),J.ready&&(S(J),z(J)),A(J),r(J.id),J.ready||(o(J),L(J?.extensionDownloadUrl?"DOWNLOAD_OPTIONS":"CONNECT"))},R=J=>{const Z=x.find(de=>J===de.id),ce=Z?.downloadUrls?.qrCode,oe=!!Z?.desktopDownloadUrl,Ee=!!Z?.extensionDownloadUrl;o(Z),L(ce&&(Ee||oe)?"DOWNLOAD_OPTIONS":ce?"DOWNLOAD":oe?"INSTRUCTIONS_DESKTOP":"INSTRUCTIONS_EXTENSION")},W=()=>{r(void 0),o(void 0),a(void 0)},L=(J,Z=!1)=>{Z&&J==="GET"&&b==="GET"?W():!Z&&J==="GET"?E("GET"):!Z&&J==="CONNECT"&&E("CONNECT"),O(J)},[b,E]=U.useState("NONE"),[I,O]=U.useState("NONE");let C=null,j=null,H=null,D;U.useEffect(()=>{u(!1)},[I,i]);const $=!!(!!i?.extensionDownloadUrl&&i?.mobileDownloadUrl);switch(I){case"NONE":C=B.createElement(MR,{getWallet:()=>L("GET")});break;case"LEARN_COMPACT":C=B.createElement(MR,{compactModeEnabled:f,getWallet:()=>L("GET")}),j=g.t("intro.title"),H="NONE";break;case"GET":C=B.createElement(Zoe,{getWalletDownload:R,compactModeEnabled:f}),j=g.t("get.title"),H=f?"LEARN_COMPACT":"NONE";break;case"CONNECT":C=i&&B.createElement(ese,{changeWalletStep:L,compactModeEnabled:f,connectionError:c,onClose:t,qrCodeUri:s,reconnect:A,wallet:i}),j=l&&(i.name==="WalletConnect"?g.t("connect_scan.fallback_title"):g.t("connect_scan.title",{wallet:i.name})),H=f?p?null:"NONE":null,D=f?p?()=>{}:W:()=>{};break;case"DOWNLOAD_OPTIONS":C=i&&B.createElement(tse,{changeWalletStep:L,wallet:i}),j=i&&g.t("get_options.short_title",{wallet:i.name}),H=p?"CONNECT":f?"NONE":b;break;case"DOWNLOAD":C=i&&B.createElement(nse,{changeWalletStep:L,wallet:i}),j=i&&g.t("get_mobile.title",{wallet:i.name}),H=$?"DOWNLOAD_OPTIONS":b;break;case"INSTRUCTIONS_MOBILE":C=i&&B.createElement(rse,{connectWallet:k,wallet:i}),j=i&&g.t("get_options.title",{wallet:f&&i.shortName||i.name}),H="DOWNLOAD";break;case"INSTRUCTIONS_EXTENSION":C=i&&B.createElement(ise,{wallet:i}),j=i&&g.t("get_options.title",{wallet:f&&i.shortName||i.name}),H="DOWNLOAD_OPTIONS";break;case"INSTRUCTIONS_DESKTOP":C=i&&B.createElement(ose,{connectWallet:k,wallet:i}),j=i&&g.t("get_options.title",{wallet:f&&i.shortName||i.name}),H="DOWNLOAD_OPTIONS";break}return B.createElement(re,{display:"flex",flexDirection:"row",style:{maxHeight:f?468:504}},(f?I==="NONE":!0)&&B.createElement(re,{className:f?Xoe:Qoe,display:"flex",flexDirection:"column",marginTop:"16"},B.createElement(re,{display:"flex",justifyContent:"space-between"},f&&h&&B.createElement(re,{marginLeft:"16",width:"28"},B.createElement(Noe,{onClick:()=>L("LEARN_COMPACT")})),f&&!h&&B.createElement(re,{marginLeft:"16",width:"28"}),B.createElement(re,{marginLeft:f?"0":"6",paddingBottom:"8",paddingTop:"2",paddingX:"18"},B.createElement(St,{as:"h1",color:"modalText",id:e,size:"18",weight:"heavy",testId:"connect-header-label"},g.t("connect.title"))),f&&B.createElement(re,{marginRight:"16"},B.createElement(mu,{onClose:t}))),B.createElement(re,{className:Koe,paddingBottom:"18"},Object.entries(T).map(([J,Z],ce)=>Z.length>0&&B.createElement(U.Fragment,{key:ce},J?B.createElement(re,{marginBottom:"8",marginTop:"16",marginX:"6"},B.createElement(St,{color:J==="Installed"?"accentColor":"modalTextSecondary",size:"14",weight:"bold"},N.includes(J)?g.t(`connector_group.${J.toLowerCase()}`):J)):null,B.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},Z.map(oe=>B.createElement(M8,{currentlySelected:oe.id===n,iconBackground:oe.iconBackground,iconUrl:oe.iconUrl,key:oe.id,name:oe.name,onClick:()=>k(oe),ready:oe.ready,recent:oe.recent,testId:`wallet-option-${oe.id}`,isRainbowKitConnector:oe.isRainbowKitConnector})))))),f&&B.createElement(B.Fragment,null,B.createElement(re,{background:"generalBorder",height:"1",marginTop:"-1"}),h?B.createElement(re,{paddingX:"24",paddingY:"16",textAlign:"center"},B.createElement(h,{Link:XT,Text:YT})):B.createElement(re,{alignItems:"center",display:"flex",justifyContent:"space-between",paddingX:"24",paddingY:"16"},B.createElement(re,{paddingY:"4"},B.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},g.t("connect.new_to_ethereum.description"))),B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",justifyContent:"center"},B.createElement(re,{className:ir({active:"shrink",hover:"grow"}),cursor:"pointer",onClick:()=>L("LEARN_COMPACT"),paddingY:"4",style:{willChange:"transform"},transition:"default"},B.createElement(St,{color:"accentColor",size:"14",weight:"bold"},g.t("connect.new_to_ethereum.learn_more.label"))))))),(f?I!=="NONE":!0)&&B.createElement(B.Fragment,null,!f&&B.createElement(re,{background:"generalBorder",minWidth:"1",width:"1"}),B.createElement(re,{display:"flex",flexDirection:"column",margin:"16",style:{flexGrow:1}},B.createElement(re,{alignItems:"center",display:"flex",justifyContent:"space-between",marginBottom:"12"},B.createElement(re,{width:"28"},H&&B.createElement(re,{as:"button",className:ir({active:"shrinkSm",hover:"growLg"}),color:"accentColor",onClick:()=>{H&&L(H,!0),D?.()},paddingX:"8",paddingY:"4",style:{boxSizing:"content-box",height:17,willChange:"transform"},transition:"default",type:"button"},B.createElement(C8,null))),B.createElement(re,{display:"flex",justifyContent:"center",style:{flexGrow:1}},j&&B.createElement(St,{color:"modalText",size:"18",textAlign:"center",weight:"heavy"},j)),B.createElement(mu,{onClose:t})),B.createElement(re,{display:"flex",flexDirection:"column",style:{minHeight:f?396:432}},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"6",height:"full",justifyContent:"center",marginX:"8"},C)))))}var ase="_1am14412",lse="_1am14410",cse="_1am14413",use=({wallet:t})=>B.createElement("svg",{className:cse,viewBox:"0 0 86 86",width:"86",height:"86"},B.createElement("title",null,"Loading"),B.createElement("rect",{x:"3",y:"3",width:80,height:80,rx:20,ry:20,strokeDasharray:`${160/3} ${2*160/3}`,strokeDashoffset:160,className:ase,style:{stroke:t?.iconAccent||"#0D3887"}}));function D8({onClose:t,wallet:e,connecting:n}){const{connect:r,iconBackground:i,iconUrl:o,id:s,name:a,getMobileUri:l,ready:c,shortName:u,showWalletConnectModal:d}=e,f=T8(o),h=U.useRef(!1),{i18n:g}=U.useContext(ar),m=U.useCallback(async()=>{if(s!=="walletConnect"&&(async()=>{const p=await l?.();if(p)if(p&&Xie({mobileUri:p,name:a}),p.startsWith("http")){const v=document.createElement("a");v.href=p,v.target="_blank",v.rel="noreferrer noopener",v.click()}else window.location.href=p})(),d){d(),t?.();return}try{await r?.()}catch{}},[r,l,d,t,a,s]);return U.useEffect(()=>{n&&!h.current&&(m(),h.current=!0)},[n,m]),B.createElement(re,{as:"button",color:c?"modalText":"modalTextSecondary",disabled:!c,fontFamily:"body",key:s,onClick:m,ref:f,style:{overflow:"visible",textAlign:"center"},testId:`wallet-option-${s}`,type:"button",width:"full"},B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},B.createElement(re,{display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"8",paddingTop:"10",position:"relative"},n?B.createElement(use,{wallet:e}):null,B.createElement(Cr,{background:i,borderRadius:"13",boxShadow:"walletLogo",height:"60",src:o,width:"60"})),n?null:B.createElement(re,{display:"flex",flexDirection:"column",textAlign:"center"},B.createElement(St,{as:"h2",color:e.ready?"modalText":"modalTextSecondary",size:"13",weight:"medium"},B.createElement(re,{as:"span",position:"relative"},u??a,!e.ready&&" (unsupported)")),e.recent&&B.createElement(St,{color:"accentColor",size:"12",weight:"medium"},g.t("connect.recent")))))}function dse({onClose:t}){const e="rk_connect_title",n=mm().filter(h=>h.isRainbowKitConnector),{disclaimer:r,learnMoreUrl:i}=U.useContext(e0);let o=null,s=null,a=!1,l=null;const[c,u]=U.useState("CONNECT"),{i18n:d}=U.useContext(ar),f=ku();switch(c){case"CONNECT":{o=d.t("connect.title"),a=!0,s=B.createElement(re,null,B.createElement(re,{background:"profileForeground",className:lse,display:"flex",paddingBottom:"20",paddingTop:"6"},B.createElement(re,{display:"flex",style:{margin:"0 auto"}},n.filter(h=>h.ready).map(h=>B.createElement(re,{key:h.id,paddingX:"20"},B.createElement(re,{width:"60"},B.createElement(D8,{onClose:t,wallet:h})))))),B.createElement(re,{background:"generalBorder",height:"1",marginBottom:"32",marginTop:"-1"}),B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"32",paddingX:"32",style:{textAlign:"center"}},B.createElement(re,{display:"flex",flexDirection:"column",gap:"8",textAlign:"center"},B.createElement(St,{color:"modalText",size:"16",weight:"bold"},d.t("intro.title")),B.createElement(St,{color:"modalTextSecondary",size:"16"},d.t("intro.description")))),B.createElement(re,{paddingTop:"32",paddingX:"20"},B.createElement(re,{display:"flex",gap:"14",justifyContent:"center"},B.createElement(mi,{label:d.t("intro.get.label"),onClick:()=>u("GET"),size:"large",type:"secondary"}),B.createElement(mi,{href:i,label:d.t("intro.learn_more.label"),size:"large",type:"secondary"}))),r&&B.createElement(re,{marginTop:"28",marginX:"32",textAlign:"center"},B.createElement(r,{Link:XT,Text:YT})));break}case"GET":{o=d.t("get.title"),l="CONNECT";const h=n?.filter(g=>g.downloadUrls?.ios||g.downloadUrls?.android||g.downloadUrls?.mobile)?.splice(0,3);s=B.createElement(re,null,B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginBottom:"36",marginTop:"5",paddingTop:"12",width:"full"},h.map((g,m)=>{const{downloadUrls:y,iconBackground:p,iconUrl:v,name:w}=g;return!y?.ios&&!y?.android&&!y?.mobile?null:B.createElement(re,{display:"flex",gap:"16",key:g.id,paddingX:"20",width:"full"},B.createElement(re,{style:{minHeight:48,minWidth:48}},B.createElement(Cr,{background:p,borderColor:"generalBorder",borderRadius:"10",height:"48",src:v,width:"48"})),B.createElement(re,{display:"flex",flexDirection:"column",width:"full"},B.createElement(re,{alignItems:"center",display:"flex",height:"48"},B.createElement(re,{width:"full"},B.createElement(St,{color:"modalText",size:"18",weight:"bold"},w)),B.createElement(mi,{href:(f?y?.ios:y?.android)||y?.mobile,label:d.t("get.action.label"),size:"small",type:"secondary"})),m<h.length-1&&B.createElement(re,{background:"generalBorderDim",height:"1",marginY:"10",width:"full"})))})),B.createElement(re,{style:{marginBottom:"42px"}}),B.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"36",paddingX:"36",style:{textAlign:"center"}},B.createElement(re,{display:"flex",flexDirection:"column",gap:"12",textAlign:"center"},B.createElement(St,{color:"modalText",size:"16",weight:"bold"},d.t("get.looking_for.title")),B.createElement(St,{color:"modalTextSecondary",size:"16"},d.t("get.looking_for.mobile.description")))));break}}return B.createElement(re,{display:"flex",flexDirection:"column",paddingBottom:"36"},B.createElement(re,{background:a?"profileForeground":"modalBackground",display:"flex",flexDirection:"column",paddingBottom:"4",paddingTop:"14"},B.createElement(re,{display:"flex",justifyContent:"center",paddingBottom:"6",paddingX:"20",position:"relative"},l&&B.createElement(re,{display:"flex",position:"absolute",style:{left:0,marginBottom:-20,marginTop:-20}},B.createElement(re,{alignItems:"center",as:"button",className:ir({active:"shrinkSm",hover:"growLg"}),color:"accentColor",display:"flex",marginLeft:"4",marginTop:"20",onClick:()=>u(l),padding:"16",style:{height:17,willChange:"transform"},transition:"default",type:"button"},B.createElement(C8,null))),B.createElement(re,{marginTop:"4",textAlign:"center",width:"full"},B.createElement(St,{as:"h1",color:"modalText",id:e,size:"20",weight:"bold"},o)),B.createElement(re,{alignItems:"center",display:"flex",height:"32",paddingRight:"14",position:"absolute",right:"0"},B.createElement(re,{style:{marginBottom:-20,marginTop:-20}},B.createElement(mu,{onClose:t}))))),B.createElement(re,{display:"flex",flexDirection:"column"},s))}var fse=({onClose:t})=>{const{connector:e}=U.useContext(t0),{i18n:n}=U.useContext(ar),r=e?.name||"";return B.createElement(re,null,B.createElement(re,{display:"flex",paddingBottom:"32",justifyContent:"center",alignItems:"center",background:"profileForeground",flexDirection:"column"},B.createElement(re,{width:"full",display:"flex",justifyContent:"flex-end",marginTop:"18",marginRight:"24"},B.createElement(mu,{onClose:t})),B.createElement(re,{width:"60"},B.createElement(D8,{onClose:t,wallet:e,connecting:!0})),B.createElement(re,{marginTop:"20"},B.createElement(St,{textAlign:"center",color:"modalText",size:"18",weight:"semibold"},n.t("connect.status.connect_mobile",{wallet:r}))),B.createElement(re,{maxWidth:"full",marginTop:"8"},B.createElement(St,{textAlign:"center",color:"modalText",size:"16",weight:"medium"},n.t("connect.status.confirm_mobile",{wallet:r})))))};function hse({onClose:t}){const{connector:e}=U.useContext(t0);return Ir()?e?B.createElement(fse,{onClose:t}):B.createElement(dse,{onClose:t}):B.createElement(sse,{onClose:t})}function pse({onClose:t,open:e}){const n="rk_connect_title",r=zT(),{disconnect:i}=CT(),{isConnecting:o}=Tr(),s=B.useCallback(()=>{t(),i()},[t,i]),a=B.useCallback(()=>{o&&i(),t()},[t,i,o]);return r==="disconnected"?B.createElement(Nv,{onClose:a,open:e,titleId:n},B.createElement(Fv,{bottomSheetOnMobile:!0,padding:"0",wide:!0},B.createElement(hse,{onClose:a}))):r==="unauthenticated"?B.createElement(Nv,{onClose:s,open:e,titleId:n},B.createElement(Fv,{bottomSheetOnMobile:!0,padding:"0"},B.createElement(Kie,{onClose:s,onCloseModal:t}))):null}function Ex(){const[t,e]=U.useState(!1);return{closeModal:U.useCallback(()=>e(!1),[]),isModalOpen:t,openModal:U.useCallback(()=>e(!0),[])}}var Xf=U.createContext({accountModalOpen:!1,chainModalOpen:!1,connectModalOpen:!1,isWalletConnectModalOpen:!1,setIsWalletConnectModalOpen:()=>{}});function mse({children:t}){const{closeModal:e,isModalOpen:n,openModal:r}=Ex(),{closeModal:i,isModalOpen:o,openModal:s}=Ex(),{closeModal:a,isModalOpen:l,openModal:c}=Ex(),[u,d]=U.useState(!1),f=zT(),{chainId:h}=Tr(),{chains:g}=yr(),m=g.some(v=>v.id===h),y=U.useCallback(({keepConnectModalOpen:v=!1}={})=>{v||e(),i(),a()},[e,i,a]),p=w1()==="unauthenticated";return MD({onConnect:()=>y({keepConnectModalOpen:p}),onDisconnect:()=>y()}),U.useEffect(()=>{p&&y()},[p,y]),B.createElement(Xf.Provider,{value:U.useMemo(()=>({accountModalOpen:o,chainModalOpen:l,connectModalOpen:n,isWalletConnectModalOpen:u,openAccountModal:m&&f==="connected"?s:void 0,openChainModal:f==="connected"?c:void 0,openConnectModal:f==="disconnected"||f==="unauthenticated"?r:void 0,setIsWalletConnectModalOpen:d}),[f,o,l,n,s,c,r,m,u])},t,B.createElement(pse,{onClose:e,open:n}),B.createElement(Aoe,{onClose:i,open:o}),B.createElement(Roe,{onClose:a,open:l}))}function gse(){const{accountModalOpen:t,chainModalOpen:e,connectModalOpen:n}=U.useContext(Xf);return{accountModalOpen:t,chainModalOpen:e,connectModalOpen:n}}function yse(){const{accountModalOpen:t,openAccountModal:e}=U.useContext(Xf);return{accountModalOpen:t,openAccountModal:e}}function vse(){const{chainModalOpen:t,openChainModal:e}=U.useContext(Xf);return{chainModalOpen:t,openChainModal:e}}function U8(){const{isWalletConnectModalOpen:t,setIsWalletConnectModalOpen:e}=U.useContext(Xf);return{isWalletConnectModalOpen:t,setIsWalletConnectModalOpen:e}}function wse(){const{connectModalOpen:t,openConnectModal:e}=U.useContext(Xf),{isWalletConnectModalOpen:n}=U8();return{connectModalOpen:t||n,openConnectModal:e}}var Ax=()=>{};function ZT({children:t}){const e=eie(),{address:n}=Tr(),{chainId:r}=Tr(),{chains:i}=yr(),o=i.some(W=>W.id===r),s=Jre(),a=w1()??void 0,l=r?s[r]:void 0,c=l?.name??void 0,u=l?.iconUrl??void 0,d=l?.iconBackground??void 0,f=b1(u),h=U.useContext(WT),g=l8().some(({status:W})=>W==="pending")&&h,{showBalance:m}=n8(),p=typeof m=="boolean"?m:m?qU(m)[Ir()?"smallScreen":"largeScreen"]:!0,{balance:v,ensAvatar:w,ensName:x}=i8({address:n,includeBalance:p}),T=v?`${x8(Number.parseFloat(v.formatted))} ${v.symbol}`:void 0,{openConnectModal:N}=wse(),{openChainModal:A}=vse(),{openAccountModal:z}=yse(),{accountModalOpen:S,chainModalOpen:k,connectModalOpen:R}=gse();return B.createElement(B.Fragment,null,t({account:n?{address:n,balanceDecimals:v?.decimals,balanceFormatted:v?.formatted,balanceSymbol:v?.symbol,displayBalance:T,displayName:x?A8(x):E8(n),ensAvatar:w??void 0,ensName:x??void 0,hasPendingTransactions:g}:void 0,accountModalOpen:S,authenticationStatus:a,chain:r?{hasIcon:!!u,iconBackground:d,iconUrl:f,id:r,name:c,unsupported:!o}:void 0,chainModalOpen:k,connectModalOpen:R,mounted:e(),openAccountModal:z??Ax,openChainModal:A??Ax,openConnectModal:N??Ax}))}ZT.displayName="ConnectButton.Custom";var Vh={accountStatus:"full",chainStatus:{largeScreen:"full",smallScreen:"icon"},label:"Connect Wallet",showBalance:{largeScreen:!0,smallScreen:!1}};function Yf({accountStatus:t=Vh.accountStatus,chainStatus:e=Vh.chainStatus,label:n=Vh.label,showBalance:r=Vh.showBalance}){const i=Nu(),o=zT(),{setShowBalance:s}=n8(),[a,l]=U.useState(!1),{i18n:c}=U.useContext(ar);return U.useEffect(()=>{s(r),a||l(!0)},[r,s]),a?B.createElement(ZT,null,({account:u,chain:d,mounted:f,openAccountModal:h,openChainModal:g,openConnectModal:m})=>{const y=f&&o!=="loading",p=d?.unsupported??!1;return B.createElement(re,{display:"flex",gap:"12",...!y&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}}},y&&u&&o==="connected"?B.createElement(B.Fragment,null,d&&(i.length>1||p)&&B.createElement(re,{alignItems:"center","aria-label":"Chain Selector",as:"button",background:p?"connectButtonBackgroundError":"connectButtonBackground",borderRadius:"connectButton",boxShadow:"connectButton",className:ir({active:"shrink",hover:"grow"}),color:p?"connectButtonTextError":"connectButtonText",display:Wu(e,v=>v==="none"?"none":"flex"),fontFamily:"body",fontWeight:"bold",gap:"6",key:p?"unsupported":"supported",onClick:g,paddingX:"10",paddingY:"8",testId:p?"wrong-network-button":"chain-button",transition:"default",type:"button"},p?B.createElement(re,{alignItems:"center",display:"flex",height:"24",paddingX:"4"},c.t("connect_wallet.wrong_network.label")):B.createElement(re,{alignItems:"center",display:"flex",gap:"6"},d.hasIcon?B.createElement(re,{display:Wu(e,v=>v==="full"||v==="icon"?"block":"none"),height:"24",width:"24"},B.createElement(Cr,{alt:d.name??"Chain icon",background:d.iconBackground,borderRadius:"full",height:"24",src:d.iconUrl,width:"24"})):null,B.createElement(re,{display:Wu(e,v=>v==="icon"&&!d.iconUrl||v==="full"||v==="name"?"block":"none")},d.name??d.id)),B.createElement(tR,null)),!p&&B.createElement(re,{alignItems:"center",as:"button",background:"connectButtonBackground",borderRadius:"connectButton",boxShadow:"connectButton",className:ir({active:"shrink",hover:"grow"}),color:"connectButtonText",display:"flex",fontFamily:"body",fontWeight:"bold",onClick:h,testId:"account-button",transition:"default",type:"button"},u.displayBalance&&B.createElement(re,{display:Wu(r,v=>v?"block":"none"),padding:"8",paddingLeft:"12"},u.displayBalance),B.createElement(re,{background:qU(r)[Ir()?"smallScreen":"largeScreen"]?"connectButtonInnerBackground":"connectButtonBackground",borderColor:"connectButtonBackground",borderRadius:"connectButton",borderStyle:"solid",borderWidth:"2",color:"connectButtonText",fontFamily:"body",fontWeight:"bold",paddingX:"8",paddingY:"6",transition:"default"},B.createElement(re,{alignItems:"center",display:"flex",gap:"6",height:"24"},B.createElement(re,{display:Wu(t,v=>v==="full"||v==="avatar"?"block":"none")},B.createElement(ZU,{address:u.address,imageUrl:u.ensAvatar,loading:u.hasPendingTransactions,size:24})),B.createElement(re,{alignItems:"center",display:"flex",gap:"6"},B.createElement(re,{display:Wu(t,v=>v==="full"||v==="address"?"block":"none")},u.displayName),B.createElement(tR,null)))))):B.createElement(re,{as:"button",background:"accentColor",borderRadius:"connectButton",boxShadow:"connectButton",className:ir({active:"shrink",hover:"grow"}),color:"accentColorForeground",fontFamily:"body",fontWeight:"bold",height:"40",key:"connect",onClick:m,paddingX:"14",testId:"connect-button",transition:"default",type:"button"},f&&n==="Connect Wallet"?c.t("connect_wallet.label"):n))}):B.createElement(B.Fragment,null)}Yf.__defaultProps=Vh;Yf.Custom=ZT;var z8=({appName:t,appDescription:e,appUrl:n,appIcon:r})=>({name:t,description:e??t,url:n??(typeof window<"u"?window.location.origin:""),icons:[...r?[r]:[]]});function bse(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>n!==void 0))}function xse(t,e){const n=[];for(const r of t)n.some(i=>i[e]===r[e])||n.push(r);return n}var j8=(t,{projectId:e,walletConnectParameters:n,appName:r,appDescription:i,appUrl:o,appIcon:s})=>{if(!t.length)throw new Error("No wallet list was provided");for(const{wallets:h,groupName:g}of t)if(!h.length)throw new Error(`No wallets provided for group: ${g}`);let a=-1;const l=[],c=[],u=[],d=z8({appName:r,appDescription:i,appUrl:o,appIcon:s});for(const[h,{groupName:g,wallets:m}]of t.entries())for(const y of m){a++;const p=y({projectId:e,appName:r,appIcon:s,options:{metadata:d,...n},walletConnectParameters:{metadata:d,...n}});if(p?.iconAccent&&!zoe(p?.iconAccent))throw new Error(`Property \`iconAccent\` is not a hex value for wallet: ${p.name}`);const v={...p,groupIndex:h+1,groupName:g,index:a};typeof p.hidden=="function"?u.push(v):c.push(v)}const f=xse([...c,...u],"id");for(const{createConnector:h,groupIndex:g,groupName:m,hidden:y,...p}of f){if(typeof y=="function"&&y())continue;const v=T=>({rkDetails:bse({...p,groupIndex:g,groupName:m,isRainbowKitConnector:!0,...T||{}})});p.id==="walletConnect"&&l.push(h(v({isWalletConnectModalConnector:!0,showQrModal:!0})));const x=h(v());l.push(x)}return l},RR=new Map,Ese=({projectId:t,walletConnectParameters:e,rkDetailsShowQrModal:n,rkDetailsIsWalletConnectModalConnector:r})=>{let i={...e||{},projectId:t,showQrModal:!1};n&&(i={...i,showQrModal:!0}),"customStoragePrefix"in i||(i={...i,customStoragePrefix:r?"clientOne":"clientTwo"});const o=JSON.stringify(i),s=RR.get(o);if(s)return s;const a=v1(i);return RR.set(o,a),a};function Ase({projectId:t,walletDetails:e,walletConnectParameters:n}){return r=>({...Ese({projectId:t,walletConnectParameters:n,rkDetailsShowQrModal:e.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:e.rkDetails.isWalletConnectModalConnector})(r),...e})}function e3({projectId:t,walletConnectParameters:e}){const n="21fef48091f12692cad574a6f7753643";if(!t||t==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return t==="YOUR_PROJECT_ID"&&(t=n),r=>Ase({projectId:t,walletDetails:r,walletConnectParameters:e})}function G8(t){const e=typeof window<"u"?window:void 0;if(typeof e>"u"||typeof e.ethereum>"u")return;const n=e.ethereum.providers;return n?n.find(r=>r[t]):e.ethereum[t]?e.ethereum:void 0}function H8(t){const e=(n,r)=>{const[i,...o]=r.split("."),s=n[i];if(s)return o.length===0?s:e(s,o.join("."))};if(typeof window<"u")return e(window,t)}function W8({flag:t,namespace:e}){return!!(e&&typeof H8(e)<"u"||t&&typeof G8(t)<"u")}function _se({flag:t,namespace:e}){const n=typeof window<"u"?window:void 0;if(typeof n>"u")return;if(e){const i=H8(e);if(i)return i}const r=n.ethereum?.providers;if(t){const i=G8(t);if(i)return i}return typeof r<"u"&&r.length>0?r[0]:n.ethereum}function Sse(t){return e=>{const n=t?{target:()=>({id:e.rkDetails.id,name:e.rkDetails.name,provider:t})}:{};return r=>({...Ym(n)(r),...e})}}function V8({flag:t,namespace:e,target:n}){const r=n||_se({flag:t,namespace:e});return Sse(r)}var $8=({appName:t,appIcon:e})=>{const n=i=>i,r=ku();return{id:"coinbase",name:"Coinbase Wallet",shortName:"Coinbase",rdns:"com.coinbase.wallet",iconUrl:async()=>(await Xe(async()=>{const{default:i}=await import("./coinbaseWallet-OKXU3TRC-DnGdeF1T.js");return{default:i}},[])).default,iconAccent:"#2c5ff6",iconBackground:"#2c5ff6",installed:!0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-store-crypto/id1278383455",mobile:"https://coinbase.com/wallet/downloads",qrCode:"https://coinbase-wallet.onelink.me/q5Sx/fdb9b250",chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",browserExtension:"https://coinbase.com/wallet"},...r?{}:{qrCode:{getUri:n,instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-mobile",steps:[{description:"wallet_connectors.coinbase.qr_code.step1.description",step:"install",title:"wallet_connectors.coinbase.qr_code.step1.title"},{description:"wallet_connectors.coinbase.qr_code.step2.description",step:"create",title:"wallet_connectors.coinbase.qr_code.step2.title"},{description:"wallet_connectors.coinbase.qr_code.step3.description",step:"scan",title:"wallet_connectors.coinbase.qr_code.step3.title"}]}},extension:{instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-extension",steps:[{description:"wallet_connectors.coinbase.extension.step1.description",step:"install",title:"wallet_connectors.coinbase.extension.step1.title"},{description:"wallet_connectors.coinbase.extension.step2.description",step:"create",title:"wallet_connectors.coinbase.extension.step2.title"},{description:"wallet_connectors.coinbase.extension.step3.description",step:"refresh",title:"wallet_connectors.coinbase.extension.step3.title"}]}}},createConnector:i=>{const{...o}=$8,s=Zm({appName:t,appLogoUrl:e,...o});return a=>({...s(a),...i})}}};function Cse(t){return!(!t?.isMetaMask||t.isBraveWallet&&!t._events&&!t._state||t.isApexWallet||t.isAvalanche||t.isBackpack||t.isBifrost||t.isBitKeep||t.isBitski||t.isBlockWallet||t.isCoinbaseWallet||t.isDawn||t.isEnkrypt||t.isExodus||t.isFrame||t.isFrontier||t.isGamestop||t.isHyperPay||t.isImToken||t.isKuCoinWallet||t.isMathWallet||t.isNestWallet||t.isOkxWallet||t.isOKExWallet||t.isOneInchIOSWallet||t.isOneInchAndroidWallet||t.isOpera||t.isPhantom||t.isPortal||t.isRabby||t.isRainbow||t.isStatus||t.isTalisman||t.isTally||t.isTokenPocket||t.isTokenary||t.isTrust||t.isTrustWallet||t.isXDEFI||t.isZeal||t.isZerion||t.__seif)}var Tse=({projectId:t,walletConnectParameters:e})=>{const n=W8({flag:"isMetaMask"}),r=!n,i=o=>jT()?o:ku()?`metamask://wc?uri=${encodeURIComponent(o)}`:`https://metamask.app.link/wc?uri=${encodeURIComponent(o)}`;return{id:"metaMask",name:"MetaMask",rdns:"io.metamask",iconUrl:async()=>(await Xe(async()=>{const{default:o}=await import("./metaMaskWallet-SITXT2FV-BlemcphV.js");return{default:o}},[])).default,iconAccent:"#f6851a",iconBackground:"#fff",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask/id1438144202",mobile:"https://metamask.io/download",qrCode:"https://metamask.io/download",chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm",firefox:"https://addons.mozilla.org/firefox/addon/ether-metamask",opera:"https://addons.opera.com/extensions/details/metamask-10",browserExtension:"https://metamask.io/download"},mobile:{getUri:r?i:void 0},qrCode:r?{getUri:i,instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.qr_code.step1.description",step:"install",title:"wallet_connectors.metamask.qr_code.step1.title"},{description:"wallet_connectors.metamask.qr_code.step2.description",step:"create",title:"wallet_connectors.metamask.qr_code.step2.title"},{description:"wallet_connectors.metamask.qr_code.step3.description",step:"refresh",title:"wallet_connectors.metamask.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.extension.step1.description",step:"install",title:"wallet_connectors.metamask.extension.step1.title"},{description:"wallet_connectors.metamask.extension.step2.description",step:"create",title:"wallet_connectors.metamask.extension.step2.title"},{description:"wallet_connectors.metamask.extension.step3.description",step:"refresh",title:"wallet_connectors.metamask.extension.step3.title"}]}},createConnector:r?e3({projectId:t,walletConnectParameters:e}):V8({target:typeof window<"u"?window.ethereum?.providers?.find(Cse)??window.ethereum:void 0})}},Mse=({projectId:t,walletConnectParameters:e})=>{const n=W8({flag:"isRainbow"}),r=!n,i=o=>jT()?o:ku()?`rainbow://wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await Xe(async()=>{const{default:o}=await import("./rainbowWallet-O26YNBMX-DUhYus-9.js");return{default:o}},[])).default,iconBackground:"#0c2f78",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:r?i:void 0},qrCode:r?{getUri:i,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:r?e3({projectId:t,walletConnectParameters:e}):V8({flag:"isRainbow"})}},Ise=()=>({id:"safe",name:"Safe",iconAccent:"#12ff80",iconBackground:"#fff",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./safeWallet-5MNKTR5Z-D-5imDLD.js");return{default:t}},[])).default,installed:!(typeof window>"u")&&window?.parent!==window,downloadUrls:{},createConnector:t=>e=>({...UT()(e),...t})}),Rse=({projectId:t,options:e})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await Xe(async()=>{const{default:r}=await import("./walletConnectWallet-YHWKVTDY-D3lyiczV.js");return{default:r}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:r=>r},createConnector:e3({projectId:t,walletConnectParameters:e})}),Pse=t=>t.reduce((n,r)=>{const i=r.id;return n[i]=ca(),n},{}),kse=({appName:t,appDescription:e,appUrl:n,appIcon:r,wallets:i,projectId:o,...s})=>{const{transports:a,chains:l,...c}=s,u=z8({appName:t,appDescription:e,appUrl:n,appIcon:r}),d=j8(i||[{groupName:"Popular",wallets:[Ise,Mse,$8,Tse,Rse]}],{projectId:o,appName:t,appDescription:e,appUrl:n,appIcon:r,walletConnectParameters:{metadata:u}});return xD({connectors:d,chains:l,transports:a||Pse(l),...c})};const q8=U.createContext(),Ys=()=>{const t=U.useContext(q8);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},Nse=({children:t})=>{const[e,n]=U.useState([]),r=U.useRef(0),i=(l,c="info",u=3e3)=>{const d=`toast-${++r.current}-${Math.random().toString(36).substr(2,9)}-${Date.now()}`;n(f=>[...f,{id:d,message:l,type:c}]),setTimeout(()=>{n(f=>f.filter(h=>h.id!==d))},u)},o=l=>i(l,"success"),s=l=>i(l,"error"),a=l=>i(l,"info");return K(q8.Provider,{value:{showToast:i,showSuccess:o,showError:s,showInfo:a},children:[t,F("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.map(l=>F("div",{className:`status-message status-${l.type} animate-slide-in`,role:"alert",children:l.message},l.id))})]})},Fse="logger/5.8.0";let PR=!1,kR=!1;const xy={debug:1,default:2,info:2,warning:3,error:4,off:5};let NR=xy.default,_x=null;function Ose(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const FR=Ose();var H2;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(H2||(H2={}));var Ko;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ko||(Ko={}));const OR="0123456789abcdef";let Ii=class cr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();xy[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(NR>xy[r])&&console.log.apply(console,n)}debug(...e){this._log(cr.levels.DEBUG,e)}info(...e){this._log(cr.levels.INFO,e)}warn(...e){this._log(cr.levels.WARNING,e)}makeError(e,n,r){if(kR)return this.makeError("censored error",n,{});n||(n=cr.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let u="";for(let d=0;d<c.length;d++)u+=OR[c[d]>>4],u+=OR[c[d]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const o=e;let s="";switch(n){case Ko.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Ko.CALL_EXCEPTION:case Ko.INSUFFICIENT_FUNDS:case Ko.MISSING_NEW:case Ko.NONCE_EXPIRED:case Ko.REPLACEMENT_UNDERPRICED:case Ko.TRANSACTION_REPLACED:case Ko.UNPREDICTABLE_GAS_LIMIT:s=n;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=n,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,cr.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){FR&&this.throwError("platform missing String.prototype.normalize",cr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:FR})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,cr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,cr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,cr.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,cr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",cr.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",cr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",cr.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return _x||(_x=new cr(Fse)),_x}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",cr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),PR){if(!e)return;this.globalLogger().throwError("error censorship permanent",cr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}kR=!!e,PR=!!n}static setLogLevel(e){const n=xy[e.toLowerCase()];if(n==null){cr.globalLogger().warn("invalid log level - "+e);return}NR=n}static from(e){return new cr(e)}};Ii.errors=Ko;Ii.levels=H2;const Bse="bytes/5.8.0",Ln=new Ii(Bse);function K8(t){return!!t.toHexString}function zd(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return zd(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Lse(t){return Li(t)&&!(t.length%2)||Jf(t)}function BR(t){return typeof t=="number"&&t==t&&t%1===0}function Jf(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!BR(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!BR(n)||n<0||n>=256)return!1}return!0}function qc(t,e){if(e||(e={}),typeof t=="number"){Ln.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),zd(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),K8(t)&&(t=t.toHexString()),Li(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Ln.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return zd(new Uint8Array(r))}return Jf(t)?zd(new Uint8Array(t)):Ln.throwArgumentError("invalid arrayify value","value",t)}function u_e(t){const e=t.map(i=>qc(i)),n=e.reduce((i,o)=>i+o.length,0),r=new Uint8Array(n);return e.reduce((i,o)=>(r.set(o,i),i+o.length),0),zd(r)}function d_e(t){let e=qc(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function Dse(t,e){t=qc(t),t.length>e&&Ln.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),zd(n)}function Li(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Sx="0123456789abcdef";function ii(t,e){if(e||(e={}),typeof t=="number"){Ln.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=Sx[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),K8(t))return t.toHexString();if(Li(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Ln.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Jf(t)){let n="0x";for(let r=0;r<t.length;r++){let i=t[r];n+=Sx[(i&240)>>4]+Sx[i&15]}return n}return Ln.throwArgumentError("invalid hexlify value","value",t)}function f_e(t){if(typeof t!="string")t=ii(t);else if(!Li(t)||t.length%2)return null;return(t.length-2)/2}function h_e(t,e,n){return typeof t!="string"?t=ii(t):(!Li(t)||t.length%2)&&Ln.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function p_e(t){let e="0x";return t.forEach(n=>{e+=ii(n).substring(2)}),e}function Use(t){const e=Q8(ii(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function Q8(t){typeof t!="string"&&(t=ii(t)),Li(t)||Ln.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function hp(t,e){for(typeof t!="string"?t=ii(t):Li(t)||Ln.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Ln.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function m_e(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Lse(t)){let n=qc(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=ii(n.slice(0,32)),e.s=ii(n.slice(32,64))):n.length===65?(e.r=ii(n.slice(0,32)),e.s=ii(n.slice(32,64)),e.v=n[64]):Ln.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Ln.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=ii(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Dse(qc(e._vs),32);e._vs=ii(i);const o=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=o:e.recoveryParam!==o&&Ln.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const s=ii(i);e.s==null?e.s=s:e.s!==s&&Ln.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Ln.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Ln.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Li(e.r)?Ln.throwArgumentError("signature missing or invalid r","signature",t):e.r=hp(e.r,32),e.s==null||!Li(e.s)?Ln.throwArgumentError("signature missing or invalid s","signature",t):e.s=hp(e.s,32);const n=qc(e.s);n[0]>=128&&Ln.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=ii(n);e._vs&&(Li(e._vs)||Ln.throwArgumentError("signature invalid _vs","signature",t),e._vs=hp(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&Ln.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var t3={exports:{}};t3.exports;(function(t){(function(e,n){function r(L,b){if(!L)throw new Error(b||"Assertion failed")}function i(L,b){L.super_=b;var E=function(){};E.prototype=b.prototype,L.prototype=new E,L.prototype.constructor=L}function o(L,b,E){if(o.isBN(L))return L;this.negative=0,this.words=null,this.length=0,this.red=null,L!==null&&((b==="le"||b==="be")&&(E=b,b=10),this._init(L||0,b||10,E||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=US.Buffer}catch{}o.isBN=function(b){return b instanceof o?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===o.wordSize&&Array.isArray(b.words)},o.max=function(b,E){return b.cmp(E)>0?b:E},o.min=function(b,E){return b.cmp(E)<0?b:E},o.prototype._init=function(b,E,I){if(typeof b=="number")return this._initNumber(b,E,I);if(typeof b=="object")return this._initArray(b,E,I);E==="hex"&&(E=16),r(E===(E|0)&&E>=2&&E<=36),b=b.toString().replace(/\s+/g,"");var O=0;b[0]==="-"&&(O++,this.negative=1),O<b.length&&(E===16?this._parseHex(b,O,I):(this._parseBase(b,E,O),I==="le"&&this._initArray(this.toArray(),E,I)))},o.prototype._initNumber=function(b,E,I){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(r(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),I==="le"&&this._initArray(this.toArray(),E,I)},o.prototype._initArray=function(b,E,I){if(r(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var C,j,H=0;if(I==="be")for(O=b.length-1,C=0;O>=0;O-=3)j=b[O]|b[O-1]<<8|b[O-2]<<16,this.words[C]|=j<<H&67108863,this.words[C+1]=j>>>26-H&67108863,H+=24,H>=26&&(H-=26,C++);else if(I==="le")for(O=0,C=0;O<b.length;O+=3)j=b[O]|b[O+1]<<8|b[O+2]<<16,this.words[C]|=j<<H&67108863,this.words[C+1]=j>>>26-H&67108863,H+=24,H>=26&&(H-=26,C++);return this._strip()};function a(L,b){var E=L.charCodeAt(b);if(E>=48&&E<=57)return E-48;if(E>=65&&E<=70)return E-55;if(E>=97&&E<=102)return E-87;r(!1,"Invalid character in "+L)}function l(L,b,E){var I=a(L,E);return E-1>=b&&(I|=a(L,E-1)<<4),I}o.prototype._parseHex=function(b,E,I){this.length=Math.ceil((b.length-E)/6),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var C=0,j=0,H;if(I==="be")for(O=b.length-1;O>=E;O-=2)H=l(b,E,O)<<C,this.words[j]|=H&67108863,C>=18?(C-=18,j+=1,this.words[j]|=H>>>26):C+=8;else{var D=b.length-E;for(O=D%2===0?E+1:E;O<b.length;O+=2)H=l(b,E,O)<<C,this.words[j]|=H&67108863,C>=18?(C-=18,j+=1,this.words[j]|=H>>>26):C+=8}this._strip()};function c(L,b,E,I){for(var O=0,C=0,j=Math.min(L.length,E),H=b;H<j;H++){var D=L.charCodeAt(H)-48;O*=I,D>=49?C=D-49+10:D>=17?C=D-17+10:C=D,r(D>=0&&C<I,"Invalid character"),O+=C}return O}o.prototype._parseBase=function(b,E,I){this.words=[0],this.length=1;for(var O=0,C=1;C<=67108863;C*=E)O++;O--,C=C/E|0;for(var j=b.length-I,H=j%O,D=Math.min(j,j-H)+I,M=0,$=I;$<D;$+=O)M=c(b,$,$+O,E),this.imuln(C),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(H!==0){var J=1;for(M=c(b,$,b.length,E),$=0;$<H;$++)J*=E;this.imuln(J),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this._strip()},o.prototype.copy=function(b){b.words=new Array(this.length);for(var E=0;E<this.length;E++)b.words[E]=this.words[E];b.length=this.length,b.negative=this.negative,b.red=this.red};function u(L,b){L.words=b.words,L.length=b.length,L.negative=b.negative,L.red=b.red}if(o.prototype._move=function(b){u(b,this)},o.prototype.clone=function(){var b=new o(null);return this.copy(b),b},o.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(b,E){b=b||10,E=E|0||1;var I;if(b===16||b==="hex"){I="";for(var O=0,C=0,j=0;j<this.length;j++){var H=this.words[j],D=((H<<O|C)&16777215).toString(16);C=H>>>24-O&16777215,O+=2,O>=26&&(O-=26,j--),C!==0||j!==this.length-1?I=f[6-D.length]+D+I:I=D+I}for(C!==0&&(I=C.toString(16)+I);I.length%E!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}if(b===(b|0)&&b>=2&&b<=36){var M=h[b],$=g[b];I="";var J=this.clone();for(J.negative=0;!J.isZero();){var Z=J.modrn($).toString(b);J=J.idivn($),J.isZero()?I=Z+I:I=f[M-Z.length]+Z+I}for(this.isZero()&&(I="0"+I);I.length%E!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(b,E){return this.toArrayLike(s,b,E)}),o.prototype.toArray=function(b,E){return this.toArrayLike(Array,b,E)};var m=function(b,E){return b.allocUnsafe?b.allocUnsafe(E):new b(E)};o.prototype.toArrayLike=function(b,E,I){this._strip();var O=this.byteLength(),C=I||Math.max(1,O);r(O<=C,"byte array longer than desired length"),r(C>0,"Requested array length <= 0");var j=m(b,C),H=E==="le"?"LE":"BE";return this["_toArrayLike"+H](j,O),j},o.prototype._toArrayLikeLE=function(b,E){for(var I=0,O=0,C=0,j=0;C<this.length;C++){var H=this.words[C]<<j|O;b[I++]=H&255,I<b.length&&(b[I++]=H>>8&255),I<b.length&&(b[I++]=H>>16&255),j===6?(I<b.length&&(b[I++]=H>>24&255),O=0,j=0):(O=H>>>24,j+=2)}if(I<b.length)for(b[I++]=O;I<b.length;)b[I++]=0},o.prototype._toArrayLikeBE=function(b,E){for(var I=b.length-1,O=0,C=0,j=0;C<this.length;C++){var H=this.words[C]<<j|O;b[I--]=H&255,I>=0&&(b[I--]=H>>8&255),I>=0&&(b[I--]=H>>16&255),j===6?(I>=0&&(b[I--]=H>>24&255),O=0,j=0):(O=H>>>24,j+=2)}if(I>=0)for(b[I--]=O;I>=0;)b[I--]=0},Math.clz32?o.prototype._countBits=function(b){return 32-Math.clz32(b)}:o.prototype._countBits=function(b){var E=b,I=0;return E>=4096&&(I+=13,E>>>=13),E>=64&&(I+=7,E>>>=7),E>=8&&(I+=4,E>>>=4),E>=2&&(I+=2,E>>>=2),I+E},o.prototype._zeroBits=function(b){if(b===0)return 26;var E=b,I=0;return E&8191||(I+=13,E>>>=13),E&127||(I+=7,E>>>=7),E&15||(I+=4,E>>>=4),E&3||(I+=2,E>>>=2),E&1||I++,I},o.prototype.bitLength=function(){var b=this.words[this.length-1],E=this._countBits(b);return(this.length-1)*26+E};function y(L){for(var b=new Array(L.bitLength()),E=0;E<b.length;E++){var I=E/26|0,O=E%26;b[E]=L.words[I]>>>O&1}return b}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,E=0;E<this.length;E++){var I=this._zeroBits(this.words[E]);if(b+=I,I!==26)break}return b},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},o.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var E=0;E<b.length;E++)this.words[E]=this.words[E]|b.words[E];return this._strip()},o.prototype.ior=function(b){return r((this.negative|b.negative)===0),this.iuor(b)},o.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},o.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},o.prototype.iuand=function(b){var E;this.length>b.length?E=b:E=this;for(var I=0;I<E.length;I++)this.words[I]=this.words[I]&b.words[I];return this.length=E.length,this._strip()},o.prototype.iand=function(b){return r((this.negative|b.negative)===0),this.iuand(b)},o.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},o.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},o.prototype.iuxor=function(b){var E,I;this.length>b.length?(E=this,I=b):(E=b,I=this);for(var O=0;O<I.length;O++)this.words[O]=E.words[O]^I.words[O];if(this!==E)for(;O<E.length;O++)this.words[O]=E.words[O];return this.length=E.length,this._strip()},o.prototype.ixor=function(b){return r((this.negative|b.negative)===0),this.iuxor(b)},o.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},o.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},o.prototype.inotn=function(b){r(typeof b=="number"&&b>=0);var E=Math.ceil(b/26)|0,I=b%26;this._expand(E),I>0&&E--;for(var O=0;O<E;O++)this.words[O]=~this.words[O]&67108863;return I>0&&(this.words[O]=~this.words[O]&67108863>>26-I),this._strip()},o.prototype.notn=function(b){return this.clone().inotn(b)},o.prototype.setn=function(b,E){r(typeof b=="number"&&b>=0);var I=b/26|0,O=b%26;return this._expand(I+1),E?this.words[I]=this.words[I]|1<<O:this.words[I]=this.words[I]&~(1<<O),this._strip()},o.prototype.iadd=function(b){var E;if(this.negative!==0&&b.negative===0)return this.negative=0,E=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,E=this.isub(b),b.negative=1,E._normSign();var I,O;this.length>b.length?(I=this,O=b):(I=b,O=this);for(var C=0,j=0;j<O.length;j++)E=(I.words[j]|0)+(O.words[j]|0)+C,this.words[j]=E&67108863,C=E>>>26;for(;C!==0&&j<I.length;j++)E=(I.words[j]|0)+C,this.words[j]=E&67108863,C=E>>>26;if(this.length=I.length,C!==0)this.words[this.length]=C,this.length++;else if(I!==this)for(;j<I.length;j++)this.words[j]=I.words[j];return this},o.prototype.add=function(b){var E;return b.negative!==0&&this.negative===0?(b.negative=0,E=this.sub(b),b.negative^=1,E):b.negative===0&&this.negative!==0?(this.negative=0,E=b.sub(this),this.negative=1,E):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},o.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var E=this.iadd(b);return b.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var I=this.cmp(b);if(I===0)return this.negative=0,this.length=1,this.words[0]=0,this;var O,C;I>0?(O=this,C=b):(O=b,C=this);for(var j=0,H=0;H<C.length;H++)E=(O.words[H]|0)-(C.words[H]|0)+j,j=E>>26,this.words[H]=E&67108863;for(;j!==0&&H<O.length;H++)E=(O.words[H]|0)+j,j=E>>26,this.words[H]=E&67108863;if(j===0&&H<O.length&&O!==this)for(;H<O.length;H++)this.words[H]=O.words[H];return this.length=Math.max(this.length,H),O!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(b){return this.clone().isub(b)};function p(L,b,E){E.negative=b.negative^L.negative;var I=L.length+b.length|0;E.length=I,I=I-1|0;var O=L.words[0]|0,C=b.words[0]|0,j=O*C,H=j&67108863,D=j/67108864|0;E.words[0]=H;for(var M=1;M<I;M++){for(var $=D>>>26,J=D&67108863,Z=Math.min(M,b.length-1),ce=Math.max(0,M-L.length+1);ce<=Z;ce++){var oe=M-ce|0;O=L.words[oe]|0,C=b.words[ce]|0,j=O*C+J,$+=j/67108864|0,J=j&67108863}E.words[M]=J|0,D=$|0}return D!==0?E.words[M]=D|0:E.length--,E._strip()}var v=function(b,E,I){var O=b.words,C=E.words,j=I.words,H=0,D,M,$,J=O[0]|0,Z=J&8191,ce=J>>>13,oe=O[1]|0,Ee=oe&8191,de=oe>>>13,Re=O[2]|0,ae=Re&8191,we=Re>>>13,qe=O[3]|0,te=qe&8191,We=qe>>>13,Ke=O[4]|0,ct=Ke&8191,Ze=Ke>>>13,Nt=O[5]|0,st=Nt&8191,X=Nt>>>13,V=O[6]|0,fe=V&8191,_e=V>>>13,Ie=O[7]|0,ge=Ie&8191,G=Ie>>>13,_=O[8]|0,P=_&8191,Q=_>>>13,Y=O[9]|0,ee=Y&8191,ne=Y>>>13,De=C[0]|0,Ne=De&8191,$e=De>>>13,ht=C[1]|0,it=ht&8191,le=ht>>>13,ot=C[2]|0,xe=ot&8191,Te=ot>>>13,nt=C[3]|0,Ge=nt&8191,ut=nt>>>13,un=C[4]|0,Ft=un&8191,Mt=un>>>13,lr=C[5]|0,Kt=lr&8191,ie=lr>>>13,me=C[6]|0,ve=me&8191,Me=me>>>13,et=C[7]|0,at=et&8191,rt=et>>>13,pt=C[8]|0,Ye=pt&8191,Qe=pt>>>13,Et=C[9]|0,wt=Et&8191,Ct=Et>>>13;I.negative=b.negative^E.negative,I.length=19,D=Math.imul(Z,Ne),M=Math.imul(Z,$e),M=M+Math.imul(ce,Ne)|0,$=Math.imul(ce,$e);var gn=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(gn>>>26)|0,gn&=67108863,D=Math.imul(Ee,Ne),M=Math.imul(Ee,$e),M=M+Math.imul(de,Ne)|0,$=Math.imul(de,$e),D=D+Math.imul(Z,it)|0,M=M+Math.imul(Z,le)|0,M=M+Math.imul(ce,it)|0,$=$+Math.imul(ce,le)|0;var q=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(q>>>26)|0,q&=67108863,D=Math.imul(ae,Ne),M=Math.imul(ae,$e),M=M+Math.imul(we,Ne)|0,$=Math.imul(we,$e),D=D+Math.imul(Ee,it)|0,M=M+Math.imul(Ee,le)|0,M=M+Math.imul(de,it)|0,$=$+Math.imul(de,le)|0,D=D+Math.imul(Z,xe)|0,M=M+Math.imul(Z,Te)|0,M=M+Math.imul(ce,xe)|0,$=$+Math.imul(ce,Te)|0;var se=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(se>>>26)|0,se&=67108863,D=Math.imul(te,Ne),M=Math.imul(te,$e),M=M+Math.imul(We,Ne)|0,$=Math.imul(We,$e),D=D+Math.imul(ae,it)|0,M=M+Math.imul(ae,le)|0,M=M+Math.imul(we,it)|0,$=$+Math.imul(we,le)|0,D=D+Math.imul(Ee,xe)|0,M=M+Math.imul(Ee,Te)|0,M=M+Math.imul(de,xe)|0,$=$+Math.imul(de,Te)|0,D=D+Math.imul(Z,Ge)|0,M=M+Math.imul(Z,ut)|0,M=M+Math.imul(ce,Ge)|0,$=$+Math.imul(ce,ut)|0;var ye=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(ye>>>26)|0,ye&=67108863,D=Math.imul(ct,Ne),M=Math.imul(ct,$e),M=M+Math.imul(Ze,Ne)|0,$=Math.imul(Ze,$e),D=D+Math.imul(te,it)|0,M=M+Math.imul(te,le)|0,M=M+Math.imul(We,it)|0,$=$+Math.imul(We,le)|0,D=D+Math.imul(ae,xe)|0,M=M+Math.imul(ae,Te)|0,M=M+Math.imul(we,xe)|0,$=$+Math.imul(we,Te)|0,D=D+Math.imul(Ee,Ge)|0,M=M+Math.imul(Ee,ut)|0,M=M+Math.imul(de,Ge)|0,$=$+Math.imul(de,ut)|0,D=D+Math.imul(Z,Ft)|0,M=M+Math.imul(Z,Mt)|0,M=M+Math.imul(ce,Ft)|0,$=$+Math.imul(ce,Mt)|0;var be=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(be>>>26)|0,be&=67108863,D=Math.imul(st,Ne),M=Math.imul(st,$e),M=M+Math.imul(X,Ne)|0,$=Math.imul(X,$e),D=D+Math.imul(ct,it)|0,M=M+Math.imul(ct,le)|0,M=M+Math.imul(Ze,it)|0,$=$+Math.imul(Ze,le)|0,D=D+Math.imul(te,xe)|0,M=M+Math.imul(te,Te)|0,M=M+Math.imul(We,xe)|0,$=$+Math.imul(We,Te)|0,D=D+Math.imul(ae,Ge)|0,M=M+Math.imul(ae,ut)|0,M=M+Math.imul(we,Ge)|0,$=$+Math.imul(we,ut)|0,D=D+Math.imul(Ee,Ft)|0,M=M+Math.imul(Ee,Mt)|0,M=M+Math.imul(de,Ft)|0,$=$+Math.imul(de,Mt)|0,D=D+Math.imul(Z,Kt)|0,M=M+Math.imul(Z,ie)|0,M=M+Math.imul(ce,Kt)|0,$=$+Math.imul(ce,ie)|0;var he=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(he>>>26)|0,he&=67108863,D=Math.imul(fe,Ne),M=Math.imul(fe,$e),M=M+Math.imul(_e,Ne)|0,$=Math.imul(_e,$e),D=D+Math.imul(st,it)|0,M=M+Math.imul(st,le)|0,M=M+Math.imul(X,it)|0,$=$+Math.imul(X,le)|0,D=D+Math.imul(ct,xe)|0,M=M+Math.imul(ct,Te)|0,M=M+Math.imul(Ze,xe)|0,$=$+Math.imul(Ze,Te)|0,D=D+Math.imul(te,Ge)|0,M=M+Math.imul(te,ut)|0,M=M+Math.imul(We,Ge)|0,$=$+Math.imul(We,ut)|0,D=D+Math.imul(ae,Ft)|0,M=M+Math.imul(ae,Mt)|0,M=M+Math.imul(we,Ft)|0,$=$+Math.imul(we,Mt)|0,D=D+Math.imul(Ee,Kt)|0,M=M+Math.imul(Ee,ie)|0,M=M+Math.imul(de,Kt)|0,$=$+Math.imul(de,ie)|0,D=D+Math.imul(Z,ve)|0,M=M+Math.imul(Z,Me)|0,M=M+Math.imul(ce,ve)|0,$=$+Math.imul(ce,Me)|0;var Ue=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,D=Math.imul(ge,Ne),M=Math.imul(ge,$e),M=M+Math.imul(G,Ne)|0,$=Math.imul(G,$e),D=D+Math.imul(fe,it)|0,M=M+Math.imul(fe,le)|0,M=M+Math.imul(_e,it)|0,$=$+Math.imul(_e,le)|0,D=D+Math.imul(st,xe)|0,M=M+Math.imul(st,Te)|0,M=M+Math.imul(X,xe)|0,$=$+Math.imul(X,Te)|0,D=D+Math.imul(ct,Ge)|0,M=M+Math.imul(ct,ut)|0,M=M+Math.imul(Ze,Ge)|0,$=$+Math.imul(Ze,ut)|0,D=D+Math.imul(te,Ft)|0,M=M+Math.imul(te,Mt)|0,M=M+Math.imul(We,Ft)|0,$=$+Math.imul(We,Mt)|0,D=D+Math.imul(ae,Kt)|0,M=M+Math.imul(ae,ie)|0,M=M+Math.imul(we,Kt)|0,$=$+Math.imul(we,ie)|0,D=D+Math.imul(Ee,ve)|0,M=M+Math.imul(Ee,Me)|0,M=M+Math.imul(de,ve)|0,$=$+Math.imul(de,Me)|0,D=D+Math.imul(Z,at)|0,M=M+Math.imul(Z,rt)|0,M=M+Math.imul(ce,at)|0,$=$+Math.imul(ce,rt)|0;var Je=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(Je>>>26)|0,Je&=67108863,D=Math.imul(P,Ne),M=Math.imul(P,$e),M=M+Math.imul(Q,Ne)|0,$=Math.imul(Q,$e),D=D+Math.imul(ge,it)|0,M=M+Math.imul(ge,le)|0,M=M+Math.imul(G,it)|0,$=$+Math.imul(G,le)|0,D=D+Math.imul(fe,xe)|0,M=M+Math.imul(fe,Te)|0,M=M+Math.imul(_e,xe)|0,$=$+Math.imul(_e,Te)|0,D=D+Math.imul(st,Ge)|0,M=M+Math.imul(st,ut)|0,M=M+Math.imul(X,Ge)|0,$=$+Math.imul(X,ut)|0,D=D+Math.imul(ct,Ft)|0,M=M+Math.imul(ct,Mt)|0,M=M+Math.imul(Ze,Ft)|0,$=$+Math.imul(Ze,Mt)|0,D=D+Math.imul(te,Kt)|0,M=M+Math.imul(te,ie)|0,M=M+Math.imul(We,Kt)|0,$=$+Math.imul(We,ie)|0,D=D+Math.imul(ae,ve)|0,M=M+Math.imul(ae,Me)|0,M=M+Math.imul(we,ve)|0,$=$+Math.imul(we,Me)|0,D=D+Math.imul(Ee,at)|0,M=M+Math.imul(Ee,rt)|0,M=M+Math.imul(de,at)|0,$=$+Math.imul(de,rt)|0,D=D+Math.imul(Z,Ye)|0,M=M+Math.imul(Z,Qe)|0,M=M+Math.imul(ce,Ye)|0,$=$+Math.imul(ce,Qe)|0;var gt=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(gt>>>26)|0,gt&=67108863,D=Math.imul(ee,Ne),M=Math.imul(ee,$e),M=M+Math.imul(ne,Ne)|0,$=Math.imul(ne,$e),D=D+Math.imul(P,it)|0,M=M+Math.imul(P,le)|0,M=M+Math.imul(Q,it)|0,$=$+Math.imul(Q,le)|0,D=D+Math.imul(ge,xe)|0,M=M+Math.imul(ge,Te)|0,M=M+Math.imul(G,xe)|0,$=$+Math.imul(G,Te)|0,D=D+Math.imul(fe,Ge)|0,M=M+Math.imul(fe,ut)|0,M=M+Math.imul(_e,Ge)|0,$=$+Math.imul(_e,ut)|0,D=D+Math.imul(st,Ft)|0,M=M+Math.imul(st,Mt)|0,M=M+Math.imul(X,Ft)|0,$=$+Math.imul(X,Mt)|0,D=D+Math.imul(ct,Kt)|0,M=M+Math.imul(ct,ie)|0,M=M+Math.imul(Ze,Kt)|0,$=$+Math.imul(Ze,ie)|0,D=D+Math.imul(te,ve)|0,M=M+Math.imul(te,Me)|0,M=M+Math.imul(We,ve)|0,$=$+Math.imul(We,Me)|0,D=D+Math.imul(ae,at)|0,M=M+Math.imul(ae,rt)|0,M=M+Math.imul(we,at)|0,$=$+Math.imul(we,rt)|0,D=D+Math.imul(Ee,Ye)|0,M=M+Math.imul(Ee,Qe)|0,M=M+Math.imul(de,Ye)|0,$=$+Math.imul(de,Qe)|0,D=D+Math.imul(Z,wt)|0,M=M+Math.imul(Z,Ct)|0,M=M+Math.imul(ce,wt)|0,$=$+Math.imul(ce,Ct)|0;var mt=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(mt>>>26)|0,mt&=67108863,D=Math.imul(ee,it),M=Math.imul(ee,le),M=M+Math.imul(ne,it)|0,$=Math.imul(ne,le),D=D+Math.imul(P,xe)|0,M=M+Math.imul(P,Te)|0,M=M+Math.imul(Q,xe)|0,$=$+Math.imul(Q,Te)|0,D=D+Math.imul(ge,Ge)|0,M=M+Math.imul(ge,ut)|0,M=M+Math.imul(G,Ge)|0,$=$+Math.imul(G,ut)|0,D=D+Math.imul(fe,Ft)|0,M=M+Math.imul(fe,Mt)|0,M=M+Math.imul(_e,Ft)|0,$=$+Math.imul(_e,Mt)|0,D=D+Math.imul(st,Kt)|0,M=M+Math.imul(st,ie)|0,M=M+Math.imul(X,Kt)|0,$=$+Math.imul(X,ie)|0,D=D+Math.imul(ct,ve)|0,M=M+Math.imul(ct,Me)|0,M=M+Math.imul(Ze,ve)|0,$=$+Math.imul(Ze,Me)|0,D=D+Math.imul(te,at)|0,M=M+Math.imul(te,rt)|0,M=M+Math.imul(We,at)|0,$=$+Math.imul(We,rt)|0,D=D+Math.imul(ae,Ye)|0,M=M+Math.imul(ae,Qe)|0,M=M+Math.imul(we,Ye)|0,$=$+Math.imul(we,Qe)|0,D=D+Math.imul(Ee,wt)|0,M=M+Math.imul(Ee,Ct)|0,M=M+Math.imul(de,wt)|0,$=$+Math.imul(de,Ct)|0;var Tt=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,D=Math.imul(ee,xe),M=Math.imul(ee,Te),M=M+Math.imul(ne,xe)|0,$=Math.imul(ne,Te),D=D+Math.imul(P,Ge)|0,M=M+Math.imul(P,ut)|0,M=M+Math.imul(Q,Ge)|0,$=$+Math.imul(Q,ut)|0,D=D+Math.imul(ge,Ft)|0,M=M+Math.imul(ge,Mt)|0,M=M+Math.imul(G,Ft)|0,$=$+Math.imul(G,Mt)|0,D=D+Math.imul(fe,Kt)|0,M=M+Math.imul(fe,ie)|0,M=M+Math.imul(_e,Kt)|0,$=$+Math.imul(_e,ie)|0,D=D+Math.imul(st,ve)|0,M=M+Math.imul(st,Me)|0,M=M+Math.imul(X,ve)|0,$=$+Math.imul(X,Me)|0,D=D+Math.imul(ct,at)|0,M=M+Math.imul(ct,rt)|0,M=M+Math.imul(Ze,at)|0,$=$+Math.imul(Ze,rt)|0,D=D+Math.imul(te,Ye)|0,M=M+Math.imul(te,Qe)|0,M=M+Math.imul(We,Ye)|0,$=$+Math.imul(We,Qe)|0,D=D+Math.imul(ae,wt)|0,M=M+Math.imul(ae,Ct)|0,M=M+Math.imul(we,wt)|0,$=$+Math.imul(we,Ct)|0;var Rt=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,D=Math.imul(ee,Ge),M=Math.imul(ee,ut),M=M+Math.imul(ne,Ge)|0,$=Math.imul(ne,ut),D=D+Math.imul(P,Ft)|0,M=M+Math.imul(P,Mt)|0,M=M+Math.imul(Q,Ft)|0,$=$+Math.imul(Q,Mt)|0,D=D+Math.imul(ge,Kt)|0,M=M+Math.imul(ge,ie)|0,M=M+Math.imul(G,Kt)|0,$=$+Math.imul(G,ie)|0,D=D+Math.imul(fe,ve)|0,M=M+Math.imul(fe,Me)|0,M=M+Math.imul(_e,ve)|0,$=$+Math.imul(_e,Me)|0,D=D+Math.imul(st,at)|0,M=M+Math.imul(st,rt)|0,M=M+Math.imul(X,at)|0,$=$+Math.imul(X,rt)|0,D=D+Math.imul(ct,Ye)|0,M=M+Math.imul(ct,Qe)|0,M=M+Math.imul(Ze,Ye)|0,$=$+Math.imul(Ze,Qe)|0,D=D+Math.imul(te,wt)|0,M=M+Math.imul(te,Ct)|0,M=M+Math.imul(We,wt)|0,$=$+Math.imul(We,Ct)|0;var yt=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(yt>>>26)|0,yt&=67108863,D=Math.imul(ee,Ft),M=Math.imul(ee,Mt),M=M+Math.imul(ne,Ft)|0,$=Math.imul(ne,Mt),D=D+Math.imul(P,Kt)|0,M=M+Math.imul(P,ie)|0,M=M+Math.imul(Q,Kt)|0,$=$+Math.imul(Q,ie)|0,D=D+Math.imul(ge,ve)|0,M=M+Math.imul(ge,Me)|0,M=M+Math.imul(G,ve)|0,$=$+Math.imul(G,Me)|0,D=D+Math.imul(fe,at)|0,M=M+Math.imul(fe,rt)|0,M=M+Math.imul(_e,at)|0,$=$+Math.imul(_e,rt)|0,D=D+Math.imul(st,Ye)|0,M=M+Math.imul(st,Qe)|0,M=M+Math.imul(X,Ye)|0,$=$+Math.imul(X,Qe)|0,D=D+Math.imul(ct,wt)|0,M=M+Math.imul(ct,Ct)|0,M=M+Math.imul(Ze,wt)|0,$=$+Math.imul(Ze,Ct)|0;var ft=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(ft>>>26)|0,ft&=67108863,D=Math.imul(ee,Kt),M=Math.imul(ee,ie),M=M+Math.imul(ne,Kt)|0,$=Math.imul(ne,ie),D=D+Math.imul(P,ve)|0,M=M+Math.imul(P,Me)|0,M=M+Math.imul(Q,ve)|0,$=$+Math.imul(Q,Me)|0,D=D+Math.imul(ge,at)|0,M=M+Math.imul(ge,rt)|0,M=M+Math.imul(G,at)|0,$=$+Math.imul(G,rt)|0,D=D+Math.imul(fe,Ye)|0,M=M+Math.imul(fe,Qe)|0,M=M+Math.imul(_e,Ye)|0,$=$+Math.imul(_e,Qe)|0,D=D+Math.imul(st,wt)|0,M=M+Math.imul(st,Ct)|0,M=M+Math.imul(X,wt)|0,$=$+Math.imul(X,Ct)|0;var ue=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(ue>>>26)|0,ue&=67108863,D=Math.imul(ee,ve),M=Math.imul(ee,Me),M=M+Math.imul(ne,ve)|0,$=Math.imul(ne,Me),D=D+Math.imul(P,at)|0,M=M+Math.imul(P,rt)|0,M=M+Math.imul(Q,at)|0,$=$+Math.imul(Q,rt)|0,D=D+Math.imul(ge,Ye)|0,M=M+Math.imul(ge,Qe)|0,M=M+Math.imul(G,Ye)|0,$=$+Math.imul(G,Qe)|0,D=D+Math.imul(fe,wt)|0,M=M+Math.imul(fe,Ct)|0,M=M+Math.imul(_e,wt)|0,$=$+Math.imul(_e,Ct)|0;var Be=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(Be>>>26)|0,Be&=67108863,D=Math.imul(ee,at),M=Math.imul(ee,rt),M=M+Math.imul(ne,at)|0,$=Math.imul(ne,rt),D=D+Math.imul(P,Ye)|0,M=M+Math.imul(P,Qe)|0,M=M+Math.imul(Q,Ye)|0,$=$+Math.imul(Q,Qe)|0,D=D+Math.imul(ge,wt)|0,M=M+Math.imul(ge,Ct)|0,M=M+Math.imul(G,wt)|0,$=$+Math.imul(G,Ct)|0;var Oe=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,D=Math.imul(ee,Ye),M=Math.imul(ee,Qe),M=M+Math.imul(ne,Ye)|0,$=Math.imul(ne,Qe),D=D+Math.imul(P,wt)|0,M=M+Math.imul(P,Ct)|0,M=M+Math.imul(Q,wt)|0,$=$+Math.imul(Q,Ct)|0;var Pe=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,D=Math.imul(ee,wt),M=Math.imul(ee,Ct),M=M+Math.imul(ne,wt)|0,$=Math.imul(ne,Ct);var He=(H+D|0)+((M&8191)<<13)|0;return H=($+(M>>>13)|0)+(He>>>26)|0,He&=67108863,j[0]=gn,j[1]=q,j[2]=se,j[3]=ye,j[4]=be,j[5]=he,j[6]=Ue,j[7]=Je,j[8]=gt,j[9]=mt,j[10]=Tt,j[11]=Rt,j[12]=yt,j[13]=ft,j[14]=ue,j[15]=Be,j[16]=Oe,j[17]=Pe,j[18]=He,H!==0&&(j[19]=H,I.length++),I};Math.imul||(v=p);function w(L,b,E){E.negative=b.negative^L.negative,E.length=L.length+b.length;for(var I=0,O=0,C=0;C<E.length-1;C++){var j=O;O=0;for(var H=I&67108863,D=Math.min(C,b.length-1),M=Math.max(0,C-L.length+1);M<=D;M++){var $=C-M,J=L.words[$]|0,Z=b.words[M]|0,ce=J*Z,oe=ce&67108863;j=j+(ce/67108864|0)|0,oe=oe+H|0,H=oe&67108863,j=j+(oe>>>26)|0,O+=j>>>26,j&=67108863}E.words[C]=H,I=j,j=O}return I!==0?E.words[C]=I:E.length--,E._strip()}function x(L,b,E){return w(L,b,E)}o.prototype.mulTo=function(b,E){var I,O=this.length+b.length;return this.length===10&&b.length===10?I=v(this,b,E):O<63?I=p(this,b,E):O<1024?I=w(this,b,E):I=x(this,b,E),I},o.prototype.mul=function(b){var E=new o(null);return E.words=new Array(this.length+b.length),this.mulTo(b,E)},o.prototype.mulf=function(b){var E=new o(null);return E.words=new Array(this.length+b.length),x(this,b,E)},o.prototype.imul=function(b){return this.clone().mulTo(b,this)},o.prototype.imuln=function(b){var E=b<0;E&&(b=-b),r(typeof b=="number"),r(b<67108864);for(var I=0,O=0;O<this.length;O++){var C=(this.words[O]|0)*b,j=(C&67108863)+(I&67108863);I>>=26,I+=C/67108864|0,I+=j>>>26,this.words[O]=j&67108863}return I!==0&&(this.words[O]=I,this.length++),this.length=b===0?1:this.length,E?this.ineg():this},o.prototype.muln=function(b){return this.clone().imuln(b)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(b){var E=y(b);if(E.length===0)return new o(1);for(var I=this,O=0;O<E.length&&E[O]===0;O++,I=I.sqr());if(++O<E.length)for(var C=I.sqr();O<E.length;O++,C=C.sqr())E[O]!==0&&(I=I.mul(C));return I},o.prototype.iushln=function(b){r(typeof b=="number"&&b>=0);var E=b%26,I=(b-E)/26,O=67108863>>>26-E<<26-E,C;if(E!==0){var j=0;for(C=0;C<this.length;C++){var H=this.words[C]&O,D=(this.words[C]|0)-H<<E;this.words[C]=D|j,j=H>>>26-E}j&&(this.words[C]=j,this.length++)}if(I!==0){for(C=this.length-1;C>=0;C--)this.words[C+I]=this.words[C];for(C=0;C<I;C++)this.words[C]=0;this.length+=I}return this._strip()},o.prototype.ishln=function(b){return r(this.negative===0),this.iushln(b)},o.prototype.iushrn=function(b,E,I){r(typeof b=="number"&&b>=0);var O;E?O=(E-E%26)/26:O=0;var C=b%26,j=Math.min((b-C)/26,this.length),H=67108863^67108863>>>C<<C,D=I;if(O-=j,O=Math.max(0,O),D){for(var M=0;M<j;M++)D.words[M]=this.words[M];D.length=j}if(j!==0)if(this.length>j)for(this.length-=j,M=0;M<this.length;M++)this.words[M]=this.words[M+j];else this.words[0]=0,this.length=1;var $=0;for(M=this.length-1;M>=0&&($!==0||M>=O);M--){var J=this.words[M]|0;this.words[M]=$<<26-C|J>>>C,$=J&H}return D&&$!==0&&(D.words[D.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(b,E,I){return r(this.negative===0),this.iushrn(b,E,I)},o.prototype.shln=function(b){return this.clone().ishln(b)},o.prototype.ushln=function(b){return this.clone().iushln(b)},o.prototype.shrn=function(b){return this.clone().ishrn(b)},o.prototype.ushrn=function(b){return this.clone().iushrn(b)},o.prototype.testn=function(b){r(typeof b=="number"&&b>=0);var E=b%26,I=(b-E)/26,O=1<<E;if(this.length<=I)return!1;var C=this.words[I];return!!(C&O)},o.prototype.imaskn=function(b){r(typeof b=="number"&&b>=0);var E=b%26,I=(b-E)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=I)return this;if(E!==0&&I++,this.length=Math.min(I,this.length),E!==0){var O=67108863^67108863>>>E<<E;this.words[this.length-1]&=O}return this._strip()},o.prototype.maskn=function(b){return this.clone().imaskn(b)},o.prototype.iaddn=function(b){return r(typeof b=="number"),r(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<=b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},o.prototype._iaddn=function(b){this.words[0]+=b;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},o.prototype.isubn=function(b){if(r(typeof b=="number"),r(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this._strip()},o.prototype.addn=function(b){return this.clone().iaddn(b)},o.prototype.subn=function(b){return this.clone().isubn(b)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(b,E,I){var O=b.length+I,C;this._expand(O);var j,H=0;for(C=0;C<b.length;C++){j=(this.words[C+I]|0)+H;var D=(b.words[C]|0)*E;j-=D&67108863,H=(j>>26)-(D/67108864|0),this.words[C+I]=j&67108863}for(;C<this.length-I;C++)j=(this.words[C+I]|0)+H,H=j>>26,this.words[C+I]=j&67108863;if(H===0)return this._strip();for(r(H===-1),H=0,C=0;C<this.length;C++)j=-(this.words[C]|0)+H,H=j>>26,this.words[C]=j&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(b,E){var I=this.length-b.length,O=this.clone(),C=b,j=C.words[C.length-1]|0,H=this._countBits(j);I=26-H,I!==0&&(C=C.ushln(I),O.iushln(I),j=C.words[C.length-1]|0);var D=O.length-C.length,M;if(E!=="mod"){M=new o(null),M.length=D+1,M.words=new Array(M.length);for(var $=0;$<M.length;$++)M.words[$]=0}var J=O.clone()._ishlnsubmul(C,1,D);J.negative===0&&(O=J,M&&(M.words[D]=1));for(var Z=D-1;Z>=0;Z--){var ce=(O.words[C.length+Z]|0)*67108864+(O.words[C.length+Z-1]|0);for(ce=Math.min(ce/j|0,67108863),O._ishlnsubmul(C,ce,Z);O.negative!==0;)ce--,O.negative=0,O._ishlnsubmul(C,1,Z),O.isZero()||(O.negative^=1);M&&(M.words[Z]=ce)}return M&&M._strip(),O._strip(),E!=="div"&&I!==0&&O.iushrn(I),{div:M||null,mod:O}},o.prototype.divmod=function(b,E,I){if(r(!b.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var O,C,j;return this.negative!==0&&b.negative===0?(j=this.neg().divmod(b,E),E!=="mod"&&(O=j.div.neg()),E!=="div"&&(C=j.mod.neg(),I&&C.negative!==0&&C.iadd(b)),{div:O,mod:C}):this.negative===0&&b.negative!==0?(j=this.divmod(b.neg(),E),E!=="mod"&&(O=j.div.neg()),{div:O,mod:j.mod}):this.negative&b.negative?(j=this.neg().divmod(b.neg(),E),E!=="div"&&(C=j.mod.neg(),I&&C.negative!==0&&C.isub(b)),{div:j.div,mod:C}):b.length>this.length||this.cmp(b)<0?{div:new o(0),mod:this}:b.length===1?E==="div"?{div:this.divn(b.words[0]),mod:null}:E==="mod"?{div:null,mod:new o(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new o(this.modrn(b.words[0]))}:this._wordDiv(b,E)},o.prototype.div=function(b){return this.divmod(b,"div",!1).div},o.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},o.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},o.prototype.divRound=function(b){var E=this.divmod(b);if(E.mod.isZero())return E.div;var I=E.div.negative!==0?E.mod.isub(b):E.mod,O=b.ushrn(1),C=b.andln(1),j=I.cmp(O);return j<0||C===1&&j===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},o.prototype.modrn=function(b){var E=b<0;E&&(b=-b),r(b<=67108863);for(var I=(1<<26)%b,O=0,C=this.length-1;C>=0;C--)O=(I*O+(this.words[C]|0))%b;return E?-O:O},o.prototype.modn=function(b){return this.modrn(b)},o.prototype.idivn=function(b){var E=b<0;E&&(b=-b),r(b<=67108863);for(var I=0,O=this.length-1;O>=0;O--){var C=(this.words[O]|0)+I*67108864;this.words[O]=C/b|0,I=C%b}return this._strip(),E?this.ineg():this},o.prototype.divn=function(b){return this.clone().idivn(b)},o.prototype.egcd=function(b){r(b.negative===0),r(!b.isZero());var E=this,I=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var O=new o(1),C=new o(0),j=new o(0),H=new o(1),D=0;E.isEven()&&I.isEven();)E.iushrn(1),I.iushrn(1),++D;for(var M=I.clone(),$=E.clone();!E.isZero();){for(var J=0,Z=1;!(E.words[0]&Z)&&J<26;++J,Z<<=1);if(J>0)for(E.iushrn(J);J-- >0;)(O.isOdd()||C.isOdd())&&(O.iadd(M),C.isub($)),O.iushrn(1),C.iushrn(1);for(var ce=0,oe=1;!(I.words[0]&oe)&&ce<26;++ce,oe<<=1);if(ce>0)for(I.iushrn(ce);ce-- >0;)(j.isOdd()||H.isOdd())&&(j.iadd(M),H.isub($)),j.iushrn(1),H.iushrn(1);E.cmp(I)>=0?(E.isub(I),O.isub(j),C.isub(H)):(I.isub(E),j.isub(O),H.isub(C))}return{a:j,b:H,gcd:I.iushln(D)}},o.prototype._invmp=function(b){r(b.negative===0),r(!b.isZero());var E=this,I=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var O=new o(1),C=new o(0),j=I.clone();E.cmpn(1)>0&&I.cmpn(1)>0;){for(var H=0,D=1;!(E.words[0]&D)&&H<26;++H,D<<=1);if(H>0)for(E.iushrn(H);H-- >0;)O.isOdd()&&O.iadd(j),O.iushrn(1);for(var M=0,$=1;!(I.words[0]&$)&&M<26;++M,$<<=1);if(M>0)for(I.iushrn(M);M-- >0;)C.isOdd()&&C.iadd(j),C.iushrn(1);E.cmp(I)>=0?(E.isub(I),O.isub(C)):(I.isub(E),C.isub(O))}var J;return E.cmpn(1)===0?J=O:J=C,J.cmpn(0)<0&&J.iadd(b),J},o.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var E=this.clone(),I=b.clone();E.negative=0,I.negative=0;for(var O=0;E.isEven()&&I.isEven();O++)E.iushrn(1),I.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;I.isEven();)I.iushrn(1);var C=E.cmp(I);if(C<0){var j=E;E=I,I=j}else if(C===0||I.cmpn(1)===0)break;E.isub(I)}while(!0);return I.iushln(O)},o.prototype.invm=function(b){return this.egcd(b).a.umod(b)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(b){return this.words[0]&b},o.prototype.bincn=function(b){r(typeof b=="number");var E=b%26,I=(b-E)/26,O=1<<E;if(this.length<=I)return this._expand(I+1),this.words[I]|=O,this;for(var C=O,j=I;C!==0&&j<this.length;j++){var H=this.words[j]|0;H+=C,C=H>>>26,H&=67108863,this.words[j]=H}return C!==0&&(this.words[j]=C,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(b){var E=b<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this._strip();var I;if(this.length>1)I=1;else{E&&(b=-b),r(b<=67108863,"Number is too big");var O=this.words[0]|0;I=O===b?0:O<b?-1:1}return this.negative!==0?-I|0:I},o.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var E=this.ucmp(b);return this.negative!==0?-E|0:E},o.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var E=0,I=this.length-1;I>=0;I--){var O=this.words[I]|0,C=b.words[I]|0;if(O!==C){O<C?E=-1:O>C&&(E=1);break}}return E},o.prototype.gtn=function(b){return this.cmpn(b)===1},o.prototype.gt=function(b){return this.cmp(b)===1},o.prototype.gten=function(b){return this.cmpn(b)>=0},o.prototype.gte=function(b){return this.cmp(b)>=0},o.prototype.ltn=function(b){return this.cmpn(b)===-1},o.prototype.lt=function(b){return this.cmp(b)===-1},o.prototype.lten=function(b){return this.cmpn(b)<=0},o.prototype.lte=function(b){return this.cmp(b)<=0},o.prototype.eqn=function(b){return this.cmpn(b)===0},o.prototype.eq=function(b){return this.cmp(b)===0},o.red=function(b){return new R(b)},o.prototype.toRed=function(b){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(b){return this.red=b,this},o.prototype.forceRed=function(b){return r(!this.red,"Already a number in reduction context"),this._forceRed(b)},o.prototype.redAdd=function(b){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},o.prototype.redIAdd=function(b){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},o.prototype.redSub=function(b){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},o.prototype.redISub=function(b){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},o.prototype.redShl=function(b){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},o.prototype.redMul=function(b){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},o.prototype.redIMul=function(b){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(b){return r(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var T={k256:null,p224:null,p192:null,p25519:null};function N(L,b){this.name=L,this.p=new o(b,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}N.prototype._tmp=function(){var b=new o(null);return b.words=new Array(Math.ceil(this.n/13)),b},N.prototype.ireduce=function(b){var E=b,I;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),I=E.bitLength();while(I>this.n);var O=I<this.n?-1:E.ucmp(this.p);return O===0?(E.words[0]=0,E.length=1):O>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},N.prototype.split=function(b,E){b.iushrn(this.n,0,E)},N.prototype.imulK=function(b){return b.imul(this.k)};function A(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(A,N),A.prototype.split=function(b,E){for(var I=4194303,O=Math.min(b.length,9),C=0;C<O;C++)E.words[C]=b.words[C];if(E.length=O,b.length<=9){b.words[0]=0,b.length=1;return}var j=b.words[9];for(E.words[E.length++]=j&I,C=10;C<b.length;C++){var H=b.words[C]|0;b.words[C-10]=(H&I)<<4|j>>>22,j=H}j>>>=22,b.words[C-10]=j,j===0&&b.length>10?b.length-=10:b.length-=9},A.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var E=0,I=0;I<b.length;I++){var O=b.words[I]|0;E+=O*977,b.words[I]=E&67108863,E=O*64+(E/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function z(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,N);function S(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(S,N);function k(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(k,N),k.prototype.imulK=function(b){for(var E=0,I=0;I<b.length;I++){var O=(b.words[I]|0)*19+E,C=O&67108863;O>>>=26,b.words[I]=C,E=O}return E!==0&&(b.words[b.length++]=E),b},o._prime=function(b){if(T[b])return T[b];var E;if(b==="k256")E=new A;else if(b==="p224")E=new z;else if(b==="p192")E=new S;else if(b==="p25519")E=new k;else throw new Error("Unknown prime "+b);return T[b]=E,E};function R(L){if(typeof L=="string"){var b=o._prime(L);this.m=b.p,this.prime=b}else r(L.gtn(1),"modulus must be greater than 1"),this.m=L,this.prime=null}R.prototype._verify1=function(b){r(b.negative===0,"red works only with positives"),r(b.red,"red works only with red numbers")},R.prototype._verify2=function(b,E){r((b.negative|E.negative)===0,"red works only with positives"),r(b.red&&b.red===E.red,"red works only with red numbers")},R.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):(u(b,b.umod(this.m)._forceRed(this)),b)},R.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},R.prototype.add=function(b,E){this._verify2(b,E);var I=b.add(E);return I.cmp(this.m)>=0&&I.isub(this.m),I._forceRed(this)},R.prototype.iadd=function(b,E){this._verify2(b,E);var I=b.iadd(E);return I.cmp(this.m)>=0&&I.isub(this.m),I},R.prototype.sub=function(b,E){this._verify2(b,E);var I=b.sub(E);return I.cmpn(0)<0&&I.iadd(this.m),I._forceRed(this)},R.prototype.isub=function(b,E){this._verify2(b,E);var I=b.isub(E);return I.cmpn(0)<0&&I.iadd(this.m),I},R.prototype.shl=function(b,E){return this._verify1(b),this.imod(b.ushln(E))},R.prototype.imul=function(b,E){return this._verify2(b,E),this.imod(b.imul(E))},R.prototype.mul=function(b,E){return this._verify2(b,E),this.imod(b.mul(E))},R.prototype.isqr=function(b){return this.imul(b,b.clone())},R.prototype.sqr=function(b){return this.mul(b,b)},R.prototype.sqrt=function(b){if(b.isZero())return b.clone();var E=this.m.andln(3);if(r(E%2===1),E===3){var I=this.m.add(new o(1)).iushrn(2);return this.pow(b,I)}for(var O=this.m.subn(1),C=0;!O.isZero()&&O.andln(1)===0;)C++,O.iushrn(1);r(!O.isZero());var j=new o(1).toRed(this),H=j.redNeg(),D=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new o(2*M*M).toRed(this);this.pow(M,D).cmp(H)!==0;)M.redIAdd(H);for(var $=this.pow(M,O),J=this.pow(b,O.addn(1).iushrn(1)),Z=this.pow(b,O),ce=C;Z.cmp(j)!==0;){for(var oe=Z,Ee=0;oe.cmp(j)!==0;Ee++)oe=oe.redSqr();r(Ee<ce);var de=this.pow($,new o(1).iushln(ce-Ee-1));J=J.redMul(de),$=de.redSqr(),Z=Z.redMul($),ce=Ee}return J},R.prototype.invm=function(b){var E=b._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},R.prototype.pow=function(b,E){if(E.isZero())return new o(1).toRed(this);if(E.cmpn(1)===0)return b.clone();var I=4,O=new Array(1<<I);O[0]=new o(1).toRed(this),O[1]=b;for(var C=2;C<O.length;C++)O[C]=this.mul(O[C-1],b);var j=O[0],H=0,D=0,M=E.bitLength()%26;for(M===0&&(M=26),C=E.length-1;C>=0;C--){for(var $=E.words[C],J=M-1;J>=0;J--){var Z=$>>J&1;if(j!==O[0]&&(j=this.sqr(j)),Z===0&&H===0){D=0;continue}H<<=1,H|=Z,D++,!(D!==I&&(C!==0||J!==0))&&(j=this.mul(j,O[H]),D=0,H=0)}M=26}return j},R.prototype.convertTo=function(b){var E=b.umod(this.m);return E===b?E.clone():E},R.prototype.convertFrom=function(b){var E=b.clone();return E.red=null,E},o.mont=function(b){return new W(b)};function W(L){R.call(this,L),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(W,R),W.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},W.prototype.convertFrom=function(b){var E=this.imod(b.mul(this.rinv));return E.red=null,E},W.prototype.imul=function(b,E){if(b.isZero()||E.isZero())return b.words[0]=0,b.length=1,b;var I=b.imul(E),O=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=I.isub(O).iushrn(this.shift),j=C;return C.cmp(this.m)>=0?j=C.isub(this.m):C.cmpn(0)<0&&(j=C.iadd(this.m)),j._forceRed(this)},W.prototype.mul=function(b,E){if(b.isZero()||E.isZero())return new o(0)._forceRed(this);var I=b.mul(E),O=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=I.isub(O).iushrn(this.shift),j=C;return C.cmp(this.m)>=0?j=C.isub(this.m):C.cmpn(0)<0&&(j=C.iadd(this.m)),j._forceRed(this)},W.prototype.invm=function(b){var E=this.imod(b._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(t,tF)})(t3);var zse=t3.exports;const jse=km(zse),X8="bignumber/5.8.0";var Ov=jse.BN;const ua=new Ii(X8),Cx={},LR=9007199254740991;function Gse(t){return t!=null&&($t.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Li(t)||typeof t=="bigint"||Jf(t))}let DR=!1;class $t{constructor(e,n){e!==Cx&&ua.throwError("cannot call constructor directly; use BigNumber.from",Ii.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return bi(Vt(this).fromTwos(e))}toTwos(e){return bi(Vt(this).toTwos(e))}abs(){return this._hex[0]==="-"?$t.from(this._hex.substring(1)):this}add(e){return bi(Vt(this).add(Vt(e)))}sub(e){return bi(Vt(this).sub(Vt(e)))}div(e){return $t.from(e).isZero()&&mo("division-by-zero","div"),bi(Vt(this).div(Vt(e)))}mul(e){return bi(Vt(this).mul(Vt(e)))}mod(e){const n=Vt(e);return n.isNeg()&&mo("division-by-zero","mod"),bi(Vt(this).umod(n))}pow(e){const n=Vt(e);return n.isNeg()&&mo("negative-power","pow"),bi(Vt(this).pow(n))}and(e){const n=Vt(e);return(this.isNegative()||n.isNeg())&&mo("unbound-bitwise-result","and"),bi(Vt(this).and(n))}or(e){const n=Vt(e);return(this.isNegative()||n.isNeg())&&mo("unbound-bitwise-result","or"),bi(Vt(this).or(n))}xor(e){const n=Vt(e);return(this.isNegative()||n.isNeg())&&mo("unbound-bitwise-result","xor"),bi(Vt(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&mo("negative-width","mask"),bi(Vt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&mo("negative-width","shl"),bi(Vt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&mo("negative-width","shr"),bi(Vt(this).shrn(e))}eq(e){return Vt(this).eq(Vt(e))}lt(e){return Vt(this).lt(Vt(e))}lte(e){return Vt(this).lte(Vt(e))}gt(e){return Vt(this).gt(Vt(e))}gte(e){return Vt(this).gte(Vt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Vt(this).isZero()}toNumber(){try{return Vt(this).toNumber()}catch{mo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ua.throwError("this platform does not support BigInt",Ii.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?DR||(DR=!0,ua.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ua.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ii.errors.UNEXPECTED_ARGUMENT,{}):ua.throwError("BigNumber.toString does not accept parameters",Ii.errors.UNEXPECTED_ARGUMENT,{})),Vt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof $t)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new $t(Cx,gm(e)):e.match(/^-?[0-9]+$/)?new $t(Cx,gm(new Ov(e))):ua.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&mo("underflow","BigNumber.from",e),(e>=LR||e<=-LR)&&mo("overflow","BigNumber.from",e),$t.from(String(e));const n=e;if(typeof n=="bigint")return $t.from(n.toString());if(Jf(n))return $t.from(ii(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return $t.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(Li(r)||r[0]==="-"&&Li(r.substring(1))))return $t.from(r)}return ua.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function gm(t){if(typeof t!="string")return gm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&ua.throwArgumentError("invalid hex","value",t),t=gm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function bi(t){return $t.from(gm(t))}function Vt(t){const e=$t.from(t).toHexString();return e[0]==="-"?new Ov("-"+e.substring(3),16):new Ov(e.substring(2),16)}function mo(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),ua.throwError(t,Ii.errors.NUMERIC_FAULT,r)}function g_e(t){return new Ov(t,36).toString(16)}const ai=new Ii(X8),pp={},Y8=$t.from(0),J8=$t.from(-1);function Z8(t,e,n,r){const i={fault:e,operation:n};return r!==void 0&&(i.value=r),ai.throwError(t,Ii.errors.NUMERIC_FAULT,i)}let mp="0";for(;mp.length<256;)mp+=mp;function n3(t){if(typeof t!="number")try{t=$t.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+mp.substring(0,t):ai.throwArgumentError("invalid decimal size","decimals",t)}function Ey(t,e){e==null&&(e=0);const n=n3(e);t=$t.from(t);const r=t.lt(Y8);r&&(t=t.mul(J8));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(n).toString();return n.length===1?t=o:t=o+"."+i,r&&(t="-"+t),t}function ta(t,e){e==null&&(e=0);const n=n3(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&ai.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&ai.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&ai.throwArgumentError("too many decimal points","value",t);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>n.length-1&&Z8("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<n.length-1;)s+="0";const a=$t.from(o),l=$t.from(s);let c=a.mul(n).add(l);return r&&(c=c.mul(J8)),c}class jd{constructor(e,n,r,i){e!==pp&&ai.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Ii.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=i,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=n3(i),Object.freeze(this)}static from(e){if(e instanceof jd)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||ai.throwArgumentError("invalid fixed format","format",e),n=o[1]!=="u",r=parseInt(o[2]),i=parseInt(o[3])}}else if(e){const o=(s,a,l)=>e[s]==null?l:(typeof e[s]!==a&&ai.throwArgumentError("invalid fixed format ("+s+" not "+a+")","format."+s,e[s]),e[s]);n=o("signed","boolean",n),r=o("width","number",r),i=o("decimals","number",i)}return r%8&&ai.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&ai.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new jd(pp,n,r,i)}}class Rr{constructor(e,n,r,i){e!==pp&&ai.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Ii.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&ai.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=ta(this._value,this.format.decimals),r=ta(e._value,e.format.decimals);return Rr.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=ta(this._value,this.format.decimals),r=ta(e._value,e.format.decimals);return Rr.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=ta(this._value,this.format.decimals),r=ta(e._value,e.format.decimals);return Rr.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=ta(this._value,this.format.decimals),r=ta(e._value,e.format.decimals);return Rr.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Rr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(UR.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Rr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(UR.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&ai.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=Rr.from("1"+mp.substring(0,e),this.format),i=Hse.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&ai.throwArgumentError("invalid byte width","width",e);const n=$t.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return hp(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Rr.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!Gse(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),Rr.fromString(Ey(e,n),jd.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=jd.from(n),i=ta(e,r.decimals);!r.signed&&i.lt(Y8)&&Z8("unsigned value cannot be negative","overflow","value",e);let o=null;r.signed?o=i.toTwos(r.width).toHexString():(o=i.toHexString(),o=hp(o,r.width/8));const s=Ey(i,r.decimals);return new Rr(pp,o,s,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=jd.from(n);if(qc(e).length>r.width/8)throw new Error("overflow");let i=$t.from(e);r.signed&&(i=i.fromTwos(r.width));const o=i.toTwos((r.signed?0:1)+r.width).toHexString(),s=Ey(i,r.decimals);return new Rr(pp,o,s,r)}static from(e,n){if(typeof e=="string")return Rr.fromString(e,n);if(Jf(e))return Rr.fromBytes(e,n);try{return Rr.fromValue(e,0,n)}catch(r){if(r.code!==Ii.errors.INVALID_ARGUMENT)throw r}return ai.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const UR=Rr.from(1),Hse=Rr.from("0.5"),Wse=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Vse(t,e){if(typeof e=="string"){const n=Wse.indexOf(e);n!==-1&&(e=3*n)}return Ey(t,e??18)}function e7(t,e){return function(){return t.apply(e,arguments)}}const{toString:$se}=Object.prototype,{getPrototypeOf:r3}=Object,{iterator:E1,toStringTag:t7}=Symbol,A1=(t=>e=>{const n=$se.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ys=t=>(t=t.toLowerCase(),e=>A1(e)===t),_1=t=>e=>typeof e===t,{isArray:Zf}=Array,ym=_1("undefined");function qse(t){return t!==null&&!ym(t)&&t.constructor!==null&&!ym(t.constructor)&&Di(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const n7=ys("ArrayBuffer");function Kse(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&n7(t.buffer),e}const Qse=_1("string"),Di=_1("function"),r7=_1("number"),S1=t=>t!==null&&typeof t=="object",Xse=t=>t===!0||t===!1,Ay=t=>{if(A1(t)!=="object")return!1;const e=r3(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(t7 in t)&&!(E1 in t)},Yse=ys("Date"),Jse=ys("File"),Zse=ys("Blob"),eae=ys("FileList"),tae=t=>S1(t)&&Di(t.pipe),nae=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Di(t.append)&&((e=A1(t))==="formdata"||e==="object"&&Di(t.toString)&&t.toString()==="[object FormData]"))},rae=ys("URLSearchParams"),[iae,oae,sae,aae]=["ReadableStream","Request","Response","Headers"].map(ys),lae=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function r0(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Zf(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function i7(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Bc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,o7=t=>!ym(t)&&t!==Bc;function W2(){const{caseless:t}=o7(this)&&this||{},e={},n=(r,i)=>{const o=t&&i7(e,i)||i;Ay(e[o])&&Ay(r)?e[o]=W2(e[o],r):Ay(r)?e[o]=W2({},r):Zf(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&r0(arguments[r],n);return e}const cae=(t,e,n,{allOwnKeys:r}={})=>(r0(e,(i,o)=>{n&&Di(i)?t[o]=e7(i,n):t[o]=i},{allOwnKeys:r}),t),uae=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),dae=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},fae=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&r3(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},hae=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},pae=t=>{if(!t)return null;if(Zf(t))return t;let e=t.length;if(!r7(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},mae=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&r3(Uint8Array)),gae=(t,e)=>{const r=(t&&t[E1]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},yae=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},vae=ys("HTMLFormElement"),wae=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),zR=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),bae=ys("RegExp"),s7=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};r0(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},xae=t=>{s7(t,(e,n)=>{if(Di(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Di(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Eae=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Zf(t)?r(t):r(String(t).split(e)),n},Aae=()=>{},_ae=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Sae(t){return!!(t&&Di(t.append)&&t[t7]==="FormData"&&t[E1])}const Cae=t=>{const e=new Array(10),n=(r,i)=>{if(S1(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Zf(r)?[]:{};return r0(r,(s,a)=>{const l=n(s,i+1);!ym(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},Tae=ys("AsyncFunction"),Mae=t=>t&&(S1(t)||Di(t))&&Di(t.then)&&Di(t.catch),a7=((t,e)=>t?setImmediate:e?((n,r)=>(Bc.addEventListener("message",({source:i,data:o})=>{i===Bc&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Bc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Di(Bc.postMessage)),Iae=typeof queueMicrotask<"u"?queueMicrotask.bind(Bc):typeof process<"u"&&process.nextTick||a7,Rae=t=>t!=null&&Di(t[E1]),Ce={isArray:Zf,isArrayBuffer:n7,isBuffer:qse,isFormData:nae,isArrayBufferView:Kse,isString:Qse,isNumber:r7,isBoolean:Xse,isObject:S1,isPlainObject:Ay,isReadableStream:iae,isRequest:oae,isResponse:sae,isHeaders:aae,isUndefined:ym,isDate:Yse,isFile:Jse,isBlob:Zse,isRegExp:bae,isFunction:Di,isStream:tae,isURLSearchParams:rae,isTypedArray:mae,isFileList:eae,forEach:r0,merge:W2,extend:cae,trim:lae,stripBOM:uae,inherits:dae,toFlatObject:fae,kindOf:A1,kindOfTest:ys,endsWith:hae,toArray:pae,forEachEntry:gae,matchAll:yae,isHTMLForm:vae,hasOwnProperty:zR,hasOwnProp:zR,reduceDescriptors:s7,freezeMethods:xae,toObjectSet:Eae,toCamelCase:wae,noop:Aae,toFiniteNumber:_ae,findKey:i7,global:Bc,isContextDefined:o7,isSpecCompliantForm:Sae,toJSONObject:Cae,isAsyncFn:Tae,isThenable:Mae,setImmediate:a7,asap:Iae,isIterable:Rae};function Bt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ce.inherits(Bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ce.toJSONObject(this.config),code:this.code,status:this.status}}});const l7=Bt.prototype,c7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{c7[t]={value:t}});Object.defineProperties(Bt,c7);Object.defineProperty(l7,"isAxiosError",{value:!0});Bt.from=(t,e,n,r,i,o)=>{const s=Object.create(l7);return Ce.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Bt.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const Pae=null;function V2(t){return Ce.isPlainObject(t)||Ce.isArray(t)}function u7(t){return Ce.endsWith(t,"[]")?t.slice(0,-2):t}function jR(t,e,n){return t?t.concat(e).map(function(i,o){return i=u7(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function kae(t){return Ce.isArray(t)&&!t.some(V2)}const Nae=Ce.toFlatObject(Ce,{},null,function(e){return/^is[A-Z]/.test(e)});function C1(t,e,n){if(!Ce.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ce.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!Ce.isUndefined(y[m])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ce.isSpecCompliantForm(e);if(!Ce.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(Ce.isDate(g))return g.toISOString();if(Ce.isBoolean(g))return g.toString();if(!l&&Ce.isBlob(g))throw new Bt("Blob is not supported. Use a Buffer instead.");return Ce.isArrayBuffer(g)||Ce.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,y){let p=g;if(g&&!y&&typeof g=="object"){if(Ce.endsWith(m,"{}"))m=r?m:m.slice(0,-2),g=JSON.stringify(g);else if(Ce.isArray(g)&&kae(g)||(Ce.isFileList(g)||Ce.endsWith(m,"[]"))&&(p=Ce.toArray(g)))return m=u7(m),p.forEach(function(w,x){!(Ce.isUndefined(w)||w===null)&&e.append(s===!0?jR([m],x,o):s===null?m:m+"[]",c(w))}),!1}return V2(g)?!0:(e.append(jR(y,m,o),c(g)),!1)}const d=[],f=Object.assign(Nae,{defaultVisitor:u,convertValue:c,isVisitable:V2});function h(g,m){if(!Ce.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(g),Ce.forEach(g,function(p,v){(!(Ce.isUndefined(p)||p===null)&&i.call(e,p,Ce.isString(v)?v.trim():v,m,f))===!0&&h(p,m?m.concat(v):[v])}),d.pop()}}if(!Ce.isObject(t))throw new TypeError("data must be an object");return h(t),e}function GR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function i3(t,e){this._pairs=[],t&&C1(t,this,e)}const d7=i3.prototype;d7.append=function(e,n){this._pairs.push([e,n])};d7.toString=function(e){const n=e?function(r){return e.call(this,r,GR)}:GR;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Fae(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function f7(t,e,n){if(!e)return t;const r=n&&n.encode||Fae;Ce.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=Ce.isURLSearchParams(e)?e.toString():new i3(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class HR{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ce.forEach(this.handlers,function(r){r!==null&&e(r)})}}const h7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Oae=typeof URLSearchParams<"u"?URLSearchParams:i3,Bae=typeof FormData<"u"?FormData:null,Lae=typeof Blob<"u"?Blob:null,Dae={isBrowser:!0,classes:{URLSearchParams:Oae,FormData:Bae,Blob:Lae},protocols:["http","https","file","blob","url","data"]},o3=typeof window<"u"&&typeof document<"u",$2=typeof navigator=="object"&&navigator||void 0,Uae=o3&&(!$2||["ReactNative","NativeScript","NS"].indexOf($2.product)<0),zae=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jae=o3&&window.location.href||"http://localhost",Gae=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:o3,hasStandardBrowserEnv:Uae,hasStandardBrowserWebWorkerEnv:zae,navigator:$2,origin:jae},Symbol.toStringTag,{value:"Module"})),Qr={...Gae,...Dae};function Hae(t,e){return C1(t,new Qr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Qr.isNode&&Ce.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Wae(t){return Ce.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Vae(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function p7(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&Ce.isArray(i)?i.length:s,l?(Ce.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!Ce.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&Ce.isArray(i[s])&&(i[s]=Vae(i[s])),!a)}if(Ce.isFormData(t)&&Ce.isFunction(t.entries)){const n={};return Ce.forEachEntry(t,(r,i)=>{e(Wae(r),i,n,0)}),n}return null}function $ae(t,e,n){if(Ce.isString(t))try{return(e||JSON.parse)(t),Ce.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const i0={transitional:h7,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=Ce.isObject(e);if(o&&Ce.isHTMLForm(e)&&(e=new FormData(e)),Ce.isFormData(e))return i?JSON.stringify(p7(e)):e;if(Ce.isArrayBuffer(e)||Ce.isBuffer(e)||Ce.isStream(e)||Ce.isFile(e)||Ce.isBlob(e)||Ce.isReadableStream(e))return e;if(Ce.isArrayBufferView(e))return e.buffer;if(Ce.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Hae(e,this.formSerializer).toString();if((a=Ce.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return C1(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),$ae(e)):e}],transformResponse:[function(e){const n=this.transitional||i0.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ce.isResponse(e)||Ce.isReadableStream(e))return e;if(e&&Ce.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Bt.from(a,Bt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qr.classes.FormData,Blob:Qr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ce.forEach(["delete","get","head","post","put","patch"],t=>{i0.headers[t]={}});const qae=Ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kae=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&qae[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},WR=Symbol("internals");function Th(t){return t&&String(t).trim().toLowerCase()}function _y(t){return t===!1||t==null?t:Ce.isArray(t)?t.map(_y):String(t)}function Qae(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Xae=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Tx(t,e,n,r,i){if(Ce.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ce.isString(e)){if(Ce.isString(r))return e.indexOf(r)!==-1;if(Ce.isRegExp(r))return r.test(e)}}function Yae(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Jae(t,e){const n=Ce.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}let Ui=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,c){const u=Th(l);if(!u)throw new Error("header name must be a non-empty string");const d=Ce.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=_y(a))}const s=(a,l)=>Ce.forEach(a,(c,u)=>o(c,u,l));if(Ce.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(Ce.isString(e)&&(e=e.trim())&&!Xae(e))s(Kae(e),n);else if(Ce.isObject(e)&&Ce.isIterable(e)){let a={},l,c;for(const u of e){if(!Ce.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?Ce.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}s(a,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Th(e),e){const r=Ce.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Qae(i);if(Ce.isFunction(n))return n.call(this,i,r);if(Ce.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Th(e),e){const r=Ce.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Tx(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Th(s),s){const a=Ce.findKey(r,s);a&&(!n||Tx(r,r[a],a,n))&&(delete r[a],i=!0)}}return Ce.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Tx(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return Ce.forEach(this,(i,o)=>{const s=Ce.findKey(r,o);if(s){n[s]=_y(i),delete n[o];return}const a=e?Yae(o):String(o).trim();a!==o&&delete n[o],n[a]=_y(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ce.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ce.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[WR]=this[WR]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Th(s);r[a]||(Jae(i,s),r[a]=!0)}return Ce.isArray(e)?e.forEach(o):o(e),this}};Ui.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ce.reduceDescriptors(Ui.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ce.freezeMethods(Ui);function Mx(t,e){const n=this||i0,r=e||n,i=Ui.from(r.headers);let o=r.data;return Ce.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function m7(t){return!!(t&&t.__CANCEL__)}function eh(t,e,n){Bt.call(this,t??"canceled",Bt.ERR_CANCELED,e,n),this.name="CanceledError"}Ce.inherits(eh,Bt,{__CANCEL__:!0});function g7(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Bt("Request failed with status code "+n.status,[Bt.ERR_BAD_REQUEST,Bt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Zae(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ele(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];s||(s=c),n[i]=l,r[i]=c;let d=o,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function tle(t,e){let n=0,r=1e3/e,i,o;const s=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}const Bv=(t,e,n=3)=>{let r=0;const i=ele(50,250);return tle(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),u=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},VR=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},$R=t=>(...e)=>Ce.asap(()=>t(...e)),nle=Qr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Qr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Qr.origin),Qr.navigator&&/(msie|trident)/i.test(Qr.navigator.userAgent)):()=>!0,rle=Qr.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];Ce.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Ce.isString(r)&&s.push("path="+r),Ce.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ile(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ole(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function y7(t,e,n){let r=!ile(e);return t&&(r||n==!1)?ole(t,e):e}const qR=t=>t instanceof Ui?{...t}:t;function gu(t,e){e=e||{};const n={};function r(c,u,d,f){return Ce.isPlainObject(c)&&Ce.isPlainObject(u)?Ce.merge.call({caseless:f},c,u):Ce.isPlainObject(u)?Ce.merge({},u):Ce.isArray(u)?u.slice():u}function i(c,u,d,f){if(Ce.isUndefined(u)){if(!Ce.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function o(c,u){if(!Ce.isUndefined(u))return r(void 0,u)}function s(c,u){if(Ce.isUndefined(u)){if(!Ce.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u,d)=>i(qR(c),qR(u),d,!0)};return Ce.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);Ce.isUndefined(f)&&d!==a||(n[u]=f)}),n}const v7=t=>{const e=gu({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=Ui.from(s),e.url=f7(y7(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Ce.isFormData(n)){if(Qr.hasStandardBrowserEnv||Qr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Qr.hasStandardBrowserEnv&&(r&&Ce.isFunction(r)&&(r=r(e)),r||r!==!1&&nle(e.url))){const c=i&&o&&rle.read(o);c&&s.set(i,c)}return e},sle=typeof XMLHttpRequest<"u",ale=sle&&function(t){return new Promise(function(n,r){const i=v7(t);let o=i.data;const s=Ui.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,g;function m(){h&&h(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function p(){if(!y)return;const w=Ui.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:t,request:y};g7(function(A){n(A),m()},function(A){r(A),m()},T),y=null}"onloadend"in y?y.onloadend=p:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(p)},y.onabort=function(){y&&(r(new Bt("Request aborted",Bt.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new Bt("Network Error",Bt.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||h7;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),r(new Bt(x,T.clarifyTimeoutError?Bt.ETIMEDOUT:Bt.ECONNABORTED,t,y)),y=null},o===void 0&&s.setContentType(null),"setRequestHeader"in y&&Ce.forEach(s.toJSON(),function(x,T){y.setRequestHeader(T,x)}),Ce.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,g]=Bv(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,h]=Bv(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=w=>{y&&(r(!w||w.type?new eh(null,t,y):w),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=Zae(i.url);if(v&&Qr.protocols.indexOf(v)===-1){r(new Bt("Unsupported protocol "+v+":",Bt.ERR_BAD_REQUEST,t));return}y.send(o||null)})},lle=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Bt?u:new eh(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{s=null,o(new Bt(`timeout ${e} of ms exceeded`,Bt.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>Ce.asap(a),l}},cle=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},ule=async function*(t,e){for await(const n of dle(t))yield*cle(n,e)},dle=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},KR=(t,e,n,r)=>{const i=ule(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=o+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},T1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",w7=T1&&typeof ReadableStream=="function",fle=T1&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),b7=(t,...e)=>{try{return!!t(...e)}catch{return!1}},hle=w7&&b7(()=>{let t=!1;const e=new Request(Qr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),QR=64*1024,q2=w7&&b7(()=>Ce.isReadableStream(new Response("").body)),Lv={stream:q2&&(t=>t.body)};T1&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Lv[e]&&(Lv[e]=Ce.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Bt(`Response type '${e}' is not supported`,Bt.ERR_NOT_SUPPORT,r)})})})(new Response);const ple=async t=>{if(t==null)return 0;if(Ce.isBlob(t))return t.size;if(Ce.isSpecCompliantForm(t))return(await new Request(Qr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ce.isArrayBufferView(t)||Ce.isArrayBuffer(t))return t.byteLength;if(Ce.isURLSearchParams(t)&&(t=t+""),Ce.isString(t))return(await fle(t)).byteLength},mle=async(t,e)=>{const n=Ce.toFiniteNumber(t.getContentLength());return n??ple(e)},gle=T1&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=v7(t);c=c?(c+"").toLowerCase():"text";let h=lle([i,o&&o.toAbortSignal()],s),g;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(l&&hle&&n!=="get"&&n!=="head"&&(y=await mle(u,r))!==0){let T=new Request(e,{method:"POST",body:r,duplex:"half"}),N;if(Ce.isFormData(r)&&(N=T.headers.get("content-type"))&&u.setContentType(N),T.body){const[A,z]=VR(y,Bv($R(l)));r=KR(T.body,QR,A,z)}}Ce.isString(d)||(d=d?"include":"omit");const p="credentials"in Request.prototype;g=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:p?d:void 0});let v=await fetch(g,f);const w=q2&&(c==="stream"||c==="response");if(q2&&(a||w&&m)){const T={};["status","statusText","headers"].forEach(S=>{T[S]=v[S]});const N=Ce.toFiniteNumber(v.headers.get("content-length")),[A,z]=a&&VR(N,Bv($R(a),!0))||[];v=new Response(KR(v.body,QR,A,()=>{z&&z(),m&&m()}),T)}c=c||"text";let x=await Lv[Ce.findKey(Lv,c)||"text"](v,t);return!w&&m&&m(),await new Promise((T,N)=>{g7(T,N,{data:x,headers:Ui.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:g})})}catch(p){throw m&&m(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new Bt("Network Error",Bt.ERR_NETWORK,t,g),{cause:p.cause||p}):Bt.from(p,p&&p.code,t,g)}}),K2={http:Pae,xhr:ale,fetch:gle};Ce.forEach(K2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const XR=t=>`- ${t}`,yle=t=>Ce.isFunction(t)||t===null||t===!1,x7={getAdapter:t=>{t=Ce.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!yle(n)&&(r=K2[(s=String(n)).toLowerCase()],r===void 0))throw new Bt(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(XR).join(`
`):" "+XR(o[0]):"as no adapter specified";throw new Bt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:K2};function Ix(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new eh(null,t)}function YR(t){return Ix(t),t.headers=Ui.from(t.headers),t.data=Mx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),x7.getAdapter(t.adapter||i0.adapter)(t).then(function(r){return Ix(t),r.data=Mx.call(t,t.transformResponse,r),r.headers=Ui.from(r.headers),r},function(r){return m7(r)||(Ix(t),r&&r.response&&(r.response.data=Mx.call(t,t.transformResponse,r.response),r.response.headers=Ui.from(r.response.headers))),Promise.reject(r)})}const E7="1.10.0",M1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{M1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const JR={};M1.transitional=function(e,n,r){function i(o,s){return"[Axios v"+E7+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new Bt(i(s," has been removed"+(n?" in "+n:"")),Bt.ERR_DEPRECATED);return n&&!JR[s]&&(JR[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};M1.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function vle(t,e,n){if(typeof t!="object")throw new Bt("options must be an object",Bt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new Bt("option "+o+" must be "+l,Bt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Bt("Unknown option "+o,Bt.ERR_BAD_OPTION)}}const Sy={assertOptions:vle,validators:M1},As=Sy.validators;let Kc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new HR,response:new HR}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=gu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Sy.assertOptions(r,{silentJSONParsing:As.transitional(As.boolean),forcedJSONParsing:As.transitional(As.boolean),clarifyTimeoutError:As.transitional(As.boolean)},!1),i!=null&&(Ce.isFunction(i)?n.paramsSerializer={serialize:i}:Sy.assertOptions(i,{encode:As.function,serialize:As.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Sy.assertOptions(n,{baseUrl:As.spelling("baseURL"),withXsrfToken:As.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&Ce.merge(o.common,o[n.method]);o&&Ce.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=Ui.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const g=[YR.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,u=Promise.resolve(n);d<f;)u=u.then(g[d++],g[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const g=a[d++],m=a[d++];try{h=g(h)}catch(y){m.call(this,y);break}}try{u=YR.call(this,h)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=gu(this.defaults,e);const n=y7(e.baseURL,e.url,e.allowAbsoluteUrls);return f7(n,e.params,e.paramsSerializer)}};Ce.forEach(["delete","get","head","options"],function(e){Kc.prototype[e]=function(n,r){return this.request(gu(r||{},{method:e,url:n,data:(r||{}).data}))}});Ce.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(gu(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Kc.prototype[e]=n(),Kc.prototype[e+"Form"]=n(!0)});let wle=class A7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new eh(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new A7(function(i){e=i}),cancel:e}}};function ble(t){return function(n){return t.apply(null,n)}}function xle(t){return Ce.isObject(t)&&t.isAxiosError===!0}const Q2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Q2).forEach(([t,e])=>{Q2[e]=t});function _7(t){const e=new Kc(t),n=e7(Kc.prototype.request,e);return Ce.extend(n,Kc.prototype,e,{allOwnKeys:!0}),Ce.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return _7(gu(t,i))},n}const $n=_7(i0);$n.Axios=Kc;$n.CanceledError=eh;$n.CancelToken=wle;$n.isCancel=m7;$n.VERSION=E7;$n.toFormData=C1;$n.AxiosError=Bt;$n.Cancel=$n.CanceledError;$n.all=function(e){return Promise.all(e)};$n.spread=ble;$n.isAxiosError=xle;$n.mergeConfig=gu;$n.AxiosHeaders=Ui;$n.formToJSON=t=>p7(Ce.isHTMLForm(t)?new FormData(t):t);$n.getAdapter=x7.getAdapter;$n.HttpStatusCode=Q2;$n.default=$n;const{Axios:w_e,AxiosError:b_e,CanceledError:x_e,isCancel:E_e,CancelToken:A_e,VERSION:__e,all:S_e,Cancel:C_e,isAxiosError:T_e,spread:M_e,toFormData:I_e,AxiosHeaders:R_e,HttpStatusCode:P_e,formToJSON:k_e,getAdapter:N_e,mergeConfig:F_e}=$n;var ke;(function(t){t.ETH_MAINNET="eth-mainnet",t.ETH_GOERLI="eth-goerli",t.ETH_SEPOLIA="eth-sepolia",t.ETH_HOLESKY="eth-holesky",t.ETH_HOODI="eth-hoodi",t.OPT_MAINNET="opt-mainnet",t.OPT_GOERLI="opt-goerli",t.OPT_SEPOLIA="opt-sepolia",t.ARB_MAINNET="arb-mainnet",t.ARB_GOERLI="arb-goerli",t.ARB_SEPOLIA="arb-sepolia",t.MATIC_MAINNET="polygon-mainnet",t.MATIC_MUMBAI="polygon-mumbai",t.MATIC_AMOY="polygon-amoy",t.ASTAR_MAINNET="astar-mainnet",t.POLYGONZKEVM_MAINNET="polygonzkevm-mainnet",t.POLYGONZKEVM_TESTNET="polygonzkevm-testnet",t.POLYGONZKEVM_CARDONA="polygonzkevm-cardona",t.BASE_MAINNET="base-mainnet",t.BASE_GOERLI="base-goerli",t.BASE_SEPOLIA="base-sepolia",t.ZKSYNC_MAINNET="zksync-mainnet",t.ZKSYNC_SEPOLIA="zksync-sepolia",t.SHAPE_MAINNET="shape-mainnet",t.SHAPE_SEPOLIA="shape-sepolia",t.LINEA_MAINNET="linea-mainnet",t.LINEA_SEPOLIA="linea-sepolia",t.FANTOM_MAINNET="fantom-mainnet",t.FANTOM_TESTNET="fantom-testnet",t.ZETACHAIN_MAINNET="zetachain-mainnet",t.ZETACHAIN_TESTNET="zetachain-testnet",t.ARBNOVA_MAINNET="arbnova-mainnet",t.BLAST_MAINNET="blast-mainnet",t.BLAST_SEPOLIA="blast-sepolia",t.MANTLE_MAINNET="mantle-mainnet",t.MANTLE_SEPOLIA="mantle-sepolia",t.SCROLL_MAINNET="scroll-mainnet",t.SCROLL_SEPOLIA="scroll-sepolia",t.GNOSIS_MAINNET="gnosis-mainnet",t.GNOSIS_CHIADO="gnosis-chiado",t.BNB_MAINNET="bnb-mainnet",t.BNB_TESTNET="bnb-testnet",t.AVAX_MAINNET="avax-mainnet",t.AVAX_FUJI="avax-fuji",t.CELO_MAINNET="celo-mainnet",t.CELO_ALFAJORES="celo-alfajores",t.CELO_BAKLAVA="celo-baklava",t.METIS_MAINNET="metis-mainnet",t.OPBNB_MAINNET="opbnb-mainnet",t.OPBNB_TESTNET="opbnb-testnet",t.BERACHAIN_BARTIO="berachain-bartio",t.BERACHAIN_MAINNET="berachain-mainnet",t.BERACHAIN_BEPOLIA="berachain-bepolia",t.SONEIUM_MAINNET="soneium-mainnet",t.SONEIUM_MINATO="soneium-minato",t.WORLDCHAIN_MAINNET="worldchain-mainnet",t.WORLDCHAIN_SEPOLIA="worldchain-sepolia",t.ROOTSTOCK_MAINNET="rootstock-mainnet",t.ROOTSTOCK_TESTNET="rootstock-testnet",t.FLOW_MAINNET="flow-mainnet",t.FLOW_TESTNET="flow-testnet",t.ZORA_MAINNET="zora-mainnet",t.ZORA_SEPOLIA="zora-sepolia",t.FRAX_MAINNET="frax-mainnet",t.FRAX_SEPOLIA="frax-sepolia",t.POLYNOMIAL_MAINNET="polynomial-mainnet",t.POLYNOMIAL_SEPOLIA="polynomial-sepolia",t.CROSSFI_MAINNET="crossfi-mainnet",t.CROSSFI_TESTNET="crossfi-testnet",t.APECHAIN_MAINNET="apechain-mainnet",t.APECHAIN_CURTIS="apechain-curtis",t.LENS_MAINNET="lens-mainnet",t.LENS_SEPOLIA="lens-sepolia",t.GEIST_MAINNET="geist-mainnet",t.GEIST_POLTER="geist-polter",t.LUMIA_PRISM="lumia-prism",t.LUMIA_TESTNET="lumia-testnet",t.UNICHAIN_MAINNET="unichain-mainnet",t.UNICHAIN_SEPOLIA="unichain-sepolia",t.SONIC_MAINNET="sonic-mainnet",t.SONIC_BLAZE="sonic-blaze",t.XMTP_TESTNET="xmtp-testnet",t.ABSTRACT_MAINNET="abstract-mainnet",t.ABSTRACT_TESTNET="abstract-testnet",t.DEGEN_MAINNET="degen-mainnet",t.INK_MAINNET="ink-mainnet",t.INK_SEPOLIA="ink-sepolia",t.SEI_MAINNET="sei-mainnet",t.SEI_TESTNET="sei-testnet",t.RONIN_MAINNET="ronin-mainnet",t.RONIN_SAIGON="ronin-saigon",t.MONAD_TESTNET="monad-testnet",t.SETTLUS_SEPTESTNET="settlus-septestnet",t.SETTLUS_MAINNET="settlus-mainnet",t.SOLANA_MAINNET="solana-mainnet",t.SOLANA_DEVNET="solana-devnet",t.GENSYN_TESTNET="gensyn-testnet",t.SUPERSEED_MAINNET="superseed-mainnet",t.SUPERSEED_SEPOLIA="superseed-sepolia",t.TEA_SEPOLIA="tea-sepolia",t.ANIME_MAINNET="anime-mainnet",t.ANIME_SEPOLIA="anime-sepolia",t.STORY_MAINNET="story-mainnet",t.STORY_AENEID="story-aeneid",t.MEGAETH_TESTNET="megaeth-testnet"})(ke||(ke={}));var gp;(function(t){t.DEFAULT_TOKENS="DEFAULT_TOKENS",t.ERC20="erc20"})(gp||(gp={}));var To;(function(t){t.EXTERNAL="external",t.INTERNAL="internal",t.ERC20="erc20",t.ERC721="erc721",t.ERC1155="erc1155",t.SPECIALNFT="specialnft"})(To||(To={}));var X2;(function(t){t.TO="TO",t.FROM="FROM"})(X2||(X2={}));var ZR;(function(t){t.ASCENDING="asc",t.DESCENDING="desc"})(ZR||(ZR={}));var Y2;(function(t){t.VERIFIED="verified",t.APPROVED="approved",t.REQUESTED="requested",t.NOT_REQUESTED="not_requested"})(Y2||(Y2={}));var Wl;(function(t){t.PENDING_TRANSACTIONS="alchemy_pendingTransactions",t.MINED_TRANSACTIONS="alchemy_minedTransactions"})(Wl||(Wl={}));var eP;(function(t){t.NATIVE="NATIVE",t.ERC20="ERC20",t.ERC721="ERC721",t.ERC1155="ERC1155",t.SPECIAL_NFT="SPECIAL_NFT"})(eP||(eP={}));var tP;(function(t){t.APPROVE="APPROVE",t.TRANSFER="TRANSFER"})(tP||(tP={}));var nP;(function(t){t.ETHERSCAN="ETHERSCAN"})(nP||(nP={}));var rP;(function(t){t.CREATE="CREATE",t.CALL="CALL",t.STATICCALL="STATICCALL",t.DELEGATECALL="DELEGATECALL"})(rP||(rP={}));var iP;(function(t){t.UNSPECIFIED="TRANSACTION_JOB_STATUS_UNSPECIFIED",t.IN_PROGRESS="IN_PROGRESS",t.COMPLETE="COMPLETE",t.ABANDONED="ABANDONED"})(iP||(iP={}));var oP;(function(t){t.V1="V1",t.V2="V2"})(oP||(oP={}));var Cs;(function(t){t.MINED_TRANSACTION="MINED_TRANSACTION",t.DROPPED_TRANSACTION="DROPPED_TRANSACTION",t.ADDRESS_ACTIVITY="ADDRESS_ACTIVITY",t.NFT_ACTIVITY="NFT_ACTIVITY",t.NFT_METADATA_UPDATE="NFT_METADATA_UPDATE",t.GRAPHQL="GRAPHQL"})(Cs||(Cs={}));var sP;(function(t){t.PENDING="pending",t.LATEST="latest",t.SAFE="safe",t.FINALIZED="finalized",t.EARLIEST="earliest"})(sP||(sP={}));var aP;(function(t){t.CALL_TRACER="callTracer",t.PRESTATE_TRACER="prestateTracer"})(aP||(aP={}));var eo;(function(t){t.ERC721="ERC721",t.ERC1155="ERC1155",t.NO_SUPPORTED_NFT_STANDARD="NO_SUPPORTED_NFT_STANDARD",t.NOT_A_CONTRACT="NOT_A_CONTRACT",t.UNKNOWN="UNKNOWN"})(eo||(eo={}));var Dv;(function(t){t.Erc721TooManyOwners="Erc721TooManyOwners",t.Erc721TooManyTokens="Erc721TooManyTokens",t.Erc721DishonestTotalSupply="Erc721DishonestTotalSupply",t.MostlyHoneyPotOwners="MostlyHoneyPotOwners",t.OwnedByMostHoneyPots="OwnedByMostHoneyPots",t.LowDistinctOwnersPercent="LowDistinctOwnersPercent",t.HighHoneyPotOwnerPercent="HighHoneyPotOwnerPercent",t.HighHoneyPotPercent="HighHoneyPotPercent",t.HoneyPotsOwnMultipleTokens="HoneyPotsOwnMultipleTokens",t.NoSalesActivity="NoSalesActivity",t.HighAirdropPercent="HighAirdropPercent",t.Unknown="Unknown"})(Dv||(Dv={}));var lP;(function(t){t.SPAM="SPAM",t.AIRDROPS="AIRDROPS"})(lP||(lP={}));var cP;(function(t){t.TRANSFERTIME="TRANSFERTIME"})(cP||(cP={}));var da;(function(t){t.SEAPORT="seaport",t.LOOKSRARE="looksrare",t.X2Y2="x2y2",t.WYVERN="wyvern",t.CRYPTOPUNKS="cryptopunks",t.BLUR="blur",t.UNKNOWN="unknown"})(da||(da={}));var Uv;(function(t){t.BUYER="buyer",t.SELLER="seller"})(Uv||(Uv={}));var yl;(function(t){t.DOES_NOT_EXIST="does_not_exist",t.ALREADY_QUEUED="already_queued",t.IN_PROGRESS="in_progress",t.FINISHED="finished",t.QUEUED="queued",t.QUEUE_FAILED="queue_failed"})(yl||(yl={}));var J2;(function(t){t.OPENSEA="OpenSea"})(J2||(J2={}));var uP;(function(t){t.FIVE_MINUTE="5m",t.ONE_HOUR="1h",t.ONE_DAY="1d"})(uP||(uP={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Le(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function dP(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function us(t){return this instanceof us?(this.v=t,this):new us(t)}function s3(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(g,m){o.push([f,h,g,m])>1||a(f,h)})})}function a(f,h){try{l(r[f](h))}catch(g){d(o[0][3],g)}}function l(f){f.value instanceof us?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function S7(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof dP=="function"?dP(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}const Ele="demo",Ale=ke.ETH_MAINNET,_le=5,Sle=0;function Cle(t,e){return`https://${t}.g.alchemy.com/v2/${e}`}function Tle(t,e){return`https://${t}.g.alchemy.com/nft/v3/${e}`}function O_e(t,e){return`wss://${t}.g.alchemy.com/v2/${e}`}function Mle(){return"https://dashboard.alchemy.com/api"}function Ile(t){return`https://api.g.alchemy.com/prices/v1/${t}`}function Rle(t){return`https://api.g.alchemy.com/data/v1/${t}`}var jt;(function(t){t[t.BASE=0]="BASE",t[t.NFT=1]="NFT",t[t.WEBHOOK=2]="WEBHOOK",t[t.PRICES=3]="PRICES",t[t.PORTFOLIO=4]="PORTFOLIO"})(jt||(jt={}));const B_e={[ke.ETH_MAINNET]:"mainnet",[ke.ETH_GOERLI]:"goerli",[ke.ETH_SEPOLIA]:"sepolia",[ke.ETH_HOLESKY]:"holesky",[ke.ETH_HOODI]:"hoodi",[ke.OPT_MAINNET]:"opt-mainnet",[ke.OPT_GOERLI]:"optimism-goerli",[ke.OPT_SEPOLIA]:"optimism-sepolia",[ke.ARB_MAINNET]:"arbitrum",[ke.ARB_GOERLI]:"arbitrum-goerli",[ke.ARB_SEPOLIA]:"arbitrum-sepolia",[ke.MATIC_MAINNET]:"matic",[ke.MATIC_MUMBAI]:"maticmum",[ke.MATIC_AMOY]:"maticamoy",[ke.SOLANA_MAINNET]:null,[ke.SOLANA_DEVNET]:null,[ke.ASTAR_MAINNET]:"astar-mainnet",[ke.POLYGONZKEVM_MAINNET]:"polygonzkevm-mainnet",[ke.POLYGONZKEVM_TESTNET]:"polygonzkevm-testnet",[ke.POLYGONZKEVM_CARDONA]:"polygonzkevm-cardona",[ke.BASE_MAINNET]:"base-mainnet",[ke.BASE_GOERLI]:"base-goerli",[ke.BASE_SEPOLIA]:"base-sepolia",[ke.ZKSYNC_MAINNET]:"zksync-mainnet",[ke.ZKSYNC_SEPOLIA]:"zksync-sepolia",[ke.SHAPE_MAINNET]:"shape-mainnet",[ke.SHAPE_SEPOLIA]:"shape-sepolia",[ke.LINEA_MAINNET]:"linea-mainnet",[ke.LINEA_SEPOLIA]:"linea-sepolia",[ke.FANTOM_MAINNET]:"fantom-mainnet",[ke.FANTOM_TESTNET]:"fantom-testnet",[ke.ZETACHAIN_MAINNET]:"zetachain-mainnet",[ke.ZETACHAIN_TESTNET]:"zetachain-testnet",[ke.ARBNOVA_MAINNET]:"arbnova-mainnet",[ke.BLAST_MAINNET]:"blast-mainnet",[ke.BLAST_SEPOLIA]:"blast-sepolia",[ke.MANTLE_MAINNET]:"mantle-mainnet",[ke.MANTLE_SEPOLIA]:"mantle-sepolia",[ke.SCROLL_MAINNET]:"scroll-mainnet",[ke.SCROLL_SEPOLIA]:"scroll-sepolia",[ke.GNOSIS_MAINNET]:"gnosis-mainnet",[ke.GNOSIS_CHIADO]:"gnosis-chiado",[ke.BNB_MAINNET]:"bnb-mainnet",[ke.BNB_TESTNET]:"bnb-testnet",[ke.AVAX_MAINNET]:"avax-mainnet",[ke.AVAX_FUJI]:"avax-fuji",[ke.CELO_MAINNET]:"celo-mainnet",[ke.CELO_ALFAJORES]:"celo-alfajores",[ke.CELO_BAKLAVA]:"celo-baklava",[ke.METIS_MAINNET]:"metis-mainnet",[ke.OPBNB_MAINNET]:"opbnb-mainnet",[ke.OPBNB_TESTNET]:"opbnb-testnet",[ke.BERACHAIN_BARTIO]:"berachain-bartio",[ke.BERACHAIN_MAINNET]:"berachain-mainnet",[ke.BERACHAIN_BEPOLIA]:"berachain-bepolia",[ke.SONEIUM_MAINNET]:"soneium-mainnet",[ke.SONEIUM_MINATO]:"soneium-minato",[ke.WORLDCHAIN_MAINNET]:"worldchain-mainnet",[ke.WORLDCHAIN_SEPOLIA]:"worldchain-sepolia",[ke.ROOTSTOCK_MAINNET]:"rootstock-mainnet",[ke.ROOTSTOCK_TESTNET]:"rootstock-testnet",[ke.FLOW_MAINNET]:"flow-mainnet",[ke.FLOW_TESTNET]:"flow-testnet",[ke.ZORA_MAINNET]:"zora-mainnet",[ke.ZORA_SEPOLIA]:"zora-sepolia",[ke.FRAX_MAINNET]:"frax-mainnet",[ke.FRAX_SEPOLIA]:"frax-sepolia",[ke.POLYNOMIAL_MAINNET]:"polynomial-mainnet",[ke.POLYNOMIAL_SEPOLIA]:"polynomial-sepolia",[ke.CROSSFI_MAINNET]:"crossfi-mainnet",[ke.CROSSFI_TESTNET]:"crossfi-testnet",[ke.APECHAIN_MAINNET]:"apechain-mainnet",[ke.APECHAIN_CURTIS]:"apechain-curtis",[ke.LENS_MAINNET]:"lens-mainnet",[ke.LENS_SEPOLIA]:"lens-sepolia",[ke.GEIST_MAINNET]:"geist-mainnet",[ke.GEIST_POLTER]:"geist-polter",[ke.LUMIA_PRISM]:"lumia-prism",[ke.LUMIA_TESTNET]:"lumia-testnet",[ke.UNICHAIN_MAINNET]:"unichain-mainnet",[ke.UNICHAIN_SEPOLIA]:"unichain-sepolia",[ke.SONIC_MAINNET]:"sonic-mainnet",[ke.SONIC_BLAZE]:"sonic-blaze",[ke.XMTP_TESTNET]:"xmtp-testnet",[ke.ABSTRACT_MAINNET]:"abstract-mainnet",[ke.ABSTRACT_TESTNET]:"abstract-testnet",[ke.DEGEN_MAINNET]:"degen-mainnet",[ke.INK_MAINNET]:"ink-mainnet",[ke.INK_SEPOLIA]:"ink-sepolia",[ke.SEI_MAINNET]:"sei-mainnet",[ke.SEI_TESTNET]:"sei-testnet",[ke.RONIN_MAINNET]:"ronin-mainnet",[ke.RONIN_SAIGON]:"ronin-saigon",[ke.MONAD_TESTNET]:"monad-testnet",[ke.SETTLUS_MAINNET]:"settlus-mainnet",[ke.SETTLUS_SEPTESTNET]:"settlus-septestnet",[ke.GENSYN_TESTNET]:"gensyn-testnet",[ke.SUPERSEED_MAINNET]:"superseed-mainnet",[ke.SUPERSEED_SEPOLIA]:"superseed-sepolia",[ke.TEA_SEPOLIA]:"tea-sepolia",[ke.ANIME_MAINNET]:"anime-mainnet",[ke.ANIME_SEPOLIA]:"anime-sepolia",[ke.STORY_MAINNET]:"story-mainnet",[ke.STORY_AENEID]:"story-aeneid",[ke.MEGAETH_TESTNET]:"megaeth-testnet"},L_e={"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},"astar-mainnet":{chainId:592,name:"astar-mainnet"},sepolia:{chainId:11155111,name:"sepolia"},holesky:{chainId:17e3,name:"holesky"},hoodi:{chainId:560048,name:"hoodi"},"opt-mainnet":{chainId:10,name:"opt-mainnet"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},"polygonzkevm-mainnet":{chainId:1101,name:"polygonzkevm-mainnet"},"polygonzkevm-testnet":{chainId:1442,name:"polygonzkevm-testnet"},"polygonzkevm-cardona":{chainId:2442,name:"polygonzkevm-cardona"},"base-mainnet":{chainId:8453,name:"base-mainnet"},"base-goerli":{chainId:84531,name:"base-goerli"},"base-sepolia":{chainId:84532,name:"base-sepolia"},maticamoy:{chainId:80002,name:"maticamoy"},"zksync-mainnet":{chainId:324,name:"zksync-mainnet"},"zksync-sepolia":{chainId:300,name:"zksync-sepolia"},"shape-mainnet":{chainId:360,name:"shape-mainnet"},"shape-sepolia":{chainId:11011,name:"shape-sepolia"},"linea-mainnet":{chainId:59144,name:"linea-mainnet"},"linea-sepolia":{chainId:59141,name:"linea-sepolia"},"fantom-mainnet":{chainId:250,name:"fantom-mainnet"},"fantom-testnet":{chainId:4002,name:"fantom-testnet"},"zetachain-mainnet":{chainId:7e3,name:"zetachain-mainnet"},"zetachain-testnet":{chainId:7001,name:"zetachain-testnet"},"arbnova-mainnet":{chainId:42170,name:"arbnova-mainnet"},"blast-mainnet":{chainId:81457,name:"blast-mainnet"},"blast-sepolia":{chainId:168587773,name:"blast-sepolia"},"mantle-mainnet":{chainId:5e3,name:"mantle-mainnet"},"mantle-sepolia":{chainId:5003,name:"mantle-sepolia"},"scroll-mainnet":{chainId:534352,name:"scroll-mainnet"},"scroll-sepolia":{chainId:534351,name:"scroll-sepolia"},"gnosis-mainnet":{chainId:100,name:"gnosis-mainnet"},"gnosis-chiado":{chainId:10200,name:"gnosis-chiado"},"bnb-mainnet":{chainId:56,name:"bnb-mainnet"},"bnb-testnet":{chainId:97,name:"bnb-testnet"},"avax-mainnet":{chainId:43114,name:"avax-mainnet"},"avax-fuji":{chainId:43113,name:"avax-fuji"},"celo-mainnet":{chainId:42220,name:"celo-mainnet"},"celo-alfajores":{chainId:44787,name:"celo-alfajores"},"celo-baklava":{chainId:62320,name:"celo-baklava"},"metis-mainnet":{chainId:1088,name:"metis-mainnet"},"opbnb-mainnet":{chainId:204,name:"opbnb-mainnet"},"opbnb-testnet":{chainId:5611,name:"opbnb-testnet"},"berachain-bartio":{chainId:80084,name:"berachain-bartio"},"berachain-mainnet":{chainId:80094,name:"berachain-mainnet"},"berachain-bepolia":{chainId:80069,name:"berachain-bepolia"},"soneium-mainnet":{chainId:1868,name:"soneium-mainnet"},"soneium-minato":{chainId:1946,name:"soneium-minato"},"worldchain-mainnet":{chainId:480,name:"worldchain-mainnet"},"worldchain-sepolia":{chainId:4801,name:"worldchain-sepolia"},"rootstock-mainnet":{chainId:30,name:"rootstock-mainnet"},"rootstock-testnet":{chainId:31,name:"rootstock-testnet"},"flow-mainnet":{chainId:747,name:"flow-mainnet"},"flow-testnet":{chainId:545,name:"flow-testnet"},"zora-mainnet":{chainId:7777777,name:"zora-mainnet"},"zora-sepolia":{chainId:999999999,name:"zora-sepolia"},"frax-mainnet":{chainId:252,name:"frax-mainnet"},"frax-sepolia":{chainId:2522,name:"frax-sepolia"},"polynomial-mainnet":{chainId:8008,name:"polynomial-mainnet"},"polynomial-sepolia":{chainId:8009,name:"polynomial-sepolia"},"crossfi-mainnet":{chainId:4158,name:"crossfi-mainnet"},"crossfi-testnet":{chainId:4157,name:"crossfi-testnet"},"apechain-mainnet":{chainId:33139,name:"apechain-mainnet"},"apechain-curtis":{chainId:33111,name:"apechain-curtis"},"lens-mainnet":{chainId:232,name:"lens-mainnet"},"lens-sepolia":{chainId:37111,name:"lens-sepolia"},"geist-mainnet":{chainId:63157,name:"geist-mainnet"},"geist-polter":{chainId:631571,name:"geist-polter"},"lumia-prism":{chainId:994873017,name:"lumia-prism"},"lumia-testnet":{chainId:1952959480,name:"lumia-testnet"},"unichain-mainnet":{chainId:130,name:"unichain-mainnet"},"unichain-sepolia":{chainId:1301,name:"unichain-sepolia"},"sonic-mainnet":{chainId:146,name:"sonic-mainnet"},"sonic-blaze":{chainId:57054,name:"sonic-blaze"},"xmtp-testnet":{chainId:241320161,name:"xmtp-testnet"},"abstract-mainnet":{chainId:2741,name:"abstract-mainnet"},"abstract-testnet":{chainId:11124,name:"abstract-testnet"},"degen-mainnet":{chainId:666666666,name:"degen-mainnet"},"ink-mainnet":{chainId:57073,name:"ink-mainnet"},"ink-sepolia":{chainId:763373,name:"ink-sepolia"},"sei-mainnet":{chainId:1329,name:"sei-mainnet"},"sei-testnet":{chainId:1328,name:"sei-testnet"},"ronin-mainnet":{chainId:2020,name:"ronin-mainnet"},"ronin-saigon":{chainId:2021,name:"ronin-saigon"},"monad-testnet":{chainId:10143,name:"monad-testnet"},"settlus-mainnet":{chainId:5371,name:"settlus-mainnet"},"settlus-septestnet":{chainId:5373,name:"settlus-septestnet"},"gensyn-testnet":{chainId:685685,name:"gensyn-testnet"},"superseed-mainnet":{chainId:5330,name:"superseed-mainnet"},"superseed-sepolia":{chainId:53302,name:"superseed-sepolia"},"tea-sepolia":{chainId:10218,name:"tea-sepolia"},"anime-mainnet":{chainId:69e3,name:"anime-mainnet"},"anime-sepolia":{chainId:6900,name:"anime-sepolia"},"story-mainnet":{chainId:1514,name:"story-mainnet"},"story-aeneid":{chainId:1315,name:"story-aeneid"},"megaeth-testnet":{chainId:6342,name:"megaeth-testnet"}};function D_e(){}const C7="0x",Ple="0x0000000000000000000000000000000000000000";class kle{constructor(e){this.apiKey=e?.apiKey||Ele,this.network=e?.network||Ale,this.maxRetries=e?.maxRetries||_le,this.url=e?.url,this.authToken=e?.authToken,this.batchRequests=e?.batchRequests||!1,this.requestTimeout=e?.requestTimeout||Sle,this.connectionInfoOverrides=e?.connectionInfoOverrides}_getRequestUrl(e){return this.url!==void 0?this.url:e===jt.NFT?Tle(this.network,this.apiKey):e===jt.WEBHOOK?Mle():e===jt.PRICES?Ile(this.apiKey):e===jt.PORTFOLIO?Rle(this.apiKey):Cle(this.network,this.apiKey)}getProvider(){return this._baseAlchemyProvider||(this._baseAlchemyProvider=Le(this,void 0,void 0,function*(){const{AlchemyProvider:e}=yield Xe(()=>import("./alchemy-provider-0066b792-DpVUeaiD.js").then(n=>n.a),__vite__mapDeps([8,3]));return new e(this)})),this._baseAlchemyProvider}getWebSocketProvider(){return this._baseAlchemyWssProvider||(this._baseAlchemyWssProvider=Le(this,void 0,void 0,function*(){const{AlchemyWebSocketProvider:e}=yield Xe(()=>import("./alchemy-websocket-provider-98da5bb0-Cng64Ji0.js"),__vite__mapDeps([9,8,3]));return new e(this)})),this._baseAlchemyWssProvider}}const Nle="logger/5.7.0";let fP=!1,hP=!1;const Cy={debug:1,default:2,info:2,warning:3,error:4,off:5};let pP=Cy.default,Rx=null;function Fle(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const mP=Fle();var Z2;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Z2||(Z2={}));var Qo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Qo||(Qo={}));const gP="0123456789abcdef";class Bn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();Cy[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(pP>Cy[r])&&console.log.apply(console,n)}debug(...e){this._log(Bn.levels.DEBUG,e)}info(...e){this._log(Bn.levels.INFO,e)}warn(...e){this._log(Bn.levels.WARNING,e)}makeError(e,n,r){if(hP)return this.makeError("censored error",n,{});n||(n=Bn.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let u="";for(let d=0;d<c.length;d++)u+=gP[c[d]>>4],u+=gP[c[d]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const o=e;let s="";switch(n){case Qo.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Qo.CALL_EXCEPTION:case Qo.INSUFFICIENT_FUNDS:case Qo.MISSING_NEW:case Qo.NONCE_EXPIRED:case Qo.REPLACEMENT_UNDERPRICED:case Qo.TRANSACTION_REPLACED:case Qo.UNPREDICTABLE_GAS_LIMIT:s=n;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=n,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,Bn.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){mP&&this.throwError("platform missing String.prototype.normalize",Bn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:mP})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,Bn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,Bn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,Bn.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,Bn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",Bn.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",Bn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Bn.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return Rx||(Rx=new Bn(Nle)),Rx}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",Bn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),fP){if(!e)return;this.globalLogger().throwError("error censorship permanent",Bn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}hP=!!e,fP=!!n}static setLogLevel(e){const n=Cy[e.toLowerCase()];if(n==null){Bn.globalLogger().warn("invalid log level - "+e);return}pP=n}static from(e){return new Bn(e)}}Bn.errors=Qo;Bn.levels=Z2;const Ole="properties/5.7.0";var Ble=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})};const T7=new Bn(Ole);function Lle(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function M7(t){return Ble(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const i=t[r];return Promise.resolve(i).then(o=>({key:r,value:o}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}const Dle={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function I7(t){if(t==null||Dle[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!I7(r))return!1}return!0}return T7.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Ule(t){if(I7(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>yP(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&Lle(e,n,yP(r))}return e}return T7.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function yP(t){return Ule(t)}function zle(t){return $t.from(t).toNumber()}function I1(t){return $t.from(t).toHexString()}function vP(t){return typeof t=="string"?t:Number.isInteger(t)?I1(t):t.toString()}function R7(t,e){return Object.values(e).includes(t)?t:null}function jle(t){return ln(Object.assign(Object.assign({},o0(t)),{spamClassifications:t.spamClassifications.map(Kle)}))}function Gle(t){return ln(Object.assign(Object.assign({},o0(t)),{displayNft:t.displayNft,image:t.image,totalBalance:t.totalBalance,numDistinctTokensOwned:t.numDistinctTokensOwned,isSpam:t.isSpam}))}function o0(t){var e;return ln(Object.assign(Object.assign({},t),{tokenType:P7(t.tokenType),openSeaMetadata:Object.assign(Object.assign({},t.openSeaMetadata),{safelistRequestStatus:!((e=t.openSeaMetadata)===null||e===void 0)&&e.safelistRequestStatus?R7(t.openSeaMetadata.safelistRequestStatus,Y2):null})}))}function Hle(t){return ln(Object.assign(Object.assign({},t),{floorPrice:Object.assign(Object.assign({},t.floorPrice),{marketplace:$le(t.floorPrice.marketplace)})}))}function R1(t,e){return{contractAddress:e||t.contractAddress,tokenId:t.tokenId}}function Fu(t){return ln(Object.assign(Object.assign({},t),{contract:jle(t.contract),tokenType:P7(t.tokenType),acquiredAt:t.acquiredAt,collection:t.collection,mint:t.mint}))}function Wle(t){return ln({nftSales:t.nftSales.map(e=>Object.assign(Object.assign({},e),{marketplace:Vle(e.marketplace),taker:qle(e.taker)})),validAt:t.validAt,pageKey:t.pageKey})}function Vle(t){switch(t){case"looksrare":return da.LOOKSRARE;case"seaport":return da.SEAPORT;case"x2y2":return da.X2Y2;case"wyvern":return da.WYVERN;case"cryptopunks":return da.CRYPTOPUNKS;case"blur":return da.BLUR;default:return da.UNKNOWN}}function $le(t){switch(t){case"OpenSea":return J2.OPENSEA;default:return}}function qle(t){switch(t.toLowerCase()){case"buyer":return Uv.BUYER;case"seller":return Uv.SELLER;default:throw new Error(`Unsupported NftSaleTakerType ${t}`)}}function Kle(t){const e=R7(t,Dv);return e??Dv.Unknown}function P7(t){switch(t){case"erc721":case"ERC721":return eo.ERC721;case"erc1155":case"ERC1155":return eo.ERC1155;case"no_supported_nft_standard":case"NO_SUPPORTED_NFT_STANDARD":return eo.NO_SUPPORTED_NFT_STANDARD;case"not_a_contract":case"NOT_A_CONTRACT":return eo.NOT_A_CONTRACT;default:return eo.UNKNOWN}}const Qle=typeof window<"u"&&window!==null;function ln(t){if(t!=null){if(t.constructor.name==="Object"||Array.isArray(t))for(const e in t)t[e]=ln(t[e]);return t}}function P1(t,e,n="getAssetTransfers"){return Le(this,void 0,void 0,function*(){const r=yield t.getProvider();return e.fromAddress&&(e.fromAddress=yield r._getAddress(e.fromAddress)),e.toAddress&&(e.toAddress=yield r._getAddress(e.toAddress)),r._send("alchemy_getAssetTransfers",[Object.assign(Object.assign({},e),{fromBlock:e.fromBlock!=null?vP(e.fromBlock):void 0,toBlock:e.toBlock!=null?vP(e.toBlock):void 0,maxCount:e.maxCount!=null?I1(e.maxCount):void 0})],n)})}function wP(t,e,n="getTransactionReceipts"){return Le(this,void 0,void 0,function*(){return(yield t.getProvider())._send("alchemy_getTransactionReceipts",[e],n)})}function Xle(t,e){return Le(this,void 0,void 0,function*(){const n=yield t.getProvider();yield n.getNetwork();const r=yield M7({filter:Yle(t,e)}),i=yield n.send("eth_getLogs",[r.filter]);return i.forEach(o=>{o.removed==null&&(o.removed=!1)}),Jle(n.formatter.filterLog.bind(n.formatter))(i)})}function Yle(t,e){return Le(this,void 0,void 0,function*(){const n=yield t.getProvider(),r=yield e;let i={};return["blockHash","topics"].forEach(o=>{r[o]!=null&&(i[o]=r[o])}),["fromBlock","toBlock"].forEach(o=>{r[o]!=null&&(i[o]=n._getBlockTag(r[o]))}),i=n.formatter.filter(yield M7(i)),Array.isArray(r.address)?i.address=yield Promise.all(r.address.map(o=>Le(this,void 0,void 0,function*(){return n._getAddress(o)}))):r.address!=null&&(i.address=yield n._getAddress(r.address)),i})}function Jle(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const n=[];return e.forEach(r=>{n.push(t(r))}),n}}class Zle{constructor(e){this.config=e}getBalance(e,n){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBalance(e,n)})}isContractAddress(e){return Le(this,void 0,void 0,function*(){return(yield(yield this.config.getProvider()).getCode(e))!=="0x"})}getCode(e,n){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getCode(e,n)})}getStorageAt(e,n,r){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getStorageAt(e,n,r)})}getTransactionCount(e,n){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionCount(e,n)})}getBlock(e){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlock(e)})}getBlockWithTransactions(e){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockWithTransactions(e)})}getNetwork(){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getNetwork()})}getBlockNumber(){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockNumber()})}getGasPrice(){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getGasPrice()})}getFeeData(){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getFeeData()})}ready(){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).ready})}call(e,n){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).call(e,n)})}estimateGas(e){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getTransaction(e){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}getTransactionReceipt(e){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionReceipt(e)})}sendTransaction(e){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}waitForTransaction(e,n,r){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,n,r)})}getLogs(e){return Le(this,void 0,void 0,function*(){return Xle(this.config,e)})}send(e,n){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).send(e,n)})}findContractDeployer(e){var n;return Le(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=yield r.getBlockNumber();if((yield r.getCode(e,i))===C7)throw new Error(`Contract '${e}' does not exist`);const o=yield e_(0,i+1,e,this.config),a=(n=(yield wP(this.config,{blockNumber:I1(o)},"findContractDeployer")).receipts)===null||n===void 0?void 0:n.find(l=>l.contractAddress===e.toLowerCase());return{deployerAddress:a?.from,blockNumber:o}})}getTokenBalances(e,n){return Le(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=yield r._getAddress(e);if(Array.isArray(n)){if(n.length>1500)throw new Error("You cannot pass in more than 1500 contract addresses to getTokenBalances()");if(n.length===0)throw new Error("getTokenBalances() requires at least one contractAddress when using an array");return r._send("alchemy_getTokenBalances",[i,n],"getTokenBalances")}else{const o=n===void 0?gp.ERC20:n.type,s=[i,o];return n?.type===gp.ERC20&&n.pageKey&&s.push({pageKey:n.pageKey}),r._send("alchemy_getTokenBalances",s,"getTokenBalances")}})}getTokensForOwner(e,n){var r;return Le(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),s=[yield i._getAddress(e),(r=n?.contractAddresses)!==null&&r!==void 0?r:gp.ERC20];n?.pageKey&&s.push({pageKey:n.pageKey});const a=yield i._send("alchemy_getTokenBalances",s,"getTokensForOwner"),l=a.tokenBalances.map(f=>({contractAddress:f.contractAddress,rawBalance:$t.from(f.tokenBalance).toString()})),u=(yield Promise.allSettled(a.tokenBalances.map(f=>i._send("alchemy_getTokenMetadata",[f.contractAddress],"getTokensForOwner")))).map(f=>f.status==="fulfilled"?f.value:{name:null,symbol:null,decimals:null,logo:null});return{tokens:l.map((f,h)=>Object.assign(Object.assign(Object.assign({},f),u[h]),{balance:u[h].decimals!==null?Vse(f.rawBalance,u[h].decimals):void 0})).map(f=>ln(f)),pageKey:a.pageKey}})}getTokenMetadata(e){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getTokenMetadata",[e],"getTokenMetadata")})}getAssetTransfers(e){return Le(this,void 0,void 0,function*(){return P1(this.config,e)})}getTransactionReceipts(e){return Le(this,void 0,void 0,function*(){return wP(this.config,e)})}resolveName(e){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).resolveName(e)})}lookupAddress(e){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).lookupAddress(e)})}}function e_(t,e,n,r){return Le(this,void 0,void 0,function*(){if(t>=e)return e;const i=Math.floor((t+e)/2);return(yield(yield r.getProvider()).getCode(n,i))===C7?e_(i+1,e,n,r):e_(t,i,n,r)})}class ece{constructor(e){this.config=e}traceCall(e,n,r){return Le(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=[e,n,eg(r)];return i._send("debug_traceCall",o,"traceCall")})}traceTransaction(e,n,r){return Le(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=[e,eg(n,r)];return i._send("debug_traceTransaction",o,"traceTransaction")})}traceBlock(e,n){return Le(this,void 0,void 0,function*(){const r=yield this.config.getProvider();let i,o;return Li(e,32)?(i="debug_traceBlockByHash",o=[e,eg(n)]):(i="debug_traceBlockByNumber",o=[typeof e=="number"?Q8(Use(e)):e,eg(n)]),r._send(i,o,"traceBlock")})}}function eg(t,e){return Object.assign({tracer:t.type},t.onlyTopCall!==void 0&&{tracerConfig:{onlyTopCall:t.onlyTopCall,timeout:e}})}function tce(t){if(t===eo.ERC1155||t===eo.ERC721)return t}var Or;(function(t){t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t[t.SILENT=4]="SILENT"})(Or||(Or={}));Or.DEBUG,Or.INFO,Or.WARN,Or.ERROR,Or.SILENT;const nce={[Or.DEBUG]:"log",[Or.INFO]:"info",[Or.WARN]:"warn",[Or.ERROR]:"error"},rce=Or.INFO;function k7(t,...e){a3.debug(t,e)}function bP(t,...e){a3.info(t,e)}function U_e(t,...e){a3.warn(t,e)}class ice{constructor(){this._logLevel=rce}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Or))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}debug(...e){this._log(Or.DEBUG,...e)}info(...e){this._log(Or.INFO,...e)}warn(...e){this._log(Or.WARN,...e)}error(...e){this._log(Or.ERROR,...e)}_log(e,...n){if(e<this._logLevel)return;const r=new Date().toISOString(),i=nce[e];if(i)console[i](`[${r}] Alchemy:`,...n.map(oce));else throw new Error(`Logger received an invalid logLevel (value: ${e})`)}}function oce(t){if(typeof t=="string")return t;try{return JSON.stringify(t)}catch{return t}}const a3=new ice,sce="3.6.0";function ace(t,e,n,r,i){var o;const s=t+"/"+e,a=Object.assign(Object.assign({},i),{headers:Object.assign(Object.assign(Object.assign({},i?.headers),!Qle&&{"Accept-Encoding":"gzip"}),{"Alchemy-Ethers-Sdk-Version":sce,"Alchemy-Ethers-Sdk-Method":n}),method:(o=i?.method)!==null&&o!==void 0?o:"GET",url:s,params:r});return $n(a)}const lce=1e3,cce=1.5,uce=30*1e3,dce=5;class fce{constructor(e=dce){this.maxAttempts=e,this.initialDelayMs=lce,this.backoffMultiplier=cce,this.maxDelayMs=uce,this.numAttempts=0,this.currentDelayMs=0,this.isInBackoff=!1}backoff(){if(this.numAttempts>=this.maxAttempts)return Promise.reject(new Error(`Exceeded maximum number of attempts: ${this.maxAttempts}`));if(this.isInBackoff)return Promise.reject(new Error("A backoff operation is already in progress"));const e=this.withJitterMs(this.currentDelayMs);return e>0&&k7("ExponentialBackoff.backoff",`Backing off for ${e}ms`),this.currentDelayMs*=this.backoffMultiplier,this.currentDelayMs=Math.max(this.currentDelayMs,this.initialDelayMs),this.currentDelayMs=Math.min(this.currentDelayMs,this.maxDelayMs),this.numAttempts+=1,new Promise(n=>{this.isInBackoff=!0,setTimeout(()=>{this.isInBackoff=!1,n()},e)})}withJitterMs(e){return Math.min(e+(Math.random()-.5)*e,this.maxDelayMs)}}function nn(t,e,n,r,i,o){return Le(this,void 0,void 0,function*(){let s;const a=new fce(t.maxRetries);for(let l=0;l<t.maxRetries+1;l++)try{s!==void 0&&bP("requestHttp",`Retrying after error: ${s.message}`);try{yield a.backoff()}catch{break}const c=yield ace(t._getRequestUrl(e),n,r,i,Object.assign(Object.assign({},o),{timeout:t.requestTimeout}));if(c.status===200)return k7(n,`Successful request: ${n}`),c.data;bP(n,`Request failed: ${n}, ${c.status}, ${c.data}`),s=new Error(c.status+": "+c.data)}catch(c){if(!$n.isAxiosError(c)||c.response===void 0)throw c;if(s=new Error(c.response.status+": "+JSON.stringify(c.response.data)),!hce(c,e))break}return Promise.reject(s)})}function hce(t,e){const n=e===jt.WEBHOOK?[429,500]:[429];return t.response!==void 0&&n.includes(t.response.status)}function N7(t,e,n,r,i,o,s){return s3(this,arguments,function*(){let l=!0;const c=Object.assign({},s);for(;l;){const u=yield us(nn(t,e,n,r,c));yield yield us(u),u[o]!==null?c[i]=u[o]:l=!1}})}function F7(t,e,n,r,i="getNftMetadata"){return Le(this,void 0,void 0,function*(){const o=yield nn(t,jt.NFT,"getNFTMetadata",i,{contractAddress:e,tokenId:$t.from(n).toString(),tokenType:tce(r?.tokenType),tokenUriTimeoutInMs:r?.tokenUriTimeoutInMs,refreshCache:r?.refreshCache});return Fu(o)})}function O7(t,e,n){return Le(this,void 0,void 0,function*(){const r={tokens:e,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs,refreshCache:n?.refreshCache};return{nfts:(yield nn(t,jt.NFT,"getNFTMetadataBatch","getNftMetadataBatch",{},{method:"POST",data:r})).nfts.map(o=>Fu(o))}})}function pce(t,e,n="getContractMetadata"){return Le(this,void 0,void 0,function*(){const r=yield nn(t,jt.NFT,"getContractMetadata",n,{contractAddress:e});return o0(r)})}function mce(t,e){return Le(this,void 0,void 0,function*(){return{contracts:(yield nn(t,jt.NFT,"getContractMetadataBatch","getContractMetadataBatch",{},{method:"POST",data:{contractAddresses:e}})).contracts.map(o0)}})}function gce(t,e,n="getCollectionMetadata"){return Le(this,void 0,void 0,function*(){const r=yield nn(t,jt.NFT,"getCollectionMetadata",n,{collectionSlug:e});return Hle(r)})}function yce(t,e,n,r="getNftsForOwnerIterator"){return s3(this,arguments,function*(){var o,s;const a=k1(n?.omitMetadata);try{for(var l=S7(N7(t,jt.NFT,"getNFTsForOwner",r,"pageKey","pageKey",{contractAddresses:n?.contractAddresses,pageKey:n?.pageKey,excludeFilters:n?.excludeFilters,includeFilters:n?.includeFilters,owner:e,withMetadata:a,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs,orderBy:n?.orderBy})),c;c=yield us(l.next()),!c.done;){const u=c.value;for(const d of u.ownedNfts)yield yield us(Object.assign(Object.assign({},zce(d)),{balance:d.balance}))}}catch(u){o={error:u}}finally{try{c&&!c.done&&(s=l.return)&&(yield us(s.call(l)))}finally{if(o)throw o.error}}})}function t_(t,e,n,r="getNftsForOwner"){return Le(this,void 0,void 0,function*(){const i=k1(n?.omitMetadata),o=yield nn(t,jt.NFT,"getNFTsForOwner",r,{contractAddresses:n?.contractAddresses,pageKey:n?.pageKey,excludeFilters:n?.excludeFilters,includeFilters:n?.includeFilters,owner:e,pageSize:n?.pageSize,withMetadata:i,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs,orderBy:n?.orderBy});return ln(i?{ownedNfts:o.ownedNfts.map(s=>Object.assign(Object.assign({},Fu(s)),{balance:s.balance})),pageKey:o.pageKey,totalCount:o.totalCount,validAt:o.validAt}:{ownedNfts:o.ownedNfts.map(s=>Object.assign(Object.assign({},R1(s)),{balance:s.balance})),pageKey:o.pageKey,totalCount:o.totalCount,validAt:o.validAt})})}function vce(t,e,n,r="getNftsForContract"){var i;return Le(this,void 0,void 0,function*(){const o=k1(n?.omitMetadata),s=yield nn(t,jt.NFT,"getNFTsForContract",r,{contractAddress:e,pageKey:n?.pageKey,withMetadata:o,limit:(i=n?.pageSize)!==null&&i!==void 0?i:void 0,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs});return ln(o?{nfts:s.nfts.map(a=>Fu(a)),pageKey:s.pageKey}:{nfts:s.nfts.map(a=>R1(a,e)),pageKey:s.pageKey})})}function wce(t,e,n,r="getNftsForContractIterator"){return s3(this,arguments,function*(){var o,s;const a=k1(n?.omitMetadata);try{for(var l=S7(N7(t,jt.NFT,"getNFTsForContract",r,"pageKey","pageKey",{contractAddress:e,pageKey:n?.pageKey,withMetadata:a})),c;c=yield us(l.next()),!c.done;){const u=c.value;for(const d of u.nfts)yield yield us(jce(d,e))}}catch(u){o={error:u}}finally{try{c&&!c.done&&(s=l.return)&&(yield us(s.call(l)))}finally{if(o)throw o.error}}})}function bce(t,e,n,r="getOwnersForContract"){return Le(this,void 0,void 0,function*(){const i=yield nn(t,jt.NFT,"getOwnersForContract",r,Object.assign(Object.assign({},n),{contractAddress:e}));return n?.withTokenBalances?ln({owners:i.owners,pageKey:i.pageKey}):ln({owners:i.owners,pageKey:i.pageKey})})}function xce(t,e,n,r="getContractsForOwner"){return Le(this,void 0,void 0,function*(){const i=yield nn(t,jt.NFT,"getContractsForOwner",r,{owner:e,excludeFilters:n?.excludeFilters,includeFilters:n?.includeFilters,pageKey:n?.pageKey,pageSize:n?.pageSize,orderBy:n?.orderBy});return ln({contracts:i.contracts.map(Gle),pageKey:i.pageKey,totalCount:i.totalCount})})}function Ece(t,e,n,r,i="getOwnersForNft"){return Le(this,void 0,void 0,function*(){return nn(t,jt.NFT,"getOwnersForNFT",i,Object.assign({contractAddress:e,tokenId:$t.from(n).toString()},r))})}function Ace(t,e,n){return Le(this,void 0,void 0,function*(){const i=yield(yield t.getProvider())._getAddress(e),o=B7(n?.tokenType),s={fromBlock:"0x0",fromAddress:Ple,toAddress:i,excludeZeroValue:!0,contractAddresses:n?.contractAddresses,category:o,maxCount:100,pageKey:n?.pageKey},a=yield P1(t,s,"getMintedNfts");return l3(t,a)})}function _ce(t,e,n,r){return Le(this,void 0,void 0,function*(){const o=yield(yield t.getProvider())._getAddress(e),s=B7(r?.tokenType),a={fromBlock:"0x0",excludeZeroValue:!0,contractAddresses:r?.contractAddresses,category:s,maxCount:100,pageKey:r?.pageKey};n===X2.TO?a.toAddress=o:a.fromAddress=o;const l=yield P1(t,a,"getTransfersForOwner");return l3(t,l)})}function Sce(t,e,n){return Le(this,void 0,void 0,function*(){const r=[To.ERC721,To.ERC1155,To.SPECIALNFT],i=yield t.getProvider(),o=n?.fromBlock?i.formatter.blockTag(yield i._getBlockTag(n.fromBlock)):"0x0",s=n?.toBlock?i.formatter.blockTag(yield i._getBlockTag(n.toBlock)):void 0,a={fromBlock:o,toBlock:s,excludeZeroValue:!0,contractAddresses:[e],order:n?.order,category:r,maxCount:100,pageKey:n?.pageKey},l=yield P1(t,a,"getTransfersForContract");return l3(t,l)})}function B7(t){switch(t){case eo.ERC721:return[To.ERC721];case eo.ERC1155:return[To.ERC1155];default:return[To.ERC721,To.ERC1155,To.SPECIALNFT]}}function Cce(t){return t.erc1155Metadata.map(e=>({contractAddress:t.rawContract.address,tokenId:e.tokenId,tokenType:eo.ERC1155}))}function Tce(t,e,n,r="verifyNftOwnership"){return Le(this,void 0,void 0,function*(){if(typeof n=="string")return(yield t_(t,e,{contractAddresses:[n],omitMetadata:!0},r)).ownedNfts.length>0;{if(n.length===0)throw new Error("Must provide at least one contract address");const i=yield t_(t,e,{contractAddresses:n,omitMetadata:!0},r),o=n.reduce((s,a)=>(s[a]=!1,s),{});for(const s of i.ownedNfts)o[s.contractAddress]=!0;return o}})}function Mce(t,e,n="isSpamContract"){return Le(this,void 0,void 0,function*(){return nn(t,jt.NFT,"isSpamContract",n,{contractAddress:e})})}function Ice(t,e="getSpamContracts"){return Le(this,void 0,void 0,function*(){return nn(t,jt.NFT,"getSpamContracts",e,void 0)})}function Rce(t,e,n="reportSpam"){return Le(this,void 0,void 0,function*(){nn(t,jt.NFT,"reportSpam",n,{contractAddress:e})})}function Pce(t,e,n,r="isAirdropNft"){return Le(this,void 0,void 0,function*(){return nn(t,jt.NFT,"isAirdropNFT",r,{contractAddress:e,tokenId:n})})}function kce(t,e,n="getFloorPrice"){return Le(this,void 0,void 0,function*(){const r=yield nn(t,jt.NFT,"getFloorPrice",n,{contractAddress:e});return ln(r)})}function Nce(t,e={},n="getNftSales"){return Le(this,void 0,void 0,function*(){const r=Object.assign({},e),i=yield nn(t,jt.NFT,"getNFTSales",n,{fromBlock:r?.fromBlock,toBlock:r?.toBlock,order:r?.order,marketplace:r?.marketplace,contractAddress:r?.contractAddress,tokenId:r?.tokenId?$t.from(r?.tokenId).toString():void 0,sellerAddress:r?.sellerAddress,buyerAddress:r?.buyerAddress,taker:r?.taker,limit:r?.limit,pageKey:r?.pageKey});return Wle(i)})}function Fce(t,e,n,r="computeRarity"){return Le(this,void 0,void 0,function*(){const i=yield nn(t,jt.NFT,"computeRarity",r,{contractAddress:e,tokenId:$t.from(n).toString()});return ln(i)})}function Oce(t,e,n="searchContractMetadata"){return Le(this,void 0,void 0,function*(){return{contracts:(yield nn(t,jt.NFT,"searchContractMetadata",n,{query:e})).contracts.map(o0)}})}function Bce(t,e,n="summarizeNftAttributes"){return Le(this,void 0,void 0,function*(){return nn(t,jt.NFT,"summarizeNFTAttributes",n,{contractAddress:e})})}function Lce(t,e,n,r="refreshNftMetadata"){return Le(this,void 0,void 0,function*(){const i=$t.from(n).toString(),o=yield F7(t,e,i,void 0,r),s=yield Uce(t,e,i,r);return o.timeLastUpdated!==s.timeLastUpdated})}function Dce(t,e,n="refreshContract"){return Le(this,void 0,void 0,function*(){const r=yield nn(t,jt.NFT,"reingestContract",n,{contractAddress:e});return{contractAddress:r.contractAddress,refreshState:Hce(r.reingestionState),progress:r.progress}})}function Uce(t,e,n,r){return Le(this,void 0,void 0,function*(){const i=yield nn(t,jt.NFT,"getNFTMetadata",r,{contractAddress:e,tokenId:$t.from(n).toString(),refreshCache:!0});return Fu(i)})}function zce(t){return L7(t)?Fu(t):R1(t)}function jce(t,e){return L7(t)?Fu(t):R1(t,e)}function L7(t){return t.name!==void 0}function l3(t,e){return Le(this,void 0,void 0,function*(){const n=e.transfers.filter(c=>c.rawContract.address!==null).flatMap(c=>{var u;const d=Gce(c),f={from:c.from,to:(u=c.to)!==null&&u!==void 0?u:void 0,transactionHash:c.hash,blockNumber:c.blockNum};return d.map(h=>({metadata:f,token:h}))});if(n.length===0)return{nfts:[]};const r=100,i=[];for(let c=0;c<n.length;c+=r)i.push(n.slice(c,c+r));const s=(yield Promise.all(i.map(c=>O7(t,c.map(u=>u.token))))).map(c=>c.nfts).flat(),a=new Map;return s.forEach(c=>{const u=`${c.contract.address.toLowerCase()}-${$t.from(c.tokenId).toString()}`;a.set(u,c)}),{nfts:n.map(c=>{const u=`${c.token.contractAddress.toLowerCase()}-${$t.from(c.token.tokenId).toString()}`;return Object.assign(Object.assign({},a.get(u)),c.metadata)}),pageKey:e.pageKey}})}function Gce(t){return t.category===To.ERC1155?Cce(t):[{contractAddress:t.rawContract.address,tokenId:t.tokenId,tokenType:t.category===To.ERC721?eo.ERC721:void 0}]}function k1(t){return t===void 0?!0:!t}function Hce(t){switch(t){case"does_not_exist":return yl.DOES_NOT_EXIST;case"already_queued":return yl.ALREADY_QUEUED;case"in_progress":return yl.IN_PROGRESS;case"finished":return yl.FINISHED;case"queued":return yl.QUEUED;case"queue_failed":return yl.QUEUE_FAILED;default:throw new Error("Unknown reingestion state: "+t)}}class Wce{constructor(e){this.config=e}getNftMetadata(e,n,r,i){let o;return typeof r=="object"?o={tokenType:r.tokenType,tokenUriTimeoutInMs:r.tokenUriTimeoutInMs,refreshCache:r.refreshCache}:o={tokenType:r,tokenUriTimeoutInMs:i},F7(this.config,e,n,o)}getNftMetadataBatch(e,n){return O7(this.config,e,n)}getContractMetadata(e){return pce(this.config,e)}getContractMetadataBatch(e){return mce(this.config,e)}getCollectionMetadata(e){return gce(this.config,e)}getNftsForOwnerIterator(e,n){return yce(this.config,e,n)}getNftsForOwner(e,n){return t_(this.config,e,n)}getNftsForContract(e,n){return vce(this.config,e,n)}getNftsForContractIterator(e,n){return wce(this.config,e,n)}getOwnersForContract(e,n){return bce(this.config,e,n)}getOwnersForNft(e,n,r){return Ece(this.config,e,n,r)}getContractsForOwner(e,n){return xce(this.config,e,n)}getTransfersForOwner(e,n,r){return _ce(this.config,e,n,r)}getTransfersForContract(e,n){return Sce(this.config,e,n)}getMintedNfts(e,n){return Le(this,void 0,void 0,function*(){return Ace(this.config,e,n)})}verifyNftOwnership(e,n){return Tce(this.config,e,n)}isSpamContract(e){return Mce(this.config,e)}getSpamContracts(){return Ice(this.config)}reportSpam(e){return Rce(this.config,e)}isAirdropNft(e,n){return Pce(this.config,e,n)}getFloorPrice(e){return kce(this.config,e)}getNftSales(e){return Nce(this.config,e)}computeRarity(e,n){return Fce(this.config,e,n)}searchContractMetadata(e){return Oce(this.config,e)}summarizeNftAttributes(e){return Bce(this.config,e)}refreshNftMetadata(e,n){return Lce(this.config,e,n)}refreshContract(e){return Dce(this.config,e)}}class Vce{constructor(e){this.config=e}getAllWebhooks(){return Le(this,void 0,void 0,function*(){this.verifyConfig();const e=yield this.sendWebhookRequest("team-webhooks","getAllWebhooks",{});return{webhooks:$ce(e),totalCount:e.data.length}})}getAddresses(e,n){return Le(this,void 0,void 0,function*(){this.verifyConfig();const r=typeof e=="string"?e:e.id,i=yield this.sendWebhookRequest("webhook-addresses","getAddresses",{webhook_id:r,limit:n?.limit,after:n?.pageKey});return qce(i)})}getGraphqlQuery(e){return Le(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof e=="string"?e:e.id,r=yield this.sendWebhookRequest("dashboard-webhook-graphql-query","getGraphqlQuery",{webhook_id:n});return Kce(r)})}getNftFilters(e,n){return Le(this,void 0,void 0,function*(){this.verifyConfig();const r=typeof e=="string"?e:e.id,i=yield this.sendWebhookRequest("webhook-nft-filters","getNftFilters",{webhook_id:r,limit:n?.limit,after:n?.pageKey});return Qce(i)})}updateWebhook(e,n){return Le(this,void 0,void 0,function*(){const r=typeof e=="string"?e:e.id;let i,o,s,a;if("isActive"in n)i="update-webhook",o="updateWebhook",s="PUT",a={webhook_id:r,is_active:n.isActive};else if("addFilters"in n||"removeFilters"in n)i="update-webhook-nft-filters",o="updateWebhookNftFilters",s="PATCH",a={webhook_id:r,nft_filters_to_add:n.addFilters?n.addFilters.map(ng):[],nft_filters_to_remove:n.removeFilters?n.removeFilters.map(ng):[]};else if("addMetadataFilters"in n||"removeMetadataFilters"in n)i="update-webhook-nft-metadata-filters",o="updateWebhookNftMetadataFilters",s="PATCH",a={webhook_id:r,nft_metadata_filters_to_add:n.addMetadataFilters?n.addMetadataFilters.map(ng):[],nft_metadata_filters_to_remove:n.removeMetadataFilters?n.removeMetadataFilters.map(ng):[]};else if("addAddresses"in n||"removeAddresses"in n)i="update-webhook-addresses",o="webhook:updateWebhookAddresses",s="PATCH",a={webhook_id:r,addresses_to_add:yield this.resolveAddresses(n.addAddresses),addresses_to_remove:yield this.resolveAddresses(n.removeAddresses)};else if("newAddresses"in n)i="update-webhook-addresses",o="webhook:updateWebhookAddress",s="PUT",a={webhook_id:r,addresses:yield this.resolveAddresses(n.newAddresses)};else throw new Error("Invalid `update` param passed into `updateWebhook`");yield this.sendWebhookRequest(i,o,{},{method:s,data:a})})}createWebhook(e,n,r){return Le(this,void 0,void 0,function*(){let i;if(n===Cs.MINED_TRANSACTION||n===Cs.DROPPED_TRANSACTION||n===Cs.GRAPHQL){if(!("appId"in r))throw new Error("Transaction and GraphQL Webhooks require an app id.");i=r.appId}let o=tg.get(this.config.network),s,a,l,c;if(n===Cs.NFT_ACTIVITY||n===Cs.NFT_METADATA_UPDATE){if(!("filters"in r)||r.filters.length===0)throw new Error("Nft Activity Webhooks require a non-empty array input.");o=r.network?tg.get(r.network):o;const f=r.filters.map(h=>h.tokenId?{contract_address:h.contractAddress,token_id:$t.from(h.tokenId).toString()}:{contract_address:h.contractAddress});s=n===Cs.NFT_ACTIVITY?{nft_filters:f}:{nft_metadata_filters:f}}else if(n===Cs.ADDRESS_ACTIVITY){if(r===void 0||!("addresses"in r)||r.addresses.length===0)throw new Error("Address Activity Webhooks require a non-empty array input.");o=r.network?tg.get(r.network):o,a=yield this.resolveAddresses(r.addresses)}else if(n==Cs.GRAPHQL){if(r===void 0||!("graphqlQuery"in r)||r.graphqlQuery.length===0)throw new Error("Custom Webhooks require a non-empty graphql query.");o=r.network?tg.get(r.network):o,l=r.graphqlQuery,c=r.skipEmptyMessages}const u=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({network:o,webhook_type:n,webhook_url:e},i&&{app_id:i}),r.name&&{name:r.name}),s),a&&{addresses:a}),l&&{graphql_query:{query:l,skip_empty_messages:!!c}}),d=yield this.sendWebhookRequest("create-webhook","createWebhook",{},{method:"POST",data:u});return D7(d.data)})}deleteWebhook(e){return Le(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof e=="string"?e:e.id;if("message"in(yield this.sendWebhookRequest("delete-webhook","deleteWebhook",{webhook_id:n},{method:"DELETE"})))throw new Error(`Webhook not found. Failed to delete webhook: ${n}`)})}verifyConfig(){if(this.config.authToken===void 0)throw new Error("Using the Notify API requires setting the Alchemy Auth Token in the settings object when initializing Alchemy.")}sendWebhookRequest(e,n,r,i){return nn(this.config,jt.WEBHOOK,e,n,r,Object.assign(Object.assign({},i),{headers:Object.assign({"X-Alchemy-Token":this.config.authToken},i?.headers)}))}resolveAddresses(e){return Le(this,void 0,void 0,function*(){if(e===void 0)return[];const n=[],r=yield this.config.getProvider();for(const i of e){const o=yield r.resolveName(i);if(o===null)throw new Error(`Unable to resolve the ENS address: ${i}`);n.push(o)}return n})}}const n_=Object.fromEntries(Object.entries(ke)),tg=Object.keys(ke).reduce((t,e)=>(e in n_&&t.set(n_[e],e),t),new Map);function $ce(t){return t.data.map(D7)}function D7(t){return Object.assign(Object.assign({id:t.id,network:n_[t.network],type:t.webhook_type,url:t.webhook_url,isActive:t.is_active,timeCreated:new Date(t.time_created).toISOString(),signingKey:t.signing_key,version:t.version},t.app_id!==void 0&&{appId:t.app_id}),t.name!==void 0&&{name:t.name})}function qce(t){return{addresses:t.data,totalCount:t.pagination.total_count,pageKey:t.pagination.cursors.after}}function Kce(t){return{graphqlQuery:t.data.graphql_query}}function Qce(t){return{filters:t.data.map(e=>e.token_id?{contractAddress:e.contract_address,tokenId:$t.from(e.token_id).toString()}:{contractAddress:e.contract_address}),totalCount:t.pagination.total_count,pageKey:t.pagination.cursors.after}}function ng(t){return t.tokenId?{contract_address:t.contractAddress,token_id:$t.from(t.tokenId).toString()}:{contract_address:t.contractAddress}}function Xce(t,e,n=!0,r=!0,i=!0,o="getTokensByWallet"){return Le(this,void 0,void 0,function*(){const s={addresses:e,withMetadata:n,withPrices:r,includeNativeTokens:i},a=yield nn(t,jt.PORTFOLIO,"assets/tokens/by-address",o,{},{data:s,method:"POST"});return ln(a)})}function Yce(t,e,n=!0,r="getTokenBalancesByWallet"){return Le(this,void 0,void 0,function*(){const i={addresses:e,includeNativeTokens:n},o=yield nn(t,jt.PORTFOLIO,"assets/tokens/balances/by-address",r,{},{method:"POST",data:i});return ln(o)})}function Jce(t,e,n=!0,r=void 0,i=void 0,o="getNftsByWallet"){return Le(this,void 0,void 0,function*(){const s={addresses:e,withMetadata:n,pageKey:r,pageSize:i},a=yield nn(t,jt.PORTFOLIO,"assets/nfts/by-address",o,{},{method:"POST",data:s});return ln(a)})}function Zce(t,e,n=!0,r=void 0,i=void 0,o="getNftCollectionsByWallet"){return Le(this,void 0,void 0,function*(){const s={addresses:e,pageKey:r,pageSize:i,withMetadata:n},a=yield nn(t,jt.PORTFOLIO,"assets/nfts/contracts/by-address",o,{},{method:"POST",data:s});return ln(a)})}function eue(t,e,n=void 0,r=void 0,i=void 0,o="getTransactionsByWallet"){return Le(this,void 0,void 0,function*(){const s={addresses:e,before:n,after:r,limit:i},a=yield nn(t,jt.PORTFOLIO,"transactions/history/by-address",o,{},{method:"POST",data:s});return ln(a)})}class tue{constructor(e){this.config=e}getTokensByWallet(e,n=!0,r=!0,i=!0){return Xce(this.config,e,n,r,i)}getTokenBalancesByWallet(e,n=!0){return Yce(this.config,e,n)}getNftsByWallet(e,n=!0,r,i){return Jce(this.config,e,n,r,i)}getNftCollectionsByWallet(e,n=!0,r,i){return Zce(this.config,e,n,r,i)}getTransactionsByWallet(e,n,r,i){return eue(this.config,e,n,r,i)}}function nue(t,e,n="getTokenPriceByAddress"){return Le(this,void 0,void 0,function*(){const r=yield nn(t,jt.PRICES,"tokens/by-address",n,{},{method:"POST",data:{addresses:e}});return ln(r)})}function rue(t,e,n="getTokenPriceBySymbol"){return Le(this,void 0,void 0,function*(){const r=yield nn(t,jt.PRICES,"tokens/by-symbol",n,{symbols:e},{paramsSerializer:i=>{const o=new URLSearchParams;return Object.entries(i).forEach(([s,a])=>{a.forEach(l=>o.append(s,l))}),o.toString()}});return ln(r)})}function iue(t,e,n,r,i,o="getHistoricalPriceBySymbol"){return Le(this,void 0,void 0,function*(){const s=yield nn(t,jt.PRICES,"tokens/historical",o,{},{method:"POST",data:{symbol:e,startTime:n,endTime:r,interval:i}});return ln(s)})}function oue(t,e,n,r,i,o,s="getHistoricalPriceByAddress"){return Le(this,void 0,void 0,function*(){const a=yield nn(t,jt.PRICES,"tokens/historical",s,{},{method:"POST",data:{network:e,address:n,startTime:r,endTime:i,interval:o}});return ln(a)})}class sue{constructor(e){this.config=e}getTokenPriceByAddress(e){return nue(this.config,e)}getTokenPriceBySymbol(e){return rue(this.config,e)}getHistoricalPriceBySymbol(e,n,r,i){return iue(this.config,e,n,r,i)}getHistoricalPriceByAddress(e,n,r,i,o){return oue(this.config,e,n,r,i,o)}}const aue=[.9,1,1.1,1.2,1.3];class lue{constructor(e){this.config=e}sendPrivateTransaction(e,n,r){return Le(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=n?I1(n):void 0;return i._send("eth_sendPrivateTransaction",[{tx:e,maxBlockNumber:o,preferences:r}],"sendPrivateTransaction")})}cancelPrivateTransaction(e){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("eth_cancelPrivateTransaction",[{txHash:e}],"cancelPrivateTransaction")})}simulateAssetChangesBundle(e,n){return Le(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=yield r._send("alchemy_simulateAssetChangesBundle",i,"simulateAssetChangesBundle");return ln(o)})}simulateAssetChanges(e,n){return Le(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=yield r._send("alchemy_simulateAssetChanges",i,"simulateAssetChanges");return ln(o)})}simulateExecutionBundle(e,n){return Le(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=r._send("alchemy_simulateExecutionBundle",i,"simulateExecutionBundle");return ln(o)})}simulateExecution(e,n){return Le(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=r._send("alchemy_simulateExecution",i,"simulateExecution");return ln(o)})}getTransaction(e){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}sendTransaction(e){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}estimateGas(e){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getMaxPriorityFeePerGas(){return Le(this,void 0,void 0,function*(){const n=yield(yield this.config.getProvider())._send("eth_maxPriorityFeePerGas",[],"getMaxPriorityFeePerGas");return zle(n)})}waitForTransaction(e,n,r){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,n,r)})}sendGasOptimizedTransaction(e,n){return Le(this,void 0,void 0,function*(){if(Array.isArray(e))return this._sendGasOptimizedTransaction(e,"sendGasOptimizedTransactionPreSigned");let r,i,o;const s=yield this.config.getProvider();try{r=yield this.estimateGas(e),i=yield this.getMaxPriorityFeePerGas(),o=(yield s.getBlock("latest")).baseFeePerGas.toNumber()}catch(c){throw new Error(`Failed to estimate gas for transaction: ${c}`)}const a=cue(e,r.toNumber(),o,i),l=yield Promise.all(a.map(c=>n.signTransaction(c)));return this._sendGasOptimizedTransaction(l,"sendGasOptimizedTransactionGenerated")})}getGasOptimizedTransactionStatus(e){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getGasOptimizedTransactionStatus",[e],"getGasOptimizedTransactionStatus")})}_sendGasOptimizedTransaction(e,n){return Le(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_sendGasOptimizedTransaction",[{rawTransactions:e}],n)})}}function cue(t,e,n,r){return aue.map(i=>Object.assign(Object.assign({},t),{gasLimit:e,maxFeePerGas:Math.round(n*i+r*i),maxPriorityFeePerGas:Math.round(i*r)}))}const zv="alchemy-pending-transactions",jv="alchemy-mined-transactions",uue=[zv,jv];let due=class{constructor(e,n,r){this.listener=n,this.tag=e,this.once=r,this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter;default:return this.tag}}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");if(e[0]!=="tx")throw new Error("Not a transaction event");return e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")throw new Error("Not a transaction event");const n=e[1],r=mue(e[2]),i={};return r.length>0&&(i.topics=r),n&&n!=="*"&&(i.address=n),i}pollable(){const e=["block","network","pending","poll"];return this.tag.indexOf(":")>=0||e.indexOf(this.tag)>=0}};class j_e extends due{get fromAddress(){const e=this.tag.split(":");if(e[0]===zv&&e[1]&&e[1]!=="*")return xP(e[1])}get toAddress(){const e=this.tag.split(":");if(e[0]===zv&&e[2]&&e[2]!=="*")return xP(e[2])}get hashesOnly(){const e=this.tag.split(":");if(uue.includes(e[0])&&e[3]&&e[3]!=="*")return e[3]==="true"}get includeRemoved(){const e=this.tag.split(":");if(e[0]===jv&&e[2]&&e[2]!=="*")return e[2]==="true"}get addresses(){const e=this.tag.split(":");if(e[0]===jv&&e[1]&&e[1]!=="*")return gue(e[1])}}function U7(t){return typeof t=="object"&&"method"in t}function G_e(t){if(!U7(t))throw new Error("Event tag requires AlchemyEventType");if(t.method===Wl.PENDING_TRANSACTIONS)return fue(t);if(t.method===Wl.MINED_TRANSACTIONS)return hue(t);throw new Error(`Unrecognized AlchemyFilterEvent: ${t}`)}function H_e(t){if(!Object.values(Wl).includes(t.method))throw new Error(`Invalid method name ${t.method}. Accepted method names: ${Object.values(Wl)}`)}function fue(t){const e=Gv(t.fromAddress),n=Gv(t.toAddress),r=r_(t.hashesOnly);return zv+":"+e+":"+n+":"+r}function hue(t){const e=pue(t.addresses),n=r_(t.includeRemoved),r=r_(t.hashesOnly);return jv+":"+e+":"+n+":"+r}function pue(t){return t===void 0?"*":t.map(e=>Gv(e.to)+","+Gv(e.from)).join("|")}function Gv(t){return t===void 0?"*":Array.isArray(t)?t.join("|"):t}function r_(t){return t===void 0?"*":t.toString()}function mue(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function xP(t){if(t==="")return;const e=t.split("|");return e.length===1?e[0]:e}function gue(t){if(t!=="")return t.split("|").map(e=>e.split(",")).map(e=>Object.assign(Object.assign({},e[0]!=="*"&&{to:e[0]}),e[1]!=="*"&&{from:e[1]}))}class yue{constructor(e){this.config=e}on(e,n){return Le(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);r.on(i,n)}),this}once(e,n){return Le(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);r.once(i,n)}),this}off(e,n){return Le(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);return r.off(i,n)}),this}removeAllListeners(e){return Le(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;n.removeAllListeners(r)}),this}listenerCount(e){return Le(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return n.listenerCount(r)})}listeners(e){return Le(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return n.listeners(r)})}_resolveEnsAlchemyEvent(e){return Le(this,void 0,void 0,function*(){if(!U7(e))return e;if(e.method===Wl.MINED_TRANSACTIONS&&e.addresses){const n=[];for(const r of e.addresses)r.to&&(r.to=yield this._resolveNameOrError(r.to)),r.from&&(r.from=yield this._resolveNameOrError(r.from)),n.push(r);e.addresses=n}else e.method===Wl.PENDING_TRANSACTIONS&&(e.fromAddress&&(typeof e.fromAddress=="string"?e.fromAddress=yield this._resolveNameOrError(e.fromAddress):e.fromAddress=yield Promise.all(e.fromAddress.map(n=>this._resolveNameOrError(n)))),e.toAddress&&(typeof e.toAddress=="string"?e.toAddress=yield this._resolveNameOrError(e.toAddress):e.toAddress=yield Promise.all(e.toAddress.map(n=>this._resolveNameOrError(n)))));return e})}_resolveNameOrError(e){return Le(this,void 0,void 0,function*(){const r=yield(yield this.config.getProvider()).resolveName(e);if(r===null)throw new Error(`Unable to resolve the ENS address: ${e}`);return r})}}class vue{constructor(e){this.config=new kle(e),this.core=new Zle(this.config),this.nft=new Wce(this.config),this.ws=new yue(this.config),this.transact=new lue(this.config),this.notify=new Vce(this.config),this.debug=new ece(this.config),this.prices=new sue(this.config),this.portfolio=new tue(this.config)}}const wue="6.14.4";function bue(t,e,n){const r=e.split("|").map(o=>o.trim());for(let o=0;o<r.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function ni(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,o)=>(r[e[o]]=i,r),{})}function kt(t,e,n){for(let r in e){let i=e[r];const o=n?n[r]:null;o&&bue(i,o,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function Sd(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>Sd(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Sd(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${Sd(r,e)}: ${Sd(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Br(t,e){return t&&t.code===e}function c3(t){return Br(t,"CALL_EXCEPTION")}function Tn(t,e,n){let r=t;{const o=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Sd(n)}`);for(const s in n){if(s==="shortMessage")continue;const a=n[s];o.push(s+"="+Sd(a))}}o.push(`code=${e}`),o.push(`version=${wue}`),o.length&&(t+=" ("+o.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return kt(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&kt(i,{shortMessage:r}),i}function ze(t,e,n,r){if(!t)throw Tn(e,n,r)}function pe(t,e,n,r){ze(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function z7(t,e,n){n==null&&(n=""),n&&(n=": "+n),ze(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),ze(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function N1(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),ze(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function j7(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let o=0;o<r.length;o++)r[o]=parseInt(t.substring(i,i+2),16),i+=2;return r}pe(!1,"invalid BytesLike value",e||"value",t)}function Gt(t,e){return j7(t,e,!1)}function li(t,e){return j7(t,e,!0)}function bn(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function u3(t){return bn(t,!0)||t instanceof Uint8Array}const EP="0123456789abcdef";function dt(t){const e=Gt(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=EP[(i&240)>>4]+EP[i&15]}return n}function Hn(t){return"0x"+t.map(e=>dt(e).substring(2)).join("")}function Gd(t){return bn(t,!0)?(t.length-2)/2:Gt(t).length}function Dn(t,e,n){const r=Gt(t);return n!=null&&n>r.length&&ze(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),dt(r.slice(e??0,n??r.length))}function G7(t,e,n){const r=Gt(t);ze(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),dt(i)}function Ua(t,e){return G7(t,e,!0)}function xue(t,e){return G7(t,e,!1)}const F1=BigInt(0),is=BigInt(1),Cd=9007199254740991;function Eue(t,e){const n=O1(t,"value"),r=BigInt(Ht(e,"width"));if(ze(n>>r===F1,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-is){const i=(is<<r)-is;return-((~n&i)+is)}return n}function H7(t,e){let n=At(t,"value");const r=BigInt(Ht(e,"width")),i=is<<r-is;if(n<F1){n=-n,ze(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const o=(is<<r)-is;return(~n&o)+is}else ze(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function $h(t,e){const n=O1(t,"value"),r=BigInt(Ht(e,"bits"));return n&(is<<r)-is}function At(t,e){switch(typeof t){case"bigint":return t;case"number":return pe(Number.isInteger(t),"underflow",e||"value",t),pe(t>=-Cd&&t<=Cd,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){pe(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}pe(!1,"invalid BigNumberish value",e||"value",t)}function O1(t,e){const n=At(t,e);return ze(n>=F1,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const AP="0123456789abcdef";function d3(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=AP[n>>4],e+=AP[n&15];return BigInt(e)}return At(t)}function Ht(t,e){switch(typeof t){case"bigint":return pe(t>=-Cd&&t<=Cd,"overflow",e||"value",t),Number(t);case"number":return pe(Number.isInteger(t),"underflow",e||"value",t),pe(t>=-Cd&&t<=Cd,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Ht(BigInt(t),e)}catch(n){pe(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}pe(!1,"invalid numeric value",e||"value",t)}function Aue(t){return Ht(d3(t))}function Vl(t,e){let r=O1(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=Ht(e,"width");for(ze(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function hr(t){const e=O1(t,"value");if(e===F1)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const o=i*2;r[i]=parseInt(n.substring(o,o+2),16)}return r}function ns(t){let e=dt(u3(t)?t:hr(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const _P="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const SP=BigInt(58);function _ue(t){const e=Gt(t);let n=d3(e),r="";for(;n;)r=_P[Number(n%SP)]+r,n/=SP;for(let i=0;i<e.length&&!e[i];i++)r=_P[0]+r;return r}function Sue(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return Gt(e)}function Cue(t){const e=Gt(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}class W7{filter;emitter;#e;constructor(e,n,r){this.#e=n,kt(this,{emitter:e,filter:r})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function Tue(t,e,n,r,i){pe(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function V7(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let o=0;for(let s=e+1;s<n.length&&n[s]>>6===2;s++)o++;return o}return t==="OVERRUN"?n.length-e-1:0}function Mue(t,e,n,r,i){return t==="OVERLONG"?(pe(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),V7(t,e,n))}const Iue=Object.freeze({error:Tue,ignore:V7,replace:Mue});function Rue(t,e){e==null&&(e=Iue.error);const n=Gt(t,"bytes"),r=[];let i=0;for(;i<n.length;){const o=n[i++];if(!(o>>7)){r.push(o);continue}let s=null,a=null;if((o&224)===192)s=1,a=127;else if((o&240)===224)s=2,a=2047;else if((o&248)===240)s=3,a=65535;else{(o&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+s>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let l=o&(1<<8-s-1)-1;for(let c=0;c<s;c++){let u=n[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),l=null;break}l=l<<6|u&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-s,n,r,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-s,n,r,l);continue}if(l<=a){i+=e("OVERLONG",i-1-s,n,r,l);continue}r.push(l)}}return r}function Ia(t,e){pe(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const o=t.charCodeAt(r);pe(r<t.length&&(o&64512)===56320,"invalid surrogate pair","str",t);const s=65536+((i&1023)<<10)+(o&1023);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function Pue(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Hv(t,e){return Pue(Rue(t,e))}function $7(t){async function e(n,r){ze(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();ze(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),ze(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o=null;const s=new AbortController,a=setTimeout(()=>{o=Tn("request timeout","TIMEOUT"),s.abort()},n.timeout);r&&r.addListener(()=>{o=Tn("request cancelled","CANCELLED"),s.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:s.signal});let c;try{c=await fetch(n.url,l)}catch(h){throw clearTimeout(a),o||h}clearTimeout(a);const u={};c.headers.forEach((h,g)=>{u[g.toLowerCase()]=h});const d=await c.arrayBuffer(),f=d==null?null:new Uint8Array(d);return{statusCode:c.status,statusMessage:c.statusText,headers:u,body:f}}return e}const kue=12,Nue=250;let CP=$7();const Fue=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Oue=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Px=!1;async function q7(t,e){try{const n=t.match(Fue);if(!n)throw new Error("invalid data");return new Ll(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?Sue(n[3]):Lue(n[3]))}catch{return new Ll(599,"BAD REQUEST (invalid data: URI)",{},null,new za(t))}}function K7(t){async function e(n,r){try{const i=n.match(Oue);if(!i)throw new Error("invalid link");return new za(`${t}${i[2]}`)}catch{return new Ll(599,"BAD REQUEST (invalid IPFS URI)",{},null,new za(n))}}return e}const rg={data:q7,ipfs:K7("https://gateway.ipfs.io/ipfs/")},Q7=new WeakMap;class Bue{#e;#t;constructor(e){this.#e=[],this.#t=!1,Q7.set(e,()=>{if(!this.#t){this.#t=!0;for(const n of this.#e)setTimeout(()=>{n()},0);this.#e=[]}})}addListener(e){ze(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){ze(!this.cancelled,"cancelled","CANCELLED",{})}}function ig(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class za{#e;#t;#n;#r;#i;#s;#o;#a;#p;#u;#m;#h;#l;#c;#d;get url(){return this.#s}set url(e){this.#s=String(e)}get body(){return this.#o==null?null:new Uint8Array(this.#o)}set body(e){if(e==null)this.#o=void 0,this.#a=void 0;else if(typeof e=="string")this.#o=Ia(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#o=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#o=Ia(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#o!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#r=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#n);return this.#p&&(e.authorization=`Basic ${Cue(Ia(this.#p))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){this.#n[String(e).toLowerCase()]=String(n)}clearHeaders(){this.#n={}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#p||null}setCredentials(e,n){pe(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#p=`${e}:${n}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#i}set timeout(e){pe(e>=0,"timeout must be non-zero","timeout",e),this.#i=e}get preflightFunc(){return this.#u||null}set preflightFunc(e){this.#u=e}get processFunc(){return this.#m||null}set processFunc(e){this.#m=e}get retryFunc(){return this.#h||null}set retryFunc(e){this.#h=e}get getUrlFunc(){return this.#d||CP}set getUrlFunc(e){this.#d=e}constructor(e){this.#s=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#i=3e5,this.#c={slotInterval:Nue,maxAttempts:kue},this.#d=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#o?dt(this.#o):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#c.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#c.maxAttempts=e.maxAttempts)}async#f(e,n,r,i,o){if(e>=this.#c.maxAttempts)return o.makeServerError("exceeded maximum retry limit");ze(TP()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await Due(r);let s=this.clone();const a=(s.url.split(":")[0]||"").toLowerCase();if(a in rg){const u=await rg[a](s.url,ig(i.#l));if(u instanceof Ll){let d=u;if(this.processFunc){ig(i.#l);try{d=await this.processFunc(s,d)}catch(f){(f.throttle==null||typeof f.stall!="number")&&d.makeServerError("error in post-processing function",f).assertOk()}}return d}s=u}this.preflightFunc&&(s=await this.preflightFunc(s));const l=await this.getUrlFunc(s,ig(i.#l));let c=new Ll(l.statusCode,l.statusMessage,l.headers,l.body,i);if(c.statusCode===301||c.statusCode===302){try{const u=c.headers.location||"";return s.redirect(u).#f(e+1,n,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(s,c,e))){const u=c.headers["retry-after"];let d=this.#c.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof u=="string"&&u.match(/^[1-9][0-9]*$/)&&(d=parseInt(u)),s.clone().#f(e+1,n,d,i,c)}if(this.processFunc){ig(i.#l);try{c=await this.processFunc(s,c)}catch(u){(u.throttle==null||typeof u.stall!="number")&&c.makeServerError("error in post-processing function",u).assertOk();let d=this.#c.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(d=u.stall),s.clone().#f(e+1,n,d,i,c)}}return c}send(){return ze(this.#l==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#l=new Bue(this),this.#f(0,TP()+this.timeout,0,this,new Ll(0,"",{},null,this))}cancel(){ze(this.#l!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Q7.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();ze(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new za(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#n=Object.assign({},this.#n),this.#o&&(i.#o=new Uint8Array(this.#o)),i.#a=this.#a,i}clone(){const e=new za(this.url);return e.#r=this.#r,this.#o&&(e.#o=this.#o),e.#a=this.#a,e.#n=Object.assign({},this.#n),e.#p=this.#p,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#u=this.#u,e.#m=this.#m,e.#h=this.#h,e.#c=Object.assign({},this.#c),e.#d=this.#d,e}static lockConfig(){Px=!0}static getGateway(e){return rg[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Px)throw new Error("gateways locked");rg[e]=n}static registerGetUrl(e){if(Px)throw new Error("gateways locked");CP=e}static createGetUrlFunc(e){return $7(e)}static createDataGateway(){return q7}static createIpfsGatewayFunc(e){return K7(e)}}class Ll{#e;#t;#n;#r;#i;#s;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?dt(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":Hv(this.#r)}catch{ze(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{ze(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,n,r,i,o){this.#e=e,this.#t=n,this.#n=Object.keys(r).reduce((s,a)=>(s[a.toLowerCase()]=String(r[a]),s),{}),this.#r=i==null?null:new Uint8Array(i),this.#i=o||null,this.#s={message:""}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new Ll(599,r,this.headers,this.body,this.#i||void 0);return i.#s={message:e,error:n},i}throwThrottleError(e,n){n==null?n=-1:pe(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw kt(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#i}ok(){return this.#s.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=this.#s;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{this.#r&&(i=Hv(this.#r))}catch{}ze(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function TP(){return new Date().getTime()}function Lue(t){return Ia(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function Due(t){return new Promise(e=>setTimeout(e,t))}function Uue(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function MP(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function IP(t,e,n,r){const i=[];for(;n<e+1+r;){const o=X7(t,n);i.push(o.result),n+=o.consumed,ze(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function X7(t,e){ze(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{ze(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=MP(t,e+1,r);return n(e+1+r+i),IP(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),IP(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=MP(t,e+1,r);n(e+1+r+i);const o=dt(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:o}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=dt(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:Uue(t[e])}}function s0(t){const e=Gt(t,"data"),n=X7(e,0);return pe(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function RP(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Y7(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(o){r=r.concat(Y7(o))}),r.length<=55)return r.unshift(192+r.length),r;const i=RP(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(Gt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=RP(e.length);return n.unshift(183+n.length),n.concat(e)}const PP="0123456789abcdef";function $l(t){let e="0x";for(const n of Y7(t))e+=PP[n>>4],e+=PP[n&15];return e}const ci=32,i_=new Uint8Array(ci),zue=["then"],og={},J7=new WeakMap;function wc(t){return J7.get(t)}function kP(t,e){J7.set(t,e)}function Mh(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function o_(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof Aa?o_(wc(r),r,n):r):t.reduce((r,i,o)=>{let s=e.getValue(i);return i in r||(n&&s instanceof Aa&&(s=o_(wc(s),s,n)),r[i]=s),r},{})}class Aa extends Array{#e;constructor(...e){const n=e[0];let r=e[1],i=(e[2]||[]).slice(),o=!0;n!==og&&(r=e,i=[],o=!1),super(r.length),r.forEach((l,c)=>{this[c]=l});const s=i.reduce((l,c)=>(typeof c=="string"&&l.set(c,(l.get(c)||0)+1),l),new Map);if(kP(this,Object.freeze(r.map((l,c)=>{const u=i[c];return u!=null&&s.get(u)===1?u:null}))),this.#e=[],this.#e==null&&this.#e,!o)return;Object.freeze(this);const a=new Proxy(this,{get:(l,c,u)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const f=Ht(c,"%index");if(f<0||f>=this.length)throw new RangeError("out of result range");const h=l[f];return h instanceof Error&&Mh(`index ${f}`,h),h}if(zue.indexOf(c)>=0)return Reflect.get(l,c,u);const d=l[c];if(d instanceof Function)return function(...f){return d.apply(this===u?l:this,f)};if(!(c in l))return l.getValue.apply(this===u?l:this,[c])}return Reflect.get(l,c,u)}});return kP(a,wc(this)),a}toArray(e){const n=[];return this.forEach((r,i)=>{r instanceof Error&&Mh(`index ${i}`,r),e&&r instanceof Aa&&(r=r.toArray(e)),n.push(r)}),n}toObject(e){const n=wc(this);return n.reduce((r,i,o)=>(ze(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),o_(n,this,e)),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const r=wc(this),i=[],o=[];for(let s=e;s<n;s++)i.push(this[s]),o.push(r[s]);return new Aa(og,i,o)}filter(e,n){const r=wc(this),i=[],o=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&Mh(`index ${s}`,a),e.call(n,a,s,this)&&(i.push(a),o.push(r[s]))}return new Aa(og,i,o)}map(e,n){const r=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&Mh(`index ${i}`,o),r.push(e.call(n,o,i,this))}return r}getValue(e){const n=wc(this).indexOf(e);if(n===-1)return;const r=this[n];return r instanceof Error&&Mh(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,n){return new Aa(og,e,n)}}function NP(t){let e=hr(t);return ze(e.length<=ci,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:ci,offset:e.length}),e.length!==ci&&(e=li(Hn([i_.slice(e.length%ci),e]))),e}class qa{name;type;localName;dynamic;constructor(e,n,r,i){kt(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){pe(!1,e,this.localName,n)}}class s_{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return Hn(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(li(e.data))}writeBytes(e){let n=li(e);const r=n.length%ci;return r&&(n=li(Hn([n,i_.slice(r)]))),this.#n(n)}writeValue(e){return this.#n(NP(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(i_),this.#t+=ci,n=>{this.#e[e]=NP(n)}}}class f3{allowLoose;#e;#t;#n;#r;#i;constructor(e,n,r){kt(this,{allowLoose:!!n}),this.#e=li(e),this.#n=0,this.#r=null,this.#i=r??1024,this.#t=0}get data(){return dt(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#s(e){if(this.#r)return this.#r.#s(e);this.#n+=e,ze(this.#i<1||this.#n<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:li(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#o(e,n,r){let i=Math.ceil(n/ci)*ci;return this.#t+i>this.#e.length&&(this.allowLoose&&r&&this.#t+n<=this.#e.length?i=n:ze(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:li(this.#e),length:this.#e.length,offset:this.#t+i})),this.#e.slice(this.#t,this.#t+i)}subReader(e){const n=new f3(this.#e.slice(this.#t+e),this.allowLoose,this.#i);return n.#r=this,n}readBytes(e,n){let r=this.#o(0,e,!!n);return this.#s(e),this.#t+=r.length,r.slice(0,e)}readValue(){return d3(this.readBytes(ci))}readIndex(){return Aue(this.readBytes(ci))}}function Wv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function h3(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function jue(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Wv(t.outputLen),Wv(t.blockLen)}function gf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Z7(t,e){h3(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const kx=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e9=t=>t instanceof Uint8Array,Gue=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Nx=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),_s=(t,e)=>t<<32-e|t>>>e,Hue=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Hue)throw new Error("Non little-endian hardware is not supported");function Wue(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function B1(t){if(typeof t=="string"&&(t=Wue(t)),!e9(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Vue(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!e9(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class p3{clone(){return this._cloneInto()}}function m3(t){const e=r=>t().update(B1(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $ue(t=32){if(kx&&typeof kx.getRandomValues=="function")return kx.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class t9 extends p3{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,jue(e);const r=B1(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return gf(this),this.iHash.update(e),this}digestInto(e){gf(this),h3(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const n9=(t,e,n)=>new t9(t,e).update(n).digest();n9.create=(t,e)=>new t9(t,e);function que(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}class r9 extends p3{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Nx(this.buffer)}update(e){gf(this);const{view:n,buffer:r,blockLen:i}=this;e=B1(e);const o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Nx(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){gf(this),Z7(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let d=s;d<i;d++)n[d]=0;que(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Nx(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%n&&e.buffer.set(r),e}}const Kue=(t,e,n)=>t&e^~t&n,Que=(t,e,n)=>t&e^t&n^e&n,Xue=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nl=new Uint32Array(64);class Yue extends r9{constructor(){super(64,32,8,!1),this.A=tl[0]|0,this.B=tl[1]|0,this.C=tl[2]|0,this.D=tl[3]|0,this.E=tl[4]|0,this.F=tl[5]|0,this.G=tl[6]|0,this.H=tl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)nl[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=nl[d-15],h=nl[d-2],g=_s(f,7)^_s(f,18)^f>>>3,m=_s(h,17)^_s(h,19)^h>>>10;nl[d]=m+nl[d-7]+g+nl[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const f=_s(a,6)^_s(a,11)^_s(a,25),h=u+f+Kue(a,l,c)+Xue[d]+nl[d]|0,m=(_s(r,2)^_s(r,13)^_s(r,22))+Que(r,i,o)|0;u=c,c=l,l=a,a=s+h|0,s=o,o=i,i=r,r=h+m|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,l,c,u)}roundClean(){nl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const i9=m3(()=>new Yue),sg=BigInt(2**32-1),a_=BigInt(32);function o9(t,e=!1){return e?{h:Number(t&sg),l:Number(t>>a_&sg)}:{h:Number(t>>a_&sg)|0,l:Number(t&sg)|0}}function s9(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:s}=o9(t[i],e);[n[i],r[i]]=[o,s]}return[n,r]}const Jue=(t,e)=>BigInt(t>>>0)<<a_|BigInt(e>>>0),Zue=(t,e,n)=>t>>>n,ede=(t,e,n)=>t<<32-n|e>>>n,tde=(t,e,n)=>t>>>n|e<<32-n,nde=(t,e,n)=>t<<32-n|e>>>n,rde=(t,e,n)=>t<<64-n|e>>>n-32,ide=(t,e,n)=>t>>>n-32|e<<64-n,ode=(t,e)=>e,sde=(t,e)=>t,a9=(t,e,n)=>t<<n|e>>>32-n,l9=(t,e,n)=>e<<n|t>>>32-n,c9=(t,e,n)=>e<<n-32|t>>>64-n,u9=(t,e,n)=>t<<n-32|e>>>64-n;function ade(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const lde=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),cde=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,ude=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),dde=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,fde=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),hde=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,Dt={fromBig:o9,split:s9,toBig:Jue,shrSH:Zue,shrSL:ede,rotrSH:tde,rotrSL:nde,rotrBH:rde,rotrBL:ide,rotr32H:ode,rotr32L:sde,rotlSH:a9,rotlSL:l9,rotlBH:c9,rotlBL:u9,add:ade,add3L:lde,add3H:cde,add4L:ude,add4H:dde,add5H:hde,add5L:fde},[pde,mde]=Dt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),rl=new Uint32Array(80),il=new Uint32Array(80);class gde extends r9{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:f,Gh:h,Gl:g,Hh:m,Hl:y}=this;return[e,n,r,i,o,s,a,l,c,u,d,f,h,g,m,y]}set(e,n,r,i,o,s,a,l,c,u,d,f,h,g,m,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=g|0,this.Hh=m|0,this.Hl=y|0}process(e,n){for(let w=0;w<16;w++,n+=4)rl[w]=e.getUint32(n),il[w]=e.getUint32(n+=4);for(let w=16;w<80;w++){const x=rl[w-15]|0,T=il[w-15]|0,N=Dt.rotrSH(x,T,1)^Dt.rotrSH(x,T,8)^Dt.shrSH(x,T,7),A=Dt.rotrSL(x,T,1)^Dt.rotrSL(x,T,8)^Dt.shrSL(x,T,7),z=rl[w-2]|0,S=il[w-2]|0,k=Dt.rotrSH(z,S,19)^Dt.rotrBH(z,S,61)^Dt.shrSH(z,S,6),R=Dt.rotrSL(z,S,19)^Dt.rotrBL(z,S,61)^Dt.shrSL(z,S,6),W=Dt.add4L(A,R,il[w-7],il[w-16]),L=Dt.add4H(W,N,k,rl[w-7],rl[w-16]);rl[w]=L|0,il[w]=W|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:f,Fh:h,Fl:g,Gh:m,Gl:y,Hh:p,Hl:v}=this;for(let w=0;w<80;w++){const x=Dt.rotrSH(d,f,14)^Dt.rotrSH(d,f,18)^Dt.rotrBH(d,f,41),T=Dt.rotrSL(d,f,14)^Dt.rotrSL(d,f,18)^Dt.rotrBL(d,f,41),N=d&h^~d&m,A=f&g^~f&y,z=Dt.add5L(v,T,A,mde[w],il[w]),S=Dt.add5H(z,p,x,N,pde[w],rl[w]),k=z|0,R=Dt.rotrSH(r,i,28)^Dt.rotrBH(r,i,34)^Dt.rotrBH(r,i,39),W=Dt.rotrSL(r,i,28)^Dt.rotrBL(r,i,34)^Dt.rotrBL(r,i,39),L=r&o^r&a^o&a,b=i&s^i&l^s&l;p=m|0,v=y|0,m=h|0,y=g|0,h=d|0,g=f|0,{h:d,l:f}=Dt.add(c|0,u|0,S|0,k|0),c=a|0,u=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const E=Dt.add3L(k,W,b);r=Dt.add3H(E,S,R,L),i=E|0}({h:r,l:i}=Dt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Dt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Dt.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Dt.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:f}=Dt.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:g}=Dt.add(this.Fh|0,this.Fl|0,h|0,g|0),{h:m,l:y}=Dt.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:p,l:v}=Dt.add(this.Hh|0,this.Hl|0,p|0,v|0),this.set(r,i,o,s,a,l,c,u,d,f,h,g,m,y,p,v)}roundClean(){rl.fill(0),il.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const yde=m3(()=>new gde);function vde(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const FP=vde();FP.crypto||FP.msCrypto;function wde(t){switch(t){case"sha256":return i9.create();case"sha512":return yde.create()}pe(!1,"invalid hashing algorithm name","algorithm",t)}const[d9,f9,h9]=[[],[],[]],bde=BigInt(0),Ih=BigInt(1),xde=BigInt(2),Ede=BigInt(7),Ade=BigInt(256),_de=BigInt(113);for(let t=0,e=Ih,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],d9.push(2*(5*r+n)),f9.push((t+1)*(t+2)/2%64);let i=bde;for(let o=0;o<7;o++)e=(e<<Ih^(e>>Ede)*_de)%Ade,e&xde&&(i^=Ih<<(Ih<<BigInt(o))-Ih);h9.push(i)}const[Sde,Cde]=s9(h9,!0),OP=(t,e,n)=>n>32?c9(t,e,n):a9(t,e,n),BP=(t,e,n)=>n>32?u9(t,e,n):l9(t,e,n);function Tde(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],u=n[l+1],d=OP(c,u,1)^n[a],f=BP(c,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[s+h]^=d,t[s+h+1]^=f}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=f9[s],l=OP(i,o,a),c=BP(i,o,a),u=d9[s];i=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Sde[r],t[1]^=Cde[r]}n.fill(0)}class g3 extends p3{constructor(e,n,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Wv(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Gue(this.state)}keccak(){Tde(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){gf(this);const{blockLen:n,state:r}=this;e=B1(e);const i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){gf(this,!1),h3(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Wv(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Z7(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new g3(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Mde=(t,e,n)=>m3(()=>new g3(e,t,n)),Ide=Mde(1,136,256/8);let p9=!1;const m9=function(t){return Ide(t)};let g9=m9;function rr(t){const e=Gt(t,"data");return dt(g9(e))}rr._=m9;rr.lock=function(){p9=!0};rr.register=function(t){if(p9)throw new TypeError("keccak256 is locked");g9=t};Object.freeze(rr);const y9=function(t){return wde("sha256").update(t).digest()};let v9=y9,w9=!1;function th(t){const e=Gt(t,"data");return dt(v9(e))}th._=y9;th.lock=function(){w9=!0};th.register=function(t){if(w9)throw new Error("sha256 is locked");v9=t};Object.freeze(th);Object.freeze(th);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const b9=BigInt(0),L1=BigInt(1),Rde=BigInt(2),D1=t=>t instanceof Uint8Array,Pde=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function yf(t){if(!D1(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=Pde[t[n]];return e}function x9(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function y3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function vf(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function Qc(t){return y3(yf(t))}function v3(t){if(!D1(t))throw new Error("Uint8Array expected");return y3(yf(Uint8Array.from(t).reverse()))}function wf(t,e){return vf(t.toString(16).padStart(e*2,"0"))}function w3(t,e){return wf(t,e).reverse()}function kde(t){return vf(x9(t))}function Xo(t,e,n){let r;if(typeof e=="string")try{r=vf(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(D1(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function vm(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!D1(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function Nde(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Fde(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ode(t){let e;for(e=0;t>b9;t>>=L1,e+=1);return e}function Bde(t,e){return t>>BigInt(e)&L1}const Lde=(t,e,n)=>t|(n?L1:b9)<<BigInt(e),b3=t=>(Rde<<BigInt(t-1))-L1,Fx=t=>new Uint8Array(t),LP=t=>Uint8Array.from(t);function E9(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Fx(t),i=Fx(t),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...d)=>n(i,r,...d),l=(d=Fx())=>{i=a(LP([0]),d),r=a(),d.length!==0&&(i=a(LP([1]),d),r=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){r=a();const h=r.slice();f.push(h),d+=r.length}return vm(...f)};return(d,f)=>{s(),l(d);let h;for(;!(h=f(c()));)l();return s(),h}}const Dde={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function a0(t,e,n={}){const r=(i,o,s)=>{const a=Dde[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=t[i];if(!(s&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const Ude=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Bde,bitLen:Ode,bitMask:b3,bitSet:Lde,bytesToHex:yf,bytesToNumberBE:Qc,bytesToNumberLE:v3,concatBytes:vm,createHmacDrbg:E9,ensureBytes:Xo,equalBytes:Nde,hexToBytes:vf,hexToNumber:y3,numberToBytesBE:wf,numberToBytesLE:w3,numberToHexUnpadded:x9,numberToVarBytesBE:kde,utf8ToBytes:Fde,validateObject:a0},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _r=BigInt(0),Qn=BigInt(1),bc=BigInt(2),zde=BigInt(3),l_=BigInt(4),DP=BigInt(5),UP=BigInt(8);BigInt(9);BigInt(16);function Ai(t,e){const n=t%e;return n>=_r?n:e+n}function jde(t,e,n){if(n<=_r||e<_r)throw new Error("Expected power/modulo > 0");if(n===Qn)return _r;let r=Qn;for(;e>_r;)e&Qn&&(r=r*t%n),t=t*t%n,e>>=Qn;return r}function go(t,e,n){let r=t;for(;e-- >_r;)r*=r,r%=n;return r}function c_(t,e){if(t===_r||e<=_r)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Ai(t,e),r=e,i=_r,o=Qn;for(;n!==_r;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==Qn)throw new Error("invert: does not exist");return Ai(i,e)}function Gde(t){const e=(t-Qn)/bc;let n,r,i;for(n=t-Qn,r=0;n%bc===_r;n/=bc,r++);for(i=bc;i<t&&jde(i,e,t)!==t-Qn;i++);if(r===1){const s=(t+Qn)/l_;return function(l,c){const u=l.pow(c,s);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const o=(n+Qn)/bc;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),d=a.pow(l,o),f=a.pow(l,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let m=a.sqr(f);h<c&&!a.eql(m,a.ONE);h++)m=a.sqr(m);const g=a.pow(u,Qn<<BigInt(c-h-1));u=a.sqr(g),d=a.mul(d,g),f=a.mul(f,u),c=h}return d}}function Hde(t){if(t%l_===zde){const e=(t+Qn)/l_;return function(r,i){const o=r.pow(i,e);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%UP===DP){const e=(t-DP)/UP;return function(r,i){const o=r.mul(i,bc),s=r.pow(o,e),a=r.mul(i,s),l=r.mul(r.mul(a,bc),s),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return Gde(t)}const Wde=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Vde(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Wde.reduce((r,i)=>(r[i]="function",r),e);return a0(t,n)}function $de(t,e,n){if(n<_r)throw new Error("Expected power > 0");if(n===_r)return t.ONE;if(n===Qn)return e;let r=t.ONE,i=e;for(;n>_r;)n&Qn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Qn;return r}function qde(t,e){const n=new Array(e.length),r=e.reduce((o,s,a)=>t.is0(s)?o:(n[a]=o,t.mul(o,s)),t.ONE),i=t.inv(r);return e.reduceRight((o,s,a)=>t.is0(s)?o:(n[a]=t.mul(o,n[a]),t.mul(o,s)),i),n}function A9(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Kde(t,e,n=!1,r={}){if(t<=_r)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=A9(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Hde(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:b3(i),ZERO:_r,ONE:Qn,create:l=>Ai(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return _r<=l&&l<t},is0:l=>l===_r,isOdd:l=>(l&Qn)===Qn,neg:l=>Ai(-l,t),eql:(l,c)=>l===c,sqr:l=>Ai(l*l,t),add:(l,c)=>Ai(l+c,t),sub:(l,c)=>Ai(l-c,t),mul:(l,c)=>Ai(l*c,t),pow:(l,c)=>$de(a,l,c),div:(l,c)=>Ai(l*c_(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>c_(l,t),sqrt:r.sqrt||(l=>s(a,l)),invertBatch:l=>qde(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?w3(l,o):wf(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?v3(l):Qc(l)}});return Object.freeze(a)}function _9(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function S9(t){const e=_9(t);return e+Math.ceil(e/2)}function Qde(t,e,n=!1){const r=t.length,i=_9(e),o=S9(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=n?Qc(t):v3(t),a=Ai(s,e-Qn)+Qn;return n?w3(a,i):wf(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xde=BigInt(0),Ox=BigInt(1);function Yde(t,e){const n=(i,o)=>{const s=o.negate();return i?s:o},r=i=>{const o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:n,unsafeLadder(i,o){let s=t.ZERO,a=i;for(;o>Xde;)o&Ox&&(s=s.add(a)),a=a.double(),o>>=Ox;return s},precomputeWindow(i,o){const{windows:s,windowSize:a}=r(o),l=[];let c=i,u=c;for(let d=0;d<s;d++){u=c,l.push(u);for(let f=1;f<a;f++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,o,s){const{windows:a,windowSize:l}=r(i);let c=t.ZERO,u=t.BASE;const d=BigInt(2**i-1),f=2**i,h=BigInt(i);for(let g=0;g<a;g++){const m=g*l;let y=Number(s&d);s>>=h,y>l&&(y-=f,s+=Ox);const p=m,v=m+Math.abs(y)-1,w=g%2!==0,x=y<0;y===0?u=u.add(n(w,o[p])):c=c.add(n(x,o[v]))}return{p:c,f:u}},wNAFCached(i,o,s,a){const l=i._WINDOW_SIZE||1;let c=o.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&o.set(i,a(c))),this.wNAF(l,c,s)}}}function C9(t){return Vde(t.Fp),a0(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...A9(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Jde(t){const e=C9(t);a0(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Zde,hexToBytes:efe}=Ude,Lc={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Lc;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Zde(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Lc,n=typeof t=="string"?efe(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=Lc._parseInt(n.subarray(2)),{d:s,l:a}=Lc._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),o=r.length/2,s=i.length/2,a=n(o),l=n(s);return`30${n(s+o+4)}02${l}${i}02${a}${r}`}},ya=BigInt(0),bo=BigInt(1);BigInt(2);const zP=BigInt(3);BigInt(4);function tfe(t){const e=Jde(t),{Fp:n}=e,r=e.toBytes||((g,m,y)=>{const p=m.toAffine();return vm(Uint8Array.from([4]),n.toBytes(p.x),n.toBytes(p.y))}),i=e.fromBytes||(g=>{const m=g.subarray(1),y=n.fromBytes(m.subarray(0,n.BYTES)),p=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:y,y:p}});function o(g){const{a:m,b:y}=e,p=n.sqr(g),v=n.mul(p,g);return n.add(n.add(v,n.mul(g,m)),y)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(g){return typeof g=="bigint"&&ya<g&&g<e.n}function a(g){if(!s(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(g){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:p,n:v}=e;if(m&&typeof g!="bigint"){if(g instanceof Uint8Array&&(g=yf(g)),typeof g!="string"||!m.includes(g.length))throw new Error("Invalid key");g=g.padStart(y*2,"0")}let w;try{w=typeof g=="bigint"?g:Qc(Xo("private key",g,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof g}`)}return p&&(w=Ai(w,v)),a(w),w}const c=new Map;function u(g){if(!(g instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(m,y,p){if(this.px=m,this.py=y,this.pz=p,m==null||!n.isValid(m))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(p==null||!n.isValid(p))throw new Error("z required")}static fromAffine(m){const{x:y,y:p}=m||{};if(!m||!n.isValid(y)||!n.isValid(p))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");const v=w=>n.eql(w,n.ZERO);return v(y)&&v(p)?d.ZERO:new d(y,p,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=n.invertBatch(m.map(p=>p.pz));return m.map((p,v)=>p.toAffine(y[v])).map(d.fromAffine)}static fromHex(m){const y=d.fromAffine(i(Xo("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return d.BASE.multiply(l(m))}_setWindowSize(m){this._WINDOW_SIZE=m,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=this.toAffine();if(!n.isValid(m)||!n.isValid(y))throw new Error("bad point: x or y not FE");const p=n.sqr(y),v=o(m);if(!n.eql(p,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){u(m);const{px:y,py:p,pz:v}=this,{px:w,py:x,pz:T}=m,N=n.eql(n.mul(y,T),n.mul(w,v)),A=n.eql(n.mul(p,T),n.mul(x,v));return N&&A}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:y}=e,p=n.mul(y,zP),{px:v,py:w,pz:x}=this;let T=n.ZERO,N=n.ZERO,A=n.ZERO,z=n.mul(v,v),S=n.mul(w,w),k=n.mul(x,x),R=n.mul(v,w);return R=n.add(R,R),A=n.mul(v,x),A=n.add(A,A),T=n.mul(m,A),N=n.mul(p,k),N=n.add(T,N),T=n.sub(S,N),N=n.add(S,N),N=n.mul(T,N),T=n.mul(R,T),A=n.mul(p,A),k=n.mul(m,k),R=n.sub(z,k),R=n.mul(m,R),R=n.add(R,A),A=n.add(z,z),z=n.add(A,z),z=n.add(z,k),z=n.mul(z,R),N=n.add(N,z),k=n.mul(w,x),k=n.add(k,k),z=n.mul(k,R),T=n.sub(T,z),A=n.mul(k,S),A=n.add(A,A),A=n.add(A,A),new d(T,N,A)}add(m){u(m);const{px:y,py:p,pz:v}=this,{px:w,py:x,pz:T}=m;let N=n.ZERO,A=n.ZERO,z=n.ZERO;const S=e.a,k=n.mul(e.b,zP);let R=n.mul(y,w),W=n.mul(p,x),L=n.mul(v,T),b=n.add(y,p),E=n.add(w,x);b=n.mul(b,E),E=n.add(R,W),b=n.sub(b,E),E=n.add(y,v);let I=n.add(w,T);return E=n.mul(E,I),I=n.add(R,L),E=n.sub(E,I),I=n.add(p,v),N=n.add(x,T),I=n.mul(I,N),N=n.add(W,L),I=n.sub(I,N),z=n.mul(S,E),N=n.mul(k,L),z=n.add(N,z),N=n.sub(W,z),z=n.add(W,z),A=n.mul(N,z),W=n.add(R,R),W=n.add(W,R),L=n.mul(S,L),E=n.mul(k,E),W=n.add(W,L),L=n.sub(R,L),L=n.mul(S,L),E=n.add(E,L),R=n.mul(W,E),A=n.add(A,R),R=n.mul(I,E),N=n.mul(b,N),N=n.sub(N,R),R=n.mul(b,W),z=n.mul(I,z),z=n.add(z,R),new d(N,A,z)}subtract(m){return this.add(m.negate())}is0(){return this.equals(d.ZERO)}wNAF(m){return h.wNAFCached(this,c,m,y=>{const p=n.invertBatch(y.map(v=>v.pz));return y.map((v,w)=>v.toAffine(p[w])).map(d.fromAffine)})}multiplyUnsafe(m){const y=d.ZERO;if(m===ya)return y;if(a(m),m===bo)return this;const{endo:p}=e;if(!p)return h.unsafeLadder(this,m);let{k1neg:v,k1:w,k2neg:x,k2:T}=p.splitScalar(m),N=y,A=y,z=this;for(;w>ya||T>ya;)w&bo&&(N=N.add(z)),T&bo&&(A=A.add(z)),z=z.double(),w>>=bo,T>>=bo;return v&&(N=N.negate()),x&&(A=A.negate()),A=new d(n.mul(A.px,p.beta),A.py,A.pz),N.add(A)}multiply(m){a(m);let y=m,p,v;const{endo:w}=e;if(w){const{k1neg:x,k1:T,k2neg:N,k2:A}=w.splitScalar(y);let{p:z,f:S}=this.wNAF(T),{p:k,f:R}=this.wNAF(A);z=h.constTimeNegate(x,z),k=h.constTimeNegate(N,k),k=new d(n.mul(k.px,w.beta),k.py,k.pz),p=z.add(k),v=S.add(R)}else{const{p:x,f:T}=this.wNAF(y);p=x,v=T}return d.normalizeZ([p,v])[0]}multiplyAndAddUnsafe(m,y,p){const v=d.BASE,w=(T,N)=>N===ya||N===bo||!T.equals(v)?T.multiplyUnsafe(N):T.multiply(N),x=w(this,y).add(w(m,p));return x.is0()?void 0:x}toAffine(m){const{px:y,py:p,pz:v}=this,w=this.is0();m==null&&(m=w?n.ONE:n.inv(v));const x=n.mul(y,m),T=n.mul(p,m),N=n.mul(v,m);if(w)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x,y:T}}isTorsionFree(){const{h:m,isTorsionFree:y}=e;if(m===bo)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=e;return m===bo?this:y?y(d,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),r(d,this,m)}toHex(m=!0){return yf(this.toRawBytes(m))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,h=Yde(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function nfe(t){const e=C9(t);return a0(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function rfe(t){const e=nfe(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function s(E){return ya<E&&E<n.ORDER}function a(E){return Ai(E,r)}function l(E){return c_(E,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=tfe({...e,toBytes(E,I,O){const C=I.toAffine(),j=n.toBytes(C.x),H=vm;return O?H(Uint8Array.from([I.hasEvenY()?2:3]),j):H(Uint8Array.from([4]),j,n.toBytes(C.y))},fromBytes(E){const I=E.length,O=E[0],C=E.subarray(1);if(I===i&&(O===2||O===3)){const j=Qc(C);if(!s(j))throw new Error("Point is not on curve");const H=d(j);let D=n.sqrt(H);const M=(D&bo)===bo;return(O&1)===1!==M&&(D=n.neg(D)),{x:j,y:D}}else if(I===o&&O===4){const j=n.fromBytes(C.subarray(0,n.BYTES)),H=n.fromBytes(C.subarray(n.BYTES,2*n.BYTES));return{x:j,y:H}}else throw new Error(`Point of length ${I} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),h=E=>yf(wf(E,e.nByteLength));function g(E){const I=r>>bo;return E>I}function m(E){return g(E)?a(-E):E}const y=(E,I,O)=>Qc(E.slice(I,O));class p{constructor(I,O,C){this.r=I,this.s=O,this.recovery=C,this.assertValidity()}static fromCompact(I){const O=e.nByteLength;return I=Xo("compactSignature",I,O*2),new p(y(I,0,O),y(I,O,2*O))}static fromDER(I){const{r:O,s:C}=Lc.toSig(Xo("DER",I));return new p(O,C)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(I){return new p(this.r,this.s,I)}recoverPublicKey(I){const{r:O,s:C,recovery:j}=this,H=A(Xo("msgHash",I));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const D=j===2||j===3?O+e.n:O;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=j&1?"03":"02",$=c.fromHex(M+h(D)),J=l(D),Z=a(-H*J),ce=a(C*J),oe=c.BASE.multiplyAndAddUnsafe($,Z,ce);if(!oe)throw new Error("point at infinify");return oe.assertValidity(),oe}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return vf(this.toDERHex())}toDERHex(){return Lc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return vf(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const v={isValidPrivateKey(E){try{return u(E),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const E=S9(e.n);return Qde(e.randomBytes(E),e.n)},precompute(E=8,I=c.BASE){return I._setWindowSize(E),I.multiply(BigInt(3)),I}};function w(E,I=!0){return c.fromPrivateKey(E).toRawBytes(I)}function x(E){const I=E instanceof Uint8Array,O=typeof E=="string",C=(I||O)&&E.length;return I?C===i||C===o:O?C===2*i||C===2*o:E instanceof c}function T(E,I,O=!0){if(x(E))throw new Error("first arg must be private key");if(!x(I))throw new Error("second arg must be public key");return c.fromHex(I).multiply(u(E)).toRawBytes(O)}const N=e.bits2int||function(E){const I=Qc(E),O=E.length*8-e.nBitLength;return O>0?I>>BigInt(O):I},A=e.bits2int_modN||function(E){return a(N(E))},z=b3(e.nBitLength);function S(E){if(typeof E!="bigint")throw new Error("bigint expected");if(!(ya<=E&&E<z))throw new Error(`bigint expected < 2^${e.nBitLength}`);return wf(E,e.nByteLength)}function k(E,I,O=R){if(["recovered","canonical"].some(de=>de in O))throw new Error("sign() legacy options not supported");const{hash:C,randomBytes:j}=e;let{lowS:H,prehash:D,extraEntropy:M}=O;H==null&&(H=!0),E=Xo("msgHash",E),D&&(E=Xo("prehashed msgHash",C(E)));const $=A(E),J=u(I),Z=[S(J),S($)];if(M!=null){const de=M===!0?j(n.BYTES):M;Z.push(Xo("extraEntropy",de))}const ce=vm(...Z),oe=$;function Ee(de){const Re=N(de);if(!f(Re))return;const ae=l(Re),we=c.BASE.multiply(Re).toAffine(),qe=a(we.x);if(qe===ya)return;const te=a(ae*a(oe+qe*J));if(te===ya)return;let We=(we.x===qe?0:2)|Number(we.y&bo),Ke=te;return H&&g(te)&&(Ke=m(te),We^=1),new p(qe,Ke,We)}return{seed:ce,k2sig:Ee}}const R={lowS:e.lowS,prehash:!1},W={lowS:e.lowS,prehash:!1};function L(E,I,O=R){const{seed:C,k2sig:j}=k(E,I,O),H=e;return E9(H.hash.outputLen,H.nByteLength,H.hmac)(C,j)}c.BASE._setWindowSize(8);function b(E,I,O,C=W){const j=E;if(I=Xo("msgHash",I),O=Xo("publicKey",O),"strict"in C)throw new Error("options.strict was renamed to lowS");const{lowS:H,prehash:D}=C;let M,$;try{if(typeof j=="string"||j instanceof Uint8Array)try{M=p.fromDER(j)}catch(we){if(!(we instanceof Lc.Err))throw we;M=p.fromCompact(j)}else if(typeof j=="object"&&typeof j.r=="bigint"&&typeof j.s=="bigint"){const{r:we,s:qe}=j;M=new p(we,qe)}else throw new Error("PARSE");$=c.fromHex(O)}catch(we){if(we.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(H&&M.hasHighS())return!1;D&&(I=e.hash(I));const{r:J,s:Z}=M,ce=A(I),oe=l(Z),Ee=a(ce*oe),de=a(J*oe),Re=c.BASE.multiplyAndAddUnsafe($,Ee,de)?.toAffine();return Re?a(Re.x)===J:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:T,sign:L,verify:b,ProjectivePoint:c,Signature:p,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ife(t){return{hash:t,hmac:(e,...n)=>n9(t,e,Vue(...n)),randomBytes:$ue}}function ofe(t,e){const n=r=>rfe({...t,...ife(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const T9=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),jP=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sfe=BigInt(1),u_=BigInt(2),GP=(t,e)=>(t+e/u_)/e;function afe(t){const e=T9,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,d=go(u,n,e)*u%e,f=go(d,n,e)*u%e,h=go(f,u_,e)*c%e,g=go(h,i,e)*h%e,m=go(g,o,e)*g%e,y=go(m,a,e)*m%e,p=go(y,l,e)*y%e,v=go(p,a,e)*m%e,w=go(v,n,e)*u%e,x=go(w,s,e)*g%e,T=go(x,r,e)*c%e,N=go(T,u_,e);if(!d_.eql(d_.sqr(N),t))throw new Error("Cannot find square root");return N}const d_=Kde(T9,void 0,void 0,{sqrt:afe}),fl=ofe({a:BigInt(0),b:BigInt(7),Fp:d_,n:jP,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=jP,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-sfe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=GP(o*t,e),l=GP(-r*t,e);let c=Ai(t-a*n-l*i,e),u=Ai(-a*r-l*o,e);const d=c>s,f=u>s;if(d&&(c=e-c),f&&(u=e-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:f,k2:u}}}},i9);BigInt(0);fl.ProjectivePoint;const wm="0x0000000000000000000000000000000000000000",HP="0x0000000000000000000000000000000000000000000000000000000000000000",WP=BigInt(0),VP=BigInt(1),$P=BigInt(2),qP=BigInt(27),KP=BigInt(28),ag=BigInt(35),Vu={};function QP(t){return Ua(hr(t),32)}class zn{#e;#t;#n;#r;get r(){return this.#e}set r(e){pe(Gd(e)===32,"invalid r","value",e),this.#e=dt(e)}get s(){return this.#t}set s(e){pe(Gd(e)===32,"invalid s","value",e);const n=dt(e);pe(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),this.#t=n}get v(){return this.#n}set v(e){const n=Ht(e,"value");pe(n===27||n===28,"invalid v","v",e),this.#n=n}get networkV(){return this.#r}get legacyChainId(){const e=this.networkV;return e==null?null:zn.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Gt(this.s);return this.yParity&&(e[0]|=128),dt(e)}get compactSerialized(){return Hn([this.r,this.yParityAndS])}get serialized(){return Hn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,n,r,i){N1(e,Vu,"Signature"),this.#e=n,this.#t=r,this.#n=i,this.#r=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new zn(Vu,this.r,this.s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=At(e,"v");return n==qP||n==KP?WP:(pe(n>=ag,"invalid EIP-155 v","v",e),(n-ag)/$P)}static getChainIdV(e,n){return At(e)*$P+BigInt(35+n-27)}static getNormalizedV(e){const n=At(e);return n===WP||n===qP?27:n===VP||n===KP?28:(pe(n>=ag,"invalid v","v",e),n&VP?27:28)}static from(e){function n(c,u){pe(c,u,"signature",e)}if(e==null)return new zn(Vu,HP,HP,27);if(typeof e=="string"){const c=Gt(e,"signature");if(c.length===64){const u=dt(c.slice(0,32)),d=c.slice(32,64),f=d[0]&128?28:27;return d[0]&=127,new zn(Vu,u,dt(d),f)}if(c.length===65){const u=dt(c.slice(0,32)),d=c.slice(32,64);n((d[0]&128)===0,"non-canonical s");const f=zn.getNormalizedV(c[64]);return new zn(Vu,u,dt(d),f)}n(!1,"invalid raw signature length")}if(e instanceof zn)return e.clone();const r=e.r;n(r!=null,"missing r");const i=QP(r),o=function(c,u){if(c!=null)return QP(c);if(u!=null){n(bn(u,32),"invalid yParityAndS");const d=Gt(u);return d[0]&=127,dt(d)}n(!1,"missing s")}(e.s,e.yParityAndS);n((Gt(o)[0]&128)==0,"non-canonical s");const{networkV:s,v:a}=function(c,u,d){if(c!=null){const f=At(c);return{networkV:f>=ag?f:void 0,v:zn.getNormalizedV(f)}}if(u!=null)return n(bn(u,32),"invalid yParityAndS"),{v:Gt(u)[0]&128?28:27};if(d!=null){switch(Ht(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new zn(Vu,i,o,a);return s&&(l.#r=s),n(e.yParity==null||Ht(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}}class va{#e;constructor(e){pe(Gd(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=dt(e)}get privateKey(){return this.#e}get publicKey(){return va.computePublicKey(this.#e)}get compressedPublicKey(){return va.computePublicKey(this.#e,!0)}sign(e){pe(Gd(e)===32,"invalid digest length","digest",e);const n=fl.sign(li(e),li(this.#e),{lowS:!0});return zn.from({r:Vl(n.r,32),s:Vl(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=va.computePublicKey(e);return dt(fl.getSharedSecret(li(this.#e),Gt(n),!1))}static computePublicKey(e,n){let r=Gt(e,"key");if(r.length===32){const o=fl.getPublicKey(r,!!n);return dt(o)}if(r.length===64){const o=new Uint8Array(65);o[0]=4,o.set(r,1),r=o}const i=fl.ProjectivePoint.fromHex(r);return dt(i.toRawBytes(n))}static recoverPublicKey(e,n){pe(Gd(e)===32,"invalid digest length","digest",e);const r=zn.from(n);let i=fl.Signature.fromCompact(li(Hn([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const o=i.recoverPublicKey(li(e));return pe(o!=null,"invalid signature for digest","signature",n),"0x"+o.toHex(!1)}static addPoints(e,n,r){const i=fl.ProjectivePoint.fromHex(va.computePublicKey(e).substring(2)),o=fl.ProjectivePoint.fromHex(va.computePublicKey(n).substring(2));return"0x"+i.add(o).toHex(!!r)}}const lfe=BigInt(0),cfe=BigInt(36);function XP(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=Gt(rr(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const x3={};for(let t=0;t<10;t++)x3[String(t)]=String(t);for(let t=0;t<26;t++)x3[String.fromCharCode(65+t)]=String(10+t);const YP=15;function ufe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>x3[r]).join("");for(;e.length>=YP;){let r=e.substring(0,YP);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const dfe=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function ffe(t){t=t.toLowerCase();let e=lfe;for(let n=0;n<t.length;n++)e=e*cfe+dfe[t[n]];return e}function cn(t){if(pe(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=XP(t);return pe(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){pe(t.substring(2,4)===ufe(t),"bad icap checksum","address",t);let e=ffe(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return XP("0x"+e)}pe(!1,"invalid address","address",t)}function hfe(t){const e=cn(t.from);let r=At(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,cn(Dn(rr($l([e,r])),12))}function M9(t){return t&&typeof t.getAddress=="function"}async function Bx(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(ze(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),pe(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),cn(n)}function ui(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?cn(t):(ze(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Bx(t,e.resolveName(t)));if(M9(t))return Bx(t,t.getAddress());if(t&&typeof t.then=="function")return Bx(t,t);pe(!1,"unsupported addressable value","target",t)}const fa={};function bt(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new jn(fa,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function en(t,e){return new jn(fa,`bytes${e||""}`,t,{size:e})}const JP=Symbol.for("_ethers_typed");class jn{type;value;#e;_typedSymbol;constructor(e,n,r,i){i==null&&(i=null),N1(fa,e,"Typed"),kt(this,{_typedSymbol:JP,type:n,value:r}),this.#e=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,n){return new jn(fa,e,n)}static uint8(e){return bt(e,8)}static uint16(e){return bt(e,16)}static uint24(e){return bt(e,24)}static uint32(e){return bt(e,32)}static uint40(e){return bt(e,40)}static uint48(e){return bt(e,48)}static uint56(e){return bt(e,56)}static uint64(e){return bt(e,64)}static uint72(e){return bt(e,72)}static uint80(e){return bt(e,80)}static uint88(e){return bt(e,88)}static uint96(e){return bt(e,96)}static uint104(e){return bt(e,104)}static uint112(e){return bt(e,112)}static uint120(e){return bt(e,120)}static uint128(e){return bt(e,128)}static uint136(e){return bt(e,136)}static uint144(e){return bt(e,144)}static uint152(e){return bt(e,152)}static uint160(e){return bt(e,160)}static uint168(e){return bt(e,168)}static uint176(e){return bt(e,176)}static uint184(e){return bt(e,184)}static uint192(e){return bt(e,192)}static uint200(e){return bt(e,200)}static uint208(e){return bt(e,208)}static uint216(e){return bt(e,216)}static uint224(e){return bt(e,224)}static uint232(e){return bt(e,232)}static uint240(e){return bt(e,240)}static uint248(e){return bt(e,248)}static uint256(e){return bt(e,256)}static uint(e){return bt(e,256)}static int8(e){return bt(e,-8)}static int16(e){return bt(e,-16)}static int24(e){return bt(e,-24)}static int32(e){return bt(e,-32)}static int40(e){return bt(e,-40)}static int48(e){return bt(e,-48)}static int56(e){return bt(e,-56)}static int64(e){return bt(e,-64)}static int72(e){return bt(e,-72)}static int80(e){return bt(e,-80)}static int88(e){return bt(e,-88)}static int96(e){return bt(e,-96)}static int104(e){return bt(e,-104)}static int112(e){return bt(e,-112)}static int120(e){return bt(e,-120)}static int128(e){return bt(e,-128)}static int136(e){return bt(e,-136)}static int144(e){return bt(e,-144)}static int152(e){return bt(e,-152)}static int160(e){return bt(e,-160)}static int168(e){return bt(e,-168)}static int176(e){return bt(e,-176)}static int184(e){return bt(e,-184)}static int192(e){return bt(e,-192)}static int200(e){return bt(e,-200)}static int208(e){return bt(e,-208)}static int216(e){return bt(e,-216)}static int224(e){return bt(e,-224)}static int232(e){return bt(e,-232)}static int240(e){return bt(e,-240)}static int248(e){return bt(e,-248)}static int256(e){return bt(e,-256)}static int(e){return bt(e,-256)}static bytes1(e){return en(e,1)}static bytes2(e){return en(e,2)}static bytes3(e){return en(e,3)}static bytes4(e){return en(e,4)}static bytes5(e){return en(e,5)}static bytes6(e){return en(e,6)}static bytes7(e){return en(e,7)}static bytes8(e){return en(e,8)}static bytes9(e){return en(e,9)}static bytes10(e){return en(e,10)}static bytes11(e){return en(e,11)}static bytes12(e){return en(e,12)}static bytes13(e){return en(e,13)}static bytes14(e){return en(e,14)}static bytes15(e){return en(e,15)}static bytes16(e){return en(e,16)}static bytes17(e){return en(e,17)}static bytes18(e){return en(e,18)}static bytes19(e){return en(e,19)}static bytes20(e){return en(e,20)}static bytes21(e){return en(e,21)}static bytes22(e){return en(e,22)}static bytes23(e){return en(e,23)}static bytes24(e){return en(e,24)}static bytes25(e){return en(e,25)}static bytes26(e){return en(e,26)}static bytes27(e){return en(e,27)}static bytes28(e){return en(e,28)}static bytes29(e){return en(e,29)}static bytes30(e){return en(e,30)}static bytes31(e){return en(e,31)}static bytes32(e){return en(e,32)}static address(e){return new jn(fa,"address",e)}static bool(e){return new jn(fa,"bool",!!e)}static bytes(e){return new jn(fa,"bytes",e)}static string(e){return new jn(fa,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new jn(fa,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===JP}static dereference(e,n){if(jn.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}}class pfe extends qa{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=jn.dereference(n,"string");try{r=cn(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return cn(Vl(e.readValue(),20))}}class mfe extends qa{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}function I9(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(c=>{const u=c.localName;return ze(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),ze(!l[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),l[u]=!0,n[u]})}else pe(!1,"invalid tuple value","tuple",n);pe(e.length===r.length,"types/value length mismatch","tuple",n);let i=new s_,o=new s_,s=[];e.forEach((l,c)=>{let u=r[c];if(l.dynamic){let d=o.length;l.encode(o,u);let f=i.writeUpdatableValue();s.push(h=>{f(h+d)})}else l.encode(i,u)}),s.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function R9(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(o=>{let s=null;if(o.dynamic){let a=t.readIndex(),l=i.subReader(a);try{s=o.decode(l)}catch(c){if(Br(c,"BUFFER_OVERRUN"))throw c;s=c,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(t)}catch(a){if(Br(a,"BUFFER_OVERRUN"))throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}if(s==null)throw new Error("investigate");n.push(s),r.push(o.localName||null)}),Aa.fromItems(n,r)}class gfe extends qa{coder;length;constructor(e,n,r){const i=e.type+"["+(n>=0?n:"")+"]",o=n===-1||e.dynamic;super("array",i,r,o),kt(this,{coder:e,length:n})}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){const r=jn.dereference(n,"array");Array.isArray(r)||this._throwError("expected array value",r);let i=this.length;i===-1&&(i=r.length,e.writeValue(r.length)),z7(r.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let s=0;s<r.length;s++)o.push(this.coder);return I9(e,o,r)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),ze(n*ci<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*ci,length:e.dataLength}));let r=[];for(let i=0;i<n;i++)r.push(new mfe(this.coder));return R9(e,r)}}class yfe extends qa{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=jn.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class P9 extends qa{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=li(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class vfe extends P9{constructor(e){super("bytes",e)}decode(e){return dt(super.decode(e))}}class wfe extends qa{size;constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),kt(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=li(jn.dereference(n,this.type));return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return dt(e.readBytes(this.size))}}const bfe=new Uint8Array([]);class xfe extends qa{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(bfe)}decode(e){return e.readBytes(0),null}}const Efe=BigInt(0),Afe=BigInt(1),_fe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Sfe extends qa{size;signed;constructor(e,n,r){const i=(n?"int":"uint")+e*8;super(i,i,r,!1),kt(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let r=At(jn.dereference(n,this.type)),i=$h(_fe,ci*8);if(this.signed){let o=$h(i,this.size*8-1);(r>o||r<-(o+Afe))&&this._throwError("value out-of-bounds",n),r=H7(r,8*ci)}else(r<Efe||r>$h(i,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(r)}decode(e){let n=$h(e.readValue(),this.size*8);return this.signed&&(n=Eue(n,this.size*8)),n}}class Cfe extends P9{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Ia(jn.dereference(n,"string")))}decode(e){return Hv(super.decode(e))}}class lg extends qa{coders;constructor(e,n){let r=!1;const i=[];e.forEach(s=>{s.dynamic&&(r=!0),i.push(s.type)});const o="tuple("+i.join(",")+")";super("tuple",o,n,r),kt(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const n=this.coders.reduce((r,i)=>{const o=i.localName;return o&&(r[o]||(r[o]=0),r[o]++),r},{});return this.coders.forEach((r,i)=>{let o=r.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,n){const r=jn.dereference(n,"tuple");return I9(e,this.coders,r)}decode(e){return R9(e,this.coders)}}function Lx(t,e){return{address:cn(t),storageKeys:e.map((n,r)=>(pe(bn(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Ou(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(pe(n.length===2,"invalid slot set",`value[${r}]`,n),Lx(n[0],n[1])):(pe(n!=null&&typeof n=="object","invalid address-slot set","value",t),Lx(n.address,n.storageKeys)));pe(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,o)=>(i[o]=!0,i),{});return Lx(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function k9(t){return{address:cn(t.address),nonce:At(t.nonce!=null?t.nonce:0),chainId:At(t.chainId!=null?t.chainId:0),signature:zn.from(t.signature)}}function Tfe(t){let e;return typeof t=="string"?e=va.computePublicKey(t,!1):e=t.publicKey,cn(rr("0x"+e.substring(4)).substring(26))}function Mfe(t,e){return Tfe(va.recoverPublicKey(t,e))}const Er=BigInt(0),Ife=BigInt(2),Rfe=BigInt(27),Pfe=BigInt(28),kfe=BigInt(35),Nfe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Dx=4096*32;function Ffe(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Gt(t.blobToKzgCommitment(dt(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Gt(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Gt(t.blobToKZGCommitment(dt(r)));pe(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Gt(t.computeBlobProof(dt(r),dt(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Gt(t.computeBlobKZGProof(dt(r),dt(i)));pe(!1,"unsupported KZG library","kzg",t)}}}function ZP(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=th(e).substring(4),"0x"+n}function nh(t){return t==="0x"?null:cn(t)}function U1(t,e){try{return Ou(t)}catch(n){pe(!1,n.message,e,t)}}function Ofe(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:nh(i[1]),nonce:mn(i[2],"nonce"),chainId:mn(i[0],"chainId"),signature:zn.from({yParity:Bu(i[3],"yParity"),r:Ua(i[4],32),s:Ua(i[5],32)})})}return n}catch(n){pe(!1,n.message,e,t)}}function Bu(t,e){return t==="0x"?0:Ht(t,e)}function mn(t,e){if(t==="0x")return Er;const n=At(t,e);return pe(n<=Nfe,"value exceeds uint size",e,n),n}function Yt(t,e){const n=At(t,"value"),r=hr(n);return pe(r.length<=32,"value too large",`tx.${e}`,n),r}function z1(t){return Ou(t).map(e=>[e.address,e.storageKeys])}function Bfe(t){return t.map(e=>[Yt(e.chainId,"chainId"),e.address,Yt(e.nonce,"nonce"),Yt(e.signature.yParity,"yParity"),hr(e.signature.r),hr(e.signature.s)])}function Lfe(t,e){pe(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)pe(bn(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function Dfe(t){const e=s0(t);pe(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Bu(e[0],"nonce"),gasPrice:mn(e[1],"gasPrice"),gasLimit:mn(e[2],"gasLimit"),to:nh(e[3]),value:mn(e[4],"value"),data:dt(e[5]),chainId:Er};if(e.length===6)return n;const r=mn(e[6],"v"),i=mn(e[7],"r"),o=mn(e[8],"s");if(i===Er&&o===Er)n.chainId=r;else{let s=(r-kfe)/Ife;s<Er&&(s=Er),n.chainId=s,pe(s!==Er||r===Rfe||r===Pfe,"non-canonical legacy v","v",e[6]),n.signature=zn.from({r:Ua(e[7],32),s:Ua(e[8],32),v:r})}return n}function Ufe(t,e){const n=[Yt(t.nonce,"nonce"),Yt(t.gasPrice||0,"gasPrice"),Yt(t.gasLimit,"gasLimit"),t.to||"0x",Yt(t.value,"value"),t.data];let r=Er;if(t.chainId!=Er)r=At(t.chainId,"tx.chainId"),pe(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const o=t.signature.legacyChainId;o!=null&&(r=o)}if(!e)return r!==Er&&(n.push(hr(r)),n.push("0x"),n.push("0x")),$l(n);let i=BigInt(27+e.yParity);return r!==Er?i=zn.getChainIdV(r,e.v):BigInt(e.v)!==i&&pe(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(hr(i)),n.push(hr(e.r)),n.push(hr(e.s)),$l(n)}function j1(t,e){let n;try{if(n=Bu(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{pe(!1,"invalid yParity","yParity",e[0])}const r=Ua(e[1],32),i=Ua(e[2],32),o=zn.from({r,s:i,yParity:n});t.signature=o}function zfe(t){const e=s0(Gt(t).slice(1));pe(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",dt(t));const n={type:2,chainId:mn(e[0],"chainId"),nonce:Bu(e[1],"nonce"),maxPriorityFeePerGas:mn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:mn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:mn(e[4],"gasLimit"),to:nh(e[5]),value:mn(e[6],"value"),data:dt(e[7]),accessList:U1(e[8],"accessList")};return e.length===9||j1(n,e.slice(9)),n}function jfe(t,e){const n=[Yt(t.chainId,"chainId"),Yt(t.nonce,"nonce"),Yt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Yt(t.maxFeePerGas||0,"maxFeePerGas"),Yt(t.gasLimit,"gasLimit"),t.to||"0x",Yt(t.value,"value"),t.data,z1(t.accessList||[])];return e&&(n.push(Yt(e.yParity,"yParity")),n.push(hr(e.r)),n.push(hr(e.s))),Hn(["0x02",$l(n)])}function Gfe(t){const e=s0(Gt(t).slice(1));pe(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",dt(t));const n={type:1,chainId:mn(e[0],"chainId"),nonce:Bu(e[1],"nonce"),gasPrice:mn(e[2],"gasPrice"),gasLimit:mn(e[3],"gasLimit"),to:nh(e[4]),value:mn(e[5],"value"),data:dt(e[6]),accessList:U1(e[7],"accessList")};return e.length===8||j1(n,e.slice(8)),n}function Hfe(t,e){const n=[Yt(t.chainId,"chainId"),Yt(t.nonce,"nonce"),Yt(t.gasPrice||0,"gasPrice"),Yt(t.gasLimit,"gasLimit"),t.to||"0x",Yt(t.value,"value"),t.data,z1(t.accessList||[])];return e&&(n.push(Yt(e.yParity,"recoveryParam")),n.push(hr(e.r)),n.push(hr(e.s))),Hn(["0x01",$l(n)])}function Wfe(t){let e=s0(Gt(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const o=e[1],s=e[2],a=e[3];pe(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),pe(Array.isArray(s),"invalid network format: commitments not an array","fields[2]",s),pe(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),pe(o.length===s.length,"invalid network format: blobs/commitments length mismatch","fields",e),pe(o.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let l=0;l<e[1].length;l++)r.push({data:o[l],commitment:s[l],proof:a[l]});e=e[0]}pe(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",dt(t));const i={type:3,chainId:mn(e[0],"chainId"),nonce:Bu(e[1],"nonce"),maxPriorityFeePerGas:mn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:mn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:mn(e[4],"gasLimit"),to:nh(e[5]),value:mn(e[6],"value"),data:dt(e[7]),accessList:U1(e[8],"accessList"),maxFeePerBlobGas:mn(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),pe(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),pe(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let o=0;o<i.blobVersionedHashes.length;o++)pe(bn(i.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",t);return e.length===11||j1(i,e.slice(11)),i}function Vfe(t,e,n){const r=[Yt(t.chainId,"chainId"),Yt(t.nonce,"nonce"),Yt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Yt(t.maxFeePerGas||0,"maxFeePerGas"),Yt(t.gasLimit,"gasLimit"),t.to||wm,Yt(t.value,"value"),t.data,z1(t.accessList||[]),Yt(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Lfe(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(Yt(e.yParity,"yParity")),r.push(hr(e.r)),r.push(hr(e.s)),n)?Hn(["0x03",$l([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):Hn(["0x03",$l(r)])}function $fe(t){const e=s0(Gt(t).slice(1));pe(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",dt(t));const n={type:4,chainId:mn(e[0],"chainId"),nonce:Bu(e[1],"nonce"),maxPriorityFeePerGas:mn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:mn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:mn(e[4],"gasLimit"),to:nh(e[5]),value:mn(e[6],"value"),data:dt(e[7]),accessList:U1(e[8],"accessList"),authorizationList:Ofe(e[9],"authorizationList")};return e.length===10||j1(n,e.slice(10)),n}function qfe(t,e){const n=[Yt(t.chainId,"chainId"),Yt(t.nonce,"nonce"),Yt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Yt(t.maxFeePerGas||0,"maxFeePerGas"),Yt(t.gasLimit,"gasLimit"),t.to||"0x",Yt(t.value,"value"),t.data,z1(t.accessList||[]),Bfe(t.authorizationList||[])];return e&&(n.push(Yt(e.yParity,"yParity")),n.push(hr(e.r)),n.push(hr(e.s))),Hn(["0x04",$l(n)])}class Yo{#e;#t;#n;#r;#i;#s;#o;#a;#p;#u;#m;#h;#l;#c;#d;#f;#y;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:pe(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#t;return e==null&&this.type===3?wm:e}set to(e){this.#t=e==null?null:cn(e)}get nonce(){return this.#r}set nonce(e){this.#r=Ht(e,"value")}get gasLimit(){return this.#i}set gasLimit(e){this.#i=At(e)}get gasPrice(){const e=this.#s;return e==null&&(this.type===0||this.type===1)?Er:e}set gasPrice(e){this.#s=e==null?null:At(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#o;return e??(this.type===2||this.type===3?Er:null)}set maxPriorityFeePerGas(e){this.#o=e==null?null:At(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#a;return e??(this.type===2||this.type===3?Er:null)}set maxFeePerGas(e){this.#a=e==null?null:At(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=dt(e)}get value(){return this.#p}set value(e){this.#p=At(e,"value")}get chainId(){return this.#u}set chainId(e){this.#u=At(e)}get signature(){return this.#m||null}set signature(e){this.#m=e==null?null:zn.from(e)}get accessList(){const e=this.#h||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#h=e==null?null:Ou(e)}get authorizationList(){const e=this.#y||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#y=e==null?null:e.map(n=>k9(n))}get maxFeePerBlobGas(){const e=this.#l;return e==null&&this.type===3?Er:e}set maxFeePerBlobGas(e){this.#l=e==null?null:At(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#c;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){pe(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)pe(bn(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}this.#c=e}get blobs(){return this.#f==null?null:this.#f.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#f=null;return}const n=[],r=[];for(let i=0;i<e.length;i++){const o=e[i];if(u3(o)){ze(this.#d,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let s=Gt(o);if(pe(s.length<=Dx,"blob is too large",`blobs[${i}]`,o),s.length!==Dx){const c=new Uint8Array(Dx);c.set(s),s=c}const a=this.#d.blobToKzgCommitment(s),l=dt(this.#d.computeBlobKzgProof(s,a));n.push({data:dt(s),commitment:dt(a),proof:l}),r.push(ZP(1,a))}else{const s=dt(o.commitment);n.push({data:dt(o.data),commitment:s,proof:dt(o.proof)}),r.push(ZP(1,s))}}this.#f=n,this.#c=r}get kzg(){return this.#d}set kzg(e){e==null?this.#d=null:this.#d=Ffe(e)}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#i=Er,this.#s=null,this.#o=null,this.#a=null,this.#n="0x",this.#p=Er,this.#u=Er,this.#m=null,this.#h=null,this.#l=null,this.#c=null,this.#d=null,this.#f=null,this.#y=null}get hash(){return this.signature==null?null:rr(this.#g(!0,!1))}get unsignedHash(){return rr(this.unsignedSerialized)}get from(){return this.signature==null?null:Mfe(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:va.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#g(e,n){ze(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return Ufe(this,r);case 1:return Hfe(this,r);case 2:return jfe(this,r);case 3:return Vfe(this,r,n?this.blobs:null);case 4:return qfe(this,r)}ze(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#g(!0,!0)}get unsignedSerialized(){return this.#g(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=this.#l!=null||this.#c;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&ze(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),ze(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),ze(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):n?o.push(2):e?(o.push(1),r||o.push(0)):r?(o.push(1),o.push(2)):(i&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Yo.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Yo;if(typeof e=="string"){const r=Gt(e);if(r[0]>=127)return Yo.from(Dfe(r));switch(r[0]){case 1:return Yo.from(Gfe(r));case 2:return Yo.from(zfe(r));case 3:return Yo.from(Wfe(r));case 4:return Yo.from($fe(r))}ze(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Yo;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=zn.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(pe(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),pe(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(pe(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),pe(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}}function yu(t){return rr(Ia(t))}var Kfe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const e6=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),t6=4;function Qfe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,o=[0,1];for(let T=1;T<r;T++)o.push(i+=n());let s=n(),a=e;e+=s;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const d=31,f=2**d,h=f>>>1,g=h>>1,m=f-1;let y=0;for(let T=0;T<d;T++)y=y<<1|u();let p=[],v=0,w=f;for(;;){let T=Math.floor(((y-v+1)*i-1)/w),N=0,A=r;for(;A-N>1;){let k=N+A>>>1;T<o[k]?A=k:N=k}if(N==0)break;p.push(N);let z=v+Math.floor(w*o[N]/i),S=v+Math.floor(w*o[N+1]/i)-1;for(;!((z^S)&h);)y=y<<1&m|u(),z=z<<1&m,S=S<<1&m|1;for(;z&~S&g;)y=y&h|y<<1&m>>>1|u(),z=z<<1^h,S=(S^h)<<1|h|1;v=z,w=1+S-z}let x=r-4;return p.map(T=>{switch(T-x){case 3:return x+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return x+256+(t[a++]<<8|t[a++]);case 1:return x+t[a++];default:return T-1}})}function Xfe(t){let e=0;return()=>t[e++]}function N9(t){return Xfe(Qfe(Yfe(t)))}function Yfe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,o=0,s=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],s+=6,s>=8&&(r[o++]=a>>(s-=8));return r}function Jfe(t){return t&1?~t>>1:t>>1}function Zfe(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=Jfe(e());return n}function bm(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let o=0;o<i;o++)n.push(e+o);e+=i+1}return n}function F9(t){return xm(()=>{let e=bm(t);if(e.length)return e})}function O9(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(ehe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(the(n,t))}return e.flat()}function xm(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function B9(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)Zfe(t,n).forEach((o,s)=>r[s].push(o));return r}function ehe(t,e){let n=1+e(),r=e(),i=xm(e);return B9(i.length,1+t,e).flatMap((s,a)=>{let[l,...c]=s;return Array(i[a]).fill().map((u,d)=>{let f=d*r;return[l+d*n,c.map(h=>h+f)]})})}function the(t,e){let n=1+e();return B9(n,1+t,e).map(i=>[i[0],i.slice(1)])}function nhe(t){let e=[],n=bm(t);return i(r([]),[]),e;function r(o){let s=t(),a=xm(()=>{let l=bm(t).map(c=>n[c]);if(l.length)return r(l)});return{S:s,B:a,Q:o}}function i({S:o,B:s},a,l){if(!(o&4&&l===a[a.length-1])){o&2&&(l=a[a.length-1]),o&1&&e.push(a);for(let c of s)for(let u of c.Q)i(c,[...a,u],l)}}}function rhe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function L9(t){return`{${rhe(t)}}`}function ihe(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function bf(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function ohe(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var she="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Em=44032,Vv=4352,$v=4449,qv=4519,D9=19,U9=21,xf=28,Kv=U9*xf,ahe=D9*Kv,lhe=Em+ahe,che=Vv+D9,uhe=$v+U9,dhe=qv+xf;function qh(t){return t>>24&255}function z9(t){return t&16777215}let f_,n6,h_,Ty;function fhe(){let t=N9(she);f_=new Map(F9(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),n6=new Set(bm(t)),h_=new Map,Ty=new Map;for(let[e,n]of O9(t)){if(!n6.has(e)&&n.length==2){let[r,i]=n,o=Ty.get(r);o||(o=new Map,Ty.set(r,o)),o.set(i,e)}h_.set(e,n.reverse())}}function j9(t){return t>=Em&&t<lhe}function hhe(t,e){if(t>=Vv&&t<che&&e>=$v&&e<uhe)return Em+(t-Vv)*Kv+(e-$v)*xf;if(j9(t)&&e>qv&&e<dhe&&(t-Em)%xf==0)return t+(e-qv);{let n=Ty.get(t);return n&&(n=n.get(e),n)?n:-1}}function G9(t){f_||fhe();let e=[],n=[],r=!1;function i(o){let s=f_.get(o);s&&(r=!0,o|=s),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(j9(o)){let s=o-Em,a=s/Kv|0,l=s%Kv/xf|0,c=s%xf;i(Vv+a),i($v+l),c>0&&i(qv+c)}else{let s=h_.get(o);s?n.push(...s):i(o)}if(!n.length)break;o=n.pop()}if(r&&e.length>1){let o=qh(e[0]);for(let s=1;s<e.length;s++){let a=qh(e[s]);if(a==0||o<=a){o=a;continue}let l=s-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(o=qh(e[--l]),o<=a))break}o=qh(e[s])}}return e}function phe(t){let e=[],n=[],r=-1,i=0;for(let o of t){let s=qh(o),a=z9(o);if(r==-1)s==0?r=a:e.push(a);else if(i>0&&i>=s)s==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=s;else{let l=hhe(r,a);l>=0?r=l:i==0&&s==0?(e.push(r),r=a):(n.push(a),i=s)}}return r>=0&&e.push(r,...n),e}function H9(t){return G9(t).map(z9)}function mhe(t){return phe(G9(t))}const r6=45,W9=".",V9=65039,$9=1,Qv=t=>Array.from(t);function Am(t,e){return t.P.has(e)||t.Q.has(e)}class ghe extends Array{get is_emoji(){return!0}}let p_,q9,Dc,m_,K9,Hd,Ux,ud,gc,i6,g_;function E3(){if(p_)return;let t=N9(Kfe);const e=()=>bm(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(f=>u.add(f));p_=new Map(O9(t)),q9=n(),Dc=e(),m_=new Set(e().map(u=>Dc[u])),Dc=new Set(Dc),K9=n(),n();let i=F9(t),o=t();const s=()=>{let u=new Set;return e().forEach(d=>r(u,i[d])),r(u,e()),u};Hd=xm(u=>{let d=xm(t).map(f=>f+96);if(d.length){let f=u>=o;d[0]-=32,d=bf(d),f&&(d=`Restricted[${d}]`);let h=s(),g=s(),m=!t();return{N:d,P:h,Q:g,M:m,R:f}}}),Ux=n(),ud=new Map;let a=e().concat(Qv(Ux)).sort((u,d)=>u-d);a.forEach((u,d)=>{let f=t(),h=a[d]=f?a[d-f]:{V:[],M:new Map};h.V.push(u),Ux.has(u)||ud.set(u,h)});for(let{V:u,M:d}of new Set(ud.values())){let f=[];for(let g of u){let m=Hd.filter(p=>Am(p,g)),y=f.find(({G:p})=>m.some(v=>p.has(v)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(g),r(y.G,m)}let h=f.flatMap(g=>Qv(g.G));for(let{G:g,V:m}of f){let y=new Set(h.filter(p=>!g.has(p)));for(let p of m)d.set(p,y)}}gc=new Set;let l=new Set;const c=u=>gc.has(u)?l.add(u):gc.add(u);for(let u of Hd){for(let d of u.P)c(d);for(let d of u.Q)c(d)}for(let u of gc)!ud.has(u)&&!l.has(u)&&ud.set(u,$9);r(gc,H9(gc)),i6=nhe(t).map(u=>ghe.from(u)).sort(ohe),g_=new Map;for(let u of i6){let d=[g_];for(let f of u){let h=d.map(g=>{let m=g.get(f);return m||(m=new Map,g.set(f,m)),m});f===V9?d.push(...h):d=h}for(let f of d)f.V=u}}function A3(t){return(Q9(t)?"":`${_3(G1([t]))} `)+L9(t)}function _3(t){return`"${t}"`}function yhe(t){if(t.length>=4&&t[2]==r6&&t[3]==r6)throw new Error(`invalid label extension: "${bf(t.slice(0,4))}"`)}function vhe(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function whe(t){let e=t[0],n=e6.get(e);if(n)throw yp(`leading ${n}`);let r=t.length,i=-1;for(let o=1;o<r;o++){e=t[o];let s=e6.get(e);if(s){if(i==o)throw yp(`${n} + ${s}`);i=o+1,n=s}}if(i==r)throw yp(`trailing ${n}`)}function G1(t,e=1/0,n=L9){let r=[];bhe(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let s=0;s<o;s++){let a=t[s];Q9(a)&&(r.push(bf(t.slice(i,s))),r.push(n(a)),i=s+1)}return r.push(bf(t.slice(i,o))),r.join("")}function bhe(t){return E3(),Dc.has(t)}function Q9(t){return E3(),K9.has(t)}function xhe(t){return She(Ehe(t,mhe,Mhe))}function Ehe(t,e,n){if(!t)return[];E3();let r=0;return t.split(W9).map(i=>{let o=ihe(i),s={input:o,offset:r};r+=o.length+1;try{let a=s.tokens=The(o,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=s.output=a.flat();if(vhe(u),!(s.emoji=l>1||a[0].is_emoji)&&u.every(f=>f<128))yhe(u),c="ASCII";else{let f=a.flatMap(h=>h.is_emoji?[]:h);if(!f.length)c="Emoji";else{if(Dc.has(u[0]))throw yp("leading combining mark");for(let m=1;m<l;m++){let y=a[m];if(!y.is_emoji&&Dc.has(y[0]))throw yp(`emoji + combining mark: "${bf(a[m-1])} + ${G1([y[0]])}"`)}whe(u);let h=Qv(new Set(f)),[g]=_he(h);Che(g,f),Ahe(g,h),c=g.N}}s.type=c}catch(a){s.error=a}return s})}function Ahe(t,e){let n,r=[];for(let i of e){let o=ud.get(i);if(o===$9)return;if(o){let s=o.M.get(i);if(n=n?n.filter(a=>s.has(a)):Qv(s),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(o=>Am(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function _he(t){let e=Hd;for(let n of t){let r=e.filter(i=>Am(i,n));if(!r.length)throw Hd.some(i=>Am(i,n))?Y9(e[0],n):X9(n);if(e=r,r.length==1)break}return e}function She(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${_3(G1(e,63))}: ${i}`)}return bf(r)}).join(W9)}function X9(t){return new Error(`disallowed character: ${A3(t)}`)}function Y9(t,e){let n=A3(e),r=Hd.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function yp(t){return new Error(`illegal placement: ${t}`)}function Che(t,e){for(let n of e)if(!Am(t,n))throw Y9(t,n);if(t.M){let n=H9(e);for(let r=1,i=n.length;r<i;r++)if(m_.has(n[r])){let o=r+1;for(let s;o<i&&m_.has(s=n[o]);o++)for(let a=r;a<o;a++)if(n[a]==s)throw new Error(`duplicate non-spacing marks: ${A3(s)}`);if(o-r>t6)throw new Error(`excessive non-spacing marks: ${_3(G1(n.slice(r-1,o)))} (${o-r}/${t6})`);r=o}}}function The(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let o=Ihe(t);if(o)i.length&&(r.push(e(i)),i=[]),r.push(n(o));else{let s=t.pop();if(gc.has(s))i.push(s);else{let a=p_.get(s);if(a)i.push(...a);else if(!q9.has(s))throw X9(s)}}}return i.length&&r.push(e(i)),r}function Mhe(t){return t.filter(e=>e!=V9)}function Ihe(t,e){let n=g_,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:o}=n;o&&(r=o,t.length=i)}return r}const J9=new Uint8Array(32);J9.fill(0);function o6(t){return pe(t.length!==0,"invalid ENS name; empty component","comp",t),t}function Z9(t){const e=Ia(Rhe(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(o6(e.slice(r,i))),r=i+1);return pe(r<e.length,"invalid ENS name; empty component","name",t),n.push(o6(e.slice(r))),n}function Rhe(t){try{if(t.length===0)throw new Error("empty label");return xhe(t)}catch(e){pe(!1,`invalid ENS name (${e.message})`,"name",t)}}function y_(t){pe(typeof t=="string","invalid ENS name; not a string","name",t),pe(t.length,"invalid ENS name (empty label)","name",t);let e=J9;const n=Z9(t);for(;n.length;)e=rr(Hn([e,rr(n.pop())]));return dt(e)}function Phe(t,e){const n=e;return pe(n<=255,"DNS encoded label cannot exceed 255","length",n),dt(Hn(Z9(t).map(r=>{pe(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const ez=new Uint8Array(32);ez.fill(0);const khe=BigInt(-1),tz=BigInt(0),nz=BigInt(1),Nhe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Fhe(t){const e=Gt(t),n=e.length%32;return n?Hn([e,ez.slice(n)]):dt(e)}const Ohe=Vl(nz,32),Bhe=Vl(tz,32),s6={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},zx=["name","version","chainId","verifyingContract","salt"];function a6(t){return function(e){return pe(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Lhe={name:a6("name"),version:a6("version"),chainId:function(t){const e=At(t,"domain.chainId");return pe(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):ns(e)},verifyingContract:function(t){try{return cn(t).toLowerCase()}catch{}pe(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Gt(t,"domain.salt");return pe(e.length===32,'invalid domain value "salt"',"domain.salt",t),dt(e)}};function jx(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);pe(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=$h(Nhe,n?r-1:r),o=n?(i+nz)*khe:tz;return function(s){const a=At(s,"value");return pe(a>=o&&a<=i,`value out-of-bounds for ${t}`,"value",a),Vl(n?H7(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return pe(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=Gt(r);return pe(i.length===n,`invalid length for ${t}`,"value",r),Fhe(r)}}}switch(t){case"address":return function(e){return Ua(cn(e),32)};case"bool":return function(e){return e?Ohe:Bhe};case"bytes":return function(e){return rr(e)};case"string":return function(e){return yu(e)}}return null}function l6(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function cg(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}class $i{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;const n=new Map,r=new Map,i=new Map,o={};Object.keys(e).forEach(l=>{o[l]=e[l].map(({name:c,type:u})=>{let{base:d,index:f}=cg(u);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:c,type:d+(f||"")}}),n.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),this.#e=JSON.stringify(o);for(const l in o){const c=new Set;for(const u of o[l]){pe(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",e),c.add(u.name);const d=cg(u.type).base;pe(d!==l,`circular type reference to ${JSON.stringify(d)}`,"types",e),!jx(d)&&(pe(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(l),n.get(l).add(d))}}const s=Array.from(r.keys()).filter(l=>r.get(l).length===0);pe(s.length!==0,"missing primary type","types",e),pe(s.length===1,`ambiguous primary types or unused types: ${s.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),kt(this,{primaryType:s[0]});function a(l,c){pe(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const u of n.get(l))if(r.has(u)){a(u,c);for(const d of c)i.get(d).add(u)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of i){const u=Array.from(c);u.sort(),this.#t.set(l,l6(l,o[l])+u.map(d=>l6(d,o[d])).join(""))}}getEncoder(e){let n=this.#n.get(e);return n||(n=this.#r(e),this.#n.set(e,n)),n}#r(e){{const i=jx(e);if(i)return i}const n=cg(e).array;if(n){const i=n.prefix,o=this.getEncoder(i);return s=>{pe(n.count===-1||n.count===s.length,`array length mismatch; expected length ${n.count}`,"value",s);let a=s.map(o);return this.#t.has(i)&&(a=a.map(rr)),rr(Hn(a))}}const r=this.types[e];if(r){const i=yu(this.#t.get(e));return o=>{const s=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(o[a]);return this.#t.has(l)?rr(c):c});return s.unshift(i),Hn(s)}}pe(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const n=this.#t.get(e);return pe(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return rr(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(jx(e))return r(e,n);const i=cg(e).array;if(i)return pe(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(s=>this._visit(i.prefix,s,r));const o=this.types[e];if(o)return o.reduce((s,{name:a,type:l})=>(s[a]=this._visit(l,n[a],r),s),{});pe(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new $i(e)}static getPrimaryType(e){return $i.from(e).primaryType}static hashStruct(e,n,r){return $i.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=s6[r];pe(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>zx.indexOf(r.name)-zx.indexOf(i.name)),$i.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Hn(["0x1901",$i.hashDomain(e),$i.from(n).hash(r)])}static hash(e,n,r){return rr($i.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const o={};e.verifyingContract&&!bn(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const s=$i.from(n);s.visit(r,(a,l)=>(a==="address"&&!bn(l,20)&&(o[l]="0x"),l));for(const a in o)o[a]=await i(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),r=s.visit(r,(a,l)=>a==="address"&&o[l]?o[l]:l),{domain:e,value:r}}static getPayload(e,n,r){$i.hashDomain(e);const i={},o=[];zx.forEach(l=>{const c=e[l];c!=null&&(i[l]=Lhe[l](c),o.push({name:l,type:s6[l]}))});const s=$i.from(n);n=s.types;const a=Object.assign({},n);return pe(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=o,s.encode(r),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return dt(Gt(c));if(l.match(/^u?int/))return At(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return pe(typeof c=="string","invalid string","value",c),c}pe(!1,"unsupported type","type",l)})}}}function di(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const Dhe="external public payable override",Uhe=di(Dhe.split(" ")),rz="constant external internal payable private public pure view override",zhe=di(rz.split(" ")),iz="constructor error event fallback function receive struct",oz=di(iz.split(" ")),sz="calldata memory storage payable indexed",jhe=di(sz.split(" ")),Ghe="tuple returns",Hhe=[iz,sz,Ghe,rz].join(" "),Whe=di(Hhe.split(" ")),Vhe={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},$he=new RegExp("^(\\s*)"),qhe=new RegExp("^([0-9]+)"),Khe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),az=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),lz=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Uo{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new Uo(this.#t)}reset(){this.#e=0}#n(e=0,n=0){return new Uo(this.#t.slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;this.#e<e.match-1;){const r=this.peek().linkNext;n.push(this.#n(this.#e+1,r)),this.#e=r}return this.#e=e.match+1,n}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let n=this.#e;n<this.#t.length;n++){const r=this.#t[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function ec(t){const e=[],n=s=>{const a=o<t.length?JSON.stringify(t[o]):"$EOI";throw new Error(`invalid token ${a} at ${o}: ${s}`)};let r=[],i=[],o=0;for(;o<t.length;){let s=t.substring(o),a=s.match($he);a&&(o+=a[1].length,s=t.substring(o));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(l);let c=Vhe[s[0]]||"";if(c){if(l.type=c,l.text=s[0],o++,c==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(c==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;u=d+u,e[e.length-1].value=Ht(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=s.match(Khe),a){if(l.text=a[1],o+=l.text.length,Whe.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(lz)){l.type="TYPE";continue}l.type="ID";continue}if(a=s.match(qhe),a){l.text=a[1],l.type="NUMBER",o+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(s[0])} at position ${o}`)}return new Uo(e.map(s=>Object.freeze(s)))}function c6(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function H1(t,e){if(e.peekKeyword(oz)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function ja(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function cz(t){let e=ja(t,zhe);return c6(e,di("constant payable nonpayable".split(" "))),c6(e,di("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ra(t,e){return t.popParams().map(n=>vn.from(n,e))}function uz(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return At(t.pop().text);throw new Error("invalid gas")}return null}function vu(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const Qhe=new RegExp(/^(.*)\[([0-9]*)\]$/);function u6(t){const e=t.match(lz);if(pe(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);pe(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);pe(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const Pn={},Gi=Symbol.for("_ethers_internal"),d6="_ParamTypeInternal",f6="_ErrorInternal",h6="_EventInternal",p6="_ConstructorInternal",m6="_FallbackInternal",g6="_FunctionInternal",y6="_StructInternal";class vn{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,n,r,i,o,s,a,l){if(N1(e,Pn,"ParamType"),Object.defineProperty(this,Gi,{value:d6}),s&&(s=Object.freeze(s.slice())),i==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(i==="tuple"){if(s==null)throw new Error("")}else if(s!=null)throw new Error("");kt(this,{name:n,type:r,baseType:i,indexed:o,components:s,arrayLength:a,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const o=JSON.parse(this.arrayChildren.format("json"));return o.name=r,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,o)=>r.components[o].walk(i,n))}return n(this.type,e)}#e(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,a=n.slice();a.forEach((l,c)=>{s.#e(e,l,r,u=>{a[c]=u})}),i(a);return}if(this.isTuple()){const s=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=s.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=>{s[c].#e(e,l,r,u=>{a[c]=u})}),i(a);return}const o=r(this.type,n);o.then?e.push(async function(){i(await o)}()):i(o)}async walkAsync(e,n){const r=[],i=[e];return this.#e(r,e,n,o=>{i[0]=o}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(vn.isParamType(e))return e;if(typeof e=="string")try{return vn.from(ec(e),n)}catch{pe(!1,"invalid param type","obj",e)}else if(e instanceof Uo){let a="",l="",c=null;ja(e,di(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",c=e.popParams().map(m=>vn.from(m)),a=`tuple(${c.map(m=>m.format()).join(",")})`):(a=u6(e.popType("TYPE")),l=a);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){const m=e.pop();u=new vn(Pn,"",a,l,null,c,d,u),d=m.value,a+=m.text,l="array",c=null}let f=null;if(ja(e,jhe).has("indexed")){if(!n)throw new Error("");f=!0}const g=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new vn(Pn,g,a,l,f,c,d,u)}const r=e.name;pe(!r||typeof r=="string"&&r.match(az),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(pe(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let o=e.type,s=o.match(Qhe);if(s){const a=parseInt(s[2]||"-1"),l=vn.from({type:s[1],components:e.components});return new vn(Pn,r||"",o,"array",i,null,a,l)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){const a=e.components!=null?e.components.map(c=>vn.from(c)):null;return new vn(Pn,r||"",o,"tuple",i,a,null,null)}return o=u6(e.type),new vn(Pn,r||"",o,o,i,null,null,null)}static isParamType(e){return e&&e[Gi]===d6}}class wu{type;inputs;constructor(e,n,r){N1(e,Pn,"Fragment"),r=Object.freeze(r.slice()),kt(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{wu.from(JSON.parse(e))}catch{}return wu.from(ec(e))}if(e instanceof Uo)switch(e.peekKeyword(oz)){case"constructor":return _a.from(e);case"error":return Si.from(e);case"event":return Os.from(e);case"fallback":case"receive":return ga.from(e);case"function":return Bs.from(e);case"struct":return Xc.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return _a.from(e);case"error":return Si.from(e);case"event":return Os.from(e);case"fallback":case"receive":return ga.from(e);case"function":return Bs.from(e);case"struct":return Xc.from(e)}ze(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}pe(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return _a.isFragment(e)}static isError(e){return Si.isFragment(e)}static isEvent(e){return Os.isFragment(e)}static isFunction(e){return Bs.isFragment(e)}static isStruct(e){return Xc.isFragment(e)}}class W1 extends wu{name;constructor(e,n,r,i){super(e,n,i),pe(typeof r=="string"&&r.match(az),"invalid identifier","name",r),i=Object.freeze(i.slice()),kt(this,{name:r})}}function _m(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Si extends W1{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Gi,{value:f6})}get selector(){return yu(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+_m(e,this.inputs)),n.join(" ")}static from(e){if(Si.isFragment(e))return e;if(typeof e=="string")return Si.from(ec(e));if(e instanceof Uo){const n=H1("error",e),r=Ra(e);return vu(e),new Si(Pn,n,r)}return new Si(Pn,e.name,e.inputs?e.inputs.map(vn.from):[])}static isFragment(e){return e&&e[Gi]===f6}}class Os extends W1{anonymous;constructor(e,n,r,i){super(e,"event",n,r),Object.defineProperty(this,Gi,{value:h6}),kt(this,{anonymous:i})}get topicHash(){return yu(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+_m(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(i=>vn.from(i)),new Os(Pn,e,n,!1).topicHash}static from(e){if(Os.isFragment(e))return e;if(typeof e=="string")try{return Os.from(ec(e))}catch{pe(!1,"invalid event fragment","obj",e)}else if(e instanceof Uo){const n=H1("event",e),r=Ra(e,!0),i=!!ja(e,di(["anonymous"])).has("anonymous");return vu(e),new Os(Pn,n,r,i)}return new Os(Pn,e.name,e.inputs?e.inputs.map(n=>vn.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Gi]===h6}}class _a extends wu{payable;gas;constructor(e,n,r,i,o){super(e,n,r),Object.defineProperty(this,Gi,{value:p6}),kt(this,{payable:i,gas:o})}format(e){if(ze(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[`constructor${_m(e,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(_a.isFragment(e))return e;if(typeof e=="string")try{return _a.from(ec(e))}catch{pe(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Uo){ja(e,di(["constructor"]));const n=Ra(e),r=!!ja(e,Uhe).has("payable"),i=uz(e);return vu(e),new _a(Pn,"constructor",n,r,i)}return new _a(Pn,"constructor",e.inputs?e.inputs.map(vn.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Gi]===p6}}class ga extends wu{payable;constructor(e,n,r){super(e,"fallback",n),Object.defineProperty(this,Gi,{value:m6}),kt(this,{payable:r})}format(e){const n=this.inputs.length===0?"receive":"fallback";if(e==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:r})}return`${n}()${this.payable?" payable":""}`}static from(e){if(ga.isFragment(e))return e;if(typeof e=="string")try{return ga.from(ec(e))}catch{pe(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Uo){const n=e.toString(),r=e.peekKeyword(di(["fallback","receive"]));if(pe(r,"type must be fallback or receive","obj",n),e.popKeyword(di(["fallback","receive"]))==="receive"){const a=Ra(e);return pe(a.length===0,"receive cannot have arguments","obj.inputs",a),ja(e,di(["payable"])),vu(e),new ga(Pn,[],!0)}let o=Ra(e);o.length?pe(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(a=>a.format("minimal")).join(", ")):o=[vn.from("bytes")];const s=cz(e);if(pe(s==="nonpayable"||s==="payable","fallback cannot be constants","obj.stateMutability",s),ja(e,di(["returns"])).has("returns")){const a=Ra(e);pe(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(l=>l.format("minimal")).join(", "))}return vu(e),new ga(Pn,o,s==="payable")}if(e.type==="receive")return new ga(Pn,[],!0);if(e.type==="fallback"){const n=[vn.from("bytes")],r=e.stateMutability==="payable";return new ga(Pn,n,r)}pe(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Gi]===m6}}class Bs extends W1{constant;outputs;stateMutability;payable;gas;constructor(e,n,r,i,o,s){super(e,"function",n,i),Object.defineProperty(this,Gi,{value:g6}),o=Object.freeze(o.slice()),kt(this,{constant:r==="view"||r==="pure",gas:s,outputs:o,payable:r==="payable",stateMutability:r})}get selector(){return yu(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+_m(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(_m(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(i=>vn.from(i)),new Bs(Pn,e,"view",n,[],null).selector}static from(e){if(Bs.isFragment(e))return e;if(typeof e=="string")try{return Bs.from(ec(e))}catch{pe(!1,"invalid function fragment","obj",e)}else if(e instanceof Uo){const r=H1("function",e),i=Ra(e),o=cz(e);let s=[];ja(e,di(["returns"])).has("returns")&&(s=Ra(e));const a=uz(e);return vu(e),new Bs(Pn,r,o,i,s,a)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new Bs(Pn,e.name,n,e.inputs?e.inputs.map(vn.from):[],e.outputs?e.outputs.map(vn.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Gi]===g6}}class Xc extends W1{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Gi,{value:y6})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Xc.from(ec(e))}catch{pe(!1,"invalid struct fragment","obj",e)}else if(e instanceof Uo){const n=H1("struct",e),r=Ra(e);return vu(e),new Xc(Pn,n,r)}return new Xc(Pn,e.name,e.inputs?e.inputs.map(vn.from):[])}static isFragment(e){return e&&e[Gi]===y6}}const vs=new Map;vs.set(0,"GENERIC_PANIC");vs.set(1,"ASSERT_FALSE");vs.set(17,"OVERFLOW");vs.set(18,"DIVIDE_BY_ZERO");vs.set(33,"ENUM_RANGE_ERROR");vs.set(34,"BAD_STORAGE_DATA");vs.set(49,"STACK_UNDERFLOW");vs.set(50,"ARRAY_RANGE_ERROR");vs.set(65,"OUT_OF_MEMORY");vs.set(81,"UNINITIALIZED_FUNCTION_CALL");const Xhe=new RegExp(/^bytes([0-9]*)$/),Yhe=new RegExp(/^(u?int)([0-9]*)$/);let Gx=null,v6=1024;function Jhe(t,e,n,r){let i="missing revert data",o=null;const s=null;let a=null;if(n){i="execution reverted";const c=Gt(n);if(n=dt(n),c.length===0)i+=" (no data present; likely require(false) occurred",o="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(dt(c.slice(0,4))==="0x08c379a0")try{o=r.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[o]},i+=`: ${JSON.stringify(o)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(dt(c.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},o=`Panic due to ${vs.get(u)||"UNKNOWN"}(${u})`,i+=`: ${o}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?cn(e.to):null,data:e.data||"0x"};return e.from&&(l.from=cn(e.from)),Tn(i,"CALL_EXCEPTION",{action:t,data:n,reason:o,transaction:l,invocation:s,revert:a})}class Ef{#e(e){if(e.isArray())return new gfe(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new lg(e.components.map(r=>this.#e(r)),e.name);switch(e.baseType){case"address":return new pfe(e.name);case"bool":return new yfe(e.name);case"string":return new Cfe(e.name);case"bytes":return new vfe(e.name);case"":return new xfe(e.name)}let n=e.type.match(Yhe);if(n){let r=parseInt(n[2]||"256");return pe(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new Sfe(r/8,n[1]==="int",e.name)}if(n=e.type.match(Xhe),n){let r=parseInt(n[1]);return pe(r!==0&&r<=32,"invalid bytes length","param",e),new wfe(r,e.name)}pe(!1,"invalid type","type",e.type)}getDefaultValue(e){const n=e.map(i=>this.#e(vn.from(i)));return new lg(n,"_").defaultValue()}encode(e,n){z7(n.length,e.length,"types/values length mismatch");const r=e.map(s=>this.#e(vn.from(s))),i=new lg(r,"_"),o=new s_;return i.encode(o,n),o.data}decode(e,n,r){const i=e.map(s=>this.#e(vn.from(s)));return new lg(i,"_").decode(new f3(n,r,v6))}static _setDefaultMaxInflation(e){pe(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),v6=e}static defaultAbiCoder(){return Gx==null&&(Gx=new Ef),Gx}static getBuiltinCallException(e,n,r){return Jhe(e,n,r,Ef.defaultAbiCoder())}}class Zhe{fragment;name;signature;topic;args;constructor(e,n,r){const i=e.name,o=e.format();kt(this,{fragment:e,name:i,signature:o,topic:n,args:r})}}class epe{fragment;name;args;signature;selector;value;constructor(e,n,r,i){const o=e.name,s=e.format();kt(this,{fragment:e,name:o,args:r,signature:s,selector:n,value:i})}}class tpe{fragment;name;args;signature;selector;constructor(e,n,r){const i=e.name,o=e.format();kt(this,{fragment:e,name:i,args:r,signature:o,selector:n})}}class w6{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){kt(this,{hash:e,_isIndexed:!0})}}const b6={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},x6={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&b6[t.toString()]&&(e=b6[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class xc{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;const r=[];for(const s of n)try{r.push(wu.from(s))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(s)}:`,a.message)}kt(this,{fragments:Object.freeze(r)});let i=null,o=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((s,a)=>{let l;switch(s.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}kt(this,{deploy:s});return;case"fallback":s.inputs.length===0?o=!0:(pe(!i||s.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,s),i=s,o=i.payable);return;case"function":l=this.#n;break;case"event":l=this.#t;break;case"error":l=this.#e;break;default:return}const c=s.format();l.has(c)||l.set(c,s)}),this.deploy||kt(this,{deploy:_a.from("constructor()")}),kt(this,{fallback:i,receive:o})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return Ef.defaultAbiCoder()}#i(e,n,r){if(bn(e)){const o=e.toLowerCase();for(const s of this.#n.values())if(o===s.selector)return s;return null}if(e.indexOf("(")===-1){const o=[];for(const[s,a]of this.#n)s.split("(")[0]===e&&o.push(a);if(n){const s=n.length>0?n[n.length-1]:null;let a=n.length,l=!0;jn.isTyped(s)&&s.type==="overrides"&&(l=!1,a--);for(let c=o.length-1;c>=0;c--){const u=o[c].inputs.length;u!==a&&(!l||u!==a-1)&&o.splice(c,1)}for(let c=o.length-1;c>=0;c--){const u=o[c].inputs;for(let d=0;d<n.length;d++)if(jn.isTyped(n[d])){if(d>=u.length){if(n[d].type==="overrides")continue;o.splice(c,1);break}if(n[d].type!==u[d].baseType){o.splice(c,1);break}}}}if(o.length===1&&n&&n.length!==o[0].inputs.length){const s=n[n.length-1];(s==null||Array.isArray(s)||typeof s!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&r){const s=o.map(a=>JSON.stringify(a.format())).join(", ");pe(!1,`ambiguous function description (i.e. matches ${s})`,"key",e)}return o[0]}const i=this.#n.get(Bs.from(e).format());return i||null}getFunctionName(e){const n=this.#i(e,null,!1);return pe(n,"no matching function","key",e),n.name}hasFunction(e){return!!this.#i(e,null,!1)}getFunction(e,n){return this.#i(e,n||null,!0)}forEachFunction(e){const n=Array.from(this.#n.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#n.get(i),r)}}#s(e,n,r){if(bn(e)){const o=e.toLowerCase();for(const s of this.#t.values())if(o===s.topicHash)return s;return null}if(e.indexOf("(")===-1){const o=[];for(const[s,a]of this.#t)s.split("(")[0]===e&&o.push(a);if(n){for(let s=o.length-1;s>=0;s--)o[s].inputs.length<n.length&&o.splice(s,1);for(let s=o.length-1;s>=0;s--){const a=o[s].inputs;for(let l=0;l<n.length;l++)if(jn.isTyped(n[l])&&n[l].type!==a[l].baseType){o.splice(s,1);break}}}if(o.length===0)return null;if(o.length>1&&r){const s=o.map(a=>JSON.stringify(a.format())).join(", ");pe(!1,`ambiguous event description (i.e. matches ${s})`,"key",e)}return o[0]}const i=this.#t.get(Os.from(e).format());return i||null}getEventName(e){const n=this.#s(e,null,!1);return pe(n,"no matching event","key",e),n.name}hasEvent(e){return!!this.#s(e,null,!1)}getEvent(e,n){return this.#s(e,n||null,!0)}forEachEvent(e){const n=Array.from(this.#t.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#t.get(i),r)}}getError(e,n){if(bn(e)){const i=e.toLowerCase();if(x6[i])return Si.from(x6[i].signature);for(const o of this.#e.values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,s]of this.#e)o.split("(")[0]===e&&i.push(s);if(i.length===0)return e==="Error"?Si.from("error Error(string)"):e==="Panic"?Si.from("error Panic(uint256)"):null;if(i.length>1){const o=i.map(s=>JSON.stringify(s.format())).join(", ");pe(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return i[0]}if(e=Si.from(e).format(),e==="Error(string)")return Si.from("error Error(string)");if(e==="Panic(uint256)")return Si.from("error Panic(uint256)");const r=this.#e.get(e);return r||null}forEachError(e){const n=Array.from(this.#e.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#e.get(i),r)}}_decodeParams(e,n){return this.#r.decode(e,n)}_encodeParams(e,n){return this.#r.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);pe(r,"unknown error","fragment",e),e=r}return pe(Dn(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Dn(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);pe(r,"unknown error","fragment",e),e=r}return Hn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);pe(r,"unknown function","fragment",e),e=r}return pe(Dn(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Dn(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);pe(r,"unknown function","fragment",e),e=r}return Hn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const o=this.getFunction(e);pe(o,"unknown function","fragment",e),e=o}let r="invalid length for result data";const i=li(n);if(i.length%32===0)try{return this.#r.decode(e.outputs,i)}catch{r="could not decode result data"}ze(!1,r,"BAD_DATA",{value:dt(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=Gt(e,"data"),i=Ef.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=dt(r.slice(0,4)),l=this.getError(a);if(l)try{const c=this.#r.decode(l.inputs,r.slice(4));i.revert={name:l.name,signature:l.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(n);return s&&(i.invocation={method:s.name,signature:s.signature,args:s.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);pe(r,"unknown function","fragment",e),e=r}return dt(this.#r.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const o=this.getEvent(e);pe(o,"unknown event","eventFragment",e),e=o}ze(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(o,s)=>o.type==="string"?yu(s):o.type==="bytes"?rr(dt(s)):(o.type==="bool"&&typeof s=="boolean"?s=s?"0x01":"0x00":o.type.match(/^u?int/)?s=Vl(s):o.type.match(/^bytes/)?s=xue(s,32):o.type==="address"&&this.#r.encode(["address"],[s]),Ua(dt(s),32));for(n.forEach((o,s)=>{const a=e.inputs[s];if(!a.indexed){pe(o==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?pe(!1,"filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?r.push(o.map(l=>i(a,l))):r.push(i(a,o))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const s=this.getEvent(e);pe(s,"unknown event","eventFragment",e),e=s}const r=[],i=[],o=[];return e.anonymous||r.push(e.topicHash),pe(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((s,a)=>{const l=n[a];if(s.indexed)if(s.type==="string")r.push(yu(l));else if(s.type==="bytes")r.push(rr(l));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");r.push(this.#r.encode([s.type],[l]))}else i.push(s),o.push(l)}),{data:this.#r.encode(i,o),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const h=this.getEvent(e);pe(h,"unknown event","eventFragment",e),e=h}if(r!=null&&!e.anonymous){const h=e.topicHash;pe(bn(r[0],32)&&r[0].toLowerCase()===h,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],o=[],s=[];e.inputs.forEach((h,g)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(i.push(vn.from({type:"bytes32",name:h.name})),s.push(!0)):(i.push(h),s.push(!1)):(o.push(h),s.push(!1))});const a=r!=null?this.#r.decode(i,Hn(r)):null,l=this.#r.decode(o,n,!0),c=[],u=[];let d=0,f=0;return e.inputs.forEach((h,g)=>{let m=null;if(h.indexed)if(a==null)m=new w6(null);else if(s[g])m=new w6(a[f++]);else try{m=a[f++]}catch(y){m=y}else try{m=l[d++]}catch(y){m=y}c.push(m),u.push(h.name||null)}),Aa.fromItems(c,u)}parseTransaction(e){const n=Gt(e.data,"tx.data"),r=At(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(dt(n.slice(0,4)));if(!i)return null;const o=this.#r.decode(i.inputs,n.slice(4));return new epe(i,i.selector,o,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new Zhe(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=dt(e),r=this.getError(Dn(n,0,4));if(!r)return null;const i=this.#r.decode(r.inputs,Dn(n,4));return new tpe(r,r.selector,i)}static from(e){return e instanceof xc?e:typeof e=="string"?new xc(JSON.parse(e)):typeof e.formatJson=="function"?new xc(e.formatJson()):typeof e.format=="function"?new xc(e.format("json")):new xc(e)}}const dz=BigInt(0);function Wd(t){return t??null}function qn(t){return t==null?null:t.toString()}class E6{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,n,r){kt(this,{gasPrice:Wd(e),maxFeePerGas:Wd(n),maxPriorityFeePerGas:Wd(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:qn(e),maxFeePerGas:qn(n),maxPriorityFeePerGas:qn(r)}}}function Xv(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=dt(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=At(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=Ht(t[i],`request.${i}`));return t.accessList&&(e.accessList=Ou(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>u3(i)?dt(i):Object.assign({},i))),e}class npe{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,n){this.#e=e.transactions.map(r=>typeof r!="string"?new c0(r,n):r),kt(this,{provider:n,hash:Wd(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Wd(e.prevRandao),extraData:e.extraData,baseFeePerGas:Wd(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:(ze(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:o,hash:s,miner:a,prevRandao:l,nonce:c,number:u,parentHash:d,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:g,timestamp:m,transactions:y}=this;return{_type:"Block",baseFeePerGas:qn(e),difficulty:qn(n),extraData:r,gasLimit:qn(i),gasUsed:qn(o),blobGasUsed:qn(this.blobGasUsed),excessBlobGas:qn(this.excessBlobGas),hash:s,miner:a,prevRandao:l,nonce:c,number:u,parentHash:d,timestamp:m,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:g,transactions:y}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=this.#e[e];else{const r=e.toLowerCase();for(const i of this.#e)if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;pe(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return rpe(this)}}class l0{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,n){this.provider=n;const r=Object.freeze(e.topics.slice());kt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:o,removed:s,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:o,removed:s,topics:a,transactionHash:l,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return ze(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return ze(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return ze(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return ipe(this)}}class fz{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,n){this.#e=Object.freeze(e.logs.map(i=>new l0(i,n)));let r=dz;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),kt(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:o,blockHash:s,blockNumber:a,logsBloom:l,logs:c,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:a,contractAddress:r,cumulativeGasUsed:qn(this.cumulativeGasUsed),from:n,gasPrice:qn(this.gasPrice),blobGasUsed:qn(this.blobGasUsed),blobGasPrice:qn(this.blobGasPrice),gasUsed:qn(this.gasUsed),hash:i,index:o,logs:c,logsBloom:l,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return pz(this)}reorderedEvent(e){return ze(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),hz(this,e)}}class c0{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,n){this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:o,to:s,from:a,nonce:l,data:c,signature:u,accessList:d,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:n,blobVersionedHashes:f,chainId:qn(this.chainId),data:c,from:a,gasLimit:qn(this.gasLimit),gasPrice:qn(this.gasPrice),hash:i,maxFeePerGas:qn(this.maxFeePerGas),maxPriorityFeePerGas:qn(this.maxPriorityFeePerGas),maxFeePerBlobGas:qn(this.maxFeePerBlobGas),nonce:l,signature:u,to:s,index:r,type:o,value:qn(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await ni({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let o=this.#e,s=-1,a=o===-1;const l=async()=>{if(a)return null;const{blockNumber:f,nonce:h}=await ni({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(h<this.nonce){o=f;return}if(a)return null;const g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(s===-1&&(s=o-3,s<this.#e&&(s=this.#e));s<=f;){if(a)return null;const m=await this.provider.getBlock(s,!0);if(m==null)return;for(const y of m)if(y===this.hash)return;for(let y=0;y<m.length;y++){const p=await m.getTransaction(y);if(p.from===this.from&&p.nonce===this.nonce){if(a)return null;const v=await this.provider.getTransactionReceipt(p.hash);if(v==null||f-v.blockNumber+1<r)return;let w="replaced";p.data===this.data&&p.to===this.to&&p.value===this.value?w="repriced":p.data==="0x"&&p.from===p.to&&p.value===dz&&(w="cancelled"),ze(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:w==="replaced"||w==="cancelled",reason:w,replacement:p.replaceableTransaction(o),hash:p.hash,receipt:v})}}s++}},c=f=>{if(f==null||f.status!==0)return f;ze(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(u);if(u){if(r===1||await u.confirmations()>=r)return c(u)}else if(await l(),r===0)return null;return await new Promise((f,h)=>{const g=[],m=()=>{g.forEach(p=>p())};if(g.push(()=>{a=!0}),i>0){const p=setTimeout(()=>{m(),h(Tn("wait for transaction timeout","TIMEOUT"))},i);g.push(()=>{clearTimeout(p)})}const y=async p=>{if(await p.confirmations()>=r){m();try{f(c(p))}catch(v){h(v)}}};if(g.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),o>=0){const p=async()=>{try{await l()}catch(v){if(Br(v,"TRANSACTION_REPLACED")){m(),h(v);return}}a||this.provider.once("block",p)};g.push(()=>{this.provider.off("block",p)}),this.provider.once("block",p)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return ze(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),pz(this)}reorderedEvent(e){return ze(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ze(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),hz(this,e)}replaceableTransaction(e){pe(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new c0(this,this.provider);return n.#e=e,n}}function rpe(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function hz(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function pz(t){return{orphan:"drop-transaction",tx:t}}function ipe(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class S3 extends l0{interface;fragment;args;constructor(e,n,r){super(e,e.provider);const i=n.decodeEventLog(r,e.data,e.topics);kt(this,{args:i,fragment:r,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class mz extends l0{error;constructor(e,n){super(e,e.provider),kt(this,{error:n})}}class ope extends fz{#e;constructor(e,n,r){super(r,n),this.#e=e}get logs(){return super.logs.map(e=>{const n=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(n)try{return new S3(e,this.#e,n)}catch(r){return new mz(e,r)}return e})}}class C3 extends c0{#e;constructor(e,n,r){super(r,n),this.#e=e}async wait(e,n){const r=await super.wait(e,n);return r==null?null:new ope(this.#e,this.provider,r)}}class gz extends W7{log;constructor(e,n,r,i){super(e,n,r),kt(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class spe extends gz{constructor(e,n,r,i,o){super(e,n,r,new S3(o,e.interface,i));const s=e.interface.decodeEventLog(i,this.log.data,this.log.topics);kt(this,{args:s,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const A6=BigInt(0);function yz(t){return t&&typeof t.call=="function"}function vz(t){return t&&typeof t.estimateGas=="function"}function V1(t){return t&&typeof t.resolveName=="function"}function wz(t){return t&&typeof t.sendTransaction=="function"}function bz(t){if(t!=null){if(V1(t))return t;if(t.provider)return t.provider}}class ape{#e;fragment;constructor(e,n,r){if(kt(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=bu(e.runner,"resolveName"),o=V1(i)?i:null;this.#e=async function(){const s=await Promise.all(n.inputs.map((a,l)=>r[l]==null?null:a.walkAsync(r[l],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(f=>ui(f,o))):ui(d,o):d)));return e.interface.encodeFilterTopics(n,s)}()}getTopicFilter(){return this.#e}}function bu(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Uc(t){return t==null?null:t.provider||null}async function xz(t,e){const n=jn.dereference(t,"overrides");pe(typeof n=="object","invalid overrides parameter","overrides",t);const r=Xv(n);return pe(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),pe(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function lpe(t,e,n){const r=bu(t,"resolveName"),i=V1(r)?r:null;return await Promise.all(e.map((o,s)=>o.walkAsync(n[s],(a,l)=>(l=jn.dereference(l,a),a==="address"?ui(l,i):l))))}function cpe(t){const e=async function(s){const a=await xz(s,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await ui(a.from,bz(t.runner)));const l=t.interface,c=At(a.value||A6,"overrides.value")===A6,u=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!u&&!c&&pe(!1,"cannot send data to receive or send value to non-payable fallback","overrides",s),pe(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const d=l.receive||l.fallback&&l.fallback.payable;return pe(d||c,"cannot send value to non-payable fallback","overrides.value",a.value),pe(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(s){const a=bu(t.runner,"call");ze(yz(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(s);try{return await a.call(l)}catch(c){throw c3(c)&&c.data?t.interface.makeError(c.data,l):c}},r=async function(s){const a=t.runner;ze(wz(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await e(s)),c=Uc(t.runner);return new C3(t.interface,c,l)},i=async function(s){const a=bu(t.runner,"estimateGas");return ze(vz(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(s))},o=async s=>await r(s);return kt(o,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),o}function upe(t,e){const n=function(...c){const u=t.interface.getFunction(e,c);return ze(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),u},r=async function(...c){const u=n(...c);let d={};if(u.inputs.length+1===c.length&&(d=await xz(c.pop()),d.from&&(d.from=await ui(d.from,bz(t.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const f=await lpe(t.runner,u.inputs,c);return Object.assign({},d,await ni({to:t.getAddress(),data:t.interface.encodeFunctionData(u,f)}))},i=async function(...c){const u=await a(...c);return u.length===1?u[0]:u},o=async function(...c){const u=t.runner;ze(wz(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await u.sendTransaction(await r(...c)),f=Uc(t.runner);return new C3(t.interface,f,d)},s=async function(...c){const u=bu(t.runner,"estimateGas");return ze(vz(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...c))},a=async function(...c){const u=bu(t.runner,"call");ze(yz(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await r(...c);let f="0x";try{f=await u.call(d)}catch(g){throw c3(g)&&g.data?t.interface.makeError(g.data,d):g}const h=n(...c);return t.interface.decodeFunctionResult(h,f)},l=async(...c)=>n(...c).constant?await i(...c):await o(...c);return kt(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:s,populateTransaction:r,send:o,staticCall:i,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return ze(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),l}function dpe(t,e){const n=function(...i){const o=t.interface.getEvent(e,i);return ze(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),o},r=function(...i){return new ape(t,n(...i),i)};return kt(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return ze(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const Yv=Symbol.for("_ethersInternal_contract"),Ez=new WeakMap;function fpe(t,e){Ez.set(t[Yv],e)}function qi(t){return Ez.get(t[Yv])}function hpe(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function T3(t,e){let n,r=null;if(Array.isArray(e)){const o=function(s){if(bn(s,32))return s;const a=t.interface.getEvent(s);return pe(a,"unknown fragment","name",s),a.topicHash};n=e.map(s=>s==null?null:Array.isArray(s)?s.map(o):o(s))}else e==="*"?n=[null]:typeof e=="string"?bn(e,32)?n=[e]:(r=t.interface.getEvent(e),pe(r,"unknown fragment","event",e),n=[r.topicHash]):hpe(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):pe(!1,"unknown event name","event",e);n=n.map(o=>{if(o==null)return null;if(Array.isArray(o)){const s=Array.from(new Set(o.map(a=>a.toLowerCase())).values());return s.length===1?s[0]:(s.sort(),s)}return o.toLowerCase()});const i=n.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:r,tag:i,topics:n}}async function Kh(t,e){const{subs:n}=qi(t);return n.get((await T3(t,e)).tag)||null}async function _6(t,e,n){const r=Uc(t.runner);ze(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:o,topics:s}=await T3(t,n),{addr:a,subs:l}=qi(t);let c=l.get(o);if(!c){const d={address:a||t,topics:s},f=y=>{let p=i;if(p==null)try{p=t.interface.getEvent(y.topics[0])}catch{}if(p){const v=p,w=i?t.interface.decodeEventLog(i,y.data,y.topics):[];w_(t,n,w,x=>new spe(t,x,n,v,y))}else w_(t,n,[],v=>new gz(t,v,n,y))};let h=[];c={tag:o,listeners:[],start:()=>{h.length||h.push(r.on(d,f))},stop:async()=>{if(h.length==0)return;let y=h;h=[],await Promise.all(y),r.off(d,f)}},l.set(o,c)}return c}let v_=Promise.resolve();async function ppe(t,e,n,r){await v_;const i=await Kh(t,e);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:s,once:a})=>{const l=Array.from(n);r&&l.push(r(a?null:s));try{s.call(t,...l)}catch{}return!a}),i.listeners.length===0&&(i.stop(),qi(t).subs.delete(i.tag)),o>0}async function w_(t,e,n,r){try{await v_}catch{}const i=ppe(t,e,n,r);return v_=i,await i}const ug=["then"];class vp{target;interface;runner;filters;[Yv];fallback;constructor(e,n,r,i){pe(typeof e=="string"||M9(e),"invalid value for Contract target","target",e),r==null&&(r=null);const o=xc.from(n);kt(this,{target:e,runner:r,interface:o}),Object.defineProperty(this,Yv,{value:{}});let s,a=null,l=null;if(i){const d=Uc(r);l=new C3(this.interface,d,i)}let c=new Map;if(typeof e=="string")if(bn(e))a=e,s=Promise.resolve(e);else{const d=bu(r,"resolveName");if(!V1(d))throw Tn("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=d.resolveName(e).then(f=>{if(f==null)throw Tn("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return qi(this).addr=f,f})}else s=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return qi(this).addr=d,d});fpe(this,{addrPromise:s,addr:a,deployTx:l,subs:c});const u=new Proxy({},{get:(d,f,h)=>{if(typeof f=="symbol"||ug.indexOf(f)>=0)return Reflect.get(d,f,h);try{return this.getEvent(f)}catch(g){if(!Br(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(d,f)=>ug.indexOf(f)>=0?Reflect.has(d,f):Reflect.has(d,f)||this.interface.hasEvent(String(f))});return kt(this,{filters:u}),kt(this,{fallback:o.receive||o.fallback?cpe(this):null}),new Proxy(this,{get:(d,f,h)=>{if(typeof f=="symbol"||f in d||ug.indexOf(f)>=0)return Reflect.get(d,f,h);try{return d.getFunction(f)}catch(g){if(!Br(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(d,f)=>typeof f=="symbol"||f in d||ug.indexOf(f)>=0?Reflect.has(d,f):d.interface.hasFunction(f)})}connect(e){return new vp(this.target,this.interface,e)}attach(e){return new vp(e,this.interface,this.runner)}async getAddress(){return await qi(this).addrPromise}async getDeployedCode(){const e=Uc(this.runner);ze(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Uc(this.runner);return ze(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,o)=>{const s=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",s)}catch(a){o(a)}};s()})}deploymentTransaction(){return qi(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),upe(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),dpe(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:o}=qi(this),s=i||await o,{fragment:a,topics:l}=await T3(this,e),c={address:s,topics:l,fromBlock:n,toBlock:r},u=Uc(this.runner);return ze(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(d=>{let f=a;if(f==null)try{f=this.interface.getEvent(d.topics[0])}catch{}if(f)try{return new S3(d,this.interface,f)}catch(h){return new mz(d,h)}return new l0(d,u)})}async on(e,n){const r=await _6(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await _6(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await w_(this,e,n,null)}async listenerCount(e){if(e){const i=await Kh(this,e);return i?i.listeners.length:0}const{subs:n}=qi(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await Kh(this,e);return i?i.listeners.map(({listener:o})=>o):[]}const{subs:n}=qi(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:o})=>o));return r}async off(e,n){const r=await Kh(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:o})=>o).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),qi(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await Kh(this,e);if(!n)return this;n.stop(),qi(this).subs.delete(n.tag)}else{const{subs:n}=qi(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends vp{constructor(i,o=null){super(i,e,o)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}}function mpe(){return vp}class wp extends mpe(){}function Hx(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):pe(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class gpe{name;constructor(e){kt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const Az=new RegExp("^(ipfs)://(.*)$","i"),S6=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Az,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Vd{provider;address;name;#e;#t;constructor(e,n,r){kt(this,{provider:e,address:n,name:r}),this.#e=null,this.#t=new wp(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(Br(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,n){n=(n||[]).slice();const r=this.#t.interface;n.unshift(y_(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),ze(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[Phe(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const o=await this.#t[e](...n);return i?r.decodeFunctionResult(i,o)[0]:o}catch(o){if(!Br(o,"CALL_EXCEPTION"))throw o}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const o=await this.#n("addr(bytes32)");return o==null||o===wm?null:o}catch(o){if(Br(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648;const s=await this.#n("addr(bytes32,uint)",[o]);if(bn(s,20))return cn(s)}let n=null;for(const o of this.provider.plugins)if(o instanceof gpe&&o.supportsCoinType(e)){n=o;break}if(n==null)return null;const r=await this.#n("addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;ze(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await this.#n("text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",o=parseInt(n[4],16);if(n[5].length===o*2)return`${i}://${_ue("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;ze(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<S6.length;r++){const i=n.match(S6[r]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const s=Hx(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:s}),{linkage:e,url:s}}case"erc721":case"erc1155":{const s=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(i[2]||"").split("/");if(l.length!==2)return e.push({type:`!${o}caip`,value:i[2]||""}),{url:null,linkage:e};const c=l[1],u=new wp(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){const m=await u.ownerOf(c);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(o==="erc1155"){const m=await u.balanceOf(a,c);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let d=await u[s](c);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),o==="erc1155"&&(d=d.replace("{id}",Vl(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=Hx(d)),e.push({type:"metadata-url",value:d});let f={};const h=await new za(d).send();h.assertOk();try{f=h.bodyJson}catch{try{e.push({type:"!metadata",value:h.bodyText})}catch{const p=h.body;return p&&e.push({type:"!metadata",value:dt(p)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let g=f.image;if(typeof g!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(Az)==null)return e.push({type:"!imageUrl-ipfs",value:g}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:g}),g=Hx(g)}return e.push({type:"url",value:g}),{linkage:e,url:g}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return ze(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async#r(e,n){const r=await Vd.getEnsAddress(e);try{const o=await new wp(r,["function resolver(bytes32) view returns (address)"],e).resolver(y_(n),{enableCcipRead:!0});return o===wm?null:o}catch(i){throw i}return null}static async fromName(e,n){let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const i=await Vd.#r(e,r);if(i!=null){const o=new Vd(e,i,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}}const C6=BigInt(0);function Xt(t,e){return function(n){return n==null?e:t(n)}}function Sm(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function u0(t,e){return n=>{const r={};for(const i in t){let o=i;if(e&&i in e&&!(o in n)){for(const s of e[i])if(s in n){o=s;break}}try{const s=t[i](n[o]);s!==void 0&&(r[i]=s)}catch(s){const a=s instanceof Error?s.message:"not-an-error";ze(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r}}function ype(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}pe(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Af(t){return pe(bn(t,!0),"invalid data","value",t),t}function Fr(t){return pe(bn(t,32),"invalid hash","value",t),t}const vpe=u0({address:cn,blockHash:Fr,blockNumber:Ht,data:Af,index:Ht,removed:Xt(ype,!1),topics:Sm(Fr),transactionHash:Fr,transactionIndex:Ht},{index:["logIndex"]});function wpe(t){return vpe(t)}const bpe=u0({hash:Xt(Fr),parentHash:Fr,parentBeaconBlockRoot:Xt(Fr,null),number:Ht,timestamp:Ht,nonce:Xt(Af),difficulty:At,gasLimit:At,gasUsed:At,stateRoot:Xt(Fr,null),receiptsRoot:Xt(Fr,null),blobGasUsed:Xt(At,null),excessBlobGas:Xt(At,null),miner:Xt(cn),prevRandao:Xt(Fr,null),extraData:Af,baseFeePerGas:Xt(At)},{prevRandao:["mixHash"]});function xpe(t){const e=bpe(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:_z(n)),e}const Epe=u0({transactionIndex:Ht,blockNumber:Ht,transactionHash:Fr,address:cn,topics:Sm(Fr),data:Af,index:Ht,blockHash:Fr},{index:["logIndex"]});function Ape(t){return Epe(t)}const _pe=u0({to:Xt(cn,null),from:Xt(cn,null),contractAddress:Xt(cn,null),index:Ht,root:Xt(dt),gasUsed:At,blobGasUsed:Xt(At,null),logsBloom:Xt(Af),blockHash:Fr,hash:Fr,logs:Sm(Ape),blockNumber:Ht,cumulativeGasUsed:At,effectiveGasPrice:Xt(At),blobGasPrice:Xt(At,null),status:Xt(Ht),type:Xt(Ht,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Spe(t){return _pe(t)}function _z(t){t.to&&At(t.to)===C6&&(t.to="0x0000000000000000000000000000000000000000");const e=u0({hash:Fr,index:Xt(Ht,void 0),type:n=>n==="0x"||n==null?0:Ht(n),accessList:Xt(Ou,null),blobVersionedHashes:Xt(Sm(Fr,!0),null),authorizationList:Xt(Sm(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:cn(n.address),chainId:At(n.chainId),nonce:At(n.nonce),signature:zn.from(r)}},!1),null),blockHash:Xt(Fr,null),blockNumber:Xt(Ht,null),transactionIndex:Xt(Ht,null),from:cn,gasPrice:Xt(At),maxPriorityFeePerGas:Xt(At),maxFeePerGas:Xt(At),maxFeePerBlobGas:Xt(At,null),gasLimit:At,to:Xt(cn,null),value:At,nonce:Ht,data:Af,creates:Xt(cn,null),chainId:Xt(At,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=hfe(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=zn.from(t.signature):e.signature=zn.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&At(e.blockHash)===C6&&(e.blockHash=null),e}const Cpe="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class d0{name;constructor(e){kt(this,{name:e})}clone(){return new d0(this.name)}}class $1 extends d0{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,n){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function i(o,s){let a=(n||{})[o];a==null&&(a=s),pe(typeof a=="number",`invalud value for ${o}`,"costs",n),r[o]=a}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),kt(this,r)}clone(){return new $1(this.effectiveBlock,this)}}class q1 extends d0{address;targetNetwork;constructor(e,n){super("org.ethers.plugins.network.Ens"),kt(this,{address:e||Cpe,targetNetwork:n??1})}clone(){return new q1(this.address,this.targetNetwork)}}class Tpe extends d0{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=n}clone(){return this}}const Wx=new Map;class no{#e;#t;#n;constructor(e,n){this.#e=e,this.#t=At(n),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=At(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===At(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===At(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===At(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new no(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new $1;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=Ou(e.accessList);for(const o in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[o].storageKeys.length}return r}static from(e){if(Mpe(),e==null)return no.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=Wx.get(e);if(n)return n();if(typeof e=="bigint")return new no("unknown",e);pe(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){pe(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new no(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new q1(e.ensAddress,e.ensNetwork)),n}pe(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=Wx.get(e);r&&pe(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),Wx.set(e,n)}}function T6(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function M6(t){return new Tpe(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[o,s]=await Promise.all([r.send(),e()]);i=o;const a=i.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:T6(a.maxFee,9),maxPriorityFeePerGas:T6(a.maxPriorityFee,9)}}catch(o){ze(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:o})}})}let I6=!1;function Mpe(){if(I6)return;I6=!0;function t(e,n,r){const i=function(){const o=new no(e,n);return r.ensNetwork!=null&&o.attachPlugin(new q1(null,r.ensNetwork)),o.attachPlugin(new $1),(r.plugins||[]).forEach(s=>{o.attachPlugin(s)}),o};no.register(e,i),no.register(n,i),r.altNames&&r.altNames.forEach(o=>{no.register(o,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[M6("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[M6("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function b_(t){return JSON.parse(JSON.stringify(t))}class Ipe{#e;#t;#n;#r;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#i(){try{const e=await this.#e.getBlockNumber();if(this.#r===-2){this.#r=e;return}if(e!==this.#r){for(let n=this.#r+1;n<=e;n++){if(this.#t==null)return;await this.#e.emit("block",n)}this.#r=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}}class M3{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=n=>{this._poll(n,this.#e)}}async _poll(e,n){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class Rpe extends M3{#e;#t;constructor(e,n){super(e),this.#e=n,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,n){const r=await n.getBlock(this.#e);r!=null&&(this.#t===-2?this.#t=r.number:r.number>this.#t&&(n.emit(this.#e,r.number),this.#t=r.number))}}class Ppe extends M3{#e;constructor(e,n){super(e),this.#e=b_(n)}async _poll(e,n){throw new Error("@TODO")}}class kpe extends M3{#e;constructor(e,n){super(e),this.#e=n}async _poll(e,n){const r=await n.getTransactionReceipt(this.#e);r&&n.emit(this.#e,r)}}class I3{#e;#t;#n;#r;#i;constructor(e,n){this.#e=e,this.#t=b_(n),this.#n=this.#s.bind(this),this.#r=!1,this.#i=-2}async#s(e){if(this.#i===-2)return;const n=b_(this.#t);n.fromBlock=this.#i+1,n.toBlock=e;const r=await this.#e.getLogs(n);if(r.length===0){this.#i<e-60&&(this.#i=e-60);return}for(const i of r)this.#e.emit(this.#t,i),this.#i=i.blockNumber}start(){this.#r||(this.#r=!0,this.#i===-2&&this.#e.getBlockNumber().then(e=>{this.#i=e}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#i=-2)}resume(){this.start()}}const Npe=BigInt(2),Fpe=10;function dg(t){return t&&typeof t.then=="function"}function My(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((o,s)=>(o[s]=r[s],o),{})}return r})}class Sz{name;constructor(e){kt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Ope(t){return JSON.parse(JSON.stringify(t))}function x_(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Vx(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(bn(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:My("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:My("orphan",n),filter:Ope(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?x_(i.map(o=>o.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],o=[],s=a=>{bn(a)?i.push(a):o.push((async()=>{i.push(await ui(a,e))})())};Array.isArray(n.address)?n.address.forEach(s):s(n.address),o.length&&await Promise.all(o),r.address=x_(i.map(a=>a.toLowerCase()))}return{filter:r,tag:My("event",r),type:"event"}}pe(!1,"unknown ProviderEvent","event",t)}function $x(){return new Date().getTime()}const Bpe={cacheTimeout:250,pollingInterval:4e3};class Lpe{#e;#t;#n;#r;#i;#s;#o;#a;#p;#u;#m;#h;constructor(e,n){if(this.#h=Object.assign({},Bpe,n||{}),e==="any")this.#s=!0,this.#i=null;else if(e){const r=no.from(e);this.#s=!1,this.#i=Promise.resolve(r),setTimeout(()=>{this.emit("network",r,null)},0)}else this.#s=!1,this.#i=null;this.#a=-1,this.#o=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#p=1,this.#u=new Map,this.#m=!1}get pollingInterval(){return this.#h.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#m}set disableCcipRead(e){this.#m=!!e}async#l(e){const n=this.#h.cacheTimeout;if(n<0)return await this._perform(e);const r=My(e.method,e);let i=this.#o.get(r);return i||(i=this._perform(e),this.#o.set(r,i),setTimeout(()=>{this.#o.get(r)===i&&this.#o.delete(r)},n)),await i}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),o=n.toLowerCase(),s=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",o),u=new za(c);l.indexOf("{data}")===-1&&(u.body={data:o,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let d="unknown error",f;try{f=await u.send()}catch(h){s.push(h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:h}});continue}try{const h=f.bodyJson;if(h.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:h}),h.data;h.message&&(d=h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:h})}catch{}ze(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:d}}),s.push(d)}ze(!1,`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:s}})}_wrapBlock(e,n){return new npe(xpe(e),this)}_wrapLog(e,n){return new l0(wpe(e),this)}_wrapTransactionReceipt(e,n){return new fz(Spe(e),this)}_wrapTransactionResponse(e,n){return new c0(_z(e),this)}_detectNetwork(){ze(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){ze(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Ht(await this.#l({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return ui(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(bn(e))return bn(e,32)?e:ns(e);if(typeof e=="bigint"&&(e=Ht(e,"blockTag")),typeof e=="number")return e>=0?ns(e):this.#a>=0?ns(this.#a+e):this.getBlockNumber().then(n=>ns(n+e));pe(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?x_(l.map(c=>c.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(l,c,u)=>{let d;switch(l.length){case 0:break;case 1:d=l[0];break;default:l.sort(),d=l}if(r&&(c!=null||u!=null))throw new Error("invalid filter");const f={};return d&&(f.address=d),n.length&&(f.topics=n),c&&(f.fromBlock=c),u&&(f.toBlock=u),r&&(f.blockHash=r),f};let o=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)o.push(this._getAddress(l));else o.push(this._getAddress(e.address));let s;"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),o.filter(l=>typeof l!="string").length||s!=null&&typeof s!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(o),s,a]).then(l=>i(l[0],l[1],l[2])):i(o,s,a)}_getTransactionRequest(e){const n=Xv(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const o=ui(n[i],this);dg(o)?r.push(async function(){n[i]=await o}()):n[i]=o}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);dg(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(this.#i==null){const i=(async()=>{try{const o=await this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw this.#i===i&&(this.#i=null),o}})();return this.#i=i,(await i).clone()}const e=this.#i,[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(this.#s?(this.emit("network",r,n),this.#i===e&&(this.#i=Promise.resolve(r))):ze(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:o,priorityFee:s}=await ni({_block:this.#y("latest",!1),gasPrice:(async()=>{try{const u=await this.#l({method:"getGasPrice"});return At(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await this.#l({method:"getPriorityFee"});return At(u,"%response")}catch{}return null})()});let a=null,l=null;const c=this._wrapBlock(i,e);return c&&c.baseFeePerGas&&(l=s??BigInt("1000000000"),a=c.baseFeePerGas*Npe+l),new E6(o,a,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new za(r.url),o=await r.processFunc(n,this,i);return new E6(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return dg(n)&&(n=await n),At(await this.#l({method:"estimateGas",transaction:n}),"%response")}async#c(e,n,r){ze(r<Fpe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=Xv(e);try{return dt(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(o){if(!this.disableCcipRead&&c3(o)&&o.data&&r>=0&&n==="latest"&&i.to!=null&&Dn(o.data,0,4)==="0x556f1830"){const s=o.data,a=await ui(i.to,this);let l;try{l=Gpe(Dn(o.data,4))}catch(d){ze(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:s}})}ze(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(i,l.calldata,l.urls);ze(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:o.data,errorArgs:l.errorArgs}});const u={to:a,data:Hn([l.selector,jpe([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const d=await this.#c(u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw o}}async#d(e){const{value:n}=await ni({network:this.getNetwork(),value:e});return n}async call(e){const{tx:n,blockTag:r}=await ni({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#d(this.#c(n,r,e.enableCcipRead?0:-1))}async#f(e,n,r){let i=this._getAddress(n),o=this._getBlockTag(r);return(typeof i!="string"||typeof o!="string")&&([i,o]=await Promise.all([i,o])),await this.#d(this.#l(Object.assign(e,{address:i,blockTag:o})))}async getBalance(e,n){return At(await this.#f({method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Ht(await this.#f({method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return dt(await this.#f({method:"getCode"},e,n))}async getStorage(e,n,r){const i=At(n,"position");return dt(await this.#f({method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await ni({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=Yo.from(e);if(o.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,i).replaceableTransaction(n)}async#y(e,n){if(bn(e,32))return await this.#l({method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await this.#l({method:"getBlock",blockTag:r,includeTransactions:n})}async getBlock(e,n){const{network:r,params:i}=await ni({network:this.getNetwork(),params:this.#y(e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await ni({network:this.getNetwork(),params:this.#l({method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await ni({network:this.getNetwork(),params:this.#l({method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await this.#l({method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await ni({network:this.getNetwork(),result:this.#l({method:"getTransactionResult",hash:e})});return n==null?null:dt(n)}async getLogs(e){let n=this._getFilter(e);dg(n)&&(n=await n);const{network:r,params:i}=await ni({network:this.getNetwork(),params:this.#l({method:"getLogs",filter:n})});return i.map(o=>this._wrapLog(o,r))}_getProvider(e){ze(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Vd.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=cn(e);const n=y_(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await Vd.getEnsAddress(this),o=await new wp(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(o==null||o===wm)return null;const a=await new wp(o,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(Br(r,"BAD_DATA")&&r.value==="0x"||Br(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(o,s)=>{let a=null;const l=async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=i){o(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",l)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),s(Tn("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){ze(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=this.#u.get(e);n&&(n.timer&&clearTimeout(n.timer),this.#u.delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=this.#p++,i=()=>{this.#u.delete(r),e()};if(this.paused)this.#u.set(r,{timer:null,func:i,time:n});else{const o=setTimeout(i,n);this.#u.set(r,{timer:o,func:i,time:$x()})}return r}_forEachSubscriber(e){for(const n of this.#e.values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Sz(e.type);case"block":{const n=new Ipe(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new Rpe(this,e.type);case"event":return new I3(this,e.filter);case"transaction":return new kpe(this,e.hash);case"orphan":return new Ppe(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of this.#e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),this.#n!=null&&n.pause(this.#n);break}}async#g(e,n){let r=await Vx(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await Vx({orphan:"drop-log",log:n[0]},this)),this.#e.get(r.tag)||null}async#v(e){const n=await Vx(e,this),r=n.tag;let i=this.#e.get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(r,i)),i}async on(e,n){const r=await this.#v(e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async once(e,n){const r=await this.#v(e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async emit(e,...n){const r=await this.#g(e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:o,once:s})=>{const a=new W7(this,s?null:o,e);try{o.call(this,...n,a)}catch{}return!s}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await this.#g(e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of this.#e.values())n+=r.length;return n}async listeners(e){if(e){const r=await this.#g(e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of this.#e.values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await this.#g(e);if(!r)return this;if(n){const i=r.listeners.map(({listener:o})=>o).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await this.#v(e);r&&i.stop(),this.#e.delete(n)}else for(const[n,{started:r,subscriber:i}]of this.#e)r&&i.stop(),this.#e.delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(const e of this.#u.keys())this._clearTimeout(e);this.#r=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#n!=null){if(this.#n==!!e)return;ze(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),this.#n=!!e;for(const n of this.#u.values())n.timer&&clearTimeout(n.timer),n.time=$x()-n.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(const e of this.#u.values()){let n=e.time;n<0&&(n=0),e.time=$x(),setTimeout(e.func,n)}}}}function Dpe(t,e){try{const n=E_(t,e);if(n)return Hv(n)}catch{}return null}function E_(t,e){if(t==="0x")return null;try{const n=Ht(Dn(t,e,e+32)),r=Ht(Dn(t,n,n+32));return Dn(t,n+32,n+32+r)}catch{}return null}function R6(t){const e=hr(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function Upe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const zpe=new Uint8Array([]);function jpe(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(zpe),n+=32;for(let r=0;r<t.length;r++){const i=Gt(t[r]);e[r]=R6(n),e.push(R6(i.length)),e.push(Upe(i)),n+=32+Math.ceil(i.length/32)*32}return Hn(e)}const P6="0x0000000000000000000000000000000000000000000000000000000000000000";function Gpe(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};ze(Gd(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Dn(t,0,32);ze(Dn(n,0,12)===Dn(P6,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Dn(n,12);try{const r=[],i=Ht(Dn(t,32,64)),o=Ht(Dn(t,i,i+32)),s=Dn(t,i+32);for(let a=0;a<o;a++){const l=Dpe(s,a*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{ze(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=E_(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{ze(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}ze(Dn(t,100,128)===Dn(P6,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Dn(t,96,100);try{const r=E_(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{ze(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function sc(t,e){if(t.provider)return t.provider;ze(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function k6(t,e){let n=Xv(e);if(n.to!=null&&(n.to=ui(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),ui(r,t)]).then(([i,o])=>(pe(i.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),i))}else n.from=t.getAddress();return await ni(n)}class Hpe{provider;constructor(e){kt(this,{provider:e||null})}async getNonce(e){return sc(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await k6(this,e)}async populateTransaction(e){const n=sc(this,"populateTransaction"),r=await k6(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const s=At(r.chainId);pe(s===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const o=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||o)?pe(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&o&&pe(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const s=await n.getFeeData();ze(s.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice)}else{const s=await n.getFeeData();if(r.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(ze(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice),r.type=0):ze(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return await ni(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await sc(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return sc(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return sc(this,"call").call(await this.populateCall(e))}async resolveName(e){return await sc(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=sc(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=Yo.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){ze(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function Wpe(t){return JSON.parse(JSON.stringify(t))}class Cz{#e;#t;#n;#r;#i;#s;constructor(e){this.#e=e,this.#t=null,this.#n=this.#o.bind(this),this.#r=!1,this.#i=null,this.#s=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#o(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let n=null;try{n=await this.#t}catch(o){if(!Br(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(n==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const r=await this.#e.getNetwork();if(this.#i||(this.#i=r),this.#i.chainId!==r.chainId)throw new Error("chaid changed");if(this.#s)return;const i=await this.#e.send("eth_getFilterChanges",[n]);await this._emitResults(this.#e,i)}catch(n){console.log("@TODO",n)}this.#e.once("block",this.#n)}#a(){const e=this.#t;e&&(this.#t=null,e.then(n=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[n])}))}start(){this.#r||(this.#r=!0,this.#o(-2))}stop(){this.#r&&(this.#r=!1,this.#s=!0,this.#a(),this.#e.off("block",this.#n))}pause(e){e&&this.#a(),this.#e.off("block",this.#n)}resume(){this.start()}}class Vpe extends Cz{#e;constructor(e,n){super(e),this.#e=Wpe(n)}_recover(e){return new I3(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,n){for(const r of n)e.emit(this.#e,e._wrapLog(r,e._network))}}class $pe extends Cz{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const qpe="bigint,boolean,function,number,string,symbol".split(/,/g);function Iy(t){if(t==null||qpe.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Iy);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function Kpe(t){return new Promise(e=>{setTimeout(e,t)})}function $u(t){return t&&t.toLowerCase()}function N6(t){return t&&typeof t.pollingInterval=="number"}const Tz={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class qx extends Hpe{address;constructor(e,n){super(e),n=cn(n),kt(this,{address:n})}connect(e){ze(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const n=Iy(e),r=[];if(n.from){const o=n.from;r.push((async()=>{const s=await ui(o,this.provider);pe(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=s})())}else n.from=this.address;if(n.gasLimit==null&&r.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;r.push((async()=>{n.to=await ui(o,this.provider)})())}r.length&&await Promise.all(r);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const n=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((i,o)=>{const s=[1e3,100];let a=0;const l=async()=>{try{const c=await this.provider.getTransaction(r);if(c!=null){i(c.replaceableTransaction(n));return}}catch(c){if(Br(c,"CANCELLED")||Br(c,"BAD_DATA")||Br(c,"NETWORK_ERROR")||Br(c,"UNSUPPORTED_OPERATION")){c.info==null&&(c.info={}),c.info.sendTransactionHash=r,o(c);return}if(Br(c,"INVALID_ARGUMENT")&&(a++,c.info==null&&(c.info={}),c.info.sendTransactionHash=r,a>10)){o(c);return}this.provider.emit("error",Tn("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:c}))}this.provider._setTimeout(()=>{l()},s.pop()||4e3)};l()})}async signTransaction(e){const n=Iy(e);if(n.from){const i=await ui(n.from,this.provider);pe(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=i}else n.from=this.address;const r=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const n=typeof e=="string"?Ia(e):e;return await this.provider.send("personal_sign",[dt(n),this.address.toLowerCase()])}async signTypedData(e,n,r){const i=Iy(r),o=await $i.resolveNames(e,n,i,async s=>{const a=await ui(s);return pe(a!=null,"TypedData does not support null address","value",s),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify($i.getPayload(o.domain,n,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const n=typeof e=="string"?Ia(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),dt(n)])}}class Qpe extends Lpe{#e;#t;#n;#r;#i;#s;#o;#a(){if(this.#r)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;const n=this.#n;for(this.#n=[];n.length;){const r=[n.shift()];for(;n.length&&r.length!==this.#e.batchMaxCount;)if(r.push(n.shift()),JSON.stringify(r.map(o=>o.payload)).length>this.#e.batchMaxSize){n.unshift(r.pop());break}(async()=>{const i=r.length===1?r[0].payload:r.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:s,reject:a,payload:l}of r){if(this.destroyed){a(Tn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const c=o.filter(u=>u.id===l.id)[0];if(c==null){const u=Tn("missing response for request","BAD_DATA",{value:o,info:{payload:l}});this.emit("error",u),a(u);continue}if("error"in c){a(this.getRpcError(l,c));continue}s(c.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:s}of r)s(o)}})()}},e)}constructor(e,n){super(e,n),this.#t=1,this.#e=Object.assign({},Tz,n||{}),this.#n=[],this.#r=null,this.#s=null,this.#o=null;{let i=null;const o=new Promise(s=>{i=s});this.#i={promise:o,resolve:i}}const r=this._getOption("staticNetwork");typeof r=="boolean"?(pe(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",n),r&&e!=null&&(this.#s=no.from(e))):r&&(pe(e==null||r.matches(e),"staticNetwork MUST match network object","options",n),this.#s=r)}_getOption(e){return this.#e[e]}get _network(){return ze(this.#s,"network is not available yet","NETWORK_ERROR"),this.#s}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&At(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}const n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#s)return this.#s}else return e;return this.#o?await this.#o:this.ready?(this.#o=(async()=>{try{const n=no.from(At(await this.send("eth_chainId",[])));return this.#o=null,n}catch(n){throw this.#o=null,n}})(),await this.#o):(this.#o=(async()=>{const n={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let r;try{r=(await this._send(n))[0],this.#o=null}catch(i){throw this.#o=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return no.from(At(r.result));throw this.getRpcError(n,r)})(),await this.#o)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#s==null&&!this.destroyed;)try{this.#s=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Tn("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Kpe(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(e){return e.type==="pending"?new $pe(this):e.type==="event"?this._getOption("polling")?new I3(this,e.filter):new Vpe(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Sz("orphan"):super._getSubscriber(e)}get ready(){return this.#i==null}getRpcTransaction(e){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let i=r;r==="gasLimit"&&(i="gas"),n[i]=ns(At(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(n[r]=dt(e[r]))}),e.accessList&&(n.accessList=Ou(e.accessList)),e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes.map(r=>r.toLowerCase())),e.authorizationList&&(n.authorizationList=e.authorizationList.map(r=>{const i=k9(r);return{address:i.address,nonce:ns(i.nonce),chainId:ns(i.chainId),yParity:ns(i.signature.yParity),r:ns(i.signature.r),s:ns(i.signature.s)}})),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[$u(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[$u(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[$u(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[$u(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map($u):e.filter.address=$u(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){const{method:r}=e,{error:i}=n;if(r==="eth_estimateGas"&&i.message){const a=i.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Tn("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return Tn("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if(r==="eth_call"||r==="eth_estimateGas"){const a=A_(i),l=Ef.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return l.info={error:i,payload:e},l}const o=JSON.stringify(Ype(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Tn("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){const a=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Tn("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return Tn("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Tn("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:i}});if(o.match(/only replay-protected/i))return Tn("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:a,info:{error:i}}})}let s=!!o.match(/the method .* does not exist/i);return s||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(s=!0),s?Tn("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):Tn("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(Tn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#t++,i=new Promise((o,s)=>{this.#n.push({resolve:o,reject:s,payload:{method:e,params:n,id:r,jsonrpc:"2.0"}})});return this.#a(),i}async getSigner(e){e==null&&(e=0);const n=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await n;if(e>=i.length)throw new Error("no such account");return new qx(this,i[e])}const{accounts:r}=await ni({network:this.getNetwork(),accounts:n});e=cn(e);for(const i of r)if(cn(i)===e)return new qx(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new qx(this,n))}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(const{payload:e,reject:n}of this.#n)n(Tn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}}class Xpe extends Qpe{#e;constructor(e,n){super(e,n);let r=this._getOption("pollingInterval");r==null&&(r=Tz.pollingInterval),this.#e=r}_getSubscriber(e){const n=super._getSubscriber(e);return N6(n)&&(n.pollingInterval=this.#e),n}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(n=>{N6(n)&&(n.pollingInterval=this.#e)})}}function A_(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&bn(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=A_(t[e]);if(n)return n}return null}if(typeof t=="string")try{return A_(JSON.parse(t))}catch{}return null}function __(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)__(t[n],e);if(typeof t=="string")try{return __(JSON.parse(t),e)}catch{}}}function Ype(t){const e=[];return __(t,e),e}class Ec extends Xpe{#e;#t;constructor(e,n,r){const i=Object.assign({},r??{},{batchMaxCount:1});pe(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(n,i),this.#t=null,r&&r.providerInfo&&(this.#t=r.providerInfo),this.#e=async(o,s)=>{const a={method:o,params:s};this.emit("debug",{action:"sendEip1193Request",payload:a});try{const l=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){const c=new Error(l.message);throw c.code=l.code,c.data=l.data,c.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:c}),c}}}get providerInfo(){return this.#t}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){pe(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const n=await this.#e(e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);const n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(n){const r=n.payload;throw this.getRpcError(r,{id:r.id,error:n})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new Ec(e.provider);const n=e.window?e.window:typeof window<"u"?window:null;if(n==null)return null;const r=e.anyProvider;if(r&&n.ethereum)return new Ec(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const i=e.timeout?e.timeout:300;return i===0?null:await new Promise((o,s)=>{let a=[];const l=d=>{a.push(d.detail),r&&c()},c=()=>{if(clearTimeout(u),a.length)if(e&&e.filter){const d=e.filter(a.map(f=>Object.assign({},f.info)));if(d==null)o(null);else if(d instanceof Ec)o(d);else{let f=null;if(d.uuid&&(f=a.filter(g=>d.uuid===g.info.uuid)[0]),f){const{provider:h,info:g}=f;o(new Ec(h,void 0,{providerInfo:g}))}else s(Tn("filter returned unknown info","UNSUPPORTED_OPERATION",{value:d}))}}else{const{provider:d,info:f}=a[0];o(new Ec(d,void 0,{providerInfo:f}))}else o(null);n.removeEventListener("eip6963:announceProvider",l)},u=setTimeout(()=>{c()},i);n.addEventListener("eip6963:announceProvider",l),n.dispatchEvent(new Event("eip6963:requestProvider"))})}}const Mz=U.createContext(),fo=()=>{const t=U.useContext(Mz);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},Jpe=({children:t})=>{const{showSuccess:e,showError:n,showInfo:r}=Ys(),{address:i,isConnected:o,isConnecting:s}=Tr(),a=Jm(),{switchChain:l}=HD(),{data:c}=WD(),u=TT(),[d,f]=U.useState([]),[h,g]=U.useState(!1),m={1:{name:"Ethereum",symbol:"ETH",network:ke.ETH_MAINNET},137:{name:"Polygon",symbol:"MATIC",network:ke.MATIC_MAINNET},8453:{name:"Base",symbol:"ETH",network:ke.BASE_MAINNET},42161:{name:"Arbitrum",symbol:"ETH",network:ke.ARB_MAINNET},10:{name:"Optimism",symbol:"ETH",network:ke.OPT_MAINNET},56:{name:"BSC",symbol:"BNB",network:ke.BSC_MAINNET},43114:{name:"Avalanche",symbol:"AVAX",network:ke.AVAX_MAINNET}},y=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),p=async()=>{try{await l({chainId:8453}),e("Switched to Base network")}catch(T){console.error("Network switch error:",T),n("Failed to switch to Base network")}},v=async()=>{if(i){g(!0);try{const T=m[a];if(!T)throw new Error("Unsupported network");const N="hoaKpKFy40ibWtxftFZbJNUk5NQoL0R3";console.log(" Using Alchemy API key (protected by allowlist)");const A=new vue({apiKey:N,network:T.network});console.log(" Loading NFTs for:",{address:i,chain:T.name,network:T.network});let z=[],S=null;do{const R=await A.nft.getNftsForOwner(i,{omitMetadata:!1,pageKey:S});console.log(" Raw NFTs from Alchemy:",{count:R.ownedNfts.length,pageKey:R.pageKey,totalCount:R.totalCount}),z=[...z,...R.ownedNfts],S=R.pageKey}while(S);console.log(" Total NFTs found:",z.length);const k=await Promise.all(z.map(async R=>({contractAddress:R.contract.address,tokenId:R.tokenId,name:R.title||R.name||`#${R.tokenId}`,collection:R.contract.name||"Unknown Collection",image:R.media?.[0]?.gateway||R.media?.[0]?.raw||R.image?.originalUrl||R.image?.cachedUrl||"",chain:T.name,description:R.description||"",animationUrl:R.media?.[0]?.format==="mp4"?R.media[0].gateway:R.animation_url||""})));console.log(" Loaded NFTs:",{count:k.length,nfts:k}),f(k)}catch(T){console.error(" Error loading NFTs:",T),n("Failed to load NFTs: "+T.message)}finally{g(!1)}}};U.useEffect(()=>{i?v():f([])},[i,a]),U.useEffect(()=>{o&&i&&e(`Connected to ${i.slice(0,6)}...${i.slice(-4)}`)},[o,i]),U.useEffect(()=>{console.log(" WalletContext state:",{isConnected:o,address:i,chainId:a,hasWalletClient:!!c,hasPublicClient:!!u,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)})},[o,i,a,c,u]);const w=()=>{if(c&&c.transport)try{return{getSigner:()=>(console.warn("getSigner() is deprecated. Use walletClient directly for transactions."),null)}}catch(T){console.error("Failed to create provider wrapper:",T)}if(window.ethereum)try{return new Ec(window.ethereum)}catch(T){console.error("Failed to create ethers provider:",T)}return null},x={isConnected:o,isConnecting:s,loading:h,address:i,chainId:a,chain:m[a]?{...m[a],id:a}:{name:"Unknown",symbol:"ETH",id:a},chains:m,switchChain:l,switchToBase:p,nfts:d,loadNFTs:v,isMobile:y,walletClient:c,publicClient:u,provider:w()};return F(Mz.Provider,{value:x,children:t})},Iz=U.createContext(),R3=()=>{const t=U.useContext(Iz);if(!t)throw new Error("useProfile must be used within a ProfileProvider");return t},Zpe=({children:t})=>{const{address:e}=fo(),[n,r]=U.useState({}),[i,o]=U.useState({}),s="https://cryptoflipz2-production.up.railway.app";console.log(" ProfileContext API_BASE:",s,"NODE_ENV:","production");const a=async v=>{try{return(await m(v))?.name||""}catch(w){return console.error("Error getting player name:",w),""}},l=async(v,w)=>{try{const x=await m(v);await y(v,{...x,name:w}),r(T=>({...T,[v]:{...T[v],name:w}}))}catch(x){throw console.error("Error setting player name:",x),x}},c=async v=>{try{return(await m(v))?.avatar||""}catch(w){return console.error("Error getting profile picture:",w),""}},u=async(v,w)=>{try{const x=await m(v);await y(v,{...x,avatar:w}),r(T=>({...T,[v]:{...T[v],avatar:w}}))}catch(x){throw console.error("Error setting profile picture:",x),x}},d=async v=>{try{console.log(" Getting coin heads image for:",v);const w=await m(v);return console.log(" Profile loaded for heads:",{hasProfile:!!w,hasHeadsImage:!!w?.headsImage,headsLength:w?.headsImage?.length||0}),w?.headsImage||null}catch(w){return console.error("Error getting coin heads image:",w),null}},f=async(v,w)=>{try{const x=await m(v);await y(v,{...x,headsImage:w}),r(T=>({...T,[v]:{...T[v],headsImage:w}}))}catch(x){throw console.error("Error setting coin heads image:",x),x}},h=async v=>{try{console.log(" Getting coin tails image for:",v);const w=await m(v);return console.log(" Profile loaded for tails:",{hasProfile:!!w,hasTailsImage:!!w?.tailsImage,tailsLength:w?.tailsImage?.length||0}),w?.tailsImage||null}catch(w){return console.error("Error getting coin tails image:",w),null}},g=async(v,w)=>{try{const x=await m(v);await y(v,{...x,tailsImage:w}),r(T=>({...T,[v]:{...T[v],tailsImage:w}}))}catch(x){throw console.error("Error setting coin tails image:",x),x}},m=async v=>{if(i[v])return new Promise(w=>{const x=()=>{i[v]?setTimeout(x,100):w(n[v]||null)};x()});if(n[v])return n[v];o(w=>({...w,[v]:!0}));try{console.log(" Fetching profile from:",`${s}/api/profile/${v}`);const w=await fetch(`${s}/api/profile/${v}`);if(console.log(" Profile API response:",{status:w.status,ok:w.ok,statusText:w.statusText}),w.ok){const x=await w.json();return console.log(" Profile data received:",{address:x.address,hasName:!!x.name,hasAvatar:!!x.avatar,hasHeadsImage:!!x.headsImage,hasTailsImage:!!x.tailsImage}),r(T=>({...T,[v]:x})),x}else{console.warn("Profile not found, returning empty profile");const x={address:v,name:"",avatar:"",headsImage:"",tailsImage:""};return r(T=>({...T,[v]:x})),x}}catch(w){console.error("Error fetching profile:",w);const x={address:v,name:"",avatar:"",headsImage:"",tailsImage:""};return r(T=>({...T,[v]:x})),x}finally{o(w=>({...w,[v]:!1}))}},y=async(v,w)=>{try{const x=await fetch(`${s}/api/profile/${v}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!x.ok)throw new Error("Failed to update profile");return await x.json()}catch(x){throw console.error("Error updating profile:",x),x}},p={getPlayerName:a,setPlayerName:l,getProfilePicture:c,setProfilePicture:u,getCoinHeadsImage:d,setCoinHeadsImage:f,getCoinTailsImage:h,setCoinTailsImage:g};return F(Iz.Provider,{value:p,children:t})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mn(){return Mn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mn.apply(this,arguments)}var Zn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zn||(Zn={}));const F6="popstate";function eme(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Cm("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xu(i)}return nme(e,n,null,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _f(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tme(){return Math.random().toString(36).substr(2,8)}function O6(t,e){return{usr:t.state,key:t.key,idx:e}}function Cm(t,e,n,r){return n===void 0&&(n=null),Mn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tc(e):e,{state:n,key:e&&e.key||r||tme()})}function xu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nme(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Zn.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Mn({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Zn.Pop;let y=u(),p=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:p})}function f(y,p){a=Zn.Push;let v=Cm(m.location,y,p);c=u()+1;let w=O6(v,c),x=m.createHref(v);try{s.pushState(w,"",x)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(x)}o&&l&&l({action:a,location:m.location,delta:1})}function h(y,p){a=Zn.Replace;let v=Cm(m.location,y,p);c=u();let w=O6(v,c),x=m.createHref(v);s.replaceState(w,"",x),o&&l&&l({action:a,location:m.location,delta:0})}function g(y){let p=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:xu(y);return v=v.replace(/ $/,"%20"),qt(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let m={get action(){return a},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(F6,d),l=y,()=>{i.removeEventListener(F6,d),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let p=g(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:h,go(y){return s.go(y)}};return m}var dn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dn||(dn={}));const rme=new Set(["lazy","caseSensitive","path","id","index","children"]);function ime(t){return t.index===!0}function Jv(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],a=typeof i.id=="string"?i.id:s.join("-");if(qt(i.index!==!0||!i.children,"Cannot specify children on an index route"),qt(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),ime(i)){let l=Mn({},i,e(i),{id:a});return r[a]=l,l}else{let l=Mn({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Jv(i.children,e,s,r)),l}})}function Ac(t,e,n){return n===void 0&&(n="/"),Ry(t,e,n,!1)}function Ry(t,e,n,r){let i=typeof e=="string"?tc(e):e,o=rh(i.pathname||"/",n);if(o==null)return null;let s=Rz(t);sme(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=yme(o);a=mme(s[l],c,r)}return a}function ome(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Rz(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(qt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Pa([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(qt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Rz(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:hme(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Pz(o.path))i(o,s,l)}),e}function Pz(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Pz(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sme(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pme(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ame=/^:[\w-]+$/,lme=3,cme=2,ume=1,dme=10,fme=-2,B6=t=>t==="*";function hme(t,e){let n=t.split("/"),r=n.length;return n.some(B6)&&(r+=fme),e&&(r+=cme),n.filter(i=>!B6(i)).reduce((i,o)=>i+(ame.test(o)?lme:o===""?ume:dme),r)}function pme(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mme(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=L6({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=L6({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Pa([o,d.pathname]),pathnameBase:bme(Pa([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Pa([o,d.pathnameBase]))}return s}function L6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gme(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let m=a[d]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[d];return h&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function gme(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_f(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yme(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _f(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vme(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?tc(t):t;return{pathname:n?n.startsWith("/")?n:wme(n,e):e,search:xme(r),hash:Eme(i)}}function wme(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Kx(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function P3(t,e){let n=kz(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function k3(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=tc(t):(i=Mn({},t),qt(!i.pathname||!i.pathname.includes("?"),Kx("?","pathname","search",i)),qt(!i.pathname||!i.pathname.includes("#"),Kx("#","pathname","hash",i)),qt(!i.search||!i.search.includes("#"),Kx("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=vme(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Pa=t=>t.join("/").replace(/\/\/+/g,"/"),bme=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xme=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Eme=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Zv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Tm(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nz=["post","put","patch","delete"],Ame=new Set(Nz),_me=["get",...Nz],Sme=new Set(_me),Cme=new Set([301,302,303,307,308]),Tme=new Set([307,308]),Qx={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Mme={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Rh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},N3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ime=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Fz="remix-router-transitions";function Rme(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;qt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let ie=t.detectErrorBoundary;i=me=>({hasErrorBoundary:ie(me)})}else i=Ime;let o={},s=Jv(t.routes,i,void 0,o),a,l=t.basename||"/",c=t.dataStrategy||Fme,u=t.patchRoutesOnNavigation,d=Mn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,h=new Set,g=null,m=null,y=null,p=t.hydrationData!=null,v=Ac(s,t.history.location,l),w=!1,x=null;if(v==null&&!u){let ie=Ei(404,{pathname:t.history.location.pathname}),{matches:me,route:ve}=K6(s);v=me,x={[ve.id]:ie}}v&&!t.hydrationData&&Ft(v,s,t.history.location.pathname).active&&(v=null);let T;if(v)if(v.some(ie=>ie.route.lazy))T=!1;else if(!v.some(ie=>ie.route.loader))T=!0;else if(d.v7_partialHydration){let ie=t.hydrationData?t.hydrationData.loaderData:null,me=t.hydrationData?t.hydrationData.errors:null;if(me){let ve=v.findIndex(Me=>me[Me.route.id]!==void 0);T=v.slice(0,ve+1).every(Me=>!C_(Me.route,ie,me))}else T=v.every(ve=>!C_(ve.route,ie,me))}else T=t.hydrationData!=null;else if(T=!1,v=[],d.v7_partialHydration){let ie=Ft(null,s,t.history.location.pathname);ie.active&&ie.matches&&(w=!0,v=ie.matches)}let N,A={historyAction:t.history.action,location:t.history.location,matches:v,initialized:T,navigation:Qx,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},z=Zn.Pop,S=!1,k,R=!1,W=new Map,L=null,b=!1,E=!1,I=[],O=new Set,C=new Map,j=0,H=-1,D=new Map,M=new Set,$=new Map,J=new Map,Z=new Set,ce=new Map,oe=new Map,Ee;function de(){if(f=t.history.listen(ie=>{let{action:me,location:ve,delta:Me}=ie;if(Ee){Ee(),Ee=void 0;return}_f(oe.size===0||Me!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let et=ot({currentLocation:A.location,nextLocation:ve,historyAction:me});if(et&&Me!=null){let at=new Promise(rt=>{Ee=rt});t.history.go(Me*-1),le(et,{state:"blocked",location:ve,proceed(){le(et,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),at.then(()=>t.history.go(Me))},reset(){let rt=new Map(A.blockers);rt.set(et,Rh),we({blockers:rt})}});return}return Ke(me,ve)}),n){Kme(e,W);let ie=()=>Qme(e,W);e.addEventListener("pagehide",ie),L=()=>e.removeEventListener("pagehide",ie)}return A.initialized||Ke(Zn.Pop,A.location,{initialHydration:!0}),N}function Re(){f&&f(),L&&L(),h.clear(),k&&k.abort(),A.fetchers.forEach((ie,me)=>Y(me)),A.blockers.forEach((ie,me)=>it(me))}function ae(ie){return h.add(ie),()=>h.delete(ie)}function we(ie,me){me===void 0&&(me={}),A=Mn({},A,ie);let ve=[],Me=[];d.v7_fetcherPersist&&A.fetchers.forEach((et,at)=>{et.state==="idle"&&(Z.has(at)?Me.push(at):ve.push(at))}),Z.forEach(et=>{!A.fetchers.has(et)&&!C.has(et)&&Me.push(et)}),[...h].forEach(et=>et(A,{deletedFetchers:Me,viewTransitionOpts:me.viewTransitionOpts,flushSync:me.flushSync===!0})),d.v7_fetcherPersist?(ve.forEach(et=>A.fetchers.delete(et)),Me.forEach(et=>Y(et))):Me.forEach(et=>Z.delete(et))}function qe(ie,me,ve){var Me,et;let{flushSync:at}=ve===void 0?{}:ve,rt=A.actionData!=null&&A.navigation.formMethod!=null&&Zo(A.navigation.formMethod)&&A.navigation.state==="loading"&&((Me=ie.state)==null?void 0:Me._isRedirect)!==!0,pt;me.actionData?Object.keys(me.actionData).length>0?pt=me.actionData:pt=null:rt?pt=A.actionData:pt=null;let Ye=me.loaderData?$6(A.loaderData,me.loaderData,me.matches||[],me.errors):A.loaderData,Qe=A.blockers;Qe.size>0&&(Qe=new Map(Qe),Qe.forEach((Ct,gn)=>Qe.set(gn,Rh)));let Et=S===!0||A.navigation.formMethod!=null&&Zo(A.navigation.formMethod)&&((et=ie.state)==null?void 0:et._isRedirect)!==!0;a&&(s=a,a=void 0),b||z===Zn.Pop||(z===Zn.Push?t.history.push(ie,ie.state):z===Zn.Replace&&t.history.replace(ie,ie.state));let wt;if(z===Zn.Pop){let Ct=W.get(A.location.pathname);Ct&&Ct.has(ie.pathname)?wt={currentLocation:A.location,nextLocation:ie}:W.has(ie.pathname)&&(wt={currentLocation:ie,nextLocation:A.location})}else if(R){let Ct=W.get(A.location.pathname);Ct?Ct.add(ie.pathname):(Ct=new Set([ie.pathname]),W.set(A.location.pathname,Ct)),wt={currentLocation:A.location,nextLocation:ie}}we(Mn({},me,{actionData:pt,loaderData:Ye,historyAction:z,location:ie,initialized:!0,navigation:Qx,revalidation:"idle",restoreScrollPosition:un(ie,me.matches||A.matches),preventScrollReset:Et,blockers:Qe}),{viewTransitionOpts:wt,flushSync:at===!0}),z=Zn.Pop,S=!1,R=!1,b=!1,E=!1,I=[]}async function te(ie,me){if(typeof ie=="number"){t.history.go(ie);return}let ve=S_(A.location,A.matches,l,d.v7_prependBasename,ie,d.v7_relativeSplatPath,me?.fromRouteId,me?.relative),{path:Me,submission:et,error:at}=D6(d.v7_normalizeFormMethod,!1,ve,me),rt=A.location,pt=Cm(A.location,Me,me&&me.state);pt=Mn({},pt,t.history.encodeLocation(pt));let Ye=me&&me.replace!=null?me.replace:void 0,Qe=Zn.Push;Ye===!0?Qe=Zn.Replace:Ye===!1||et!=null&&Zo(et.formMethod)&&et.formAction===A.location.pathname+A.location.search&&(Qe=Zn.Replace);let Et=me&&"preventScrollReset"in me?me.preventScrollReset===!0:void 0,wt=(me&&me.flushSync)===!0,Ct=ot({currentLocation:rt,nextLocation:pt,historyAction:Qe});if(Ct){le(Ct,{state:"blocked",location:pt,proceed(){le(Ct,{state:"proceeding",proceed:void 0,reset:void 0,location:pt}),te(ie,me)},reset(){let gn=new Map(A.blockers);gn.set(Ct,Rh),we({blockers:gn})}});return}return await Ke(Qe,pt,{submission:et,pendingError:at,preventScrollReset:Et,replace:me&&me.replace,enableViewTransition:me&&me.viewTransition,flushSync:wt})}function We(){if(G(),we({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){Ke(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}Ke(z||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:R===!0})}}async function Ke(ie,me,ve){k&&k.abort(),k=null,z=ie,b=(ve&&ve.startUninterruptedRevalidation)===!0,ut(A.location,A.matches),S=(ve&&ve.preventScrollReset)===!0,R=(ve&&ve.enableViewTransition)===!0;let Me=a||s,et=ve&&ve.overrideNavigation,at=ve!=null&&ve.initialHydration&&A.matches&&A.matches.length>0&&!w?A.matches:Ac(Me,me,l),rt=(ve&&ve.flushSync)===!0;if(at&&A.initialized&&!E&&zme(A.location,me)&&!(ve&&ve.submission&&Zo(ve.submission.formMethod))){qe(me,{matches:at},{flushSync:rt});return}let pt=Ft(at,Me,me.pathname);if(pt.active&&pt.matches&&(at=pt.matches),!at){let{error:q,notFoundMatches:se,route:ye}=xe(me.pathname);qe(me,{matches:se,loaderData:{},errors:{[ye.id]:q}},{flushSync:rt});return}k=new AbortController;let Ye=qu(t.history,me,k.signal,ve&&ve.submission),Qe;if(ve&&ve.pendingError)Qe=[_c(at).route.id,{type:dn.error,error:ve.pendingError}];else if(ve&&ve.submission&&Zo(ve.submission.formMethod)){let q=await ct(Ye,me,ve.submission,at,pt.active,{replace:ve.replace,flushSync:rt});if(q.shortCircuited)return;if(q.pendingActionResult){let[se,ye]=q.pendingActionResult;if(Ji(ye)&&Tm(ye.error)&&ye.error.status===404){k=null,qe(me,{matches:q.matches,loaderData:{},errors:{[se]:ye.error}});return}}at=q.matches||at,Qe=q.pendingActionResult,et=Xx(me,ve.submission),rt=!1,pt.active=!1,Ye=qu(t.history,Ye.url,Ye.signal)}let{shortCircuited:Et,matches:wt,loaderData:Ct,errors:gn}=await Ze(Ye,me,at,pt.active,et,ve&&ve.submission,ve&&ve.fetcherSubmission,ve&&ve.replace,ve&&ve.initialHydration===!0,rt,Qe);Et||(k=null,qe(me,Mn({matches:wt||at},q6(Qe),{loaderData:Ct,errors:gn})))}async function ct(ie,me,ve,Me,et,at){at===void 0&&(at={}),G();let rt=$me(me,ve);if(we({navigation:rt},{flushSync:at.flushSync===!0}),et){let Qe=await Mt(Me,me.pathname,ie.signal);if(Qe.type==="aborted")return{shortCircuited:!0};if(Qe.type==="error"){let Et=_c(Qe.partialMatches).route.id;return{matches:Qe.partialMatches,pendingActionResult:[Et,{type:dn.error,error:Qe.error}]}}else if(Qe.matches)Me=Qe.matches;else{let{notFoundMatches:Et,error:wt,route:Ct}=xe(me.pathname);return{matches:Et,pendingActionResult:[Ct.id,{type:dn.error,error:wt}]}}}let pt,Ye=Qh(Me,me);if(!Ye.route.action&&!Ye.route.lazy)pt={type:dn.error,error:Ei(405,{method:ie.method,pathname:me.pathname,routeId:Ye.route.id})};else if(pt=(await Ie("action",A,ie,[Ye],Me,null))[Ye.route.id],ie.signal.aborted)return{shortCircuited:!0};if(zc(pt)){let Qe;return at&&at.replace!=null?Qe=at.replace:Qe=H6(pt.response.headers.get("Location"),new URL(ie.url),l)===A.location.pathname+A.location.search,await _e(ie,pt,!0,{submission:ve,replace:Qe}),{shortCircuited:!0}}if(Al(pt))throw Ei(400,{type:"defer-action"});if(Ji(pt)){let Qe=_c(Me,Ye.route.id);return(at&&at.replace)!==!0&&(z=Zn.Push),{matches:Me,pendingActionResult:[Qe.route.id,pt]}}return{matches:Me,pendingActionResult:[Ye.route.id,pt]}}async function Ze(ie,me,ve,Me,et,at,rt,pt,Ye,Qe,Et){let wt=et||Xx(me,at),Ct=at||rt||X6(wt),gn=!b&&(!d.v7_partialHydration||!Ye);if(Me){if(gn){let ue=Nt(Et);we(Mn({navigation:wt},ue!==void 0?{actionData:ue}:{}),{flushSync:Qe})}let ft=await Mt(ve,me.pathname,ie.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){let ue=_c(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[ue]:ft.error}}}else if(ft.matches)ve=ft.matches;else{let{error:ue,notFoundMatches:Be,route:Oe}=xe(me.pathname);return{matches:Be,loaderData:{},errors:{[Oe.id]:ue}}}}let q=a||s,[se,ye]=z6(t.history,A,ve,Ct,me,d.v7_partialHydration&&Ye===!0,d.v7_skipActionErrorRevalidation,E,I,O,Z,$,M,q,l,Et);if(Te(ft=>!(ve&&ve.some(ue=>ue.route.id===ft))||se&&se.some(ue=>ue.route.id===ft)),H=++j,se.length===0&&ye.length===0){let ft=Ne();return qe(me,Mn({matches:ve,loaderData:{},errors:Et&&Ji(Et[1])?{[Et[0]]:Et[1].error}:null},q6(Et),ft?{fetchers:new Map(A.fetchers)}:{}),{flushSync:Qe}),{shortCircuited:!0}}if(gn){let ft={};if(!Me){ft.navigation=wt;let ue=Nt(Et);ue!==void 0&&(ft.actionData=ue)}ye.length>0&&(ft.fetchers=st(ye)),we(ft,{flushSync:Qe})}ye.forEach(ft=>{ne(ft.key),ft.controller&&C.set(ft.key,ft.controller)});let be=()=>ye.forEach(ft=>ne(ft.key));k&&k.signal.addEventListener("abort",be);let{loaderResults:he,fetcherResults:Ue}=await ge(A,ve,se,ye,ie);if(ie.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",be),ye.forEach(ft=>C.delete(ft.key));let Je=fg(he);if(Je)return await _e(ie,Je.result,!0,{replace:pt}),{shortCircuited:!0};if(Je=fg(Ue),Je)return M.add(Je.key),await _e(ie,Je.result,!0,{replace:pt}),{shortCircuited:!0};let{loaderData:gt,errors:mt}=V6(A,ve,he,Et,ye,Ue,ce);ce.forEach((ft,ue)=>{ft.subscribe(Be=>{(Be||ft.done)&&ce.delete(ue)})}),d.v7_partialHydration&&Ye&&A.errors&&(mt=Mn({},A.errors,mt));let Tt=Ne(),Rt=$e(H),yt=Tt||Rt||ye.length>0;return Mn({matches:ve,loaderData:gt,errors:mt},yt?{fetchers:new Map(A.fetchers)}:{})}function Nt(ie){if(ie&&!Ji(ie[1]))return{[ie[0]]:ie[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function st(ie){return ie.forEach(me=>{let ve=A.fetchers.get(me.key),Me=Ph(void 0,ve?ve.data:void 0);A.fetchers.set(me.key,Me)}),new Map(A.fetchers)}function X(ie,me,ve,Me){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ne(ie);let et=(Me&&Me.flushSync)===!0,at=a||s,rt=S_(A.location,A.matches,l,d.v7_prependBasename,ve,d.v7_relativeSplatPath,me,Me?.relative),pt=Ac(at,rt,l),Ye=Ft(pt,at,rt);if(Ye.active&&Ye.matches&&(pt=Ye.matches),!pt){P(ie,me,Ei(404,{pathname:rt}),{flushSync:et});return}let{path:Qe,submission:Et,error:wt}=D6(d.v7_normalizeFormMethod,!0,rt,Me);if(wt){P(ie,me,wt,{flushSync:et});return}let Ct=Qh(pt,Qe),gn=(Me&&Me.preventScrollReset)===!0;if(Et&&Zo(Et.formMethod)){V(ie,me,Qe,Ct,pt,Ye.active,et,gn,Et);return}$.set(ie,{routeId:me,path:Qe}),fe(ie,me,Qe,Ct,pt,Ye.active,et,gn,Et)}async function V(ie,me,ve,Me,et,at,rt,pt,Ye){G(),$.delete(ie);function Qe(Pe){if(!Pe.route.action&&!Pe.route.lazy){let He=Ei(405,{method:Ye.formMethod,pathname:ve,routeId:me});return P(ie,me,He,{flushSync:rt}),!0}return!1}if(!at&&Qe(Me))return;let Et=A.fetchers.get(ie);_(ie,qme(Ye,Et),{flushSync:rt});let wt=new AbortController,Ct=qu(t.history,ve,wt.signal,Ye);if(at){let Pe=await Mt(et,new URL(Ct.url).pathname,Ct.signal,ie);if(Pe.type==="aborted")return;if(Pe.type==="error"){P(ie,me,Pe.error,{flushSync:rt});return}else if(Pe.matches){if(et=Pe.matches,Me=Qh(et,ve),Qe(Me))return}else{P(ie,me,Ei(404,{pathname:ve}),{flushSync:rt});return}}C.set(ie,wt);let gn=j,se=(await Ie("action",A,Ct,[Me],et,ie))[Me.route.id];if(Ct.signal.aborted){C.get(ie)===wt&&C.delete(ie);return}if(d.v7_fetcherPersist&&Z.has(ie)){if(zc(se)||Ji(se)){_(ie,hl(void 0));return}}else{if(zc(se))if(C.delete(ie),H>gn){_(ie,hl(void 0));return}else return M.add(ie),_(ie,Ph(Ye)),_e(Ct,se,!1,{fetcherSubmission:Ye,preventScrollReset:pt});if(Ji(se)){P(ie,me,se.error);return}}if(Al(se))throw Ei(400,{type:"defer-action"});let ye=A.navigation.location||A.location,be=qu(t.history,ye,wt.signal),he=a||s,Ue=A.navigation.state!=="idle"?Ac(he,A.navigation.location,l):A.matches;qt(Ue,"Didn't find any matches after fetcher action");let Je=++j;D.set(ie,Je);let gt=Ph(Ye,se.data);A.fetchers.set(ie,gt);let[mt,Tt]=z6(t.history,A,Ue,Ye,ye,!1,d.v7_skipActionErrorRevalidation,E,I,O,Z,$,M,he,l,[Me.route.id,se]);Tt.filter(Pe=>Pe.key!==ie).forEach(Pe=>{let He=Pe.key,xn=A.fetchers.get(He),Pt=Ph(void 0,xn?xn.data:void 0);A.fetchers.set(He,Pt),ne(He),Pe.controller&&C.set(He,Pe.controller)}),we({fetchers:new Map(A.fetchers)});let Rt=()=>Tt.forEach(Pe=>ne(Pe.key));wt.signal.addEventListener("abort",Rt);let{loaderResults:yt,fetcherResults:ft}=await ge(A,Ue,mt,Tt,be);if(wt.signal.aborted)return;wt.signal.removeEventListener("abort",Rt),D.delete(ie),C.delete(ie),Tt.forEach(Pe=>C.delete(Pe.key));let ue=fg(yt);if(ue)return _e(be,ue.result,!1,{preventScrollReset:pt});if(ue=fg(ft),ue)return M.add(ue.key),_e(be,ue.result,!1,{preventScrollReset:pt});let{loaderData:Be,errors:Oe}=V6(A,Ue,yt,void 0,Tt,ft,ce);if(A.fetchers.has(ie)){let Pe=hl(se.data);A.fetchers.set(ie,Pe)}$e(Je),A.navigation.state==="loading"&&Je>H?(qt(z,"Expected pending action"),k&&k.abort(),qe(A.navigation.location,{matches:Ue,loaderData:Be,errors:Oe,fetchers:new Map(A.fetchers)})):(we({errors:Oe,loaderData:$6(A.loaderData,Be,Ue,Oe),fetchers:new Map(A.fetchers)}),E=!1)}async function fe(ie,me,ve,Me,et,at,rt,pt,Ye){let Qe=A.fetchers.get(ie);_(ie,Ph(Ye,Qe?Qe.data:void 0),{flushSync:rt});let Et=new AbortController,wt=qu(t.history,ve,Et.signal);if(at){let se=await Mt(et,new URL(wt.url).pathname,wt.signal,ie);if(se.type==="aborted")return;if(se.type==="error"){P(ie,me,se.error,{flushSync:rt});return}else if(se.matches)et=se.matches,Me=Qh(et,ve);else{P(ie,me,Ei(404,{pathname:ve}),{flushSync:rt});return}}C.set(ie,Et);let Ct=j,q=(await Ie("loader",A,wt,[Me],et,ie))[Me.route.id];if(Al(q)&&(q=await F3(q,wt.signal,!0)||q),C.get(ie)===Et&&C.delete(ie),!wt.signal.aborted){if(Z.has(ie)){_(ie,hl(void 0));return}if(zc(q))if(H>Ct){_(ie,hl(void 0));return}else{M.add(ie),await _e(wt,q,!1,{preventScrollReset:pt});return}if(Ji(q)){P(ie,me,q.error);return}qt(!Al(q),"Unhandled fetcher deferred data"),_(ie,hl(q.data))}}async function _e(ie,me,ve,Me){let{submission:et,fetcherSubmission:at,preventScrollReset:rt,replace:pt}=Me===void 0?{}:Me;me.response.headers.has("X-Remix-Revalidate")&&(E=!0);let Ye=me.response.headers.get("Location");qt(Ye,"Expected a Location header on the redirect Response"),Ye=H6(Ye,new URL(ie.url),l);let Qe=Cm(A.location,Ye,{_isRedirect:!0});if(n){let se=!1;if(me.response.headers.has("X-Remix-Reload-Document"))se=!0;else if(N3.test(Ye)){const ye=t.history.createURL(Ye);se=ye.origin!==e.location.origin||rh(ye.pathname,l)==null}if(se){pt?e.location.replace(Ye):e.location.assign(Ye);return}}k=null;let Et=pt===!0||me.response.headers.has("X-Remix-Replace")?Zn.Replace:Zn.Push,{formMethod:wt,formAction:Ct,formEncType:gn}=A.navigation;!et&&!at&&wt&&Ct&&gn&&(et=X6(A.navigation));let q=et||at;if(Tme.has(me.response.status)&&q&&Zo(q.formMethod))await Ke(Et,Qe,{submission:Mn({},q,{formAction:Ye}),preventScrollReset:rt||S,enableViewTransition:ve?R:void 0});else{let se=Xx(Qe,et);await Ke(Et,Qe,{overrideNavigation:se,fetcherSubmission:at,preventScrollReset:rt||S,enableViewTransition:ve?R:void 0})}}async function Ie(ie,me,ve,Me,et,at){let rt,pt={};try{rt=await Ome(c,ie,me,ve,Me,et,at,o,i)}catch(Ye){return Me.forEach(Qe=>{pt[Qe.route.id]={type:dn.error,error:Ye}}),pt}for(let[Ye,Qe]of Object.entries(rt))if(jme(Qe)){let Et=Qe.result;pt[Ye]={type:dn.redirect,response:Dme(Et,ve,Ye,et,l,d.v7_relativeSplatPath)}}else pt[Ye]=await Lme(Qe);return pt}async function ge(ie,me,ve,Me,et){let at=ie.matches,rt=Ie("loader",ie,et,ve,me,null),pt=Promise.all(Me.map(async Et=>{if(Et.matches&&Et.match&&Et.controller){let Ct=(await Ie("loader",ie,qu(t.history,Et.path,Et.controller.signal),[Et.match],Et.matches,Et.key))[Et.match.route.id];return{[Et.key]:Ct}}else return Promise.resolve({[Et.key]:{type:dn.error,error:Ei(404,{pathname:Et.path})}})})),Ye=await rt,Qe=(await pt).reduce((Et,wt)=>Object.assign(Et,wt),{});return await Promise.all([Wme(me,Ye,et.signal,at,ie.loaderData),Vme(me,Qe,Me)]),{loaderResults:Ye,fetcherResults:Qe}}function G(){E=!0,I.push(...Te()),$.forEach((ie,me)=>{C.has(me)&&O.add(me),ne(me)})}function _(ie,me,ve){ve===void 0&&(ve={}),A.fetchers.set(ie,me),we({fetchers:new Map(A.fetchers)},{flushSync:(ve&&ve.flushSync)===!0})}function P(ie,me,ve,Me){Me===void 0&&(Me={});let et=_c(A.matches,me);Y(ie),we({errors:{[et.route.id]:ve},fetchers:new Map(A.fetchers)},{flushSync:(Me&&Me.flushSync)===!0})}function Q(ie){return J.set(ie,(J.get(ie)||0)+1),Z.has(ie)&&Z.delete(ie),A.fetchers.get(ie)||Mme}function Y(ie){let me=A.fetchers.get(ie);C.has(ie)&&!(me&&me.state==="loading"&&D.has(ie))&&ne(ie),$.delete(ie),D.delete(ie),M.delete(ie),d.v7_fetcherPersist&&Z.delete(ie),O.delete(ie),A.fetchers.delete(ie)}function ee(ie){let me=(J.get(ie)||0)-1;me<=0?(J.delete(ie),Z.add(ie),d.v7_fetcherPersist||Y(ie)):J.set(ie,me),we({fetchers:new Map(A.fetchers)})}function ne(ie){let me=C.get(ie);me&&(me.abort(),C.delete(ie))}function De(ie){for(let me of ie){let ve=Q(me),Me=hl(ve.data);A.fetchers.set(me,Me)}}function Ne(){let ie=[],me=!1;for(let ve of M){let Me=A.fetchers.get(ve);qt(Me,"Expected fetcher: "+ve),Me.state==="loading"&&(M.delete(ve),ie.push(ve),me=!0)}return De(ie),me}function $e(ie){let me=[];for(let[ve,Me]of D)if(Me<ie){let et=A.fetchers.get(ve);qt(et,"Expected fetcher: "+ve),et.state==="loading"&&(ne(ve),D.delete(ve),me.push(ve))}return De(me),me.length>0}function ht(ie,me){let ve=A.blockers.get(ie)||Rh;return oe.get(ie)!==me&&oe.set(ie,me),ve}function it(ie){A.blockers.delete(ie),oe.delete(ie)}function le(ie,me){let ve=A.blockers.get(ie)||Rh;qt(ve.state==="unblocked"&&me.state==="blocked"||ve.state==="blocked"&&me.state==="blocked"||ve.state==="blocked"&&me.state==="proceeding"||ve.state==="blocked"&&me.state==="unblocked"||ve.state==="proceeding"&&me.state==="unblocked","Invalid blocker state transition: "+ve.state+" -> "+me.state);let Me=new Map(A.blockers);Me.set(ie,me),we({blockers:Me})}function ot(ie){let{currentLocation:me,nextLocation:ve,historyAction:Me}=ie;if(oe.size===0)return;oe.size>1&&_f(!1,"A router only supports one blocker at a time");let et=Array.from(oe.entries()),[at,rt]=et[et.length-1],pt=A.blockers.get(at);if(!(pt&&pt.state==="proceeding")&&rt({currentLocation:me,nextLocation:ve,historyAction:Me}))return at}function xe(ie){let me=Ei(404,{pathname:ie}),ve=a||s,{matches:Me,route:et}=K6(ve);return Te(),{notFoundMatches:Me,route:et,error:me}}function Te(ie){let me=[];return ce.forEach((ve,Me)=>{(!ie||ie(Me))&&(ve.cancel(),me.push(Me),ce.delete(Me))}),me}function nt(ie,me,ve){if(g=ie,y=me,m=ve||null,!p&&A.navigation===Qx){p=!0;let Me=un(A.location,A.matches);Me!=null&&we({restoreScrollPosition:Me})}return()=>{g=null,y=null,m=null}}function Ge(ie,me){return m&&m(ie,me.map(Me=>ome(Me,A.loaderData)))||ie.key}function ut(ie,me){if(g&&y){let ve=Ge(ie,me);g[ve]=y()}}function un(ie,me){if(g){let ve=Ge(ie,me),Me=g[ve];if(typeof Me=="number")return Me}return null}function Ft(ie,me,ve){if(u)if(ie){if(Object.keys(ie[0].params).length>0)return{active:!0,matches:Ry(me,ve,l,!0)}}else return{active:!0,matches:Ry(me,ve,l,!0)||[]};return{active:!1,matches:null}}async function Mt(ie,me,ve,Me){if(!u)return{type:"success",matches:ie};let et=ie;for(;;){let at=a==null,rt=a||s,pt=o;try{await u({signal:ve,path:me,matches:et,fetcherKey:Me,patch:(Et,wt)=>{ve.aborted||G6(Et,wt,rt,pt,i)}})}catch(Et){return{type:"error",error:Et,partialMatches:et}}finally{at&&!ve.aborted&&(s=[...s])}if(ve.aborted)return{type:"aborted"};let Ye=Ac(rt,me,l);if(Ye)return{type:"success",matches:Ye};let Qe=Ry(rt,me,l,!0);if(!Qe||et.length===Qe.length&&et.every((Et,wt)=>Et.route.id===Qe[wt].route.id))return{type:"success",matches:null};et=Qe}}function lr(ie){o={},a=Jv(ie,i,void 0,o)}function Kt(ie,me){let ve=a==null;G6(ie,me,a||s,o,i),ve&&(s=[...s],we({}))}return N={get basename(){return l},get future(){return d},get state(){return A},get routes(){return s},get window(){return e},initialize:de,subscribe:ae,enableScrollRestoration:nt,navigate:te,fetch:X,revalidate:We,createHref:ie=>t.history.createHref(ie),encodeLocation:ie=>t.history.encodeLocation(ie),getFetcher:Q,deleteFetcher:ee,dispose:Re,getBlocker:ht,deleteBlocker:it,patchRoutes:Kt,_internalFetchControllers:C,_internalActiveDeferreds:ce,_internalSetRoutes:lr},N}function Pme(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function S_(t,e,n,r,i,o,s,a){let l,c;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){c=d;break}}else l=e,c=e[e.length-1];let u=k3(i||".",P3(l,o),rh(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let d=O3(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let f=new URLSearchParams(u.search),h=f.getAll("index");f.delete("index"),h.filter(m=>m).forEach(m=>f.append("index",m));let g=f.toString();u.search=g?"?"+g:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Pa([n,u.pathname])),xu(u)}function D6(t,e,n,r){if(!r||!Pme(r))return{path:n};if(r.formMethod&&!Hme(r.formMethod))return{path:n,error:Ei(405,{method:r.formMethod})};let i=()=>({path:n,error:Ei(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=Lz(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Zo(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,g)=>{let[m,y]=g;return""+h+m+"="+y+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Zo(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}qt(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=T_(r.formData),c=r.formData;else if(r.body instanceof FormData)l=T_(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=W6(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=W6(l)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Zo(u.formMethod))return{path:n,submission:u};let d=tc(n);return e&&d.search&&O3(d.search)&&l.append("index",""),d.search="?"+l,{path:xu(d),submission:u}}function U6(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function z6(t,e,n,r,i,o,s,a,l,c,u,d,f,h,g,m){let y=m?Ji(m[1])?m[1].error:m[1].data:void 0,p=t.createURL(e.location),v=t.createURL(i),w=n;o&&e.errors?w=U6(n,Object.keys(e.errors)[0],!0):m&&Ji(m[1])&&(w=U6(n,m[0]));let x=m?m[1].statusCode:void 0,T=s&&x&&x>=400,N=w.filter((z,S)=>{let{route:k}=z;if(k.lazy)return!0;if(k.loader==null)return!1;if(o)return C_(k,e.loaderData,e.errors);if(kme(e.loaderData,e.matches[S],z)||l.some(L=>L===z.route.id))return!0;let R=e.matches[S],W=z;return j6(z,Mn({currentUrl:p,currentParams:R.params,nextUrl:v,nextParams:W.params},r,{actionResult:y,actionStatus:x,defaultShouldRevalidate:T?!1:a||p.pathname+p.search===v.pathname+v.search||p.search!==v.search||Oz(R,W)}))}),A=[];return d.forEach((z,S)=>{if(o||!n.some(b=>b.route.id===z.routeId)||u.has(S))return;let k=Ac(h,z.path,g);if(!k){A.push({key:S,routeId:z.routeId,path:z.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(S),W=Qh(k,z.path),L=!1;f.has(S)?L=!1:c.has(S)?(c.delete(S),L=!0):R&&R.state!=="idle"&&R.data===void 0?L=a:L=j6(W,Mn({currentUrl:p,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:y,actionStatus:x,defaultShouldRevalidate:T?!1:a})),L&&A.push({key:S,routeId:z.routeId,path:z.path,matches:k,match:W,controller:new AbortController})}),[N,A]}function C_(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function kme(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Oz(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function j6(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function G6(t,e,n,r,i){var o;let s;if(t){let c=r[t];qt(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),s=c.children}else s=n;let a=e.filter(c=>!s.some(u=>Bz(c,u))),l=Jv(a,i,[t||"_","patch",String(((o=s)==null?void 0:o.length)||"0")],r);s.push(...l)}function Bz(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>Bz(n,o))}):!1}async function Nme(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];qt(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";_f(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!rme.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Mn({},e(i),{lazy:void 0}))}async function Fme(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function Ome(t,e,n,r,i,o,s,a,l,c){let u=o.map(h=>h.route.lazy?Nme(h.route,l,a):void 0),d=o.map((h,g)=>{let m=u[g],y=i.some(v=>v.route.id===h.route.id);return Mn({},h,{shouldLoad:y,resolve:async v=>(v&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(y=!0),y?Bme(e,r,h,m,v,c):Promise.resolve({type:dn.data,result:void 0}))})}),f=await t({matches:d,request:r,params:o[0].params,fetcherKey:s,context:c});try{await Promise.all(u)}catch{}return f}async function Bme(t,e,n,r,i,o){let s,a,l=c=>{let u,d=new Promise((g,m)=>u=m);a=()=>u(),e.signal.addEventListener("abort",a);let f=g=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:o},...g!==void 0?[g]:[]),h=(async()=>{try{return{type:"data",result:await(i?i(m=>f(m)):f())}}catch(g){return{type:"error",result:g}}})();return Promise.race([h,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;s=d}else if(await r,c=n.route[t],c)s=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Ei(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:dn.data,result:void 0};else if(c)s=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Ei(404,{pathname:d})}qt(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:dn.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return s}async function Lme(t){let{result:e,type:n}=t;if(Dz(e)){let d;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(f){return{type:dn.error,error:f}}return n===dn.error?{type:dn.error,error:new Zv(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:dn.data,data:d,statusCode:e.status,headers:e.headers}}if(n===dn.error){if(Q6(e)){var r,i;if(e.data instanceof Error){var o,s;return{type:dn.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:dn.error,error:new Zv(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Tm(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:dn.error,error:e,statusCode:Tm(e)?e.status:void 0}}if(Gme(e)){var a,l;return{type:dn.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(Q6(e)){var c,u;return{type:dn.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:dn.data,data:e}}function Dme(t,e,n,r,i,o){let s=t.headers.get("Location");if(qt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!N3.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=S_(new URL(e.url),a,i,!0,s,o),t.headers.set("Location",s)}return t}function H6(t,e,n){if(N3.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=rh(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function qu(t,e,n,r){let i=t.createURL(Lz(e)).toString(),o={signal:n};if(r&&Zo(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=T_(r.formData):o.body=r.formData}return new Request(i,o)}function T_(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function W6(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Ume(t,e,n,r,i){let o={},s=null,a,l=!1,c={},u=n&&Ji(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,h=e[f];if(qt(!zc(h),"Cannot handle redirect results in processLoaderData"),Ji(h)){let g=h.error;u!==void 0&&(g=u,u=void 0),s=s||{};{let m=_c(t,f);s[m.route.id]==null&&(s[m.route.id]=g)}o[f]=void 0,l||(l=!0,a=Tm(h.error)?h.error.status:500),h.headers&&(c[f]=h.headers)}else Al(h)?(r.set(f,h.deferredData),o[f]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers)):(o[f]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers))}),u!==void 0&&n&&(s={[n[0]]:u},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function V6(t,e,n,r,i,o,s){let{loaderData:a,errors:l}=Ume(e,n,r,s);return i.forEach(c=>{let{key:u,match:d,controller:f}=c,h=o[u];if(qt(h,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Ji(h)){let g=_c(t.matches,d?.route.id);l&&l[g.route.id]||(l=Mn({},l,{[g.route.id]:h.error})),t.fetchers.delete(u)}else if(zc(h))qt(!1,"Unhandled fetcher revalidation redirect");else if(Al(h))qt(!1,"Unhandled fetcher deferred data");else{let g=hl(h.data);t.fetchers.set(u,g)}}),{loaderData:a,errors:l}}function $6(t,e,n,r){let i=Mn({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function q6(t){return t?Ji(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function _c(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function K6(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ei(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Zv(t||500,a,new Error(l),!0)}function fg(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(zc(i))return{key:r,result:i}}}function Lz(t){let e=typeof t=="string"?tc(t):t;return xu(Mn({},e,{hash:""}))}function zme(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function jme(t){return Dz(t.result)&&Cme.has(t.result.status)}function Al(t){return t.type===dn.deferred}function Ji(t){return t.type===dn.error}function zc(t){return(t&&t.type)===dn.redirect}function Q6(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Gme(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Dz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Hme(t){return Sme.has(t.toLowerCase())}function Zo(t){return Ame.has(t.toLowerCase())}async function Wme(t,e,n,r,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[a,l]=o[s],c=t.find(f=>f?.route.id===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!Oz(u,c)&&(i&&i[c.route.id])!==void 0;Al(l)&&d&&await F3(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function Vme(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],a=e[i];t.find(c=>c?.route.id===o)&&Al(a)&&(qt(s,"Expected an AbortController for revalidating fetcher deferred result"),await F3(a,s.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function F3(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:dn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:dn.error,error:i}}return{type:dn.data,data:t.deferredData.data}}}function O3(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Qh(t,e){let n=typeof e=="string"?tc(e).search:e.search;if(t[t.length-1].route.index&&O3(n||""))return t[t.length-1];let r=kz(t);return r[r.length-1]}function X6(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Xx(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $me(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ph(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qme(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function hl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Kme(t,e){try{let n=t.sessionStorage.getItem(Fz);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function Qme(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Fz,JSON.stringify(n))}catch(r){_f(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}const K1=U.createContext(null),Uz=U.createContext(null),Lu=U.createContext(null),B3=U.createContext(null),Ka=U.createContext({outlet:null,matches:[],isDataRoute:!1}),zz=U.createContext(null);function Xme(t,e){let{relative:n}=e===void 0?{}:e;f0()||qt(!1);let{basename:r,navigator:i}=U.useContext(Lu),{hash:o,pathname:s,search:a}=Hz(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Pa([r,s])),i.createHref({pathname:l,search:a,hash:o})}function f0(){return U.useContext(B3)!=null}function Q1(){return f0()||qt(!1),U.useContext(B3).location}function jz(t){U.useContext(Lu).static||U.useLayoutEffect(t)}function ih(){let{isDataRoute:t}=U.useContext(Ka);return t?u0e():Yme()}function Yme(){f0()||qt(!1);let t=U.useContext(K1),{basename:e,future:n,navigator:r}=U.useContext(Lu),{matches:i}=U.useContext(Ka),{pathname:o}=Q1(),s=JSON.stringify(P3(i,n.v7_relativeSplatPath)),a=U.useRef(!1);return jz(()=>{a.current=!0}),U.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=k3(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Pa([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,t])}const Jme=U.createContext(null);function Zme(t){let e=U.useContext(Ka).outlet;return e&&U.createElement(Jme.Provider,{value:t},e)}function Gz(){let{matches:t}=U.useContext(Ka),e=t[t.length-1];return e?e.params:{}}function Hz(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(Lu),{matches:i}=U.useContext(Ka),{pathname:o}=Q1(),s=JSON.stringify(P3(i,r.v7_relativeSplatPath));return U.useMemo(()=>k3(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function e0e(t,e,n,r){f0()||qt(!1);let{navigator:i}=U.useContext(Lu),{matches:o}=U.useContext(Ka),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Q1(),u;u=c;let d=u.pathname||"/",f=d;if(l!=="/"){let m=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(m.length).join("/")}let h=Ac(t,{pathname:f});return o0e(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:Pa([l,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:Pa([l,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r)}function t0e(){let t=c0e(),e=Tm(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const n0e=U.createElement(t0e,null);class r0e extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(Ka.Provider,{value:this.props.routeContext},U.createElement(zz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i0e(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(K1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Ka.Provider,{value:e},r)}function o0e(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);u>=0||qt(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let h,g=!1,m=null,y=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||n0e,l&&(c<0&&f===0?(d0e("route-fallback"),g=!0,y=null):c===f&&(g=!0,y=d.route.hydrateFallbackElement||null)));let p=e.concat(s.slice(0,f+1)),v=()=>{let w;return h?w=m:g?w=y:d.route.Component?w=U.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,U.createElement(i0e,{match:d,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?U.createElement(r0e,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var Wz=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Wz||{}),Vz=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vz||{});function s0e(t){let e=U.useContext(K1);return e||qt(!1),e}function a0e(t){let e=U.useContext(Uz);return e||qt(!1),e}function l0e(t){let e=U.useContext(Ka);return e||qt(!1),e}function $z(t){let e=l0e(),n=e.matches[e.matches.length-1];return n.route.id||qt(!1),n.route.id}function c0e(){var t;let e=U.useContext(zz),n=a0e(Vz.UseRouteError),r=$z();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function u0e(){let{router:t}=s0e(Wz.UseNavigateStable),e=$z(),n=U.useRef(!1);return jz(()=>{n.current=!0}),U.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ew({fromRouteId:e},o)))},[t,e])}const Y6={};function d0e(t,e,n){Y6[t]||(Y6[t]=!0)}function f0e(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function h0e(t){return Zme(t.context)}function p0e(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Zn.Pop,navigator:o,static:s=!1,future:a}=t;f0()&&qt(!1);let l=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:o,static:s,future:ew({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=tc(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:g="default"}=r,m=U.useMemo(()=>{let y=rh(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:g},navigationType:i}},[l,u,d,f,h,g,i]);return m==null?null:U.createElement(Lu.Provider,{value:c},U.createElement(B3.Provider,{children:n,value:m}))}new Promise(()=>{});function m0e(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:U.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:U.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:U.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mm.apply(this,arguments)}function g0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function y0e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function v0e(t,e){return t.button===0&&(!e||e==="_self")&&!y0e(t)}const w0e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],b0e="6";try{window.__reactRouterVersion=b0e}catch{}function x0e(t,e){return Rme({basename:void 0,future:Mm({},void 0,{v7_prependBasename:!0}),history:eme({window:void 0}),hydrationData:E0e(),routes:t,mapRouteProperties:m0e,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function E0e(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Mm({},e,{errors:A0e(e.errors)})),e}function A0e(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Zv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const _0e=U.createContext({isTransitioning:!1}),S0e=U.createContext(new Map),C0e="startTransition",J6=WE[C0e],T0e="flushSync",Z6=GV[T0e];function M0e(t){J6?J6(t):t()}function kh(t){Z6?Z6(t):t()}class I0e{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function R0e(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=U.useState(n.state),[s,a]=U.useState(),[l,c]=U.useState({isTransitioning:!1}),[u,d]=U.useState(),[f,h]=U.useState(),[g,m]=U.useState(),y=U.useRef(new Map),{v7_startTransition:p}=r||{},v=U.useCallback(z=>{p?M0e(z):z()},[p]),w=U.useCallback((z,S)=>{let{deletedFetchers:k,flushSync:R,viewTransitionOpts:W}=S;z.fetchers.forEach((b,E)=>{b.data!==void 0&&y.current.set(E,b.data)}),k.forEach(b=>y.current.delete(b));let L=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!W||L){R?kh(()=>o(z)):v(()=>o(z));return}if(R){kh(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:W.currentLocation,nextLocation:W.nextLocation})});let b=n.window.document.startViewTransition(()=>{kh(()=>o(z))});b.finished.finally(()=>{kh(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})})}),kh(()=>h(b));return}f?(u&&u.resolve(),f.skipTransition(),m({state:z,currentLocation:W.currentLocation,nextLocation:W.nextLocation})):(a(z),c({isTransitioning:!0,flushSync:!1,currentLocation:W.currentLocation,nextLocation:W.nextLocation}))},[n.window,f,u,y,v]);U.useLayoutEffect(()=>n.subscribe(w),[n,w]),U.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new I0e)},[l]),U.useEffect(()=>{if(u&&s&&n.window){let z=s,S=u.promise,k=n.window.document.startViewTransition(async()=>{v(()=>o(z)),await S});k.finished.finally(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})}),h(k)}},[v,s,u,n.window]),U.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,f,i.location,s]),U.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),c({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),m(void 0))},[l.isTransitioning,g]),U.useEffect(()=>{},[]);let x=U.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:z=>n.navigate(z),push:(z,S,k)=>n.navigate(z,{state:S,preventScrollReset:k?.preventScrollReset}),replace:(z,S,k)=>n.navigate(z,{replace:!0,state:S,preventScrollReset:k?.preventScrollReset})}),[n]),T=n.basename||"/",N=U.useMemo(()=>({router:n,navigator:x,static:!1,basename:T}),[n,x,T]),A=U.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return U.useEffect(()=>f0e(r,n.future),[r,n.future]),U.createElement(U.Fragment,null,U.createElement(K1.Provider,{value:N},U.createElement(Uz.Provider,{value:i},U.createElement(S0e.Provider,{value:y.current},U.createElement(_0e.Provider,{value:l},U.createElement(p0e,{basename:T,location:i.location,navigationType:i.historyAction,navigator:x,future:A},i.initialized||n.future.v7_partialHydration?U.createElement(P0e,{routes:n.routes,future:n.future,state:i}):e))))),null)}const P0e=U.memo(k0e);function k0e(t){let{routes:e,future:n,state:r}=t;return e0e(e,void 0,r,n)}const N0e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F0e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h0=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=g0e(e,w0e),{basename:h}=U.useContext(Lu),g,m=!1;if(typeof c=="string"&&F0e.test(c)&&(g=c,N0e))try{let w=new URL(window.location.href),x=c.startsWith("//")?new URL(w.protocol+c):new URL(c),T=rh(x.pathname,h);x.origin===w.origin&&T!=null?c=T+x.search+x.hash:m=!0}catch{}let y=Xme(c,{relative:i}),p=O0e(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function v(w){r&&r(w),w.defaultPrevented||p(w)}return U.createElement("a",Mm({},f,{href:g||y,onClick:m||o?r:v,ref:n,target:l}))});var ek;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ek||(ek={}));var tk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tk||(tk={}));function O0e(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=ih(),c=Q1(),u=Hz(t,{relative:s});return U.useCallback(d=>{if(v0e(d,n)){d.preventDefault();let f=r!==void 0?r:xu(c)===xu(u);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}var nk=function(e,n){var r=arguments;if(n==null||!Om.call(n,"css"))return U.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=DS,o[1]=LS(e,n);for(var s=2;s<i;s++)o[s]=r[s];return U.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(nk||(nk={}));function B0e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return BS(e)}function L0e(){var t=B0e.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var D0e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,U0e=wF(function(t){return D0e.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),z0e=U0e,j0e=function(e){return e!=="theme"},rk=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?z0e:j0e},ik=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},G0e=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return OS(n,r,i),MF(function(){return CF(n,r,i)}),null},Ae=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=ik(e,n,r),l=a||rk(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var f=u[0];d.push(f[0]);for(var h=u.length,g=1;g<h;g++)d.push(u[g],f[g])}var m=RF(function(y,p,v){var w=c&&y.as||i,x="",T=[],N=y;if(y.theme==null){N={};for(var A in y)N[A]=y[A];N.theme=U.useContext($y)}typeof y.className=="string"?x=SF(p.registered,T,y.className):y.className!=null&&(x=y.className+" ");var z=BS(d.concat(T),p.registered,N);x+=p.key+"-"+z.name,s!==void 0&&(x+=" "+s);var S=c&&a===void 0?rk(w):l,k={};for(var R in y)c&&R==="as"||S(R)&&(k[R]=y[R]);return k.className=x,v&&(k.ref=v),U.createElement(U.Fragment,null,U.createElement(G0e,{cache:p,serialized:z,isStringTag:typeof w=="string"}),U.createElement(w,k))});return m.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+s}}),m.withComponent=function(y,p){var v=t(y,Vy({},n,p,{shouldForwardProp:ik(m,p,!0)}));return v.apply(void 0,d)},m}};const tt={colors:{bgDark:"#0a0a1a",neonPink:"#00ff9d",neonGreen:"#00FF41",neonBlue:"#00bfff",neonPurple:"#b026ff",neonYellow:"#ffde03",neonOrange:"#ff6b00",textPrimary:"#ffffff",textSecondary:"rgba(255, 255, 255, 0.7)",textTertiary:"rgba(255, 255, 255, 0.5)",statusSuccess:"#00FF41",statusWarning:"#ffde03",statusError:"#ff1493"},shadows:{neon:"0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41",neonGreen:"0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41",neonBlue:"0 0 5px #00bfff, 0 0 10px #00bfff, 0 0 20px #00bfff, 0 0 40px #00bfff",neonPurple:"0 0 5px #b026ff, 0 0 10px #b026ff, 0 0 20px #b026ff, 0 0 40px #b026ff",glass:"0 8px 32px rgba(0, 0, 0, 0.2)"},animations:{neonPulse:`
      @keyframes neonPulse {
        0%, 100% {
          text-shadow: 0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41;
        }
        50% {
          text-shadow: 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41, 0 0 80px #00FF41;
        }
      }
    `,neonBorder:`
      @keyframes neonBorder {
        0%, 100% {
          box-shadow: 0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41;
        }
        50% {
          box-shadow: 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41, 0 0 80px #00FF41;
        }
      }
    `,neonRotate:`
      @keyframes neonRotate {
        0% { filter: hue-rotate(0deg); }
        100% { filter: hue-rotate(360deg); }
      }
    `,neonFloat:`
      @keyframes neonFloat {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }
    `,neonGlow:`
      @keyframes neonGlow {
        0%, 100% {
          opacity: 1;
          filter: brightness(1);
        }
        50% {
          opacity: 0.8;
          filter: brightness(1.5);
        }
      }
    `,psychedelicBg:`
      @keyframes psychedelicBg {
        0% {
          background: radial-gradient(circle at 50% 50%, rgba(0, 255, 65, 0.1) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        25% {
          background: radial-gradient(circle at 75% 25%, rgba(0, 255, 65, 0.15) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        50% {
          background: radial-gradient(circle at 50% 50%, rgba(0, 255, 65, 0.2) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        75% {
          background: radial-gradient(circle at 25% 75%, rgba(0, 255, 65, 0.15) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        100% {
          background: radial-gradient(circle at 50% 50%, rgba(0, 255, 65, 0.1) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
      }
    `},transitions:{default:"200ms cubic-bezier(0.4, 0, 0.2, 1)",fast:"150ms cubic-bezier(0.4, 0, 0.2, 1)",slow:"300ms cubic-bezier(0.4, 0, 0.2, 1)"}},Py="/assets/haze-z9wVEcTU.webm";var Ri=function(){return Ri=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ri.apply(this,arguments)};function tw(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var _n="-ms-",bp="-moz-",an="-webkit-",qz="comm",X1="rule",L3="decl",H0e="@import",Kz="@keyframes",W0e="@layer",Qz=Math.abs,D3=String.fromCharCode,M_=Object.assign;function V0e(t,e){return xr(t,0)^45?(((e<<2^xr(t,0))<<2^xr(t,1))<<2^xr(t,2))<<2^xr(t,3):0}function Xz(t){return t.trim()}function ha(t,e){return(t=e.exec(t))?t[0]:t}function zt(t,e,n){return t.replace(e,n)}function ky(t,e,n){return t.indexOf(e,n)}function xr(t,e){return t.charCodeAt(e)|0}function Sf(t,e,n){return t.slice(e,n)}function Ps(t){return t.length}function Yz(t){return t.length}function Xh(t,e){return e.push(t),t}function $0e(t,e){return t.map(e).join("")}function ok(t,e){return t.filter(function(n){return!ha(n,e)})}var Y1=1,Cf=1,Jz=0,zo=0,tr=0,oh="";function J1(t,e,n,r,i,o,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Y1,column:Cf,length:s,return:"",siblings:a}}function pl(t,e){return M_(J1("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Ku(t){for(;t.root;)t=pl(t.root,{children:[t]});Xh(t,t.siblings)}function q0e(){return tr}function K0e(){return tr=zo>0?xr(oh,--zo):0,Cf--,tr===10&&(Cf=1,Y1--),tr}function ds(){return tr=zo<Jz?xr(oh,zo++):0,Cf++,tr===10&&(Cf=1,Y1++),tr}function Yc(){return xr(oh,zo)}function Ny(){return zo}function Z1(t,e){return Sf(oh,t,e)}function I_(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Q0e(t){return Y1=Cf=1,Jz=Ps(oh=t),zo=0,[]}function X0e(t){return oh="",t}function Yx(t){return Xz(Z1(zo-1,R_(t===91?t+2:t===40?t+1:t)))}function Y0e(t){for(;(tr=Yc())&&tr<33;)ds();return I_(t)>2||I_(tr)>3?"":" "}function J0e(t,e){for(;--e&&ds()&&!(tr<48||tr>102||tr>57&&tr<65||tr>70&&tr<97););return Z1(t,Ny()+(e<6&&Yc()==32&&ds()==32))}function R_(t){for(;ds();)switch(tr){case t:return zo;case 34:case 39:t!==34&&t!==39&&R_(tr);break;case 40:t===41&&R_(t);break;case 92:ds();break}return zo}function Z0e(t,e){for(;ds()&&t+tr!==57;)if(t+tr===84&&Yc()===47)break;return"/*"+Z1(e,zo-1)+"*"+D3(t===47?t:ds())}function ege(t){for(;!I_(Yc());)ds();return Z1(t,zo)}function tge(t){return X0e(Fy("",null,null,null,[""],t=Q0e(t),0,[0],t))}function Fy(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,h=0,g=0,m=1,y=1,p=1,v=0,w="",x=i,T=o,N=r,A=w;y;)switch(g=v,v=ds()){case 40:if(g!=108&&xr(A,d-1)==58){ky(A+=zt(Yx(v),"&","&\f"),"&\f",Qz(c?a[c-1]:0))!=-1&&(p=-1);break}case 34:case 39:case 91:A+=Yx(v);break;case 9:case 10:case 13:case 32:A+=Y0e(g);break;case 92:A+=J0e(Ny()-1,7);continue;case 47:switch(Yc()){case 42:case 47:Xh(nge(Z0e(ds(),Ny()),e,n,l),l);break;default:A+="/"}break;case 123*m:a[c++]=Ps(A)*p;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:p==-1&&(A=zt(A,/\f/g,"")),h>0&&Ps(A)-d&&Xh(h>32?ak(A+";",r,n,d-1,l):ak(zt(A," ","")+";",r,n,d-2,l),l);break;case 59:A+=";";default:if(Xh(N=sk(A,e,n,c,u,i,a,w,x=[],T=[],d,o),o),v===123)if(u===0)Fy(A,e,N,N,x,o,d,a,T);else switch(f===99&&xr(A,3)===110?100:f){case 100:case 108:case 109:case 115:Fy(t,N,N,r&&Xh(sk(t,N,N,0,0,i,a,w,i,x=[],d,T),T),i,T,d,a,r?x:T);break;default:Fy(A,N,N,N,[""],T,0,a,T)}}c=u=h=0,m=p=1,w=A="",d=s;break;case 58:d=1+Ps(A),h=g;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&K0e()==125)continue}switch(A+=D3(v),v*m){case 38:p=u>0?1:(A+="\f",-1);break;case 44:a[c++]=(Ps(A)-1)*p,p=1;break;case 64:Yc()===45&&(A+=Yx(ds())),f=Yc(),u=d=Ps(w=A+=ege(Ny())),v++;break;case 45:g===45&&Ps(A)==2&&(m=0)}}return o}function sk(t,e,n,r,i,o,s,a,l,c,u,d){for(var f=i-1,h=i===0?o:[""],g=Yz(h),m=0,y=0,p=0;m<r;++m)for(var v=0,w=Sf(t,f+1,f=Qz(y=s[m])),x=t;v<g;++v)(x=Xz(y>0?h[v]+" "+w:zt(w,/&\f/g,h[v])))&&(l[p++]=x);return J1(t,e,n,i===0?X1:a,l,c,u,d)}function nge(t,e,n,r){return J1(t,e,n,qz,D3(q0e()),Sf(t,2,-2),0,r)}function ak(t,e,n,r,i){return J1(t,e,n,L3,Sf(t,0,r),Sf(t,r+1,-1),r,i)}function Zz(t,e,n){switch(V0e(t,e)){case 5103:return an+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return an+t+t;case 4789:return bp+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return an+t+bp+t+_n+t+t;case 5936:switch(xr(t,e+11)){case 114:return an+t+_n+zt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return an+t+_n+zt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return an+t+_n+zt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return an+t+_n+t+t;case 6165:return an+t+_n+"flex-"+t+t;case 5187:return an+t+zt(t,/(\w+).+(:[^]+)/,an+"box-$1$2"+_n+"flex-$1$2")+t;case 5443:return an+t+_n+"flex-item-"+zt(t,/flex-|-self/g,"")+(ha(t,/flex-|baseline/)?"":_n+"grid-row-"+zt(t,/flex-|-self/g,""))+t;case 4675:return an+t+_n+"flex-line-pack"+zt(t,/align-content|flex-|-self/g,"")+t;case 5548:return an+t+_n+zt(t,"shrink","negative")+t;case 5292:return an+t+_n+zt(t,"basis","preferred-size")+t;case 6060:return an+"box-"+zt(t,"-grow","")+an+t+_n+zt(t,"grow","positive")+t;case 4554:return an+zt(t,/([^-])(transform)/g,"$1"+an+"$2")+t;case 6187:return zt(zt(zt(t,/(zoom-|grab)/,an+"$1"),/(image-set)/,an+"$1"),t,"")+t;case 5495:case 3959:return zt(t,/(image-set\([^]*)/,an+"$1$`$1");case 4968:return zt(zt(t,/(.+:)(flex-)?(.*)/,an+"box-pack:$3"+_n+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+an+t+t;case 4200:if(!ha(t,/flex-|baseline/))return _n+"grid-column-align"+Sf(t,e)+t;break;case 2592:case 3360:return _n+zt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,ha(r.props,/grid-\w+-end/)})?~ky(t+(n=n[e].value),"span",0)?t:_n+zt(t,"-start","")+t+_n+"grid-row-span:"+(~ky(n,"span",0)?ha(n,/\d+/):+ha(n,/\d+/)-+ha(t,/\d+/))+";":_n+zt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return ha(r.props,/grid-\w+-start/)})?t:_n+zt(zt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return zt(t,/(.+)-inline(.+)/,an+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ps(t)-1-e>6)switch(xr(t,e+1)){case 109:if(xr(t,e+4)!==45)break;case 102:return zt(t,/(.+:)(.+)-([^]+)/,"$1"+an+"$2-$3$1"+bp+(xr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ky(t,"stretch",0)?Zz(zt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return zt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,a,l,c){return _n+i+":"+o+c+(s?_n+i+"-span:"+(a?l:+l-+o)+c:"")+t});case 4949:if(xr(t,e+6)===121)return zt(t,":",":"+an)+t;break;case 6444:switch(xr(t,xr(t,14)===45?18:11)){case 120:return zt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+an+(xr(t,14)===45?"inline-":"")+"box$3$1"+an+"$2$3$1"+_n+"$2box$3")+t;case 100:return zt(t,":",":"+_n)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return zt(t,"scroll-","scroll-snap-")+t}return t}function nw(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function rge(t,e,n,r){switch(t.type){case W0e:if(t.children.length)break;case H0e:case L3:return t.return=t.return||t.value;case qz:return"";case Kz:return t.return=t.value+"{"+nw(t.children,r)+"}";case X1:if(!Ps(t.value=t.props.join(",")))return""}return Ps(n=nw(t.children,r))?t.return=t.value+"{"+n+"}":""}function ige(t){var e=Yz(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function oge(t){return function(e){e.root||(e=e.return)&&t(e)}}function sge(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case L3:t.return=Zz(t.value,t.length,n);return;case Kz:return nw([pl(t,{value:zt(t.value,"@","@"+an)})],r);case X1:if(t.length)return $0e(n=t.props,function(i){switch(ha(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ku(pl(t,{props:[zt(i,/:(read-\w+)/,":"+bp+"$1")]})),Ku(pl(t,{props:[i]})),M_(t,{props:ok(n,r)});break;case"::placeholder":Ku(pl(t,{props:[zt(i,/:(plac\w+)/,":"+an+"input-$1")]})),Ku(pl(t,{props:[zt(i,/:(plac\w+)/,":"+bp+"$1")]})),Ku(pl(t,{props:[zt(i,/:(plac\w+)/,_n+"input-$1")]})),Ku(pl(t,{props:[i]})),M_(t,{props:ok(n,r)});break}return""})}}var age={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ki={},Tf=typeof process<"u"&&Ki!==void 0&&(Ki.REACT_APP_SC_ATTR||Ki.SC_ATTR)||"data-styled",ej="active",tj="data-styled-version",eb="6.1.19",U3=`/*!sc*/
`,rw=typeof window<"u"&&typeof document<"u",lge=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ki!==void 0&&Ki.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ki.REACT_APP_SC_DISABLE_SPEEDY!==""?Ki.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ki.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ki!==void 0&&Ki.SC_DISABLE_SPEEDY!==void 0&&Ki.SC_DISABLE_SPEEDY!==""&&Ki.SC_DISABLE_SPEEDY!=="false"&&Ki.SC_DISABLE_SPEEDY),tb=Object.freeze([]),Mf=Object.freeze({});function cge(t,e,n){return n===void 0&&(n=Mf),t.theme!==n.theme&&t.theme||e||n.theme}var nj=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),uge=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,dge=/(^-|-$)/g;function lk(t){return t.replace(uge,"-").replace(dge,"")}var fge=/(a)(d)/gi,hg=52,ck=function(t){return String.fromCharCode(t+(t>25?39:97))};function P_(t){var e,n="";for(e=Math.abs(t);e>hg;e=e/hg|0)n=ck(e%hg)+n;return(ck(e%hg)+n).replace(fge,"$1-$2")}var Jx,rj=5381,Td=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},ij=function(t){return Td(rj,t)};function hge(t){return P_(ij(t)>>>0)}function pge(t){return t.displayName||t.name||"Component"}function Zx(t){return typeof t=="string"&&!0}var oj=typeof Symbol=="function"&&Symbol.for,sj=oj?Symbol.for("react.memo"):60115,mge=oj?Symbol.for("react.forward_ref"):60112,gge={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yge={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},aj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vge=((Jx={})[mge]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Jx[sj]=aj,Jx);function uk(t){return("type"in(e=t)&&e.type.$$typeof)===sj?aj:"$$typeof"in t?vge[t.$$typeof]:gge;var e}var wge=Object.defineProperty,bge=Object.getOwnPropertyNames,dk=Object.getOwnPropertySymbols,xge=Object.getOwnPropertyDescriptor,Ege=Object.getPrototypeOf,fk=Object.prototype;function lj(t,e,n){if(typeof e!="string"){if(fk){var r=Ege(e);r&&r!==fk&&lj(t,r,n)}var i=bge(e);dk&&(i=i.concat(dk(e)));for(var o=uk(t),s=uk(e),a=0;a<i.length;++a){var l=i[a];if(!(l in yge||n&&n[l]||s&&l in s||o&&l in o)){var c=xge(e,l);try{wge(t,l,c)}catch{}}}}return t}function If(t){return typeof t=="function"}function z3(t){return typeof t=="object"&&"styledComponentId"in t}function jc(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function hk(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Im(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function k_(t,e,n){if(n===void 0&&(n=!1),!n&&!Im(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=k_(t[r],e[r]);else if(Im(e))for(var r in e)t[r]=k_(t[r],e[r]);return t}function j3(t,e){Object.defineProperty(t,"toString",{value:e})}function p0(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Age=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;e>=o;)if((o<<=1)<0)throw p0(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(e+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(U3);return n},t}(),Oy=new Map,iw=new Map,By=1,pg=function(t){if(Oy.has(t))return Oy.get(t);for(;iw.has(By);)By++;var e=By++;return Oy.set(t,e),iw.set(e,t),e},_ge=function(t,e){By=e+1,Oy.set(t,e),iw.set(e,t)},Sge="style[".concat(Tf,"][").concat(tj,'="').concat(eb,'"]'),Cge=new RegExp("^".concat(Tf,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Tge=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},Mge=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(U3),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(Cge);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(_ge(u,c),Tge(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},pk=function(t){for(var e=document.querySelectorAll(Sge),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Tf)!==ej&&(Mge(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function Ige(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var cj=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Tf,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(Tf,ej),r.setAttribute(tj,eb);var s=Ige();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},Rge=function(){function t(e){this.element=cj(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw p0(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),Pge=function(){function t(e){this.element=cj(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),kge=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),mk=rw,Nge={isServer:!rw,useCSSOMInjection:!lge},uj=function(){function t(e,n,r){e===void 0&&(e=Mf),n===void 0&&(n={});var i=this;this.options=Ri(Ri({},Nge),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&rw&&mk&&(mk=!1,pk(this)),j3(this,function(){return function(o){for(var s=o.getTag(),a=s.length,l="",c=function(d){var f=function(p){return iw.get(p)}(d);if(f===void 0)return"continue";var h=o.names.get(f),g=s.getGroup(d);if(h===void 0||!h.size||g.length===0)return"continue";var m="".concat(Tf,".g").concat(d,'[id="').concat(f,'"]'),y="";h!==void 0&&h.forEach(function(p){p.length>0&&(y+="".concat(p,","))}),l+="".concat(g).concat(m,'{content:"').concat(y,'"}').concat(U3)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return pg(e)},t.prototype.rehydrate=function(){!this.server&&rw&&pk(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Ri(Ri({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new kge(i):r?new Rge(i):new Pge(i)}(this.options),new Age(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(pg(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(pg(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(pg(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Fge=/&/g,Oge=/^\s*\/\/.*$/gm;function dj(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=dj(n.children,e)),n})}function Bge(t){var e,n,r,i=Mf,o=i.options,s=o===void 0?Mf:o,a=i.plugins,l=a===void 0?tb:a,c=function(f,h,g){return g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===X1&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(Fge,n).replace(r,c))}),s.prefix&&u.push(sge),u.push(rge);var d=function(f,h,g,m){h===void 0&&(h=""),g===void 0&&(g=""),m===void 0&&(m="&"),e=m,n=h,r=new RegExp("\\".concat(n,"\\b"),"g");var y=f.replace(Oge,""),p=tge(g||h?"".concat(g," ").concat(h," { ").concat(y," }"):y);s.namespace&&(p=dj(p,s.namespace));var v=[];return nw(p,ige(u.concat(oge(function(w){return v.push(w)})))),v};return d.hash=l.length?l.reduce(function(f,h){return h.name||p0(15),Td(f,h.name)},rj).toString():"",d}var Lge=new uj,N_=Bge(),fj=B.createContext({shouldForwardProp:void 0,styleSheet:Lge,stylis:N_});fj.Consumer;B.createContext(void 0);function gk(){return U.useContext(fj)}var Dge=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=N_);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,j3(this,function(){throw p0(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=N_),this.name+e.hash},t}(),Uge=function(t){return t>="A"&&t<="Z"};function yk(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Uge(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var hj=function(t){return t==null||t===!1||t===""},pj=function(t){var e,n,r=[];for(var i in t){var o=t[i];t.hasOwnProperty(i)&&!hj(o)&&(Array.isArray(o)&&o.isCss||If(o)?r.push("".concat(yk(i),":"),o,";"):Im(o)?r.push.apply(r,tw(tw(["".concat(i," {")],pj(o),!1),["}"],!1)):r.push("".concat(yk(i),": ").concat((e=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in age||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Jc(t,e,n,r){if(hj(t))return[];if(z3(t))return[".".concat(t.styledComponentId)];if(If(t)){if(!If(o=t)||o.prototype&&o.prototype.isReactComponent||!e)return[t];var i=t(e);return Jc(i,e,n,r)}var o;return t instanceof Dge?n?(t.inject(n,r),[t.getName(r)]):[t]:Im(t)?pj(t):Array.isArray(t)?Array.prototype.concat.apply(tb,t.map(function(s){return Jc(s,e,n,r)})):[t.toString()]}function zge(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(If(n)&&!z3(n))return!1}return!0}var jge=ij(eb),Gge=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&zge(e),this.componentId=n,this.baseHash=Td(jge,n),this.baseStyle=r,uj.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=jc(i,this.staticRulesId);else{var o=hk(Jc(this.rules,e,n,r)),s=P_(Td(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}i=jc(i,s),this.staticRulesId=s}else{for(var l=Td(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var f=hk(Jc(d,e,n,r));l=Td(l,f+u),c+=f}}if(c){var h=P_(l>>>0);n.hasNameForId(this.componentId,h)||n.insertRules(this.componentId,h,r(c,".".concat(h),void 0,this.componentId)),i=jc(i,h)}}return i},t}(),mj=B.createContext(void 0);mj.Consumer;var eE={};function Hge(t,e,n){var r=z3(t),i=t,o=!Zx(t),s=e.attrs,a=s===void 0?tb:s,l=e.componentId,c=l===void 0?function(x,T){var N=typeof x!="string"?"sc":lk(x);eE[N]=(eE[N]||0)+1;var A="".concat(N,"-").concat(hge(eb+N+eE[N]));return T?"".concat(T,"-").concat(A):A}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(x){return Zx(x)?"styled.".concat(x):"Styled(".concat(pge(x),")")}(t):u,f=e.displayName&&e.componentId?"".concat(lk(e.displayName),"-").concat(e.componentId):e.componentId||c,h=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=e.shouldForwardProp;if(r&&i.shouldForwardProp){var m=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;g=function(x,T){return m(x,T)&&y(x,T)}}else g=m}var p=new Gge(n,f,r?i.componentStyle:void 0);function v(x,T){return function(N,A,z){var S=N.attrs,k=N.componentStyle,R=N.defaultProps,W=N.foldedComponentIds,L=N.styledComponentId,b=N.target,E=B.useContext(mj),I=gk(),O=N.shouldForwardProp||I.shouldForwardProp,C=cge(A,E,R)||Mf,j=function(Z,ce,oe){for(var Ee,de=Ri(Ri({},ce),{className:void 0,theme:oe}),Re=0;Re<Z.length;Re+=1){var ae=If(Ee=Z[Re])?Ee(de):Ee;for(var we in ae)de[we]=we==="className"?jc(de[we],ae[we]):we==="style"?Ri(Ri({},de[we]),ae[we]):ae[we]}return ce.className&&(de.className=jc(de.className,ce.className)),de}(S,A,C),H=j.as||b,D={};for(var M in j)j[M]===void 0||M[0]==="$"||M==="as"||M==="theme"&&j.theme===C||(M==="forwardedAs"?D.as=j.forwardedAs:O&&!O(M,H)||(D[M]=j[M]));var $=function(Z,ce){var oe=gk(),Ee=Z.generateAndInjectStyles(ce,oe.styleSheet,oe.stylis);return Ee}(k,j),J=jc(W,L);return $&&(J+=" "+$),j.className&&(J+=" "+j.className),D[Zx(H)&&!nj.has(H)?"class":"className"]=J,z&&(D.ref=z),U.createElement(H,D)}(w,x,T)}v.displayName=d;var w=B.forwardRef(v);return w.attrs=h,w.componentStyle=p,w.displayName=d,w.shouldForwardProp=g,w.foldedComponentIds=r?jc(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=f,w.target=r?i.target:t,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=r?function(T){for(var N=[],A=1;A<arguments.length;A++)N[A-1]=arguments[A];for(var z=0,S=N;z<S.length;z++)k_(T,S[z],!0);return T}({},i.defaultProps,x):x}}),j3(w,function(){return".".concat(w.styledComponentId)}),o&&lj(w,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function vk(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var wk=function(t){return Object.assign(t,{isCss:!0})};function Wge(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(If(t)||Im(t))return wk(Jc(vk(tb,tw([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Jc(r):wk(Jc(vk(r,e)))}function F_(t,e,n){if(n===void 0&&(n=Mf),!e)throw p0(1,e);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t(e,n,Wge.apply(void 0,tw([i],o,!1)))};return r.attrs=function(i){return F_(t,e,Ri(Ri({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return F_(t,e,Ri(Ri({},n),i))},r}var gj=function(t){return F_(Hge,t)},sh=gj;nj.forEach(function(t){sh[t]=gj(t)});const Zr=[{name:"createGame",type:"function",stateMutability:"nonpayable",inputs:[{name:"params",type:"tuple",components:[{name:"nftContract",type:"address"},{name:"tokenId",type:"uint256"},{name:"priceUSD",type:"uint256"},{name:"acceptedToken",type:"uint8"},{name:"maxRounds",type:"uint8"},{name:"authInfo",type:"string"}]}],outputs:[{name:"",type:"uint256"}]},{name:"GameCreated",type:"event",anonymous:!1,inputs:[{name:"gameId",type:"uint256",indexed:!0},{name:"creator",type:"address",indexed:!0},{name:"nftContract",type:"address",indexed:!0},{name:"tokenId",type:"uint256",indexed:!1},{name:"priceUSD",type:"uint256",indexed:!1},{name:"acceptedToken",type:"uint8",indexed:!1},{name:"authInfo",type:"string",indexed:!1}]},{name:"joinGame",type:"function",stateMutability:"payable",inputs:[{name:"gameId",type:"uint256"},{name:"choice",type:"uint8"}],outputs:[]},{name:"flip",type:"function",stateMutability:"nonpayable",inputs:[{name:"gameId",type:"uint256"},{name:"power",type:"uint8"}],outputs:[]},{name:"cancelGame",type:"function",stateMutability:"nonpayable",inputs:[{name:"gameId",type:"uint256"}],outputs:[]},{name:"withdrawRewards",type:"function",stateMutability:"nonpayable",inputs:[],outputs:[]},{name:"withdrawNFT",type:"function",stateMutability:"nonpayable",inputs:[{name:"nftContract",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{name:"nextGameId",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"listingFeeUSD",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"getETHAmount",type:"function",stateMutability:"view",inputs:[{name:"usdAmount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{name:"getGameDetails",type:"function",stateMutability:"view",inputs:[{name:"gameId",type:"uint256"}],outputs:[{name:"game",type:"tuple",components:[{name:"gameId",type:"uint256"},{name:"creator",type:"address"},{name:"joiner",type:"address"},{name:"nftContract",type:"address"},{name:"tokenId",type:"uint256"},{name:"state",type:"uint8"},{name:"gameType",type:"uint8"},{name:"priceUSD",type:"uint256"},{name:"paymentToken",type:"uint8"},{name:"totalPaid",type:"uint256"},{name:"winner",type:"address"},{name:"createdAt",type:"uint256"},{name:"expiresAt",type:"uint256"}]},{name:"nftChallenge",type:"tuple",components:[{name:"challengerNFTContract",type:"address"},{name:"challengerTokenId",type:"uint256"}]}]},{name:"unclaimedETH",type:"function",stateMutability:"view",inputs:[{name:"user",type:"address"}],outputs:[{name:"",type:"uint256"}]},{name:"unclaimedUSDC",type:"function",stateMutability:"view",inputs:[{name:"user",type:"address"}],outputs:[{name:"",type:"uint256"}]}],mg=[{name:"ownerOf",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"address"}]},{name:"approve",type:"function",stateMutability:"nonpayable",inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{name:"getApproved",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"address"}]},{name:"setApprovalForAll",type:"function",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{name:"isApprovedForAll",type:"function",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{name:"",type:"bool"}]}];class Vge{constructor(){this.contract=null,this.publicClient=null,this.walletClient=null,this.lastRequestTime=0,this.minRequestInterval=1e3}async initializeClients(e,n){if(!n)throw new Error("Wallet client is required");if(e===8453)this.contractAddress="0xb2d09A3A6E502287D0acdAC31328B01AADe35941";else throw new Error(`Unsupported chain: ${e}`);this.chainId=e,this.walletClient=n,this.publicClient=YJ({chain:p1,transport:ca("https://base-mainnet.g.alchemy.com/v2/hoaKpKFy40ibWtxftFZbJNUk5NQoL0R3",{retryCount:3,retryDelay:1e3})}),console.log(" Contract service initialized with working pattern")}getChainName(e){return{1:"mainnet",56:"bsc",137:"polygon",8453:"base",43114:"avalanche"}[e]||"unknown"}getCurrentClients(){if(!this.walletClient)throw new Error("Wallet client not available. Please connect your wallet.");return{wallet:this.walletClient,public:this.publicClient}}isInitialized(){return!!this.walletClient&&!!this.publicClient}get currentChain(){return this.chainId}async rateLimit(e){const n=Date.now(),r=this.lastRequestTime[e]||0,i=n-r;if(i<this.minRequestInterval){const o=this.minRequestInterval-i;console.log(` Rate limiting: waiting ${o}ms before ${e}`),await new Promise(s=>setTimeout(s,o))}this.lastRequestTime[e]=Date.now()}async retryWithBackoff(e,n=3,r=1e3){let i;for(let o=0;o<n;o++)try{return await e()}catch(s){if(i=s,s.message.includes("rate limit")||s.message.includes("429")){const a=r*Math.pow(2,o)+Math.random()*1e3;console.log(` Rate limit hit, retrying in ${Math.round(a)}ms (attempt ${o+1}/${n})`),await new Promise(l=>setTimeout(l,a))}else throw s}throw i}async createGame(e){try{if(!this.walletClient)throw new Error("Contract not initialized with wallet client");const r=Date.now()-this.lastRequestTime;r<this.minRequestInterval&&await new Promise(u=>setTimeout(u,this.minRequestInterval-r)),this.lastRequestTime=Date.now(),console.log(" Creating game with params:",e);const i=[{name:"approve",type:"function",stateMutability:"nonpayable",inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[{type:"bool"}]}],o=await this.walletClient.writeContract({address:e.nftContract,abi:i,functionName:"approve",args:[this.contractAddress,e.tokenId]});await this.publicClient.waitForTransactionReceipt({hash:o});const s=Math.floor(e.priceUSD*1e6),a=await this.walletClient.writeContract({address:this.contractAddress,abi:Zr,functionName:"createGame",args:[{nftContract:e.nftContract,tokenId:BigInt(e.tokenId),priceUSD:BigInt(s),acceptedToken:e.acceptedToken||0,maxRounds:5,authInfo:e.authInfo||""}]}),l=await this.publicClient.waitForTransactionReceipt({hash:a});let c;try{c=(await this.publicClient.readContract({address:this.contractAddress,abi:Zr,functionName:"nextGameId"})-1n).toString(),console.log(" Game created with ID from contract:",c)}catch(u){console.warn(" Could not get gameId from contract, using transaction hash:",u.message),c=a.slice(2,10),console.log(" Game created with fallback ID:",c)}try{const u="https://cryptoflipz2-production.up.railway.app",d={id:c,creator:this.walletClient.account.address,nft_contract:e.nftContract,nft_token_id:e.tokenId,price_usd:e.priceUSD,game_type:e.gameType===1?"nft-vs-nft":"nft-vs-crypto",status:"waiting",transaction_hash:a,contract_game_id:c};await fetch(`${u}/api/games`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),console.log(" Game stored in database as backup")}catch(u){console.warn(" Could not store game in database:",u.message)}return{success:!0,gameId:c,transactionHash:a}}catch(n){console.error(" Error creating game:",n);let r=n.message;return n.message.includes("WRONG_FROM")?r="NFT approval failed. The NFT contract may have restrictions or you may not own this NFT.":n.message.includes("rate limit")||n.message.includes("429")||n.message.includes("over rate limit")?r="Network is busy. Please wait 30 seconds and try again.":n.message.includes("execution reverted")?r="Game creation failed. Please check your NFT ownership and try again.":(n.message.includes("User denied")||n.message.includes("user rejected"))&&(r="Transaction was cancelled by user."),{success:!1,error:r}}}async joinGame(e){try{await this.rateLimit("joinGame");const{walletClient:n,public:r}=this.getCurrentClients();if(!n)throw new Error("Wallet client not available. Please connect your wallet.");const i=n.account.address;console.log(" Joining game with params:",e);const o=await this.retryWithBackoff(async()=>(await this.rateLimit("getGameDetails"),await this.getGameDetails(e.gameId)));if(!o.success)throw new Error("Failed to get game details: "+o.error);const s=o.data.game;if(s.state!==0)throw new Error("Game is not available for joining");if(s.creator.toLowerCase()===i.toLowerCase())throw new Error("Cannot join your own game");let a=0n;e.paymentToken===0&&(a=await this.retryWithBackoff(async()=>(await this.rateLimit("getETHAmountJoin"),await r.readContract({address:this.contractAddress,abi:Zr,functionName:"getETHAmount",args:[s.priceUSD]}))));const l=[BigInt(e.gameId),e.paymentToken||0,e.challengerNFTContract||"0x0000000000000000000000000000000000000000",BigInt(e.challengerTokenId||0)];if(s.gameType===1&&e.challengerNFTContract){const m=await this.approveNFT(e.challengerNFTContract,e.challengerTokenId);if(!m.success&&!m.alreadyApproved)throw new Error("Failed to approve challenger NFT: "+m.error)}const u=await this.retryWithBackoff(async()=>(await this.rateLimit("estimateGasJoin"),await r.estimateContractGas({address:this.contractAddress,abi:Zr,functionName:"joinGame",args:l,account:i,value:a})))*120n/100n,{maxFeePerGas:d,maxPriorityFeePerGas:f}=await this.getGasPrices();console.log(" Joining game on blockchain...");const h=await this.retryWithBackoff(async()=>(await this.rateLimit("joinGameTx"),await n.writeContract({address:this.contractAddress,abi:Zr,functionName:"joinGame",args:l,account:i,value:a,gas:u,maxFeePerGas:d,maxPriorityFeePerGas:f}))),g=await r.waitForTransactionReceipt({hash:h,confirmations:2});return{success:!0,transactionHash:h,receipt:g}}catch(n){console.error(" Error joining game:",n);let r=n.message;return n.message.includes("rate limit")?r="Network is busy. Please wait a moment and try again.":n.message.includes("execution reverted")&&(r="Failed to join game. The game may no longer be available."),{success:!1,error:r}}}async getGasPrices(){try{const{public:e}=this.getCurrentClients(),r=(await e.getBlock({blockTag:"latest"})).baseFeePerGas||0n,i=100000000n,o=100000000n,s=o,a=r*2n+s,l=a>i?a:i,c=s>o?s:o;return console.log(" Gas prices:",{baseFee:r.toString(),maxFeePerGas:l.toString(),maxPriorityFeePerGas:c.toString()}),{maxFeePerGas:l,maxPriorityFeePerGas:c}}catch(e){return console.warn("Failed to get gas prices, using defaults:",e),{maxFeePerGas:200000000n,maxPriorityFeePerGas:100000000n}}}async approveNFT(e,n){try{await this.rateLimit("approveNFT");const{walletClient:r,public:i}=this.getCurrentClients();if(!r)throw new Error("Wallet client not available");const o=r.account.address;if((await this.retryWithBackoff(async()=>(await this.rateLimit("getApproved"),await i.readContract({address:e,abi:mg,functionName:"getApproved",args:[BigInt(n)]})))).toLowerCase()===this.contractAddress.toLowerCase())return console.log(" NFT already approved"),{success:!0,alreadyApproved:!0};const a=await this.retryWithBackoff(async()=>(await this.rateLimit("ownerOf"),await i.readContract({address:e,abi:mg,functionName:"ownerOf",args:[BigInt(n)]})));if(a.toLowerCase()!==o.toLowerCase())throw new Error(`You don't own this NFT. Owner: ${a}, Your address: ${o}`);const c=await this.retryWithBackoff(async()=>(await this.rateLimit("estimateApprovalGas"),await i.estimateContractGas({address:e,abi:mg,functionName:"approve",args:[this.contractAddress,BigInt(n)],account:o})))*120n/100n,{maxFeePerGas:u,maxPriorityFeePerGas:d}=await this.getGasPrices();console.log(" Approving NFT...");const f=await this.retryWithBackoff(async()=>(await this.rateLimit("approveTx"),await r.writeContract({address:e,abi:mg,functionName:"approve",args:[this.contractAddress,BigInt(n)],account:o,gas:c,maxFeePerGas:u,maxPriorityFeePerGas:d}))),h=await i.waitForTransactionReceipt({hash:f,confirmations:1});return console.log(" NFT approved successfully"),{success:!0,transactionHash:f,receipt:h}}catch(r){return console.error("Error approving NFT:",r),{success:!1,error:r.message}}}async getGameDetails(e){try{await this.rateLimit("getGameDetails");const{public:n}=this.getCurrentClients(),r=await this.retryWithBackoff(async()=>await n.readContract({address:this.contractAddress,abi:Zr,functionName:"getGameDetails",args:[BigInt(e)]}));return{success:!0,data:{game:r[0],nftChallenge:r[1]}}}catch(n){return console.error("Error getting game details:",n),{success:!1,error:n.message}}}async getUnclaimedRewards(e){try{await this.rateLimit("getUnclaimedRewards");const{public:n}=this.getCurrentClients(),[r,i]=await this.retryWithBackoff(async()=>{await this.rateLimit("unclaimedETH");const o=await n.readContract({address:this.contractAddress,abi:Zr,functionName:"unclaimedETH",args:[e]});await this.rateLimit("unclaimedUSDC");const s=await n.readContract({address:this.contractAddress,abi:Zr,functionName:"unclaimedUSDC",args:[e]});return[o,s]});return{success:!0,eth:r,usdc:i}}catch(n){return console.error("Error checking unclaimed rewards:",n),{success:!1,error:n.message}}}async withdrawRewards(){try{await this.rateLimit("withdrawRewards");const{walletClient:e,public:n}=this.getCurrentClients();if(!e)throw new Error("Wallet client not available. Please connect your wallet.");const r=e.account.address;console.log(" Withdrawing rewards...");const o=await this.retryWithBackoff(async()=>(await this.rateLimit("estimateWithdrawGas"),await n.estimateContractGas({address:this.contractAddress,abi:Zr,functionName:"withdrawRewards",account:r})))*120n/100n,{maxFeePerGas:s,maxPriorityFeePerGas:a}=await this.getGasPrices(),l=await this.retryWithBackoff(async()=>(await this.rateLimit("withdrawTx"),await e.writeContract({address:this.contractAddress,abi:Zr,functionName:"withdrawRewards",account:r,gas:o,maxFeePerGas:s,maxPriorityFeePerGas:a}))),c=await n.waitForTransactionReceipt({hash:l,confirmations:2});return{success:!0,transactionHash:l,receipt:c}}catch(e){return console.error("Error withdrawing rewards:",e),{success:!1,error:e.message}}}async getUserActiveGames(e){try{return console.log(" Getting active games for:",e),{success:!0,games:[]}}catch(n){return console.error("Error getting user games:",n),{success:!1,error:n.message,games:[]}}}async getGame(e){try{const n=await this.getGameDetails(e);return{success:n.success,game:n.data?.game}}catch(n){return console.error("Error getting game:",n),{success:!1,error:n.message}}}async joinGame(e){try{if(!this.walletClient)throw new Error("Contract not initialized with wallet client");console.log(" Joining game with params:",e);const n=await this.walletClient.writeContract({address:this.contractAddress,abi:Zr,functionName:"joinGame",args:[BigInt(e.gameId),e.choice||0]}),r=await this.publicClient.waitForTransactionReceipt({hash:n});return{success:!0,transactionHash:n}}catch(n){return console.error("Error joining game:",n),{success:!1,error:n.message}}}async flipCoin(e){try{if(!this.walletClient)throw new Error("Contract not initialized with wallet client");console.log(" Flipping coin with params:",e);const n=await this.walletClient.writeContract({address:this.contractAddress,abi:Zr,functionName:"flip",args:[BigInt(e.gameId),e.power||0]}),r=await this.publicClient.waitForTransactionReceipt({hash:n});return{success:!0,transactionHash:n}}catch(n){return console.error("Error flipping coin:",n),{success:!1,error:n.message}}}async cancelGame(e){try{if(!this.walletClient)throw new Error("Contract not initialized with wallet client");console.log(" Cancelling game:",e);const n=await this.walletClient.writeContract({address:this.contractAddress,abi:Zr,functionName:"cancelGame",args:[BigInt(e)]}),r=await this.publicClient.waitForTransactionReceipt({hash:n});return{success:!0,transactionHash:n}}catch(n){return console.error("Error cancelling game:",n),{success:!1,error:n.message}}}async withdrawNFT(e,n){try{if(!this.walletClient)throw new Error("Contract not initialized with wallet client");console.log(" Withdrawing NFT:",{nftContract:e,tokenId:n});const r=await this.walletClient.writeContract({address:this.contractAddress,abi:Zr,functionName:"withdrawNFT",args:[e,BigInt(n)]}),i=await this.publicClient.waitForTransactionReceipt({hash:r});return{success:!0,transactionHash:r}}catch(r){return console.error("Error withdrawing NFT:",r),{success:!1,error:r.message}}}async emergencyCancelGame(e){try{if(!this.walletClient)throw new Error("Contract not initialized with wallet client");console.log(" Emergency cancelling game:",e);const n=await this.walletClient.writeContract({address:this.contractAddress,abi:Zr,functionName:"cancelGame",args:[BigInt(e)]}),r=await this.publicClient.waitForTransactionReceipt({hash:n});return{success:!0,transactionHash:n}}catch(n){return console.error("Error emergency cancelling game:",n),{success:!1,error:n.message}}}}const Ot=new Vge,$ge=sh.div`
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 16px;
  padding: 2rem;
  margin: 2rem 0;
  color: white;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
`,qge=sh.h3`
  font-size: 1.5rem;
  margin-bottom: 1rem;
  font-weight: 600;
`,bk=sh.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 1rem 0;
  padding: 1rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
`,xk=sh.span`
  font-size: 1.2rem;
  font-weight: 600;
`,Kge=sh.button`
  background: white;
  color: #667eea;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-top: 1rem;
  width: 100%;
  
  &:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
`,Qge=()=>{const{address:t,isConnected:e}=Tr(),[n,r]=U.useState({eth:0n,usdc:0n}),[i,o]=U.useState(!1),[s,a]=U.useState(!1);U.useEffect(()=>{e&&t&&Ot.currentChain&&l()},[e,t]);const l=async()=>{try{o(!0);const d=await Ot.getUnclaimedRewards(t);d.success&&r({eth:d.eth,usdc:d.usdc})}catch(d){console.error("Error checking rewards:",d)}finally{o(!1)}},c=async()=>{try{a(!0);const d=await Ot.withdrawRewards();d.success?(alert("Rewards claimed successfully! "),r({eth:0n,usdc:0n})):alert("Failed to claim rewards: "+d.error)}catch(d){console.error("Error claiming rewards:",d),alert("Error claiming rewards: "+d.message)}finally{a(!1)}},u=n.eth>0n||n.usdc>0n;return!e||i||!u?null:K($ge,{children:[F(qge,{children:" Unclaimed Rewards"}),n.eth>0n&&K(bk,{children:[F("span",{children:"ETH"}),K(xk,{children:[Hw(n.eth)," ETH"]})]}),n.usdc>0n&&K(bk,{children:[F("span",{children:"USDC"}),K(xk,{children:[Hm(n.usdc,6)," USDC"]})]}),F(Kge,{onClick:c,disabled:s,children:s?"Claiming...":"Claim All Rewards"})]})},Mo=Ae("div",{target:"eyxi51562"})("min-height:100vh;background-color:transparent;color:",t=>t.theme.colors.textPrimary,";padding:2rem;"),Io=Ae("div",{target:"eyxi51561"})({name:"tyoysd",styles:"max-width:1200px;margin:0 auto;padding:1rem;@media (max-width: 768px){padding:0.5rem;}"}),Eu=Ae("div",{target:"eyxi51560"})("background:rgba(255, 255, 0, 0.1);backdrop-filter:blur(10px);border:1px solid rgba(255, 255, 0, 0.2);border-radius:1rem;padding:1.5rem;transition:",t=>t.theme.transitions.default,";&:hover{transform:translateY(-4px);box-shadow:",t=>t.theme.shadows.glass,";border-color:rgba(255, 255, 0, 0.3);}"),Ls=Ae("h3",{target:"eyxi51559"})("color:",t=>t.theme.colors.neonPink,";animation:neonPulse 2s infinite;",t=>t.theme.animations.neonPulse,";"),kr=Ae("button",{target:"eyxi51557"})("background:linear-gradient(45deg, ",t=>t.theme.colors.neonPink,", ",t=>t.theme.colors.neonBlue,");color:white;border:none;border-radius:0.75rem;padding:0.75rem 1.5rem;font-weight:500;cursor:pointer;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);box-shadow:",t=>t.theme.shadows.neon,";&::before{transform:translateX(100%);}}"),Xge=Ae("div",{target:"eyxi51556"})({name:"2ojh76",styles:"display:grid;grid-template-columns:repeat(5, 1fr);gap:1rem;padding:1rem;@media (max-width: 1400px){grid-template-columns:repeat(4, 1fr);}@media (max-width: 1200px){grid-template-columns:repeat(3, 1fr);}@media (max-width: 768px){grid-template-columns:repeat(1, 1fr);gap:0.75rem;padding:0.5rem;}"}),Yge=Ae("div",{target:"eyxi51555"})({name:"zp4fuo",styles:"background:rgba(0, 0, 0, 0.3);border:1px solid rgba(255, 255, 255, 0.1);border-radius:1rem;overflow:hidden;transition:all 0.3s ease;position:relative;@media (max-width: 768px){margin-bottom:0.75rem;border-radius:0.75rem;}&:hover{transform:translateY(-2px);box-shadow:0 0 20px rgba(0, 255, 65, 0.2);}"}),O_=Ae("img",{target:"eyxi51554"})({name:"18zqpt0",styles:"width:100%;height:100%;object-fit:cover;object-position:center;@media (max-width: 768px){height:180px;}"}),nb=Ae("div",{target:"eyxi51546"})("display:inline-block;width:2rem;height:2rem;border:3px solid ",t=>t.theme.colors.neonPink,";border-radius:50%;border-top-color:transparent;animation:spin 1s linear infinite;@keyframes spin{to{transform:rotate(360deg);}}"),Jge=Ae("input",{target:"eyxi51534"})("width:100%;padding:0.75rem 1rem;background:rgba(255, 255, 255, 0.05);border:1px solid rgba(255, 255, 255, 0.1);border-radius:0.5rem;color:",t=>t.theme.colors.textPrimary,";font-size:1rem;transition:",t=>t.theme.transitions.default,";&:focus{outline:none;border-color:",t=>t.theme.colors.neonPink,";box-shadow:",t=>t.theme.shadows.neon,";}&::placeholder{color:",t=>t.theme.colors.textTertiary,";}"),Zge=Ae("div",{target:"eyxi51529"})({name:"1e06wu4",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;padding:2rem;text-align:center;background:rgba(0, 0, 0, 0.3);border-radius:1rem;margin:2rem 0;[data-rk]{width:100%;max-width:300px;}"}),eye=Ae(Ls,{target:"eyxi51528"})({name:"s9j5gk",styles:"font-size:2rem;margin-bottom:1rem"}),tye=Ae("p",{target:"eyxi51527"})("color:",t=>t.theme.colors.textSecondary,";margin-bottom:2rem;"),Ek=Ae("div",{target:"eyxi51526"})({name:"1iwin9z",styles:"background:rgba(255, 0, 0, 0.1);border:1px solid rgba(255, 0, 0, 0.2);color:#ff4444;padding:1rem;border-radius:0.5rem;margin-bottom:1.5rem;font-size:0.875rem;animation:fadeIn 0.3s ease-in-out;@keyframes fadeIn{from{opacity:0;transform:translateY(-10px);}to{opacity:1;transform:translateY(0);}}"}),Ak=Ae("div",{target:"eyxi51525"})({name:"kkm2ff",styles:"text-align:center;padding:3rem 2rem;background:rgba(255, 0, 0, 0.1);border:1px solid rgba(255, 0, 0, 0.3);border-radius:1rem;margin:2rem 0"}),_k=Ae("h2",{target:"eyxi51524"})("color:",t=>t.theme.colors.error||"#ff4444",";margin-bottom:1rem;font-size:1.5rem;"),nye=Ae("div",{target:"eyxi51523"})({name:"3gaqqa",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 2rem;text-align:center"}),rye=Ae("div",{target:"eyxi51522"})({name:"b2i4m4",styles:"width:100%;max-width:1200px;margin:0 auto"}),iye=Ae("div",{target:"eyxi51513"})({name:"1qj36wb",styles:"padding:0.75rem;display:flex;flex-direction:column;gap:0.5rem"}),oye=Ae("h3",{target:"eyxi51512"})({name:"1w69tks",styles:"font-size:1rem;font-weight:700;color:white;margin:0"}),sye=Ae("p",{target:"eyxi51511"})("color:",t=>t.theme.colors.textSecondary,";font-size:0.75rem;margin:0;"),aye=Ae("div",{target:"eyxi51510"})({name:"1fq4wdl",styles:"display:flex;flex-wrap:wrap;gap:0.25rem;margin-top:0.25rem"}),Nh=Ae("div",{target:"eyxi5159"})("background:rgba(255, 255, 255, 0.1);padding:0.15rem 0.5rem;border-radius:1rem;font-size:0.75rem;color:",t=>t.theme.colors.textSecondary,";"),lye=Ae("div",{target:"eyxi5156"})("background:transparent;backdrop-filter:blur(10px);border:1px solid ",t=>t.theme.colors.neonGreen,";border-radius:1rem;padding:1rem;transition:",t=>t.theme.transitions.default,";margin-bottom:2rem;"),gg=Ae("div",{target:"eyxi5152"})({name:"1agqde0",styles:"margin-bottom:1.5rem;&:last-child{margin-bottom:0;}"}),yg=Ae("label",{target:"eyxi5151"})("display:block;color:",t=>t.theme.colors.textPrimary,";font-weight:600;margin-bottom:0.5rem;font-size:0.9rem;"),cye=Ae("select",{target:"eyxi5150"})("width:100%;background:rgba(0, 0, 0, 0.3);border:1px solid rgba(255, 255, 255, 0.1);border-radius:0.5rem;color:",t=>t.theme.colors.textPrimary,";padding:0.75rem;font-size:0.9rem;cursor:pointer;transition:",t=>t.theme.transitions.default,";&:hover{border-color:",t=>t.theme.colors.neonBlue,";}&:focus{outline:none;border-color:",t=>t.theme.colors.neonPink,";box-shadow:0 0 0 2px rgba(255, 20, 147, 0.2);}option{background:rgba(0, 0, 0, 0.9);color:",t=>t.theme.colors.textPrimary,";}"),uye=t=>t&&{ethereum:"https://etherscan.io",polygon:"https://polygonscan.com",base:"https://basescan.org",arbitrum:"https://arbiscan.io",optimism:"https://optimistic.etherscan.io"}[t.toLowerCase()]||"https://etherscan.io",dye=t=>t&&{ethereum:"https://opensea.io/assets/ethereum",polygon:"https://opensea.io/assets/matic",base:"https://opensea.io/assets/base",arbitrum:"https://opensea.io/assets/arbitrum",optimism:"https://opensea.io/assets/optimism"}[t.toLowerCase()]||"https://opensea.io/assets/ethereum",tE=Ae("video",{target:"e1tha5qy5"})({name:"nal8u7",styles:"position:fixed;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1;opacity:0.7"}),fye=Ae("div",{target:"e1tha5qy4"})({name:"1av86fp",styles:"display:flex;gap:0.5rem;flex-wrap:wrap;align-items:center;@media (max-width: 768px){flex-wrap:nowrap;gap:0.25rem;}"}),hye=Ae("div",{target:"e1tha5qy3"})({name:"1fxxqiq",styles:"display:flex;gap:0.5rem;flex-wrap:wrap;@media (max-width: 768px){display:none;}"}),pye=Ae(kr,{target:"e1tha5qy2"})("background:",t=>t.active?t.theme.colors.neonGreen:"transparent",";border:1px solid ",t=>t.theme.colors.neonGreen,";padding:0.5rem 1rem;color:",t=>t.active?"#000B1A":t.theme.colors.textPrimary,";white-space:nowrap;@media (max-width: 768px){padding:0.5rem;font-size:0.9rem;}"),mye=Ae("select",{target:"e1tha5qy1"})("display:none;background:transparent;border:1px solid ",t=>t.theme.colors.neonGreen,";color:",t=>t.theme.colors.textPrimary,";padding:0.5rem;border-radius:0.5rem;cursor:pointer;font-size:0.9rem;width:100%;max-width:200px;@media (max-width: 768px){display:block;}option{background:",t=>t.theme.colors.bgDark,";color:",t=>t.theme.colors.textPrimary,";}"),gye=Ae("input",{target:"e1tha5qy0"})("background:rgba(255, 255, 255, 0.05);border:1px solid ",t=>t.theme.colors.neonBlue,";color:",t=>t.theme.colors.textPrimary,";padding:0.5rem 1rem;border-radius:0.5rem;font-size:0.9rem;width:100%;max-width:300px;transition:all 0.3s ease;&:focus{outline:none;border-color:",t=>t.theme.colors.neonPink,";box-shadow:0 0 10px ",t=>t.theme.colors.neonPink,";}&::placeholder{color:",t=>t.theme.colors.textSecondary,";}@media (max-width: 768px){max-width:100%;margin-bottom:0.5rem;}"),yye=()=>{const t=ih(),{showSuccess:e,showError:n,showInfo:r}=Ys(),{isConnected:i,address:o,chain:s,walletClient:a,publicClient:l}=fo(),[c,u]=U.useState("all"),[d,f]=U.useState(""),[h,g]=U.useState([]),[m,y]=U.useState(!1),[p,v]=U.useState(null),[w,x]=U.useState(""),T="https://cryptoflipz2-production.up.railway.app";U.useEffect(()=>{console.log(" Home Debug:",{isConnected:i,address:o,chain:s,hasWalletClient:!!a,hasPublicClient:!!l})},[i,o,s,a,l]);const N=async()=>{try{y(!0),x(null);const S=await fetch(`${T}/api/games`);if(!S.ok)throw new Error("Failed to fetch games");const k=await S.json();console.log(" Fetched games from database:",k);const R=k.map(W=>({id:W.id,nft:{name:W.nft_name||"Unknown NFT",image:W.nft_image||"/placeholder-nft.png",collection:W.nft_collection||"Unknown Collection",contractAddress:W.nft_contract,tokenId:W.nft_token_id,chain:W.nft_chain||"base"},gameType:W.game_type||"nft-vs-crypto",price:W.price_usd,priceUSD:W.price_usd,currency:W.game_type==="nft-vs-nft"?"NFT":"USD",chain:W.nft_chain||"base",creator:W.creator,joiner:W.joiner,rounds:W.rounds,status:W.status,createdAt:W.created_at,winner:W.winner,creatorWins:W.creator_wins||0,joinerWins:W.joiner_wins||0,challengerNFT:W.challenger_nft_name?{name:W.challenger_nft_name,image:W.challenger_nft_image,collection:W.challenger_nft_collection,contractAddress:W.challenger_nft_contract,tokenId:W.challenger_nft_token_id}:null,description:W.game_type==="nft-vs-nft"?`NFT Battle: ${W.nft_name} vs ${W.challenger_nft_name||"Waiting for challenger"}`:`${W.nft_name} from ${W.nft_collection} - Ready for battle!`}));console.log(" Processed flips:",R),g(R),R.length>0&&v(R[0])}catch(S){console.error(" Error fetching games:",S),x("Failed to load games. Please try again.")}finally{y(!1)}};U.useEffect(()=>{N();const S=setInterval(N,1e4);return()=>clearInterval(S)},[]);const A=h.filter(S=>{const k=c==="all"||(c==="nft-vs-crypto"||c==="nft-vs-nft"?S.gameType===c:S.chain===c),R=d.toLowerCase(),W=!d||S.nft.name.toLowerCase().includes(R)||S.nft.collection.toLowerCase().includes(R)||S.description.toLowerCase().includes(R);return k&&W}),z=[{key:"all",name:"ALL",icon:""},{key:"nft-vs-crypto",name:"NFT VS CRYPTO",icon:""},{key:"nft-vs-nft",name:"NFT VS NFT",icon:""},{key:"ethereum",name:"ETH",icon:""},{key:"base",name:"BASE",icon:""},{key:"bnb",name:"BNB",icon:""},{key:"avalanche",name:"AVAX",icon:""},{key:"polygon",name:"POLY",icon:""},{key:"arbitrum",name:"ARB",icon:""},{key:"optimism",name:"OPT",icon:""}];return m?K(si,{theme:tt,children:[F(tE,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:F("source",{src:Py,type:"video/webm"})}),F(Mo,{children:F(Io,{children:K("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:[F(nb,{}),F("span",{style:{marginLeft:"1rem",color:tt.colors.textSecondary},children:"Loading games from database..."})]})})})]}):w?K(si,{theme:tt,children:[F(tE,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:F("source",{src:Py,type:"video/webm"})}),F(Mo,{children:F(Io,{children:K(Eu,{style:{textAlign:"center",padding:"3rem"},children:[F(Ls,{style:{fontSize:"2rem",marginBottom:"1rem",color:tt.colors.statusError},children:"Error Loading Games"}),F("p",{style:{color:tt.colors.textSecondary,marginBottom:"2rem"},children:w}),F(kr,{onClick:N,style:{background:tt.colors.neonPink},children:"Retry"})]})})})]}):K(si,{theme:tt,children:[F(tE,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:F("source",{src:Py,type:"video/webm"})}),F(Mo,{children:K(Io,{children:[F(Qge,{}),F(lye,{style:{background:tt.colors.bgDark},children:K(fye,{children:[F(hye,{children:z.map(S=>K(pye,{onClick:()=>u(S.key),active:c===S.key,children:[S.icon," ",S.name]},S.key))}),F(mye,{value:c,onChange:S=>u(S.target.value),children:z.map(S=>K("option",{value:S.key,children:[S.icon," ",S.name]},S.key))})]})}),A.length===0?K(Eu,{style:{textAlign:"center",padding:"3rem",border:`2px solid ${tt.colors.neonPink}`},children:[F(Ls,{style:{fontSize:"2rem",marginBottom:"1rem"},children:"No Active Flips"}),F("p",{style:{color:tt.colors.textSecondary,marginBottom:"2rem"},children:"Be the first to create a flip game!"}),F(kr,{as:h0,to:"/create",style:{background:tt.colors.neonPink},children:"Create Flip"})]}):K("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"240px 1fr",gap:"1.5rem",marginTop:"2rem"},children:[F("div",{style:{order:window.innerWidth<=768?1:0,width:window.innerWidth<=768?"100%":"240px"},children:p&&K("div",{style:{background:"rgba(0, 0, 0, 0.8)",borderRadius:"1rem",padding:window.innerWidth<=768?"1.25rem":"1.5rem",border:`2px solid ${p.gameType==="nft-vs-nft"?tt.colors.neonGreen:tt.colors.neonPink}`,maxWidth:window.innerWidth<=768?"100%":"240px"},children:[F("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:tt.colors.neonBlue,borderBottom:`2px solid ${tt.colors.neonBlue}`,paddingBottom:"0.5rem",marginBottom:"1rem",textShadow:`0 0 10px ${tt.colors.neonBlue}`},children:"Current Flip"}),K("div",{style:{display:"flex",flexDirection:window.innerWidth<=768?"row":"column",gap:(window.innerWidth<=768,"1rem"),alignItems:window.innerWidth<=768?"flex-start":"stretch"},children:[K("div",{style:{position:"relative",aspectRatio:"1",borderRadius:"0.75rem",overflow:"hidden",width:window.innerWidth<=768?"60%":"100%",flexShrink:0},children:[F(O_,{src:p.nft.image,alt:p.nft.name}),F("div",{style:{position:"absolute",bottom:"0.5rem",right:"0.5rem",background:p.gameType==="nft-vs-nft"?"linear-gradient(45deg, #00FF41, #39FF14)":"linear-gradient(45deg, #FF1493, #FF69B4)",color:p.gameType==="nft-vs-nft"?"#000":"#fff",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",fontWeight:"bold"},children:p.gameType==="nft-vs-nft"?" NFT BATTLE":" CRYPTO"})]}),window.innerWidth<=768&&K("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",flex:1},children:[K("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[F("div",{style:{fontSize:"0.7rem",color:tt.colors.textSecondary},children:"Price"}),K("div",{style:{fontSize:"1rem",fontWeight:"bold"},children:["$",p.priceUSD.toFixed(2)]})]}),K("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[F("div",{style:{fontSize:"0.7rem",color:tt.colors.textSecondary},children:"Type"}),F("div",{style:{fontSize:"0.9rem",fontWeight:"bold",color:p.gameType==="nft-vs-nft"?tt.colors.neonGreen:tt.colors.neonPink},children:p.gameType==="nft-vs-nft"?"NFT Battle":"NFT vs Crypto"})]})]})]}),K(iye,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[K("div",{children:[F(oye,{style:{fontSize:"1.2rem",marginBottom:"0.5rem"},children:p.nft.name}),F(sye,{style:{fontSize:"0.9rem"},children:p.nft.collection})]}),window.innerWidth>768&&F(aye,{style:{display:"grid",gridTemplateColumns:"1fr",gap:"0.75rem"},children:p.gameType==="nft-vs-nft"?K(Po,{children:[K(Nh,{children:[F("span",{children:"Type"}),F("div",{style:{color:tt.colors.neonGreen},children:"NFT Battle"})]}),K(Nh,{children:[F("span",{children:"Stakes"}),F("div",{children:"Winner Takes All"})]}),p.challengerNFT&&K(Nh,{children:[F("span",{children:"VS"}),F("div",{style:{color:tt.colors.neonYellow},children:p.challengerNFT.name})]})]}):K(Po,{children:[K(Nh,{children:[F("span",{children:"Price"}),K("div",{children:["$",p.priceUSD.toFixed(2)]})]}),K(Nh,{children:[F("span",{children:"Type"}),F("div",{style:{color:tt.colors.neonPink},children:"NFT vs Crypto"})]})]})}),K("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[F("a",{href:`${uye(p.nft.chain)}/token/${p.nft.contractAddress}?a=${p.nft.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:" Explorer"}),K("a",{href:`${dye(p.nft.chain)}/${p.nft.contractAddress}/${p.nft.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:[F("img",{src:"images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain"}}),"OpenSea"]})]}),K("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[F(kr,{onClick:()=>t(`/game/${p.id}`),style:{flex:2,background:"linear-gradient(45deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",textShadow:"0 0 10px rgba(255, 20, 147, 0.5)",boxShadow:"0 0 20px rgba(255, 20, 147, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:S=>{S.currentTarget.style.transform="scale(1.05)",S.currentTarget.style.boxShadow="0 0 30px rgba(255, 20, 147, 0.5)"},onMouseLeave:S=>{S.currentTarget.style.transform="scale(1)",S.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.3)"},children:"View Flip"}),p.gameType==="nft-vs-nft"&&!p.challengerNFT&&K(kr,{onClick:()=>t(`/flip/${p.id}/join`),style:{flex:1,background:"linear-gradient(45deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",textShadow:"0 0 10px rgba(255, 20, 147, 0.5)",boxShadow:"0 0 20px rgba(255, 20, 147, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:S=>{S.currentTarget.style.transform="scale(1.05)",S.currentTarget.style.boxShadow="0 0 30px rgba(255, 20, 147, 0.5)"},onMouseLeave:S=>{S.currentTarget.style.transform="scale(1)",S.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.3)"},children:[F("span",{children:""})," Join Battle"]})]})]})]})}),K("div",{style:{background:"rgba(0, 0, 20, 0.95)",borderRadius:"1rem",padding:window.innerWidth<=768?"0.75rem":"1rem",border:`1px solid ${tt.colors.neonBlue}`,maxHeight:window.innerWidth<=768?"none":"600px",overflowY:"auto",order:window.innerWidth<=768?2:0},children:[K("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:tt.colors.neonBlue,marginBottom:"1rem",padding:"0.5rem",borderBottom:`1px solid ${tt.colors.neonBlue}`,textShadow:"0 0 10px rgba(0, 150, 255, 0.5)"},children:["Available Flips (",A.filter(S=>S.status==="waiting").length,")"]}),F("div",{style:{marginBottom:"1rem"},children:F(gye,{type:"text",placeholder:"Search NFTs or collections...",value:d,onChange:S=>f(S.target.value)})}),F("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"repeat(2, 1fr)":"repeat(5, 1fr)",gap:window.innerWidth<=768?"0.25rem":"0.75rem",margin:"1rem 0",width:"100%",overflowX:"hidden",padding:window.innerWidth<=768?"0 0.25rem":"0",gridAutoRows:"minmax(auto, auto)",gridAutoFlow:"row"},children:A.map(S=>K("div",{onClick:()=>v(S),style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:window.innerWidth<=768?"0.5rem":"0.75rem",padding:window.innerWidth<=768?"0.25rem":"0.5rem",cursor:"pointer",transition:"all 0.2s ease",border:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",flexDirection:"column",gap:window.innerWidth<=768?"0.15rem":"0.25rem",height:window.innerWidth<=768?"auto":"210px",width:"100%"},onMouseEnter:k=>{k.currentTarget.style.transform="scale(1.02)",k.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},onMouseLeave:k=>{k.currentTarget.style.transform="scale(1)",k.currentTarget.style.background="rgba(255, 255, 255, 0.05)"},children:[K("div",{style:{position:"relative",aspectRatio:"1",borderRadius:window.innerWidth<=768?"0.25rem":"0.5rem",overflow:"hidden",width:"100%",height:window.innerWidth<=768?"auto":"135px",minHeight:window.innerWidth<=768?"80px":"135px"},children:[F(O_,{src:S.nft.image,alt:S.nft.name,style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),F("div",{style:{position:"absolute",bottom:"0.25rem",right:"0.25rem",background:S.gameType==="nft-vs-nft"?"linear-gradient(45deg, #00FF41, #39FF14)":"linear-gradient(45deg, #FF1493, #FF69B4)",color:S.gameType==="nft-vs-nft"?"#000":"#fff",padding:window.innerWidth<=768?"0.1rem 0.25rem":"0.15rem 0.35rem",borderRadius:window.innerWidth<=768?"0.15rem":"0.25rem",fontSize:window.innerWidth<=768?"0.5rem":"0.6rem",fontWeight:"bold"},children:S.gameType==="nft-vs-nft"?" NFT BATTLE":" CRYPTO"})]}),K("div",{style:{display:"flex",flexDirection:"column",gap:window.innerWidth<=768?"0.1rem":"0.25rem",padding:window.innerWidth<=768?"0.1rem":"0.25rem",height:window.innerWidth<=768?"auto":"60px",justifyContent:"space-between"},children:[F("div",{style:{fontSize:window.innerWidth<=768?"0.6rem":"0.7rem",fontWeight:"bold",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:S.nft.name}),F("div",{style:{fontSize:window.innerWidth<=768?"0.5rem":"0.6rem",color:tt.colors.textSecondary,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:S.nft.collection}),K("div",{style:{fontSize:window.innerWidth<=768?"0.6rem":"0.7rem",fontWeight:"bold",color:tt.colors.neonBlue},children:["$",S.priceUSD.toFixed(2)]})]})]},S.id))})]})]})]})})]})},m0=()=>{const{address:t,isConnected:e,connector:n}=Tr(),{data:r}=WD(),i=TT(),{showError:o}=Ys(),[s,a]=U.useState(!1),[l,c]=U.useState(null),[u,d]=U.useState(!1),f=U.useRef(null),h=U.useRef(0),g=5;return U.useEffect(()=>{const m=async()=>{try{c(null);const y=!!t,p=!!r,v=!!i,w=e;if(console.log(" Wallet connection check:",{hasAddress:y,hasWalletClient:p,hasPublicClient:v,isWagmiConnected:w,connector:n?.name,retryCount:h.current,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}),w&&y&&(!p||!v))if(d(!0),f.current&&clearTimeout(f.current),h.current<g){const x=Math.min(1e3*Math.pow(1.5,h.current),5e3);console.log(` Waiting ${x}ms for clients to initialize (attempt ${h.current+1}/${g})...`),f.current=setTimeout(()=>{h.current++,m()},x);return}else{c("Wallet initialization timeout. Please reconnect your wallet."),d(!1),console.error(" Max retries reached for wallet initialization");return}y&&p&&v&&w?(a(!0),d(!1),h.current=0,f.current&&(clearTimeout(f.current),f.current=null),console.log(" Wallet fully connected")):w||(a(!1),d(!1),h.current=0,f.current&&(clearTimeout(f.current),f.current=null))}catch(y){console.error(" Error checking wallet connection:",y),c(y.message),a(!1),d(!1)}};return m(),()=>{f.current&&clearTimeout(f.current)}},[t,r,i,e,n]),U.useEffect(()=>{e||(h.current=0)},[e]),{isFullyConnected:s,connectionError:l,isInitializing:u,address:t,walletClient:r,publicClient:i,connector:n,isConnected:e,isReady:s&&!l&&!u}},vye=({isOpen:t,onClose:e,onSelect:n,nfts:r=[],loading:i=!1})=>{const{chain:o,chains:s}=fo();return t?F(si,{theme:tt,children:F("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,padding:"1rem"},children:K(Eu,{style:{width:"100%",maxWidth:"1200px",maxHeight:"90vh",display:"flex",flexDirection:"column",gap:"1.5rem"},children:[K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[K("div",{children:[F(Ls,{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:"Select NFT"}),K("p",{style:{color:tt.colors.textSecondary},children:["Choose an NFT from your ",s[o]?.name||"wallet"]})]}),F(kr,{onClick:e,style:{padding:"0.5rem"},children:""})]}),F("div",{style:{flex:1,overflowY:"auto",paddingRight:"0.5rem"},children:i?F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1rem"},children:[...Array(6)].map((a,l)=>K(Eu,{style:{padding:"1rem"},children:[F("div",{style:{width:"100%",height:"200px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",marginBottom:"1rem"}}),K("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[F("div",{style:{height:"1rem",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.25rem",width:"75%"}}),F("div",{style:{height:"1rem",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.25rem",width:"50%"}})]})]},l))}):!r||r.length===0?F("div",{style:{textAlign:"center",padding:"3rem 0",color:tt.colors.textSecondary},children:K("p",{style:{fontSize:"1.125rem"},children:["No NFTs found in your ",s[o]?.name||"wallet"]})}):F(Xge,{children:r.map(a=>K(Yge,{onClick:()=>{n(a),e()},style:{cursor:"pointer"},children:[F(O_,{src:a.image,alt:a.name,onError:l=>{console.error(" Image failed to load:",a.image),l.target.src="/placeholder-nft.svg"},onLoad:()=>{console.log(" Image loaded successfully:",a.image)}}),K("div",{style:{padding:"1rem"},children:[F("h3",{style:{color:tt.colors.textPrimary,fontWeight:600,marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.name}),F("p",{style:{color:tt.colors.textSecondary,fontSize:"0.875rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.collection}),K("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",color:tt.colors.textSecondary},children:[F("span",{children:"Token ID:"}),K("span",{style:{color:tt.colors.textPrimary},children:["#",a.tokenId]})]})]})]},`${a.contractAddress}-${a.tokenId}`))})})]})})}):null},wye=({onCoinSelect:t,selectedCoin:e=null,showCustomOption:n=!0})=>{const{address:r}=fo(),{getCoinHeadsImage:i,getCoinTailsImage:o}=R3(),[s,a]=U.useState(null),[l,c]=U.useState(null),[u,d]=U.useState(e?.type||null),f=[{id:"plain",type:"default",name:"Classic",headsImage:"/coins/plainh.png",tailsImage:"/coins/plaint.png"},{id:"skull",type:"default",name:"Skull",headsImage:"/coins/skullh.png",tailsImage:"/coins/skullt.png"},{id:"trump",type:"default",name:"Trump",headsImage:"/coins/trumpheads.webp",tailsImage:"/coins/trumptails.webp"},{id:"mario",type:"default",name:"Mario Bros",headsImage:"/coins/mario.png",tailsImage:"/coins/luigi.png"}];U.useEffect(()=>{(async()=>{if(r)try{console.log(" Loading custom coin for address:",r);const y=await i(r),p=await o(r);console.log(" Custom coin loaded:",{hasHeads:!!y,hasTails:!!p,headsLength:y?.length||0,tailsLength:p?.length||0}),a(y),c(p)}catch(y){console.error("Error loading custom coin:",y)}})()},[r,i,o]);const h=m=>{if(d(m.id),m.type==="default"){const y={id:m.id,type:m.type,name:m.name,headsImage:m.headsImage,tailsImage:m.tailsImage};t(y)}else t(m)},g=s||l;return console.log(" CoinSelector state:",{address:r,hasCustomCoin:g,customHeadsImage:!!s,customTailsImage:!!l,showCustomOption:n,selectedCoinType:u}),K("div",{style:{background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem",padding:"2rem",width:"100%",maxWidth:"1200px",margin:"0 auto"},children:[F("h3",{style:{color:"#FFD700",textAlign:"center",marginBottom:"1.5rem",fontSize:"1.5rem",fontWeight:"bold"},children:"Choose Your Coin Design"}),F("p",{style:{color:"#fff",textAlign:"center",marginBottom:"2rem",fontSize:"0.9rem",opacity:.8},children:"Both players will see this coin design during the game"}),F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1.5rem",marginBottom:n&&g?"2rem":"0"},children:f.map(m=>K("div",{onClick:()=>h(m),style:{background:u===m.id?"rgba(255, 215, 0, 0.2)":"rgba(255, 255, 255, 0.05)",border:u===m.id?"2px solid #FFD700":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"1rem",padding:"1rem",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},children:[K("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginBottom:"1.5rem"},children:[F("div",{style:{width:"70px",height:"70px",borderRadius:"50%",backgroundImage:`url(${m.headsImage})`,backgroundSize:"cover",backgroundPosition:"center",border:"3px solid #FFD700",position:"relative"},children:F("div",{style:{position:"absolute",bottom:"-25px",left:"50%",transform:"translateX(-50%)",fontSize:"0.8rem",color:"#FFD700",fontWeight:"bold"},children:"H"})}),F("div",{style:{width:"70px",height:"70px",borderRadius:"50%",backgroundImage:`url(${m.tailsImage})`,backgroundSize:"cover",backgroundPosition:"center",border:"3px solid #FFD700",position:"relative"},children:F("div",{style:{position:"absolute",bottom:"-25px",left:"50%",transform:"translateX(-50%)",fontSize:"0.8rem",color:"#FFD700",fontWeight:"bold"},children:"T"})})]}),F("div",{style:{color:"#fff",fontSize:"1.1rem",fontWeight:"bold",textAlign:"center"},children:m.name})]},m.id))}),n&&g&&K(Po,{children:[F("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), transparent)",margin:"2rem 0"}}),K("div",{onClick:()=>h({id:"custom",type:"custom",name:"Your Custom Coin",headsImage:s||"/coins/plainh.png",tailsImage:l||"/coins/plaint.png",description:"Your personal coin design"}),style:{background:u==="custom"?"rgba(255, 215, 0, 0.2)":"rgba(255, 255, 255, 0.05)",border:u==="custom"?"2px solid #FFD700":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"1rem",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},children:[K("div",{style:{display:"flex",justifyContent:"center",gap:"1.5rem",marginBottom:"1.5rem"},children:[K("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundImage:s?`url(${s})`:"none",backgroundColor:s?"transparent":"rgba(255, 215, 0, 0.2)",backgroundSize:"cover",backgroundPosition:"center",border:"4px solid #FFD700",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[!s&&F("div",{style:{color:"#FFD700",fontSize:"2rem",fontWeight:"bold"},children:"?"}),F("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",fontSize:"0.9rem",color:"#FFD700",fontWeight:"bold"},children:"HEADS"})]}),K("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundImage:l?`url(${l})`:"none",backgroundColor:l?"transparent":"rgba(255, 215, 0, 0.2)",backgroundSize:"cover",backgroundPosition:"center",border:"4px solid #FFD700",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[!l&&F("div",{style:{color:"#FFD700",fontSize:"2rem",fontWeight:"bold"},children:"?"}),F("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",fontSize:"0.9rem",color:"#FFD700",fontWeight:"bold"},children:"TAILS"})]})]}),F("div",{style:{color:"#FFD700",fontSize:"1.1rem",fontWeight:"bold",marginBottom:"0.5rem"},children:" Your Custom Coin"}),F("div",{style:{color:"#fff",fontSize:"0.8rem",opacity:.8},children:"Use your personalized coin design"})]})]}),n&&!g&&K(Po,{children:[F("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), transparent)",margin:"2rem 0"}}),K("div",{style:{padding:"1.5rem",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem",textAlign:"center"},children:[F("div",{style:{color:"#FFD700",fontSize:"1rem",fontWeight:"bold",marginBottom:"0.5rem"},children:" Want to use a custom coin?"}),F("div",{style:{color:"#fff",fontSize:"0.9rem",opacity:.8},children:"Go to your profile and upload custom heads & tails images to unlock this option!"})]})]})]})},bye=Ae("div",{target:"e1x635ak2"})("display:flex;align-items:center;gap:1rem;padding:1rem;border:2px dashed ",t=>t.theme.colors.neonBlue,";border-radius:0.5rem;cursor:pointer;transition:all 0.3s ease;background:rgba(0, 191, 255, 0.05);&:hover{border-color:",t=>t.theme.colors.neonPink,";background:rgba(255, 20, 147, 0.05);}img{width:60px;height:60px;border-radius:0.5rem;object-fit:cover;}div{flex:1;h4{color:",t=>t.theme.colors.textPrimary,";margin:0 0 0.25rem 0;font-size:1rem;}p{color:",t=>t.theme.colors.textSecondary,";margin:0;font-size:0.9rem;}}"),xye=Ae("div",{target:"e1x635ak1"})("color:",t=>t.theme.colors.textSecondary,";font-style:italic;text-align:center;width:100%;"),Eye=Ae(kr,{target:"e1x635ak0"})("margin-top:2rem;width:100%;background:linear-gradient(135deg, ",t=>t.theme.colors.neonBlue," 0%, ",t=>t.theme.colors.neonPurple," 100%);&:disabled{opacity:0.5;cursor:not-allowed;transform:none;}"),Aye=()=>{const t=ih(),{showSuccess:e,showError:n,showInfo:r}=Ys(),{isConnected:i,nfts:o,loadNFTs:s,chainId:a,walletClient:l,publicClient:c}=fo(),{isFullyConnected:u}=m0(),[d,f]=U.useState(null),[h,g]=U.useState("nft-vs-crypto"),[m,y]=U.useState(""),[p,v]=U.useState(!1),[w,x]=U.useState(!1),[T,N]=U.useState(!1),[A,z]=U.useState("default");U.useEffect(()=>{(async()=>{if(u&&a&&l&&c)try{console.log("Initializing contract service..."),await Ot.initializeClients(a,l),console.log(" Contract service initialized")}catch(W){console.error("Failed to initialize contract service:",W),n("Failed to initialize. Please refresh and try again.")}})()},[u,a,l,c]),U.useEffect(()=>{i&&(!o||o.length===0)&&S()},[i]);const S=async()=>{try{N(!0),await s()}catch(R){console.error("Error loading NFTs:",R),n("Failed to load NFTs")}finally{N(!1)}};return F(si,{theme:tt,children:K(Mo,{children:[F(Io,{children:K(Eu,{children:[F(Ls,{style:{textAlign:"center",marginBottom:"2rem"},children:"Create Your Flip"}),K("form",{onSubmit:async R=>{if(R.preventDefault(),console.log(" Submit attempt - Wallet state:",{isFullyConnected:u,hasWalletClient:!!l,hasPublicClient:!!c,chainId:a,address:l?.account?.address}),!u){n("Please connect your wallet first");return}if(!d){n("Please select an NFT");return}if(!m||parseFloat(m)<=0){n("Please enter a valid price");return}v(!0);try{(!Ot.walletClient||Ot.chainId!==a)&&(console.log("Re-initializing contract service..."),await Ot.initializeClients(a,l),await new Promise(b=>setTimeout(b,500)));const W={nftContract:d.contractAddress,tokenId:d.tokenId,priceUSD:parseFloat(m),acceptedToken:0,gameType:h==="nft-vs-nft"?1:0,authInfo:""};console.log(" Creating game with params:",W);const L=await Ot.createGame(W);if(L.success)e("Game created successfully!"),t(`/game/${L.gameId}`);else throw new Error(L.error)}catch(W){console.error("Error creating game:",W);let L=W.message;(L.includes("User denied")||L.includes("user rejected"))&&(L="Transaction cancelled"),n(L)}finally{v(!1)}},children:[K(gg,{children:[F(yg,{children:"Select Your NFT"}),F(bye,{onClick:()=>x(!0),children:d?K(Po,{children:[F("img",{src:d.image,alt:d.name}),K("div",{children:[F("h4",{children:d.name}),F("p",{children:d.collection})]})]}):F(xye,{children:"Click to select an NFT"})})]}),K(gg,{children:[F(yg,{children:"Game Type"}),K(cye,{value:h,onChange:R=>g(R.target.value),children:[F("option",{value:"nft-vs-crypto",children:"NFT vs Crypto"}),F("option",{value:"nft-vs-nft",children:"NFT vs NFT"})]})]}),K(gg,{children:[F(yg,{children:"Price (USD)"}),F(Jge,{type:"number",placeholder:"Enter price in USD",value:m,onChange:R=>y(R.target.value),min:"0",step:"0.01"})]}),K(gg,{children:[F(yg,{children:"Select Your Coin"}),F(wye,{selectedCoin:A,onCoinSelect:z})]}),F(Eye,{type:"submit",disabled:p||!u,children:p?K(Po,{children:[F(nb,{})," Creating..."]}):`Create ${h==="nft-vs-nft"?"NFT Battle":"Flip"}`})]})]})}),F(vye,{isOpen:w,onClose:()=>x(!1),onSelect:f,nfts:o||[],loading:T,selectedNFT:d})]})})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const G3="170",_ye=0,Sk=1,Sye=2,yj=1,Cye=2,aa=3,ql=0,zi=1,wa=2,Dl=0,$d=1,Ck=2,Tk=3,Mk=4,Tye=5,Sc=100,Mye=101,Iye=102,Rye=103,Pye=104,kye=200,Nye=201,Fye=202,Oye=203,B_=204,L_=205,Bye=206,Lye=207,Dye=208,Uye=209,zye=210,jye=211,Gye=212,Hye=213,Wye=214,D_=0,U_=1,z_=2,Rf=3,j_=4,G_=5,H_=6,W_=7,H3=0,Vye=1,$ye=2,Ul=0,qye=1,Kye=2,Qye=3,Xye=4,Yye=5,Jye=6,Zye=7,vj=300,Pf=301,kf=302,V_=303,$_=304,rb=306,q_=1e3,Gc=1001,K_=1002,fs=1003,eve=1004,vg=1005,Pi=1006,nE=1007,Hc=1008,Ga=1009,wj=1010,bj=1011,Rm=1012,W3=1013,Au=1014,Sa=1015,g0=1016,V3=1017,$3=1018,Nf=1020,xj=35902,Ej=1021,Aj=1022,ss=1023,_j=1024,Sj=1025,qd=1026,Ff=1027,Cj=1028,q3=1029,Tj=1030,K3=1031,Q3=1033,Ly=33776,Dy=33777,Uy=33778,zy=33779,Q_=35840,X_=35841,Y_=35842,J_=35843,Z_=36196,eS=37492,tS=37496,nS=37808,rS=37809,iS=37810,oS=37811,sS=37812,aS=37813,lS=37814,cS=37815,uS=37816,dS=37817,fS=37818,hS=37819,pS=37820,mS=37821,jy=36492,gS=36494,yS=36495,Mj=36283,vS=36284,wS=36285,bS=36286,tve=3200,nve=3201,Ij=0,rve=1,bl="",$r="srgb",ah="srgb-linear",ib="linear",pn="srgb",Qu=7680,Ik=519,ive=512,ove=513,sve=514,Rj=515,ave=516,lve=517,cve=518,uve=519,Rk=35044,Pk="300 es",Ca=2e3,ow=2001;class lh{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const Hr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],rE=Math.PI/180,xS=180/Math.PI;function y0(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Hr[t&255]+Hr[t>>8&255]+Hr[t>>16&255]+Hr[t>>24&255]+"-"+Hr[e&255]+Hr[e>>8&255]+"-"+Hr[e>>16&15|64]+Hr[e>>24&255]+"-"+Hr[n&63|128]+Hr[n>>8&255]+"-"+Hr[n>>16&255]+Hr[n>>24&255]+Hr[r&255]+Hr[r>>8&255]+Hr[r>>16&255]+Hr[r>>24&255]).toLowerCase()}function Ci(t,e,n){return Math.max(e,Math.min(n,t))}function dve(t,e){return(t%e+e)%e}function iE(t,e,n){return(1-n)*t+n*e}function Fh(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function xi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class sn{constructor(e=0,n=0){sn.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ci(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Lt{constructor(e,n,r,i,o,s,a,l,c){Lt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c)}set(e,n,r,i,o,s,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],g=r[8],m=i[0],y=i[3],p=i[6],v=i[1],w=i[4],x=i[7],T=i[2],N=i[5],A=i[8];return o[0]=s*m+a*v+l*T,o[3]=s*y+a*w+l*N,o[6]=s*p+a*x+l*A,o[1]=c*m+u*v+d*T,o[4]=c*y+u*w+d*N,o[7]=c*p+u*x+d*A,o[2]=f*m+h*v+g*T,o[5]=f*y+h*w+g*N,o[8]=f*p+h*x+g*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*s*u-n*a*c-r*o*u+r*a*l+i*o*c-i*s*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*s-a*c,f=a*l-u*o,h=c*o-s*l,g=n*d+r*f+i*h;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/g;return e[0]=d*m,e[1]=(i*c-u*r)*m,e[2]=(a*r-i*s)*m,e[3]=f*m,e[4]=(u*n-i*l)*m,e[5]=(i*o-a*n)*m,e[6]=h*m,e[7]=(r*l-c*n)*m,e[8]=(s*n-r*o)*m,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,s,a){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*s+c*a)+s+e,-i*c,i*l,-i*(-c*s+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(oE.makeScale(e,n)),this}rotate(e){return this.premultiply(oE.makeRotation(-e)),this}translate(e,n){return this.premultiply(oE.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const oE=new Lt;function Pj(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Pm(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function fve(){const t=Pm("canvas");return t.style.display="block",t}const kk={};function Yh(t){t in kk||(kk[t]=!0,console.warn(t))}function hve(t,e,n){return new Promise(function(r,i){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}function pve(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function mve(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const Jt={enabled:!0,workingColorSpace:ah,spaces:{},convert:function(t,e,n){return this.enabled===!1||e===n||!e||!n||(this.spaces[e].transfer===pn&&(t.r=ka(t.r),t.g=ka(t.g),t.b=ka(t.b)),this.spaces[e].primaries!==this.spaces[n].primaries&&(t.applyMatrix3(this.spaces[e].toXYZ),t.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===pn&&(t.r=Kd(t.r),t.g=Kd(t.g),t.b=Kd(t.b))),t},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===bl?ib:this.spaces[t].transfer},getLuminanceCoefficients:function(t,e=this.workingColorSpace){return t.fromArray(this.spaces[e].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},_getMatrix:function(t,e,n){return t.copy(this.spaces[e].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace}};function ka(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Kd(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const Nk=[.64,.33,.3,.6,.15,.06],Fk=[.2126,.7152,.0722],Ok=[.3127,.329],Bk=new Lt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Lk=new Lt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);Jt.define({[ah]:{primaries:Nk,whitePoint:Ok,transfer:ib,toXYZ:Bk,fromXYZ:Lk,luminanceCoefficients:Fk,workingColorSpaceConfig:{unpackColorSpace:$r},outputColorSpaceConfig:{drawingBufferColorSpace:$r}},[$r]:{primaries:Nk,whitePoint:Ok,transfer:pn,toXYZ:Bk,fromXYZ:Lk,luminanceCoefficients:Fk,outputColorSpaceConfig:{drawingBufferColorSpace:$r}}});let Xu;class gve{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Xu===void 0&&(Xu=Pm("canvas")),Xu.width=e.width,Xu.height=e.height;const r=Xu.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Xu}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Pm("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=ka(o[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(ka(n[r]/255)*255):n[r]=ka(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let yve=0;class kj{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:yve++}),this.uuid=y0(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(sE(i[s].image)):o.push(sE(i[s]))}else o=sE(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function sE(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?gve.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let vve=0;class Xr extends lh{constructor(e=Xr.DEFAULT_IMAGE,n=Xr.DEFAULT_MAPPING,r=Gc,i=Gc,o=Pi,s=Hc,a=ss,l=Ga,c=Xr.DEFAULT_ANISOTROPY,u=bl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:vve++}),this.uuid=y0(),this.name="",this.source=new kj(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new sn(0,0),this.repeat=new sn(1,1),this.center=new sn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Lt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==vj)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case q_:e.x=e.x-Math.floor(e.x);break;case Gc:e.x=e.x<0?0:1;break;case K_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case q_:e.y=e.y-Math.floor(e.y);break;case Gc:e.y=e.y<0?0:1;break;case K_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Xr.DEFAULT_IMAGE=null;Xr.DEFAULT_MAPPING=vj;Xr.DEFAULT_ANISOTROPY=1;class Gn{constructor(e=0,n=0,r=0,i=1){Gn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],g=l[9],m=l[2],y=l[6],p=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(g-y)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(g+y)<.1&&Math.abs(c+h+p-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(c+1)/2,x=(h+1)/2,T=(p+1)/2,N=(u+f)/4,A=(d+m)/4,z=(g+y)/4;return w>x&&w>T?w<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(w),i=N/r,o=A/r):x>T?x<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(x),r=N/i,o=z/i):T<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(T),r=A/o,i=z/o),this.set(r,i,o,n),this}let v=Math.sqrt((y-g)*(y-g)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(v)<.001&&(v=1),this.x=(y-g)/v,this.y=(d-m)/v,this.z=(f-u)/v,this.w=Math.acos((c+h+p-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class wve extends lh{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Gn(0,0,e,n),this.scissorTest=!1,this.viewport=new Gn(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Pi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new Xr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const s=r.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new kj(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class _u extends wve{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class Nj extends Xr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=fs,this.minFilter=fs,this.wrapR=Gc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class bve extends Xr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=fs,this.minFilter=fs,this.wrapR=Gc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class v0{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,s,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=o[s+0],h=o[s+1],g=o[s+2],m=o[s+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=h,e[n+2]=g,e[n+3]=m;return}if(d!==m||l!==f||c!==h||u!==g){let y=1-a;const p=l*f+c*h+u*g+d*m,v=p>=0?1:-1,w=1-p*p;if(w>Number.EPSILON){const T=Math.sqrt(w),N=Math.atan2(T,p*v);y=Math.sin(y*N)/T,a=Math.sin(a*N)/T}const x=a*v;if(l=l*y+f*x,c=c*y+h*x,u=u*y+g*x,d=d*y+m*x,y===1-a){const T=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=T,c*=T,u*=T,d*=T}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,o,s){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=o[s],f=o[s+1],h=o[s+2],g=o[s+3];return e[n]=a*g+u*d+l*h-c*f,e[n+1]=l*g+u*f+c*d-a*h,e[n+2]=c*g+u*h+a*f-l*d,e[n+3]=u*g-a*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(o/2),f=l(r/2),h=l(i/2),g=l(o/2);switch(s){case"XYZ":this._x=f*u*d+c*h*g,this._y=c*h*d-f*u*g,this._z=c*u*g+f*h*d,this._w=c*u*d-f*h*g;break;case"YXZ":this._x=f*u*d+c*h*g,this._y=c*h*d-f*u*g,this._z=c*u*g-f*h*d,this._w=c*u*d+f*h*g;break;case"ZXY":this._x=f*u*d-c*h*g,this._y=c*h*d+f*u*g,this._z=c*u*g+f*h*d,this._w=c*u*d-f*h*g;break;case"ZYX":this._x=f*u*d-c*h*g,this._y=c*h*d+f*u*g,this._z=c*u*g-f*h*d,this._w=c*u*d+f*h*g;break;case"YZX":this._x=f*u*d+c*h*g,this._y=c*h*d+f*u*g,this._z=c*u*g-f*h*d,this._w=c*u*d-f*h*g;break;case"XZY":this._x=f*u*d-c*h*g,this._y=c*h*d-f*u*g,this._z=c*u*g+f*h*d,this._w=c*u*d+f*h*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],s=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=r+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(o-c)*h,this._z=(s-i)*h}else if(r>a&&r>d){const h=2*Math.sqrt(1+r-a-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(o+c)/h}else if(a>d){const h=2*Math.sqrt(1+a-r-d);this._w=(o-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-a);this._w=(s-i)/h,this._x=(o+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ci(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,s=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+s*a+i*c-o*l,this._y=i*u+s*l+o*a-r*c,this._z=o*u+s*c+r*l-i*a,this._w=s*u-r*a-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-n;return this._w=h*s+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=s*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=o*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Se{constructor(e=0,n=0,r=0){Se.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(Dk.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(Dk.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,c=2*(s*i-a*r),u=2*(a*n-o*i),d=2*(o*r-s*n);return this.x=n+l*c+s*d-a*u,this.y=r+l*u+a*c-o*d,this.z=i+l*d+o*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,s=n.x,a=n.y,l=n.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return aE.copy(this).projectOnVector(e),this.sub(aE)}reflect(e){return this.sub(aE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ci(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const aE=new Se,Dk=new v0;class w0{constructor(e=new Se(1/0,1/0,1/0),n=new Se(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Wo.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Wo.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Wo.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)e.isMesh===!0?e.getVertexPosition(s,Wo):Wo.fromBufferAttribute(o,s),Wo.applyMatrix4(e.matrixWorld),this.expandByPoint(Wo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),wg.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),wg.copy(r.boundingBox)),wg.applyMatrix4(e.matrixWorld),this.union(wg)}const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Wo),Wo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Oh),bg.subVectors(this.max,Oh),Yu.subVectors(e.a,Oh),Ju.subVectors(e.b,Oh),Zu.subVectors(e.c,Oh),ol.subVectors(Ju,Yu),sl.subVectors(Zu,Ju),ac.subVectors(Yu,Zu);let n=[0,-ol.z,ol.y,0,-sl.z,sl.y,0,-ac.z,ac.y,ol.z,0,-ol.x,sl.z,0,-sl.x,ac.z,0,-ac.x,-ol.y,ol.x,0,-sl.y,sl.x,0,-ac.y,ac.x,0];return!lE(n,Yu,Ju,Zu,bg)||(n=[1,0,0,0,1,0,0,0,1],!lE(n,Yu,Ju,Zu,bg))?!1:(xg.crossVectors(ol,sl),n=[xg.x,xg.y,xg.z],lE(n,Yu,Ju,Zu,bg))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Wo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Wo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(na[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),na[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),na[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),na[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),na[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),na[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),na[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),na[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(na),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const na=[new Se,new Se,new Se,new Se,new Se,new Se,new Se,new Se],Wo=new Se,wg=new w0,Yu=new Se,Ju=new Se,Zu=new Se,ol=new Se,sl=new Se,ac=new Se,Oh=new Se,bg=new Se,xg=new Se,lc=new Se;function lE(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){lc.fromArray(t,o);const a=i.x*Math.abs(lc.x)+i.y*Math.abs(lc.y)+i.z*Math.abs(lc.z),l=e.dot(lc),c=n.dot(lc),u=r.dot(lc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const xve=new w0,Bh=new Se,cE=new Se;class X3{constructor(e=new Se,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):xve.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Bh.subVectors(e,this.center);const n=Bh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Bh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(cE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Bh.copy(e.center).add(cE)),this.expandByPoint(Bh.copy(e.center).sub(cE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ra=new Se,uE=new Se,Eg=new Se,al=new Se,dE=new Se,Ag=new Se,fE=new Se;class Eve{constructor(e=new Se,n=new Se(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ra)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ra.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ra.copy(this.origin).addScaledVector(this.direction,n),ra.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){uE.copy(e).add(n).multiplyScalar(.5),Eg.copy(n).sub(e).normalize(),al.copy(this.origin).sub(uE);const o=e.distanceTo(n)*.5,s=-this.direction.dot(Eg),a=al.dot(this.direction),l=-al.dot(Eg),c=al.lengthSq(),u=Math.abs(1-s*s);let d,f,h,g;if(u>0)if(d=s*l-a,f=s*a-l,g=o*u,d>=0)if(f>=-g)if(f<=g){const m=1/u;d*=m,f*=m,h=d*(d+s*f+2*a)+f*(s*d+f+2*l)+c}else f=o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;else f=-o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;else f<=-g?(d=Math.max(0,-(-s*o+a)),f=d>0?-o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c):f<=g?(d=0,f=Math.min(Math.max(-o,-l),o),h=f*(f+2*l)+c):(d=Math.max(0,-(s*o+a)),f=d>0?o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c);else f=s>0?-o:o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(uE).addScaledVector(Eg,f),h}intersectSphere(e,n){ra.subVectors(e.center,this.origin);const r=ra.dot(this.direction),i=ra.dot(ra)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,l=r+s;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,s,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(o=(e.min.y-f.y)*u,s=(e.max.y-f.y)*u):(o=(e.max.y-f.y)*u,s=(e.min.y-f.y)*u),r>s||o>i||((o>r||isNaN(r))&&(r=o),(s<i||isNaN(i))&&(i=s),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,ra)!==null}intersectTriangle(e,n,r,i,o){dE.subVectors(n,e),Ag.subVectors(r,e),fE.crossVectors(dE,Ag);let s=this.direction.dot(fE),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;al.subVectors(this.origin,e);const l=a*this.direction.dot(Ag.crossVectors(al,Ag));if(l<0)return null;const c=a*this.direction.dot(dE.cross(al));if(c<0||l+c>s)return null;const u=-a*al.dot(fE);return u<0?null:this.at(u/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Wn{constructor(e,n,r,i,o,s,a,l,c,u,d,f,h,g,m,y){Wn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c,u,d,f,h,g,m,y)}set(e,n,r,i,o,s,a,l,c,u,d,f,h,g,m,y){const p=this.elements;return p[0]=e,p[4]=n,p[8]=r,p[12]=i,p[1]=o,p[5]=s,p[9]=a,p[13]=l,p[2]=c,p[6]=u,p[10]=d,p[14]=f,p[3]=h,p[7]=g,p[11]=m,p[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Wn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/ed.setFromMatrixColumn(e,0).length(),o=1/ed.setFromMatrixColumn(e,1).length(),s=1/ed.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const f=s*u,h=s*d,g=a*u,m=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=h+g*c,n[5]=f-m*c,n[9]=-a*l,n[2]=m-f*c,n[6]=g+h*c,n[10]=s*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,g=c*u,m=c*d;n[0]=f+m*a,n[4]=g*a-h,n[8]=s*c,n[1]=s*d,n[5]=s*u,n[9]=-a,n[2]=h*a-g,n[6]=m+f*a,n[10]=s*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,g=c*u,m=c*d;n[0]=f-m*a,n[4]=-s*d,n[8]=g+h*a,n[1]=h+g*a,n[5]=s*u,n[9]=m-f*a,n[2]=-s*c,n[6]=a,n[10]=s*l}else if(e.order==="ZYX"){const f=s*u,h=s*d,g=a*u,m=a*d;n[0]=l*u,n[4]=g*c-h,n[8]=f*c+m,n[1]=l*d,n[5]=m*c+f,n[9]=h*c-g,n[2]=-c,n[6]=a*l,n[10]=s*l}else if(e.order==="YZX"){const f=s*l,h=s*c,g=a*l,m=a*c;n[0]=l*u,n[4]=m-f*d,n[8]=g*d+h,n[1]=d,n[5]=s*u,n[9]=-a*u,n[2]=-c*u,n[6]=h*d+g,n[10]=f-m*d}else if(e.order==="XZY"){const f=s*l,h=s*c,g=a*l,m=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+m,n[5]=s*u,n[9]=h*d-g,n[2]=g*d-h,n[6]=a*u,n[10]=m*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Ave,e,_ve)}lookAt(e,n,r){const i=this.elements;return Wi.subVectors(e,n),Wi.lengthSq()===0&&(Wi.z=1),Wi.normalize(),ll.crossVectors(r,Wi),ll.lengthSq()===0&&(Math.abs(r.z)===1?Wi.x+=1e-4:Wi.z+=1e-4,Wi.normalize(),ll.crossVectors(r,Wi)),ll.normalize(),_g.crossVectors(Wi,ll),i[0]=ll.x,i[4]=_g.x,i[8]=Wi.x,i[1]=ll.y,i[5]=_g.y,i[9]=Wi.y,i[2]=ll.z,i[6]=_g.z,i[10]=Wi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],g=r[2],m=r[6],y=r[10],p=r[14],v=r[3],w=r[7],x=r[11],T=r[15],N=i[0],A=i[4],z=i[8],S=i[12],k=i[1],R=i[5],W=i[9],L=i[13],b=i[2],E=i[6],I=i[10],O=i[14],C=i[3],j=i[7],H=i[11],D=i[15];return o[0]=s*N+a*k+l*b+c*C,o[4]=s*A+a*R+l*E+c*j,o[8]=s*z+a*W+l*I+c*H,o[12]=s*S+a*L+l*O+c*D,o[1]=u*N+d*k+f*b+h*C,o[5]=u*A+d*R+f*E+h*j,o[9]=u*z+d*W+f*I+h*H,o[13]=u*S+d*L+f*O+h*D,o[2]=g*N+m*k+y*b+p*C,o[6]=g*A+m*R+y*E+p*j,o[10]=g*z+m*W+y*I+p*H,o[14]=g*S+m*L+y*O+p*D,o[3]=v*N+w*k+x*b+T*C,o[7]=v*A+w*R+x*E+T*j,o[11]=v*z+w*W+x*I+T*H,o[15]=v*S+w*L+x*O+T*D,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],g=e[3],m=e[7],y=e[11],p=e[15];return g*(+o*l*d-i*c*d-o*a*f+r*c*f+i*a*h-r*l*h)+m*(+n*l*h-n*c*f+o*s*f-i*s*h+i*c*u-o*l*u)+y*(+n*c*d-n*a*h-o*s*d+r*s*h+o*a*u-r*c*u)+p*(-i*a*u-n*l*d+n*a*f+i*s*d-r*s*f+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],g=e[12],m=e[13],y=e[14],p=e[15],v=d*y*c-m*f*c+m*l*h-a*y*h-d*l*p+a*f*p,w=g*f*c-u*y*c-g*l*h+s*y*h+u*l*p-s*f*p,x=u*m*c-g*d*c+g*a*h-s*m*h-u*a*p+s*d*p,T=g*d*l-u*m*l-g*a*f+s*m*f+u*a*y-s*d*y,N=n*v+r*w+i*x+o*T;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/N;return e[0]=v*A,e[1]=(m*f*o-d*y*o-m*i*h+r*y*h+d*i*p-r*f*p)*A,e[2]=(a*y*o-m*l*o+m*i*c-r*y*c-a*i*p+r*l*p)*A,e[3]=(d*l*o-a*f*o-d*i*c+r*f*c+a*i*h-r*l*h)*A,e[4]=w*A,e[5]=(u*y*o-g*f*o+g*i*h-n*y*h-u*i*p+n*f*p)*A,e[6]=(g*l*o-s*y*o-g*i*c+n*y*c+s*i*p-n*l*p)*A,e[7]=(s*f*o-u*l*o+u*i*c-n*f*c-s*i*h+n*l*h)*A,e[8]=x*A,e[9]=(g*d*o-u*m*o-g*r*h+n*m*h+u*r*p-n*d*p)*A,e[10]=(s*m*o-g*a*o+g*r*c-n*m*c-s*r*p+n*a*p)*A,e[11]=(u*a*o-s*d*o-u*r*c+n*d*c+s*r*h-n*a*h)*A,e[12]=T*A,e[13]=(u*m*i-g*d*i+g*r*f-n*m*f-u*r*y+n*d*y)*A,e[14]=(g*a*i-s*m*i-g*r*l+n*m*l+s*r*y-n*a*y)*A,e[15]=(s*d*i-u*a*i+u*r*l-n*d*l-s*r*f+n*a*f)*A,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,s=e.x,a=e.y,l=e.z,c=o*s,u=o*a;return this.set(c*s+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*s,0,c*l-i*a,u*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,s=n._y,a=n._z,l=n._w,c=o+o,u=s+s,d=a+a,f=o*c,h=o*u,g=o*d,m=s*u,y=s*d,p=a*d,v=l*c,w=l*u,x=l*d,T=r.x,N=r.y,A=r.z;return i[0]=(1-(m+p))*T,i[1]=(h+x)*T,i[2]=(g-w)*T,i[3]=0,i[4]=(h-x)*N,i[5]=(1-(f+p))*N,i[6]=(y+v)*N,i[7]=0,i[8]=(g+w)*A,i[9]=(y-v)*A,i[10]=(1-(f+m))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=ed.set(i[0],i[1],i[2]).length();const s=ed.set(i[4],i[5],i[6]).length(),a=ed.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],Vo.copy(this);const c=1/o,u=1/s,d=1/a;return Vo.elements[0]*=c,Vo.elements[1]*=c,Vo.elements[2]*=c,Vo.elements[4]*=u,Vo.elements[5]*=u,Vo.elements[6]*=u,Vo.elements[8]*=d,Vo.elements[9]*=d,Vo.elements[10]*=d,n.setFromRotationMatrix(Vo),r.x=o,r.y=s,r.z=a,this}makePerspective(e,n,r,i,o,s,a=Ca){const l=this.elements,c=2*o/(n-e),u=2*o/(r-i),d=(n+e)/(n-e),f=(r+i)/(r-i);let h,g;if(a===Ca)h=-(s+o)/(s-o),g=-2*s*o/(s-o);else if(a===ow)h=-s/(s-o),g=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,s,a=Ca){const l=this.elements,c=1/(n-e),u=1/(r-i),d=1/(s-o),f=(n+e)*c,h=(r+i)*u;let g,m;if(a===Ca)g=(s+o)*d,m=-2*d;else if(a===ow)g=o*d,m=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=m,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const ed=new Se,Vo=new Wn,Ave=new Se(0,0,0),_ve=new Se(1,1,1),ll=new Se,_g=new Se,Wi=new Se,Uk=new Wn,zk=new v0;class Xs{constructor(e=0,n=0,r=0,i=Xs.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(Ci(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Ci(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(Ci(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Ci(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Ci(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Ci(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return Uk.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Uk,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return zk.setFromEuler(this),this.setFromQuaternion(zk,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Xs.DEFAULT_ORDER="XYZ";class Fj{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Sve=0;const jk=new Se,td=new v0,ia=new Wn,Sg=new Se,Lh=new Se,Cve=new Se,Tve=new v0,Gk=new Se(1,0,0),Hk=new Se(0,1,0),Wk=new Se(0,0,1),Vk={type:"added"},Mve={type:"removed"},nd={type:"childadded",child:null},hE={type:"childremoved",child:null};class Yr extends lh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Sve++}),this.uuid=y0(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Yr.DEFAULT_UP.clone();const e=new Se,n=new Xs,r=new v0,i=new Se(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Wn},normalMatrix:{value:new Lt}}),this.matrix=new Wn,this.matrixWorld=new Wn,this.matrixAutoUpdate=Yr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Yr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Fj,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return td.setFromAxisAngle(e,n),this.quaternion.multiply(td),this}rotateOnWorldAxis(e,n){return td.setFromAxisAngle(e,n),this.quaternion.premultiply(td),this}rotateX(e){return this.rotateOnAxis(Gk,e)}rotateY(e){return this.rotateOnAxis(Hk,e)}rotateZ(e){return this.rotateOnAxis(Wk,e)}translateOnAxis(e,n){return jk.copy(e).applyQuaternion(this.quaternion),this.position.add(jk.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(Gk,e)}translateY(e){return this.translateOnAxis(Hk,e)}translateZ(e){return this.translateOnAxis(Wk,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ia.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Sg.copy(e):Sg.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Lh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ia.lookAt(Lh,Sg,this.up):ia.lookAt(Sg,Lh,this.up),this.quaternion.setFromRotationMatrix(ia),i&&(ia.extractRotation(i.matrixWorld),td.setFromRotationMatrix(ia),this.quaternion.premultiply(td.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Vk),nd.child=e,this.dispatchEvent(nd),nd.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Mve),hE.child=e,this.dispatchEvent(hE),hE.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ia.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ia.multiply(e.parent.matrixWorld)),e.applyMatrix4(ia),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Vk),nd.child=e,this.dispatchEvent(nd),nd.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Lh,e,Cve),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Lh,Tve,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(o(e.animations,l))}}if(n){const a=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),f=s(e.skeletons),h=s(e.animations),g=s(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),g.length>0&&(r.nodes=g)}return r.object=i,r;function s(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Yr.DEFAULT_UP=new Se(0,1,0);Yr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Yr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const $o=new Se,oa=new Se,pE=new Se,sa=new Se,rd=new Se,id=new Se,$k=new Se,mE=new Se,gE=new Se,yE=new Se,vE=new Gn,wE=new Gn,bE=new Gn;class os{constructor(e=new Se,n=new Se,r=new Se){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),$o.subVectors(e,n),i.cross($o);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){$o.subVectors(i,n),oa.subVectors(r,n),pE.subVectors(e,n);const s=$o.dot($o),a=$o.dot(oa),l=$o.dot(pE),c=oa.dot(oa),u=oa.dot(pE),d=s*c-a*a;if(d===0)return o.set(0,0,0),null;const f=1/d,h=(c*l-a*u)*f,g=(s*u-a*l)*f;return o.set(1-h-g,g,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,sa)===null?!1:sa.x>=0&&sa.y>=0&&sa.x+sa.y<=1}static getInterpolation(e,n,r,i,o,s,a,l){return this.getBarycoord(e,n,r,i,sa)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,sa.x),l.addScaledVector(s,sa.y),l.addScaledVector(a,sa.z),l)}static getInterpolatedAttribute(e,n,r,i,o,s){return vE.setScalar(0),wE.setScalar(0),bE.setScalar(0),vE.fromBufferAttribute(e,n),wE.fromBufferAttribute(e,r),bE.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(vE,o.x),s.addScaledVector(wE,o.y),s.addScaledVector(bE,o.z),s}static isFrontFacing(e,n,r,i){return $o.subVectors(r,n),oa.subVectors(e,n),$o.cross(oa).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return $o.subVectors(this.c,this.b),oa.subVectors(this.a,this.b),$o.cross(oa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return os.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return os.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return os.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return os.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return os.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let s,a;rd.subVectors(i,r),id.subVectors(o,r),mE.subVectors(e,r);const l=rd.dot(mE),c=id.dot(mE);if(l<=0&&c<=0)return n.copy(r);gE.subVectors(e,i);const u=rd.dot(gE),d=id.dot(gE);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return s=l/(l-u),n.copy(r).addScaledVector(rd,s);yE.subVectors(e,o);const h=rd.dot(yE),g=id.dot(yE);if(g>=0&&h<=g)return n.copy(o);const m=h*c-l*g;if(m<=0&&c>=0&&g<=0)return a=c/(c-g),n.copy(r).addScaledVector(id,a);const y=u*g-h*d;if(y<=0&&d-u>=0&&h-g>=0)return $k.subVectors(o,i),a=(d-u)/(d-u+(h-g)),n.copy(i).addScaledVector($k,a);const p=1/(y+m+f);return s=m*p,a=f*p,n.copy(r).addScaledVector(rd,s).addScaledVector(id,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Oj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},cl={h:0,s:0,l:0},Cg={h:0,s:0,l:0};function xE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class tn{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=$r){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Jt.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Jt.workingColorSpace){return this.r=e,this.g=n,this.b=r,Jt.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Jt.workingColorSpace){if(e=dve(e,1),n=Ci(n,0,1),r=Ci(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=xE(s,o,e+1/3),this.g=xE(s,o,e),this.b=xE(s,o,e-1/3)}return Jt.toWorkingColorSpace(this,i),this}setStyle(e,n=$r){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=$r){const r=Oj[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ka(e.r),this.g=ka(e.g),this.b=ka(e.b),this}copyLinearToSRGB(e){return this.r=Kd(e.r),this.g=Kd(e.g),this.b=Kd(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=$r){return Jt.fromWorkingColorSpace(Wr.copy(this),e),Math.round(Ci(Wr.r*255,0,255))*65536+Math.round(Ci(Wr.g*255,0,255))*256+Math.round(Ci(Wr.b*255,0,255))}getHexString(e=$r){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Jt.workingColorSpace){Jt.fromWorkingColorSpace(Wr.copy(this),n);const r=Wr.r,i=Wr.g,o=Wr.b,s=Math.max(r,i,o),a=Math.min(r,i,o);let l,c;const u=(a+s)/2;if(a===s)l=0,c=0;else{const d=s-a;switch(c=u<=.5?d/(s+a):d/(2-s-a),s){case r:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-r)/d+2;break;case o:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Jt.workingColorSpace){return Jt.fromWorkingColorSpace(Wr.copy(this),n),e.r=Wr.r,e.g=Wr.g,e.b=Wr.b,e}getStyle(e=$r){Jt.fromWorkingColorSpace(Wr.copy(this),e);const n=Wr.r,r=Wr.g,i=Wr.b;return e!==$r?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(cl),this.setHSL(cl.h+e,cl.s+n,cl.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(cl),e.getHSL(Cg);const r=iE(cl.h,Cg.h,n),i=iE(cl.s,Cg.s,n),o=iE(cl.l,Cg.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Wr=new tn;tn.NAMES=Oj;let Ive=0;class b0 extends lh{static get type(){return"Material"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ive++}),this.uuid=y0(),this.name="",this.blending=$d,this.side=ql,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=B_,this.blendDst=L_,this.blendEquation=Sc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new tn(0,0,0),this.blendAlpha=0,this.depthFunc=Rf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Ik,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Qu,this.stencilZFail=Qu,this.stencilZPass=Qu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==$d&&(r.blending=this.blending),this.side!==ql&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==B_&&(r.blendSrc=this.blendSrc),this.blendDst!==L_&&(r.blendDst=this.blendDst),this.blendEquation!==Sc&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Rf&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Ik&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Qu&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Qu&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Qu&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(n){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Bj extends b0{static get type(){return"MeshBasicMaterial"}constructor(e){super(),this.isMeshBasicMaterial=!0,this.color=new tn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Xs,this.combine=H3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Jn=new Se,Tg=new sn;class Hs{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Rk,this.updateRanges=[],this.gpuType=Sa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Tg.fromBufferAttribute(this,n),Tg.applyMatrix3(e),this.setXY(n,Tg.x,Tg.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Jn.fromBufferAttribute(this,n),Jn.applyMatrix3(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Jn.fromBufferAttribute(this,n),Jn.applyMatrix4(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Jn.fromBufferAttribute(this,n),Jn.applyNormalMatrix(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Jn.fromBufferAttribute(this,n),Jn.transformDirection(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Fh(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=xi(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Fh(n,this.array)),n}setX(e,n){return this.normalized&&(n=xi(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Fh(n,this.array)),n}setY(e,n){return this.normalized&&(n=xi(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Fh(n,this.array)),n}setZ(e,n){return this.normalized&&(n=xi(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Fh(n,this.array)),n}setW(e,n){return this.normalized&&(n=xi(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=xi(n,this.array),r=xi(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=xi(n,this.array),r=xi(r,this.array),i=xi(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=xi(n,this.array),r=xi(r,this.array),i=xi(i,this.array),o=xi(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Rk&&(e.usage=this.usage),e}}class Lj extends Hs{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Dj extends Hs{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Ws extends Hs{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Rve=0;const yo=new Wn,EE=new Yr,od=new Se,Vi=new w0,Dh=new w0,wr=new Se;class nc extends lh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Rve++}),this.uuid=y0(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Pj(e)?Dj:Lj)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Lt().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return yo.makeRotationFromQuaternion(e),this.applyMatrix4(yo),this}rotateX(e){return yo.makeRotationX(e),this.applyMatrix4(yo),this}rotateY(e){return yo.makeRotationY(e),this.applyMatrix4(yo),this}rotateZ(e){return yo.makeRotationZ(e),this.applyMatrix4(yo),this}translate(e,n,r){return yo.makeTranslation(e,n,r),this.applyMatrix4(yo),this}scale(e,n,r){return yo.makeScale(e,n,r),this.applyMatrix4(yo),this}lookAt(e){return EE.lookAt(e),EE.updateMatrix(),this.applyMatrix4(EE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(od).negate(),this.translate(od.x,od.y,od.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,o=e.length;i<o;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Ws(r,3))}else{for(let r=0,i=n.count;r<i;r++){const o=e[r];n.setXYZ(r,o.x,o.y,o.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new w0);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Se(-1/0,-1/0,-1/0),new Se(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Vi.setFromBufferAttribute(o),this.morphTargetsRelative?(wr.addVectors(this.boundingBox.min,Vi.min),this.boundingBox.expandByPoint(wr),wr.addVectors(this.boundingBox.max,Vi.max),this.boundingBox.expandByPoint(wr)):(this.boundingBox.expandByPoint(Vi.min),this.boundingBox.expandByPoint(Vi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new X3);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Se,1/0);return}if(e){const r=this.boundingSphere.center;if(Vi.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const a=n[o];Dh.setFromBufferAttribute(a),this.morphTargetsRelative?(wr.addVectors(Vi.min,Dh.min),Vi.expandByPoint(wr),wr.addVectors(Vi.max,Dh.max),Vi.expandByPoint(wr)):(Vi.expandByPoint(Dh.min),Vi.expandByPoint(Dh.max))}Vi.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)wr.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(wr));if(n)for(let o=0,s=n.length;o<s;o++){const a=n[o],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)wr.fromBufferAttribute(a,c),l&&(od.fromBufferAttribute(e,c),wr.add(od)),i=Math.max(i,r.distanceToSquared(wr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Hs(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),a=[],l=[];for(let z=0;z<r.count;z++)a[z]=new Se,l[z]=new Se;const c=new Se,u=new Se,d=new Se,f=new sn,h=new sn,g=new sn,m=new Se,y=new Se;function p(z,S,k){c.fromBufferAttribute(r,z),u.fromBufferAttribute(r,S),d.fromBufferAttribute(r,k),f.fromBufferAttribute(o,z),h.fromBufferAttribute(o,S),g.fromBufferAttribute(o,k),u.sub(c),d.sub(c),h.sub(f),g.sub(f);const R=1/(h.x*g.y-g.x*h.y);isFinite(R)&&(m.copy(u).multiplyScalar(g.y).addScaledVector(d,-h.y).multiplyScalar(R),y.copy(d).multiplyScalar(h.x).addScaledVector(u,-g.x).multiplyScalar(R),a[z].add(m),a[S].add(m),a[k].add(m),l[z].add(y),l[S].add(y),l[k].add(y))}let v=this.groups;v.length===0&&(v=[{start:0,count:e.count}]);for(let z=0,S=v.length;z<S;++z){const k=v[z],R=k.start,W=k.count;for(let L=R,b=R+W;L<b;L+=3)p(e.getX(L+0),e.getX(L+1),e.getX(L+2))}const w=new Se,x=new Se,T=new Se,N=new Se;function A(z){T.fromBufferAttribute(i,z),N.copy(T);const S=a[z];w.copy(S),w.sub(T.multiplyScalar(T.dot(S))).normalize(),x.crossVectors(N,S);const R=x.dot(l[z])<0?-1:1;s.setXYZW(z,w.x,w.y,w.z,R)}for(let z=0,S=v.length;z<S;++z){const k=v[z],R=k.start,W=k.count;for(let L=R,b=R+W;L<b;L+=3)A(e.getX(L+0)),A(e.getX(L+1)),A(e.getX(L+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Hs(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new Se,o=new Se,s=new Se,a=new Se,l=new Se,c=new Se,u=new Se,d=new Se;if(e)for(let f=0,h=e.count;f<h;f+=3){const g=e.getX(f+0),m=e.getX(f+1),y=e.getX(f+2);i.fromBufferAttribute(n,g),o.fromBufferAttribute(n,m),s.fromBufferAttribute(n,y),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,m),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let f=0,h=n.count;f<h;f+=3)i.fromBufferAttribute(n,f+0),o.fromBufferAttribute(n,f+1),s.fromBufferAttribute(n,f+2),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)wr.fromBufferAttribute(e,n),wr.normalize(),e.setXYZ(n,wr.x,wr.y,wr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let h=0,g=0;for(let m=0,y=l.length;m<y;m++){a.isInterleavedBufferAttribute?h=l[m]*a.data.stride+a.offset:h=l[m]*u;for(let p=0;p<u;p++)f[g++]=c[h++]}return new Hs(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new nc,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const l=[],c=o[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,r);l.push(h)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const c=s[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],d=o[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const qk=new Wn,cc=new Eve,Mg=new X3,Kk=new Se,Ig=new Se,Rg=new Se,Pg=new Se,AE=new Se,kg=new Se,Qk=new Se,Ng=new Se;class as extends Yr{constructor(e=new nc,n=new Bj){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(o&&a){kg.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=a[l],d=o[l];u!==0&&(AE.fromBufferAttribute(d,e),s?kg.addScaledVector(AE,u):kg.addScaledVector(AE.sub(n),u))}n.add(kg)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Mg.copy(r.boundingSphere),Mg.applyMatrix4(o),cc.copy(e.ray).recast(e.near),!(Mg.containsPoint(cc.origin)===!1&&(cc.intersectSphere(Mg,Kk)===null||cc.origin.distanceToSquared(Kk)>(e.far-e.near)**2))&&(qk.copy(o).invert(),cc.copy(e.ray).applyMatrix4(qk),!(r.boundingBox!==null&&cc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,cc)))}_computeIntersections(e,n,r){let i;const o=this.geometry,s=this.material,a=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,d=o.attributes.normal,f=o.groups,h=o.drawRange;if(a!==null)if(Array.isArray(s))for(let g=0,m=f.length;g<m;g++){const y=f[g],p=s[y.materialIndex],v=Math.max(y.start,h.start),w=Math.min(a.count,Math.min(y.start+y.count,h.start+h.count));for(let x=v,T=w;x<T;x+=3){const N=a.getX(x),A=a.getX(x+1),z=a.getX(x+2);i=Fg(this,p,e,r,c,u,d,N,A,z),i&&(i.faceIndex=Math.floor(x/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,h.start),m=Math.min(a.count,h.start+h.count);for(let y=g,p=m;y<p;y+=3){const v=a.getX(y),w=a.getX(y+1),x=a.getX(y+2);i=Fg(this,s,e,r,c,u,d,v,w,x),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let g=0,m=f.length;g<m;g++){const y=f[g],p=s[y.materialIndex],v=Math.max(y.start,h.start),w=Math.min(l.count,Math.min(y.start+y.count,h.start+h.count));for(let x=v,T=w;x<T;x+=3){const N=x,A=x+1,z=x+2;i=Fg(this,p,e,r,c,u,d,N,A,z),i&&(i.faceIndex=Math.floor(x/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,h.start),m=Math.min(l.count,h.start+h.count);for(let y=g,p=m;y<p;y+=3){const v=y,w=y+1,x=y+2;i=Fg(this,s,e,r,c,u,d,v,w,x),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function Pve(t,e,n,r,i,o,s,a){let l;if(e.side===zi?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side===ql,a),l===null)return null;Ng.copy(a),Ng.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Ng);return c<n.near||c>n.far?null:{distance:c,point:Ng.clone(),object:t}}function Fg(t,e,n,r,i,o,s,a,l,c){t.getVertexPosition(a,Ig),t.getVertexPosition(l,Rg),t.getVertexPosition(c,Pg);const u=Pve(t,e,n,r,Ig,Rg,Pg,Qk);if(u){const d=new Se;os.getBarycoord(Qk,Ig,Rg,Pg,d),i&&(u.uv=os.getInterpolatedAttribute(i,a,l,c,d,new sn)),o&&(u.uv1=os.getInterpolatedAttribute(o,a,l,c,d,new sn)),s&&(u.normal=os.getInterpolatedAttribute(s,a,l,c,d,new Se),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new Se,materialIndex:0};os.getNormal(Ig,Rg,Pg,f.normal),u.face=f,u.barycoord=d}return u}class x0 extends nc{constructor(e=1,n=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const l=[],c=[],u=[],d=[];let f=0,h=0;g("z","y","x",-1,-1,r,n,e,s,o,0),g("z","y","x",1,-1,r,n,-e,s,o,1),g("x","z","y",1,1,e,r,n,i,s,2),g("x","z","y",1,-1,e,r,-n,i,s,3),g("x","y","z",1,-1,e,n,r,i,o,4),g("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Ws(c,3)),this.setAttribute("normal",new Ws(u,3)),this.setAttribute("uv",new Ws(d,2));function g(m,y,p,v,w,x,T,N,A,z,S){const k=x/A,R=T/z,W=x/2,L=T/2,b=N/2,E=A+1,I=z+1;let O=0,C=0;const j=new Se;for(let H=0;H<I;H++){const D=H*R-L;for(let M=0;M<E;M++){const $=M*k-W;j[m]=$*v,j[y]=D*w,j[p]=b,c.push(j.x,j.y,j.z),j[m]=0,j[y]=0,j[p]=N>0?1:-1,u.push(j.x,j.y,j.z),d.push(M/A),d.push(1-H/z),O+=1}}for(let H=0;H<z;H++)for(let D=0;D<A;D++){const M=f+D+E*H,$=f+D+E*(H+1),J=f+(D+1)+E*(H+1),Z=f+(D+1)+E*H;l.push(M,$,Z),l.push($,J,Z),C+=6}a.addGroup(h,C,S),h+=C,f+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new x0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Of(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ei(t){const e={};for(let n=0;n<t.length;n++){const r=Of(t[n]);for(const i in r)e[i]=r[i]}return e}function kve(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Uj(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Jt.workingColorSpace}const Nve={clone:Of,merge:ei};var Fve=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Ove=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Kl extends b0{static get type(){return"ShaderMaterial"}constructor(e){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Fve,this.fragmentShader=Ove,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Of(e.uniforms),this.uniformsGroups=kve(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class zj extends Yr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Wn,this.projectionMatrix=new Wn,this.projectionMatrixInverse=new Wn,this.coordinateSystem=Ca}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ul=new Se,Xk=new sn,Yk=new sn;class Zi extends zj{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=xS*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(rE*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return xS*2*Math.atan(Math.tan(rE*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){ul.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ul.x,ul.y).multiplyScalar(-e/ul.z),ul.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(ul.x,ul.y).multiplyScalar(-e/ul.z)}getViewSize(e,n){return this.getViewBounds(e,Xk,Yk),n.subVectors(Yk,Xk)}setViewOffset(e,n,r,i,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(rE*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/l,n-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const sd=-90,ad=1;class Bve extends Yr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Zi(sd,ad,e,n);i.layers=this.layers,this.add(i);const o=new Zi(sd,ad,e,n);o.layers=this.layers,this.add(o);const s=new Zi(sd,ad,e,n);s.layers=this.layers,this.add(s);const a=new Zi(sd,ad,e,n);a.layers=this.layers,this.add(a);const l=new Zi(sd,ad,e,n);l.layers=this.layers,this.add(l);const c=new Zi(sd,ad,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,s,a,l]=n;for(const c of n)this.remove(c);if(e===Ca)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===ow)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,s,a,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,s),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=m,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(d,f,h),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class jj extends Xr{constructor(e,n,r,i,o,s,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Pf,super(e,n,r,i,o,s,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Lve extends _u{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new jj(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Pi}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new x0(5,5,5),o=new Kl({name:"CubemapFromEquirect",uniforms:Of(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:zi,blending:Dl});o.uniforms.tEquirect.value=n;const s=new as(i,o),a=n.minFilter;return n.minFilter===Hc&&(n.minFilter=Pi),new Bve(1,10,this).update(e,s),n.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(o)}}const _E=new Se,Dve=new Se,Uve=new Lt;class yc{constructor(e=new Se(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=_E.subVectors(r,n).cross(Dve.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(_E),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Uve.getNormalMatrix(e),i=this.coplanarPoint(_E).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const uc=new X3,Og=new Se;class Y3{constructor(e=new yc,n=new yc,r=new yc,i=new yc,o=new yc,s=new yc){this.planes=[e,n,r,i,o,s]}set(e,n,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ca){const r=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],h=i[8],g=i[9],m=i[10],y=i[11],p=i[12],v=i[13],w=i[14],x=i[15];if(r[0].setComponents(l-o,f-c,y-h,x-p).normalize(),r[1].setComponents(l+o,f+c,y+h,x+p).normalize(),r[2].setComponents(l+s,f+u,y+g,x+v).normalize(),r[3].setComponents(l-s,f-u,y-g,x-v).normalize(),r[4].setComponents(l-a,f-d,y-m,x-w).normalize(),n===Ca)r[5].setComponents(l+a,f+d,y+m,x+w).normalize();else if(n===ow)r[5].setComponents(a,d,m,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),uc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),uc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(uc)}intersectsSprite(e){return uc.center.set(0,0,0),uc.radius=.7071067811865476,uc.applyMatrix4(e.matrixWorld),this.intersectsSphere(uc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Og.x=i.normal.x>0?e.max.x:e.min.x,Og.y=i.normal.y>0?e.max.y:e.min.y,Og.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Og)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Gj(){let t=null,e=!1,n=null,r=null;function i(o,s){n(o,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function zve(t){const e=new WeakMap;function n(a,l){const c=a.array,u=a.usage,d=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,u),a.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function r(a,l,c){const u=l.array,d=l.updateRanges;if(t.bindBuffer(c,a),d.length===0)t.bufferSubData(c,0,u);else{d.sort((h,g)=>h.start-g.start);let f=0;for(let h=1;h<d.length;h++){const g=d[f],m=d[h];m.start<=g.start+g.count+1?g.count=Math.max(g.count,m.start+m.count-g.start):(++f,d[f]=m)}d.length=f+1;for(let h=0,g=d.length;h<g;h++){const m=d[h];t.bufferSubData(c,m.start*u.BYTES_PER_ELEMENT,u,m.start,m.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function s(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:o,update:s}}class ob extends nc{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,s=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,f=n/l,h=[],g=[],m=[],y=[];for(let p=0;p<u;p++){const v=p*f-s;for(let w=0;w<c;w++){const x=w*d-o;g.push(x,-v,0),m.push(0,0,1),y.push(w/a),y.push(1-p/l)}}for(let p=0;p<l;p++)for(let v=0;v<a;v++){const w=v+c*p,x=v+c*(p+1),T=v+1+c*(p+1),N=v+1+c*p;h.push(w,x,N),h.push(x,T,N)}this.setIndex(h),this.setAttribute("position",new Ws(g,3)),this.setAttribute("normal",new Ws(m,3)),this.setAttribute("uv",new Ws(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ob(e.width,e.height,e.widthSegments,e.heightSegments)}}var jve=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Gve=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Hve=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Wve=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Vve=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,$ve=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,qve=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Kve=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Qve=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Xve=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Yve=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Jve=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Zve=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,ewe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,twe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,nwe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,rwe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,iwe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,owe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,swe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,awe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,lwe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,cwe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,uwe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,dwe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,fwe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,hwe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,pwe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,mwe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,gwe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ywe="gl_FragColor = linearToOutputTexel( gl_FragColor );",vwe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,wwe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,bwe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,xwe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Ewe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Awe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,_we=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Swe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Cwe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Twe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Mwe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Iwe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Rwe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Pwe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,kwe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Nwe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Fwe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Owe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Bwe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Lwe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Dwe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Uwe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,zwe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,jwe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Gwe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Hwe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Wwe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Vwe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,$we=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,qwe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Kwe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Qwe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Xwe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ywe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Jwe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Zwe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,e1e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,t1e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,n1e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,r1e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,i1e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,o1e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,s1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,a1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,l1e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,c1e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,u1e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,d1e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,f1e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,h1e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,p1e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,m1e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,g1e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,y1e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,v1e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,w1e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,b1e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,x1e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,E1e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,A1e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,_1e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,S1e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,C1e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,T1e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,M1e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,I1e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,R1e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,P1e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,k1e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,N1e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,F1e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,O1e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,B1e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,L1e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,D1e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,U1e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const z1e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,j1e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,G1e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,H1e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,W1e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,V1e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$1e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,q1e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,K1e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Q1e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,X1e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Y1e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,J1e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Z1e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ebe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,tbe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nbe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rbe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ibe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,obe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sbe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,abe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,lbe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cbe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ube=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,dbe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fbe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hbe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pbe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,mbe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,gbe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ybe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vbe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,wbe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ut={alphahash_fragment:jve,alphahash_pars_fragment:Gve,alphamap_fragment:Hve,alphamap_pars_fragment:Wve,alphatest_fragment:Vve,alphatest_pars_fragment:$ve,aomap_fragment:qve,aomap_pars_fragment:Kve,batching_pars_vertex:Qve,batching_vertex:Xve,begin_vertex:Yve,beginnormal_vertex:Jve,bsdfs:Zve,iridescence_fragment:ewe,bumpmap_pars_fragment:twe,clipping_planes_fragment:nwe,clipping_planes_pars_fragment:rwe,clipping_planes_pars_vertex:iwe,clipping_planes_vertex:owe,color_fragment:swe,color_pars_fragment:awe,color_pars_vertex:lwe,color_vertex:cwe,common:uwe,cube_uv_reflection_fragment:dwe,defaultnormal_vertex:fwe,displacementmap_pars_vertex:hwe,displacementmap_vertex:pwe,emissivemap_fragment:mwe,emissivemap_pars_fragment:gwe,colorspace_fragment:ywe,colorspace_pars_fragment:vwe,envmap_fragment:wwe,envmap_common_pars_fragment:bwe,envmap_pars_fragment:xwe,envmap_pars_vertex:Ewe,envmap_physical_pars_fragment:Nwe,envmap_vertex:Awe,fog_vertex:_we,fog_pars_vertex:Swe,fog_fragment:Cwe,fog_pars_fragment:Twe,gradientmap_pars_fragment:Mwe,lightmap_pars_fragment:Iwe,lights_lambert_fragment:Rwe,lights_lambert_pars_fragment:Pwe,lights_pars_begin:kwe,lights_toon_fragment:Fwe,lights_toon_pars_fragment:Owe,lights_phong_fragment:Bwe,lights_phong_pars_fragment:Lwe,lights_physical_fragment:Dwe,lights_physical_pars_fragment:Uwe,lights_fragment_begin:zwe,lights_fragment_maps:jwe,lights_fragment_end:Gwe,logdepthbuf_fragment:Hwe,logdepthbuf_pars_fragment:Wwe,logdepthbuf_pars_vertex:Vwe,logdepthbuf_vertex:$we,map_fragment:qwe,map_pars_fragment:Kwe,map_particle_fragment:Qwe,map_particle_pars_fragment:Xwe,metalnessmap_fragment:Ywe,metalnessmap_pars_fragment:Jwe,morphinstance_vertex:Zwe,morphcolor_vertex:e1e,morphnormal_vertex:t1e,morphtarget_pars_vertex:n1e,morphtarget_vertex:r1e,normal_fragment_begin:i1e,normal_fragment_maps:o1e,normal_pars_fragment:s1e,normal_pars_vertex:a1e,normal_vertex:l1e,normalmap_pars_fragment:c1e,clearcoat_normal_fragment_begin:u1e,clearcoat_normal_fragment_maps:d1e,clearcoat_pars_fragment:f1e,iridescence_pars_fragment:h1e,opaque_fragment:p1e,packing:m1e,premultiplied_alpha_fragment:g1e,project_vertex:y1e,dithering_fragment:v1e,dithering_pars_fragment:w1e,roughnessmap_fragment:b1e,roughnessmap_pars_fragment:x1e,shadowmap_pars_fragment:E1e,shadowmap_pars_vertex:A1e,shadowmap_vertex:_1e,shadowmask_pars_fragment:S1e,skinbase_vertex:C1e,skinning_pars_vertex:T1e,skinning_vertex:M1e,skinnormal_vertex:I1e,specularmap_fragment:R1e,specularmap_pars_fragment:P1e,tonemapping_fragment:k1e,tonemapping_pars_fragment:N1e,transmission_fragment:F1e,transmission_pars_fragment:O1e,uv_pars_fragment:B1e,uv_pars_vertex:L1e,uv_vertex:D1e,worldpos_vertex:U1e,background_vert:z1e,background_frag:j1e,backgroundCube_vert:G1e,backgroundCube_frag:H1e,cube_vert:W1e,cube_frag:V1e,depth_vert:$1e,depth_frag:q1e,distanceRGBA_vert:K1e,distanceRGBA_frag:Q1e,equirect_vert:X1e,equirect_frag:Y1e,linedashed_vert:J1e,linedashed_frag:Z1e,meshbasic_vert:ebe,meshbasic_frag:tbe,meshlambert_vert:nbe,meshlambert_frag:rbe,meshmatcap_vert:ibe,meshmatcap_frag:obe,meshnormal_vert:sbe,meshnormal_frag:abe,meshphong_vert:lbe,meshphong_frag:cbe,meshphysical_vert:ube,meshphysical_frag:dbe,meshtoon_vert:fbe,meshtoon_frag:hbe,points_vert:pbe,points_frag:mbe,shadow_vert:gbe,shadow_frag:ybe,sprite_vert:vbe,sprite_frag:wbe},lt={common:{diffuse:{value:new tn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Lt},alphaMap:{value:null},alphaMapTransform:{value:new Lt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Lt}},envmap:{envMap:{value:null},envMapRotation:{value:new Lt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Lt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Lt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Lt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Lt},normalScale:{value:new sn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Lt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Lt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Lt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Lt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new tn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new tn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Lt},alphaTest:{value:0},uvTransform:{value:new Lt}},sprite:{diffuse:{value:new tn(16777215)},opacity:{value:1},center:{value:new sn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Lt},alphaMap:{value:null},alphaMapTransform:{value:new Lt},alphaTest:{value:0}}},ks={basic:{uniforms:ei([lt.common,lt.specularmap,lt.envmap,lt.aomap,lt.lightmap,lt.fog]),vertexShader:Ut.meshbasic_vert,fragmentShader:Ut.meshbasic_frag},lambert:{uniforms:ei([lt.common,lt.specularmap,lt.envmap,lt.aomap,lt.lightmap,lt.emissivemap,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.fog,lt.lights,{emissive:{value:new tn(0)}}]),vertexShader:Ut.meshlambert_vert,fragmentShader:Ut.meshlambert_frag},phong:{uniforms:ei([lt.common,lt.specularmap,lt.envmap,lt.aomap,lt.lightmap,lt.emissivemap,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.fog,lt.lights,{emissive:{value:new tn(0)},specular:{value:new tn(1118481)},shininess:{value:30}}]),vertexShader:Ut.meshphong_vert,fragmentShader:Ut.meshphong_frag},standard:{uniforms:ei([lt.common,lt.envmap,lt.aomap,lt.lightmap,lt.emissivemap,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.roughnessmap,lt.metalnessmap,lt.fog,lt.lights,{emissive:{value:new tn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ut.meshphysical_vert,fragmentShader:Ut.meshphysical_frag},toon:{uniforms:ei([lt.common,lt.aomap,lt.lightmap,lt.emissivemap,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.gradientmap,lt.fog,lt.lights,{emissive:{value:new tn(0)}}]),vertexShader:Ut.meshtoon_vert,fragmentShader:Ut.meshtoon_frag},matcap:{uniforms:ei([lt.common,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.fog,{matcap:{value:null}}]),vertexShader:Ut.meshmatcap_vert,fragmentShader:Ut.meshmatcap_frag},points:{uniforms:ei([lt.points,lt.fog]),vertexShader:Ut.points_vert,fragmentShader:Ut.points_frag},dashed:{uniforms:ei([lt.common,lt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ut.linedashed_vert,fragmentShader:Ut.linedashed_frag},depth:{uniforms:ei([lt.common,lt.displacementmap]),vertexShader:Ut.depth_vert,fragmentShader:Ut.depth_frag},normal:{uniforms:ei([lt.common,lt.bumpmap,lt.normalmap,lt.displacementmap,{opacity:{value:1}}]),vertexShader:Ut.meshnormal_vert,fragmentShader:Ut.meshnormal_frag},sprite:{uniforms:ei([lt.sprite,lt.fog]),vertexShader:Ut.sprite_vert,fragmentShader:Ut.sprite_frag},background:{uniforms:{uvTransform:{value:new Lt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ut.background_vert,fragmentShader:Ut.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Lt}},vertexShader:Ut.backgroundCube_vert,fragmentShader:Ut.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ut.cube_vert,fragmentShader:Ut.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ut.equirect_vert,fragmentShader:Ut.equirect_frag},distanceRGBA:{uniforms:ei([lt.common,lt.displacementmap,{referencePosition:{value:new Se},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ut.distanceRGBA_vert,fragmentShader:Ut.distanceRGBA_frag},shadow:{uniforms:ei([lt.lights,lt.fog,{color:{value:new tn(0)},opacity:{value:1}}]),vertexShader:Ut.shadow_vert,fragmentShader:Ut.shadow_frag}};ks.physical={uniforms:ei([ks.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Lt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Lt},clearcoatNormalScale:{value:new sn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Lt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Lt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Lt},sheen:{value:0},sheenColor:{value:new tn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Lt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Lt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Lt},transmissionSamplerSize:{value:new sn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Lt},attenuationDistance:{value:0},attenuationColor:{value:new tn(0)},specularColor:{value:new tn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Lt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Lt},anisotropyVector:{value:new sn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Lt}}]),vertexShader:Ut.meshphysical_vert,fragmentShader:Ut.meshphysical_frag};const Bg={r:0,b:0,g:0},dc=new Xs,bbe=new Wn;function xbe(t,e,n,r,i,o,s){const a=new tn(0);let l=o===!0?0:1,c,u,d=null,f=0,h=null;function g(v){let w=v.isScene===!0?v.background:null;return w&&w.isTexture&&(w=(v.backgroundBlurriness>0?n:e).get(w)),w}function m(v){let w=!1;const x=g(v);x===null?p(a,l):x&&x.isColor&&(p(x,1),w=!0);const T=t.xr.getEnvironmentBlendMode();T==="additive"?r.buffers.color.setClear(0,0,0,1,s):T==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||w)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(v,w){const x=g(w);x&&(x.isCubeTexture||x.mapping===rb)?(u===void 0&&(u=new as(new x0(1,1,1),new Kl({name:"BackgroundCubeMaterial",uniforms:Of(ks.backgroundCube.uniforms),vertexShader:ks.backgroundCube.vertexShader,fragmentShader:ks.backgroundCube.fragmentShader,side:zi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(T,N,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),dc.copy(w.backgroundRotation),dc.x*=-1,dc.y*=-1,dc.z*=-1,x.isCubeTexture&&x.isRenderTargetTexture===!1&&(dc.y*=-1,dc.z*=-1),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(bbe.makeRotationFromEuler(dc)),u.material.toneMapped=Jt.getTransfer(x.colorSpace)!==pn,(d!==x||f!==x.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,d=x,f=x.version,h=t.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(c===void 0&&(c=new as(new ob(2,2),new Kl({name:"BackgroundMaterial",uniforms:Of(ks.background.uniforms),vertexShader:ks.background.vertexShader,fragmentShader:ks.background.fragmentShader,side:ql,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=x,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=Jt.getTransfer(x.colorSpace)!==pn,x.matrixAutoUpdate===!0&&x.updateMatrix(),c.material.uniforms.uvTransform.value.copy(x.matrix),(d!==x||f!==x.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,d=x,f=x.version,h=t.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}function p(v,w){v.getRGB(Bg,Uj(t)),r.buffers.color.setClear(Bg.r,Bg.g,Bg.b,w,s)}return{getClearColor:function(){return a},setClearColor:function(v,w=1){a.set(v),l=w,p(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,p(a,l)},render:m,addToRenderList:y}}function Ebe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let o=i,s=!1;function a(k,R,W,L,b){let E=!1;const I=d(L,W,R);o!==I&&(o=I,c(o.object)),E=h(k,L,W,b),E&&g(k,L,W,b),b!==null&&e.update(b,t.ELEMENT_ARRAY_BUFFER),(E||s)&&(s=!1,x(k,R,W,L),b!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(b).buffer))}function l(){return t.createVertexArray()}function c(k){return t.bindVertexArray(k)}function u(k){return t.deleteVertexArray(k)}function d(k,R,W){const L=W.wireframe===!0;let b=r[k.id];b===void 0&&(b={},r[k.id]=b);let E=b[R.id];E===void 0&&(E={},b[R.id]=E);let I=E[L];return I===void 0&&(I=f(l()),E[L]=I),I}function f(k){const R=[],W=[],L=[];for(let b=0;b<n;b++)R[b]=0,W[b]=0,L[b]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:R,enabledAttributes:W,attributeDivisors:L,object:k,attributes:{},index:null}}function h(k,R,W,L){const b=o.attributes,E=R.attributes;let I=0;const O=W.getAttributes();for(const C in O)if(O[C].location>=0){const H=b[C];let D=E[C];if(D===void 0&&(C==="instanceMatrix"&&k.instanceMatrix&&(D=k.instanceMatrix),C==="instanceColor"&&k.instanceColor&&(D=k.instanceColor)),H===void 0||H.attribute!==D||D&&H.data!==D.data)return!0;I++}return o.attributesNum!==I||o.index!==L}function g(k,R,W,L){const b={},E=R.attributes;let I=0;const O=W.getAttributes();for(const C in O)if(O[C].location>=0){let H=E[C];H===void 0&&(C==="instanceMatrix"&&k.instanceMatrix&&(H=k.instanceMatrix),C==="instanceColor"&&k.instanceColor&&(H=k.instanceColor));const D={};D.attribute=H,H&&H.data&&(D.data=H.data),b[C]=D,I++}o.attributes=b,o.attributesNum=I,o.index=L}function m(){const k=o.newAttributes;for(let R=0,W=k.length;R<W;R++)k[R]=0}function y(k){p(k,0)}function p(k,R){const W=o.newAttributes,L=o.enabledAttributes,b=o.attributeDivisors;W[k]=1,L[k]===0&&(t.enableVertexAttribArray(k),L[k]=1),b[k]!==R&&(t.vertexAttribDivisor(k,R),b[k]=R)}function v(){const k=o.newAttributes,R=o.enabledAttributes;for(let W=0,L=R.length;W<L;W++)R[W]!==k[W]&&(t.disableVertexAttribArray(W),R[W]=0)}function w(k,R,W,L,b,E,I){I===!0?t.vertexAttribIPointer(k,R,W,b,E):t.vertexAttribPointer(k,R,W,L,b,E)}function x(k,R,W,L){m();const b=L.attributes,E=W.getAttributes(),I=R.defaultAttributeValues;for(const O in E){const C=E[O];if(C.location>=0){let j=b[O];if(j===void 0&&(O==="instanceMatrix"&&k.instanceMatrix&&(j=k.instanceMatrix),O==="instanceColor"&&k.instanceColor&&(j=k.instanceColor)),j!==void 0){const H=j.normalized,D=j.itemSize,M=e.get(j);if(M===void 0)continue;const $=M.buffer,J=M.type,Z=M.bytesPerElement,ce=J===t.INT||J===t.UNSIGNED_INT||j.gpuType===W3;if(j.isInterleavedBufferAttribute){const oe=j.data,Ee=oe.stride,de=j.offset;if(oe.isInstancedInterleavedBuffer){for(let Re=0;Re<C.locationSize;Re++)p(C.location+Re,oe.meshPerAttribute);k.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let Re=0;Re<C.locationSize;Re++)y(C.location+Re);t.bindBuffer(t.ARRAY_BUFFER,$);for(let Re=0;Re<C.locationSize;Re++)w(C.location+Re,D/C.locationSize,J,H,Ee*Z,(de+D/C.locationSize*Re)*Z,ce)}else{if(j.isInstancedBufferAttribute){for(let oe=0;oe<C.locationSize;oe++)p(C.location+oe,j.meshPerAttribute);k.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=j.meshPerAttribute*j.count)}else for(let oe=0;oe<C.locationSize;oe++)y(C.location+oe);t.bindBuffer(t.ARRAY_BUFFER,$);for(let oe=0;oe<C.locationSize;oe++)w(C.location+oe,D/C.locationSize,J,H,D*Z,D/C.locationSize*oe*Z,ce)}}else if(I!==void 0){const H=I[O];if(H!==void 0)switch(H.length){case 2:t.vertexAttrib2fv(C.location,H);break;case 3:t.vertexAttrib3fv(C.location,H);break;case 4:t.vertexAttrib4fv(C.location,H);break;default:t.vertexAttrib1fv(C.location,H)}}}}v()}function T(){z();for(const k in r){const R=r[k];for(const W in R){const L=R[W];for(const b in L)u(L[b].object),delete L[b];delete R[W]}delete r[k]}}function N(k){if(r[k.id]===void 0)return;const R=r[k.id];for(const W in R){const L=R[W];for(const b in L)u(L[b].object),delete L[b];delete R[W]}delete r[k.id]}function A(k){for(const R in r){const W=r[R];if(W[k.id]===void 0)continue;const L=W[k.id];for(const b in L)u(L[b].object),delete L[b];delete W[k.id]}}function z(){S(),s=!0,o!==i&&(o=i,c(o.object))}function S(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:z,resetDefaultState:S,dispose:T,releaseStatesOfGeometry:N,releaseStatesOfProgram:A,initAttributes:m,enableAttribute:y,disableUnusedAttributes:v}}function Abe(t,e,n){let r;function i(c){r=c}function o(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function s(c,u,d){d!==0&&(t.drawArraysInstanced(r,c,u,d),n.update(u,r,d))}function a(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,d);let h=0;for(let g=0;g<d;g++)h+=u[g];n.update(h,r,1)}function l(c,u,d,f){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let g=0;g<c.length;g++)s(c[g],u[g],f[g]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,f,0,d);let g=0;for(let m=0;m<d;m++)g+=u[m]*f[m];n.update(g,r,1)}}this.setMode=i,this.render=o,this.renderInstances=s,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function _be(t,e,n,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(A){return!(A!==ss&&r.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(A){const z=A===g0&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(A!==Ga&&r.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&A!==Sa&&!z)}function l(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,f=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),v=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),w=t.getParameter(t.MAX_VARYING_VECTORS),x=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),T=g>0,N=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:f,maxTextures:h,maxVertexTextures:g,maxTextureSize:m,maxCubemapSize:y,maxAttributes:p,maxVertexUniforms:v,maxVaryings:w,maxFragmentUniforms:x,vertexTextures:T,maxSamples:N}}function Sbe(t){const e=this;let n=null,r=0,i=!1,o=!1;const s=new yc,a=new Lt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=d.length!==0||f||r!==0||i;return i=f,r=d.length,h},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,h){const g=d.clippingPlanes,m=d.clipIntersection,y=d.clipShadows,p=t.get(d);if(!i||g===null||g.length===0||o&&!y)o?u(null):c();else{const v=o?0:r,w=v*4;let x=p.clippingState||null;l.value=x,x=u(g,f,w,h);for(let T=0;T!==w;++T)x[T]=n[T];p.clippingState=x,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=v}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,h,g){const m=d!==null?d.length:0;let y=null;if(m!==0){if(y=l.value,g!==!0||y===null){const p=h+m*4,v=f.matrixWorldInverse;a.getNormalMatrix(v),(y===null||y.length<p)&&(y=new Float32Array(p));for(let w=0,x=h;w!==m;++w,x+=4)s.copy(d[w]).applyMatrix4(v,a),s.normal.toArray(y,x),y[x+3]=s.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,y}}function Cbe(t){let e=new WeakMap;function n(s,a){return a===V_?s.mapping=Pf:a===$_&&(s.mapping=kf),s}function r(s){if(s&&s.isTexture){const a=s.mapping;if(a===V_||a===$_)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new Lve(l.height);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",i),n(c.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class Hj extends zj{constructor(e=-1,n=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Md=4,Jk=[.125,.215,.35,.446,.526,.582],Cc=20,SE=new Hj,Zk=new tn;let CE=null,TE=0,ME=0,IE=!1;const vc=(1+Math.sqrt(5))/2,ld=1/vc,eN=[new Se(-vc,ld,0),new Se(vc,ld,0),new Se(-ld,0,vc),new Se(ld,0,vc),new Se(0,vc,-ld),new Se(0,vc,ld),new Se(-1,1,-1),new Se(1,1,-1),new Se(-1,1,1),new Se(1,1,1)];class tN{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){CE=this._renderer.getRenderTarget(),TE=this._renderer.getActiveCubeFace(),ME=this._renderer.getActiveMipmapLevel(),IE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=iN(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=rN(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(CE,TE,ME),this._renderer.xr.enabled=IE,e.scissorTest=!1,Lg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Pf||e.mapping===kf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),CE=this._renderer.getRenderTarget(),TE=this._renderer.getActiveCubeFace(),ME=this._renderer.getActiveMipmapLevel(),IE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Pi,minFilter:Pi,generateMipmaps:!1,type:g0,format:ss,colorSpace:ah,depthBuffer:!1},i=nN(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=nN(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Tbe(o)),this._blurMaterial=Mbe(o,e,n)}return i}_compileMaterial(e){const n=new as(this._lodPlanes[0],e);this._renderer.compile(n,SE)}_sceneToCubeUV(e,n,r,i){const a=new Zi(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(Zk),u.toneMapping=Ul,u.autoClear=!1;const h=new Bj({name:"PMREM.Background",side:zi,depthWrite:!1,depthTest:!1}),g=new as(new x0,h);let m=!1;const y=e.background;y?y.isColor&&(h.color.copy(y),e.background=null,m=!0):(h.color.copy(Zk),m=!0);for(let p=0;p<6;p++){const v=p%3;v===0?(a.up.set(0,l[p],0),a.lookAt(c[p],0,0)):v===1?(a.up.set(0,0,l[p]),a.lookAt(0,c[p],0)):(a.up.set(0,l[p],0),a.lookAt(0,0,c[p]));const w=this._cubeSize;Lg(i,v*w,p>2?w:0,w,w),u.setRenderTarget(i),m&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Pf||e.mapping===kf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=iN()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=rN());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new as(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const l=this._cubeSize;Lg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,SE)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let o=1;o<i;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),a=eN[(i-o-1)%eN.length];this._blur(e,o-1,o,s,a)}n.autoClear=r}_blur(e,n,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,s,a){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new as(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,g=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*Cc-1),m=o/g,y=isFinite(o)?1+Math.floor(u*m):Cc;y>Cc&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Cc}`);const p=[];let v=0;for(let A=0;A<Cc;++A){const z=A/m,S=Math.exp(-z*z/2);p.push(S),A===0?v+=S:A<y&&(v+=2*S)}for(let A=0;A<p.length;A++)p[A]=p[A]/v;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=p,f.latitudinal.value=s==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:w}=this;f.dTheta.value=g,f.mipInt.value=w-r;const x=this._sizeLods[i],T=3*x*(i>w-Md?i-w+Md:0),N=4*(this._cubeSize-x);Lg(n,T,N,3*x,2*x),l.setRenderTarget(n),l.render(d,SE)}}function Tbe(t){const e=[],n=[],r=[];let i=t;const o=t-Md+1+Jk.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);n.push(a);let l=1/a;s>t-Md?l=Jk[s-t+Md-1]:s===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,g=6,m=3,y=2,p=1,v=new Float32Array(m*g*h),w=new Float32Array(y*g*h),x=new Float32Array(p*g*h);for(let N=0;N<h;N++){const A=N%3*2/3-1,z=N>2?0:-1,S=[A,z,0,A+2/3,z,0,A+2/3,z+1,0,A,z,0,A+2/3,z+1,0,A,z+1,0];v.set(S,m*g*N),w.set(f,y*g*N);const k=[N,N,N,N,N,N];x.set(k,p*g*N)}const T=new nc;T.setAttribute("position",new Hs(v,m)),T.setAttribute("uv",new Hs(w,y)),T.setAttribute("faceIndex",new Hs(x,p)),e.push(T),i>Md&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function nN(t,e,n){const r=new _u(t,e,n);return r.texture.mapping=rb,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Lg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Mbe(t,e,n){const r=new Float32Array(Cc),i=new Se(0,1,0);return new Kl({name:"SphericalGaussianBlur",defines:{n:Cc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:J3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Dl,depthTest:!1,depthWrite:!1})}function rN(){return new Kl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:J3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Dl,depthTest:!1,depthWrite:!1})}function iN(){return new Kl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:J3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Dl,depthTest:!1,depthWrite:!1})}function J3(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Ibe(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===V_||l===$_,u=l===Pf||l===kf;if(c||u){let d=e.get(a);const f=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return n===null&&(n=new tN(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const h=a.image;return c&&h&&h.height>0||u&&h&&i(h)?(n===null&&(n=new tN(t)),d=c?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",o),d.texture):null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function o(a){const l=a.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function Rbe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Yh("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Pbe(t,e,n,r){const i={},o=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const g in f.attributes)e.remove(f.attributes[g]);for(const g in f.morphAttributes){const m=f.morphAttributes[g];for(let y=0,p=m.length;y<p;y++)e.remove(m[y])}f.removeEventListener("dispose",s),delete i[f.id];const h=o.get(f);h&&(e.remove(h),o.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",s),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const g in f)e.update(f[g],t.ARRAY_BUFFER);const h=d.morphAttributes;for(const g in h){const m=h[g];for(let y=0,p=m.length;y<p;y++)e.update(m[y],t.ARRAY_BUFFER)}}function c(d){const f=[],h=d.index,g=d.attributes.position;let m=0;if(h!==null){const v=h.array;m=h.version;for(let w=0,x=v.length;w<x;w+=3){const T=v[w+0],N=v[w+1],A=v[w+2];f.push(T,N,N,A,A,T)}}else if(g!==void 0){const v=g.array;m=g.version;for(let w=0,x=v.length/3-1;w<x;w+=3){const T=w+0,N=w+1,A=w+2;f.push(T,N,N,A,A,T)}}else return;const y=new(Pj(f)?Dj:Lj)(f,1);y.version=m;const p=o.get(d);p&&e.remove(p),o.set(d,y)}function u(d){const f=o.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return o.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function kbe(t,e,n){let r;function i(f){r=f}let o,s;function a(f){o=f.type,s=f.bytesPerElement}function l(f,h){t.drawElements(r,h,o,f*s),n.update(h,r,1)}function c(f,h,g){g!==0&&(t.drawElementsInstanced(r,h,o,f*s,g),n.update(h,r,g))}function u(f,h,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,o,f,0,g);let y=0;for(let p=0;p<g;p++)y+=h[p];n.update(y,r,1)}function d(f,h,g,m){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let p=0;p<f.length;p++)c(f[p]/s,h[p],m[p]);else{y.multiDrawElementsInstancedWEBGL(r,h,0,o,f,0,m,0,g);let p=0;for(let v=0;v<g;v++)p+=h[v]*m[v];n.update(p,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function Nbe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=a*(o/3);break;case t.LINES:n.lines+=a*(o/2);break;case t.LINE_STRIP:n.lines+=a*(o-1);break;case t.LINE_LOOP:n.lines+=a*o;break;case t.POINTS:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Fbe(t,e,n){const r=new WeakMap,i=new Gn;function o(s,a,l){const c=s.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=u!==void 0?u.length:0;let f=r.get(a);if(f===void 0||f.count!==d){let h=function(){z.dispose(),r.delete(a),a.removeEventListener("dispose",h)};f!==void 0&&f.texture.dispose();const g=a.morphAttributes.position!==void 0,m=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,p=a.morphAttributes.position||[],v=a.morphAttributes.normal||[],w=a.morphAttributes.color||[];let x=0;g===!0&&(x=1),m===!0&&(x=2),y===!0&&(x=3);let T=a.attributes.position.count*x,N=1;T>e.maxTextureSize&&(N=Math.ceil(T/e.maxTextureSize),T=e.maxTextureSize);const A=new Float32Array(T*N*4*d),z=new Nj(A,T,N,d);z.type=Sa,z.needsUpdate=!0;const S=x*4;for(let k=0;k<d;k++){const R=p[k],W=v[k],L=w[k],b=T*N*4*k;for(let E=0;E<R.count;E++){const I=E*S;g===!0&&(i.fromBufferAttribute(R,E),A[b+I+0]=i.x,A[b+I+1]=i.y,A[b+I+2]=i.z,A[b+I+3]=0),m===!0&&(i.fromBufferAttribute(W,E),A[b+I+4]=i.x,A[b+I+5]=i.y,A[b+I+6]=i.z,A[b+I+7]=0),y===!0&&(i.fromBufferAttribute(L,E),A[b+I+8]=i.x,A[b+I+9]=i.y,A[b+I+10]=i.z,A[b+I+11]=L.itemSize===4?i.w:1)}}f={count:d,texture:z,size:new sn(T,N)},r.set(a,f),a.addEventListener("dispose",h)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let h=0;for(let m=0;m<c.length;m++)h+=c[m];const g=a.morphTargetsRelative?1:1-h;l.getUniforms().setValue(t,"morphTargetBaseInfluence",g),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:o}}function Obe(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function s(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:s}}class Wj extends Xr{constructor(e,n,r,i,o,s,a,l,c,u=qd){if(u!==qd&&u!==Ff)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===qd&&(r=Au),r===void 0&&u===Ff&&(r=Nf),super(null,i,o,s,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:fs,this.minFilter=l!==void 0?l:fs,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const Vj=new Xr,oN=new Wj(1,1),$j=new Nj,qj=new bve,Kj=new jj,sN=[],aN=[],lN=new Float32Array(16),cN=new Float32Array(9),uN=new Float32Array(4);function ch(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=sN[i];if(o===void 0&&(o=new Float32Array(i),sN[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function mr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function gr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function sb(t,e){let n=aN[e];n===void 0&&(n=new Int32Array(e),aN[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Bbe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Lbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mr(n,e))return;t.uniform2fv(this.addr,e),gr(n,e)}}function Dbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(mr(n,e))return;t.uniform3fv(this.addr,e),gr(n,e)}}function Ube(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mr(n,e))return;t.uniform4fv(this.addr,e),gr(n,e)}}function zbe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),gr(n,e)}else{if(mr(n,r))return;uN.set(r),t.uniformMatrix2fv(this.addr,!1,uN),gr(n,r)}}function jbe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),gr(n,e)}else{if(mr(n,r))return;cN.set(r),t.uniformMatrix3fv(this.addr,!1,cN),gr(n,r)}}function Gbe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),gr(n,e)}else{if(mr(n,r))return;lN.set(r),t.uniformMatrix4fv(this.addr,!1,lN),gr(n,r)}}function Hbe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Wbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mr(n,e))return;t.uniform2iv(this.addr,e),gr(n,e)}}function Vbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mr(n,e))return;t.uniform3iv(this.addr,e),gr(n,e)}}function $be(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mr(n,e))return;t.uniform4iv(this.addr,e),gr(n,e)}}function qbe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Kbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mr(n,e))return;t.uniform2uiv(this.addr,e),gr(n,e)}}function Qbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mr(n,e))return;t.uniform3uiv(this.addr,e),gr(n,e)}}function Xbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mr(n,e))return;t.uniform4uiv(this.addr,e),gr(n,e)}}function Ybe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let o;this.type===t.SAMPLER_2D_SHADOW?(oN.compareFunction=Rj,o=oN):o=Vj,n.setTexture2D(e||o,i)}function Jbe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||qj,i)}function Zbe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Kj,i)}function exe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||$j,i)}function txe(t){switch(t){case 5126:return Bbe;case 35664:return Lbe;case 35665:return Dbe;case 35666:return Ube;case 35674:return zbe;case 35675:return jbe;case 35676:return Gbe;case 5124:case 35670:return Hbe;case 35667:case 35671:return Wbe;case 35668:case 35672:return Vbe;case 35669:case 35673:return $be;case 5125:return qbe;case 36294:return Kbe;case 36295:return Qbe;case 36296:return Xbe;case 35678:case 36198:case 36298:case 36306:case 35682:return Ybe;case 35679:case 36299:case 36307:return Jbe;case 35680:case 36300:case 36308:case 36293:return Zbe;case 36289:case 36303:case 36311:case 36292:return exe}}function nxe(t,e){t.uniform1fv(this.addr,e)}function rxe(t,e){const n=ch(e,this.size,2);t.uniform2fv(this.addr,n)}function ixe(t,e){const n=ch(e,this.size,3);t.uniform3fv(this.addr,n)}function oxe(t,e){const n=ch(e,this.size,4);t.uniform4fv(this.addr,n)}function sxe(t,e){const n=ch(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function axe(t,e){const n=ch(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function lxe(t,e){const n=ch(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function cxe(t,e){t.uniform1iv(this.addr,e)}function uxe(t,e){t.uniform2iv(this.addr,e)}function dxe(t,e){t.uniform3iv(this.addr,e)}function fxe(t,e){t.uniform4iv(this.addr,e)}function hxe(t,e){t.uniform1uiv(this.addr,e)}function pxe(t,e){t.uniform2uiv(this.addr,e)}function mxe(t,e){t.uniform3uiv(this.addr,e)}function gxe(t,e){t.uniform4uiv(this.addr,e)}function yxe(t,e,n){const r=this.cache,i=e.length,o=sb(n,i);mr(r,o)||(t.uniform1iv(this.addr,o),gr(r,o));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||Vj,o[s])}function vxe(t,e,n){const r=this.cache,i=e.length,o=sb(n,i);mr(r,o)||(t.uniform1iv(this.addr,o),gr(r,o));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||qj,o[s])}function wxe(t,e,n){const r=this.cache,i=e.length,o=sb(n,i);mr(r,o)||(t.uniform1iv(this.addr,o),gr(r,o));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||Kj,o[s])}function bxe(t,e,n){const r=this.cache,i=e.length,o=sb(n,i);mr(r,o)||(t.uniform1iv(this.addr,o),gr(r,o));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||$j,o[s])}function xxe(t){switch(t){case 5126:return nxe;case 35664:return rxe;case 35665:return ixe;case 35666:return oxe;case 35674:return sxe;case 35675:return axe;case 35676:return lxe;case 5124:case 35670:return cxe;case 35667:case 35671:return uxe;case 35668:case 35672:return dxe;case 35669:case 35673:return fxe;case 5125:return hxe;case 36294:return pxe;case 36295:return mxe;case 36296:return gxe;case 35678:case 36198:case 36298:case 36306:case 35682:return yxe;case 35679:case 36299:case 36307:return vxe;case 35680:case 36300:case 36308:case 36293:return wxe;case 36289:case 36303:case 36311:case 36292:return bxe}}class Exe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=txe(n.type)}}class Axe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=xxe(n.type)}}class _xe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,n[a.id],r)}}}const RE=/(\w+)(\])?(\[|\.)?/g;function dN(t,e){t.seq.push(e),t.map[e.id]=e}function Sxe(t,e,n){const r=t.name,i=r.length;for(RE.lastIndex=0;;){const o=RE.exec(r),s=RE.lastIndex;let a=o[1];const l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===i){dN(n,c===void 0?new Exe(a,t,e):new Axe(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new _xe(a),dN(n,d)),n=d}}}class Gy{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),s=e.getUniformLocation(n,o.name);Sxe(o,s,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,s=n.length;o!==s;++o){const a=n[o],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function fN(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Cxe=37297;let Txe=0;function Mxe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${n[s]}`)}return r.join(`
`)}const hN=new Lt;function Ixe(t){Jt._getMatrix(hN,Jt.workingColorSpace,t);const e=`mat3( ${hN.elements.map(n=>n.toFixed(4))} )`;switch(Jt.getTransfer(t)){case ib:return[e,"LinearTransferOETF"];case pn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function pN(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+Mxe(t.getShaderSource(e),s)}else return i}function Rxe(t,e){const n=Ixe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function Pxe(t,e){let n;switch(e){case qye:n="Linear";break;case Kye:n="Reinhard";break;case Qye:n="Cineon";break;case Xye:n="ACESFilmic";break;case Jye:n="AgX";break;case Zye:n="Neutral";break;case Yye:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Dg=new Se;function kxe(){Jt.getLuminanceCoefficients(Dg);const t=Dg.x.toFixed(4),e=Dg.y.toFixed(4),n=Dg.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Nxe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Jh).join(`
`)}function Fxe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Oxe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),s=o.name;let a=1;o.type===t.FLOAT_MAT2&&(a=2),o.type===t.FLOAT_MAT3&&(a=3),o.type===t.FLOAT_MAT4&&(a=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:a}}return n}function Jh(t){return t!==""}function mN(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function gN(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Bxe=/^[ \t]*#include +<([\w\d./]+)>/gm;function ES(t){return t.replace(Bxe,Dxe)}const Lxe=new Map;function Dxe(t,e){let n=Ut[e];if(n===void 0){const r=Lxe.get(e);if(r!==void 0)n=Ut[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return ES(n)}const Uxe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function yN(t){return t.replace(Uxe,zxe)}function zxe(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function vN(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function jxe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===yj?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Cye?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===aa&&(e="SHADOWMAP_TYPE_VSM"),e}function Gxe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Pf:case kf:e="ENVMAP_TYPE_CUBE";break;case rb:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Hxe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case kf:e="ENVMAP_MODE_REFRACTION";break}return e}function Wxe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case H3:e="ENVMAP_BLENDING_MULTIPLY";break;case Vye:e="ENVMAP_BLENDING_MIX";break;case $ye:e="ENVMAP_BLENDING_ADD";break}return e}function Vxe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function $xe(t,e,n,r){const i=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=jxe(n),c=Gxe(n),u=Hxe(n),d=Wxe(n),f=Vxe(n),h=Nxe(n),g=Fxe(o),m=i.createProgram();let y,p,v=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Jh).join(`
`),y.length>0&&(y+=`
`),p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Jh).join(`
`),p.length>0&&(p+=`
`)):(y=[vN(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Jh).join(`
`),p=[vN(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ul?"#define TONE_MAPPING":"",n.toneMapping!==Ul?Ut.tonemapping_pars_fragment:"",n.toneMapping!==Ul?Pxe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ut.colorspace_pars_fragment,Rxe("linearToOutputTexel",n.outputColorSpace),kxe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Jh).join(`
`)),s=ES(s),s=mN(s,n),s=gN(s,n),a=ES(a),a=mN(a,n),a=gN(a,n),s=yN(s),a=yN(a),n.isRawShaderMaterial!==!0&&(v=`#version 300 es
`,y=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,p=["#define varying in",n.glslVersion===Pk?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Pk?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);const w=v+y+s,x=v+p+a,T=fN(i,i.VERTEX_SHADER,w),N=fN(i,i.FRAGMENT_SHADER,x);i.attachShader(m,T),i.attachShader(m,N),n.index0AttributeName!==void 0?i.bindAttribLocation(m,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m);function A(R){if(t.debug.checkShaderErrors){const W=i.getProgramInfoLog(m).trim(),L=i.getShaderInfoLog(T).trim(),b=i.getShaderInfoLog(N).trim();let E=!0,I=!0;if(i.getProgramParameter(m,i.LINK_STATUS)===!1)if(E=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,m,T,N);else{const O=pN(i,T,"vertex"),C=pN(i,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+`

Material Name: `+R.name+`
Material Type: `+R.type+`

Program Info Log: `+W+`
`+O+`
`+C)}else W!==""?console.warn("THREE.WebGLProgram: Program Info Log:",W):(L===""||b==="")&&(I=!1);I&&(R.diagnostics={runnable:E,programLog:W,vertexShader:{log:L,prefix:y},fragmentShader:{log:b,prefix:p}})}i.deleteShader(T),i.deleteShader(N),z=new Gy(i,m),S=Oxe(i,m)}let z;this.getUniforms=function(){return z===void 0&&A(this),z};let S;this.getAttributes=function(){return S===void 0&&A(this),S};let k=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return k===!1&&(k=i.getProgramParameter(m,Cxe)),k},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Txe++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=T,this.fragmentShader=N,this}let qxe=0;class Kxe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Qxe(e),n.set(e,r)),r}}class Qxe{constructor(e){this.id=qxe++,this.code=e,this.usedTimes=0}}function Xxe(t,e,n,r,i,o,s){const a=new Fj,l=new Kxe,c=new Set,u=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(S){return c.add(S),S===0?"uv":`uv${S}`}function y(S,k,R,W,L){const b=W.fog,E=L.geometry,I=S.isMeshStandardMaterial?W.environment:null,O=(S.isMeshStandardMaterial?n:e).get(S.envMap||I),C=O&&O.mapping===rb?O.image.height:null,j=g[S.type];S.precision!==null&&(h=i.getMaxPrecision(S.precision),h!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",h,"instead."));const H=E.morphAttributes.position||E.morphAttributes.normal||E.morphAttributes.color,D=H!==void 0?H.length:0;let M=0;E.morphAttributes.position!==void 0&&(M=1),E.morphAttributes.normal!==void 0&&(M=2),E.morphAttributes.color!==void 0&&(M=3);let $,J,Z,ce;if(j){const Mt=ks[j];$=Mt.vertexShader,J=Mt.fragmentShader}else $=S.vertexShader,J=S.fragmentShader,l.update(S),Z=l.getVertexShaderID(S),ce=l.getFragmentShaderID(S);const oe=t.getRenderTarget(),Ee=t.state.buffers.depth.getReversed(),de=L.isInstancedMesh===!0,Re=L.isBatchedMesh===!0,ae=!!S.map,we=!!S.matcap,qe=!!O,te=!!S.aoMap,We=!!S.lightMap,Ke=!!S.bumpMap,ct=!!S.normalMap,Ze=!!S.displacementMap,Nt=!!S.emissiveMap,st=!!S.metalnessMap,X=!!S.roughnessMap,V=S.anisotropy>0,fe=S.clearcoat>0,_e=S.dispersion>0,Ie=S.iridescence>0,ge=S.sheen>0,G=S.transmission>0,_=V&&!!S.anisotropyMap,P=fe&&!!S.clearcoatMap,Q=fe&&!!S.clearcoatNormalMap,Y=fe&&!!S.clearcoatRoughnessMap,ee=Ie&&!!S.iridescenceMap,ne=Ie&&!!S.iridescenceThicknessMap,De=ge&&!!S.sheenColorMap,Ne=ge&&!!S.sheenRoughnessMap,$e=!!S.specularMap,ht=!!S.specularColorMap,it=!!S.specularIntensityMap,le=G&&!!S.transmissionMap,ot=G&&!!S.thicknessMap,xe=!!S.gradientMap,Te=!!S.alphaMap,nt=S.alphaTest>0,Ge=!!S.alphaHash,ut=!!S.extensions;let un=Ul;S.toneMapped&&(oe===null||oe.isXRRenderTarget===!0)&&(un=t.toneMapping);const Ft={shaderID:j,shaderType:S.type,shaderName:S.name,vertexShader:$,fragmentShader:J,defines:S.defines,customVertexShaderID:Z,customFragmentShaderID:ce,isRawShaderMaterial:S.isRawShaderMaterial===!0,glslVersion:S.glslVersion,precision:h,batching:Re,batchingColor:Re&&L._colorsTexture!==null,instancing:de,instancingColor:de&&L.instanceColor!==null,instancingMorph:de&&L.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:oe===null?t.outputColorSpace:oe.isXRRenderTarget===!0?oe.texture.colorSpace:ah,alphaToCoverage:!!S.alphaToCoverage,map:ae,matcap:we,envMap:qe,envMapMode:qe&&O.mapping,envMapCubeUVHeight:C,aoMap:te,lightMap:We,bumpMap:Ke,normalMap:ct,displacementMap:f&&Ze,emissiveMap:Nt,normalMapObjectSpace:ct&&S.normalMapType===rve,normalMapTangentSpace:ct&&S.normalMapType===Ij,metalnessMap:st,roughnessMap:X,anisotropy:V,anisotropyMap:_,clearcoat:fe,clearcoatMap:P,clearcoatNormalMap:Q,clearcoatRoughnessMap:Y,dispersion:_e,iridescence:Ie,iridescenceMap:ee,iridescenceThicknessMap:ne,sheen:ge,sheenColorMap:De,sheenRoughnessMap:Ne,specularMap:$e,specularColorMap:ht,specularIntensityMap:it,transmission:G,transmissionMap:le,thicknessMap:ot,gradientMap:xe,opaque:S.transparent===!1&&S.blending===$d&&S.alphaToCoverage===!1,alphaMap:Te,alphaTest:nt,alphaHash:Ge,combine:S.combine,mapUv:ae&&m(S.map.channel),aoMapUv:te&&m(S.aoMap.channel),lightMapUv:We&&m(S.lightMap.channel),bumpMapUv:Ke&&m(S.bumpMap.channel),normalMapUv:ct&&m(S.normalMap.channel),displacementMapUv:Ze&&m(S.displacementMap.channel),emissiveMapUv:Nt&&m(S.emissiveMap.channel),metalnessMapUv:st&&m(S.metalnessMap.channel),roughnessMapUv:X&&m(S.roughnessMap.channel),anisotropyMapUv:_&&m(S.anisotropyMap.channel),clearcoatMapUv:P&&m(S.clearcoatMap.channel),clearcoatNormalMapUv:Q&&m(S.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Y&&m(S.clearcoatRoughnessMap.channel),iridescenceMapUv:ee&&m(S.iridescenceMap.channel),iridescenceThicknessMapUv:ne&&m(S.iridescenceThicknessMap.channel),sheenColorMapUv:De&&m(S.sheenColorMap.channel),sheenRoughnessMapUv:Ne&&m(S.sheenRoughnessMap.channel),specularMapUv:$e&&m(S.specularMap.channel),specularColorMapUv:ht&&m(S.specularColorMap.channel),specularIntensityMapUv:it&&m(S.specularIntensityMap.channel),transmissionMapUv:le&&m(S.transmissionMap.channel),thicknessMapUv:ot&&m(S.thicknessMap.channel),alphaMapUv:Te&&m(S.alphaMap.channel),vertexTangents:!!E.attributes.tangent&&(ct||V),vertexColors:S.vertexColors,vertexAlphas:S.vertexColors===!0&&!!E.attributes.color&&E.attributes.color.itemSize===4,pointsUvs:L.isPoints===!0&&!!E.attributes.uv&&(ae||Te),fog:!!b,useFog:S.fog===!0,fogExp2:!!b&&b.isFogExp2,flatShading:S.flatShading===!0,sizeAttenuation:S.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:Ee,skinning:L.isSkinnedMesh===!0,morphTargets:E.morphAttributes.position!==void 0,morphNormals:E.morphAttributes.normal!==void 0,morphColors:E.morphAttributes.color!==void 0,morphTargetsCount:D,morphTextureStride:M,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:S.dithering,shadowMapEnabled:t.shadowMap.enabled&&R.length>0,shadowMapType:t.shadowMap.type,toneMapping:un,decodeVideoTexture:ae&&S.map.isVideoTexture===!0&&Jt.getTransfer(S.map.colorSpace)===pn,decodeVideoTextureEmissive:Nt&&S.emissiveMap.isVideoTexture===!0&&Jt.getTransfer(S.emissiveMap.colorSpace)===pn,premultipliedAlpha:S.premultipliedAlpha,doubleSided:S.side===wa,flipSided:S.side===zi,useDepthPacking:S.depthPacking>=0,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionClipCullDistance:ut&&S.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ut&&S.extensions.multiDraw===!0||Re)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:S.customProgramCacheKey()};return Ft.vertexUv1s=c.has(1),Ft.vertexUv2s=c.has(2),Ft.vertexUv3s=c.has(3),c.clear(),Ft}function p(S){const k=[];if(S.shaderID?k.push(S.shaderID):(k.push(S.customVertexShaderID),k.push(S.customFragmentShaderID)),S.defines!==void 0)for(const R in S.defines)k.push(R),k.push(S.defines[R]);return S.isRawShaderMaterial===!1&&(v(k,S),w(k,S),k.push(t.outputColorSpace)),k.push(S.customProgramCacheKey),k.join()}function v(S,k){S.push(k.precision),S.push(k.outputColorSpace),S.push(k.envMapMode),S.push(k.envMapCubeUVHeight),S.push(k.mapUv),S.push(k.alphaMapUv),S.push(k.lightMapUv),S.push(k.aoMapUv),S.push(k.bumpMapUv),S.push(k.normalMapUv),S.push(k.displacementMapUv),S.push(k.emissiveMapUv),S.push(k.metalnessMapUv),S.push(k.roughnessMapUv),S.push(k.anisotropyMapUv),S.push(k.clearcoatMapUv),S.push(k.clearcoatNormalMapUv),S.push(k.clearcoatRoughnessMapUv),S.push(k.iridescenceMapUv),S.push(k.iridescenceThicknessMapUv),S.push(k.sheenColorMapUv),S.push(k.sheenRoughnessMapUv),S.push(k.specularMapUv),S.push(k.specularColorMapUv),S.push(k.specularIntensityMapUv),S.push(k.transmissionMapUv),S.push(k.thicknessMapUv),S.push(k.combine),S.push(k.fogExp2),S.push(k.sizeAttenuation),S.push(k.morphTargetsCount),S.push(k.morphAttributeCount),S.push(k.numDirLights),S.push(k.numPointLights),S.push(k.numSpotLights),S.push(k.numSpotLightMaps),S.push(k.numHemiLights),S.push(k.numRectAreaLights),S.push(k.numDirLightShadows),S.push(k.numPointLightShadows),S.push(k.numSpotLightShadows),S.push(k.numSpotLightShadowsWithMaps),S.push(k.numLightProbes),S.push(k.shadowMapType),S.push(k.toneMapping),S.push(k.numClippingPlanes),S.push(k.numClipIntersection),S.push(k.depthPacking)}function w(S,k){a.disableAll(),k.supportsVertexTextures&&a.enable(0),k.instancing&&a.enable(1),k.instancingColor&&a.enable(2),k.instancingMorph&&a.enable(3),k.matcap&&a.enable(4),k.envMap&&a.enable(5),k.normalMapObjectSpace&&a.enable(6),k.normalMapTangentSpace&&a.enable(7),k.clearcoat&&a.enable(8),k.iridescence&&a.enable(9),k.alphaTest&&a.enable(10),k.vertexColors&&a.enable(11),k.vertexAlphas&&a.enable(12),k.vertexUv1s&&a.enable(13),k.vertexUv2s&&a.enable(14),k.vertexUv3s&&a.enable(15),k.vertexTangents&&a.enable(16),k.anisotropy&&a.enable(17),k.alphaHash&&a.enable(18),k.batching&&a.enable(19),k.dispersion&&a.enable(20),k.batchingColor&&a.enable(21),S.push(a.mask),a.disableAll(),k.fog&&a.enable(0),k.useFog&&a.enable(1),k.flatShading&&a.enable(2),k.logarithmicDepthBuffer&&a.enable(3),k.reverseDepthBuffer&&a.enable(4),k.skinning&&a.enable(5),k.morphTargets&&a.enable(6),k.morphNormals&&a.enable(7),k.morphColors&&a.enable(8),k.premultipliedAlpha&&a.enable(9),k.shadowMapEnabled&&a.enable(10),k.doubleSided&&a.enable(11),k.flipSided&&a.enable(12),k.useDepthPacking&&a.enable(13),k.dithering&&a.enable(14),k.transmission&&a.enable(15),k.sheen&&a.enable(16),k.opaque&&a.enable(17),k.pointsUvs&&a.enable(18),k.decodeVideoTexture&&a.enable(19),k.decodeVideoTextureEmissive&&a.enable(20),k.alphaToCoverage&&a.enable(21),S.push(a.mask)}function x(S){const k=g[S.type];let R;if(k){const W=ks[k];R=Nve.clone(W.uniforms)}else R=S.uniforms;return R}function T(S,k){let R;for(let W=0,L=u.length;W<L;W++){const b=u[W];if(b.cacheKey===k){R=b,++R.usedTimes;break}}return R===void 0&&(R=new $xe(t,k,S,o),u.push(R)),R}function N(S){if(--S.usedTimes===0){const k=u.indexOf(S);u[k]=u[u.length-1],u.pop(),S.destroy()}}function A(S){l.remove(S)}function z(){l.dispose()}return{getParameters:y,getProgramCacheKey:p,getUniforms:x,acquireProgram:T,releaseProgram:N,releaseShaderCache:A,programs:u,dispose:z}}function Yxe(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function r(s){t.delete(s)}function i(s,a,l){t.get(s)[a]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:o}}function Jxe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function wN(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function bN(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function s(d,f,h,g,m,y){let p=t[e];return p===void 0?(p={id:d.id,object:d,geometry:f,material:h,groupOrder:g,renderOrder:d.renderOrder,z:m,group:y},t[e]=p):(p.id=d.id,p.object=d,p.geometry=f,p.material=h,p.groupOrder=g,p.renderOrder=d.renderOrder,p.z=m,p.group=y),e++,p}function a(d,f,h,g,m,y){const p=s(d,f,h,g,m,y);h.transmission>0?r.push(p):h.transparent===!0?i.push(p):n.push(p)}function l(d,f,h,g,m,y){const p=s(d,f,h,g,m,y);h.transmission>0?r.unshift(p):h.transparent===!0?i.unshift(p):n.unshift(p)}function c(d,f){n.length>1&&n.sort(d||Jxe),r.length>1&&r.sort(f||wN),i.length>1&&i.sort(f||wN)}function u(){for(let d=e,f=t.length;d<f;d++){const h=t[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:a,unshift:l,finish:u,sort:c}}function Zxe(){let t=new WeakMap;function e(r,i){const o=t.get(r);let s;return o===void 0?(s=new bN,t.set(r,[s])):i>=o.length?(s=new bN,o.push(s)):s=o[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function eEe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Se,color:new tn};break;case"SpotLight":n={position:new Se,direction:new Se,color:new tn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Se,color:new tn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Se,skyColor:new tn,groundColor:new tn};break;case"RectAreaLight":n={color:new tn,position:new Se,halfWidth:new Se,halfHeight:new Se};break}return t[e.id]=n,n}}}function tEe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sn};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sn};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sn,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let nEe=0;function rEe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function iEe(t){const e=new eEe,n=tEe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new Se);const i=new Se,o=new Wn,s=new Wn;function a(c){let u=0,d=0,f=0;for(let S=0;S<9;S++)r.probe[S].set(0,0,0);let h=0,g=0,m=0,y=0,p=0,v=0,w=0,x=0,T=0,N=0,A=0;c.sort(rEe);for(let S=0,k=c.length;S<k;S++){const R=c[S],W=R.color,L=R.intensity,b=R.distance,E=R.shadow&&R.shadow.map?R.shadow.map.texture:null;if(R.isAmbientLight)u+=W.r*L,d+=W.g*L,f+=W.b*L;else if(R.isLightProbe){for(let I=0;I<9;I++)r.probe[I].addScaledVector(R.sh.coefficients[I],L);A++}else if(R.isDirectionalLight){const I=e.get(R);if(I.color.copy(R.color).multiplyScalar(R.intensity),R.castShadow){const O=R.shadow,C=n.get(R);C.shadowIntensity=O.intensity,C.shadowBias=O.bias,C.shadowNormalBias=O.normalBias,C.shadowRadius=O.radius,C.shadowMapSize=O.mapSize,r.directionalShadow[h]=C,r.directionalShadowMap[h]=E,r.directionalShadowMatrix[h]=R.shadow.matrix,v++}r.directional[h]=I,h++}else if(R.isSpotLight){const I=e.get(R);I.position.setFromMatrixPosition(R.matrixWorld),I.color.copy(W).multiplyScalar(L),I.distance=b,I.coneCos=Math.cos(R.angle),I.penumbraCos=Math.cos(R.angle*(1-R.penumbra)),I.decay=R.decay,r.spot[m]=I;const O=R.shadow;if(R.map&&(r.spotLightMap[T]=R.map,T++,O.updateMatrices(R),R.castShadow&&N++),r.spotLightMatrix[m]=O.matrix,R.castShadow){const C=n.get(R);C.shadowIntensity=O.intensity,C.shadowBias=O.bias,C.shadowNormalBias=O.normalBias,C.shadowRadius=O.radius,C.shadowMapSize=O.mapSize,r.spotShadow[m]=C,r.spotShadowMap[m]=E,x++}m++}else if(R.isRectAreaLight){const I=e.get(R);I.color.copy(W).multiplyScalar(L),I.halfWidth.set(R.width*.5,0,0),I.halfHeight.set(0,R.height*.5,0),r.rectArea[y]=I,y++}else if(R.isPointLight){const I=e.get(R);if(I.color.copy(R.color).multiplyScalar(R.intensity),I.distance=R.distance,I.decay=R.decay,R.castShadow){const O=R.shadow,C=n.get(R);C.shadowIntensity=O.intensity,C.shadowBias=O.bias,C.shadowNormalBias=O.normalBias,C.shadowRadius=O.radius,C.shadowMapSize=O.mapSize,C.shadowCameraNear=O.camera.near,C.shadowCameraFar=O.camera.far,r.pointShadow[g]=C,r.pointShadowMap[g]=E,r.pointShadowMatrix[g]=R.shadow.matrix,w++}r.point[g]=I,g++}else if(R.isHemisphereLight){const I=e.get(R);I.skyColor.copy(R.color).multiplyScalar(L),I.groundColor.copy(R.groundColor).multiplyScalar(L),r.hemi[p]=I,p++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=lt.LTC_FLOAT_1,r.rectAreaLTC2=lt.LTC_FLOAT_2):(r.rectAreaLTC1=lt.LTC_HALF_1,r.rectAreaLTC2=lt.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=d,r.ambient[2]=f;const z=r.hash;(z.directionalLength!==h||z.pointLength!==g||z.spotLength!==m||z.rectAreaLength!==y||z.hemiLength!==p||z.numDirectionalShadows!==v||z.numPointShadows!==w||z.numSpotShadows!==x||z.numSpotMaps!==T||z.numLightProbes!==A)&&(r.directional.length=h,r.spot.length=m,r.rectArea.length=y,r.point.length=g,r.hemi.length=p,r.directionalShadow.length=v,r.directionalShadowMap.length=v,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=x,r.spotShadowMap.length=x,r.directionalShadowMatrix.length=v,r.pointShadowMatrix.length=w,r.spotLightMatrix.length=x+T-N,r.spotLightMap.length=T,r.numSpotLightShadowsWithMaps=N,r.numLightProbes=A,z.directionalLength=h,z.pointLength=g,z.spotLength=m,z.rectAreaLength=y,z.hemiLength=p,z.numDirectionalShadows=v,z.numPointShadows=w,z.numSpotShadows=x,z.numSpotMaps=T,z.numLightProbes=A,r.version=nEe++)}function l(c,u){let d=0,f=0,h=0,g=0,m=0;const y=u.matrixWorldInverse;for(let p=0,v=c.length;p<v;p++){const w=c[p];if(w.isDirectionalLight){const x=r.directional[d];x.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),x.direction.sub(i),x.direction.transformDirection(y),d++}else if(w.isSpotLight){const x=r.spot[h];x.position.setFromMatrixPosition(w.matrixWorld),x.position.applyMatrix4(y),x.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),x.direction.sub(i),x.direction.transformDirection(y),h++}else if(w.isRectAreaLight){const x=r.rectArea[g];x.position.setFromMatrixPosition(w.matrixWorld),x.position.applyMatrix4(y),s.identity(),o.copy(w.matrixWorld),o.premultiply(y),s.extractRotation(o),x.halfWidth.set(w.width*.5,0,0),x.halfHeight.set(0,w.height*.5,0),x.halfWidth.applyMatrix4(s),x.halfHeight.applyMatrix4(s),g++}else if(w.isPointLight){const x=r.point[f];x.position.setFromMatrixPosition(w.matrixWorld),x.position.applyMatrix4(y),f++}else if(w.isHemisphereLight){const x=r.hemi[m];x.direction.setFromMatrixPosition(w.matrixWorld),x.direction.transformDirection(y),m++}}}return{setup:a,setupView:l,state:r}}function xN(t){const e=new iEe(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function o(u){n.push(u)}function s(u){r.push(u)}function a(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:o,pushShadow:s}}function oEe(t){let e=new WeakMap;function n(i,o=0){const s=e.get(i);let a;return s===void 0?(a=new xN(t),e.set(i,[a])):o>=s.length?(a=new xN(t),s.push(a)):a=s[o],a}function r(){e=new WeakMap}return{get:n,dispose:r}}class sEe extends b0{static get type(){return"MeshDepthMaterial"}constructor(e){super(),this.isMeshDepthMaterial=!0,this.depthPacking=tve,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class aEe extends b0{static get type(){return"MeshDistanceMaterial"}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const lEe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,cEe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function uEe(t,e,n){let r=new Y3;const i=new sn,o=new sn,s=new Gn,a=new sEe({depthPacking:nve}),l=new aEe,c={},u=n.maxTextureSize,d={[ql]:zi,[zi]:ql,[wa]:wa},f=new Kl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new sn},radius:{value:4}},vertexShader:lEe,fragmentShader:cEe}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const g=new nc;g.setAttribute("position",new Hs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new as(g,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=yj;let p=this.type;this.render=function(N,A,z){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||N.length===0)return;const S=t.getRenderTarget(),k=t.getActiveCubeFace(),R=t.getActiveMipmapLevel(),W=t.state;W.setBlending(Dl),W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const L=p!==aa&&this.type===aa,b=p===aa&&this.type!==aa;for(let E=0,I=N.length;E<I;E++){const O=N[E],C=O.shadow;if(C===void 0){console.warn("THREE.WebGLShadowMap:",O,"has no shadow.");continue}if(C.autoUpdate===!1&&C.needsUpdate===!1)continue;i.copy(C.mapSize);const j=C.getFrameExtents();if(i.multiply(j),o.copy(C.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/j.x),i.x=o.x*j.x,C.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/j.y),i.y=o.y*j.y,C.mapSize.y=o.y)),C.map===null||L===!0||b===!0){const D=this.type!==aa?{minFilter:fs,magFilter:fs}:{};C.map!==null&&C.map.dispose(),C.map=new _u(i.x,i.y,D),C.map.texture.name=O.name+".shadowMap",C.camera.updateProjectionMatrix()}t.setRenderTarget(C.map),t.clear();const H=C.getViewportCount();for(let D=0;D<H;D++){const M=C.getViewport(D);s.set(o.x*M.x,o.y*M.y,o.x*M.z,o.y*M.w),W.viewport(s),C.updateMatrices(O,D),r=C.getFrustum(),x(A,z,C.camera,O,this.type)}C.isPointLightShadow!==!0&&this.type===aa&&v(C,z),C.needsUpdate=!1}p=this.type,y.needsUpdate=!1,t.setRenderTarget(S,k,R)};function v(N,A){const z=e.update(m);f.defines.VSM_SAMPLES!==N.blurSamples&&(f.defines.VSM_SAMPLES=N.blurSamples,h.defines.VSM_SAMPLES=N.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new _u(i.x,i.y)),f.uniforms.shadow_pass.value=N.map.texture,f.uniforms.resolution.value=N.mapSize,f.uniforms.radius.value=N.radius,t.setRenderTarget(N.mapPass),t.clear(),t.renderBufferDirect(A,null,z,f,m,null),h.uniforms.shadow_pass.value=N.mapPass.texture,h.uniforms.resolution.value=N.mapSize,h.uniforms.radius.value=N.radius,t.setRenderTarget(N.map),t.clear(),t.renderBufferDirect(A,null,z,h,m,null)}function w(N,A,z,S){let k=null;const R=z.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(R!==void 0)k=R;else if(k=z.isPointLight===!0?l:a,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const W=k.uuid,L=A.uuid;let b=c[W];b===void 0&&(b={},c[W]=b);let E=b[L];E===void 0&&(E=k.clone(),b[L]=E,A.addEventListener("dispose",T)),k=E}if(k.visible=A.visible,k.wireframe=A.wireframe,S===aa?k.side=A.shadowSide!==null?A.shadowSide:A.side:k.side=A.shadowSide!==null?A.shadowSide:d[A.side],k.alphaMap=A.alphaMap,k.alphaTest=A.alphaTest,k.map=A.map,k.clipShadows=A.clipShadows,k.clippingPlanes=A.clippingPlanes,k.clipIntersection=A.clipIntersection,k.displacementMap=A.displacementMap,k.displacementScale=A.displacementScale,k.displacementBias=A.displacementBias,k.wireframeLinewidth=A.wireframeLinewidth,k.linewidth=A.linewidth,z.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const W=t.properties.get(k);W.light=z}return k}function x(N,A,z,S,k){if(N.visible===!1)return;if(N.layers.test(A.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&k===aa)&&(!N.frustumCulled||r.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,N.matrixWorld);const L=e.update(N),b=N.material;if(Array.isArray(b)){const E=L.groups;for(let I=0,O=E.length;I<O;I++){const C=E[I],j=b[C.materialIndex];if(j&&j.visible){const H=w(N,j,S,k);N.onBeforeShadow(t,N,A,z,L,H,C),t.renderBufferDirect(z,null,L,H,N,C),N.onAfterShadow(t,N,A,z,L,H,C)}}}else if(b.visible){const E=w(N,b,S,k);N.onBeforeShadow(t,N,A,z,L,E,null),t.renderBufferDirect(z,null,L,E,N,null),N.onAfterShadow(t,N,A,z,L,E,null)}}const W=N.children;for(let L=0,b=W.length;L<b;L++)x(W[L],A,z,S,k)}function T(N){N.target.removeEventListener("dispose",T);for(const z in c){const S=c[z],k=N.target.uuid;k in S&&(S[k].dispose(),delete S[k])}}}const dEe={[D_]:U_,[z_]:H_,[j_]:W_,[Rf]:G_,[U_]:D_,[H_]:z_,[W_]:j_,[G_]:Rf};function fEe(t,e){function n(){let le=!1;const ot=new Gn;let xe=null;const Te=new Gn(0,0,0,0);return{setMask:function(nt){xe!==nt&&!le&&(t.colorMask(nt,nt,nt,nt),xe=nt)},setLocked:function(nt){le=nt},setClear:function(nt,Ge,ut,un,Ft){Ft===!0&&(nt*=un,Ge*=un,ut*=un),ot.set(nt,Ge,ut,un),Te.equals(ot)===!1&&(t.clearColor(nt,Ge,ut,un),Te.copy(ot))},reset:function(){le=!1,xe=null,Te.set(-1,0,0,0)}}}function r(){let le=!1,ot=!1,xe=null,Te=null,nt=null;return{setReversed:function(Ge){if(ot!==Ge){const ut=e.get("EXT_clip_control");ot?ut.clipControlEXT(ut.LOWER_LEFT_EXT,ut.ZERO_TO_ONE_EXT):ut.clipControlEXT(ut.LOWER_LEFT_EXT,ut.NEGATIVE_ONE_TO_ONE_EXT);const un=nt;nt=null,this.setClear(un)}ot=Ge},getReversed:function(){return ot},setTest:function(Ge){Ge?oe(t.DEPTH_TEST):Ee(t.DEPTH_TEST)},setMask:function(Ge){xe!==Ge&&!le&&(t.depthMask(Ge),xe=Ge)},setFunc:function(Ge){if(ot&&(Ge=dEe[Ge]),Te!==Ge){switch(Ge){case D_:t.depthFunc(t.NEVER);break;case U_:t.depthFunc(t.ALWAYS);break;case z_:t.depthFunc(t.LESS);break;case Rf:t.depthFunc(t.LEQUAL);break;case j_:t.depthFunc(t.EQUAL);break;case G_:t.depthFunc(t.GEQUAL);break;case H_:t.depthFunc(t.GREATER);break;case W_:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Te=Ge}},setLocked:function(Ge){le=Ge},setClear:function(Ge){nt!==Ge&&(ot&&(Ge=1-Ge),t.clearDepth(Ge),nt=Ge)},reset:function(){le=!1,xe=null,Te=null,nt=null,ot=!1}}}function i(){let le=!1,ot=null,xe=null,Te=null,nt=null,Ge=null,ut=null,un=null,Ft=null;return{setTest:function(Mt){le||(Mt?oe(t.STENCIL_TEST):Ee(t.STENCIL_TEST))},setMask:function(Mt){ot!==Mt&&!le&&(t.stencilMask(Mt),ot=Mt)},setFunc:function(Mt,lr,Kt){(xe!==Mt||Te!==lr||nt!==Kt)&&(t.stencilFunc(Mt,lr,Kt),xe=Mt,Te=lr,nt=Kt)},setOp:function(Mt,lr,Kt){(Ge!==Mt||ut!==lr||un!==Kt)&&(t.stencilOp(Mt,lr,Kt),Ge=Mt,ut=lr,un=Kt)},setLocked:function(Mt){le=Mt},setClear:function(Mt){Ft!==Mt&&(t.clearStencil(Mt),Ft=Mt)},reset:function(){le=!1,ot=null,xe=null,Te=null,nt=null,Ge=null,ut=null,un=null,Ft=null}}}const o=new n,s=new r,a=new i,l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,h=[],g=null,m=!1,y=null,p=null,v=null,w=null,x=null,T=null,N=null,A=new tn(0,0,0),z=0,S=!1,k=null,R=null,W=null,L=null,b=null;const E=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let I=!1,O=0;const C=t.getParameter(t.VERSION);C.indexOf("WebGL")!==-1?(O=parseFloat(/^WebGL (\d)/.exec(C)[1]),I=O>=1):C.indexOf("OpenGL ES")!==-1&&(O=parseFloat(/^OpenGL ES (\d)/.exec(C)[1]),I=O>=2);let j=null,H={};const D=t.getParameter(t.SCISSOR_BOX),M=t.getParameter(t.VIEWPORT),$=new Gn().fromArray(D),J=new Gn().fromArray(M);function Z(le,ot,xe,Te){const nt=new Uint8Array(4),Ge=t.createTexture();t.bindTexture(le,Ge),t.texParameteri(le,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(le,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ut=0;ut<xe;ut++)le===t.TEXTURE_3D||le===t.TEXTURE_2D_ARRAY?t.texImage3D(ot,0,t.RGBA,1,1,Te,0,t.RGBA,t.UNSIGNED_BYTE,nt):t.texImage2D(ot+ut,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,nt);return Ge}const ce={};ce[t.TEXTURE_2D]=Z(t.TEXTURE_2D,t.TEXTURE_2D,1),ce[t.TEXTURE_CUBE_MAP]=Z(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ce[t.TEXTURE_2D_ARRAY]=Z(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ce[t.TEXTURE_3D]=Z(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),s.setClear(1),a.setClear(0),oe(t.DEPTH_TEST),s.setFunc(Rf),Ke(!1),ct(Sk),oe(t.CULL_FACE),te(Dl);function oe(le){u[le]!==!0&&(t.enable(le),u[le]=!0)}function Ee(le){u[le]!==!1&&(t.disable(le),u[le]=!1)}function de(le,ot){return d[le]!==ot?(t.bindFramebuffer(le,ot),d[le]=ot,le===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=ot),le===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=ot),!0):!1}function Re(le,ot){let xe=h,Te=!1;if(le){xe=f.get(ot),xe===void 0&&(xe=[],f.set(ot,xe));const nt=le.textures;if(xe.length!==nt.length||xe[0]!==t.COLOR_ATTACHMENT0){for(let Ge=0,ut=nt.length;Ge<ut;Ge++)xe[Ge]=t.COLOR_ATTACHMENT0+Ge;xe.length=nt.length,Te=!0}}else xe[0]!==t.BACK&&(xe[0]=t.BACK,Te=!0);Te&&t.drawBuffers(xe)}function ae(le){return g!==le?(t.useProgram(le),g=le,!0):!1}const we={[Sc]:t.FUNC_ADD,[Mye]:t.FUNC_SUBTRACT,[Iye]:t.FUNC_REVERSE_SUBTRACT};we[Rye]=t.MIN,we[Pye]=t.MAX;const qe={[kye]:t.ZERO,[Nye]:t.ONE,[Fye]:t.SRC_COLOR,[B_]:t.SRC_ALPHA,[zye]:t.SRC_ALPHA_SATURATE,[Dye]:t.DST_COLOR,[Bye]:t.DST_ALPHA,[Oye]:t.ONE_MINUS_SRC_COLOR,[L_]:t.ONE_MINUS_SRC_ALPHA,[Uye]:t.ONE_MINUS_DST_COLOR,[Lye]:t.ONE_MINUS_DST_ALPHA,[jye]:t.CONSTANT_COLOR,[Gye]:t.ONE_MINUS_CONSTANT_COLOR,[Hye]:t.CONSTANT_ALPHA,[Wye]:t.ONE_MINUS_CONSTANT_ALPHA};function te(le,ot,xe,Te,nt,Ge,ut,un,Ft,Mt){if(le===Dl){m===!0&&(Ee(t.BLEND),m=!1);return}if(m===!1&&(oe(t.BLEND),m=!0),le!==Tye){if(le!==y||Mt!==S){if((p!==Sc||x!==Sc)&&(t.blendEquation(t.FUNC_ADD),p=Sc,x=Sc),Mt)switch(le){case $d:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Ck:t.blendFunc(t.ONE,t.ONE);break;case Tk:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Mk:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case $d:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Ck:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case Tk:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Mk:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}v=null,w=null,T=null,N=null,A.set(0,0,0),z=0,y=le,S=Mt}return}nt=nt||ot,Ge=Ge||xe,ut=ut||Te,(ot!==p||nt!==x)&&(t.blendEquationSeparate(we[ot],we[nt]),p=ot,x=nt),(xe!==v||Te!==w||Ge!==T||ut!==N)&&(t.blendFuncSeparate(qe[xe],qe[Te],qe[Ge],qe[ut]),v=xe,w=Te,T=Ge,N=ut),(un.equals(A)===!1||Ft!==z)&&(t.blendColor(un.r,un.g,un.b,Ft),A.copy(un),z=Ft),y=le,S=!1}function We(le,ot){le.side===wa?Ee(t.CULL_FACE):oe(t.CULL_FACE);let xe=le.side===zi;ot&&(xe=!xe),Ke(xe),le.blending===$d&&le.transparent===!1?te(Dl):te(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.blendColor,le.blendAlpha,le.premultipliedAlpha),s.setFunc(le.depthFunc),s.setTest(le.depthTest),s.setMask(le.depthWrite),o.setMask(le.colorWrite);const Te=le.stencilWrite;a.setTest(Te),Te&&(a.setMask(le.stencilWriteMask),a.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),a.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),Nt(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?oe(t.SAMPLE_ALPHA_TO_COVERAGE):Ee(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ke(le){k!==le&&(le?t.frontFace(t.CW):t.frontFace(t.CCW),k=le)}function ct(le){le!==_ye?(oe(t.CULL_FACE),le!==R&&(le===Sk?t.cullFace(t.BACK):le===Sye?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ee(t.CULL_FACE),R=le}function Ze(le){le!==W&&(I&&t.lineWidth(le),W=le)}function Nt(le,ot,xe){le?(oe(t.POLYGON_OFFSET_FILL),(L!==ot||b!==xe)&&(t.polygonOffset(ot,xe),L=ot,b=xe)):Ee(t.POLYGON_OFFSET_FILL)}function st(le){le?oe(t.SCISSOR_TEST):Ee(t.SCISSOR_TEST)}function X(le){le===void 0&&(le=t.TEXTURE0+E-1),j!==le&&(t.activeTexture(le),j=le)}function V(le,ot,xe){xe===void 0&&(j===null?xe=t.TEXTURE0+E-1:xe=j);let Te=H[xe];Te===void 0&&(Te={type:void 0,texture:void 0},H[xe]=Te),(Te.type!==le||Te.texture!==ot)&&(j!==xe&&(t.activeTexture(xe),j=xe),t.bindTexture(le,ot||ce[le]),Te.type=le,Te.texture=ot)}function fe(){const le=H[j];le!==void 0&&le.type!==void 0&&(t.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function _e(){try{t.compressedTexImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ie(){try{t.compressedTexImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ge(){try{t.texSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function G(){try{t.texSubImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function _(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function P(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Q(){try{t.texStorage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Y(){try{t.texStorage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ee(){try{t.texImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ne(){try{t.texImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function De(le){$.equals(le)===!1&&(t.scissor(le.x,le.y,le.z,le.w),$.copy(le))}function Ne(le){J.equals(le)===!1&&(t.viewport(le.x,le.y,le.z,le.w),J.copy(le))}function $e(le,ot){let xe=c.get(ot);xe===void 0&&(xe=new WeakMap,c.set(ot,xe));let Te=xe.get(le);Te===void 0&&(Te=t.getUniformBlockIndex(ot,le.name),xe.set(le,Te))}function ht(le,ot){const Te=c.get(ot).get(le);l.get(ot)!==Te&&(t.uniformBlockBinding(ot,Te,le.__bindingPointIndex),l.set(ot,Te))}function it(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},j=null,H={},d={},f=new WeakMap,h=[],g=null,m=!1,y=null,p=null,v=null,w=null,x=null,T=null,N=null,A=new tn(0,0,0),z=0,S=!1,k=null,R=null,W=null,L=null,b=null,$.set(0,0,t.canvas.width,t.canvas.height),J.set(0,0,t.canvas.width,t.canvas.height),o.reset(),s.reset(),a.reset()}return{buffers:{color:o,depth:s,stencil:a},enable:oe,disable:Ee,bindFramebuffer:de,drawBuffers:Re,useProgram:ae,setBlending:te,setMaterial:We,setFlipSided:Ke,setCullFace:ct,setLineWidth:Ze,setPolygonOffset:Nt,setScissorTest:st,activeTexture:X,bindTexture:V,unbindTexture:fe,compressedTexImage2D:_e,compressedTexImage3D:Ie,texImage2D:ee,texImage3D:ne,updateUBOMapping:$e,uniformBlockBinding:ht,texStorage2D:Q,texStorage3D:Y,texSubImage2D:ge,texSubImage3D:G,compressedTexSubImage2D:_,compressedTexSubImage3D:P,scissor:De,viewport:Ne,reset:it}}function EN(t,e,n,r){const i=hEe(r);switch(n){case Ej:return t*e;case _j:return t*e;case Sj:return t*e*2;case Cj:return t*e/i.components*i.byteLength;case q3:return t*e/i.components*i.byteLength;case Tj:return t*e*2/i.components*i.byteLength;case K3:return t*e*2/i.components*i.byteLength;case Aj:return t*e*3/i.components*i.byteLength;case ss:return t*e*4/i.components*i.byteLength;case Q3:return t*e*4/i.components*i.byteLength;case Ly:case Dy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Uy:case zy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case X_:case J_:return Math.max(t,16)*Math.max(e,8)/4;case Q_:case Y_:return Math.max(t,8)*Math.max(e,8)/2;case Z_:case eS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case tS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case nS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case rS:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case iS:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case oS:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case sS:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case aS:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case lS:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case cS:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case uS:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case dS:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case fS:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case hS:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case pS:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case mS:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case jy:case gS:case yS:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Mj:case vS:return Math.ceil(t/4)*Math.ceil(e/4)*8;case wS:case bS:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function hEe(t){switch(t){case Ga:case wj:return{byteLength:1,components:1};case Rm:case bj:case g0:return{byteLength:2,components:1};case V3:case $3:return{byteLength:2,components:4};case Au:case W3:case Sa:return{byteLength:4,components:1};case xj:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}function pEe(t,e,n,r,i,o,s){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new sn,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(X,V){return h?new OffscreenCanvas(X,V):Pm("canvas")}function m(X,V,fe){let _e=1;const Ie=st(X);if((Ie.width>fe||Ie.height>fe)&&(_e=fe/Math.max(Ie.width,Ie.height)),_e<1)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap||typeof VideoFrame<"u"&&X instanceof VideoFrame){const ge=Math.floor(_e*Ie.width),G=Math.floor(_e*Ie.height);d===void 0&&(d=g(ge,G));const _=V?g(ge,G):d;return _.width=ge,_.height=G,_.getContext("2d").drawImage(X,0,0,ge,G),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ie.width+"x"+Ie.height+") to ("+ge+"x"+G+")."),_}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ie.width+"x"+Ie.height+")."),X;return X}function y(X){return X.generateMipmaps}function p(X){t.generateMipmap(X)}function v(X){return X.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:X.isWebGL3DRenderTarget?t.TEXTURE_3D:X.isWebGLArrayRenderTarget||X.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function w(X,V,fe,_e,Ie=!1){if(X!==null){if(t[X]!==void 0)return t[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let ge=V;if(V===t.RED&&(fe===t.FLOAT&&(ge=t.R32F),fe===t.HALF_FLOAT&&(ge=t.R16F),fe===t.UNSIGNED_BYTE&&(ge=t.R8)),V===t.RED_INTEGER&&(fe===t.UNSIGNED_BYTE&&(ge=t.R8UI),fe===t.UNSIGNED_SHORT&&(ge=t.R16UI),fe===t.UNSIGNED_INT&&(ge=t.R32UI),fe===t.BYTE&&(ge=t.R8I),fe===t.SHORT&&(ge=t.R16I),fe===t.INT&&(ge=t.R32I)),V===t.RG&&(fe===t.FLOAT&&(ge=t.RG32F),fe===t.HALF_FLOAT&&(ge=t.RG16F),fe===t.UNSIGNED_BYTE&&(ge=t.RG8)),V===t.RG_INTEGER&&(fe===t.UNSIGNED_BYTE&&(ge=t.RG8UI),fe===t.UNSIGNED_SHORT&&(ge=t.RG16UI),fe===t.UNSIGNED_INT&&(ge=t.RG32UI),fe===t.BYTE&&(ge=t.RG8I),fe===t.SHORT&&(ge=t.RG16I),fe===t.INT&&(ge=t.RG32I)),V===t.RGB_INTEGER&&(fe===t.UNSIGNED_BYTE&&(ge=t.RGB8UI),fe===t.UNSIGNED_SHORT&&(ge=t.RGB16UI),fe===t.UNSIGNED_INT&&(ge=t.RGB32UI),fe===t.BYTE&&(ge=t.RGB8I),fe===t.SHORT&&(ge=t.RGB16I),fe===t.INT&&(ge=t.RGB32I)),V===t.RGBA_INTEGER&&(fe===t.UNSIGNED_BYTE&&(ge=t.RGBA8UI),fe===t.UNSIGNED_SHORT&&(ge=t.RGBA16UI),fe===t.UNSIGNED_INT&&(ge=t.RGBA32UI),fe===t.BYTE&&(ge=t.RGBA8I),fe===t.SHORT&&(ge=t.RGBA16I),fe===t.INT&&(ge=t.RGBA32I)),V===t.RGB&&fe===t.UNSIGNED_INT_5_9_9_9_REV&&(ge=t.RGB9_E5),V===t.RGBA){const G=Ie?ib:Jt.getTransfer(_e);fe===t.FLOAT&&(ge=t.RGBA32F),fe===t.HALF_FLOAT&&(ge=t.RGBA16F),fe===t.UNSIGNED_BYTE&&(ge=G===pn?t.SRGB8_ALPHA8:t.RGBA8),fe===t.UNSIGNED_SHORT_4_4_4_4&&(ge=t.RGBA4),fe===t.UNSIGNED_SHORT_5_5_5_1&&(ge=t.RGB5_A1)}return(ge===t.R16F||ge===t.R32F||ge===t.RG16F||ge===t.RG32F||ge===t.RGBA16F||ge===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ge}function x(X,V){let fe;return X?V===null||V===Au||V===Nf?fe=t.DEPTH24_STENCIL8:V===Sa?fe=t.DEPTH32F_STENCIL8:V===Rm&&(fe=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):V===null||V===Au||V===Nf?fe=t.DEPTH_COMPONENT24:V===Sa?fe=t.DEPTH_COMPONENT32F:V===Rm&&(fe=t.DEPTH_COMPONENT16),fe}function T(X,V){return y(X)===!0||X.isFramebufferTexture&&X.minFilter!==fs&&X.minFilter!==Pi?Math.log2(Math.max(V.width,V.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?V.mipmaps.length:1}function N(X){const V=X.target;V.removeEventListener("dispose",N),z(V),V.isVideoTexture&&u.delete(V)}function A(X){const V=X.target;V.removeEventListener("dispose",A),k(V)}function z(X){const V=r.get(X);if(V.__webglInit===void 0)return;const fe=X.source,_e=f.get(fe);if(_e){const Ie=_e[V.__cacheKey];Ie.usedTimes--,Ie.usedTimes===0&&S(X),Object.keys(_e).length===0&&f.delete(fe)}r.remove(X)}function S(X){const V=r.get(X);t.deleteTexture(V.__webglTexture);const fe=X.source,_e=f.get(fe);delete _e[V.__cacheKey],s.memory.textures--}function k(X){const V=r.get(X);if(X.depthTexture&&(X.depthTexture.dispose(),r.remove(X.depthTexture)),X.isWebGLCubeRenderTarget)for(let _e=0;_e<6;_e++){if(Array.isArray(V.__webglFramebuffer[_e]))for(let Ie=0;Ie<V.__webglFramebuffer[_e].length;Ie++)t.deleteFramebuffer(V.__webglFramebuffer[_e][Ie]);else t.deleteFramebuffer(V.__webglFramebuffer[_e]);V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer[_e])}else{if(Array.isArray(V.__webglFramebuffer))for(let _e=0;_e<V.__webglFramebuffer.length;_e++)t.deleteFramebuffer(V.__webglFramebuffer[_e]);else t.deleteFramebuffer(V.__webglFramebuffer);if(V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&t.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let _e=0;_e<V.__webglColorRenderbuffer.length;_e++)V.__webglColorRenderbuffer[_e]&&t.deleteRenderbuffer(V.__webglColorRenderbuffer[_e]);V.__webglDepthRenderbuffer&&t.deleteRenderbuffer(V.__webglDepthRenderbuffer)}const fe=X.textures;for(let _e=0,Ie=fe.length;_e<Ie;_e++){const ge=r.get(fe[_e]);ge.__webglTexture&&(t.deleteTexture(ge.__webglTexture),s.memory.textures--),r.remove(fe[_e])}r.remove(X)}let R=0;function W(){R=0}function L(){const X=R;return X>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+i.maxTextures),R+=1,X}function b(X){const V=[];return V.push(X.wrapS),V.push(X.wrapT),V.push(X.wrapR||0),V.push(X.magFilter),V.push(X.minFilter),V.push(X.anisotropy),V.push(X.internalFormat),V.push(X.format),V.push(X.type),V.push(X.generateMipmaps),V.push(X.premultiplyAlpha),V.push(X.flipY),V.push(X.unpackAlignment),V.push(X.colorSpace),V.join()}function E(X,V){const fe=r.get(X);if(X.isVideoTexture&&Ze(X),X.isRenderTargetTexture===!1&&X.version>0&&fe.__version!==X.version){const _e=X.image;if(_e===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(_e.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{J(fe,X,V);return}}n.bindTexture(t.TEXTURE_2D,fe.__webglTexture,t.TEXTURE0+V)}function I(X,V){const fe=r.get(X);if(X.version>0&&fe.__version!==X.version){J(fe,X,V);return}n.bindTexture(t.TEXTURE_2D_ARRAY,fe.__webglTexture,t.TEXTURE0+V)}function O(X,V){const fe=r.get(X);if(X.version>0&&fe.__version!==X.version){J(fe,X,V);return}n.bindTexture(t.TEXTURE_3D,fe.__webglTexture,t.TEXTURE0+V)}function C(X,V){const fe=r.get(X);if(X.version>0&&fe.__version!==X.version){Z(fe,X,V);return}n.bindTexture(t.TEXTURE_CUBE_MAP,fe.__webglTexture,t.TEXTURE0+V)}const j={[q_]:t.REPEAT,[Gc]:t.CLAMP_TO_EDGE,[K_]:t.MIRRORED_REPEAT},H={[fs]:t.NEAREST,[eve]:t.NEAREST_MIPMAP_NEAREST,[vg]:t.NEAREST_MIPMAP_LINEAR,[Pi]:t.LINEAR,[nE]:t.LINEAR_MIPMAP_NEAREST,[Hc]:t.LINEAR_MIPMAP_LINEAR},D={[ive]:t.NEVER,[uve]:t.ALWAYS,[ove]:t.LESS,[Rj]:t.LEQUAL,[sve]:t.EQUAL,[cve]:t.GEQUAL,[ave]:t.GREATER,[lve]:t.NOTEQUAL};function M(X,V){if(V.type===Sa&&e.has("OES_texture_float_linear")===!1&&(V.magFilter===Pi||V.magFilter===nE||V.magFilter===vg||V.magFilter===Hc||V.minFilter===Pi||V.minFilter===nE||V.minFilter===vg||V.minFilter===Hc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(X,t.TEXTURE_WRAP_S,j[V.wrapS]),t.texParameteri(X,t.TEXTURE_WRAP_T,j[V.wrapT]),(X===t.TEXTURE_3D||X===t.TEXTURE_2D_ARRAY)&&t.texParameteri(X,t.TEXTURE_WRAP_R,j[V.wrapR]),t.texParameteri(X,t.TEXTURE_MAG_FILTER,H[V.magFilter]),t.texParameteri(X,t.TEXTURE_MIN_FILTER,H[V.minFilter]),V.compareFunction&&(t.texParameteri(X,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(X,t.TEXTURE_COMPARE_FUNC,D[V.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(V.magFilter===fs||V.minFilter!==vg&&V.minFilter!==Hc||V.type===Sa&&e.has("OES_texture_float_linear")===!1)return;if(V.anisotropy>1||r.get(V).__currentAnisotropy){const fe=e.get("EXT_texture_filter_anisotropic");t.texParameterf(X,fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,i.getMaxAnisotropy())),r.get(V).__currentAnisotropy=V.anisotropy}}}function $(X,V){let fe=!1;X.__webglInit===void 0&&(X.__webglInit=!0,V.addEventListener("dispose",N));const _e=V.source;let Ie=f.get(_e);Ie===void 0&&(Ie={},f.set(_e,Ie));const ge=b(V);if(ge!==X.__cacheKey){Ie[ge]===void 0&&(Ie[ge]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,fe=!0),Ie[ge].usedTimes++;const G=Ie[X.__cacheKey];G!==void 0&&(Ie[X.__cacheKey].usedTimes--,G.usedTimes===0&&S(V)),X.__cacheKey=ge,X.__webglTexture=Ie[ge].texture}return fe}function J(X,V,fe){let _e=t.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(_e=t.TEXTURE_2D_ARRAY),V.isData3DTexture&&(_e=t.TEXTURE_3D);const Ie=$(X,V),ge=V.source;n.bindTexture(_e,X.__webglTexture,t.TEXTURE0+fe);const G=r.get(ge);if(ge.version!==G.__version||Ie===!0){n.activeTexture(t.TEXTURE0+fe);const _=Jt.getPrimaries(Jt.workingColorSpace),P=V.colorSpace===bl?null:Jt.getPrimaries(V.colorSpace),Q=V.colorSpace===bl||_===P?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,V.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,V.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Q);let Y=m(V.image,!1,i.maxTextureSize);Y=Nt(V,Y);const ee=o.convert(V.format,V.colorSpace),ne=o.convert(V.type);let De=w(V.internalFormat,ee,ne,V.colorSpace,V.isVideoTexture);M(_e,V);let Ne;const $e=V.mipmaps,ht=V.isVideoTexture!==!0,it=G.__version===void 0||Ie===!0,le=ge.dataReady,ot=T(V,Y);if(V.isDepthTexture)De=x(V.format===Ff,V.type),it&&(ht?n.texStorage2D(t.TEXTURE_2D,1,De,Y.width,Y.height):n.texImage2D(t.TEXTURE_2D,0,De,Y.width,Y.height,0,ee,ne,null));else if(V.isDataTexture)if($e.length>0){ht&&it&&n.texStorage2D(t.TEXTURE_2D,ot,De,$e[0].width,$e[0].height);for(let xe=0,Te=$e.length;xe<Te;xe++)Ne=$e[xe],ht?le&&n.texSubImage2D(t.TEXTURE_2D,xe,0,0,Ne.width,Ne.height,ee,ne,Ne.data):n.texImage2D(t.TEXTURE_2D,xe,De,Ne.width,Ne.height,0,ee,ne,Ne.data);V.generateMipmaps=!1}else ht?(it&&n.texStorage2D(t.TEXTURE_2D,ot,De,Y.width,Y.height),le&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Y.width,Y.height,ee,ne,Y.data)):n.texImage2D(t.TEXTURE_2D,0,De,Y.width,Y.height,0,ee,ne,Y.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){ht&&it&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ot,De,$e[0].width,$e[0].height,Y.depth);for(let xe=0,Te=$e.length;xe<Te;xe++)if(Ne=$e[xe],V.format!==ss)if(ee!==null)if(ht){if(le)if(V.layerUpdates.size>0){const nt=EN(Ne.width,Ne.height,V.format,V.type);for(const Ge of V.layerUpdates){const ut=Ne.data.subarray(Ge*nt/Ne.data.BYTES_PER_ELEMENT,(Ge+1)*nt/Ne.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,xe,0,0,Ge,Ne.width,Ne.height,1,ee,ut)}V.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,xe,0,0,0,Ne.width,Ne.height,Y.depth,ee,Ne.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,xe,De,Ne.width,Ne.height,Y.depth,0,Ne.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ht?le&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,xe,0,0,0,Ne.width,Ne.height,Y.depth,ee,ne,Ne.data):n.texImage3D(t.TEXTURE_2D_ARRAY,xe,De,Ne.width,Ne.height,Y.depth,0,ee,ne,Ne.data)}else{ht&&it&&n.texStorage2D(t.TEXTURE_2D,ot,De,$e[0].width,$e[0].height);for(let xe=0,Te=$e.length;xe<Te;xe++)Ne=$e[xe],V.format!==ss?ee!==null?ht?le&&n.compressedTexSubImage2D(t.TEXTURE_2D,xe,0,0,Ne.width,Ne.height,ee,Ne.data):n.compressedTexImage2D(t.TEXTURE_2D,xe,De,Ne.width,Ne.height,0,Ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ht?le&&n.texSubImage2D(t.TEXTURE_2D,xe,0,0,Ne.width,Ne.height,ee,ne,Ne.data):n.texImage2D(t.TEXTURE_2D,xe,De,Ne.width,Ne.height,0,ee,ne,Ne.data)}else if(V.isDataArrayTexture)if(ht){if(it&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ot,De,Y.width,Y.height,Y.depth),le)if(V.layerUpdates.size>0){const xe=EN(Y.width,Y.height,V.format,V.type);for(const Te of V.layerUpdates){const nt=Y.data.subarray(Te*xe/Y.data.BYTES_PER_ELEMENT,(Te+1)*xe/Y.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Te,Y.width,Y.height,1,ee,ne,nt)}V.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Y.width,Y.height,Y.depth,ee,ne,Y.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,De,Y.width,Y.height,Y.depth,0,ee,ne,Y.data);else if(V.isData3DTexture)ht?(it&&n.texStorage3D(t.TEXTURE_3D,ot,De,Y.width,Y.height,Y.depth),le&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Y.width,Y.height,Y.depth,ee,ne,Y.data)):n.texImage3D(t.TEXTURE_3D,0,De,Y.width,Y.height,Y.depth,0,ee,ne,Y.data);else if(V.isFramebufferTexture){if(it)if(ht)n.texStorage2D(t.TEXTURE_2D,ot,De,Y.width,Y.height);else{let xe=Y.width,Te=Y.height;for(let nt=0;nt<ot;nt++)n.texImage2D(t.TEXTURE_2D,nt,De,xe,Te,0,ee,ne,null),xe>>=1,Te>>=1}}else if($e.length>0){if(ht&&it){const xe=st($e[0]);n.texStorage2D(t.TEXTURE_2D,ot,De,xe.width,xe.height)}for(let xe=0,Te=$e.length;xe<Te;xe++)Ne=$e[xe],ht?le&&n.texSubImage2D(t.TEXTURE_2D,xe,0,0,ee,ne,Ne):n.texImage2D(t.TEXTURE_2D,xe,De,ee,ne,Ne);V.generateMipmaps=!1}else if(ht){if(it){const xe=st(Y);n.texStorage2D(t.TEXTURE_2D,ot,De,xe.width,xe.height)}le&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ee,ne,Y)}else n.texImage2D(t.TEXTURE_2D,0,De,ee,ne,Y);y(V)&&p(_e),G.__version=ge.version,V.onUpdate&&V.onUpdate(V)}X.__version=V.version}function Z(X,V,fe){if(V.image.length!==6)return;const _e=$(X,V),Ie=V.source;n.bindTexture(t.TEXTURE_CUBE_MAP,X.__webglTexture,t.TEXTURE0+fe);const ge=r.get(Ie);if(Ie.version!==ge.__version||_e===!0){n.activeTexture(t.TEXTURE0+fe);const G=Jt.getPrimaries(Jt.workingColorSpace),_=V.colorSpace===bl?null:Jt.getPrimaries(V.colorSpace),P=V.colorSpace===bl||G===_?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,V.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,V.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,P);const Q=V.isCompressedTexture||V.image[0].isCompressedTexture,Y=V.image[0]&&V.image[0].isDataTexture,ee=[];for(let Te=0;Te<6;Te++)!Q&&!Y?ee[Te]=m(V.image[Te],!0,i.maxCubemapSize):ee[Te]=Y?V.image[Te].image:V.image[Te],ee[Te]=Nt(V,ee[Te]);const ne=ee[0],De=o.convert(V.format,V.colorSpace),Ne=o.convert(V.type),$e=w(V.internalFormat,De,Ne,V.colorSpace),ht=V.isVideoTexture!==!0,it=ge.__version===void 0||_e===!0,le=Ie.dataReady;let ot=T(V,ne);M(t.TEXTURE_CUBE_MAP,V);let xe;if(Q){ht&&it&&n.texStorage2D(t.TEXTURE_CUBE_MAP,ot,$e,ne.width,ne.height);for(let Te=0;Te<6;Te++){xe=ee[Te].mipmaps;for(let nt=0;nt<xe.length;nt++){const Ge=xe[nt];V.format!==ss?De!==null?ht?le&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,nt,0,0,Ge.width,Ge.height,De,Ge.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,nt,$e,Ge.width,Ge.height,0,Ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ht?le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,nt,0,0,Ge.width,Ge.height,De,Ne,Ge.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,nt,$e,Ge.width,Ge.height,0,De,Ne,Ge.data)}}}else{if(xe=V.mipmaps,ht&&it){xe.length>0&&ot++;const Te=st(ee[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,ot,$e,Te.width,Te.height)}for(let Te=0;Te<6;Te++)if(Y){ht?le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,ee[Te].width,ee[Te].height,De,Ne,ee[Te].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,$e,ee[Te].width,ee[Te].height,0,De,Ne,ee[Te].data);for(let nt=0;nt<xe.length;nt++){const ut=xe[nt].image[Te].image;ht?le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,nt+1,0,0,ut.width,ut.height,De,Ne,ut.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,nt+1,$e,ut.width,ut.height,0,De,Ne,ut.data)}}else{ht?le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,De,Ne,ee[Te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,$e,De,Ne,ee[Te]);for(let nt=0;nt<xe.length;nt++){const Ge=xe[nt];ht?le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,nt+1,0,0,De,Ne,Ge.image[Te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,nt+1,$e,De,Ne,Ge.image[Te])}}}y(V)&&p(t.TEXTURE_CUBE_MAP),ge.__version=Ie.version,V.onUpdate&&V.onUpdate(V)}X.__version=V.version}function ce(X,V,fe,_e,Ie,ge){const G=o.convert(fe.format,fe.colorSpace),_=o.convert(fe.type),P=w(fe.internalFormat,G,_,fe.colorSpace),Q=r.get(V),Y=r.get(fe);if(Y.__renderTarget=V,!Q.__hasExternalTextures){const ee=Math.max(1,V.width>>ge),ne=Math.max(1,V.height>>ge);Ie===t.TEXTURE_3D||Ie===t.TEXTURE_2D_ARRAY?n.texImage3D(Ie,ge,P,ee,ne,V.depth,0,G,_,null):n.texImage2D(Ie,ge,P,ee,ne,0,G,_,null)}n.bindFramebuffer(t.FRAMEBUFFER,X),ct(V)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,_e,Ie,Y.__webglTexture,0,Ke(V)):(Ie===t.TEXTURE_2D||Ie>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ie<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,_e,Ie,Y.__webglTexture,ge),n.bindFramebuffer(t.FRAMEBUFFER,null)}function oe(X,V,fe){if(t.bindRenderbuffer(t.RENDERBUFFER,X),V.depthBuffer){const _e=V.depthTexture,Ie=_e&&_e.isDepthTexture?_e.type:null,ge=x(V.stencilBuffer,Ie),G=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,_=Ke(V);ct(V)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,_,ge,V.width,V.height):fe?t.renderbufferStorageMultisample(t.RENDERBUFFER,_,ge,V.width,V.height):t.renderbufferStorage(t.RENDERBUFFER,ge,V.width,V.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,G,t.RENDERBUFFER,X)}else{const _e=V.textures;for(let Ie=0;Ie<_e.length;Ie++){const ge=_e[Ie],G=o.convert(ge.format,ge.colorSpace),_=o.convert(ge.type),P=w(ge.internalFormat,G,_,ge.colorSpace),Q=Ke(V);fe&&ct(V)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Q,P,V.width,V.height):ct(V)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Q,P,V.width,V.height):t.renderbufferStorage(t.RENDERBUFFER,P,V.width,V.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ee(X,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,X),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const _e=r.get(V.depthTexture);_e.__renderTarget=V,(!_e.__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),E(V.depthTexture,0);const Ie=_e.__webglTexture,ge=Ke(V);if(V.depthTexture.format===qd)ct(V)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ie,0,ge):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ie,0);else if(V.depthTexture.format===Ff)ct(V)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ie,0,ge):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ie,0);else throw new Error("Unknown depthTexture format")}function de(X){const V=r.get(X),fe=X.isWebGLCubeRenderTarget===!0;if(V.__boundDepthTexture!==X.depthTexture){const _e=X.depthTexture;if(V.__depthDisposeCallback&&V.__depthDisposeCallback(),_e){const Ie=()=>{delete V.__boundDepthTexture,delete V.__depthDisposeCallback,_e.removeEventListener("dispose",Ie)};_e.addEventListener("dispose",Ie),V.__depthDisposeCallback=Ie}V.__boundDepthTexture=_e}if(X.depthTexture&&!V.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");Ee(V.__webglFramebuffer,X)}else if(fe){V.__webglDepthbuffer=[];for(let _e=0;_e<6;_e++)if(n.bindFramebuffer(t.FRAMEBUFFER,V.__webglFramebuffer[_e]),V.__webglDepthbuffer[_e]===void 0)V.__webglDepthbuffer[_e]=t.createRenderbuffer(),oe(V.__webglDepthbuffer[_e],X,!1);else{const Ie=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ge=V.__webglDepthbuffer[_e];t.bindRenderbuffer(t.RENDERBUFFER,ge),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ie,t.RENDERBUFFER,ge)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer===void 0)V.__webglDepthbuffer=t.createRenderbuffer(),oe(V.__webglDepthbuffer,X,!1);else{const _e=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ie=V.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Ie),t.framebufferRenderbuffer(t.FRAMEBUFFER,_e,t.RENDERBUFFER,Ie)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Re(X,V,fe){const _e=r.get(X);V!==void 0&&ce(_e.__webglFramebuffer,X,X.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),fe!==void 0&&de(X)}function ae(X){const V=X.texture,fe=r.get(X),_e=r.get(V);X.addEventListener("dispose",A);const Ie=X.textures,ge=X.isWebGLCubeRenderTarget===!0,G=Ie.length>1;if(G||(_e.__webglTexture===void 0&&(_e.__webglTexture=t.createTexture()),_e.__version=V.version,s.memory.textures++),ge){fe.__webglFramebuffer=[];for(let _=0;_<6;_++)if(V.mipmaps&&V.mipmaps.length>0){fe.__webglFramebuffer[_]=[];for(let P=0;P<V.mipmaps.length;P++)fe.__webglFramebuffer[_][P]=t.createFramebuffer()}else fe.__webglFramebuffer[_]=t.createFramebuffer()}else{if(V.mipmaps&&V.mipmaps.length>0){fe.__webglFramebuffer=[];for(let _=0;_<V.mipmaps.length;_++)fe.__webglFramebuffer[_]=t.createFramebuffer()}else fe.__webglFramebuffer=t.createFramebuffer();if(G)for(let _=0,P=Ie.length;_<P;_++){const Q=r.get(Ie[_]);Q.__webglTexture===void 0&&(Q.__webglTexture=t.createTexture(),s.memory.textures++)}if(X.samples>0&&ct(X)===!1){fe.__webglMultisampledFramebuffer=t.createFramebuffer(),fe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,fe.__webglMultisampledFramebuffer);for(let _=0;_<Ie.length;_++){const P=Ie[_];fe.__webglColorRenderbuffer[_]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,fe.__webglColorRenderbuffer[_]);const Q=o.convert(P.format,P.colorSpace),Y=o.convert(P.type),ee=w(P.internalFormat,Q,Y,P.colorSpace,X.isXRRenderTarget===!0),ne=Ke(X);t.renderbufferStorageMultisample(t.RENDERBUFFER,ne,ee,X.width,X.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+_,t.RENDERBUFFER,fe.__webglColorRenderbuffer[_])}t.bindRenderbuffer(t.RENDERBUFFER,null),X.depthBuffer&&(fe.__webglDepthRenderbuffer=t.createRenderbuffer(),oe(fe.__webglDepthRenderbuffer,X,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ge){n.bindTexture(t.TEXTURE_CUBE_MAP,_e.__webglTexture),M(t.TEXTURE_CUBE_MAP,V);for(let _=0;_<6;_++)if(V.mipmaps&&V.mipmaps.length>0)for(let P=0;P<V.mipmaps.length;P++)ce(fe.__webglFramebuffer[_][P],X,V,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+_,P);else ce(fe.__webglFramebuffer[_],X,V,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+_,0);y(V)&&p(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(G){for(let _=0,P=Ie.length;_<P;_++){const Q=Ie[_],Y=r.get(Q);n.bindTexture(t.TEXTURE_2D,Y.__webglTexture),M(t.TEXTURE_2D,Q),ce(fe.__webglFramebuffer,X,Q,t.COLOR_ATTACHMENT0+_,t.TEXTURE_2D,0),y(Q)&&p(t.TEXTURE_2D)}n.unbindTexture()}else{let _=t.TEXTURE_2D;if((X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(_=X.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(_,_e.__webglTexture),M(_,V),V.mipmaps&&V.mipmaps.length>0)for(let P=0;P<V.mipmaps.length;P++)ce(fe.__webglFramebuffer[P],X,V,t.COLOR_ATTACHMENT0,_,P);else ce(fe.__webglFramebuffer,X,V,t.COLOR_ATTACHMENT0,_,0);y(V)&&p(_),n.unbindTexture()}X.depthBuffer&&de(X)}function we(X){const V=X.textures;for(let fe=0,_e=V.length;fe<_e;fe++){const Ie=V[fe];if(y(Ie)){const ge=v(X),G=r.get(Ie).__webglTexture;n.bindTexture(ge,G),p(ge),n.unbindTexture()}}}const qe=[],te=[];function We(X){if(X.samples>0){if(ct(X)===!1){const V=X.textures,fe=X.width,_e=X.height;let Ie=t.COLOR_BUFFER_BIT;const ge=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,G=r.get(X),_=V.length>1;if(_)for(let P=0;P<V.length;P++)n.bindFramebuffer(t.FRAMEBUFFER,G.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+P,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+P,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,G.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,G.__webglFramebuffer);for(let P=0;P<V.length;P++){if(X.resolveDepthBuffer&&(X.depthBuffer&&(Ie|=t.DEPTH_BUFFER_BIT),X.stencilBuffer&&X.resolveStencilBuffer&&(Ie|=t.STENCIL_BUFFER_BIT)),_){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,G.__webglColorRenderbuffer[P]);const Q=r.get(V[P]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Q,0)}t.blitFramebuffer(0,0,fe,_e,0,0,fe,_e,Ie,t.NEAREST),l===!0&&(qe.length=0,te.length=0,qe.push(t.COLOR_ATTACHMENT0+P),X.depthBuffer&&X.resolveDepthBuffer===!1&&(qe.push(ge),te.push(ge),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,te)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,qe))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),_)for(let P=0;P<V.length;P++){n.bindFramebuffer(t.FRAMEBUFFER,G.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+P,t.RENDERBUFFER,G.__webglColorRenderbuffer[P]);const Q=r.get(V[P]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+P,t.TEXTURE_2D,Q,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,G.__webglMultisampledFramebuffer)}else if(X.depthBuffer&&X.resolveDepthBuffer===!1&&l){const V=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[V])}}}function Ke(X){return Math.min(i.maxSamples,X.samples)}function ct(X){const V=r.get(X);return X.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function Ze(X){const V=s.render.frame;u.get(X)!==V&&(u.set(X,V),X.update())}function Nt(X,V){const fe=X.colorSpace,_e=X.format,Ie=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||fe!==ah&&fe!==bl&&(Jt.getTransfer(fe)===pn?(_e!==ss||Ie!==Ga)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",fe)),V}function st(X){return typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement?(c.width=X.naturalWidth||X.width,c.height=X.naturalHeight||X.height):typeof VideoFrame<"u"&&X instanceof VideoFrame?(c.width=X.displayWidth,c.height=X.displayHeight):(c.width=X.width,c.height=X.height),c}this.allocateTextureUnit=L,this.resetTextureUnits=W,this.setTexture2D=E,this.setTexture2DArray=I,this.setTexture3D=O,this.setTextureCube=C,this.rebindTextures=Re,this.setupRenderTarget=ae,this.updateRenderTargetMipmap=we,this.updateMultisampleRenderTarget=We,this.setupDepthRenderbuffer=de,this.setupFrameBufferTexture=ce,this.useMultisampledRTT=ct}function mEe(t,e){function n(r,i=bl){let o;const s=Jt.getTransfer(i);if(r===Ga)return t.UNSIGNED_BYTE;if(r===V3)return t.UNSIGNED_SHORT_4_4_4_4;if(r===$3)return t.UNSIGNED_SHORT_5_5_5_1;if(r===xj)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===wj)return t.BYTE;if(r===bj)return t.SHORT;if(r===Rm)return t.UNSIGNED_SHORT;if(r===W3)return t.INT;if(r===Au)return t.UNSIGNED_INT;if(r===Sa)return t.FLOAT;if(r===g0)return t.HALF_FLOAT;if(r===Ej)return t.ALPHA;if(r===Aj)return t.RGB;if(r===ss)return t.RGBA;if(r===_j)return t.LUMINANCE;if(r===Sj)return t.LUMINANCE_ALPHA;if(r===qd)return t.DEPTH_COMPONENT;if(r===Ff)return t.DEPTH_STENCIL;if(r===Cj)return t.RED;if(r===q3)return t.RED_INTEGER;if(r===Tj)return t.RG;if(r===K3)return t.RG_INTEGER;if(r===Q3)return t.RGBA_INTEGER;if(r===Ly||r===Dy||r===Uy||r===zy)if(s===pn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===Ly)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Dy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Uy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===zy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===Ly)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Dy)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Uy)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===zy)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===Q_||r===X_||r===Y_||r===J_)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===Q_)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===X_)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Y_)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===J_)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===Z_||r===eS||r===tS)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===Z_||r===eS)return s===pn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===tS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===nS||r===rS||r===iS||r===oS||r===sS||r===aS||r===lS||r===cS||r===uS||r===dS||r===fS||r===hS||r===pS||r===mS)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===nS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===rS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===iS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===oS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===sS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===aS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===lS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===cS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===uS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===dS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===fS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===hS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===pS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===mS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===jy||r===gS||r===yS)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===jy)return s===pn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===gS)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===yS)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Mj||r===vS||r===wS||r===bS)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===jy)return o.COMPRESSED_RED_RGTC1_EXT;if(r===vS)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===wS)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===bS)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Nf?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class gEe extends Zi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ug extends Yr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const yEe={type:"move"};class PE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ug,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ug,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Se,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Se),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ug,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Se,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Se),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,s=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const m of e.hand.values()){const y=n.getJointPose(m,r),p=this._getHandJoint(c,m);y!==null&&(p.matrix.fromArray(y.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=y.radius),p.visible=y!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,g=.005;c.inputState.pinching&&f>h+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(yEe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Ug;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const vEe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,wEe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class bEe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Xr,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Kl({vertexShader:vEe,fragmentShader:wEe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new as(new ob(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class xEe extends lh{constructor(e,n){super();const r=this;let i=null,o=1,s=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,g=null;const m=new bEe,y=n.getContextAttributes();let p=null,v=null;const w=[],x=[],T=new sn;let N=null;const A=new Zi;A.viewport=new Gn;const z=new Zi;z.viewport=new Gn;const S=[A,z],k=new gEe;let R=null,W=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let Z=w[J];return Z===void 0&&(Z=new PE,w[J]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(J){let Z=w[J];return Z===void 0&&(Z=new PE,w[J]=Z),Z.getGripSpace()},this.getHand=function(J){let Z=w[J];return Z===void 0&&(Z=new PE,w[J]=Z),Z.getHandSpace()};function L(J){const Z=x.indexOf(J.inputSource);if(Z===-1)return;const ce=w[Z];ce!==void 0&&(ce.update(J.inputSource,J.frame,c||s),ce.dispatchEvent({type:J.type,data:J.inputSource}))}function b(){i.removeEventListener("select",L),i.removeEventListener("selectstart",L),i.removeEventListener("selectend",L),i.removeEventListener("squeeze",L),i.removeEventListener("squeezestart",L),i.removeEventListener("squeezeend",L),i.removeEventListener("end",b),i.removeEventListener("inputsourceschange",E);for(let J=0;J<w.length;J++){const Z=x[J];Z!==null&&(x[J]=null,w[J].disconnect(Z))}R=null,W=null,m.reset(),e.setRenderTarget(p),h=null,f=null,d=null,i=null,v=null,$.stop(),r.isPresenting=!1,e.setPixelRatio(N),e.setSize(T.width,T.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){o=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){a=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(J){c=J},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(J){if(i=J,i!==null){if(p=e.getRenderTarget(),i.addEventListener("select",L),i.addEventListener("selectstart",L),i.addEventListener("selectend",L),i.addEventListener("squeeze",L),i.addEventListener("squeezestart",L),i.addEventListener("squeezeend",L),i.addEventListener("end",b),i.addEventListener("inputsourceschange",E),y.xrCompatible!==!0&&await n.makeXRCompatible(),N=e.getPixelRatio(),e.getSize(T),i.renderState.layers===void 0){const Z={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,n,Z),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),v=new _u(h.framebufferWidth,h.framebufferHeight,{format:ss,type:Ga,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let Z=null,ce=null,oe=null;y.depth&&(oe=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Z=y.stencil?Ff:qd,ce=y.stencil?Nf:Au);const Ee={colorFormat:n.RGBA8,depthFormat:oe,scaleFactor:o};d=new XRWebGLBinding(i,n),f=d.createProjectionLayer(Ee),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),v=new _u(f.textureWidth,f.textureHeight,{format:ss,type:Ga,depthTexture:new Wj(f.textureWidth,f.textureHeight,ce,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(a),$.setContext(i),$.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};function E(J){for(let Z=0;Z<J.removed.length;Z++){const ce=J.removed[Z],oe=x.indexOf(ce);oe>=0&&(x[oe]=null,w[oe].disconnect(ce))}for(let Z=0;Z<J.added.length;Z++){const ce=J.added[Z];let oe=x.indexOf(ce);if(oe===-1){for(let de=0;de<w.length;de++)if(de>=x.length){x.push(ce),oe=de;break}else if(x[de]===null){x[de]=ce,oe=de;break}if(oe===-1)break}const Ee=w[oe];Ee&&Ee.connect(ce)}}const I=new Se,O=new Se;function C(J,Z,ce){I.setFromMatrixPosition(Z.matrixWorld),O.setFromMatrixPosition(ce.matrixWorld);const oe=I.distanceTo(O),Ee=Z.projectionMatrix.elements,de=ce.projectionMatrix.elements,Re=Ee[14]/(Ee[10]-1),ae=Ee[14]/(Ee[10]+1),we=(Ee[9]+1)/Ee[5],qe=(Ee[9]-1)/Ee[5],te=(Ee[8]-1)/Ee[0],We=(de[8]+1)/de[0],Ke=Re*te,ct=Re*We,Ze=oe/(-te+We),Nt=Ze*-te;if(Z.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(Nt),J.translateZ(Ze),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert(),Ee[10]===-1)J.projectionMatrix.copy(Z.projectionMatrix),J.projectionMatrixInverse.copy(Z.projectionMatrixInverse);else{const st=Re+Ze,X=ae+Ze,V=Ke-Nt,fe=ct+(oe-Nt),_e=we*ae/X*st,Ie=qe*ae/X*st;J.projectionMatrix.makePerspective(V,fe,_e,Ie,st,X),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}}function j(J,Z){Z===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(Z.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(i===null)return;let Z=J.near,ce=J.far;m.texture!==null&&(m.depthNear>0&&(Z=m.depthNear),m.depthFar>0&&(ce=m.depthFar)),k.near=z.near=A.near=Z,k.far=z.far=A.far=ce,(R!==k.near||W!==k.far)&&(i.updateRenderState({depthNear:k.near,depthFar:k.far}),R=k.near,W=k.far),A.layers.mask=J.layers.mask|2,z.layers.mask=J.layers.mask|4,k.layers.mask=A.layers.mask|z.layers.mask;const oe=J.parent,Ee=k.cameras;j(k,oe);for(let de=0;de<Ee.length;de++)j(Ee[de],oe);Ee.length===2?C(k,A,z):k.projectionMatrix.copy(A.projectionMatrix),H(J,k,oe)};function H(J,Z,ce){ce===null?J.matrix.copy(Z.matrixWorld):(J.matrix.copy(ce.matrixWorld),J.matrix.invert(),J.matrix.multiply(Z.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(Z.projectionMatrix),J.projectionMatrixInverse.copy(Z.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=xS*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return k},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(J){l=J,f!==null&&(f.fixedFoveation=J),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=J)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(k)};let D=null;function M(J,Z){if(u=Z.getViewerPose(c||s),g=Z,u!==null){const ce=u.views;h!==null&&(e.setRenderTargetFramebuffer(v,h.framebuffer),e.setRenderTarget(v));let oe=!1;ce.length!==k.cameras.length&&(k.cameras.length=0,oe=!0);for(let de=0;de<ce.length;de++){const Re=ce[de];let ae=null;if(h!==null)ae=h.getViewport(Re);else{const qe=d.getViewSubImage(f,Re);ae=qe.viewport,de===0&&(e.setRenderTargetTextures(v,qe.colorTexture,f.ignoreDepthValues?void 0:qe.depthStencilTexture),e.setRenderTarget(v))}let we=S[de];we===void 0&&(we=new Zi,we.layers.enable(de),we.viewport=new Gn,S[de]=we),we.matrix.fromArray(Re.transform.matrix),we.matrix.decompose(we.position,we.quaternion,we.scale),we.projectionMatrix.fromArray(Re.projectionMatrix),we.projectionMatrixInverse.copy(we.projectionMatrix).invert(),we.viewport.set(ae.x,ae.y,ae.width,ae.height),de===0&&(k.matrix.copy(we.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),oe===!0&&k.cameras.push(we)}const Ee=i.enabledFeatures;if(Ee&&Ee.includes("depth-sensing")){const de=d.getDepthInformation(ce[0]);de&&de.isValid&&de.texture&&m.init(e,de,i.renderState)}}for(let ce=0;ce<w.length;ce++){const oe=x[ce],Ee=w[ce];oe!==null&&Ee!==void 0&&Ee.update(oe,Z,c||s)}D&&D(J,Z),Z.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Z}),g=null}const $=new Gj;$.setAnimationLoop(M),this.setAnimationLoop=function(J){D=J},this.dispose=function(){}}}const fc=new Xs,EEe=new Wn;function AEe(t,e){function n(y,p){y.matrixAutoUpdate===!0&&y.updateMatrix(),p.value.copy(y.matrix)}function r(y,p){p.color.getRGB(y.fogColor.value,Uj(t)),p.isFog?(y.fogNear.value=p.near,y.fogFar.value=p.far):p.isFogExp2&&(y.fogDensity.value=p.density)}function i(y,p,v,w,x){p.isMeshBasicMaterial||p.isMeshLambertMaterial?o(y,p):p.isMeshToonMaterial?(o(y,p),d(y,p)):p.isMeshPhongMaterial?(o(y,p),u(y,p)):p.isMeshStandardMaterial?(o(y,p),f(y,p),p.isMeshPhysicalMaterial&&h(y,p,x)):p.isMeshMatcapMaterial?(o(y,p),g(y,p)):p.isMeshDepthMaterial?o(y,p):p.isMeshDistanceMaterial?(o(y,p),m(y,p)):p.isMeshNormalMaterial?o(y,p):p.isLineBasicMaterial?(s(y,p),p.isLineDashedMaterial&&a(y,p)):p.isPointsMaterial?l(y,p,v,w):p.isSpriteMaterial?c(y,p):p.isShadowMaterial?(y.color.value.copy(p.color),y.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function o(y,p){y.opacity.value=p.opacity,p.color&&y.diffuse.value.copy(p.color),p.emissive&&y.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(y.map.value=p.map,n(p.map,y.mapTransform)),p.alphaMap&&(y.alphaMap.value=p.alphaMap,n(p.alphaMap,y.alphaMapTransform)),p.bumpMap&&(y.bumpMap.value=p.bumpMap,n(p.bumpMap,y.bumpMapTransform),y.bumpScale.value=p.bumpScale,p.side===zi&&(y.bumpScale.value*=-1)),p.normalMap&&(y.normalMap.value=p.normalMap,n(p.normalMap,y.normalMapTransform),y.normalScale.value.copy(p.normalScale),p.side===zi&&y.normalScale.value.negate()),p.displacementMap&&(y.displacementMap.value=p.displacementMap,n(p.displacementMap,y.displacementMapTransform),y.displacementScale.value=p.displacementScale,y.displacementBias.value=p.displacementBias),p.emissiveMap&&(y.emissiveMap.value=p.emissiveMap,n(p.emissiveMap,y.emissiveMapTransform)),p.specularMap&&(y.specularMap.value=p.specularMap,n(p.specularMap,y.specularMapTransform)),p.alphaTest>0&&(y.alphaTest.value=p.alphaTest);const v=e.get(p),w=v.envMap,x=v.envMapRotation;w&&(y.envMap.value=w,fc.copy(x),fc.x*=-1,fc.y*=-1,fc.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(fc.y*=-1,fc.z*=-1),y.envMapRotation.value.setFromMatrix4(EEe.makeRotationFromEuler(fc)),y.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=p.reflectivity,y.ior.value=p.ior,y.refractionRatio.value=p.refractionRatio),p.lightMap&&(y.lightMap.value=p.lightMap,y.lightMapIntensity.value=p.lightMapIntensity,n(p.lightMap,y.lightMapTransform)),p.aoMap&&(y.aoMap.value=p.aoMap,y.aoMapIntensity.value=p.aoMapIntensity,n(p.aoMap,y.aoMapTransform))}function s(y,p){y.diffuse.value.copy(p.color),y.opacity.value=p.opacity,p.map&&(y.map.value=p.map,n(p.map,y.mapTransform))}function a(y,p){y.dashSize.value=p.dashSize,y.totalSize.value=p.dashSize+p.gapSize,y.scale.value=p.scale}function l(y,p,v,w){y.diffuse.value.copy(p.color),y.opacity.value=p.opacity,y.size.value=p.size*v,y.scale.value=w*.5,p.map&&(y.map.value=p.map,n(p.map,y.uvTransform)),p.alphaMap&&(y.alphaMap.value=p.alphaMap,n(p.alphaMap,y.alphaMapTransform)),p.alphaTest>0&&(y.alphaTest.value=p.alphaTest)}function c(y,p){y.diffuse.value.copy(p.color),y.opacity.value=p.opacity,y.rotation.value=p.rotation,p.map&&(y.map.value=p.map,n(p.map,y.mapTransform)),p.alphaMap&&(y.alphaMap.value=p.alphaMap,n(p.alphaMap,y.alphaMapTransform)),p.alphaTest>0&&(y.alphaTest.value=p.alphaTest)}function u(y,p){y.specular.value.copy(p.specular),y.shininess.value=Math.max(p.shininess,1e-4)}function d(y,p){p.gradientMap&&(y.gradientMap.value=p.gradientMap)}function f(y,p){y.metalness.value=p.metalness,p.metalnessMap&&(y.metalnessMap.value=p.metalnessMap,n(p.metalnessMap,y.metalnessMapTransform)),y.roughness.value=p.roughness,p.roughnessMap&&(y.roughnessMap.value=p.roughnessMap,n(p.roughnessMap,y.roughnessMapTransform)),p.envMap&&(y.envMapIntensity.value=p.envMapIntensity)}function h(y,p,v){y.ior.value=p.ior,p.sheen>0&&(y.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),y.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(y.sheenColorMap.value=p.sheenColorMap,n(p.sheenColorMap,y.sheenColorMapTransform)),p.sheenRoughnessMap&&(y.sheenRoughnessMap.value=p.sheenRoughnessMap,n(p.sheenRoughnessMap,y.sheenRoughnessMapTransform))),p.clearcoat>0&&(y.clearcoat.value=p.clearcoat,y.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(y.clearcoatMap.value=p.clearcoatMap,n(p.clearcoatMap,y.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,n(p.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(y.clearcoatNormalMap.value=p.clearcoatNormalMap,n(p.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===zi&&y.clearcoatNormalScale.value.negate())),p.dispersion>0&&(y.dispersion.value=p.dispersion),p.iridescence>0&&(y.iridescence.value=p.iridescence,y.iridescenceIOR.value=p.iridescenceIOR,y.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(y.iridescenceMap.value=p.iridescenceMap,n(p.iridescenceMap,y.iridescenceMapTransform)),p.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=p.iridescenceThicknessMap,n(p.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),p.transmission>0&&(y.transmission.value=p.transmission,y.transmissionSamplerMap.value=v.texture,y.transmissionSamplerSize.value.set(v.width,v.height),p.transmissionMap&&(y.transmissionMap.value=p.transmissionMap,n(p.transmissionMap,y.transmissionMapTransform)),y.thickness.value=p.thickness,p.thicknessMap&&(y.thicknessMap.value=p.thicknessMap,n(p.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=p.attenuationDistance,y.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(y.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(y.anisotropyMap.value=p.anisotropyMap,n(p.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=p.specularIntensity,y.specularColor.value.copy(p.specularColor),p.specularColorMap&&(y.specularColorMap.value=p.specularColorMap,n(p.specularColorMap,y.specularColorMapTransform)),p.specularIntensityMap&&(y.specularIntensityMap.value=p.specularIntensityMap,n(p.specularIntensityMap,y.specularIntensityMapTransform))}function g(y,p){p.matcap&&(y.matcap.value=p.matcap)}function m(y,p){const v=e.get(p).light;y.referencePosition.value.setFromMatrixPosition(v.matrixWorld),y.nearDistance.value=v.shadow.camera.near,y.farDistance.value=v.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function _Ee(t,e,n,r){let i={},o={},s=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(v,w){const x=w.program;r.uniformBlockBinding(v,x)}function c(v,w){let x=i[v.id];x===void 0&&(g(v),x=u(v),i[v.id]=x,v.addEventListener("dispose",y));const T=w.program;r.updateUBOMapping(v,T);const N=e.render.frame;o[v.id]!==N&&(f(v),o[v.id]=N)}function u(v){const w=d();v.__bindingPointIndex=w;const x=t.createBuffer(),T=v.__size,N=v.usage;return t.bindBuffer(t.UNIFORM_BUFFER,x),t.bufferData(t.UNIFORM_BUFFER,T,N),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,x),x}function d(){for(let v=0;v<a;v++)if(s.indexOf(v)===-1)return s.push(v),v;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(v){const w=i[v.id],x=v.uniforms,T=v.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let N=0,A=x.length;N<A;N++){const z=Array.isArray(x[N])?x[N]:[x[N]];for(let S=0,k=z.length;S<k;S++){const R=z[S];if(h(R,N,S,T)===!0){const W=R.__offset,L=Array.isArray(R.value)?R.value:[R.value];let b=0;for(let E=0;E<L.length;E++){const I=L[E],O=m(I);typeof I=="number"||typeof I=="boolean"?(R.__data[0]=I,t.bufferSubData(t.UNIFORM_BUFFER,W+b,R.__data)):I.isMatrix3?(R.__data[0]=I.elements[0],R.__data[1]=I.elements[1],R.__data[2]=I.elements[2],R.__data[3]=0,R.__data[4]=I.elements[3],R.__data[5]=I.elements[4],R.__data[6]=I.elements[5],R.__data[7]=0,R.__data[8]=I.elements[6],R.__data[9]=I.elements[7],R.__data[10]=I.elements[8],R.__data[11]=0):(I.toArray(R.__data,b),b+=O.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,W,R.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(v,w,x,T){const N=v.value,A=w+"_"+x;if(T[A]===void 0)return typeof N=="number"||typeof N=="boolean"?T[A]=N:T[A]=N.clone(),!0;{const z=T[A];if(typeof N=="number"||typeof N=="boolean"){if(z!==N)return T[A]=N,!0}else if(z.equals(N)===!1)return z.copy(N),!0}return!1}function g(v){const w=v.uniforms;let x=0;const T=16;for(let A=0,z=w.length;A<z;A++){const S=Array.isArray(w[A])?w[A]:[w[A]];for(let k=0,R=S.length;k<R;k++){const W=S[k],L=Array.isArray(W.value)?W.value:[W.value];for(let b=0,E=L.length;b<E;b++){const I=L[b],O=m(I),C=x%T,j=C%O.boundary,H=C+j;x+=j,H!==0&&T-H<O.storage&&(x+=T-H),W.__data=new Float32Array(O.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=x,x+=O.storage}}}const N=x%T;return N>0&&(x+=T-N),v.__size=x,v.__cache={},this}function m(v){const w={boundary:0,storage:0};return typeof v=="number"||typeof v=="boolean"?(w.boundary=4,w.storage=4):v.isVector2?(w.boundary=8,w.storage=8):v.isVector3||v.isColor?(w.boundary=16,w.storage=12):v.isVector4?(w.boundary=16,w.storage=16):v.isMatrix3?(w.boundary=48,w.storage=48):v.isMatrix4?(w.boundary=64,w.storage=64):v.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",v),w}function y(v){const w=v.target;w.removeEventListener("dispose",y);const x=s.indexOf(w.__bindingPointIndex);s.splice(x,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete o[w.id]}function p(){for(const v in i)t.deleteBuffer(i[v]);s=[],i={},o={}}return{bind:l,update:c,dispose:p}}class Qj{constructor(e={}){const{canvas:n=fve(),context:r=null,depth:i=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=s;const g=new Uint32Array(4),m=new Int32Array(4);let y=null,p=null;const v=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=$r,this.toneMapping=Ul,this.toneMappingExposure=1;const x=this;let T=!1,N=0,A=0,z=null,S=-1,k=null;const R=new Gn,W=new Gn;let L=null;const b=new tn(0);let E=0,I=n.width,O=n.height,C=1,j=null,H=null;const D=new Gn(0,0,I,O),M=new Gn(0,0,I,O);let $=!1;const J=new Y3;let Z=!1,ce=!1;const oe=new Wn,Ee=new Wn,de=new Se,Re=new Gn,ae={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let we=!1;function qe(){return z===null?C:1}let te=r;function We(q,se){return n.getContext(q,se)}try{const q={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${G3}`),n.addEventListener("webglcontextlost",Te,!1),n.addEventListener("webglcontextrestored",nt,!1),n.addEventListener("webglcontextcreationerror",Ge,!1),te===null){const se="webgl2";if(te=We(se,q),te===null)throw We(se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(q){throw console.error("THREE.WebGLRenderer: "+q.message),q}let Ke,ct,Ze,Nt,st,X,V,fe,_e,Ie,ge,G,_,P,Q,Y,ee,ne,De,Ne,$e,ht,it,le;function ot(){Ke=new Rbe(te),Ke.init(),ht=new mEe(te,Ke),ct=new _be(te,Ke,e,ht),Ze=new fEe(te,Ke),ct.reverseDepthBuffer&&f&&Ze.buffers.depth.setReversed(!0),Nt=new Nbe(te),st=new Yxe,X=new pEe(te,Ke,Ze,st,ct,ht,Nt),V=new Cbe(x),fe=new Ibe(x),_e=new zve(te),it=new Ebe(te,_e),Ie=new Pbe(te,_e,Nt,it),ge=new Obe(te,Ie,_e,Nt),De=new Fbe(te,ct,X),Y=new Sbe(st),G=new Xxe(x,V,fe,Ke,ct,it,Y),_=new AEe(x,st),P=new Zxe,Q=new oEe(Ke),ne=new xbe(x,V,fe,Ze,ge,h,l),ee=new uEe(x,ge,ct),le=new _Ee(te,Nt,ct,Ze),Ne=new Abe(te,Ke,Nt),$e=new kbe(te,Ke,Nt),Nt.programs=G.programs,x.capabilities=ct,x.extensions=Ke,x.properties=st,x.renderLists=P,x.shadowMap=ee,x.state=Ze,x.info=Nt}ot();const xe=new xEe(x,te);this.xr=xe,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const q=Ke.get("WEBGL_lose_context");q&&q.loseContext()},this.forceContextRestore=function(){const q=Ke.get("WEBGL_lose_context");q&&q.restoreContext()},this.getPixelRatio=function(){return C},this.setPixelRatio=function(q){q!==void 0&&(C=q,this.setSize(I,O,!1))},this.getSize=function(q){return q.set(I,O)},this.setSize=function(q,se,ye=!0){if(xe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}I=q,O=se,n.width=Math.floor(q*C),n.height=Math.floor(se*C),ye===!0&&(n.style.width=q+"px",n.style.height=se+"px"),this.setViewport(0,0,q,se)},this.getDrawingBufferSize=function(q){return q.set(I*C,O*C).floor()},this.setDrawingBufferSize=function(q,se,ye){I=q,O=se,C=ye,n.width=Math.floor(q*ye),n.height=Math.floor(se*ye),this.setViewport(0,0,q,se)},this.getCurrentViewport=function(q){return q.copy(R)},this.getViewport=function(q){return q.copy(D)},this.setViewport=function(q,se,ye,be){q.isVector4?D.set(q.x,q.y,q.z,q.w):D.set(q,se,ye,be),Ze.viewport(R.copy(D).multiplyScalar(C).round())},this.getScissor=function(q){return q.copy(M)},this.setScissor=function(q,se,ye,be){q.isVector4?M.set(q.x,q.y,q.z,q.w):M.set(q,se,ye,be),Ze.scissor(W.copy(M).multiplyScalar(C).round())},this.getScissorTest=function(){return $},this.setScissorTest=function(q){Ze.setScissorTest($=q)},this.setOpaqueSort=function(q){j=q},this.setTransparentSort=function(q){H=q},this.getClearColor=function(q){return q.copy(ne.getClearColor())},this.setClearColor=function(){ne.setClearColor.apply(ne,arguments)},this.getClearAlpha=function(){return ne.getClearAlpha()},this.setClearAlpha=function(){ne.setClearAlpha.apply(ne,arguments)},this.clear=function(q=!0,se=!0,ye=!0){let be=0;if(q){let he=!1;if(z!==null){const Ue=z.texture.format;he=Ue===Q3||Ue===K3||Ue===q3}if(he){const Ue=z.texture.type,Je=Ue===Ga||Ue===Au||Ue===Rm||Ue===Nf||Ue===V3||Ue===$3,gt=ne.getClearColor(),mt=ne.getClearAlpha(),Tt=gt.r,Rt=gt.g,yt=gt.b;Je?(g[0]=Tt,g[1]=Rt,g[2]=yt,g[3]=mt,te.clearBufferuiv(te.COLOR,0,g)):(m[0]=Tt,m[1]=Rt,m[2]=yt,m[3]=mt,te.clearBufferiv(te.COLOR,0,m))}else be|=te.COLOR_BUFFER_BIT}se&&(be|=te.DEPTH_BUFFER_BIT),ye&&(be|=te.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),te.clear(be)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Te,!1),n.removeEventListener("webglcontextrestored",nt,!1),n.removeEventListener("webglcontextcreationerror",Ge,!1),P.dispose(),Q.dispose(),st.dispose(),V.dispose(),fe.dispose(),ge.dispose(),it.dispose(),le.dispose(),G.dispose(),xe.dispose(),xe.removeEventListener("sessionstart",ie),xe.removeEventListener("sessionend",me),ve.stop()};function Te(q){q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function nt(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const q=Nt.autoReset,se=ee.enabled,ye=ee.autoUpdate,be=ee.needsUpdate,he=ee.type;ot(),Nt.autoReset=q,ee.enabled=se,ee.autoUpdate=ye,ee.needsUpdate=be,ee.type=he}function Ge(q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",q.statusMessage)}function ut(q){const se=q.target;se.removeEventListener("dispose",ut),un(se)}function un(q){Ft(q),st.remove(q)}function Ft(q){const se=st.get(q).programs;se!==void 0&&(se.forEach(function(ye){G.releaseProgram(ye)}),q.isShaderMaterial&&G.releaseShaderCache(q))}this.renderBufferDirect=function(q,se,ye,be,he,Ue){se===null&&(se=ae);const Je=he.isMesh&&he.matrixWorld.determinant()<0,gt=wt(q,se,ye,be,he);Ze.setMaterial(be,Je);let mt=ye.index,Tt=1;if(be.wireframe===!0){if(mt=Ie.getWireframeAttribute(ye),mt===void 0)return;Tt=2}const Rt=ye.drawRange,yt=ye.attributes.position;let ft=Rt.start*Tt,ue=(Rt.start+Rt.count)*Tt;Ue!==null&&(ft=Math.max(ft,Ue.start*Tt),ue=Math.min(ue,(Ue.start+Ue.count)*Tt)),mt!==null?(ft=Math.max(ft,0),ue=Math.min(ue,mt.count)):yt!=null&&(ft=Math.max(ft,0),ue=Math.min(ue,yt.count));const Be=ue-ft;if(Be<0||Be===1/0)return;it.setup(he,be,gt,ye,mt);let Oe,Pe=Ne;if(mt!==null&&(Oe=_e.get(mt),Pe=$e,Pe.setIndex(Oe)),he.isMesh)be.wireframe===!0?(Ze.setLineWidth(be.wireframeLinewidth*qe()),Pe.setMode(te.LINES)):Pe.setMode(te.TRIANGLES);else if(he.isLine){let He=be.linewidth;He===void 0&&(He=1),Ze.setLineWidth(He*qe()),he.isLineSegments?Pe.setMode(te.LINES):he.isLineLoop?Pe.setMode(te.LINE_LOOP):Pe.setMode(te.LINE_STRIP)}else he.isPoints?Pe.setMode(te.POINTS):he.isSprite&&Pe.setMode(te.TRIANGLES);if(he.isBatchedMesh)if(he._multiDrawInstances!==null)Pe.renderMultiDrawInstances(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount,he._multiDrawInstances);else if(Ke.get("WEBGL_multi_draw"))Pe.renderMultiDraw(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount);else{const He=he._multiDrawStarts,xn=he._multiDrawCounts,Pt=he._multiDrawCount,On=mt?_e.get(mt).bytesPerElement:1,_t=st.get(be).currentProgram.getUniforms();for(let wi=0;wi<Pt;wi++)_t.setValue(te,"_gl_DrawID",wi),Pe.render(He[wi]/On,xn[wi])}else if(he.isInstancedMesh)Pe.renderInstances(ft,Be,he.count);else if(ye.isInstancedBufferGeometry){const He=ye._maxInstanceCount!==void 0?ye._maxInstanceCount:1/0,xn=Math.min(ye.instanceCount,He);Pe.renderInstances(ft,Be,xn)}else Pe.render(ft,Be)};function Mt(q,se,ye){q.transparent===!0&&q.side===wa&&q.forceSinglePass===!1?(q.side=zi,q.needsUpdate=!0,Ye(q,se,ye),q.side=ql,q.needsUpdate=!0,Ye(q,se,ye),q.side=wa):Ye(q,se,ye)}this.compile=function(q,se,ye=null){ye===null&&(ye=q),p=Q.get(ye),p.init(se),w.push(p),ye.traverseVisible(function(he){he.isLight&&he.layers.test(se.layers)&&(p.pushLight(he),he.castShadow&&p.pushShadow(he))}),q!==ye&&q.traverseVisible(function(he){he.isLight&&he.layers.test(se.layers)&&(p.pushLight(he),he.castShadow&&p.pushShadow(he))}),p.setupLights();const be=new Set;return q.traverse(function(he){if(!(he.isMesh||he.isPoints||he.isLine||he.isSprite))return;const Ue=he.material;if(Ue)if(Array.isArray(Ue))for(let Je=0;Je<Ue.length;Je++){const gt=Ue[Je];Mt(gt,ye,he),be.add(gt)}else Mt(Ue,ye,he),be.add(Ue)}),w.pop(),p=null,be},this.compileAsync=function(q,se,ye=null){const be=this.compile(q,se,ye);return new Promise(he=>{function Ue(){if(be.forEach(function(Je){st.get(Je).currentProgram.isReady()&&be.delete(Je)}),be.size===0){he(q);return}setTimeout(Ue,10)}Ke.get("KHR_parallel_shader_compile")!==null?Ue():setTimeout(Ue,10)})};let lr=null;function Kt(q){lr&&lr(q)}function ie(){ve.stop()}function me(){ve.start()}const ve=new Gj;ve.setAnimationLoop(Kt),typeof self<"u"&&ve.setContext(self),this.setAnimationLoop=function(q){lr=q,xe.setAnimationLoop(q),q===null?ve.stop():ve.start()},xe.addEventListener("sessionstart",ie),xe.addEventListener("sessionend",me),this.render=function(q,se){if(se!==void 0&&se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;if(q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),se.parent===null&&se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),xe.enabled===!0&&xe.isPresenting===!0&&(xe.cameraAutoUpdate===!0&&xe.updateCamera(se),se=xe.getCamera()),q.isScene===!0&&q.onBeforeRender(x,q,se,z),p=Q.get(q,w.length),p.init(se),w.push(p),Ee.multiplyMatrices(se.projectionMatrix,se.matrixWorldInverse),J.setFromProjectionMatrix(Ee),ce=this.localClippingEnabled,Z=Y.init(this.clippingPlanes,ce),y=P.get(q,v.length),y.init(),v.push(y),xe.enabled===!0&&xe.isPresenting===!0){const Ue=x.xr.getDepthSensingMesh();Ue!==null&&Me(Ue,se,-1/0,x.sortObjects)}Me(q,se,0,x.sortObjects),y.finish(),x.sortObjects===!0&&y.sort(j,H),we=xe.enabled===!1||xe.isPresenting===!1||xe.hasDepthSensing()===!1,we&&ne.addToRenderList(y,q),this.info.render.frame++,Z===!0&&Y.beginShadows();const ye=p.state.shadowsArray;ee.render(ye,q,se),Z===!0&&Y.endShadows(),this.info.autoReset===!0&&this.info.reset();const be=y.opaque,he=y.transmissive;if(p.setupLights(),se.isArrayCamera){const Ue=se.cameras;if(he.length>0)for(let Je=0,gt=Ue.length;Je<gt;Je++){const mt=Ue[Je];at(be,he,q,mt)}we&&ne.render(q);for(let Je=0,gt=Ue.length;Je<gt;Je++){const mt=Ue[Je];et(y,q,mt,mt.viewport)}}else he.length>0&&at(be,he,q,se),we&&ne.render(q),et(y,q,se);z!==null&&(X.updateMultisampleRenderTarget(z),X.updateRenderTargetMipmap(z)),q.isScene===!0&&q.onAfterRender(x,q,se),it.resetDefaultState(),S=-1,k=null,w.pop(),w.length>0?(p=w[w.length-1],Z===!0&&Y.setGlobalState(x.clippingPlanes,p.state.camera)):p=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function Me(q,se,ye,be){if(q.visible===!1)return;if(q.layers.test(se.layers)){if(q.isGroup)ye=q.renderOrder;else if(q.isLOD)q.autoUpdate===!0&&q.update(se);else if(q.isLight)p.pushLight(q),q.castShadow&&p.pushShadow(q);else if(q.isSprite){if(!q.frustumCulled||J.intersectsSprite(q)){be&&Re.setFromMatrixPosition(q.matrixWorld).applyMatrix4(Ee);const Je=ge.update(q),gt=q.material;gt.visible&&y.push(q,Je,gt,ye,Re.z,null)}}else if((q.isMesh||q.isLine||q.isPoints)&&(!q.frustumCulled||J.intersectsObject(q))){const Je=ge.update(q),gt=q.material;if(be&&(q.boundingSphere!==void 0?(q.boundingSphere===null&&q.computeBoundingSphere(),Re.copy(q.boundingSphere.center)):(Je.boundingSphere===null&&Je.computeBoundingSphere(),Re.copy(Je.boundingSphere.center)),Re.applyMatrix4(q.matrixWorld).applyMatrix4(Ee)),Array.isArray(gt)){const mt=Je.groups;for(let Tt=0,Rt=mt.length;Tt<Rt;Tt++){const yt=mt[Tt],ft=gt[yt.materialIndex];ft&&ft.visible&&y.push(q,Je,ft,ye,Re.z,yt)}}else gt.visible&&y.push(q,Je,gt,ye,Re.z,null)}}const Ue=q.children;for(let Je=0,gt=Ue.length;Je<gt;Je++)Me(Ue[Je],se,ye,be)}function et(q,se,ye,be){const he=q.opaque,Ue=q.transmissive,Je=q.transparent;p.setupLightsView(ye),Z===!0&&Y.setGlobalState(x.clippingPlanes,ye),be&&Ze.viewport(R.copy(be)),he.length>0&&rt(he,se,ye),Ue.length>0&&rt(Ue,se,ye),Je.length>0&&rt(Je,se,ye),Ze.buffers.depth.setTest(!0),Ze.buffers.depth.setMask(!0),Ze.buffers.color.setMask(!0),Ze.setPolygonOffset(!1)}function at(q,se,ye,be){if((ye.isScene===!0?ye.overrideMaterial:null)!==null)return;p.state.transmissionRenderTarget[be.id]===void 0&&(p.state.transmissionRenderTarget[be.id]=new _u(1,1,{generateMipmaps:!0,type:Ke.has("EXT_color_buffer_half_float")||Ke.has("EXT_color_buffer_float")?g0:Ga,minFilter:Hc,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Jt.workingColorSpace}));const Ue=p.state.transmissionRenderTarget[be.id],Je=be.viewport||R;Ue.setSize(Je.z,Je.w);const gt=x.getRenderTarget();x.setRenderTarget(Ue),x.getClearColor(b),E=x.getClearAlpha(),E<1&&x.setClearColor(16777215,.5),x.clear(),we&&ne.render(ye);const mt=x.toneMapping;x.toneMapping=Ul;const Tt=be.viewport;if(be.viewport!==void 0&&(be.viewport=void 0),p.setupLightsView(be),Z===!0&&Y.setGlobalState(x.clippingPlanes,be),rt(q,ye,be),X.updateMultisampleRenderTarget(Ue),X.updateRenderTargetMipmap(Ue),Ke.has("WEBGL_multisampled_render_to_texture")===!1){let Rt=!1;for(let yt=0,ft=se.length;yt<ft;yt++){const ue=se[yt],Be=ue.object,Oe=ue.geometry,Pe=ue.material,He=ue.group;if(Pe.side===wa&&Be.layers.test(be.layers)){const xn=Pe.side;Pe.side=zi,Pe.needsUpdate=!0,pt(Be,ye,be,Oe,Pe,He),Pe.side=xn,Pe.needsUpdate=!0,Rt=!0}}Rt===!0&&(X.updateMultisampleRenderTarget(Ue),X.updateRenderTargetMipmap(Ue))}x.setRenderTarget(gt),x.setClearColor(b,E),Tt!==void 0&&(be.viewport=Tt),x.toneMapping=mt}function rt(q,se,ye){const be=se.isScene===!0?se.overrideMaterial:null;for(let he=0,Ue=q.length;he<Ue;he++){const Je=q[he],gt=Je.object,mt=Je.geometry,Tt=be===null?Je.material:be,Rt=Je.group;gt.layers.test(ye.layers)&&pt(gt,se,ye,mt,Tt,Rt)}}function pt(q,se,ye,be,he,Ue){q.onBeforeRender(x,se,ye,be,he,Ue),q.modelViewMatrix.multiplyMatrices(ye.matrixWorldInverse,q.matrixWorld),q.normalMatrix.getNormalMatrix(q.modelViewMatrix),he.onBeforeRender(x,se,ye,be,q,Ue),he.transparent===!0&&he.side===wa&&he.forceSinglePass===!1?(he.side=zi,he.needsUpdate=!0,x.renderBufferDirect(ye,se,be,he,q,Ue),he.side=ql,he.needsUpdate=!0,x.renderBufferDirect(ye,se,be,he,q,Ue),he.side=wa):x.renderBufferDirect(ye,se,be,he,q,Ue),q.onAfterRender(x,se,ye,be,he,Ue)}function Ye(q,se,ye){se.isScene!==!0&&(se=ae);const be=st.get(q),he=p.state.lights,Ue=p.state.shadowsArray,Je=he.state.version,gt=G.getParameters(q,he.state,Ue,se,ye),mt=G.getProgramCacheKey(gt);let Tt=be.programs;be.environment=q.isMeshStandardMaterial?se.environment:null,be.fog=se.fog,be.envMap=(q.isMeshStandardMaterial?fe:V).get(q.envMap||be.environment),be.envMapRotation=be.environment!==null&&q.envMap===null?se.environmentRotation:q.envMapRotation,Tt===void 0&&(q.addEventListener("dispose",ut),Tt=new Map,be.programs=Tt);let Rt=Tt.get(mt);if(Rt!==void 0){if(be.currentProgram===Rt&&be.lightsStateVersion===Je)return Et(q,gt),Rt}else gt.uniforms=G.getUniforms(q),q.onBeforeCompile(gt,x),Rt=G.acquireProgram(gt,mt),Tt.set(mt,Rt),be.uniforms=gt.uniforms;const yt=be.uniforms;return(!q.isShaderMaterial&&!q.isRawShaderMaterial||q.clipping===!0)&&(yt.clippingPlanes=Y.uniform),Et(q,gt),be.needsLights=gn(q),be.lightsStateVersion=Je,be.needsLights&&(yt.ambientLightColor.value=he.state.ambient,yt.lightProbe.value=he.state.probe,yt.directionalLights.value=he.state.directional,yt.directionalLightShadows.value=he.state.directionalShadow,yt.spotLights.value=he.state.spot,yt.spotLightShadows.value=he.state.spotShadow,yt.rectAreaLights.value=he.state.rectArea,yt.ltc_1.value=he.state.rectAreaLTC1,yt.ltc_2.value=he.state.rectAreaLTC2,yt.pointLights.value=he.state.point,yt.pointLightShadows.value=he.state.pointShadow,yt.hemisphereLights.value=he.state.hemi,yt.directionalShadowMap.value=he.state.directionalShadowMap,yt.directionalShadowMatrix.value=he.state.directionalShadowMatrix,yt.spotShadowMap.value=he.state.spotShadowMap,yt.spotLightMatrix.value=he.state.spotLightMatrix,yt.spotLightMap.value=he.state.spotLightMap,yt.pointShadowMap.value=he.state.pointShadowMap,yt.pointShadowMatrix.value=he.state.pointShadowMatrix),be.currentProgram=Rt,be.uniformsList=null,Rt}function Qe(q){if(q.uniformsList===null){const se=q.currentProgram.getUniforms();q.uniformsList=Gy.seqWithValue(se.seq,q.uniforms)}return q.uniformsList}function Et(q,se){const ye=st.get(q);ye.outputColorSpace=se.outputColorSpace,ye.batching=se.batching,ye.batchingColor=se.batchingColor,ye.instancing=se.instancing,ye.instancingColor=se.instancingColor,ye.instancingMorph=se.instancingMorph,ye.skinning=se.skinning,ye.morphTargets=se.morphTargets,ye.morphNormals=se.morphNormals,ye.morphColors=se.morphColors,ye.morphTargetsCount=se.morphTargetsCount,ye.numClippingPlanes=se.numClippingPlanes,ye.numIntersection=se.numClipIntersection,ye.vertexAlphas=se.vertexAlphas,ye.vertexTangents=se.vertexTangents,ye.toneMapping=se.toneMapping}function wt(q,se,ye,be,he){se.isScene!==!0&&(se=ae),X.resetTextureUnits();const Ue=se.fog,Je=be.isMeshStandardMaterial?se.environment:null,gt=z===null?x.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:ah,mt=(be.isMeshStandardMaterial?fe:V).get(be.envMap||Je),Tt=be.vertexColors===!0&&!!ye.attributes.color&&ye.attributes.color.itemSize===4,Rt=!!ye.attributes.tangent&&(!!be.normalMap||be.anisotropy>0),yt=!!ye.morphAttributes.position,ft=!!ye.morphAttributes.normal,ue=!!ye.morphAttributes.color;let Be=Ul;be.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(Be=x.toneMapping);const Oe=ye.morphAttributes.position||ye.morphAttributes.normal||ye.morphAttributes.color,Pe=Oe!==void 0?Oe.length:0,He=st.get(be),xn=p.state.lights;if(Z===!0&&(ce===!0||q!==k)){const ho=q===k&&be.id===S;Y.setState(be,q,ho)}let Pt=!1;be.version===He.__version?(He.needsLights&&He.lightsStateVersion!==xn.state.version||He.outputColorSpace!==gt||he.isBatchedMesh&&He.batching===!1||!he.isBatchedMesh&&He.batching===!0||he.isBatchedMesh&&He.batchingColor===!0&&he.colorTexture===null||he.isBatchedMesh&&He.batchingColor===!1&&he.colorTexture!==null||he.isInstancedMesh&&He.instancing===!1||!he.isInstancedMesh&&He.instancing===!0||he.isSkinnedMesh&&He.skinning===!1||!he.isSkinnedMesh&&He.skinning===!0||he.isInstancedMesh&&He.instancingColor===!0&&he.instanceColor===null||he.isInstancedMesh&&He.instancingColor===!1&&he.instanceColor!==null||he.isInstancedMesh&&He.instancingMorph===!0&&he.morphTexture===null||he.isInstancedMesh&&He.instancingMorph===!1&&he.morphTexture!==null||He.envMap!==mt||be.fog===!0&&He.fog!==Ue||He.numClippingPlanes!==void 0&&(He.numClippingPlanes!==Y.numPlanes||He.numIntersection!==Y.numIntersection)||He.vertexAlphas!==Tt||He.vertexTangents!==Rt||He.morphTargets!==yt||He.morphNormals!==ft||He.morphColors!==ue||He.toneMapping!==Be||He.morphTargetsCount!==Pe)&&(Pt=!0):(Pt=!0,He.__version=be.version);let On=He.currentProgram;Pt===!0&&(On=Ye(be,se,he));let _t=!1,wi=!1,rc=!1;const En=On.getUniforms(),ws=He.uniforms;if(Ze.useProgram(On.program)&&(_t=!0,wi=!0,rc=!0),be.id!==S&&(S=be.id,wi=!0),_t||k!==q){Ze.buffers.depth.getReversed()?(oe.copy(q.projectionMatrix),pve(oe),mve(oe),En.setValue(te,"projectionMatrix",oe)):En.setValue(te,"projectionMatrix",q.projectionMatrix),En.setValue(te,"viewMatrix",q.matrixWorldInverse);const Qa=En.map.cameraPosition;Qa!==void 0&&Qa.setValue(te,de.setFromMatrixPosition(q.matrixWorld)),ct.logarithmicDepthBuffer&&En.setValue(te,"logDepthBufFC",2/(Math.log(q.far+1)/Math.LN2)),(be.isMeshPhongMaterial||be.isMeshToonMaterial||be.isMeshLambertMaterial||be.isMeshBasicMaterial||be.isMeshStandardMaterial||be.isShaderMaterial)&&En.setValue(te,"isOrthographic",q.isOrthographicCamera===!0),k!==q&&(k=q,wi=!0,rc=!0)}if(he.isSkinnedMesh){En.setOptional(te,he,"bindMatrix"),En.setOptional(te,he,"bindMatrixInverse");const ho=he.skeleton;ho&&(ho.boneTexture===null&&ho.computeBoneTexture(),En.setValue(te,"boneTexture",ho.boneTexture,X))}he.isBatchedMesh&&(En.setOptional(te,he,"batchingTexture"),En.setValue(te,"batchingTexture",he._matricesTexture,X),En.setOptional(te,he,"batchingIdTexture"),En.setValue(te,"batchingIdTexture",he._indirectTexture,X),En.setOptional(te,he,"batchingColorTexture"),he._colorsTexture!==null&&En.setValue(te,"batchingColorTexture",he._colorsTexture,X));const uh=ye.morphAttributes;if((uh.position!==void 0||uh.normal!==void 0||uh.color!==void 0)&&De.update(he,ye,On),(wi||He.receiveShadow!==he.receiveShadow)&&(He.receiveShadow=he.receiveShadow,En.setValue(te,"receiveShadow",he.receiveShadow)),be.isMeshGouraudMaterial&&be.envMap!==null&&(ws.envMap.value=mt,ws.flipEnvMap.value=mt.isCubeTexture&&mt.isRenderTargetTexture===!1?-1:1),be.isMeshStandardMaterial&&be.envMap===null&&se.environment!==null&&(ws.envMapIntensity.value=se.environmentIntensity),wi&&(En.setValue(te,"toneMappingExposure",x.toneMappingExposure),He.needsLights&&Ct(ws,rc),Ue&&be.fog===!0&&_.refreshFogUniforms(ws,Ue),_.refreshMaterialUniforms(ws,be,C,O,p.state.transmissionRenderTarget[q.id]),Gy.upload(te,Qe(He),ws,X)),be.isShaderMaterial&&be.uniformsNeedUpdate===!0&&(Gy.upload(te,Qe(He),ws,X),be.uniformsNeedUpdate=!1),be.isSpriteMaterial&&En.setValue(te,"center",he.center),En.setValue(te,"modelViewMatrix",he.modelViewMatrix),En.setValue(te,"normalMatrix",he.normalMatrix),En.setValue(te,"modelMatrix",he.matrixWorld),be.isShaderMaterial||be.isRawShaderMaterial){const ho=be.uniformsGroups;for(let Qa=0,Xa=ho.length;Qa<Xa;Qa++){const n5=ho[Qa];le.update(n5,On),le.bind(n5,On)}}return On}function Ct(q,se){q.ambientLightColor.needsUpdate=se,q.lightProbe.needsUpdate=se,q.directionalLights.needsUpdate=se,q.directionalLightShadows.needsUpdate=se,q.pointLights.needsUpdate=se,q.pointLightShadows.needsUpdate=se,q.spotLights.needsUpdate=se,q.spotLightShadows.needsUpdate=se,q.rectAreaLights.needsUpdate=se,q.hemisphereLights.needsUpdate=se}function gn(q){return q.isMeshLambertMaterial||q.isMeshToonMaterial||q.isMeshPhongMaterial||q.isMeshStandardMaterial||q.isShadowMaterial||q.isShaderMaterial&&q.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(q,se,ye){st.get(q.texture).__webglTexture=se,st.get(q.depthTexture).__webglTexture=ye;const be=st.get(q);be.__hasExternalTextures=!0,be.__autoAllocateDepthBuffer=ye===void 0,be.__autoAllocateDepthBuffer||Ke.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),be.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(q,se){const ye=st.get(q);ye.__webglFramebuffer=se,ye.__useDefaultFramebuffer=se===void 0},this.setRenderTarget=function(q,se=0,ye=0){z=q,N=se,A=ye;let be=!0,he=null,Ue=!1,Je=!1;if(q){const mt=st.get(q);if(mt.__useDefaultFramebuffer!==void 0)Ze.bindFramebuffer(te.FRAMEBUFFER,null),be=!1;else if(mt.__webglFramebuffer===void 0)X.setupRenderTarget(q);else if(mt.__hasExternalTextures)X.rebindTextures(q,st.get(q.texture).__webglTexture,st.get(q.depthTexture).__webglTexture);else if(q.depthBuffer){const yt=q.depthTexture;if(mt.__boundDepthTexture!==yt){if(yt!==null&&st.has(yt)&&(q.width!==yt.image.width||q.height!==yt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");X.setupDepthRenderbuffer(q)}}const Tt=q.texture;(Tt.isData3DTexture||Tt.isDataArrayTexture||Tt.isCompressedArrayTexture)&&(Je=!0);const Rt=st.get(q).__webglFramebuffer;q.isWebGLCubeRenderTarget?(Array.isArray(Rt[se])?he=Rt[se][ye]:he=Rt[se],Ue=!0):q.samples>0&&X.useMultisampledRTT(q)===!1?he=st.get(q).__webglMultisampledFramebuffer:Array.isArray(Rt)?he=Rt[ye]:he=Rt,R.copy(q.viewport),W.copy(q.scissor),L=q.scissorTest}else R.copy(D).multiplyScalar(C).floor(),W.copy(M).multiplyScalar(C).floor(),L=$;if(Ze.bindFramebuffer(te.FRAMEBUFFER,he)&&be&&Ze.drawBuffers(q,he),Ze.viewport(R),Ze.scissor(W),Ze.setScissorTest(L),Ue){const mt=st.get(q.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_CUBE_MAP_POSITIVE_X+se,mt.__webglTexture,ye)}else if(Je){const mt=st.get(q.texture),Tt=se||0;te.framebufferTextureLayer(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,mt.__webglTexture,ye||0,Tt)}S=-1},this.readRenderTargetPixels=function(q,se,ye,be,he,Ue,Je){if(!(q&&q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let gt=st.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&Je!==void 0&&(gt=gt[Je]),gt){Ze.bindFramebuffer(te.FRAMEBUFFER,gt);try{const mt=q.texture,Tt=mt.format,Rt=mt.type;if(!ct.textureFormatReadable(Tt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ct.textureTypeReadable(Rt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}se>=0&&se<=q.width-be&&ye>=0&&ye<=q.height-he&&te.readPixels(se,ye,be,he,ht.convert(Tt),ht.convert(Rt),Ue)}finally{const mt=z!==null?st.get(z).__webglFramebuffer:null;Ze.bindFramebuffer(te.FRAMEBUFFER,mt)}}},this.readRenderTargetPixelsAsync=async function(q,se,ye,be,he,Ue,Je){if(!(q&&q.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let gt=st.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&Je!==void 0&&(gt=gt[Je]),gt){const mt=q.texture,Tt=mt.format,Rt=mt.type;if(!ct.textureFormatReadable(Tt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ct.textureTypeReadable(Rt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(se>=0&&se<=q.width-be&&ye>=0&&ye<=q.height-he){Ze.bindFramebuffer(te.FRAMEBUFFER,gt);const yt=te.createBuffer();te.bindBuffer(te.PIXEL_PACK_BUFFER,yt),te.bufferData(te.PIXEL_PACK_BUFFER,Ue.byteLength,te.STREAM_READ),te.readPixels(se,ye,be,he,ht.convert(Tt),ht.convert(Rt),0);const ft=z!==null?st.get(z).__webglFramebuffer:null;Ze.bindFramebuffer(te.FRAMEBUFFER,ft);const ue=te.fenceSync(te.SYNC_GPU_COMMANDS_COMPLETE,0);return te.flush(),await hve(te,ue,4),te.bindBuffer(te.PIXEL_PACK_BUFFER,yt),te.getBufferSubData(te.PIXEL_PACK_BUFFER,0,Ue),te.deleteBuffer(yt),te.deleteSync(ue),Ue}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(q,se=null,ye=0){q.isTexture!==!0&&(Yh("WebGLRenderer: copyFramebufferToTexture function signature has changed."),se=arguments[0]||null,q=arguments[1]);const be=Math.pow(2,-ye),he=Math.floor(q.image.width*be),Ue=Math.floor(q.image.height*be),Je=se!==null?se.x:0,gt=se!==null?se.y:0;X.setTexture2D(q,0),te.copyTexSubImage2D(te.TEXTURE_2D,ye,0,0,Je,gt,he,Ue),Ze.unbindTexture()},this.copyTextureToTexture=function(q,se,ye=null,be=null,he=0){q.isTexture!==!0&&(Yh("WebGLRenderer: copyTextureToTexture function signature has changed."),be=arguments[0]||null,q=arguments[1],se=arguments[2],he=arguments[3]||0,ye=null);let Ue,Je,gt,mt,Tt,Rt,yt,ft,ue;const Be=q.isCompressedTexture?q.mipmaps[he]:q.image;ye!==null?(Ue=ye.max.x-ye.min.x,Je=ye.max.y-ye.min.y,gt=ye.isBox3?ye.max.z-ye.min.z:1,mt=ye.min.x,Tt=ye.min.y,Rt=ye.isBox3?ye.min.z:0):(Ue=Be.width,Je=Be.height,gt=Be.depth||1,mt=0,Tt=0,Rt=0),be!==null?(yt=be.x,ft=be.y,ue=be.z):(yt=0,ft=0,ue=0);const Oe=ht.convert(se.format),Pe=ht.convert(se.type);let He;se.isData3DTexture?(X.setTexture3D(se,0),He=te.TEXTURE_3D):se.isDataArrayTexture||se.isCompressedArrayTexture?(X.setTexture2DArray(se,0),He=te.TEXTURE_2D_ARRAY):(X.setTexture2D(se,0),He=te.TEXTURE_2D),te.pixelStorei(te.UNPACK_FLIP_Y_WEBGL,se.flipY),te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),te.pixelStorei(te.UNPACK_ALIGNMENT,se.unpackAlignment);const xn=te.getParameter(te.UNPACK_ROW_LENGTH),Pt=te.getParameter(te.UNPACK_IMAGE_HEIGHT),On=te.getParameter(te.UNPACK_SKIP_PIXELS),_t=te.getParameter(te.UNPACK_SKIP_ROWS),wi=te.getParameter(te.UNPACK_SKIP_IMAGES);te.pixelStorei(te.UNPACK_ROW_LENGTH,Be.width),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,Be.height),te.pixelStorei(te.UNPACK_SKIP_PIXELS,mt),te.pixelStorei(te.UNPACK_SKIP_ROWS,Tt),te.pixelStorei(te.UNPACK_SKIP_IMAGES,Rt);const rc=q.isDataArrayTexture||q.isData3DTexture,En=se.isDataArrayTexture||se.isData3DTexture;if(q.isRenderTargetTexture||q.isDepthTexture){const ws=st.get(q),uh=st.get(se),ho=st.get(ws.__renderTarget),Qa=st.get(uh.__renderTarget);Ze.bindFramebuffer(te.READ_FRAMEBUFFER,ho.__webglFramebuffer),Ze.bindFramebuffer(te.DRAW_FRAMEBUFFER,Qa.__webglFramebuffer);for(let Xa=0;Xa<gt;Xa++)rc&&te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,st.get(q).__webglTexture,he,Rt+Xa),q.isDepthTexture?(En&&te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,st.get(se).__webglTexture,he,ue+Xa),te.blitFramebuffer(mt,Tt,Ue,Je,yt,ft,Ue,Je,te.DEPTH_BUFFER_BIT,te.NEAREST)):En?te.copyTexSubImage3D(He,he,yt,ft,ue+Xa,mt,Tt,Ue,Je):te.copyTexSubImage2D(He,he,yt,ft,ue+Xa,mt,Tt,Ue,Je);Ze.bindFramebuffer(te.READ_FRAMEBUFFER,null),Ze.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else En?q.isDataTexture||q.isData3DTexture?te.texSubImage3D(He,he,yt,ft,ue,Ue,Je,gt,Oe,Pe,Be.data):se.isCompressedArrayTexture?te.compressedTexSubImage3D(He,he,yt,ft,ue,Ue,Je,gt,Oe,Be.data):te.texSubImage3D(He,he,yt,ft,ue,Ue,Je,gt,Oe,Pe,Be):q.isDataTexture?te.texSubImage2D(te.TEXTURE_2D,he,yt,ft,Ue,Je,Oe,Pe,Be.data):q.isCompressedTexture?te.compressedTexSubImage2D(te.TEXTURE_2D,he,yt,ft,Be.width,Be.height,Oe,Be.data):te.texSubImage2D(te.TEXTURE_2D,he,yt,ft,Ue,Je,Oe,Pe,Be);te.pixelStorei(te.UNPACK_ROW_LENGTH,xn),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,Pt),te.pixelStorei(te.UNPACK_SKIP_PIXELS,On),te.pixelStorei(te.UNPACK_SKIP_ROWS,_t),te.pixelStorei(te.UNPACK_SKIP_IMAGES,wi),he===0&&se.generateMipmaps&&te.generateMipmap(He),Ze.unbindTexture()},this.copyTextureToTexture3D=function(q,se,ye=null,be=null,he=0){return q.isTexture!==!0&&(Yh("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ye=arguments[0]||null,be=arguments[1]||null,q=arguments[2],se=arguments[3],he=arguments[4]||0),Yh('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(q,se,ye,be,he)},this.initRenderTarget=function(q){st.get(q).__webglFramebuffer===void 0&&X.setupRenderTarget(q)},this.initTexture=function(q){q.isCubeTexture?X.setTextureCube(q,0):q.isData3DTexture?X.setTexture3D(q,0):q.isDataArrayTexture||q.isCompressedArrayTexture?X.setTexture2DArray(q,0):X.setTexture2D(q,0),Ze.unbindTexture()},this.resetState=function(){N=0,A=0,z=null,Ze.reset(),it.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ca}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=Jt._getDrawingBufferColorSpace(e),n.unpackColorSpace=Jt._getUnpackColorSpace()}}class Xj extends Yr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Xs,this.environmentIntensity=1,this.environmentRotation=new Xs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Yj extends Xr{constructor(e,n,r,i,o,s,a,l,c){super(e,n,r,i,o,s,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ab extends nc{constructor(e=1,n=1,r=1,i=32,o=1,s=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],d=[],f=[],h=[];let g=0;const m=[],y=r/2;let p=0;v(),s===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(u),this.setAttribute("position",new Ws(d,3)),this.setAttribute("normal",new Ws(f,3)),this.setAttribute("uv",new Ws(h,2));function v(){const x=new Se,T=new Se;let N=0;const A=(n-e)/r;for(let z=0;z<=o;z++){const S=[],k=z/o,R=k*(n-e)+e;for(let W=0;W<=i;W++){const L=W/i,b=L*l+a,E=Math.sin(b),I=Math.cos(b);T.x=R*E,T.y=-k*r+y,T.z=R*I,d.push(T.x,T.y,T.z),x.set(E,A,I).normalize(),f.push(x.x,x.y,x.z),h.push(L,1-k),S.push(g++)}m.push(S)}for(let z=0;z<i;z++)for(let S=0;S<o;S++){const k=m[S][z],R=m[S+1][z],W=m[S+1][z+1],L=m[S][z+1];(e>0||S!==0)&&(u.push(k,R,L),N+=3),(n>0||S!==o-1)&&(u.push(R,W,L),N+=3)}c.addGroup(p,N,0),p+=N}function w(x){const T=g,N=new sn,A=new Se;let z=0;const S=x===!0?e:n,k=x===!0?1:-1;for(let W=1;W<=i;W++)d.push(0,y*k,0),f.push(0,k,0),h.push(.5,.5),g++;const R=g;for(let W=0;W<=i;W++){const b=W/i*l+a,E=Math.cos(b),I=Math.sin(b);A.x=S*I,A.y=y*k,A.z=S*E,d.push(A.x,A.y,A.z),f.push(0,k,0),N.x=E*.5+.5,N.y=I*.5*k+.5,h.push(N.x,N.y),g++}for(let W=0;W<i;W++){const L=T+W,b=R+W;x===!0?u.push(b,b+1,L):u.push(b+1,b,L),z+=3}c.addGroup(p,z,x===!0?1:2),p+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ab(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Hy extends b0{static get type(){return"MeshPhongMaterial"}constructor(e){super(),this.isMeshPhongMaterial=!0,this.color=new tn(16777215),this.specular=new tn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ij,this.normalScale=new sn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Xs,this.combine=H3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}const AN={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class SEe{constructor(e,n,r){const i=this;let o=!1,s=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,o===!1&&i.onStart!==void 0&&i.onStart(u,s,a),o=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],g=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return g}return null}}}const CEe=new SEe;class Z3{constructor(e){this.manager=e!==void 0?e:CEe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Z3.DEFAULT_MATERIAL_NAME="__DEFAULT";class TEe extends Z3{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=AN.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a=Pm("img");function l(){u(),AN.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(d){u(),i&&i(d),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class Jj extends Z3{constructor(e){super(e)}load(e,n,r,i){const o=new Xr,s=new TEe(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class Zj extends Yr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new tn(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}const kE=new Wn,_N=new Se,SN=new Se;class MEe{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new sn(512,512),this.map=null,this.mapPass=null,this.matrix=new Wn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Y3,this._frameExtents=new sn(1,1),this._viewportCount=1,this._viewports=[new Gn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;_N.setFromMatrixPosition(e.matrixWorld),n.position.copy(_N),SN.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(SN),n.updateMatrixWorld(),kE.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kE),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(kE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class IEe extends MEe{constructor(){super(new Hj(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class eG extends Zj{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Yr.DEFAULT_UP),this.updateMatrix(),this.target=new Yr,this.shadow=new IEe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class tG extends Zj{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:G3}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=G3);const REe=[{minFlips:5,duration:2e3,speed:1},{minFlips:6,duration:3e3,speed:1.2},{minFlips:7,duration:4e3,speed:1.4},{minFlips:8,duration:5e3,speed:1.6},{minFlips:9,duration:6e3,speed:1.8},{minFlips:10,duration:7e3,speed:2},{minFlips:12,duration:8e3,speed:2.3},{minFlips:14,duration:1e4,speed:2.6},{minFlips:16,duration:12e3,speed:3},{minFlips:20,duration:15e3,speed:3.5}],PEe=({isFlipping:t=!1,flipResult:e=null,flipDuration:n=2e3,isPlayerTurn:r=!1,onPowerCharge:i,onPowerRelease:o,chargingPlayer:s=null,isCharging:a=!1,creatorPower:l=0,joinerPower:c=0,size:u=300,creatorChoice:d=null,joinerChoice:f=null,isCreator:h=!1,customHeadsImage:g=null,customTailsImage:m=null})=>{console.log(" OptimizedGoldCoin rendering with size:",u,"props:",{isFlipping:t,flipResult:e,isPlayerTurn:r}),console.log(" Component timestamp:",Date.now());const y=U.useRef(null),p=U.useRef(null),v=U.useRef(null),w=U.useRef(null),x=U.useRef({}),T=U.useRef(null),N=U.useRef(!1),A=U.useRef({level:"high",fps:60}),z=U.useRef(0),S=U.useRef(performance.now()),k=()=>{const O=A.current.fps;return O<30?"low":O<50?"medium":"high"},R=()=>{z.current++;const O=performance.now(),C=O-S.current;C>=1e3&&(A.current.fps=Math.round(z.current*1e3/C),A.current.level=k(),z.current=0,S.current=O)},W=()=>{const O=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),C=A.current.level;if(O)return C==="low"?24:32;switch(C){case"low":return 32;case"medium":return 48;case"high":return 64;default:return 48}},L=(O,C=null)=>{const j=`${O}-${C||"default"}`;if(x.current[j])return x.current[j];if(C){const Z=new Jj().load(C);return Z.colorSpace=$r,x.current[j]=Z,Z}const H=A.current.level==="low"?256:512,D=document.createElement("canvas");D.width=H,D.height=H;const M=D.getContext("2d");O==="edge"?(M.fillStyle="#F5F5F5",M.fillRect(0,0,H,H)):M.clearRect(0,0,H,H);const $=new Yj(D);return $.colorSpace=$r,x.current[j]=$,$};U.useEffect(()=>{if(!y.current||p.current)return;console.log(" Creating new Three.js scene for OptimizedGoldCoin with size:",u);const O=new Xj,C=new Zi(50,1,.1,1e3);C.position.set(0,3,10),C.lookAt(0,0,0);const j=new Qj({antialias:A.current.level!=="low",alpha:!0,powerPreference:"high-performance"});j.setSize(u,u),j.setClearColor(0,0),j.setPixelRatio(Math.min(window.devicePixelRatio,2)),j.domElement.style.display="block",j.domElement.style.margin="0 auto",j.domElement.style.position="relative",j.domElement.style.left="50%",j.domElement.style.transform="translateX(-50%)",y.current.appendChild(j.domElement),p.current=O,v.current=j;const H=new tG(16777215,1.2);O.add(H);const D=new eG(16777215,1);D.position.set(5,5,5),O.add(D),console.log(" Creating materials at:",Date.now());const M=[new Hy({map:L("edge"),color:16777215,shininess:80,specular:4473924}),new Hy({map:L("heads",g),color:16777215,shininess:80,specular:4473924}),new Hy({map:L("tails",m),color:16777215,shininess:80,specular:4473924})],$=W(),J=new ab(3,3,.4,$),Z=new as(J,M);Z.scale.y=1.5,O.add(Z),w.current=Z,Z.rotation.x=0,Z.rotation.y=Math.PI/2,Z.rotation.z=0;const ce=()=>{if(!w.current||!v.current)return;R();const oe=w.current,Ee=Date.now()*.001,de=A.current.level;if(!N.current)if(a&&!N.current){const Re=Math.min(1,(l+c)/20);if(de!=="low"){const ae=1+Math.sin(Ee*10)*.05*Re;oe.scale.set(ae,ae,ae),oe.position.y=Math.sin(Ee*5)*.05*Re}oe.rotation.x+=.01*(1+Re*.5)}else de!=="low"&&(oe.rotation.x+=.003,oe.position.y=Math.sin(Ee*2)*.01),oe.scale.set(1,1,1),oe.position.x=0,oe.position.z=0;j.render(O,C),T.current=requestAnimationFrame(ce)};if(A.current.level==="low"){let oe=0;const de=1e3/30,Re=ae=>{ae-oe>=de&&(ce(),oe=ae),T.current=requestAnimationFrame(Re)};Re(0)}else ce();return()=>{T.current&&cancelAnimationFrame(T.current),console.log(" Cleaning up OptimizedGoldCoin Three.js scene"),M.forEach(oe=>{oe.map&&oe.map.dispose(),oe.dispose()}),J.dispose(),j.dispose(),Object.values(x.current).forEach(oe=>{oe.dispose()}),x.current={},p.current=null,v.current=null}},[u,g,m]),U.useEffect(()=>{if(!w.current)return;const O=w.current;Object.values(x.current).forEach(C=>{C.dispose()}),x.current={},O.material[1]&&(O.material[1].map&&O.material[1].map.dispose(),O.material[1].map=L("heads",g),O.material[1].needsUpdate=!0),O.material[2]&&(O.material[2].map&&O.material[2].map.dispose(),O.material[2].map=L("tails",m),O.material[2].needsUpdate=!0),O.material[0]&&(O.material[0].map&&O.material[0].map.dispose(),O.material[0].map=L("edge"),O.material[0].needsUpdate=!0)},[g,m,d,f]);const b=(O,C)=>{if(!w.current)return;const j=200,H=Date.now(),D=w.current,M={x:D.rotation.x,y:D.rotation.y,z:D.rotation.z},J=Math.floor(M.x/(Math.PI*2))*Math.PI*2+O,Z=()=>{const ce=Date.now()-H,oe=Math.min(ce/j,1),Ee=oe<.5?2*oe*oe:1-Math.pow(-2*oe+2,2)/2;D.rotation.x=M.x+(J-M.x)*Ee,D.rotation.y=Math.PI/2,D.rotation.z=0,D.position.y=0,oe<.3&&(D.position.y=Math.sin(oe*10)*.1*(1-oe*3)),oe<1?requestAnimationFrame(Z):(D.rotation.x=J,D.rotation.y=Math.PI/2,D.rotation.z=0,N.current=!1,console.log(" Desktop coin animation fully complete - winner should be announced now"))};Z()};U.useEffect(()=>!t||!e||!w.current?void 0:((()=>{if(N.current)return;N.current=!0;const C=w.current,j=(l||0)+(c||0),H=Math.max(1,Math.min(10,Math.ceil(j))),D=REe[Math.max(0,H-1)],{minFlips:M,duration:$,speed:J}=D,Z=Math.PI*2,ce=M*Z,oe=Math.random()*Math.PI*4,Ee=ce+oe,Re=e==="heads"?0:Math.PI,ae=Date.now(),we={x:C.rotation.x,y:C.rotation.y,z:C.rotation.z},qe=(5+H*.5)/2,te=J,We=()=>{const Ke=Date.now()-ae,ct=Math.min(Ke/$,1),Ze=1-Math.pow(1-ct,3),Nt=Math.sin(ct*Math.PI);C.position.y=Nt*qe,C.rotation.x=we.x+Ee*Ze*te,C.rotation.y=Math.PI/2,C.rotation.z=0,ct<1?requestAnimationFrame(We):b(Re)};We()})(),()=>{N.current=!1}),[t,e,n,l,c]);const E=O=>{!r||!i||(O.preventDefault(),i(O))},I=O=>{!r||!o||(O.preventDefault(),o(O))};return F("div",{ref:y,onMouseDown:r?E:void 0,onMouseUp:r?I:void 0,onMouseLeave:r?I:void 0,onTouchStart:r?E:void 0,onTouchEnd:r?I:void 0,style:{width:u,height:u,cursor:r?"pointer":"default",userSelect:"none",touchAction:"none",position:"relative",margin:"0 auto",display:"block",background:a?"radial-gradient(circle, rgba(255,20,147,0.1) 0%, transparent 70%)":"transparent",transition:"background 0.3s ease",borderRadius:"50%"}})},kEe=[{minFlips:5,duration:2e3,speed:1},{minFlips:6,duration:3e3,speed:1.2},{minFlips:7,duration:4e3,speed:1.4},{minFlips:8,duration:5e3,speed:1.6},{minFlips:9,duration:6e3,speed:1.8},{minFlips:10,duration:7e3,speed:2},{minFlips:12,duration:8e3,speed:2.3},{minFlips:14,duration:1e4,speed:2.6},{minFlips:16,duration:12e3,speed:3},{minFlips:20,duration:15e3,speed:3.5}],NEe=({isFlipping:t,flipResult:e,flipDuration:n=3e3,onPowerCharge:r,onPowerRelease:i,isPlayerTurn:o,isCharging:s=!1,chargingPlayer:a,creatorPower:l=0,joinerPower:c=0,creatorChoice:u=null,joinerChoice:d=null,isCreator:f=!1,customHeadsImage:h=null,customTailsImage:g=null,size:m=187})=>{const y=U.useRef(null),p=U.useRef(null),v=U.useRef(null),w=U.useRef(null),x=U.useRef(null),T=U.useRef(!1),N=U.useRef("heads"),A=U.useRef({}),z=U.useRef({}),S=U.useRef(0),k=U.useRef(Date.now()),[R,W]=U.useState(!1),L=(O,C=null)=>{const j=`${O}-${C||"default"}-${u}-${d}`;if(A.current[j])return A.current[j];if(C){const J=new Jj().load(C);return J.colorSpace=$r,J.generateMipmaps=!1,J.minFilter=Pi,J.magFilter=Pi,A.current[j]=J,J}const H=document.createElement("canvas");H.width=256,H.height=256;const D=H.getContext("2d");if(O==="heads"){const $=D.createRadialGradient(128,128,0,128,128,128);$.addColorStop(0,"#FFFFFF"),$.addColorStop(.3,"#FFD700"),$.addColorStop(.7,"#FFA500"),$.addColorStop(1,"#CD853F"),D.fillStyle=$,D.fillRect(0,0,256,256),D.fillStyle="#2C1810",D.font="bold 64px serif",D.textAlign="center",D.textBaseline="middle",D.fillText("",128,108),u==="heads"&&f||d==="heads"&&!f?(D.fillStyle="#00FF00",D.shadowColor="#00FF00",D.shadowBlur=8):u==="heads"&&!f||d==="heads"&&f?(D.fillStyle="#FF0000",D.shadowColor="#FF0000",D.shadowBlur=8):(D.fillStyle="#2C1810",D.shadowBlur=0),D.font="bold 32px Arial",D.fillText("HEADS",128,148),D.shadowBlur=0,D.strokeStyle="#8B4513",D.lineWidth=4,D.beginPath(),D.arc(128,128,120,0,Math.PI*2),D.stroke()}else if(O==="tails"){const $=D.createRadialGradient(128,128,0,128,128,128);$.addColorStop(0,"#FFFFFF"),$.addColorStop(.3,"#FFD700"),$.addColorStop(.7,"#FFA500"),$.addColorStop(1,"#CD853F"),D.fillStyle=$,D.fillRect(0,0,256,256),D.fillStyle="#2C1810",D.font="bold 64px serif",D.textAlign="center",D.textBaseline="middle",D.fillText("",128,108),u==="tails"&&f||d==="tails"&&!f?(D.fillStyle="#00FF00",D.shadowColor="#00FF00",D.shadowBlur=8):u==="tails"&&!f||d==="tails"&&f?(D.fillStyle="#FF0000",D.shadowColor="#FF0000",D.shadowBlur=8):(D.fillStyle="#2C1810",D.shadowBlur=0),D.font="bold 32px Arial",D.fillText("TAILS",128,148),D.shadowBlur=0,D.strokeStyle="#8B4513",D.lineWidth=4,D.beginPath(),D.arc(128,128,120,0,Math.PI*2),D.stroke()}else if(O==="edge"){D.fillStyle="#DAA520",D.fillRect(0,0,256,256),D.strokeStyle="#B8860B",D.lineWidth=2;for(let $=0;$<256;$+=8)D.beginPath(),D.moveTo($,0),D.lineTo($,256),D.stroke()}const M=new Yj(H);return M.colorSpace=$r,M.generateMipmaps=!1,M.minFilter=Pi,M.magFilter=Pi,A.current[j]=M,M},b=(O,C=null)=>{const j=`material-${O}-${C||"default"}-${u}-${d}`;if(z.current[j])return z.current[j];const H=new Hy({map:L(O,C),color:16777215,shininess:60,specular:3355443});return z.current[j]=H,H},E=(O,C)=>{if(!p.current)return;const j=150,H=Date.now(),D=p.current,M=D.rotation.x,J=Math.floor(M/(Math.PI*2))*Math.PI*2+O,Z=()=>{const ce=Date.now()-H,oe=Math.min(ce/j,1),Ee=1-Math.pow(1-oe,2);D.rotation.x=M+(J-M)*Ee,D.position.y=0,D.rotation.y=Math.PI/2,D.rotation.z=0,oe<1?requestAnimationFrame(Z):(D.rotation.x=J,D.rotation.y=Math.PI/2,D.rotation.z=0,N.current=C?"heads":"tails",T.current=!1,console.log(" Mobile coin animation fully complete - winner should be announced now"))};Z()},I=O=>{if(!p.current){console.warn(" No coin ref available for flip");return}if(T.current){console.log(" Flip already in progress, skipping");return}console.log(" Mobile 3D flip starting with power mechanics:",{result:O,testMode:R,isFlipping:t,currentSide:N.current,coinVisible:p.current?.visible!==!1}),T.current=!0;const C=p.current;C.visible=!0,C.visible||(console.warn(" Mobile coin became invisible during flip - forcing visible"),C.visible=!0);const j=(l||0)+(c||0)||5,H=Math.max(1,Math.min(10,Math.ceil(j))),D=kEe[Math.max(0,H-1)],{minFlips:M,duration:$,speed:J}=D,Z=Math.PI*2,ce=M*Z+Math.random()*Math.PI*2,oe=O==="heads",Ee=oe?0:Math.PI,de=Date.now(),Re=C.rotation.x,ae=(4+H*.3)/2,we=()=>{if(!p.current){console.warn(" Coin disappeared during animation"),T.current=!1;return}if(!T.current){console.log(" Animation stopped externally");return}const qe=Date.now()-de,te=Math.min(qe/$,1),We=1-Math.pow(1-te,2);C.position.y=Math.sin(te*Math.PI)*ae,C.rotation.x=Re+ce*We*J,te<1?requestAnimationFrame(we):E(Ee,oe)};we()};return U.useEffect(()=>{if(!y.current||v.current)return;console.log(" Creating mobile optimized 3D coin");const O=new Xj,C=new Zi(45,1,.1,1e3);C.position.set(0,3,10),C.lookAt(0,0,0);const j=new Qj({antialias:!1,alpha:!0,powerPreference:"high-performance"});j.setSize(m,m),j.setClearColor(0,0),j.setPixelRatio(Math.min(window.devicePixelRatio,2)),j.domElement.style.display="block",j.domElement.style.margin="0 auto",y.current.appendChild(j.domElement),v.current=O,w.current=j;const H=new tG(16777215,1);O.add(H);const D=new eG(16777215,.8);D.position.set(3,3,5),O.add(D);const M=[b("edge"),b("heads",h),b("tails",g)],$=new ab(3,3,.4,32),J=new as($,M);J.scale.y=1.5,O.add(J),p.current=J,J.rotation.x=0,J.rotation.y=Math.PI/2,J.rotation.z=0,J.visible=!0,N.current="heads",console.log(" Mobile coin initialized:",{position:J.position,rotation:J.rotation,visible:J.visible,scale:J.scale});const Z=()=>{if(!p.current||!w.current){console.warn(" Missing refs in animation loop:",{coin:!!p.current,renderer:!!w.current});return}const ce=p.current,oe=Date.now()*.001;if(ce.visible=!0,ce.visible||(console.warn(" Mobile coin visibility issue detected - forcing visible"),ce.visible=!0),!T.current)if(s){const Ee=(l+c)/20;ce.position.y=Math.sin(oe*6)*.1*Ee,ce.scale.set(1+Ee*.05,1+Ee*.05,1+Ee*.05)}else ce.scale.set(1,1,1),ce.position.set(0,0,0),ce.position.y=Math.sin(oe*2)*.02;S.current++,Date.now()-k.current>1e3&&(console.log(` Mobile 3D FPS: ${S.current} | Coin visible: ${ce.visible} | Test: ${R}`),S.current=0,k.current=Date.now()),w.current.render(O,C),x.current=requestAnimationFrame(Z)};return Z(),()=>{x.current&&cancelAnimationFrame(x.current),y.current&&j.domElement&&y.current.removeChild(j.domElement),$.dispose(),M.forEach(ce=>ce.dispose()),j.dispose()}},[m]),U.useEffect(()=>{if(!p.current)return;console.log(" Updating mobile coin textures:",{creatorChoice:u,joinerChoice:d});const O=p.current;O.visible=!0;try{if(O.material&&O.material[1]){const C=L("heads",h);O.material[1].map=C,O.material[1].needsUpdate=!0}if(O.material&&O.material[2]){const C=L("tails",g);O.material[2].map=C,O.material[2].needsUpdate=!0}}catch(C){console.warn("Error updating mobile coin textures:",C)}O.visible=!0},[u,d,h,g]),U.useEffect(()=>{!t||!e||R||I(e)},[t,e,l,c]),F("div",{style:{position:"relative"},children:F("div",{ref:y,style:{width:m,height:m,margin:"0 auto",cursor:o?"pointer":"default"},onTouchStart:R?void 0:r,onTouchEnd:R?void 0:i})})},CN=({creatorPower:t=0,joinerPower:e=0,currentPlayer:n=null,creator:r=null,joiner:i=null,chargingPlayer:o=null,gamePhase:s=null,isMyTurn:a=!1,playerChoice:l=null,onChoiceSelect:c=null,isMobile:u=!1})=>{const d=t+e,f=10,h=s==="choosing"&&a&&!l&&c;console.log(" PowerDisplay Debug:",{gamePhase:s,isMyTurn:a,playerChoice:l,currentPlayer:n,creator:r,joiner:i,showChoiceButtons:h,hasOnChoiceSelect:!!c});const g=s==="round_active"||l;if(!h&&!g&&s!=="choosing")return null;const m=u?{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)",width:"100%"}:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(25, 20, 0, 0.8) 100%)",padding:"1.5rem",borderRadius:"1rem",border:"2px solid #FFD700",backdropFilter:"blur(10px)",maxWidth:"550px",margin:"0 auto",boxShadow:"0 0 20px rgba(255, 215, 0, 0.3), inset 0 0 20px rgba(255, 215, 0, 0.1)"},y=u?{color:tt.colors.neonYellow,fontSize:"1rem",fontWeight:"bold",textAlign:"center",marginBottom:"1rem"}:{color:"#FFD700",fontSize:"1.1rem",fontWeight:"bold",textAlign:"center",marginBottom:"1.2rem",textShadow:"0 0 10px rgba(255, 215, 0, 0.5)",letterSpacing:"1px"},p=u?{width:"100%",padding:"1rem",fontSize:"1rem",minHeight:"50px"}:{flex:1,padding:"1.5rem",fontSize:"1.2rem"};return K("div",{style:m,children:[F("div",{style:y,children:" POWER LEVEL "}),h&&K("div",{style:{marginBottom:u?"1rem":"1.5rem"},children:[F("div",{style:{color:u?tt.colors.neonYellow:"#FFD700",fontSize:u?"0.9rem":"1rem",fontWeight:"bold",marginBottom:u?"0.75rem":"1rem",textAlign:"center"},children:" CHOOSE YOUR SIDE"}),K("div",{style:{display:"flex",gap:u?"0.75rem":"1rem",flexDirection:u?"column":"row"},children:[F("button",{onClick:()=>{console.log(" HEADS clicked by:",n,"gamePhase:",s),c?c("heads"):console.error(" onChoiceSelect is null!")},style:{...p,background:"linear-gradient(45deg, #00FF41, #00CC33)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:u?"0.75rem":"1rem",color:"#000000",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 0 20px rgba(0, 255, 65, 0.5)",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)",position:"relative",overflow:"hidden",animation:"colorPulse 2s ease infinite"},children:"HEADS"}),F("button",{onClick:()=>{console.log(" TAILS clicked by:",n,"gamePhase:",s),c?c("tails"):console.error(" onChoiceSelect is null!")},style:{...p,background:"#FF1493",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:u?"0.75rem":"1rem",color:"white",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 0 20px rgba(255, 20, 147, 0.5)",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)",position:"relative",overflow:"hidden",animation:"colorPulse 2s ease infinite"},children:"TAILS"})]})]}),(g||!h)&&K("div",{children:[K("div",{style:{marginBottom:u?"1rem":"1.2rem"},children:[K("div",{style:{color:u?tt.colors.neonYellow:"#FFD700",fontSize:u?"0.85rem":"0.95rem",fontWeight:"bold",marginBottom:u?"0.5rem":"0.6rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("span",{children:"Total Power"}),K("span",{style:{color:u?tt.colors.neonYellow:"#FFD700",textShadow:u?"none":"0 0 5px rgba(255, 215, 0, 0.8)"},children:[d.toFixed(1),"/10"]})]}),K("div",{style:{height:u?"16px":"24px",background:"linear-gradient(90deg, rgba(0, 0, 0, 0.8) 0%, rgba(40, 30, 0, 0.6) 100%)",borderRadius:u?"8px":"12px",overflow:"hidden",border:u?"2px solid #FFD700":"3px solid #FFD700",position:"relative",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.5)"},children:[F("div",{style:{height:"100%",width:`${d/f*100}%`,background:o?"linear-gradient(90deg, #FFD700 0%, #FFA500 30%, #FF6B00 60%, #FF1493 100%)":"linear-gradient(90deg, #FFD700 0%, #FFA500 50%, #FF6B00 100%)",borderRadius:u?"6px":"9px",transition:"width 0.15s ease-out",backgroundSize:"200% 100%",animation:o?"powerCharge 0.6s linear infinite":"none",boxShadow:o?"0 0 15px rgba(255, 215, 0, 0.8), inset 0 0 10px rgba(255, 255, 255, 0.3)":"0 0 8px rgba(255, 215, 0, 0.6)"}}),F("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 0.5rem"},children:[2,4,6,8].map(v=>F("div",{style:{width:"2px",height:"70%",background:"rgba(255, 255, 255, 0.4)",opacity:d>=v?1:.3}},v))})]})]}),o&&F("div",{style:{padding:u?"0.5rem":"0.6rem",background:"linear-gradient(90deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 165, 0, 0.1) 100%)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:u?"0.5rem":"0.75rem",textAlign:"center"},children:K("div",{style:{color:u?tt.colors.neonYellow:"#FFD700",fontSize:u?"0.8rem":"0.9rem",fontWeight:"bold",animation:"powerPulse 0.4s ease-in-out infinite",textShadow:u?"none":"0 0 10px rgba(255, 215, 0, 0.8)"},children:[" ",o===r?"PLAYER 1":"PLAYER 2"," CHARGING "]})})]})]})},nG=Ae("div",{target:"ev7jjqq2"})("position:relative;width:",t=>t.size,"px;height:",t=>t.size,"px;border-radius:",t=>t.style?.borderRadius||"50%",";overflow:hidden;cursor:",t=>t.isClickable?"pointer":"default",";border:",t=>t.style?.border||"2px solid rgba(255, 255, 255, 0.2)",";background:rgba(0, 0, 0, 0.3);display:flex;align-items:center;justify-content:center;transition:all 0.3s ease;&:hover{border-color:",t=>t.isClickable?"rgba(255, 20, 147, 0.5)":t.style?.border,";box-shadow:",t=>t.isClickable?"0 0 15px rgba(255, 20, 147, 0.3)":"none",";}"),FEe=Ae("img",{target:"ev7jjqq1"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"}),OEe=Ae("div",{target:"ev7jjqq0"})("position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:white;font-size:1.5rem;opacity:0;transition:opacity 0.3s ease;pointer-events:none;",nG,":hover &{opacity:1;}"),TN=({address:t,size:e=40,isClickable:n=!1,showUploadIcon:r=!1,profileData:i=null,style:o={}})=>{const{getProfilePicture:s,setProfilePicture:a}=R3(),{address:l}=fo(),[c,u]=U.useState(i?.imageUrl||null),[d,f]=U.useState(!0);return U.useEffect(()=>{if(i?.imageUrl){u(i.imageUrl),f(!1);return}(async()=>{if(t)try{f(!0);const m=await s(t);u(m)}catch(m){console.error("Error loading profile picture:",m)}finally{f(!1)}})()},[t,i,s]),K(nG,{size:e,isClickable:n,onClick:async g=>{if(!n)return;const m=document.createElement("input");m.type="file",m.accept="image/*",m.onchange=async y=>{const p=y.target.files[0];if(p){if(p.size>5*1024*1024){alert("Image size must be less than 5MB");return}const v=new FileReader;v.onload=async w=>{try{const x=w.target.result;await a(t,x),u(x)}catch(x){console.error("Error uploading profile picture:",x)}},v.readAsDataURL(p)}},m.click()},style:o,children:[c?F(FEe,{src:c,alt:"Profile"}):F("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:`${e*.4}px`},children:t?.slice(0,2).toUpperCase()}),r&&n&&F(OEe,{children:""})]})},BEe="/assets/mobile-DNcTw2U2.webm",rG=Ae("div",{target:"e12jjgri4"})("position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);width:",t=>t.isMobile?"320px":"400px",";background:rgba(0, 0, 0, 0.9);border-radius:1.5rem;z-index:1000;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;padding:1rem;backdrop-filter:blur(10px);"),LEe=Ae(rG,{target:"e12jjgri3"})(""),MN=Ae("div",{target:"e12jjgri2"})("position:relative;width:",t=>t.isMobile?"280px":"360px",";height:",t=>t.isMobile?"280px":"360px",";border-radius:1rem;overflow:hidden;border:",t=>t.isWinner?"3px solid #00FF41":"3px solid #FF1493",";box-shadow:",t=>t.isWinner?"0 0 30px rgba(0, 255, 65, 0.6), 0 0 60px rgba(0, 255, 65, 0.3)":"0 0 30px rgba(255, 20, 147, 0.6), 0 0 60px rgba(255, 20, 147, 0.3)",";animation:",t=>t.isWinner?"winnerGlow":"loserGlow"," 2s ease-in-out infinite alternate;@keyframes winnerGlow{0%{box-shadow:0 0 30px rgba(0, 255, 65, 0.4),0 0 60px rgba(0, 255, 65, 0.2);}100%{box-shadow:0 0 40px rgba(0, 255, 65, 0.6),0 0 80px rgba(0, 255, 65, 0.3);}}@keyframes loserGlow{0%{box-shadow:0 0 30px rgba(255, 20, 147, 0.4),0 0 60px rgba(255, 20, 147, 0.2);}100%{box-shadow:0 0 40px rgba(255, 20, 147, 0.6),0 0 80px rgba(255, 20, 147, 0.3);}}"),IN=Ae("div",{target:"e12jjgri1"})("width:100%;display:flex;flex-direction:column;gap:1rem;align-items:center;padding:1rem;background:rgba(0, 0, 0, 0.8);border-radius:1rem;border:2px solid ",t=>t.isWinner?"#00FF41":"#FF1493",";backdrop-filter:blur(10px);animation:buttonFlash 2s ease-in-out infinite;@keyframes buttonFlash{0%,100%{border-color:",t=>t.isWinner?"rgba(0, 255, 65, 0.6)":"rgba(255, 20, 147, 0.6)",";box-shadow:0 0 20px ",t=>t.isWinner?"rgba(0, 255, 65, 0.3)":"rgba(255, 20, 147, 0.3)",";}50%{border-color:",t=>t.isWinner?"rgba(0, 255, 65, 1)":"rgba(255, 20, 147, 1)",";box-shadow:0 0 30px ",t=>t.isWinner?"rgba(0, 255, 65, 0.6)":"rgba(255, 20, 147, 0.6)",";}}"),iG=({isVisible:t,isWinner:e,flipResult:n,playerChoice:r,onClose:i,onClaimWinnings:o,gameData:s=null})=>{const a=ih(),l=window.innerWidth<=768;if(!t)return null;const c=()=>{a("/")};return K("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(10px)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",animation:"fadeIn 0.3s ease-in-out"},children:[e&&K(rG,{isMobile:l,children:[F(MN,{isMobile:l,isWinner:!0,children:F("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"},src:"/images/video/LoseWin/final lose win/endwin.webm",onError:d=>{console.error("Video playback error:",d),console.log("Video source:",d.target.src);const f=["/images/video/LoseWin/final lose win/endwin.webm","images/video/LoseWin/final lose win/endwin.webm","./images/video/LoseWin/final lose win/endwin.webm"],g=(f.indexOf(d.target.src)+1)%f.length;d.target.src=f[g]},onLoadedData:d=>{console.log("Video loaded successfully"),d.target.play().catch(f=>console.error("Play error:",f))}},"win")}),K(IN,{isWinner:!0,children:[F("h2",{style:{color:"#00FF41",textShadow:"0 0 10px #00FF41",marginBottom:"0.5rem",fontSize:"1.4rem",textAlign:"center"},children:" You Won!"}),F("p",{style:{fontSize:"1rem",marginBottom:"1rem",color:"white",textAlign:"center"},children:"Congratulations!"}),K("div",{style:{display:"flex",gap:"0.75rem",width:"100%"},children:[F("button",{onClick:()=>{o&&o()},style:{flex:1,background:"linear-gradient(135deg, #00FF41, #39FF14)",color:"#000",border:"none",padding:"1rem 0.75rem",borderRadius:"0.75rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(0, 255, 65, 0.5)",transition:"all 0.3s ease",textTransform:"uppercase",animation:"collectFlash 1.5s ease-in-out infinite"},onMouseOver:d=>{d.currentTarget.style.transform="scale(1.05)",d.currentTarget.style.boxShadow="0 0 25px rgba(0, 255, 65, 0.7)"},onMouseOut:d=>{d.currentTarget.style.transform="scale(1)",d.currentTarget.style.boxShadow="0 0 20px rgba(0, 255, 65, 0.5)"},children:" COLLECT"}),F("button",{onClick:c,style:{flex:1,background:"linear-gradient(135deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"1rem 0.75rem",borderRadius:"0.75rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(255, 20, 147, 0.5)",transition:"all 0.3s ease",textTransform:"uppercase"},onMouseOver:d=>{d.currentTarget.style.transform="scale(1.05)",d.currentTarget.style.boxShadow="0 0 25px rgba(255, 20, 147, 0.7)"},onMouseOut:d=>{d.currentTarget.style.transform="scale(1)",d.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.5)"},children:" HOME"})]})]})]}),!e&&K(LEe,{isMobile:l,children:[F(MN,{isMobile:l,isWinner:!1,children:F("video",{autoPlay:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"},src:"/images/video/LoseWin/final lose win/endlose.webm",onError:d=>{console.error("Video playback error:",d),console.log("Video source:",d.target.src);const f=["/images/video/LoseWin/final lose win/endlose.webm","images/video/LoseWin/final lose win/endlose.webm","./images/video/LoseWin/final lose win/endlose.webm"],g=(f.indexOf(d.target.src)+1)%f.length;d.target.src=f[g]},onLoadedData:d=>{console.log("Video loaded successfully"),d.target.play().catch(f=>console.error("Play error:",f))}},"lose")}),K(IN,{isWinner:!1,children:[F("h2",{style:{color:"#FF1493",textShadow:"0 0 10px #FF1493",marginBottom:"0.5rem",fontSize:"1.4rem",textAlign:"center"},children:" You Lost"}),F("p",{style:{fontSize:"1rem",marginBottom:"1rem",color:"white",textAlign:"center"},children:"Better luck next time!"}),F("button",{onClick:c,style:{width:"100%",background:"linear-gradient(135deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"1rem",borderRadius:"0.75rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(255, 20, 147, 0.5)",transition:"all 0.3s ease",textTransform:"uppercase",animation:"homeFlash 1.5s ease-in-out infinite"},onMouseOver:d=>{d.currentTarget.style.transform="scale(1.05)",d.currentTarget.style.boxShadow="0 0 25px rgba(255, 20, 147, 0.7)"},onMouseOut:d=>{d.currentTarget.style.transform="scale(1)",d.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.5)"},children:" HOME"})]})]})]})},DEe=Ae("div",{target:"e1v3jcde7"})({name:"ugv07s",styles:"background:rgba(0, 0, 0, 0.7);border:1px solid rgba(255, 255, 255, 0.1);border-radius:1rem;padding:1rem;height:300px;display:flex;flex-direction:column"}),UEe=Ae("div",{target:"e1v3jcde6"})({name:"oasci9",styles:"flex:1;overflow-y:auto;margin-bottom:1rem;padding-right:0.5rem;&::-webkit-scrollbar{width:6px;}&::-webkit-scrollbar-track{background:rgba(255, 255, 255, 0.1);border-radius:3px;}&::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.2);border-radius:3px;}"}),zEe=Ae("div",{target:"e1v3jcde5"})("margin-bottom:0.5rem;padding:0.5rem;border-radius:0.5rem;background:",t=>t.isCurrentUser?"rgba(255, 20, 147, 0.2)":"rgba(255, 255, 255, 0.1)",";border:1px solid ",t=>t.isCurrentUser?"rgba(255, 20, 147, 0.3)":"rgba(255, 255, 255, 0.2)",";"),jEe=Ae("div",{target:"e1v3jcde4"})("display:flex;justify-content:space-between;margin-bottom:0.25rem;font-size:0.8rem;color:",t=>t.isCurrentUser?"#FF1493":"#00BFFF",";"),GEe=Ae("div",{target:"e1v3jcde3"})({name:"l6ov4n",styles:"color:#fff;word-break:break-word"}),HEe=Ae("form",{target:"e1v3jcde2"})({name:"aj6rbz",styles:"display:flex;gap:0.5rem"}),WEe=Ae("input",{target:"e1v3jcde1"})({name:"d6ulw3",styles:"flex:1;background:rgba(255, 255, 255, 0.1);border:1px solid rgba(255, 255, 255, 0.2);border-radius:0.5rem;padding:0.5rem;color:#fff;font-size:0.9rem;&:focus{outline:none;border-color:rgba(255, 20, 147, 0.5);box-shadow:0 0 10px rgba(255, 20, 147, 0.2);}"}),VEe=Ae("button",{target:"e1v3jcde0"})({name:"10wre2a",styles:"background:linear-gradient(45deg, #FF1493, #FF69B4);border:none;border-radius:0.5rem;padding:0.5rem 1rem;color:#fff;font-weight:bold;cursor:pointer;transition:all 0.3s ease;&:hover{transform:scale(1.05);box-shadow:0 0 15px rgba(255, 20, 147, 0.4);}&:disabled{opacity:0.5;cursor:not-allowed;transform:none;}"}),NE=({gameId:t,socket:e,connected:n})=>{const{address:r,isConnected:i}=fo(),{getPlayerName:o,setPlayerName:s}=R3(),{showError:a}=Ys(),[l,c]=U.useState([]),[u,d]=U.useState(""),[f,h]=U.useState(!1),[g,m]=U.useState(""),[y,p]=U.useState(""),[v,w]=U.useState(!0),[x,T]=U.useState(0),[N,A]=U.useState({}),z=U.useRef(null),S=U.useRef(null);U.useEffect(()=>{r&&i&&(async()=>{const O=await o(r);p(O||"")})()},[r,i,o]),U.useEffect(()=>{z.current?.scrollIntoView({behavior:"smooth"})},[l]),U.useEffect(()=>{if(!e)return;const I=O=>{try{const C=JSON.parse(O.data);C.type==="chat_message"&&c(j=>[...j,{id:C.id,address:C.address,name:C.name,message:C.message,timestamp:C.timestamp,isSystem:C.isSystem||!1}])}catch(C){console.error("Error parsing chat message:",C)}};return e.addEventListener("message",I),()=>e.removeEventListener("message",I)},[e]);const k=I=>!(!I||typeof I!="string"||I.trim().length===0||I.length>500||I.includes("<")||I.includes(">")||I.includes("javascript:")||I.includes("data:")),R=I=>!(!I||typeof I!="string"||I.trim().length===0||I.length>50||!/^[a-zA-Z0-9\s\-_.!@#$%^&*()]+$/.test(I)||I.includes("<")||I.includes(">")||I.includes("javascript:")||I.includes("data:")),W=async I=>{if(I.preventDefault(),!n||!e||!r||!i){a("Not connected to game");return}if(!y){h(!0);return}const O=u.trim();if(!k(O)){a("Invalid message. Keep it under 500 characters and avoid special characters.");return}try{const C={type:"chat_message",gameId:t,address:r,name:y,message:O,timestamp:new Date().toISOString()};e.send(JSON.stringify(C)),d(""),S.current?.focus()}catch(C){console.error("Error sending chat message:",C),a("Failed to send message")}},L=async()=>{if(!R(g)){a("Invalid name. Use 50 characters or less, alphanumeric and basic punctuation only.");return}try{await s(r,g.trim()),p(g.trim()),h(!1),m("")}catch(I){console.error("Error saving name:",I),a("Failed to save name")}},b=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),W(I))},E=I=>new Date(I).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return U.useEffect(()=>{(async()=>{const O={};for(const C of l)if(!O[C.address]){const j=await o(C.address);O[C.address]=j}A(O)})()},[l,o]),i?K(DEe,{children:[K("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"1px solid rgba(255, 215, 0, 0.3)"},children:[F("div",{style:{color:"#FFD700",fontWeight:"bold",fontSize:"1.2rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Chat"}),K("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[F("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:n?"#00FF00":"#FF0000",animation:n?"pulse 2s infinite":"none"}}),F("span",{style:{color:tt.colors.textSecondary,fontSize:"0.8rem"},children:n?"Connected":"Disconnected"})]})]}),K(UEe,{children:[l.map((I,O)=>{const C=I.address===r,j=N[I.address]||I.address.slice(0,6)+"..."+I.address.slice(-4);return K(zEe,{isCurrentUser:C,children:[K(jEe,{isCurrentUser:C,children:[F("span",{children:j}),F("span",{children:E(I.timestamp)})]}),F(GEe,{children:I.message})]},O)}),F("div",{ref:z})]}),K(HEe,{onSubmit:W,children:[F(WEe,{ref:S,type:"text",value:u,onChange:I=>d(I.target.value),onKeyPress:b,placeholder:"Type your message...",disabled:!n,style:{flex:1,background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.75rem",color:"#fff",fontSize:"0.9rem"}}),F(VEe,{type:"submit",disabled:!n||!u.trim(),style:{background:"linear-gradient(45deg, #FF1493, #FF69B4)",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1rem",color:"#fff",fontWeight:"bold",cursor:"pointer",fontSize:"0.9rem",minWidth:"60px",whiteSpace:"nowrap"},children:"Send"})]}),f&&F("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",zIndex:10001,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(5px)"},children:K("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(25, 20, 0, 0.9) 100%)",border:"2px solid #FFD700",borderRadius:"1rem",padding:"1.5rem",width:"90%",maxWidth:"400px",position:"relative"},children:[F("h3",{style:{color:"#FFD700",marginBottom:"1rem",fontSize:"1.2rem"},children:y?"Change Your Name":"Set Your Name"}),F("input",{type:"text",value:g,onChange:I=>m(I.target.value),placeholder:"Enter your name...",style:{width:"100%",padding:"0.75rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"0.5rem",color:"#fff",fontSize:"1rem",marginBottom:"1rem"}}),K("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[F("button",{onClick:()=>h(!1),style:{padding:"0.75rem 1.5rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.5rem",color:"#fff",fontSize:"0.9rem",cursor:"pointer"},children:"Cancel"}),F("button",{onClick:L,style:{padding:"0.75rem 1.5rem",background:"linear-gradient(45deg, #FFD700, #FFA500)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer"},children:"Save"})]})]})}),F("style",{children:`
          @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
          }
        `})]}):F("div",{style:{background:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"1rem",padding:"1rem",textAlign:"center"},children:F("div",{style:{color:tt.colors.textSecondary},children:"Connect your wallet to join the chat"})})},$Ee=({nftData:t,chainConfig:e})=>{if(!t)return F("div",{style:{color:"#888",textAlign:"center",padding:"1rem"},children:"NFT data not available"});const[n,r]=U.useState(!1),[i,o]=U.useState(""),s=(l,c)=>{navigator.clipboard.writeText(l),o(c),setTimeout(()=>o(""),2e3)},a=l=>l?`${(l*100).toFixed(2)}%`:"N/A";return K("div",{style:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"12px",padding:"16px",color:"#fff",fontFamily:"Inter, sans-serif"},children:[F("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:F("h3",{style:{margin:0,fontSize:"16px"},children:t.name||"Unnamed NFT"})}),K("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[K("div",{children:[F("div",{style:{fontSize:"14px",opacity:.8},children:"Collection"}),F("div",{style:{fontWeight:"bold"},children:t.collection||"Unknown"})]}),K("div",{children:[F("div",{style:{fontSize:"14px",opacity:.8},children:"Token ID"}),K("div",{style:{fontWeight:"bold"},children:["#",t.tokenId]})]})]}),K("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[F("a",{href:`${e.explorerUrl}/token/${t.contractAddress}?a=${t.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"4px"},children:" Explorer"}),F("a",{href:`${e.marketplaceUrl}/${t.contractAddress}/${t.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"4px"},children:" OpenSea"})]}),K("div",{children:[K("button",{onClick:()=>r(!n),style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"8px",width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[F("span",{children:"View Details"}),F("span",{children:n?"":""})]}),n&&K("div",{style:{marginTop:"12px",padding:"12px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:[K("div",{style:{marginBottom:"16px"},children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"4px"},children:"Contract Address"}),K("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",wordBreak:"break-all"},children:[F("span",{children:`${t.contractAddress.slice(0,6)}...${t.contractAddress.slice(-4)}`}),F("button",{onClick:()=>s(t.contractAddress,"contract"),style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"4px"},children:i==="contract"?"":""})]})]}),t.metadata?.description&&K("div",{style:{marginBottom:"16px"},children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"4px"},children:"Description"}),F("div",{style:{fontSize:"12px",lineHeight:"1.4"},children:t.metadata.description})]}),t.metadata?.attributes?.length>0&&K("div",{style:{marginBottom:"16px"},children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"8px"},children:"Attributes"}),F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"8px"},children:t.metadata.attributes.map((l,c)=>K("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"8px",borderRadius:"6px",fontSize:"12px"},children:[F("div",{style:{opacity:.8},children:l.trait_type}),F("div",{style:{fontWeight:"bold"},children:l.value}),l.rarity&&K("div",{style:{fontSize:"10px",opacity:.6},children:["Rarity: ",a(l.rarity)]})]},c))})]}),K("div",{children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"4px"},children:"Verification Status"}),K("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px"},children:[F("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:tt.colors.neonGreen}}),K("span",{children:["Verified on ",e.name]})]})]})]})]})]})},RN=({gameId:t,gameData:e,isCreator:n,socket:r,connected:i,offeredNFTs:o=[],onOfferSubmitted:s,onOfferAccepted:a})=>{const{isConnected:l,address:c,nfts:u,provider:d}=fo(),{showSuccess:f,showError:h,showInfo:g}=Ys(),[m,y]=U.useState(null),[p,v]=U.useState(!1),[w,x]=U.useState(!1),T=async()=>{if(!(!m||!i||!r))try{v(!0),g("Submitting NFT offer...");const S={type:"nft_offer",gameId:t,offererAddress:c,nft:{contractAddress:m.contractAddress,tokenId:m.tokenId,name:m.name,image:m.image,collection:m.collection,chain:m.chain},timestamp:new Date().toISOString()};r.send(JSON.stringify(S)),f("NFT offer submitted! Waiting for creator to accept..."),y(null),x(!1),s&&s(S)}catch(S){console.error("Error submitting offer:",S),h("Failed to submit offer: "+S.message)}finally{v(!1)}},N=async S=>{if(!(!n||!i||!r))try{g("Accepting NFT challenge...");const k={type:"accept_nft_offer",gameId:t,creatorAddress:c,acceptedOffer:S,timestamp:new Date().toISOString()};r.send(JSON.stringify(k)),a&&a(S)}catch(k){console.error("Error accepting offer:",k),h("Failed to accept offer: "+k.message)}},A=S=>{const k={ethereum:"https://etherscan.io",base:"https://basescan.org",polygon:"https://polygonscan.com",arbitrum:"https://arbiscan.io"};return`${k[S.chain?.toLowerCase()]||k.ethereum}/token/${S.contractAddress}?a=${S.tokenId}`},z=S=>`https://opensea.io/assets/${{ethereum:"ethereum",base:"base",polygon:"matic",arbitrum:"arbitrum"}[S.chain?.toLowerCase()]||"ethereum"}/${S.contractAddress}/${S.tokenId}`;return n?K("div",{style:{background:"rgba(0, 255, 65, 0.1)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"1rem",padding:"1.5rem",marginTop:"1rem"},children:[K("h3",{style:{color:"#00FF41",fontSize:"1.2rem",marginBottom:"1rem",textAlign:"center"},children:[" NFT Battle Offers (",o.length,")"]}),o.length===0?K("div",{style:{textAlign:"center",padding:"2rem",color:"rgba(255, 255, 255, 0.7)"},children:[F("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),F("p",{children:"Waiting for players to offer their NFTs..."}),F("p",{style:{fontSize:"0.8rem",marginTop:"0.5rem"},children:"Share your game link to attract challengers!"})]}):F("div",{style:{display:"grid",gap:"1rem",maxHeight:"400px",overflowY:"auto"},children:o.map((S,k)=>K("div",{style:{background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.75rem",padding:"1rem",display:"flex",gap:"1rem",alignItems:"center"},children:[F("img",{src:S.nft.image,alt:S.nft.name,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover"}}),K("div",{style:{flex:1},children:[F("h4",{style:{color:"white",margin:"0 0 0.25rem 0",fontSize:"1rem"},children:S.nft.name}),F("p",{style:{color:"rgba(255, 255, 255, 0.7)",margin:"0 0 0.5rem 0",fontSize:"0.8rem"},children:S.nft.collection}),K("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"0.7rem",marginBottom:"0.5rem"},children:["From: ",S.offererAddress.slice(0,6),"...",S.offererAddress.slice(-4)]}),K("div",{style:{display:"flex",gap:"0.5rem"},children:[F("a",{href:A(S.nft),target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",color:"#00FF41",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",border:"1px solid rgba(0, 255, 65, 0.3)"},children:" Verify"}),F("a",{href:z(S.nft),target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",color:"#00BFFF",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",border:"1px solid rgba(0, 191, 255, 0.3)"},children:" OpenSea"})]})]}),F("button",{onClick:()=>N(S),style:{background:"linear-gradient(45deg, #00FF41, #39FF14)",color:"#000",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",fontWeight:"bold",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.3s ease"},onMouseOver:R=>{R.target.style.transform="scale(1.05)",R.target.style.boxShadow="0 0 15px rgba(0, 255, 65, 0.5)"},onMouseOut:R=>{R.target.style.transform="scale(1)",R.target.style.boxShadow="none"},children:" BATTLE!"})]},k))})]}):!n&&e?.gameType==="nft-vs-nft"&&e?.status==="waiting"?K("div",{style:{background:"rgba(255, 20, 147, 0.1)",border:"2px solid rgba(255, 20, 147, 0.3)",borderRadius:"1rem",padding:"1.5rem",marginTop:"1rem"},children:[F("h3",{style:{color:"#FF1493",fontSize:"1.2rem",marginBottom:"1rem",textAlign:"center"},children:" Challenge with Your NFT!"}),K("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.75rem",marginBottom:"1rem"},children:[F("h4",{style:{color:"white",margin:"0 0 0.5rem 0"},children:"Creator's NFT:"}),K("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[F("img",{src:e.nft.image,alt:e.nft.name,style:{width:"60px",height:"60px",borderRadius:"0.5rem",objectFit:"cover"}}),K("div",{children:[F("div",{style:{color:"white",fontWeight:"bold"},children:e.nft.name}),F("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem"},children:e.nft.collection})]})]})]}),m?K("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.75rem",marginBottom:"1rem"},children:[F("h4",{style:{color:"white",margin:"0 0 0.5rem 0"},children:"Your NFT:"}),K("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[F("img",{src:m.image,alt:m.name,style:{width:"60px",height:"60px",borderRadius:"0.5rem",objectFit:"cover"}}),K("div",{style:{flex:1},children:[F("div",{style:{color:"white",fontWeight:"bold"},children:m.name}),F("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem"},children:m.collection})]}),F("button",{onClick:()=>y(null),style:{background:"rgba(255, 0, 0, 0.2)",color:"white",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.25rem",padding:"0.25rem 0.5rem",cursor:"pointer",fontSize:"0.8rem"},children:"Change"})]})]}):F("button",{onClick:()=>x(!0),style:{width:"100%",padding:"1rem",background:"rgba(255, 255, 255, 0.1)",border:"2px dashed rgba(255, 20, 147, 0.5)",borderRadius:"0.75rem",color:"#FF1493",cursor:"pointer",marginBottom:"1rem"},children:"Select Your NFT to Battle"}),K("div",{style:{background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"0.5rem",padding:"0.75rem",marginBottom:"1rem",fontSize:"0.8rem"},children:[F("strong",{style:{color:"#FFD700"},children:" Battle Rules:"}),F("br",{})," Winner takes both NFTs",F("br",{})," You pay $0.50 only if your offer is accepted",F("br",{})," Best of 5 rounds"]}),F("button",{onClick:T,disabled:!m||p||!i,style:{width:"100%",padding:"1rem",background:m?"linear-gradient(45deg, #FF1493, #FF69B4)":"rgba(255, 255, 255, 0.1)",color:"white",border:"none",borderRadius:"0.75rem",fontWeight:"bold",cursor:m?"pointer":"not-allowed",fontSize:"1rem",opacity:m?1:.5,transition:"all 0.3s ease"},children:p?"Submitting Offer...":" Submit Battle Offer!"}),w&&F("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(5px)"},children:K("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(25, 20, 0, 0.9) 100%)",border:"2px solid #FF1493",borderRadius:"1rem",padding:"2rem",maxWidth:"600px",maxHeight:"80vh",overflowY:"auto",position:"relative"},children:[F("button",{onClick:()=>x(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"50%",width:"30px",height:"30px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:""}),F("h3",{style:{color:"#FF1493",marginBottom:"1rem"},children:"Select Your Battle NFT"}),F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},children:u?.map(S=>K("div",{onClick:()=>{y(S),x(!1)},style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.75rem",padding:"1rem",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},onMouseOver:k=>{k.currentTarget.style.transform="scale(1.05)",k.currentTarget.style.borderColor="#FF1493"},onMouseOut:k=>{k.currentTarget.style.transform="scale(1)",k.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},children:[F("img",{src:S.image,alt:S.name,style:{width:"100%",aspectRatio:"1",objectFit:"cover",borderRadius:"0.5rem",marginBottom:"0.5rem"}}),F("div",{style:{color:"white",fontWeight:"bold",fontSize:"0.9rem",marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:S.name}),F("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:S.collection})]},S.id))}),(!u||u.length===0)&&F("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.7)",padding:"2rem"},children:"No NFTs found in your wallet"})]})})]}):null};var qEe={VITE_PLATFORM_FEE_RECEIVER:"0x47d80671Bcb7Ec368ef4d3ca6E1C20173CCc9a28",VITE_ETHEREUM_RPC_URL:"your_ethereum_rpc_url_here",VITE_SEPOLIA_RPC_URL:"your_sepolia_rpc_url_here",VITE_BASE_RPC_URL:"https://base-mainnet.g.alchemy.com/v2/hoaKpKFy40ibWtxftFZbJNUk5NQoL0R3",VITE_ALCHEMY_API_KEY:"hoaKpKFy40ibWtxftFZbJNUk5NQoL0R3",VITE_BASESCAN_API_KEY:"PD6BITPMKB19J57SJN1MB2XH5FQJ54GBE1",VITE_ETHERSCAN_API_KEY:"your_etherscan_api_key_here",VITE_BSCSCAN_API_KEY:"your_bscscan_api_key_here",VITE_AVALANCHE_API_KEY:"your_avalanche_api_key_here",VITE_POLYGONSCAN_API_KEY:"your_polygonscan_api_key_here",VITE_REPORT_GAS:"true",NODE_ENV:"production"};const KEe=Ae("video",{target:"eua38od28"})({name:"5au173",styles:"position:fixed;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1;opacity:0.7;pointer-events:none;background:#000"}),QEe=Ae("div",{target:"eua38od27"})("position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);font-size:",t=>t.isMobile?"6rem":"10rem",";font-weight:900;color:",t=>t.color,";text-transform:uppercase;opacity:0;z-index:1000;pointer-events:none;animation:choiceAnimation 1s ease-out forwards;text-shadow:0 0 20px ",t=>t.color,";@keyframes choiceAnimation{0%{opacity:0;transform:translate(-50%, -50%) scale(0.2);}20%{opacity:1;transform:translate(-50%, -50%) scale(1.1);}80%{opacity:1;transform:translate(-50%, -50%) scale(1);}100%{opacity:0;transform:translate(-50%, -50%) scale(1.2);}}"),XEe=Ae("div",{target:"eua38od26"})("position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);font-size:",t=>t.isMobile?"4rem":"6rem",";font-weight:900;color:#FFD700;text-transform:uppercase;opacity:0;z-index:1000;pointer-events:none;animation:autoFlipAnimation 2s ease-out forwards;text-shadow:0 0 30px #FFD700,0 0 60px #FFD700;text-align:center;line-height:1.2;@keyframes autoFlipAnimation{0%{opacity:0;transform:translate(-50%, -50%) scale(0.1) translateZ(-100px);}20%{opacity:1;transform:translate(-50%, -50%) scale(1.2) translateZ(50px);}60%{opacity:1;transform:translate(-50%, -50%) scale(1) translateZ(0px);}100%{opacity:0;transform:translate(-50%, -50%) scale(1.5) translateZ(100px);}}"),zg=Ae("div",{target:"eua38od25"})({name:"mlpn4u",styles:"position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.7);display:flex;align-items:center;justify-content:center;z-index:1000"}),jg=Ae(Eu,{target:"eua38od24"})({name:"12nlpps",styles:"max-width:500px;width:90%;padding:2rem"}),Gg=Ae("div",{target:"eua38od23"})({name:"1h026t7",styles:"margin-bottom:1.5rem"}),Hg=Ae("div",{target:"eua38od22"})({name:"1h026t7",styles:"margin-bottom:1.5rem"}),PN=Ae("div",{target:"eua38od21"})({name:"wb501w",styles:"display:flex;justify-content:flex-end;gap:1rem"}),Wg=Ae("button",{target:"eua38od20"})("position:absolute;top:1rem;right:1rem;background:none;border:none;color:",t=>t.theme.colors.textSecondary,";cursor:pointer;font-size:1.5rem;padding:0.5rem;&:hover{color:",t=>t.theme.colors.textPrimary,";}"),FE=Ae("img",{target:"eua38od19"})({name:"1g591yl",styles:"width:100%;max-width:200px;height:auto;border-radius:1rem;margin:0.5rem 0"}),kN=Ae("a",{target:"eua38od18"})("color:",t=>t.theme.colors.neonBlue,";text-decoration:none;&:hover{text-decoration:underline;}"),YEe=Ae("div",{target:"eua38od17"})({name:"174mppy",styles:"display:none;@media (max-width: 768px){display:flex;flex-direction:column;gap:1rem;padding:0.5rem;width:100%;}"}),NN=Ae("div",{target:"eua38od16"})({name:"15n7w10",styles:"padding:0.75rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin-bottom:0.5rem"}),JEe=Ae("div",{target:"eua38od15"})({name:"hgry52",styles:"padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0;display:flex;flex-direction:column;align-items:center;gap:0.5rem"}),ZEe=Ae("div",{target:"eua38od14"})({name:"8ilj6n",styles:"width:100%;padding:0.75rem;background:rgba(0, 0, 0, 0.3);border-radius:0.5rem;margin-bottom:0.5rem"}),OE=Ae("div",{target:"eua38od13"})({name:"1hqz8lq",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem;font-size:0.9rem;&:last-child{margin-bottom:0;}"}),BE=Ae("span",{target:"eua38od12"})("color:",t=>t.theme.colors.textSecondary,";"),LE=Ae("span",{target:"eua38od11"})("color:",t=>t.theme.colors.textPrimary,";font-family:monospace;"),eAe=Ae("div",{target:"eua38od9"})({name:"1y953wd",styles:"padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0"}),tAe=Ae("div",{target:"eua38od8"})({name:"zp1p6h",styles:"padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0;height:300px;overflow-y:auto"}),nAe=Ae("div",{target:"eua38od7"})({name:"1rvp68",styles:"display:grid;grid-template-columns:300px 1fr 300px;gap:2rem;margin-bottom:2rem;align-items:start;min-height:500px;@media (max-width: 768px){display:none;}"}),rAe=Ae("div",{target:"eua38od6"})({name:"1rx4431",styles:"display:flex;gap:0.5rem;width:100%;justify-content:center;padding:0.5rem"}),iAe=Ae("div",{target:"eua38od5"})({name:"10o8xn0",styles:"position:fixed;bottom:0;left:0;right:0;display:flex;gap:0.25rem;padding:0.5rem;background:rgba(0, 0, 0, 0.9);backdrop-filter:blur(10px);border-top:1px solid rgba(255, 255, 255, 0.1);z-index:1000;@media (min-width: 769px){display:none;}"}),DE=Ae("button",{target:"eua38od4"})("flex:",t=>t.isJoinButton?"2":"1",";padding:0.5rem;border-radius:0.5rem;border:2px solid rgba(0, 255, 65, 0.6);background:",t=>t.isJoinButton?"linear-gradient(45deg, #FF1493, #FF69B4)":"rgba(255, 255, 255, 0.05)",";color:white;font-weight:bold;display:flex;align-items:center;justify-content:center;gap:0.25rem;cursor:pointer;transition:all 0.2s ease;font-size:0.875rem;&:hover{transform:translateY(-2px);border-color:rgba(0, 255, 65, 0.8);box-shadow:",t=>t.isJoinButton?"0 0 20px rgba(255, 20, 147, 0.5)":"0 0 15px rgba(0, 255, 65, 0.3)",";}"),UE=Ae("div",{target:"eua38od3"})({name:"18t8hgp",styles:"@media (max-width: 768px){display:none;}"}),FN=Ae("div",{target:"eua38od1"})("position:fixed;bottom:",t=>t.isOpen?"60px":"-100%",";left:0;right:0;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);padding:0.75rem;border-top:1px solid rgba(255, 255, 255, 0.1);transition:bottom 0.3s ease;z-index:999;max-height:70vh;overflow-y:auto;@media (min-width: 769px){display:none;}"),oAe=()=>{const{gameId:t}=Gz(),e=ih(),{publicClient:n,isMobile:r}=fo(),{showSuccess:i,showError:o,showInfo:s}=Ys(),{isFullyConnected:a,connectionError:l,address:c}=m0(),u="https://cryptoflipz2-production.up.railway.app",[d,f]=U.useState(null),[h,g]=U.useState(!0),[m,y]=U.useState(""),[p,v]=U.useState(!1),[w,x]=U.useState(!1),[T,N]=U.useState(null),[A,z]=U.useState(null),[S,k]=U.useState(!1),[R,W]=U.useState(null),[L,b]=U.useState(null),[E,I]=U.useState(null),[O,C]=U.useState(null),[j,H]=U.useState(null),[D,M]=U.useState(null),[$,J]=U.useState(null),Z=U.useRef(!1),ce=U.useRef(null),oe=d?.creator===c,Ee=d?.joiner===c,de=oe||Ee,Re=R?.currentPlayer===c,[ae,we]=U.useState(!1),[qe,te]=U.useState(null),[We,Ke]=U.useState(null),[ct,Ze]=U.useState(!1),[Nt,st]=U.useState([]),[X,V]=U.useState(null),[fe,_e]=U.useState(!1),[Ie,ge]=U.useState(!1),[G,_]=U.useState(!1),[P,Q]=U.useState(""),[Y,ee]=U.useState("#00FF41"),[ne,De]=U.useState(!1),[Ne,$e]=U.useState(!1),[ht,it]=U.useState(!1),[le,ot]=U.useState(!1),[xe,Te]=U.useState(!1),[nt,Ge]=U.useState(null),[ut,un]=U.useState(null),[Ft,Mt]=U.useState(null),lr=()=>d?(console.log(" Join button state check:",{gameData:{joiner:d.joiner,status:d.status,creator:d.creator},gameState:{joiner:R?.joiner,phase:R?.phase},address:c,joinInProgress:w,joiningGame:p}),w||R?.joinInProgress?(T||R?.joiningPlayer)===c?{text:" Joining...",disabled:!0,color:"yellow"}:{text:" Player Joining...",disabled:!0,color:"blue"}:d.joiner&&d.joiner!=="0x0000000000000000000000000000000000000000"?{text:"Game Full",disabled:!0,color:"gray"}:R?.joiner&&R.joiner!=="0x0000000000000000000000000000000000000000"?{text:"Game Full",disabled:!0,color:"gray"}:d.creator===c?{text:"Your Game",disabled:!0,color:"gray"}:d.status!=="waiting"&&R?.phase!=="waiting"?{text:"In Progress",disabled:!0,color:"gray"}:p?{text:" Processing...",disabled:!0,color:"yellow"}:a?{text:"Join Flip",disabled:!1,color:"green"}:{text:"Connect Wallet",disabled:!0,color:"red"}):{text:"Loading...",disabled:!0,color:"gray"},Kt=U.useRef(null),[ie,me]=U.useState(!1),[ve,Me]=U.useState(!1),[et,at]=U.useState(!1),[rt,pt]=U.useState(!1),[Ye,Qe]=U.useState(!1);U.useEffect(()=>{console.log(" Coin useEffect triggered - gameState?.coin:",R?.coin),R?.coin?(console.log(" Using game creator's selected coin:",R.coin),J(R.coin),H(R.coin.headsImage),M(R.coin.tailsImage),console.log(" Set coin images to:",{heads:R.coin.headsImage,tails:R.coin.tailsImage,type:R.coin.type})):(console.log(" No game coin data - using default null (no fallback to profile)"),H(null),M(null))},[R?.coin]),U.useEffect(()=>{const ue=Kt.current;ue&&(async()=>{try{await ue.play()}catch(Oe){console.error("Video play error:",Oe),me(!0)}})()},[]),U.useEffect(()=>{const ue=()=>{const Be=window.innerWidth<=768;console.log(" Screen size check:",{windowWidth:window.innerWidth,isMobile:Be,previousIsMobile:rt}),pt(Be),Qe(!0)};return ue(),window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue)},[rt]),U.useEffect(()=>{if(!t||!c){console.log(" Cannot connect - missing gameId or address:",{gameId:t,address:c});return}console.log(" Setting up WebSocket connection:",{gameId:t,address:c});let ue=0;const Be=5;let Oe;const Pe=()=>{const xn="wss://cryptoflipz2-production.up.railway.app";console.log(" Connecting to WebSocket:",xn);const Pt=new WebSocket(xn);return Pt.onopen=()=>{console.log(" WebSocket connected"),k(!0),z(Pt),ue=0;const On={type:"connect_to_game",gameId:t,address:c};console.log(" Sending join message:",On),Pt.send(JSON.stringify(On))},Pt.onmessage=On=>{try{const _t=JSON.parse(On.data);switch(console.log(" Received WebSocket message:",{type:_t.type,phase:_t.phase,currentPlayer:_t.currentPlayer,creatorChoice:_t.creatorChoice,joinerChoice:_t.joinerChoice,creator:_t.creator,joiner:_t.joiner}),_t.type){case"game_state":if(console.log(" Game state update:",{phase:_t.phase,currentRound:_t.currentRound,currentPlayer:_t.currentPlayer,creatorWins:_t.creatorWins,joinerWins:_t.joinerWins,isFlipInProgress:_t.isFlipInProgress,creatorChoice:_t.creatorChoice,joinerChoice:_t.joinerChoice,creator:_t.creator,joiner:_t.joiner,coin:_t.coin}),console.log(" Coin data in game state:",_t.coin),W(_t),_t.phase==="round_active"&&(oe&&_t.joinerChoice||Ee&&_t.creatorChoice)){const rc=(oe?_t.joinerChoice:_t.creatorChoice)==="heads"?"tails":"heads";Q(rc.toUpperCase()),ee("#FF1493"),_(!0),setTimeout(()=>{_(!1)},1e3)}break;case"flip_animation":console.log(" Flip animation received:",_t),console.log(" Flip animation details:",{result:_t.result,duration:_t.duration,playerChoice:_t.playerChoice,playerAddress:_t.playerAddress,power:_t.power}),b(_t),I(null);break;case"round_result":console.log(" Round result received:",_t),console.log(" Round result details:",{result:_t.result,isWinner:_t.isWinner,playerAddress:_t.playerAddress,playerChoice:_t.playerChoice,actualWinner:_t.actualWinner,creatorWins:_t.creatorWins,joinerWins:_t.joinerWins,roundNumber:_t.roundNumber,myAddress:c,isCreator:oe,isJoiner:Ee,flipperWon:_t.flipperWon,creatorChoice:_t.creatorChoice,joinerChoice:_t.joinerChoice}),I(_t),C(_t.result),b(null),setTimeout(()=>I(null),4e3);break;case"error":console.log(" Error received:",_t.error),o(_t.error);break}}catch(_t){console.error(" Error parsing WebSocket message:",_t)}},Pt.onclose=()=>{console.log(" WebSocket disconnected"),k(!1),z(null),ue<Be?(ue++,console.log(` Attempting to reconnect (${ue}/${Be})...`),Oe=setTimeout(()=>{Pe()},2e3*ue)):o("Lost connection to game server. Please refresh the page.")},Pt.onerror=On=>{console.error(" WebSocket error:",On)},Pt},He=Pe();return()=>{Oe&&clearTimeout(Oe),He&&He.readyState===WebSocket.OPEN&&He.close()}},[t,c]),U.useEffect(()=>{if(!R)return;const ue=R.turnTimeLeft,Be=ce.current;Be!==null&&Be>0&&(ue===0||ue===void 0)&&R.phase==="round_active"&&(console.log(" Auto-flip detected! Showing animation..."),De(!0),setTimeout(()=>{De(!1)},2e3)),ce.current=ue},[R?.turnTimeLeft,R?.phase]);const Et=async ue=>{try{const Be=qEe.REACT_APP_API_URL||"https://cryptoflipz2-production.up.railway.app";(await fetch(`${Be}/api/games/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ue)})).ok||console.warn("Failed to update game in database")}catch(Be){console.error("Error updating database:",Be)}},wt=async()=>{try{g(!0),y("");const Be=await fetch(`https://cryptoflipz2-production.up.railway.app/api/games/${t}`);if(!Be.ok)throw new Error("Game not found");const Oe=await Be.json();if(console.log(" Game loaded from database:",Oe),Oe.coin&&typeof Oe.coin=="string")try{Oe.coin=JSON.parse(Oe.coin)}catch(Pe){console.warn("Could not parse coin data:",Pe)}f(Oe),Ke({contractAddress:Oe.nft_contract,tokenId:Oe.nft_token_id,name:Oe.nft_name,image:Oe.nft_image,collection:Oe.nft_collection,chain:Oe.nft_chain})}catch(ue){console.error(" Error loading game:",ue),y(ue.message)}finally{g(!1)}};U.useEffect(()=>{wt()},[t]),U.useEffect(()=>{t&&d&&Ct(t)},[t,d]),U.useEffect(()=>{d&&!We&&!ct&&(console.log(" Setting NFT data from gameData:",d.nft),Ke({contractAddress:d.nft.contractAddress,tokenId:d.nft.tokenId,name:d.nft.name,image:d.nft.image,collection:d.nft.collection,chain:d.nft.chain,metadata:{description:d.nft.description||"",attributes:d.nft.attributes||[]}}))},[d,We,ct]),U.useEffect(()=>{d?.coin&&(console.log(" Setting coin data from gameData:",d.coin),J(d.coin),H(d.coin.headsImage),M(d.coin.tailsImage))},[d?.coin]);const Ct=async ue=>{try{Ze(!0),console.log(" Fetching NFT data for game:",ue);const Be=await fetch(`${u}/api/games/${ue}/nft`);if(!Be.ok)throw new Error("Failed to fetch NFT data");const Oe=await Be.json();console.log(" NFT data received:",Oe),Ke(Oe)}catch(Be){console.error(" Error fetching NFT data:",Be),Ke(null)}finally{Ze(!1)}},gn=()=>{if(console.log(" handlePowerChargeStart called:",{isMyTurn:Re,hasSocket:!!A,isCharging:Z.current,gamePhase:R?.phase,currentPlayer:R?.currentPlayer,myAddress:c}),!Re||!A||Z.current){console.log(" Cannot start charging:",{isMyTurn:Re,hasSocket:!!A,isCharging:Z.current});return}if(R?.phase!=="round_active"&&R?.phase!=="choosing"){console.log(" Wrong phase for charging:",R?.phase);return}if(!(oe?R?.creatorChoice:R?.joinerChoice)){o("You must choose heads or tails first!");return}Z.current=!0,A.send(JSON.stringify({type:"start_charging",gameId:t,address:c}))},q=async()=>{if(!(!A||!Z.current))if(Z.current=!1,Ot.currentChain&&d?.contract_game_id)try{s("Flipping coin on blockchain...");const ue={gameId:d.contract_game_id,power:chargedPower||50};console.log(" Flipping coin with smart contract:",ue);const Be=await Ot.flipCoin(ue);if(!Be.success)throw new Error("Failed to flip coin: "+Be.error);if(console.log(" Coin flipped on blockchain:",Be),Be.gameDetails){const{game:Oe,gameState:Pe}=Be.gameDetails;f(xn=>({...xn,current_round:Pe.currentRound,creator_wins:Pe.creatorWins,joiner_wins:Pe.joinerWins,winner:Pe.winner,status:Pe.winner!=="0x0000000000000000000000000000000000000000"?"completed":"active"})),await Et({current_round:Pe.currentRound,creator_wins:Pe.creatorWins,joiner_wins:Pe.joinerWins,winner:Pe.winner,status:Pe.winner!=="0x0000000000000000000000000000000000000000"?"completed":"active",flip_transaction_hash:Be.transactionHash});const He=Pe.winner===c;Pe.winner!=="0x0000000000000000000000000000000000000000"?i(`Game completed! ${He?"You won!":"You lost!"}`):i(`Round ${Pe.currentRound} completed!`)}}catch(ue){console.error(" Error flipping coin:",ue),o("Failed to flip coin: "+ue.message),A.send(JSON.stringify({type:"stop_charging",gameId:t,address:c}))}else A.send(JSON.stringify({type:"stop_charging",gameId:t,address:c}))},se=ue=>{if(console.log(" handlePlayerChoice called:",{choice:ue,hasSocket:!!A,hasGameState:!!R,gamePhase:R?.phase,isMyTurn:R?.currentPlayer===c,currentPlayer:R?.currentPlayer,myAddress:c,isCreator:oe,isJoiner:Ee}),!A||!R){console.log(" Cannot make choice - missing socket or gameState"),o("Connection error - please refresh");return}if(R.phase!=="choosing"){console.log(" Cannot make choice - wrong phase:",R.phase),o("Not in choosing phase");return}if(!(R.currentPlayer===c)){console.log(" Not my turn:",{currentPlayer:R.currentPlayer,myAddress:c,isCreator:oe,isJoiner:Ee}),o("Not your turn");return}Q(ue.toUpperCase()),ee("#00FF41"),_(!0),setTimeout(()=>{_(!1)},1e3),console.log(" Sending player choice to server:",ue),A.send(JSON.stringify({type:"player_choice",gameId:t,address:c,choice:ue}))},ye=async()=>{if(!a||!c){o("Please connect your wallet to join the game");return}if(!d){o("Game data not available");return}v(!0);try{if(s("Joining game..."),d.contract_game_id){const Pe=parseInt(d.contract_game_id);if(isNaN(Pe)||Pe<=0)throw new Error("Invalid game ID: "+d.contract_game_id);console.log(" Joining game with ID:",Pe);const He={gameId:Pe,coinChoice:0,roleChoice:1,paymentToken:0,challengerNFTContract:null,challengerTokenId:null}}const ue="https://cryptoflipz2-production.up.railway.app";let Be=null;try{const Pe=await Ot.joinGame(joinParams);if(!Pe.success)throw new Error(Pe.error||"Failed to join game");console.log(" Payment processed on blockchain:",Pe),Be=Pe.transactionHash}catch(Pe){console.error(" Contract error:",Pe),console.log(" Falling back to database-only join...")}if(!(await fetch(`${ue}/api/games/${t}/join`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({joinerAddress:c,paymentTxHash:Be,paymentAmount:d.price_usd||0})})).ok)throw new Error("Failed to update game status");i("Successfully joined the game!"),setTimeout(()=>{wt()},1e3)}catch(ue){console.error(" Error joining game:",ue),o(`Failed to join game: ${ue.message}`)}finally{v(!1)}},be=async()=>{if(!a||!c){o("Please connect your wallet to withdraw");return}try{s("Processing withdrawal...");const ue=await Ot.withdrawRewards();if(!ue.success)throw new Error("Failed to withdraw: "+ue.error);i("Winnings withdrawn successfully! "),console.log(" Withdrawal successful:",ue),d?.nft_contract&&d?.token_id&&(await Ot.withdrawNFT(d.nft_contract,d.token_id)).success&&i("NFT returned to your wallet!")}catch(ue){console.error(" Error withdrawing:",ue),o("Failed to withdraw: "+ue.message)}};U.useEffect(()=>{if(R?.phase==="game_complete"){const ue=R.winner===c;te({isWinner:ue,flipResult:null,playerChoice:null,gameData:d,finalScore:{creatorWins:R.creatorWins,joinerWins:R.joinerWins}}),we(!0)}},[R?.phase,R?.winner,c,d]),U.useEffect(()=>{d&&ge(d.gameType==="nft-vs-nft")},[d]),U.useEffect(()=>{if(!A)return;const ue=Be=>{try{const Oe=JSON.parse(Be.data);switch(console.log(" Received WebSocket message:",Oe),Oe.type){case"game_state":W(Oe),Oe.joinInProgress!==void 0&&(x(Oe.joinInProgress),N(Oe.joiningPlayer));break;case"game_info":x(Oe.joinInProgress||!1),N(Oe.joiningPlayer||null);break;case"join_state_update":x(Oe.joinInProgress||!1),N(Oe.joiningPlayer||null),Oe.joiner&&Oe.joiner!==d?.joiner&&f(Pe=>({...Pe,joiner:Oe.joiner}));break;case"join_process_response":Oe.success?s("Join process started - processing payment..."):(o(Oe.error||"Failed to start join process"),v(!1));break;case"flip_animation":console.log(" Flip animation received:",Oe),b(Oe),I(null);break;case"round_result":console.log(" Round result received:",Oe),I(Oe),C(Oe.result),b(null),setTimeout(()=>I(null),4e3);break;case"nft_offer_received":console.log(" NFT offer received:",Oe.offer),st(Pe=>[...Pe,Oe.offer]),oe||s(`New NFT battle offer: ${Oe.offer.nft.name}`);break;case"nft_offer_accepted":console.log(" NFT offer accepted:",Oe.acceptedOffer),V(Oe.acceptedOffer),Oe.acceptedOffer.offererAddress===c&&s("Your NFT offer was accepted! Please pay to join the battle.");break;case"challenger_payment_confirmed":console.log(" Challenger payment confirmed"),_e(!0),i("Payment confirmed! Game starting...");break;case"error":console.log(" Error received:",Oe.error),o(Oe.error),v(!1);break;case"chat_message":console.log(" Chat message received:",Oe);break}}catch(Oe){console.error(" Error parsing WebSocket message:",Oe)}};return A.addEventListener("message",ue),()=>A.removeEventListener("message",ue)},[A,c,d,oe,o,s,i]);const he=ue=>{console.log(" NFT offer submitted:",ue)},Ue=async ue=>{try{if(s("Accepting NFT challenge..."),!(await fetch(`${u}/api/games/${t}/accept-nft-offer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({creatorAddress:c,acceptedOffer:ue})})).ok)throw new Error("Failed to accept offer");i(`Challenge accepted! Waiting for ${ue.offererAddress.slice(0,6)}... to pay.`),V(ue)}catch(Be){console.error(" Error accepting offer:",Be),o("Failed to accept offer: "+Be.message)}};U.useEffect(()=>{d?.gameType==="nft-vs-nft"&&(console.log(" NFT vs NFT game detected"),!oe&&!Nt?.length&&$e(!0))},[d,oe,Nt]);const Je=ue=>{console.log("NFT offer accepted:",ue),V(ue),$e(!1),i("NFT offer accepted!")},gt=()=>{console.log("NFT offer rejected"),$e(!1),s("NFT offer rejected")},mt=ue=>{console.log("NFT verification complete:",ue),Ge(ue),it(!1),i("NFT verified successfully!")},Tt=()=>Ne?F(zg,{children:K(jg,{children:[F(Wg,{onClick:()=>$e(!1),children:""}),F(Gg,{children:F(Ls,{children:"NFT Offer"})}),F(Hg,{children:F(RN,{gameId:t,onOfferAccepted:Je,onOfferRejected:gt})})]})}):null,Rt=()=>ht?F(zg,{children:K(jg,{children:[F(Wg,{onClick:()=>it(!1),children:""}),F(Gg,{children:F(Ls,{children:"NFT Verification"})}),F(Hg,{children:F($Ee,{nft:nt,onVerificationComplete:mt})})]})}):null,yt=()=>!le||!nt?null:F(zg,{children:K(jg,{children:[F(Wg,{onClick:()=>ot(!1),children:""}),F(Gg,{children:F(Ls,{children:"NFT Details"})}),K(Hg,{children:[F(FE,{src:nt.image,alt:nt.name}),K("div",{children:[F("h3",{children:nt.name}),K("p",{children:["Collection: ",nt.collection]}),K("p",{children:["Token ID: ",nt.tokenId]}),F(kN,{href:nt.openseaUrl,target:"_blank",rel:"noopener noreferrer",children:"View on OpenSea"})]})]}),F(PN,{children:F(kr,{onClick:()=>ot(!1),children:"Close"})})]})}),ft=()=>!xe||!ut?null:F(zg,{children:K(jg,{children:[F(Wg,{onClick:()=>Te(!1),children:""}),F(Gg,{children:F(Ls,{children:"Review NFT Offer"})}),F(Hg,{children:K("div",{children:[F("h3",{children:"NFT Details"}),F(FE,{src:ut.image,alt:ut.name}),K("p",{children:["Name: ",ut.name]}),K("p",{children:["Collection: ",ut.collection]}),K("p",{children:["Token ID: ",ut.tokenId]}),F(kN,{href:ut.openseaUrl,target:"_blank",rel:"noopener noreferrer",children:"View on OpenSea"})]})}),K(PN,{children:[F(kr,{onClick:()=>{Je(ut),Te(!1)},children:"Accept Offer"}),F(kr,{onClick:()=>{gt(),Te(!1)},children:"Reject Offer"})]})]})});return a?h?F(si,{theme:tt,children:F(Mo,{children:F(Io,{children:F("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:F(nb,{})})})})}):K(si,{theme:tt,children:[F(KEe,{ref:Kt,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",onError:ue=>{console.error("Video error:",ue),me(!0)},children:F("source",{src:rt?BEe:Py,type:"video/webm"})}),G&&F(QEe,{color:Y,isMobile:rt,children:P}),ne&&K(XEe,{isMobile:rt,children:["FINAL ROUND",F("br",{}),"AUTOFLIP"]}),F(Mo,{style:{position:"relative",minHeight:"100vh",background:"transparent !important",zIndex:1},children:K(Io,{children:[console.log(" Screen size debug:",{isMobileScreen:rt,windowWidth:window.innerWidth}),Ye&&rt?K(YEe,{children:[K(iAe,{children:[K(DE,{onClick:()=>Me(!ve),children:[F("span",{children:""})," Info"]}),K(DE,{onClick:()=>at(!et),children:[F("span",{children:""})," Chat"]}),!de&&(()=>{const ue=lr();return F(DE,{isJoinButton:!0,onClick:ye,disabled:ue.disabled,style:{background:ue.disabled?"rgba(100, 100, 100, 0.5)":ue.color==="green"?"linear-gradient(45deg, #00FF41, #00BF31)":ue.color==="yellow"?"linear-gradient(45deg, #FFD700, #FFA500)":ue.color==="blue"?"linear-gradient(45deg, #00BFFF, #1E90FF)":"rgba(100, 100, 100, 0.5)",opacity:ue.disabled?.6:1},children:ue.text})})()]}),F(FN,{isOpen:ve,children:K("div",{style:{marginBottom:"0.5rem"},children:[F("h3",{style:{color:tt.colors.neonYellow,marginBottom:"0.25rem",fontSize:"1rem"},children:"Game Info"}),K("div",{style:{color:tt.colors.textSecondary},children:[F("div",{style:{padding:"0.5rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",marginBottom:"0.5rem"},children:K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("span",{style:{fontSize:"0.875rem"},children:"Cost:"}),K("span",{style:{color:tt.colors.neonGreen,fontWeight:"bold",fontSize:"0.875rem"},children:["$",(d?.priceUSD||0).toFixed(2)]})]})}),F("div",{style:{padding:"0.5rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",marginBottom:"0.5rem"},children:K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("span",{style:{fontSize:"0.875rem"},children:"Contract:"}),F("span",{onClick:()=>{d?.nft?.contractAddress&&(navigator.clipboard.writeText(d.nft.contractAddress),i("Contract address copied to clipboard!"))},style:{color:tt.colors.textPrimary,fontFamily:"monospace",fontSize:"0.8rem",cursor:"pointer",padding:"0.25rem 0.5rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"0.25rem",transition:"all 0.2s ease"},onMouseOver:ue=>{ue.currentTarget.style.background="rgba(0, 0, 0, 0.4)",ue.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.2)"},onMouseOut:ue=>{ue.currentTarget.style.background="rgba(0, 0, 0, 0.3)",ue.currentTarget.style.border="none"},children:d?.nft?.contractAddress?`${d.nft.contractAddress.slice(0,6)}...${d.nft.contractAddress.slice(-4)}`:"Unknown"})]})}),d?.nft&&K(Po,{children:[K("div",{style:{margin:"0.5rem 0",padding:"0.5rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[F("img",{src:d.nft.image,alt:d.nft.name,style:{width:"100%",maxWidth:"120px",height:"auto",borderRadius:"0.25rem",margin:"0 auto",display:"block"}}),F("p",{style:{marginTop:"0.25rem",textAlign:"center",fontSize:"0.8rem",margin:"0.25rem 0"},children:d.nft.name}),K("p",{style:{fontSize:"0.75rem",opacity:.8,margin:"0.125rem 0"},children:["Collection: ",d.nft.collection]}),K("p",{style:{fontSize:"0.75rem",opacity:.8,margin:"0.125rem 0"},children:["Token ID: ",d.nft.tokenId]})]}),K("div",{style:{display:"flex",gap:"0.25rem",marginTop:"0.25rem",justifyContent:"center"},children:[K(kr,{onClick:()=>window.open(`https://opensea.io/assets/${d.nft.contract}/${d.nft.tokenId}`,"_blank"),style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.25rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:[F("img",{src:"/images/opensea.png",alt:"OpenSea",style:{width:"12px",height:"12px",objectFit:"contain"}}),"OpenSea"]}),K(kr,{onClick:()=>window.open(`https://etherscan.io/token/${d.nft.contract}?a=${d.nft.tokenId}`,"_blank"),style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.25rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:[F("span",{style:{fontSize:"0.8rem"},children:""}),"Etherscan"]})]})]})]})]})}),F(FN,{isOpen:et,children:K("div",{style:{marginBottom:"1rem"},children:[F("h3",{style:{color:tt.colors.neonYellow,marginBottom:"0.5rem"},children:"Game Chat"}),F(NE,{gameId:t,socket:A,connected:S,isMobile:!0})]})}),F(NN,{style:{background:oe?"rgba(255, 20, 147, 0.1)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${oe?"#FF1493":"rgba(255, 255, 255, 0.1)"}`,padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"12px",height:"60px",width:"100%",animation:Re&&oe&&(R?.phase==="choosing"||R?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:R?.creatorProfile?.profilePicture?`url(${R.creatorProfile.profilePicture})`:"linear-gradient(45deg, #FF1493, #FF69B4)",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgba(255, 255, 255, 0.3)",fontSize:"1rem",fontWeight:"bold",color:"#fff",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:!R?.creatorProfile?.profilePicture&&"P1"}),F("div",{style:{display:"flex",gap:"0.25rem"},children:[1,2,3,4,5].map(ue=>{const Be=ue,Oe=R?.currentRound||1;let Pe="pending";if(Be<Oe){const Pt=R?.roundResults?.[Be-1];Pt==="creator"?Pe="creator_won":Pt==="joiner"&&(Pe="joiner_won")}else Be===Oe&&(Pe="current");const He=()=>{switch(Pe){case"current":return"#FFFF00";case"creator_won":return"#00FF41";case"joiner_won":return"#FF1493";default:return"rgba(255, 255, 255, 0.1)"}},xn=()=>{switch(Pe){case"current":return"#000";case"creator_won":return"#000";case"joiner_won":return"#000";default:return"#666"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:He(),border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"bold",color:xn(),boxShadow:Pe==="current"?"0 0 10px #FFFF00":Pe==="creator_won"?"0 0 8px #00FF41":Pe==="joiner_won"?"0 0 8px #FF1493":"none",transition:"all 0.3s ease",transform:Pe==="current"?"scale(1.1)":"scale(1)",animation:Pe==="current"?"pulse 2s infinite":"none"},children:ue},`p1-round-${ue}`)})})]})}),F("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"0.25rem auto",padding:"0.25rem",width:"100%",textAlign:"center"},children:F(NEe,{isFlipping:!!L,flipResult:L?L.result:E?.result||O,flipDuration:L?.duration,onPowerCharge:gn,onPowerRelease:q,isPlayerTurn:Re,isCharging:R?.chargingPlayer===c,chargingPlayer:R?.chargingPlayer,creatorPower:R?.creatorPower||0,joinerPower:R?.joinerPower||0,creatorChoice:R?.creatorChoice,joinerChoice:R?.joinerChoice,isCreator:oe,size:187,customHeadsImage:j,customTailsImage:D})}),(()=>{const ue=R?.creatorChoice,Be=R?.joinerChoice;if(ue||Be){let Oe;return oe?Oe=ue:Ee&&(Oe=Be),Oe||(oe&&Be?Oe=Be==="heads"?"tails":"heads":Ee&&ue&&(Oe=ue==="heads"?"tails":"heads")),Oe?F("div",{style:{textAlign:"center",marginBottom:"1rem",padding:"0.5rem",background:"rgba(0, 255, 65, 0.1)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"0.75rem",animation:"pulse 2s ease-in-out infinite"},children:K("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#00FF41",textShadow:"0 0 10px rgba(0, 255, 65, 0.5)"},children:["You're ",Oe.toUpperCase()]})}):null}return null})(),F(NN,{style:{background:Ee?"rgba(0, 191, 255, 0.1)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${Ee?"#00BFFF":"rgba(255, 255, 255, 0.1)"}`,padding:"0.5rem",marginBottom:"0.5rem",marginTop:"-15px",borderRadius:"12px",height:"60px",width:"100%",animation:Re&&Ee&&(R?.phase==="choosing"||R?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:R?.joinerProfile?.profilePicture?`url(${R.joinerProfile.profilePicture})`:"linear-gradient(45deg, #00BFFF, #87CEEB)",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgba(255, 255, 255, 0.3)",fontSize:"1rem",fontWeight:"bold",color:"#fff",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:!R?.joinerProfile?.profilePicture&&"P2"}),F("div",{style:{display:"flex",gap:"0.25rem"},children:[1,2,3,4,5].map(ue=>{const Be=ue,Oe=R?.currentRound||1;let Pe="pending";if(Be<Oe){const Pt=R?.roundResults?.[Be-1];Pt==="creator"?Pe="creator_won":Pt==="joiner"&&(Pe="joiner_won")}else Be===Oe&&(Pe="current");const He=()=>{switch(Pe){case"current":return"#FFFF00";case"creator_won":return"#FF1493";case"joiner_won":return"#00FF41";default:return"rgba(255, 255, 255, 0.1)"}},xn=()=>{switch(Pe){case"current":return"#000";case"creator_won":return"#000";case"joiner_won":return"#000";default:return"#666"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:He(),border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"bold",color:xn(),boxShadow:Pe==="current"?"0 0 10px #FFFF00":Pe==="creator_won"?"0 0 8px #FF1493":Pe==="joiner_won"?"0 0 8px #00FF41":"none",transition:"all 0.3s ease",transform:Pe==="current"?"scale(1.1)":"scale(1)",animation:Pe==="current"?"pulse 2s infinite":"none"},children:ue},`p2-round-${ue}`)})})]})}),F("div",{style:{marginBottom:"1rem",padding:"0.5rem"},children:F(CN,{creatorPower:R?.creatorPower||0,joinerPower:R?.joinerPower||0,currentPlayer:R?.currentPlayer,creator:R?.creator,joiner:R?.joiner,chargingPlayer:R?.chargingPlayer,gamePhase:R?.phase,isMyTurn:Re,playerChoice:oe?R?.creatorChoice:R?.joinerChoice,onChoiceSelect:se})}),F(UE,{children:K(JEe,{children:[d?.nftImage&&F(FE,{src:d.nftImage,alt:"NFT"}),K(ZEe,{children:[K(OE,{children:[F(BE,{children:"Collection:"}),F(LE,{children:d?.collectionName||"Unknown"})]}),K(OE,{children:[F(BE,{children:"Token ID:"}),F(LE,{children:d?.tokenId||"Unknown"})]}),K(OE,{children:[F(BE,{children:"Contract:"}),F(LE,{children:d?.contractAddress?`${d.contractAddress.slice(0,6)}...${d.contractAddress.slice(-4)}`:"Unknown"})]})]}),K(rAe,{children:[F(kr,{onClick:()=>window.open(ON(d?.chain),"_blank"),style:{flex:1},children:"View on Explorer"}),K(kr,{onClick:()=>window.open(BN(d?.chain),"_blank"),style:{flex:1},children:[F("img",{src:"/images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain",marginRight:"0.4rem"}}),"View on OpenSea"]})]})]})}),F(UE,{children:F(eAe,{children:F("div",{style:{fontSize:"0.85rem",color:R?.currentPlayer===c?tt.colors.neonGreen:tt.colors.textSecondary,textAlign:"center",padding:"0.5rem",background:R?.currentPlayer===c?"rgba(0, 255, 65, 0.1)":"transparent",borderRadius:"0.5rem"},children:R?.currentPlayer===c?"Your Turn":R?.phase==="waiting"?"Waiting for opponent":"Waiting"})})}),F(UE,{children:F(tAe,{children:F(NE,{gameId:t})})})]}):K(nAe,{children:[K("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",position:"relative"},children:[K("div",{style:{marginBottom:"1rem",padding:"1rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[K("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",padding:"0.75rem",background:oe?"rgba(255, 20, 147, 0.1)":"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:`2px solid ${oe?tt.colors.neonPink:"rgba(255, 255, 255, 0.1)"}`,height:"60px",animation:Re&&oe&&(R?.phase==="choosing"||R?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:[F(TN,{address:d?.creator,size:40,isClickable:oe,showUploadIcon:oe,profileData:R?.creatorProfile,style:{borderRadius:"12px",border:`2px solid ${tt.colors.neonPink}`}}),F("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center"},children:[...Array(d?.rounds||5)].map((ue,Be)=>{const Oe=Be+1,Pe=R?.currentRound||1;R?.creatorWins,R?.joinerWins;let He="pending";if(Oe<Pe){const _t=R?.roundResults?.[Oe-1];_t==="creator"?He="creator_won":_t==="joiner"&&(He="joiner_won")}else Oe===Pe&&(He="current");const xn=()=>{switch(He){case"current":return"#FFFF00";case"creator_won":return"#00FF41";case"joiner_won":return"#FF1493";default:return"rgba(255, 255, 255, 0.2)"}},Pt=()=>{switch(He){case"current":return"0 0 10px #FFFF00, 0 0 20px #FFFF00";case"creator_won":return"0 0 10px #00FF41, 0 0 20px #00FF41";case"joiner_won":return"0 0 10px #FF1493, 0 0 20px #FF1493";default:return"none"}},On=()=>{switch(He){case"current":return"#000000";case"creator_won":return"#000000";case"joiner_won":return"#000000";default:return"#ffffff"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:xn(),opacity:1,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:On(),boxShadow:Pt(),transition:"all 0.3s ease",transform:He==="current"?"scale(1.1)":"scale(1)",animation:He==="current"?"pulse 2s infinite":"none"},children:Oe},Be)})})]}),R?.turnTimeLeft!==void 0&&K("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, rgba(255, 255, 0, 0.2), rgba(255, 215, 0, 0.1))",borderRadius:"1rem",border:`2px solid ${R.turnTimeLeft<=5?"#FF1493":"#FFFF00"}`,textAlign:"center",marginBottom:"1rem",boxShadow:R.turnTimeLeft<=5?"0 0 30px rgba(255, 20, 147, 0.6), inset 0 0 20px rgba(255, 20, 147, 0.3)":"0 0 30px rgba(255, 255, 0, 0.6), inset 0 0 20px rgba(255, 255, 0, 0.3)",animation:R.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[F("div",{style:{color:R.turnTimeLeft<=5?"#FF1493":"#FFFF00",fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"2px"},children:"Turn Timer"}),K("div",{style:{fontSize:"3rem",fontWeight:"bold",color:R.turnTimeLeft<=5?"#FF1493":"#FFFF00",textShadow:R.turnTimeLeft<=5?"0 0 20px rgba(255, 20, 147, 0.8)":"0 0 20px rgba(255, 255, 0, 0.8)",fontFamily:"monospace"},children:[R.turnTimeLeft,"s"]}),R?.currentPlayer&&F("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.8)",marginTop:"0.5rem"},children:R.currentPlayer===c?"Your Turn":"Opponent's Turn"})]}),K("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",background:Ee?"rgba(0, 191, 255, 0.1)":"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:`2px solid ${Ee?tt.colors.neonBlue:"rgba(255, 255, 255, 0.1)"}`,height:"60px",animation:Re&&Ee&&(R?.phase==="choosing"||R?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:[F(TN,{address:d?.joiner,size:40,isClickable:Ee,showUploadIcon:Ee,profileData:R?.joinerProfile,style:{borderRadius:"12px",border:`2px solid ${tt.colors.neonBlue}`}}),F("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center"},children:[...Array(d?.rounds||5)].map((ue,Be)=>{const Oe=Be+1,Pe=R?.currentRound||1;R?.creatorWins,R?.joinerWins;let He="pending";if(Oe<Pe){const _t=R?.roundResults?.[Oe-1];_t==="creator"?He="creator_won":_t==="joiner"&&(He="joiner_won")}else Oe===Pe&&(He="current");const xn=()=>{switch(He){case"current":return"#FFFF00";case"creator_won":return"#FF1493";case"joiner_won":return"#00FF41";default:return"rgba(255, 255, 255, 0.2)"}},Pt=()=>{switch(He){case"current":return"0 0 10px #FFFF00, 0 0 20px #FFFF00";case"creator_won":return"0 0 10px #FF1493, 0 0 20px #FF1493";case"joiner_won":return"0 0 10px #00FF41, 0 0 20px #00FF41";default:return"none"}},On=()=>{switch(He){case"current":return"#000000";case"creator_won":return"#000000";case"joiner_won":return"#000000";default:return"#ffffff"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:xn(),opacity:1,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:On(),boxShadow:Pt(),transition:"all 0.3s ease",transform:He==="current"?"scale(1.1)":"scale(1)",animation:He==="current"?"pulse 2s infinite":"none"},children:Oe},Be)})})]})]}),K("div",{style:{padding:"1rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",textAlign:"center"},children:[K("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{color:tt.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Game ID"}),K("div",{style:{color:tt.colors.textPrimary,fontWeight:"bold",fontSize:"1.125rem"},children:["#",d?.id?.slice(-6).toUpperCase()]})]}),K("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{color:tt.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Entry Fee"}),K("div",{style:{color:tt.colors.textPrimary,fontWeight:"bold",fontSize:"1.125rem"},children:["$",d?.priceUSD?.toFixed(2)]})]}),K("div",{children:[F("div",{style:{color:tt.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Rounds"}),K("div",{style:{color:tt.colors.textPrimary,fontWeight:"bold",fontSize:"1.125rem"},children:["Best of ",d?.rounds]})]})]}),F("div",{style:{marginTop:"2rem"},children:F(NE,{gameId:t,socket:A,connected:S})})]}),Ye&&!rt&&K("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},children:[F("div",{id:"desktop-coin-container",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"440px",marginBottom:"2rem",marginLeft:"auto",marginRight:"auto",position:"relative",padding:"20px"},children:j&&D&&F(PEe,{isFlipping:!!L,flipResult:L?L.result:E?.result||O,flipDuration:L?.duration,onPowerCharge:gn,onPowerRelease:q,isPlayerTurn:Re,isCharging:R?.chargingPlayer===c,chargingPlayer:R?.chargingPlayer,gamePhase:R?.phase,creatorPower:R?.creatorPower||0,joinerPower:R?.joinerPower||0,creatorChoice:R?.creatorChoice,joinerChoice:R?.joinerChoice,isCreator:oe,size:440,customHeadsImage:j,customTailsImage:D})}),(()=>{const ue=R?.creatorChoice,Be=R?.joinerChoice;if(ue||Be){let Oe;return oe?Oe=ue:Ee&&(Oe=Be),Oe||(oe&&Be?Oe=Be==="heads"?"tails":"heads":Ee&&ue&&(Oe=ue==="heads"?"tails":"heads")),Oe?F("div",{style:{textAlign:"center",marginBottom:"1.5rem",padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"1rem",animation:"pulse 2s ease-in-out infinite"},children:K("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#00FF41",textShadow:"0 0 15px rgba(0, 255, 65, 0.5)"},children:["You're ",Oe.toUpperCase()]})}):null}return null})(),F(CN,{creatorPower:R?.creatorPower||0,joinerPower:R?.joinerPower||0,currentPlayer:R?.currentPlayer,creator:R?.creator,joiner:R?.joiner,chargingPlayer:R?.chargingPlayer,gamePhase:R?.phase,isMyTurn:Re,playerChoice:oe?R?.creatorChoice:R?.joinerChoice,onChoiceSelect:se})]}),K("div",{style:{position:"relative",width:"100%",maxWidth:"600px",margin:"0 auto",padding:"2rem",background:"linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(0, 0, 0, 0.3) 100%)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"1.5rem",backdropFilter:"blur(10px)"},children:[We?.image&&F("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:F("img",{src:We.image,alt:"NFT",style:{width:"200px",height:"200px",borderRadius:"1rem",objectFit:"cover",border:"4px solid rgba(0, 255, 65, 0.6)",boxShadow:"0 0 30px rgba(0, 255, 65, 0.5), inset 0 0 30px rgba(0, 255, 65, 0.3)",animation:"nftBananaGlow 2s ease-in-out infinite"}})}),K("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",padding:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"1.5rem"},children:[F("div",{style:{color:tt.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.75rem",textAlign:"center"},children:"Share"}),K("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[F("button",{onClick:()=>{const ue=window.location.href;window.open(`https://twitter.com/intent/tweet?text=Join my game of Crypto Flipz! ${ue}`,"_blank")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease"},children:F("span",{style:{fontSize:"1rem"},children:""})}),F("button",{onClick:()=>{const ue=window.location.href;window.open(`https://t.me/share/url?url=${encodeURIComponent(ue)}&text=Join my game of Crypto Flipz!`,"_blank")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease"},children:F("span",{style:{fontSize:"1rem"},children:""})}),F("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),i("Game link copied to clipboard!")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease"},children:F("span",{style:{fontSize:"1rem"},children:""})})]})]}),We&&K("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[F("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"1rem",color:tt.colors.neonYellow},children:We.name}),K("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Collection"}),F("div",{style:{fontWeight:"bold",fontSize:"1rem"},children:We.collection})]}),K("div",{style:{marginBottom:"1.5rem"},children:[F("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Token ID"}),K("div",{style:{fontWeight:"bold",fontSize:"1rem"},children:["#",We.tokenId]})]}),K("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[F("a",{href:`${ON(We?.chain)}/token/${We.contractAddress}?a=${We.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease"},children:" Explorer"}),K("a",{href:`${BN(We?.chain)}/${We.contractAddress}/${We.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease"},children:[F("img",{src:"/images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain"}}),"OpenSea"]})]}),K("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Contract Address"}),K("div",{onClick:()=>{navigator.clipboard.writeText(We.contractAddress)},style:{fontSize:"0.9rem",fontFamily:"monospace",background:"rgba(0, 0, 0, 0.3)",padding:"0.5rem",borderRadius:"0.25rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease"},onMouseOver:ue=>{ue.currentTarget.style.background="rgba(0, 0, 0, 0.4)",ue.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.2)"},onMouseOut:ue=>{ue.currentTarget.style.background="rgba(0, 0, 0, 0.3)",ue.currentTarget.style.border="none"},children:[K("span",{children:[We.contractAddress?.slice(0,6),"...",We.contractAddress?.slice(-4)]}),F("span",{style:{opacity:.6},children:""})]})]})]}),!de&&F("div",{style:{marginTop:"2rem",textAlign:"center"},children:(()=>{const ue=lr(),Be=()=>{switch(ue.color){case"green":return"linear-gradient(45deg, #00FF41, #00BF31)";case"yellow":return"linear-gradient(45deg, #FFD700, #FFA500)";case"blue":return"linear-gradient(45deg, #00BFFF, #1E90FF)";case"red":return"linear-gradient(45deg, #FF4444, #CC0000)";default:return"rgba(100, 100, 100, 0.5)"}};return F("button",{onClick:ye,disabled:ue.disabled,style:{background:ue.disabled?"rgba(100, 100, 100, 0.5)":Be(),color:"#fff",border:"none",padding:"1.5rem 3rem",borderRadius:"1rem",fontSize:"1.3rem",fontWeight:"bold",cursor:ue.disabled?"not-allowed":"pointer",width:"100%",transition:"all 0.3s ease",opacity:ue.disabled?.6:1,boxShadow:ue.disabled?"none":"0 0 20px rgba(0, 255, 65, 0.3)"},children:ue.text})})()})]})]}),Ie&&R?.phase==="waiting"&&F("div",{style:{gridColumn:"1 / -1",marginTop:"2rem"},children:F(RN,{gameId:t,gameData:d,isCreator:oe,socket:A,connected:S,offeredNFTs:Nt,onOfferSubmitted:he,onOfferAccepted:Ue})}),Ie&&X&&R?.phase==="waiting"&&K("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",textAlign:"center",padding:"1rem",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem"},children:[F("h3",{style:{color:"#FFD700",marginBottom:"0.5rem"},children:" BATTLE ACCEPTED!"}),K("p",{style:{color:"white",margin:0},children:["Waiting for ",X.offererAddress.slice(0,6),"...",X.offererAddress.slice(-4)," to complete payment..."]}),K("div",{style:{display:"flex",justifyContent:"center",gap:"2rem",marginTop:"1rem",alignItems:"center"},children:[K("div",{style:{textAlign:"center"},children:[F("img",{src:d.nft.image,alt:d.nft.name,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover",marginBottom:"0.5rem"}}),F("div",{style:{fontSize:"0.8rem",color:"white"},children:d.nft.name})]}),F("div",{style:{fontSize:"2rem",color:"#FFD700",animation:"pulse 2s infinite"},children:""}),K("div",{style:{textAlign:"center"},children:[F("img",{src:X.nft.image,alt:X.nft.name,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover",marginBottom:"0.5rem"}}),F("div",{style:{fontSize:"0.8rem",color:"white"},children:X.nft.name})]})]})]}),!de&&R?.phase&&R.phase!=="waiting"&&K("div",{style:{marginTop:"2rem",textAlign:"center",padding:"1rem",background:"rgba(0, 191, 255, 0.1)",border:"1px solid rgba(0, 191, 255, 0.3)",borderRadius:"1rem"},children:[F("p",{style:{color:"#00BFFF",fontWeight:"bold",margin:0},children:" GAME IN PROGRESS"}),F("p",{style:{color:"#888",fontSize:"0.875rem",margin:"0.5rem 0 0 0"},children:"Join a game to see the action!"})]}),R?.phase==="choosing"&&F("div",{style:{textAlign:"center",marginBottom:"2rem"},children:Re?K("div",{style:{padding:"1rem",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:tt.colors.textSecondary,marginTop:"0.5rem"},children:"Select heads or tails in your player box, then you can charge power and flip!"}),R.turnTimeLeft!==void 0&&K("div",{style:{color:R.turnTimeLeft<=5?tt.colors.statusError:tt.colors.neonYellow,fontWeight:"bold",fontSize:"1.2rem",marginTop:"0.5rem",animation:R.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[R.turnTimeLeft,"s to choose"]})]}):K("div",{style:{padding:"1rem",background:"rgba(255, 165, 0, 0.1)",border:"1px solid rgba(255, 165, 0, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:tt.colors.statusWarning,fontWeight:"bold",fontSize:"1.2rem"},children:" Opponent is Choosing"}),K("div",{style:{color:tt.colors.textSecondary,marginTop:"0.5rem"},children:["Waiting for ",oe?"Player 2":"Player 1"," to choose heads or tails"]}),R.turnTimeLeft!==void 0&&K("div",{style:{color:R.turnTimeLeft<=5?tt.colors.statusError:tt.colors.neonYellow,fontWeight:"bold",fontSize:"1.2rem",marginTop:"0.5rem",animation:R.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[R.turnTimeLeft,"s remaining"]})]})}),R?.phase==="round_active"&&F("div",{style:{textAlign:"center",marginBottom:"2rem"},children:Re?K("div",{style:{padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"1px solid rgba(0, 255, 65, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:tt.colors.statusSuccess,fontWeight:"bold",fontSize:"1.2rem"},children:" YOUR TURN TO FLIP!"}),K("div",{style:{color:tt.colors.textSecondary,marginTop:"0.5rem"},children:["You chose ",oe?R.creatorChoice?.toUpperCase():R.joinerChoice?.toUpperCase()," - Hold coin to charge power, release to flip!"]})]}):K("div",{style:{padding:"1rem",background:"rgba(255, 165, 0, 0.1)",border:"1px solid rgba(255, 165, 0, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:tt.colors.statusWarning,fontWeight:"bold",fontSize:"1.2rem"},children:" Opponent's Turn"}),K("div",{style:{color:tt.colors.textSecondary,marginTop:"0.5rem"},children:["They chose ",oe?R.joinerChoice?.toUpperCase():R.creatorChoice?.toUpperCase()," and are charging power to flip"]})]})}),E&&K("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,background:"rgba(0, 0, 0, 0.95)",padding:"2rem",borderRadius:"2rem",border:`4px solid ${E.actualWinner===c?"#00FF41":"#FF1493"}`,textAlign:"center",width:"90%",maxWidth:"600px",pointerEvents:"none",boxShadow:`0 0 50px ${E.actualWinner===c?"rgba(0, 255, 65, 0.5)":"rgba(255, 20, 147, 0.5)"}`},children:[F("div",{style:{position:"relative",width:"100%",height:"200px",marginBottom:"1rem",borderRadius:"1rem",overflow:"hidden"},children:F("video",{autoPlay:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"1rem"},src:E.actualWinner===c?"images/video/LoseWin/final lose win/win.webm":"images/video/LoseWin/final lose win/lose.webm",onError:ue=>{console.error("Video playback error:",ue),console.log("Video source:",ue.target.src),ue.target.src=E.actualWinner===c?"/images/video/LoseWin/final lose win/win.webm":"/images/video/LoseWin/final lose win/lose.webm"},onLoadedData:ue=>{console.log("Video loaded successfully"),ue.target.play().catch(Be=>console.error("Play error:",Be))}},E.actualWinner===c?"win":"lose")}),F("div",{style:{fontSize:"2.5rem",color:"white",fontWeight:"bold",marginBottom:"1rem",pointerEvents:"auto",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)"},children:E.result==="heads"?" HEADS":" TAILS"}),K("div",{style:{fontSize:"1.2rem",color:"rgba(255, 255, 255, 0.9)",marginBottom:"1rem",pointerEvents:"auto",padding:"0.5rem 1rem",background:"rgba(255, 255, 255, 0.1)",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:["You chose: ",F("strong",{children:((oe?R?.creatorChoice:R?.joinerChoice)||E?.playerChoice)?.toUpperCase()||"UNKNOWN"})]}),F("div",{style:{fontSize:"1.8rem",color:(oe?R?.creatorChoice:R?.joinerChoice)===E.result?"#00FF41":"#FF1493",fontWeight:"bold",marginBottom:"1rem",pointerEvents:"auto",textShadow:`0 0 15px ${(oe?R?.creatorChoice:R?.joinerChoice)===E.result?"rgba(0, 255, 65, 0.7)":"rgba(255, 20, 147, 0.7)"}`,animation:"pulse 1s infinite"},children:(oe?R?.creatorChoice:R?.joinerChoice)===E.result?" YOU WON!":" YOU LOST!"})]}),F(iG,{isVisible:ae&&R?.phase==="game_complete",isWinner:qe?.isWinner||!1,flipResult:qe?.flipResult,playerChoice:qe?.playerChoice,gameData:qe?.gameData,onClose:()=>we(!1),onClaimWinnings:be}),R?.winner&&F("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"2rem",backdropFilter:"blur(10px)"},children:K("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(25, 20, 0, 0.9) 100%)",border:"2px solid #FFD700",borderRadius:"1rem",padding:"2rem",textAlign:"center",maxWidth:rt?"400px":"700px",width:rt?"80%":"140%",boxShadow:"0 0 30px rgba(255, 215, 0, 0.3)"},children:[F("h2",{style:{color:"#FFD700",marginBottom:"1rem"},children:" You Won! "}),K("p",{style:{color:"#fff",marginBottom:"2rem"},children:["Congratulations! You've won ",R?.potAmount||0," ",R?.currency||"ETH"]}),K("div",{style:{display:"flex",gap:"1rem",width:"100%",marginBottom:"1rem"},children:[F("button",{onClick:be,style:{flex:1,background:"linear-gradient(135deg, #00FF41, #39FF14)",color:"#000",border:"none",padding:"1rem",borderRadius:"0.8rem",fontSize:"1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(0, 255, 65, 0.4)",transition:"all 0.3s ease",textTransform:"uppercase"},onMouseOver:ue=>{ue.currentTarget.style.transform="scale(1.05)",ue.currentTarget.style.boxShadow="0 0 30px rgba(0, 255, 65, 0.6)"},onMouseOut:ue=>{ue.currentTarget.style.transform="scale(1)",ue.currentTarget.style.boxShadow="0 0 20px rgba(0, 255, 65, 0.4)"},children:" COLLECT"}),F("button",{onClick:()=>e("/"),style:{flex:1,background:"linear-gradient(135deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"1rem",borderRadius:"0.8rem",fontSize:"1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(255, 20, 147, 0.4)",transition:"all 0.3s ease",textTransform:"uppercase"},onMouseOver:ue=>{ue.currentTarget.style.transform="scale(1.05)",ue.currentTarget.style.boxShadow="0 0 30px rgba(255, 20, 147, 0.6)"},onMouseOut:ue=>{ue.currentTarget.style.transform="scale(1)",ue.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.4)"},children:" HOME"})]}),F("p",{style:{color:"#ff4444",fontSize:"0.9rem",marginTop:"1rem",border:"1px solid rgba(255, 68, 68, 0.3)",padding:"0.5rem",borderRadius:"0.5rem",background:"rgba(255, 68, 68, 0.1)"},children:" Warning: If you leave this screen without claiming, you will lose your winnings."})]})}),d?.gameType==="nft-vs-nft"&&!oe&&!Nt?.length&&F(kr,{colorScheme:"green",size:"lg",onClick:()=>$e(!0),mb:4,children:"Offer NFT to Battle"}),d?.gameType==="nft-vs-nft"&&!oe&&offerStatus==="pending"&&F(Text,{color:"neonYellow",mb:4,children:"Your NFT offer is pending review..."}),d?.gameType==="nft-vs-nft"&&!oe&&offerStatus==="accepted"&&F(kr,{colorScheme:"green",size:"lg",onClick:ye,mb:4,children:"Join Battle"}),d?.status==="completed"&&d?.winner===c&&F("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"center"},children:F("button",{onClick:be,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"12px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:ue=>{ue.currentTarget.style.transform="translateY(-2px)",ue.currentTarget.style.boxShadow="0 10px 30px rgba(102, 126, 234, 0.4)"},onMouseOut:ue=>{ue.currentTarget.style.transform="translateY(0)",ue.currentTarget.style.boxShadow="none"},children:"Claim Your Winnings "})})]})}),F("style",{children:`
          @keyframes buttonPulse {
            0% {
              box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            }
            50% {
              box-shadow: 0 0 25px rgba(255, 215, 0, 0.6);
            }
            100% {
              box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            }
          }

          @keyframes nftBananaGlow {
            0% {
              box-shadow: 0 0 30px rgba(255, 255, 0, 0.5), inset 0 0 30px rgba(255, 255, 0, 0.3);
            }
            50% {
              box-shadow: 0 0 50px rgba(255, 255, 0, 0.7), inset 0 0 50px rgba(255, 255, 0, 0.4);
            }
            100% {
              box-shadow: 0 0 30px rgba(255, 255, 0, 0.5), inset 0 0 30px rgba(255, 255, 0, 0.3);
            }
          }
        `}),Tt(),Rt(),yt(),ft()]}):F(si,{theme:tt,children:F(Mo,{children:F(Io,{children:K(Eu,{style:{textAlign:"center",padding:"3rem"},children:[F(Ls,{children:"Connect Your Wallet"}),l&&F("p",{style:{color:"#FF6B6B",marginTop:"1rem"},children:l}),F(kr,{onClick:()=>e("/"),style:{marginTop:"1rem"},children:"Go Home"})]})})})})},ON=t=>t&&{ethereum:"https://etherscan.io",polygon:"https://polygonscan.com",base:"https://basescan.org",arbitrum:"https://arbiscan.io",optimism:"https://optimistic.etherscan.io"}[t.toLowerCase()]||"https://etherscan.io",BN=t=>t&&{ethereum:"https://opensea.io/assets/ethereum",polygon:"https://opensea.io/assets/matic",base:"https://opensea.io/assets/base",arbitrum:"https://opensea.io/assets/arbitrum",optimism:"https://opensea.io/assets/optimism"}[t.toLowerCase()]||"https://opensea.io/assets/ethereum",sAe=()=>{const{gameId:t}=Gz(),e=ih(),{isFullyConnected:n,connectionError:r,address:i,walletClient:o,publicClient:s}=m0(),{chain:a}=fo(),{showSuccess:l,showError:c,showInfo:u}=Ys(),[d,f]=U.useState(null),[h,g]=U.useState(!0),[m,y]=U.useState(""),[p,v]=U.useState(null),[w,x]=U.useState(!1),[T,N]=U.useState(!1);U.useEffect(()=>{if(n&&o&&s&&a){const E=a.name.toLowerCase();Ot.initializeClients(a.id,o).then(()=>{console.log(" Contract service initialized for chain:",E)}).catch(I=>{console.error(" Failed to initialize contract service:",I),y("Failed to connect to smart contract")})}},[n,o,s,a,Ot]),U.useEffect(()=>{t&&A()},[t]);const A=async()=>{try{if(g(!0),y(""),n&&Ot.isInitialized())try{const C=await Ot.getGame(t);if(C.success&&C.game){console.log(" Game loaded from smart contract:",C.game);const j=z(C.game);f(j),g(!1);return}}catch(C){console.warn(" Failed to load from contract, trying database:",C)}const I=await fetch(`https://cryptoflipz2-production.up.railway.app/api/games/${t}`);if(!I.ok)throw new Error("Game not found");const O=await I.json();console.log(" Game loaded from database:",O),f(O)}catch(E){console.error(" Error loading game:",E),y(E.message)}finally{g(!1)}},z=E=>({id:E.gameId.toString(),creator:E.creator,joiner:E.joiner,nft_contract:E.nftContract,token_id:E.tokenId.toString(),price_usd:parseFloat(E.priceUSD)/100,game_type:E.gameType===1?"nft-vs-nft":"nft-vs-crypto",status:S(E),current_round:E.currentRound,max_rounds:E.maxRounds,creator_score:E.creatorScore,joiner_score:E.joinerScore,auth_info:E.authInfo?JSON.parse(E.authInfo):{},created_at:new Date().toISOString(),contract_game_id:E.gameId.toString()}),S=E=>E.joiner==="0x0000000000000000000000000000000000000000"?"waiting":E.currentRound>=E.maxRounds?"completed":"active",k=async()=>{if(!n||!i){c("Please connect your wallet to join the game");return}if(!d){c("Game data not available");return}x(!0);try{u("Joining game...");const E={gameId:t,joiner:i,acceptedToken:0,authInfo:JSON.stringify({joiner:i,joinedAt:new Date().toISOString()})};console.log(" Joining game with smart contract:",E);const I=await Ot.joinGame(E);if(!I.success)throw new Error("Failed to join game: "+I.error);l("Successfully joined the game!"),console.log(" Joined game on blockchain:",I),f(O=>({...O,joiner:i,status:"active"})),await L({joiner:i,status:"active"})}catch(E){console.error(" Error joining game:",E),c("Failed to join game: "+E.message)}finally{x(!1)}},R=async()=>{if(!n||!i){c("Please connect your wallet to flip the coin");return}if(!d){c("Game data not available");return}N(!0);try{u("Flipping coin...");const E={gameId:t,player:i,authInfo:JSON.stringify({player:i,flippedAt:new Date().toISOString()})};console.log(" Flipping coin with smart contract:",E);const I=await Ot.flipCoin(E);if(!I.success)throw new Error("Failed to flip coin: "+I.error);console.log(" Coin flipped on blockchain:",I);const O=await W();O&&f(O),v({winner:I.winner,round:I.round,isFinal:I.isFinal,transactionHash:I.transactionHash}),I.isFinal?l(`Game completed! ${I.winner===i?"You won!":"You lost!"}`):l(`Round ${I.round} completed! ${I.winner===i?"You won this round!":"Opponent won this round!"}`)}catch(E){console.error(" Error flipping coin:",E),c("Failed to flip coin: "+E.message)}finally{N(!1)}},W=async()=>{try{const E=await Ot.getGame(t);if(E.success&&E.game)return z(E.game)}catch(E){console.error(" Error loading updated game from contract:",E)}return null},L=async E=>{try{if(!(await fetch(`https://cryptoflipz2-production.up.railway.app/api/games/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)})).ok)throw new Error("Failed to update game in database");console.log(" Game updated in database")}catch(I){console.error(" Error updating game in database:",I)}},b=async()=>{if(!n||!i){c("Please connect your wallet to withdraw rewards");return}try{u("Checking for unclaimed rewards...");const E=await Ot.getUnclaimedRewards(i);if(!E.success)throw new Error("Failed to check rewards: "+E.error);if(E.ethAmount>0||E.usdcAmount>0||E.nftCount>0){u("Withdrawing rewards...");const I=await Ot.withdrawRewards();if(!I.success)throw new Error("Failed to withdraw rewards: "+I.error);l("Rewards withdrawn successfully!"),console.log(" Rewards withdrawn:",I)}else u("No unclaimed rewards found")}catch(E){console.error(" Error withdrawing rewards:",E),c("Failed to withdraw rewards: "+E.message)}};return!n||!i?F(si,{theme:tt,children:F(Mo,{children:F(Io,{children:K(Zge,{children:[F(eye,{children:"Connect Your Wallet"}),F(tye,{children:r||"Please connect your wallet to play the game."}),F(Yf,{}),r&&F("div",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#FF6B6B"},children:r})]})})})}):h?F(si,{theme:tt,children:F(Mo,{children:F(Io,{children:K(nye,{children:[F(nb,{}),F("div",{children:"Loading game..."})]})})})}):m?F(si,{theme:tt,children:F(Mo,{children:F(Io,{children:K(Ak,{children:[F(_k,{children:"Error Loading Game"}),F(Ek,{children:m}),F("button",{onClick:()=>e("/"),style:{marginTop:"1rem",padding:"0.75rem 1.5rem",background:"linear-gradient(45deg, #00FF41, #39FF14)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",cursor:"pointer"},children:"Go Home"})]})})})}):d?F(si,{theme:tt,children:K(Mo,{children:[F(Io,{children:F(rye,{children:F(oAe,{game:d,currentPlayer:i,onJoinGame:k,onFlipCoin:R,onWithdrawRewards:b,isJoining:w,isFlipping:T,contractService:Ot,gameId:t,socket:null,connected:!1})})}),p&&F(iG,{result:p,onClose:()=>v(null),onPlayAgain:()=>{v(null),e("/create")}})]})}):F(si,{theme:tt,children:F(Mo,{children:F(Io,{children:K(Ak,{children:[F(_k,{children:"Game Not Found"}),F(Ek,{children:"This game doesn't exist or has been removed."}),F("button",{onClick:()=>e("/"),style:{marginTop:"1rem",padding:"0.75rem 1.5rem",background:"linear-gradient(45deg, #00FF41, #39FF14)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",cursor:"pointer"},children:"Go Home"})]})})})})},aAe="/assets/FLIPNOSIS-C0NSmved.webp",lAe="/assets/mobile-DVZ6fP2r.webp";var cAe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uAe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dAe=(t,e)=>{const n=U.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>U.createElement("svg",{ref:c,...cAe,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${uAe(t)}`,...l},[...e.map(([u,d])=>U.createElement(u,d)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n};var vr=dAe;const fAe=vr("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),LN=vr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),hAe=vr("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),pAe=vr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),mAe=vr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),gAe=vr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),yAe=vr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),vAe=vr("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),wAe=vr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),bAe=vr("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),xp=vr("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),DN=vr("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),xAe=vr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),EAe=vr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),AAe=vr("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),zE=vr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),UN=vr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),_Ae=vr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),SAe=vr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),CAe=Ae("button",{target:"e1fgybsa30"})({name:"1839d5x",styles:"display:flex;align-items:center;gap:0.75rem;background:rgba(0, 0, 0, 0.7);border:1px solid rgba(255, 255, 255, 0.1);border-radius:1rem;padding:0.5rem 1rem;cursor:pointer;transition:all 0.3s ease;position:relative;color:#fff;&:hover{background:rgba(0, 0, 0, 0.8);border-color:rgba(255, 20, 147, 0.3);box-shadow:0 0 15px rgba(255, 20, 147, 0.2);}"}),TAe=Ae("div",{target:"e1fgybsa29"})({name:"1cja0z9",styles:"position:absolute;top:-0.5rem;right:-0.5rem;background:linear-gradient(45deg, #FF1493, #FF69B4);color:white;font-size:0.75rem;font-weight:bold;border-radius:50%;width:1.25rem;height:1.25rem;display:flex;align-items:center;justify-content:center;box-shadow:0 0 10px rgba(255, 20, 147, 0.4)"}),MAe=Ae("div",{target:"e1fgybsa28"})({name:"1b6odgw",styles:"position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.8);display:flex;align-items:center;justify-content:center;z-index:1100;backdrop-filter:blur(10px)"}),IAe=Ae("div",{target:"e1fgybsa27"})({name:"x3shza",styles:"background:rgba(0, 0, 0, 0.9);border:1px solid rgba(255, 20, 147, 0.3);border-radius:1rem;width:90%;max-width:800px;max-height:90vh;overflow:hidden;position:relative;box-shadow:0 0 30px rgba(255, 20, 147, 0.2)"}),RAe=Ae("div",{target:"e1fgybsa26"})({name:"1may638",styles:"background:linear-gradient(45deg, #FF1493, #FF69B4);padding:1.5rem;border-radius:1rem 1rem 0 0;position:relative"}),PAe=Ae("button",{target:"e1fgybsa25"})({name:"1578rug",styles:"position:absolute;top:1rem;right:1rem;background:none;border:none;color:rgba(255, 255, 255, 0.8);font-size:1.5rem;cursor:pointer;padding:0.5rem;transition:all 0.3s ease;&:hover{color:#fff;transform:scale(1.1);}"}),kAe=Ae("div",{target:"e1fgybsa24"})({name:"j9zhdy",styles:"display:flex;margin-top:1rem;border-bottom:2px solid rgba(255, 255, 255, 0.2)"}),zN=Ae("button",{target:"e1fgybsa23"})("flex:1;padding:1rem;background:",t=>t.active?"rgba(255, 255, 255, 0.2)":"transparent",";border:none;color:",t=>t.active?"#fff":"rgba(255, 255, 255, 0.7)",";font-size:1.1rem;font-weight:",t=>t.active?"bold":"normal",";cursor:pointer;transition:all 0.3s ease;border-bottom:",t=>t.active?"2px solid #fff":"none",";margin-bottom:-2px;position:relative;&:hover{background:rgba(255, 255, 255, 0.1);}"),NAe=Ae("div",{target:"e1fgybsa22"})({name:"1rthi20",styles:"position:absolute;top:0.5rem;right:0.5rem;background:linear-gradient(45deg, #FF1493, #FF69B4);color:white;font-size:0.75rem;font-weight:bold;border-radius:50%;width:1.25rem;height:1.25rem;display:flex;align-items:center;justify-content:center;box-shadow:0 0 10px rgba(255, 20, 147, 0.4)"}),FAe=Ae("div",{target:"e1fgybsa21"})({name:"1l02fjv",styles:"padding:2rem;overflow-y:auto;max-height:calc(90vh - 200px)"}),OAe=Ae("div",{target:"e1fgybsa16"})({name:"f28l0h",styles:"display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:2rem"}),jN=Ae("div",{target:"e1fgybsa15"})({name:"1c94xsr",styles:"background:rgba(255, 255, 255, 0.05);border:1px solid rgba(255, 20, 147, 0.2);border-radius:1rem;padding:1rem;transition:all 0.3s ease;&:hover{border-color:rgba(255, 20, 147, 0.4);box-shadow:0 0 15px rgba(255, 20, 147, 0.2);}"}),GN=Ae("img",{target:"e1fgybsa14"})({name:"q3omqe",styles:"width:100%;height:8rem;object-fit:cover;border-radius:0.5rem;border:2px solid rgba(255, 20, 147, 0.3);aspect-ratio:1"}),HN=Ae("div",{target:"e1fgybsa13"})({name:"rxgvgn",styles:"width:100%;height:8rem;background:rgba(255, 255, 255, 0.1);border-radius:0.5rem;display:flex;align-items:center;justify-content:center;border:2px solid rgba(255, 20, 147, 0.3);color:rgba(255, 255, 255, 0.5);aspect-ratio:1"}),BAe=Ae("div",{target:"e1fgybsa12"})({name:"vgvof3",styles:"background:rgba(255, 255, 255, 0.05);border:1px solid rgba(255, 20, 147, 0.2);border-radius:1rem;padding:1.5rem;margin-bottom:1rem;transition:all 0.3s ease;&:hover{border-color:rgba(255, 20, 147, 0.4);box-shadow:0 0 15px rgba(255, 20, 147, 0.2);transform:translateY(-2px);}"}),LAe=Ae("div",{target:"e1fgybsa11"})({name:"17nzbd5",styles:"display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem"}),DAe=Ae("div",{target:"e1fgybsa10"})({name:"82a6rk",styles:"flex:1"}),UAe=Ae("div",{target:"e1fgybsa9"})({name:"aj6rbz",styles:"display:flex;gap:0.5rem"}),WN=Ae("button",{target:"e1fgybsa8"})("background:",t=>t.variant==="danger"?"linear-gradient(45deg, #FF4444, #CC0000)":"linear-gradient(45deg, #FF1493, #FF69B4)",";border:none;border-radius:0.5rem;padding:0.5rem 1rem;color:#fff;font-weight:bold;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;gap:0.5rem;&:hover{transform:scale(1.05);box-shadow:0 0 15px ",t=>t.variant==="danger"?"rgba(255, 68, 68, 0.4)":"rgba(255, 20, 147, 0.4)",";}"),zAe=Ae("span",{target:"e1fgybsa7"})("padding:0.25rem 0.75rem;border-radius:1rem;font-size:0.8rem;font-weight:bold;background:",t=>{switch(t.status){case 0:return"rgba(255, 193, 7, 0.2)";case 1:return"rgba(33, 150, 243, 0.2)";case 2:return"rgba(76, 175, 80, 0.2)";case 3:return"rgba(156, 39, 176, 0.2)";case 4:return"rgba(158, 158, 158, 0.2)";case 5:return"rgba(244, 67, 54, 0.2)";default:return"rgba(158, 158, 158, 0.2)"}},";color:",t=>{switch(t.status){case 0:return"#FFC107";case 1:return"#2196F3";case 2:return"#4CAF50";case 3:return"#9C27B0";case 4:return"#9E9E9E";case 5:return"#F44336";default:return"#9E9E9E"}},";border:1px solid ",t=>{switch(t.status){case 0:return"rgba(255, 193, 7, 0.3)";case 1:return"rgba(33, 150, 243, 0.3)";case 2:return"rgba(76, 175, 80, 0.3)";case 3:return"rgba(156, 39, 176, 0.3)";case 4:return"rgba(158, 158, 158, 0.3)";case 5:return"rgba(244, 67, 54, 0.3)";default:return"rgba(158, 158, 158, 0.3)"}},";"),jAe=Ae("span",{target:"e1fgybsa6"})({name:"ee8xbw",styles:"padding:0.25rem 0.75rem;border-radius:1rem;font-size:0.8rem;font-weight:bold;background:rgba(255, 152, 0, 0.2);color:#FF9800;border:1px solid rgba(255, 152, 0, 0.3)"}),GAe=Ae("div",{target:"e1fgybsa5"})({name:"1p97a7f",styles:"background:rgba(244, 67, 54, 0.1);border:1px solid rgba(244, 67, 54, 0.3);border-radius:1rem;padding:1rem;margin-bottom:1rem;display:flex;align-items:center;gap:0.5rem;color:#F44336"}),HAe=Ae("div",{target:"e1fgybsa4"})({name:"byvkc7",styles:"display:flex;flex-wrap:wrap;gap:0.5rem;margin-bottom:1rem"}),WAe=Ae("div",{target:"e1fgybsa3"})({name:"1wws4zq",styles:"display:flex;align-items:center;gap:0.5rem;padding:0.5rem 1rem;border-radius:1rem;font-size:0.9rem;font-weight:bold;background:rgba(255, 20, 147, 0.1);color:#FF1493;border:1px solid rgba(255, 20, 147, 0.3)"}),VN=Ae("div",{target:"e1fgybsa1"})({name:"1m8gwey",styles:"text-align:center;padding:3rem;color:rgba(255, 255, 255, 0.7)"}),VAe=Ae("div",{target:"e1fgybsa0"})({name:"ye1ury",styles:"display:inline-block;width:2rem;height:2rem;border:3px solid rgba(255, 20, 147, 0.3);border-radius:50%;border-top-color:#FF1493;animation:spin 1s ease-in-out infinite;@keyframes spin{to{transform:rotate(360deg);}}"}),oG=({address:t,isConnected:e,currentChain:n})=>{const[r,i]=U.useState({name:"",avatar:"",headsImage:"",tailsImage:"",stats:{totalGames:0,gamesWon:0,gamesLost:0,winRate:0,totalVolume:0}}),[o,s]=U.useState([]),[a,l]=U.useState(!1),[c,u]=U.useState("profile"),[d,f]=U.useState(!1),[h,g]=U.useState(!0),[m,y]=U.useState([]),[p,v]=U.useState(!1),[w,x]=U.useState(!1),[T,N]=U.useState(""),[A,z]=U.useState(""),[S,k]=U.useState(""),[R,W]=U.useState(""),[L,b]=U.useState(0),[E,I]=U.useState(0),O=5,C=3,j=(ae,we={})=>{d&&"Notification"in window&&Notification.permission==="granted"&&new Notification(ae,{icon:"/logo.png",badge:"/logo.png",...we})},H=ae=>{const we=[];ae.length>=O&&we.push({type:"limit",title:"Game Limit Reached",description:`Maximum ${O} active games`,color:"text-red-500",icon:LN}),ae.length>0&&we.push({type:"active",title:`${ae.length} Active Games`,description:"You have ongoing games",color:"text-blue-500",icon:xp});const qe=ae.filter(te=>{const We=new Date(te.createdAt||Date.now());return(Date.now()-We.getTime())/(1e3*60*60)>=C-.5});qe.length>0&&we.push({type:"expiring",title:`${qe.length} Games Expiring Soon`,description:"Games will auto-cancel in 30 minutes",color:"text-orange-500",icon:gAe}),y(we)},D=async()=>{const ae=Math.floor(Date.now()/1e3),we=o.filter(qe=>qe.core.state===0&&Number(qe.core.expiresAt)<=ae);for(const qe of we)try{console.log(`Auto-cancelling expired game ${qe.id}`),await Ot.cancelGame(qe.id),j("Game Auto-Cancelled",{body:`Game #${qe.id} has been automatically cancelled due to expiration`,tag:`game-${qe.id}`})}catch(te){console.error(`Failed to auto-cancel game ${qe.id}:`,te)}we.length>0&&M()},M=async()=>{if(!(!t||!e)){v(!0);try{const ae=await fetch(`/api/profile/${t}`);if(ae.ok){const we=await ae.json();i(qe=>({...qe,...we,name:we.name||"",avatar:we.avatar||"",headsImage:we.headsImage||"",tailsImage:we.tailsImage||""})),N(we.name||""),z(we.avatar||""),k(we.headsImage||""),W(we.tailsImage||"")}}catch(ae){console.error("Failed to load profile data:",ae)}try{const ae=await Ot.getUserActiveGames(t),we=[],qe=ae.success?ae.games:[];for(const te of qe)try{const We=await Ot.getGameDetails(te.toString());if(We.success){const{game:Ke,nftChallenge:ct}=We.data;Ke.creator.toLowerCase()===t.toLowerCase()&&we.push({id:te,creator:Ke.creator,joiner:Ke.joiner,core:{gameId:Ke.gameId,state:Ke.state,gameType:Ke.gameType,priceUSD:Ke.priceUSD,paymentToken:Ke.paymentToken,totalPaid:Ke.totalPaid,winner:Ke.winner,createdAt:Ke.createdAt,expiresAt:Ke.expiresAt},nftChallenge:ct,progress:{currentRound:1,maxRounds:1},createdAt:new Date(Number(Ke.createdAt)*1e3).toISOString(),stake:{nftContract:Ke.nftContract,tokenId:Ke.tokenId.toString(),amount:Ke.priceUSD?(Number(Ke.priceUSD)/1e18).toFixed(4):"0",token:Ke.gameType===0?"ETH":"NFT"}})}}catch(We){console.warn(`Could not get details for game ${te}:`,We)}s(we),H(we),de()}catch(ae){console.error("Failed to load user games:",ae);const we=[{id:1,creator:t,joiner:"0x0000000000000000000000000000000000000000",core:{gameId:"1",state:0,gameType:0,priceUSD:"1000000000000000000",paymentToken:0,totalPaid:"0",winner:"0x0000000000000000000000000000000000000000",createdAt:Math.floor((Date.now()-2*60*60*1e3)/1e3),expiresAt:Math.floor((Date.now()+60*60*1e3)/1e3)},nftChallenge:{challengerNFTContract:"0x0000000000000000000000000000000000000000",challengerTokenId:"0"},progress:{currentRound:1,maxRounds:3},createdAt:new Date(Date.now()-2*60*60*1e3).toISOString(),stake:{nftContract:"0x0000000000000000000000000000000000000000",tokenId:"1",amount:"0.1",token:"ETH"}},{id:2,creator:t,joiner:"0x0000000000000000000000000000000000000000",core:{gameId:"2",state:0,gameType:1,priceUSD:"0",paymentToken:0,totalPaid:"0",winner:"0x0000000000000000000000000000000000000000",createdAt:Math.floor((Date.now()-1*60*60*1e3)/1e3),expiresAt:Math.floor((Date.now()+2*60*60*1e3)/1e3)},nftChallenge:{challengerNFTContract:"0x0000000000000000000000000000000000000000",challengerTokenId:"0"},progress:{currentRound:1,maxRounds:1},createdAt:new Date(Date.now()-1*60*60*1e3).toISOString(),stake:{nftContract:"0x1234567890123456789012345678901234567890",tokenId:"123",amount:"0",token:"NFT"}}];s(we),H(we)}v(!1)}};U.useEffect(()=>{M();const ae=setInterval(D,5*60*1e3);return()=>clearInterval(ae)},[t,e]),U.useEffect(()=>{"Notification"in window&&f(Notification.permission==="granted")},[]);const $=()=>{navigator.clipboard.writeText(t),x(!0),setTimeout(()=>x(!1),2e3)},J=ae=>{switch(ae){case 0:return"Waiting for Player";case 1:return"Player Joined";case 2:return"In Progress";case 3:return"Completed";case 4:return"Expired";case 5:return"Cancelled";default:return"Unknown"}},Z=ae=>{const we=new Date(Number(ae)*1e3),qe=new Date,te=we.getTime()-qe.getTime();if(te<=0)return"Expired";const We=Math.floor(te/(1e3*60*60)),Ke=Math.floor(te%(1e3*60*60)/(1e3*60));return We>0?`${We}h ${Ke}m`:`${Ke}m`},ce=async(ae,we)=>{const qe=new FileReader;qe.onload=async te=>{const We=te.target.result;switch(i(Ke=>({...Ke,[ae==="avatar"?"avatar":ae==="heads"?"headsImage":"tailsImage"]:We})),ae){case"avatar":z(We);break;case"heads":k(We);break;case"tails":W(We);break}try{(await fetch(`/api/profile/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name,avatar:ae==="avatar"?We:r.avatar,headsImage:ae==="heads"?We:r.headsImage,tailsImage:ae==="tails"?We:r.tailsImage})})).ok?console.log(`${ae} image uploaded successfully`):console.error("Failed to save image to database")}catch(Ke){console.error("Error saving image:",Ke)}},qe.readAsDataURL(we)},oe=async ae=>{try{(await fetch(`/api/profile/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ae,avatar:r.avatar,headsImage:r.headsImage,tailsImage:r.tailsImage})})).ok&&i(qe=>({...qe,name:ae}))}catch(we){console.error("Failed to save profile data:",we)}},Ee=async ae=>{try{await Ot.cancelGame(ae),j("Game Cancelled",{body:`Game #${ae} has been cancelled`,tag:`game-${ae}`}),M()}catch(we){console.error("Failed to cancel game:",we)}},de=async()=>{if(!(!t||!e)){if(o.length>0){let ae=0;for(const we of o)we.creator.toLowerCase()===t.toLowerCase()&&we.core.state>=1&&we.joiner!=="0x0000000000000000000000000000000000000000"&&ae++;I(ae);return}try{const ae=await Ot.getUserActiveGames(t);let we=0;const qe=ae.success?ae.games:[];for(const te of qe)try{const We=await Ot.getGameDetails(te.toString());if(We.success){const{game:Ke}=We.data;Ke.creator.toLowerCase()===t.toLowerCase()&&Ke.state>=1&&Ke.joiner!=="0x0000000000000000000000000000000000000000"&&we++}}catch(We){console.warn(`Could not get details for game ${te}:`,We)}I(we)}catch(ae){console.error("Error checking game join notifications:",ae)}}};U.useEffect(()=>{de();const ae=setInterval(de,6e4);return()=>clearInterval(ae)},[t,e]),U.useEffect(()=>{const ae=setInterval(()=>{b(we=>we+1),D()},6e4);return()=>clearInterval(ae)},[o]);const Re=()=>{I(0)};return K(Po,{children:[K(CAe,{onClick:()=>{l(!0),Re()},children:[r.avatar?F("img",{src:r.avatar,alt:"Profile",style:{width:"2rem",height:"2rem",borderRadius:"12px",border:"2px solid rgba(255, 20, 147, 0.5)",objectFit:"cover"}}):F(UN,{style:{width:"1.5rem",height:"1.5rem",color:"#FF1493"}}),F("span",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:r.name||"Anonymous Player"}),E>0&&F(TAe,{children:E>9?"9+":E})]}),a&&F(MAe,{children:K(IAe,{children:[K(RAe,{children:[F("h2",{style:{color:"#fff",margin:0,fontSize:"1.5rem",fontWeight:"bold"},children:"Player Profile"}),F(PAe,{onClick:()=>l(!1),children:""}),K(kAe,{children:[F(zN,{active:c==="profile",onClick:()=>u("profile"),children:"Profile"}),K(zN,{active:c==="games",onClick:()=>u("games"),children:["My Games",o.length>0&&F(NAe,{children:o.length>9?"9+":o.length})]})]})]}),F(FAe,{children:c==="profile"?K(Po,{children:[K("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",marginBottom:"2rem"},children:[K("div",{style:{position:"relative"},children:[K("div",{onClick:()=>{const ae=document.createElement("input");ae.type="file",ae.accept="image/*",ae.onchange=we=>{we.target.files[0]&&ce("avatar",we.target.files[0])},ae.click()},style:{cursor:"pointer",position:"relative",borderRadius:"12px",overflow:"hidden"},children:[r.avatar?F("img",{src:r.avatar,alt:"Profile",style:{width:"6rem",height:"6rem",borderRadius:"12px",border:"4px solid rgba(255, 20, 147, 0.5)",objectFit:"cover",transition:"all 0.3s ease"},onMouseEnter:ae=>{ae.target.style.transform="scale(1.05)",ae.target.style.borderColor="rgba(255, 20, 147, 0.8)"},onMouseLeave:ae=>{ae.target.style.transform="scale(1)",ae.target.style.borderColor="rgba(255, 20, 147, 0.5)"}}):F("div",{style:{width:"6rem",height:"6rem",borderRadius:"12px",background:"rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",border:"4px solid rgba(255, 20, 147, 0.5)",transition:"all 0.3s ease"},onMouseEnter:ae=>{ae.target.style.background="rgba(255, 255, 255, 0.2)",ae.target.style.borderColor="rgba(255, 20, 147, 0.8)"},onMouseLeave:ae=>{ae.target.style.background="rgba(255, 255, 255, 0.1)",ae.target.style.borderColor="rgba(255, 20, 147, 0.5)"},children:F(UN,{style:{width:"3rem",height:"3rem",color:"#FF1493"}})}),F("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",opacity:0,transition:"opacity 0.3s ease",pointerEvents:"none"},className:"upload-overlay",children:F(zE,{style:{width:"1.5rem",height:"1.5rem",color:"#fff"}})})]}),F("style",{jsx:!0,children:`
                        div[style*="cursor: pointer"]:hover .upload-overlay {
                          opacity: 1 !important;
                        }
                      `})]}),K("div",{style:{flex:1},children:[F("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:F("input",{type:"text",value:r.name||"",onChange:ae=>{const we=ae.target.value;i(qe=>({...qe,name:we})),N(we),clearTimeout(window.nameSaveTimeout),window.nameSaveTimeout=setTimeout(()=>{oe(we)},1e3)},style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 20, 147, 0.5)",borderRadius:"0.5rem",padding:"0.5rem",color:"#fff",fontSize:"1.5rem",fontWeight:"bold",width:"100%",maxWidth:"300px"},placeholder:"Name"})}),K("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[F("code",{style:{color:"rgba(255, 255, 255, 0.7)",background:"rgba(255, 255, 255, 0.1)",padding:"0.5rem 1rem",borderRadius:"0.5rem",fontFamily:"monospace",fontSize:"0.9rem"},children:t}),F("button",{onClick:$,style:{background:"none",border:"none",color:"rgba(255, 255, 255, 0.7)",cursor:"pointer",padding:"0.5rem"},children:w?F(pAe,{style:{width:"1rem",height:"1rem",color:"#4CAF50"}}):F(yAe,{style:{width:"1rem",height:"1rem"}})})]})]})]}),K("div",{style:{marginBottom:"2rem"},children:[F("h4",{style:{color:"#fff",fontSize:"1.2rem",fontWeight:"bold",marginBottom:"1rem"},children:"Custom Coin Designs"}),K(OAe,{children:[K(jN,{children:[F("h5",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.9rem",marginBottom:"0.5rem"},children:"Heads"}),K("div",{onClick:()=>{const ae=document.createElement("input");ae.type="file",ae.accept="image/*",ae.onchange=we=>{we.target.files[0]&&ce("heads",we.target.files[0])},ae.click()},style:{cursor:"pointer",position:"relative",borderRadius:"0.5rem",overflow:"hidden"},children:[r.headsImage?F(GN,{src:r.headsImage,alt:"Heads",style:{transition:"all 0.3s ease"},onMouseEnter:ae=>{ae.target.style.transform="scale(1.05)",ae.target.style.borderColor="rgba(255, 20, 147, 0.8)"},onMouseLeave:ae=>{ae.target.style.transform="scale(1)",ae.target.style.borderColor="rgba(255, 20, 147, 0.3)"}}):F(HN,{style:{transition:"all 0.3s ease"},onMouseEnter:ae=>{ae.target.style.background="rgba(255, 255, 255, 0.2)",ae.target.style.borderColor="rgba(255, 20, 147, 0.8)"},onMouseLeave:ae=>{ae.target.style.background="rgba(255, 255, 255, 0.1)",ae.target.style.borderColor="rgba(255, 20, 147, 0.3)"},children:F(DN,{style:{width:"2rem",height:"2rem"}})}),F("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.5rem",opacity:0,transition:"opacity 0.3s ease",pointerEvents:"none"},className:"upload-overlay",children:F(zE,{style:{width:"1rem",height:"1rem",color:"#fff"}})})]})]}),K(jN,{children:[F("h5",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.9rem",marginBottom:"0.5rem"},children:"Tails"}),K("div",{onClick:()=>{const ae=document.createElement("input");ae.type="file",ae.accept="image/*",ae.onchange=we=>{we.target.files[0]&&ce("tails",we.target.files[0])},ae.click()},style:{cursor:"pointer",position:"relative",borderRadius:"0.5rem",overflow:"hidden"},children:[r.tailsImage?F(GN,{src:r.tailsImage,alt:"Tails",style:{transition:"all 0.3s ease"},onMouseEnter:ae=>{ae.target.style.transform="scale(1.05)",ae.target.style.borderColor="rgba(255, 20, 147, 0.8)"},onMouseLeave:ae=>{ae.target.style.transform="scale(1)",ae.target.style.borderColor="rgba(255, 20, 147, 0.3)"}}):F(HN,{style:{transition:"all 0.3s ease"},onMouseEnter:ae=>{ae.target.style.background="rgba(255, 255, 255, 0.2)",ae.target.style.borderColor="rgba(255, 20, 147, 0.8)"},onMouseLeave:ae=>{ae.target.style.background="rgba(255, 255, 255, 0.1)",ae.target.style.borderColor="rgba(255, 20, 147, 0.3)"},children:F(DN,{style:{width:"2rem",height:"2rem"}})}),F("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.5rem",opacity:0,transition:"opacity 0.3s ease",pointerEvents:"none"},className:"upload-overlay",children:F(zE,{style:{width:"1rem",height:"1rem",color:"#fff"}})})]})]})]})]})]}):F(Po,{children:K("div",{style:{marginBottom:"2rem"},children:[F("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem"},children:K("h3",{style:{color:"#fff",fontSize:"1.5rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[F(xp,{style:{width:"1.5rem",height:"1.5rem",color:"#FF1493"}}),"My Games"]})}),o.length>=O&&K(GAe,{children:[F(LN,{style:{width:"1.25rem",height:"1.25rem"}}),K("div",{children:[F("div",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:"Game Limit Reached"}),K("div",{style:{fontSize:"0.9rem"},children:["You have reached the maximum of ",O," active games. Cancel some games to create new ones."]})]})]}),m.length>0&&F(HAe,{children:m.map((ae,we)=>K(WAe,{children:[F(ae.icon,{style:{width:"1rem",height:"1rem"}}),ae.title]},we))}),p?K(VN,{children:[F(VAe,{}),F("div",{style:{marginTop:"1rem"},children:"Loading games..."})]}):o.length===0?K(VN,{children:[F(xp,{style:{width:"4rem",height:"4rem",color:"rgba(255, 255, 255, 0.3)",marginBottom:"1rem"}}),F("h4",{style:{color:"#fff",fontSize:"1.2rem",fontWeight:"bold",marginBottom:"0.5rem"},children:"No Active Games"}),F("div",{children:"You don't have any active games yet."})]}):F("div",{children:o.map(ae=>F(BAe,{children:K(LAe,{children:[K(DAe,{children:[K("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[K("span",{style:{fontFamily:"monospace",fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)"},children:["Game #",ae.id]}),F(zAe,{status:ae.core.state,children:J(ae.core.state)}),ae.core.state===0&&F(jAe,{children:Z(ae.core.expiresAt)})]}),K("div",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem"},children:[ae.core.gameType===0?"NFT vs Crypto":"NFT vs NFT","  Round ",ae.progress.currentRound,"/",ae.progress.maxRounds]}),K("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)"},children:["Created ",new Date(Number(ae.core.createdAt)*1e3).toLocaleString()]})]}),K(UAe,{children:[ae.core.state===0&&K(WN,{variant:"danger",onClick:()=>Ee(ae.id),children:[F(SAe,{style:{width:"1rem",height:"1rem"}}),"Cancel"]}),K(WN,{as:"a",href:`/game/${ae.id}`,children:["View Game",F(bAe,{style:{width:"1rem",height:"1rem"}})]})]})]})},ae.id))})]})})})]})})]})},$Ae=Ae("div",{target:"etw64w16"})("position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.5);backdrop-filter:blur(5px);opacity:",t=>t.isOpen?1:0,";visibility:",t=>t.isOpen?"visible":"hidden",";transition:all 0.3s ease;z-index:999999;"),qAe=Ae("div",{target:"etw64w15"})("position:fixed;top:0;right:0;width:70%;max-width:250px;height:100vh;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);padding:1.5rem;transform:translateX(",t=>t.isOpen?"0":"100%",");transition:transform 0.3s ease;z-index:1000000;display:flex;flex-direction:column;gap:0.75rem;overflow-y:auto;border-left:1px solid rgba(0, 255, 65, 0.2);box-shadow:-5px 0 20px rgba(0, 255, 65, 0.1);@media (min-width: 769px){display:none;}"),jE=Ae(h0,{target:"etw64w14"})("color:",t=>t.theme.colors.textPrimary,";text-decoration:none;padding:1rem;border-radius:0.5rem;transition:all 0.3s ease;background:rgba(0, 255, 65, 0.05);border:2px solid rgba(0, 255, 65, 0.6);margin-bottom:0.5rem;&:hover{background:rgba(0, 255, 65, 0.1);color:#00FF41;transform:translateY(-2px);box-shadow:0 0 15px rgba(0, 255, 65, 0.2);border-color:rgba(0, 255, 65, 0.8);}"),KAe=Ae("div",{target:"etw64w13"})({name:"noie68",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid rgba(0, 255, 65, 0.2)"}),QAe=Ae("h2",{target:"etw64w12"})({name:"15t7f0j",styles:"color:#00FF41;margin:0;font-size:2rem;text-shadow:0 0 10px rgba(0, 255, 65, 0.5);font-family:'Hyperwave',sans-serif;letter-spacing:2px"}),XAe=Ae("div",{target:"etw64w11"})({name:"tk3n8a",styles:'margin:1rem 0;button{width:100%!important;background:transparent!important;color:#00FF41!important;border:1px solid rgba(0, 255, 65, 0.3)!important;border-radius:0.75rem!important;padding:0.75rem 1rem!important;font-weight:600!important;transition:all 0.3s ease!important;div[data-testid="rk-chain-button"]{display:none!important;}&:hover{transform:translateY(-2px)!important;border-color:rgba(0, 255, 65, 0.5)!important;box-shadow:0 0 20px rgba(0, 255, 65, 0.2)!important;}}'}),YAe=Ae("div",{target:"etw64w10"})({name:"mb3gdk",styles:"margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(0, 255, 65, 0.2)"}),JAe=({isOpen:t,onClose:e})=>{const{isConnected:n,address:r,chain:i}=fo(),s=n&&r&&r.toLowerCase()==="0x47d80671Bcb7Ec368ef4d3ca6E1C20173CCc9a28".toLowerCase();return t?LO.createPortal(K(Po,{children:[F($Ae,{isOpen:t,onClick:e}),K(qAe,{isOpen:t,children:[F(KAe,{children:F(QAe,{children:"Menu"})}),F(jE,{to:"/",onClick:e,children:"Home"}),F(jE,{to:"/create",onClick:e,children:"Create Flip"}),s&&F(jE,{to:"/admin",onClick:e,children:"Admin Panel"}),F(XAe,{children:F(Yf,{showBalance:{smallScreen:!1,largeScreen:!0}})}),n&&F(YAe,{children:F(oG,{address:r,isConnected:n,currentChain:i?.name?.toLowerCase()||"base"})})]})]}),document.body):null},ZAe=Ae("header",{target:"e18h9zca22"})("background-color:",t=>t.theme.colors.bgDark,";padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;position:relative;z-index:100;width:100%;box-sizing:border-box;overflow-x:hidden;@media (max-width: 768px){padding:0.75rem 1rem;position:fixed;top:0;left:0;right:0;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);z-index:9998;}"),e2e=Ae("div",{target:"e18h9zca21"})({name:"21q7ph",styles:"display:flex;align-items:center;gap:1rem;@media (max-width: 768px){gap:0.5rem;}"}),t2e=Ae(h0,{target:"e18h9zca20"})("color:#00FF41;font-size:3rem;font-weight:700;text-decoration:none;letter-spacing:6px;font-family:'Hyperwave',sans-serif;animation:neonPulse 2s infinite;",t=>t.theme.animations.neonPulse,"@media (max-width: 768px){font-size:2.5rem;letter-spacing:4px;}"),n2e=Ae("div",{target:"e18h9zca19"})({name:"10imiyw",styles:"display:flex;gap:1rem;align-items:center;@media (max-width: 768px){display:none;}"}),r2e=Ae(h0,{target:"e18h9zca18"})("background:linear-gradient(45deg, #00FF41, #39FF14);color:#000000;padding:0.5rem 1.5rem;border-radius:0.75rem;text-decoration:none;font-weight:600;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;border:2px solid #00FF41;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);&::before{transform:translateX(100%);}}"),i2e=Ae(h0,{target:"e18h9zca17"})("background:linear-gradient(45deg, #FF6B35, #F7931E);color:#000000;padding:0.5rem 1.5rem;border-radius:0.75rem;text-decoration:none;font-weight:600;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;border:2px solid #FF6B35;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);&::before{transform:translateX(100%);}}"),o2e=Ae("button",{target:"e18h9zca15"})({name:"191oh3x",styles:"display:none;background:none;border:none;color:#00FF41;font-size:1.5rem;cursor:pointer;padding:0.5rem;z-index:100000;@media (max-width: 768px){display:block;}"}),s2e=L0e`
  0%, 100% {
    box-shadow: 0 0 0px #00FF41, 0 0 0px #00FF41;
    border-color: #00FF41;
  }
  50% {
    box-shadow: 0 0 16px #00FF41, 0 0 32px #00FF41;
    border-color: #baffc9;
  }
`,a2e=Ae("button",{target:"e18h9zca6"})("background:rgba(0,255,65,0.12);border:2px solid #00FF41;color:#00FF41;border-radius:50%;width:2.5rem;height:2.5rem;font-size:1.5rem;font-weight:bold;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background 0.2s;animation:",s2e," 1.2s infinite;&:hover{background:rgba(0,255,65,0.25);}@media (max-width: 768px){display:none;}"),l2e=Ae("div",{target:"e18h9zca4"})({name:"ohaszm",styles:"position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:9999;display:flex;align-items:center;justify-content:center"}),c2e=Ae("div",{target:"e18h9zca3"})({name:"6bvd8o",styles:"background:#181c1b;border-radius:1rem;padding:2rem;box-shadow:0 0 32px #00FF41;max-width:95vw;max-height:90vh;display:flex;flex-direction:column;align-items:center;width:90vw"}),u2e=Ae("button",{target:"e18h9zca2"})({name:"3cl7o3",styles:"background:none;border:none;color:#00FF41;font-size:2rem;position:absolute;top:2rem;right:2rem;cursor:pointer"}),d2e=Ae("div",{target:"e18h9zca1"})({name:"jl9pt",styles:"display:flex;justify-content:space-between;align-items:center;width:100%;margin-bottom:1rem"}),f2e=Ae("div",{target:"e18h9zca0"})({name:"iya5c3",styles:"max-width:90vw;width:100%;height:100%;display:flex;justify-content:center;align-items:center;padding:1rem"}),h2e=()=>{const{isConnected:t,address:e,chainId:n,chain:r}=fo(),{showInfo:i}=Ys(),[o,s]=U.useState(!1),[a,l]=U.useState(!1),u=t&&e&&e.toLowerCase()==="0x47d80671Bcb7Ec368ef4d3ca6E1C20173CCc9a28".toLowerCase(),d=()=>{window.innerWidth>768&&s(!1)};return B.useEffect(()=>(window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)),[]),F(si,{theme:tt,children:K(ZAe,{children:[F(e2e,{children:F(t2e,{to:"/",children:"FLIPNOSIS"})}),K(n2e,{children:[F(r2e,{to:"/create",children:"Create Flip"}),u&&F(i2e,{to:"/admin",children:"Admin"}),F(Yf,{showBalance:{smallScreen:!1,largeScreen:!0}}),t&&F(oG,{address:e,isConnected:t,currentChain:r?.name?.toLowerCase()||"base"})]}),F(o2e,{onClick:()=>s(!o),children:o?"":""}),F(JAe,{isOpen:o,onClose:()=>s(!1)}),F(a2e,{onClick:()=>l(!0),title:"About FLIPNOSIS",children:"i"}),a&&F(l2e,{onClick:()=>l(!1),children:K(c2e,{onClick:f=>f.stopPropagation(),children:[F(u2e,{onClick:()=>l(!1),children:""}),F(d2e,{children:F("h2",{style:{color:"#00FF41",margin:0},children:"About FLIPNOSIS"})}),F(f2e,{children:F("img",{src:window.innerWidth<=768?lAe:aAe,alt:"FLIPNOSIS Info",style:{maxWidth:"100%",height:"auto",borderRadius:"1rem",objectFit:"contain"}})})]})})]})})},p2e=()=>K("div",{className:"min-h-screen bg-bg-primary",children:[F(h2e,{}),F("main",{style:{paddingTop:window.innerWidth<=768?"80px":"0"},children:F(h0e,{})})]}),m2e=()=>{const{address:t}=m0(),{showSuccess:e,showError:n,showInfo:r}=Ys(),[i,o]=U.useState(""),[s,a]=U.useState(""),[l,c]=U.useState(!1),[u,d]=U.useState(null),[f,h]=U.useState(null),g=async()=>{if(!i||!s){n("Please enter NFT contract address and token ID");return}c(!0);try{r("Searching for your NFT...");const p=await Ot.findMyNFTs(i,s);d(p),p.success?e(`NFT found: ${p.message}`):n("Failed to find NFT: "+p.error)}catch(p){n("Error searching for NFT: "+p.message)}finally{c(!1)}},m=async()=>{if(!t){n("Please connect your wallet");return}c(!0);try{r("Searching for your games...");const p=await Ot.getMyGames(t);h(p),p.success?e(`Found ${p.myGames.length} games`):n("Failed to find games: "+p.error)}catch(p){n("Error searching for games: "+p.message)}finally{c(!1)}},y=async p=>{if(confirm(`Are you sure you want to cancel game ${p}? This will return your NFT to your wallet.`))try{r("Cancelling game...");const v=await Ot.emergencyCancelGame(p);v.success?(e("Game cancelled successfully! Your NFT should be returned to your wallet."),m()):n("Failed to cancel game: "+v.error)}catch(v){n("Error cancelling game: "+v.message)}};return K("div",{children:[K("div",{style:{marginBottom:"2rem"},children:[F("h3",{style:{color:"#FFD700",marginBottom:"1rem"},children:"Find Your NFT"}),K("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[F("input",{type:"text",placeholder:"NFT Contract Address",value:i,onChange:p=>o(p.target.value),style:{flex:1,padding:"0.5rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",color:"white"}}),F("input",{type:"text",placeholder:"Token ID",value:s,onChange:p=>a(p.target.value),style:{width:"120px",padding:"0.5rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",color:"white"}}),F("button",{onClick:g,disabled:l,style:{padding:"0.5rem 1rem",background:"#FF4444",color:"white",border:"none",borderRadius:"0.5rem",cursor:l?"not-allowed":"pointer"},children:l?"Searching...":"Find NFT"})]}),u&&K("div",{style:{padding:"1rem",background:u.success?"rgba(0, 255, 0, 0.1)":"rgba(255, 0, 0, 0.1)",border:`1px solid ${u.success?"rgba(0, 255, 0, 0.3)":"rgba(255, 0, 0, 0.3)"}`,borderRadius:"0.5rem",color:u.success?"#00FF00":"#FF4444"},children:[F("strong",{children:"Result:"})," ",u.message||u.error]})]}),K("div",{style:{marginBottom:"2rem"},children:[F("h3",{style:{color:"#FFD700",marginBottom:"1rem"},children:"Find Your Games"}),F("button",{onClick:m,disabled:l||!t,style:{padding:"0.5rem 1rem",background:"#FFD700",color:"black",border:"none",borderRadius:"0.5rem",cursor:l||!t?"not-allowed":"pointer",marginBottom:"1rem"},children:l?"Searching...":"Find My Games"}),f&&K("div",{children:[K("p",{style:{color:"white",marginBottom:"1rem"},children:["Total games created: ",f.totalGames]}),f.myGames.length>0?F("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:f.myGames.map(p=>F("div",{style:{padding:"1rem",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"0.5rem",color:"white"},children:K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[K("div",{children:[K("strong",{children:["Game ",p.gameId]}),F("br",{}),K("small",{children:["NFT: ",p.nftContract," #",p.tokenId]}),F("br",{}),K("small",{children:["State: ",p.state===0?"Created":p.state===1?"Joined":"Completed"]}),F("br",{}),K("small",{children:["Joiner: ",p.joiner==="0x0000000000000000000000000000000000000000"?"None":p.joiner]})]}),p.state===0&&F("button",{onClick:()=>y(p.gameId),style:{padding:"0.5rem 1rem",background:"#FF4444",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer"},children:"Cancel Game"})]})},p.gameId))}):F("p",{style:{color:"white"},children:"No games found for your address."})]})]}),K("div",{style:{padding:"1rem",background:"rgba(255, 0, 0, 0.1)",border:"1px solid rgba(255, 0, 0, 0.3)",borderRadius:"0.5rem",color:"#FF4444"},children:[F("strong",{children:" Important:"}),' If your NFT is stuck in a game contract, you can cancel the game to recover it. Only games in "Created" state (no joiner) can be cancelled.']})]})},g2e="0x47d80671Bcb7Ec368ef4d3ca6E1C20173CCc9a28",y2e=Ae("div",{target:"e1at9ogk25"})({name:"18g9eba",styles:"min-height:100vh;background:linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0d0d0d 100%);color:#ffffff;padding:2rem;font-family:'Inter',sans-serif"}),v2e=Ae("div",{target:"e1at9ogk24"})({name:"1u3n3gu",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:2rem;background:linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(255, 107, 53, 0.1) 100%);border-radius:20px;border:1px solid rgba(0, 255, 65, 0.2);backdrop-filter:blur(10px)"}),w2e=Ae("h1",{target:"e1at9ogk23"})({name:"qzr0p5",styles:"font-size:2.5rem;font-weight:700;background:linear-gradient(135deg, #00FF41 0%, #FF6B35 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0"}),b2e=Ae("div",{target:"e1at9ogk21"})({name:"10u2hu4",styles:"display:flex;gap:1rem;margin-bottom:2rem;background:rgba(255, 255, 255, 0.05);padding:0.5rem;border-radius:16px;backdrop-filter:blur(10px)"}),Uh=Ae("button",{target:"e1at9ogk20"})("background:",t=>t.active?"linear-gradient(135deg, #00FF41 0%, #39FF14 100%)":"transparent",";color:",t=>t.active?"#000":"#fff",";border:none;padding:1rem 2rem;border-radius:12px;font-weight:600;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;gap:0.5rem;&:hover{background:",t=>t.active?"linear-gradient(135deg, #00FF41 0%, #39FF14 100%)":"rgba(0, 255, 65, 0.1)",";}"),$N=Ae("div",{target:"e1at9ogk19"})({name:"13t28xe",styles:"background:rgba(255, 255, 255, 0.05);border-radius:20px;padding:2rem;backdrop-filter:blur(10px);border:1px solid rgba(255, 255, 255, 0.1)"}),x2e=Ae("div",{target:"e1at9ogk18"})({name:"1bkibp1",styles:"display:grid;grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));gap:1.5rem;margin-bottom:2rem"}),Vg=Ae("div",{target:"e1at9ogk17"})({name:"ov55uu",styles:"background:linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(255, 107, 53, 0.1) 100%);border-radius:16px;padding:1.5rem;border:1px solid rgba(0, 255, 65, 0.2);transition:all 0.3s ease;&:hover{transform:translateY(-4px);box-shadow:0 8px 25px rgba(0, 255, 65, 0.2);}"}),$g=Ae("div",{target:"e1at9ogk16"})({name:"16b97m6",styles:"display:flex;align-items:center;gap:1rem;margin-bottom:1rem"}),qg=Ae("div",{target:"e1at9ogk15"})({name:"gne3w0",styles:"width:50px;height:50px;border-radius:12px;background:linear-gradient(135deg, #00FF41 0%, #39FF14 100%);display:flex;align-items:center;justify-content:center;color:#000"}),Kg=Ae("div",{target:"e1at9ogk14"})({name:"1nwd60l",styles:"font-size:2rem;font-weight:700;color:#00FF41"}),Qg=Ae("div",{target:"e1at9ogk13"})({name:"cyrik3",styles:"color:#ccc;font-size:0.9rem;margin-top:0.5rem"}),E2e=Ae("div",{target:"e1at9ogk12"})({name:"19ym1g9",styles:"display:flex;gap:1rem;margin-bottom:2rem"}),GE=Ae("div",{target:"e1at9ogk10"})({name:"c55fph",styles:"background:rgba(255, 255, 255, 0.05);border-radius:16px;padding:1.5rem;margin-bottom:1rem;border:1px solid rgba(255, 255, 255, 0.1);transition:all 0.3s ease;&:hover{background:rgba(255, 255, 255, 0.08);transform:translateY(-2px);}"}),HE=Ae("div",{target:"e1at9ogk9"})({name:"8r8ifa",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem"}),A2e=Ae("span",{target:"e1at9ogk8"})("padding:0.5rem 1rem;border-radius:20px;font-size:0.8rem;font-weight:600;background:",t=>{switch(t.status){case"active":return"linear-gradient(135deg, #00FF41 0%, #39FF14 100%)";case"completed":return"linear-gradient(135deg, #FF6B35 0%, #F7931E 100%)";case"cancelled":return"linear-gradient(135deg, #FF4444 0%, #CC0000 100%)";default:return"rgba(255, 255, 255, 0.2)"}},";color:",t=>t.status==="active"||t.status==="completed"?"#000":"#fff",";"),_2e=Ae("div",{target:"e1at9ogk7"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),S2e=Ae("div",{target:"e1at9ogk6"})({name:"1dkpf8h",styles:"margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(255, 255, 255, 0.1);p{margin:0.5rem 0;color:#ccc;}"}),C2e=Ae("form",{target:"e1at9ogk5"})({name:"1i3qy3r",styles:"display:grid;gap:1.5rem"}),qN=Ae("div",{target:"e1at9ogk4"})({name:"p5tmle",styles:"display:flex;flex-direction:column;gap:0.5rem"}),KN=Ae("label",{target:"e1at9ogk3"})({name:"1qzg6tw",styles:"font-weight:600;color:#ccc"}),QN=Ae("input",{target:"e1at9ogk2"})({name:"1aga977",styles:"background:rgba(255, 255, 255, 0.1);border:1px solid rgba(255, 255, 255, 0.2);border-radius:8px;padding:0.75rem;color:#fff;font-size:1rem;&:focus{outline:none;border-color:#00FF41;}"}),dl=Ae("button",{target:"e1at9ogk1"})({name:"1jwqxzp",styles:"background:linear-gradient(135deg, #00FF41 0%, #39FF14 100%);color:#000;border:none;padding:1rem 2rem;border-radius:12px;font-weight:600;cursor:pointer;transition:all 0.3s ease;&:hover{transform:translateY(-2px);box-shadow:0 4px 15px rgba(0, 255, 65, 0.3);}&:disabled{background:#666;cursor:not-allowed;}"}),T2e=Ae("div",{target:"e1at9ogk0"})("position:fixed;top:2rem;right:2rem;padding:1rem 2rem;border-radius:12px;color:#fff;font-weight:600;z-index:1000;animation:slideIn 0.3s ease;",t=>t.type==="success"&&`
    background: linear-gradient(135deg, #00FF41 0%, #39FF14 100%);
    color: #000;
  `," ",t=>t.type==="error"&&`
    background: linear-gradient(135deg, #FF4444 0%, #CC0000 100%);
  `,"@keyframes slideIn{from{transform:translateX(100%);opacity:0;}to{transform:translateX(0);opacity:1;}}");function M2e(){const{isFullyConnected:t,address:e,walletClient:n,publicClient:r}=m0(),{chain:i}=fo(),[o,s]=U.useState(!1),[a,l]=U.useState(""),[c,u]=U.useState(!1),[d,f]=U.useState("overview"),[h,g]=U.useState("base"),[m,y]=U.useState(!1),[p,v]=U.useState(""),[w,x]=U.useState({totalGames:0,activeGames:0,totalVolume:0,platformFees:0,monthlyFees:0,totalNFTsInContract:0,totalETHInContract:0,totalUSDCInContract:0}),[T,N]=U.useState([]),[A,z]=U.useState([]),[S,k]=U.useState([]),[R,W]=U.useState({platformFeePercent:3.5,listingFeeUSD:.2}),[L,b]=U.useState(null),[E,I]=U.useState([]),O="https://cryptoflipz2-production.up.railway.app";U.useEffect(()=>{t&&e&&(e.toLowerCase()===g2e.toLowerCase()?(u(!0),s(!0),l(e),i?.name?.toLowerCase(),Ot.initializeClients(i?.id||8453,n).then(()=>{console.log(" Admin contract service initialized"),C()}).catch(de=>{console.error(" Failed to initialize contract service:",de)})):alert("Unauthorized wallet. Admin access only."))},[t,e,n,r,i]);const C=async()=>{y(!0);try{const de=await fetch(`${O}/api/admin/games`);if(!de.ok)throw new Error("Failed to load games");const Re=await de.json();if(N(Re.games||[]),x(ae=>({...ae,totalGames:Re.stats?.totalGames||0,activeGames:Re.stats?.activeGames||0,totalVolume:Re.stats?.totalVolume||0})),Ot.currentChain)try{console.log("Contract service is initialized for:",Ot.currentChain)}catch(ae){console.error("Error loading blockchain data:",ae)}}catch(de){console.error("Error loading data:",de),Z("error","Failed to load data: "+de.message)}finally{y(!1)}},j=async()=>{if(!Ot.currentChain){Z("error","Contract not initialized");return}try{Z("info","Platform fee update not implemented yet - use contract directly")}catch(de){console.error("Error updating platform fee:",de),Z("error","Failed to update platform fee")}},H=async()=>{if(!Ot.currentChain){Z("error","Contract not initialized");return}try{Z("info","Listing fee update not implemented yet - use contract directly")}catch(de){console.error("Error updating listing fee:",de),Z("error","Failed to update listing fee")}},D=async de=>{if(confirm("Emergency withdraw NFT from this game?"))try{const Re=T.find(we=>we.id===de);if(!Re)throw new Error("Game not found");const ae=await Ot.emergencyCancelGame(Re.contract_game_id);if(ae.success)Z("success","NFT withdrawn successfully!"),await fetch(`${O}/api/admin/games/${de}/cancel`,{method:"PUT"}),await C();else throw new Error(ae.error)}catch(Re){console.error("Error withdrawing NFT:",Re),Z("error","Failed to withdraw NFT: "+Re.message)}},M=async()=>{if(confirm("PAUSE ALL GAMES? This will prevent new games from being created or joined."))try{const de=await fetch(`${O}/api/admin/pause-all`,{method:"POST"});if(de.ok)Z("success","All games paused!"),await C();else if(de.status===404){Z("info","Server endpoint not available, using fallback method...");const Re=await fetch(`${O}/api/admin/games`);if(Re.ok){const we=(await Re.json()).games.filter(te=>te.status==="waiting");let qe=0;for(const te of we)try{await fetch(`${O}/api/admin/games/${te.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"paused"})}),qe++}catch(We){console.warn("Failed to update game:",te.id,We)}Z("success",`Paused ${qe} games using fallback method!`),await C()}else throw new Error("Failed to load games for fallback update")}else throw new Error("Failed to pause games")}catch(de){Z("error","Failed to pause games: "+de.message)}},$=async()=>{if(!Ot.currentChain){Z("error","Contract not initialized");return}try{const de=await Ot.withdrawRewards();if(de.success)Z("success",`Withdrew ${de.ethWithdrawn} ETH and ${de.usdcWithdrawn} USDC`);else throw new Error(de.error)}catch(de){Z("error","Failed to withdraw fees: "+de.message)}},J=async de=>{try{(await fetch(`${O}/api/admin/games/${de}/cancel`,{method:"PUT",headers:{"Content-Type":"application/json"}})).ok?(Z("success","Game cancelled successfully!"),await C()):Z("error","Failed to cancel game")}catch(Re){console.error("Error cancelling game:",Re),Z("error","Failed to cancel game")}},Z=(de,Re)=>{const ae=Date.now();I(we=>[...we,{id:ae,type:de,message:Re}]),setTimeout(()=>{I(we=>we.filter(qe=>qe.id!==ae))},5e3)},ce=de=>`${de.slice(0,6)}...${de.slice(-4)}`,oe=de=>new Date(de).toLocaleDateString(),Ee=de=>{switch(de){case"active":return"#00FF41";case"completed":return"#FF6B35";case"cancelled":return"#FF4444";default:return"#666"}};return U.useEffect(()=>{const de=T.filter(Re=>Re.id.toString().includes(p)||Re.creator.toLowerCase().includes(p.toLowerCase())||Re.joiner&&Re.joiner.toLowerCase().includes(p.toLowerCase()));z(de)},[T,p]),K(y2e,{children:[K(v2e,{children:[F(w2e,{children:"Admin Dashboard"}),o?K("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[K("span",{children:["Connected: ",ce(a)]}),F("span",{children:i?.name||"Unknown Chain"})]}):F(Yf,{})]}),o?K(Po,{children:[K(b2e,{children:[K(Uh,{active:d==="overview",onClick:()=>f("overview"),children:[F(hAe,{size:20}),"Overview"]}),K(Uh,{active:d==="games",onClick:()=>f("games"),children:[F(xp,{size:20}),"Games"]}),K(Uh,{active:d==="players",onClick:()=>f("players"),children:[F(_Ae,{size:20}),"Players"]}),K(Uh,{active:d==="settings",onClick:()=>f("settings"),children:[F(EAe,{size:20}),"Settings"]}),K(Uh,{active:d==="emergency",onClick:()=>f("emergency"),children:[F(AAe,{size:20}),"Emergency"]})]}),K($N,{children:[d==="overview"&&K("div",{children:[K(x2e,{children:[F(Vg,{children:K($g,{children:[F(qg,{children:F(xp,{size:24})}),K("div",{children:[F(Kg,{children:w.totalGames}),F(Qg,{children:"Total Games"})]})]})}),F(Vg,{children:K($g,{children:[F(qg,{children:F(fAe,{size:24})}),K("div",{children:[F(Kg,{children:w.activeGames}),F(Qg,{children:"Active Games"})]})]})}),F(Vg,{children:K($g,{children:[F(qg,{children:F(wAe,{size:24})}),K("div",{children:[K(Kg,{children:["$",w.totalVolume.toFixed(2)]}),F(Qg,{children:"Total Volume"})]})]})}),F(Vg,{children:K($g,{children:[F(qg,{children:F(vAe,{size:24})}),K("div",{children:[K(Kg,{children:["$",w.platformFees.toFixed(2)]}),F(Qg,{children:"Platform Fees"})]})]})})]}),K("div",{style:{marginTop:"2rem"},children:[F("h3",{children:"Recent Activity"}),T.slice(0,5).map(de=>F(GE,{children:K(HE,{children:[K("div",{children:[K("strong",{children:["Game #",de.id]}),K("div",{style:{fontSize:"0.9rem",color:"#ccc"},children:["Created by ",ce(de.creator)]})]}),F(A2e,{status:de.status,children:de.status})]})},de.id))]})]}),d==="games"&&K("div",{children:[K(E2e,{children:[F(xAe,{size:20}),F("input",{type:"text",placeholder:"Search by game ID or address...",value:p,onChange:de=>v(de.target.value)})]}),F(_2e,{children:A.map(de=>K(GE,{children:[K(HE,{onClick:()=>b(L===de.id?null:de.id),children:[K("div",{children:[K("h4",{children:["Game #",de.id]}),K("p",{children:["NFT: ",de.nft_name]}),K("p",{children:["Status: ",F("span",{style:{color:Ee(de.status)},children:de.status})]})]}),F(mAe,{style:{transform:L===de.id?"rotate(180deg)":"none"}})]}),L===de.id&&K(S2e,{children:[K("p",{children:[F("strong",{children:"Creator:"})," ",ce(de.creator)]}),K("p",{children:[F("strong",{children:"Joiner:"})," ",ce(de.joiner)]}),K("p",{children:[F("strong",{children:"Price:"})," $",de.price_usd," USD"]}),K("p",{children:[F("strong",{children:"Contract Game ID:"})," ",de.contract_game_id||"N/A"]}),K("p",{children:[F("strong",{children:"Created:"})," ",oe(de.created_at)]}),K("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1rem"},children:[de.status==="waiting"&&F(dl,{onClick:()=>J(de.id),style:{background:"#ff4444"},children:"Cancel Game"}),de.contract_game_id&&de.status==="waiting"&&F(dl,{onClick:()=>D(de.id),style:{background:"#ff8800"},children:"Emergency Withdraw NFT"}),F(dl,{onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/game/${de.id}`),Z("success","Game URL copied!")},style:{background:"#0088ff"},children:"Copy Game URL"})]})]})]},de.id))})]}),d==="players"&&K("div",{children:[F("h3",{children:"Player Statistics"}),S.map(de=>K(GE,{children:[F(HE,{children:F("div",{children:F("strong",{children:ce(de.address)})})}),K("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem"},children:[K("div",{children:[F("strong",{children:"Games Created:"})," ",de.gamesCreated]}),K("div",{children:[F("strong",{children:"Games Won:"})," ",de.gamesWon]}),K("div",{children:[F("strong",{children:"Total Volume:"})," $",de.totalVolume.toFixed(2)]})]})]},de.address))]}),d==="settings"&&K("div",{children:[F("h3",{children:"Platform Settings"}),K(C2e,{children:[K(qN,{children:[F(KN,{children:"Platform Fee Percentage"}),F(QN,{type:"number",step:"0.1",value:R.platformFeePercent,onChange:de=>W(Re=>({...Re,platformFeePercent:parseFloat(de.target.value)}))})]}),K(qN,{children:[F(KN,{children:"Listing Fee (USD)"}),F(QN,{type:"number",step:"0.01",value:R.listingFeeUSD,onChange:de=>W(Re=>({...Re,listingFeeUSD:parseFloat(de.target.value)}))})]}),F(dl,{onClick:j,disabled:!Ot.currentChain,children:"Update Platform Fee"}),F(dl,{onClick:H,disabled:!Ot.currentChain,children:"Update Listing Fee"})]})]}),d==="emergency"&&K("div",{children:[F("h3",{style:{color:"#ff4444",marginBottom:"2rem"},children:" Emergency Controls"}),K("div",{style:{background:"rgba(255, 68, 68, 0.1)",border:"2px solid #ff4444",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[F("h4",{style:{color:"#ff4444",marginBottom:"1rem"},children:" User NFT Recovery"}),F("p",{style:{marginBottom:"1rem"},children:"Help users recover their NFTs if they're stuck in game contracts."}),F(m2e,{})]}),K("div",{style:{background:"rgba(255, 0, 0, 0.1)",border:"2px solid #ff4444",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[F("h4",{children:"Pause All Games"}),F("p",{children:"This will prevent any new games from being created or joined."}),F(dl,{onClick:M,style:{background:"#ff4444",marginTop:"1rem"},children:" PAUSE ALL GAMES"})]}),K("div",{style:{background:"rgba(255, 215, 0, 0.1)",border:"2px solid #FFD700",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[F("h4",{children:"Withdraw Platform Fees"}),F("p",{children:"Withdraw accumulated platform fees from the contract."}),F(dl,{onClick:$,style:{background:"#FFD700",color:"#000",marginTop:"1rem"},children:" Withdraw Fees"})]}),K("div",{style:{background:"rgba(0, 0, 0, 0.3)",borderRadius:"12px",padding:"2rem"},children:[F("h4",{children:"Database Admin"}),F("p",{children:"Direct database management (use with caution)."}),F(dl,{onClick:()=>window.open("/database-admin","_blank"),style:{background:"#666",marginTop:"1rem"},children:" Open Database Admin"})]})]})]})]}):F($N,{children:K("div",{style:{textAlign:"center",padding:"4rem"},children:[F("h2",{children:"Connect your admin wallet to access the dashboard"}),F("p",{children:"Only authorized wallets can access this panel"})]})}),E.map(de=>F(T2e,{type:de.type,children:de.message},de.id))]})}const I2e=x0e([{path:"/",element:F(p2e,{}),children:[{index:!0,element:F(yye,{})},{path:"create",element:F(Aye,{})},{path:"game/:gameId",element:F(sAe,{})},{path:"admin",element:F(M2e,{})}]}]);function sG(t){const e=typeof window<"u"?window:void 0;if(typeof e>"u"||typeof e.ethereum>"u")return;const n=e.ethereum.providers;return n?n.find(r=>r[t]):e.ethereum[t]?e.ethereum:void 0}function aG(t){const e=(n,r)=>{const[i,...o]=r.split("."),s=n[i];if(s)return o.length===0?s:e(s,o.join("."))};if(typeof window<"u")return e(window,t)}function AS({flag:t,namespace:e}){return!!(e&&typeof aG(e)<"u"||t&&typeof sG(t)<"u")}function R2e({flag:t,namespace:e}){const n=typeof window<"u"?window:void 0;if(typeof n>"u")return;if(e){const i=aG(e);if(i)return i}const r=n.ethereum?.providers;if(t){const i=sG(t);if(i)return i}return typeof r<"u"&&r.length>0?r[0]:n.ethereum}function P2e(t){return e=>{const n=t?{target:()=>({id:e.rkDetails.id,name:e.rkDetails.name,provider:t})}:{};return r=>({...Ym(n)(r),...e})}}function sw({flag:t,namespace:e,target:n}){const r=n||R2e({flag:t,namespace:e});return P2e(r)}var XN=new Map,k2e=({projectId:t,walletConnectParameters:e,rkDetailsShowQrModal:n,rkDetailsIsWalletConnectModalConnector:r})=>{let i={...e||{},projectId:t,showQrModal:!1};n&&(i={...i,showQrModal:!0}),"customStoragePrefix"in i||(i={...i,customStoragePrefix:r?"clientOne":"clientTwo"});const o=JSON.stringify(i),s=XN.get(o);if(s)return s;const a=v1(i);return XN.set(o,a),a};function N2e({projectId:t,walletDetails:e,walletConnectParameters:n}){return r=>({...k2e({projectId:t,walletConnectParameters:n,rkDetailsShowQrModal:e.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:e.rkDetails.isWalletConnectModalConnector})(r),...e})}function e5({projectId:t,walletConnectParameters:e}){const n="21fef48091f12692cad574a6f7753643";if(!t||t==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return t==="YOUR_PROJECT_ID"&&(t=n),r=>N2e({projectId:t,walletDetails:r,walletConnectParameters:e})}function lG(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function F2e(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function O2e(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function t5(){return F2e()||O2e()}function YN(){return lG()||t5()}var B2e=({projectId:t,walletConnectParameters:e})=>{const n=YN()?AS({flag:"isTrust"}):AS({flag:"isTrustWallet"}),r=!n,i=c=>`trust://wc?uri=${encodeURIComponent(c)}`,o=c=>c,s={getUri:r?i:void 0};let a;return r&&(a={getUri:o,instructions:{learnMoreUrl:"https://trustwallet.com/",steps:[{description:"wallet_connectors.trust.qr_code.step1.description",step:"install",title:"wallet_connectors.trust.qr_code.step1.title"},{description:"wallet_connectors.trust.qr_code.step2.description",step:"create",title:"wallet_connectors.trust.qr_code.step2.title"},{description:"wallet_connectors.trust.qr_code.step3.description",step:"scan",title:"wallet_connectors.trust.qr_code.step3.title"}]}}),{id:"trust",name:"Trust Wallet",rdns:"com.trustwallet.app",iconUrl:async()=>(await Xe(async()=>{const{default:c}=await import("./trustWallet-42DZQQWY-B0DkYL5U.js");return{default:c}},[])).default,installed:n||void 0,iconAccent:"#3375BB",iconBackground:"#fff",downloadUrls:{android:"https://play.google.com/store/apps/details?id=com.wallet.crypto.trustapp",ios:"https://apps.apple.com/us/app/trust-crypto-bitcoin-wallet/id1288339409",mobile:"https://trustwallet.com/download",qrCode:"https://trustwallet.com/download",chrome:"https://chrome.google.com/webstore/detail/trust-wallet/egjidjbpglichdcondbcbdnbeeppgdph",browserExtension:"https://trustwallet.com/browser-extension"},mobile:s,qrCode:a,extension:{instructions:{learnMoreUrl:"https://trustwallet.com/browser-extension",steps:[{description:"wallet_connectors.trust.extension.step1.description",step:"install",title:"wallet_connectors.trust.extension.step1.title"},{description:"wallet_connectors.trust.extension.step2.description",step:"create",title:"wallet_connectors.trust.extension.step2.title"},{description:"wallet_connectors.trust.extension.step3.description",step:"refresh",title:"wallet_connectors.trust.extension.step3.title"}]}},createConnector:r?e5({projectId:t,walletConnectParameters:e}):YN()?sw({flag:"isTrust"}):sw({flag:"isTrustWallet"})}},L2e=({projectId:t,options:e})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await Xe(async()=>{const{default:r}=await import("./walletConnectWallet-YHWKVTDY-BcMJSWZw.js");return{default:r}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:r=>r},createConnector:e5({projectId:t,walletConnectParameters:e})}),D2e=({projectId:t,walletConnectParameters:e})=>{const n=AS({flag:"isRainbow"}),r=!n,i=o=>lG()?o:t5()?`rainbow://wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await Xe(async()=>{const{default:o}=await import("./rainbowWallet-O26YNBMX-Cp7N6hKb.js");return{default:o}},[])).default,iconBackground:"#0c2f78",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:r?i:void 0},qrCode:r?{getUri:i,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:r?e5({projectId:t,walletConnectParameters:e}):sw({flag:"isRainbow"})}},U2e=()=>({id:"injected",name:"Browser Wallet",iconUrl:async()=>(await Xe(async()=>{const{default:t}=await import("./injectedWallet-AWJSZPMG-Df9x-YJA.js");return{default:t}},[])).default,iconBackground:"#fff",createConnector:sw({})}),cG=({appName:t,appIcon:e})=>{const n=i=>i,r=t5();return{id:"coinbase",name:"Coinbase Wallet",shortName:"Coinbase",rdns:"com.coinbase.wallet",iconUrl:async()=>(await Xe(async()=>{const{default:i}=await import("./coinbaseWallet-OKXU3TRC-BmQqixYK.js");return{default:i}},[])).default,iconAccent:"#2c5ff6",iconBackground:"#2c5ff6",installed:!0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-store-crypto/id1278383455",mobile:"https://coinbase.com/wallet/downloads",qrCode:"https://coinbase-wallet.onelink.me/q5Sx/fdb9b250",chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",browserExtension:"https://coinbase.com/wallet"},...r?{}:{qrCode:{getUri:n,instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-mobile",steps:[{description:"wallet_connectors.coinbase.qr_code.step1.description",step:"install",title:"wallet_connectors.coinbase.qr_code.step1.title"},{description:"wallet_connectors.coinbase.qr_code.step2.description",step:"create",title:"wallet_connectors.coinbase.qr_code.step2.title"},{description:"wallet_connectors.coinbase.qr_code.step3.description",step:"scan",title:"wallet_connectors.coinbase.qr_code.step3.title"}]}},extension:{instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-extension",steps:[{description:"wallet_connectors.coinbase.extension.step1.description",step:"install",title:"wallet_connectors.coinbase.extension.step1.title"},{description:"wallet_connectors.coinbase.extension.step2.description",step:"create",title:"wallet_connectors.coinbase.extension.step2.title"},{description:"wallet_connectors.coinbase.extension.step3.description",step:"refresh",title:"wallet_connectors.coinbase.extension.step3.title"}]}}},createConnector:i=>{const{...o}=cG,s=Zm({appName:t,appLogoUrl:e,...o});return a=>({...s(a),...i})}}};console.log("Initializing Rainbow Kit with:",{projectId:"fd95ed98ecab7ef051bdcaa27f9d0547",chains:[p1,Qf,OT,PT,FT,NT,kT]});const _l=[p1,Qf,OT,PT,FT,NT,kT];if(!_l||!Array.isArray(_l)||_l.length===0)throw console.error(" Chains array is invalid:",_l),new Error("Chains configuration is invalid");_l.forEach((t,e)=>{if(!t||!t.id||!t.name)throw console.error(` Invalid chain at index ${e}:`,t),new Error(`Chain at index ${e} is invalid`)});console.log(" Chains validated successfully:",_l.map(t=>({id:t.id,name:t.name})));const JN="fd95ed98ecab7ef051bdcaa27f9d0547",z2e=typeof window<"u"&&/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);let Sl;if(z2e){const t=j8([{groupName:"Popular",wallets:[U2e,cG,D2e,B2e,L2e]}],{appName:"FLIPNOSIS",projectId:JN});Sl=xD({chains:_l,connectors:t,transports:{[p1.id]:ca(),[Qf.id]:ca(),[OT.id]:ca(),[PT.id]:ca(),[FT.id]:ca(),[NT.id]:ca(),[kT.id]:ca()}})}else Sl=kse({appName:"FLIPNOSIS",projectId:JN,chains:_l,ssr:!1});console.log(" Rainbow Kit configuration created successfully");const j2e=new Aee({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),{chains:_S}=Sl;console.log("Rainbow Kit Config:",{chains:_S.map(t=>t.name),projectId:Sl.projectId});class G2e extends B.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n)}render(){return this.state.hasError?K("div",{style:{padding:"20px",color:"red",background:"#000",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"20px"},children:[F("h1",{children:"Something went wrong"}),F("pre",{children:this.state.error?.message}),F("pre",{children:this.state.error?.stack})]}):this.props.children}}function H2e(){return console.log(" App.jsx - Config check:",{config:Sl,hasChains:!!Sl?.chains,chainsLength:Sl?.chains?.length}),F(G2e,{children:F(LZ,{config:Sl,children:F(Gee,{client:j2e,children:F(toe,{theme:qD({accentColor:"#00FF41",accentColorForeground:"black",borderRadius:"large",fontStack:"system",overlayBlur:"small"}),modalSize:"compact",initialChain:_S[0],chains:_S,children:F(Nse,{children:F(Jpe,{children:F(Zpe,{children:F(si,{theme:tt,children:F(R0e,{router:I2e})})})})})})})})})}XE.createRoot(document.getElementById("root")).render(F(H2e,{}));const ZN=Object.freeze(Object.defineProperty({__proto__:null,default:k2},Symbol.toStringTag,{value:"Module"}));export{f_e as $,uue as A,Fe as B,L_e as C,Ele as D,B_e as E,GL as F,uY as G,lp as H,t_e as I,Wp as J,$q as K,Ii as L,SZ as M,qc as N,u_e as O,ii as P,Lse as Q,g_e as R,d_e as S,h_e as T,Li as U,sce as V,p_e as W,hp as X,jse as Y,m_e as Z,Le as _,zC as a,Use as a0,Ale as a1,ke as a2,Cle as a3,O_e as a4,Qle as a5,U_e as a6,yP as a7,hD as a8,Yp as a9,Sn as aa,Ad as ab,v2 as ac,Hm as ad,ca as ae,hi as af,zse as ag,US as ah,c_e as ai,r_e as b,t1 as c,rQ as d,$s as e,Zl as f,km as g,Vs as h,r1 as i,W2e as j,$t as k,ZB as l,U7 as m,D_e as n,j_e as o,G_e as p,zv as q,Wl as r,pr as s,jv as t,zle as u,H_e as v,I1 as w,Xe as x,tF as y,Go as z};
