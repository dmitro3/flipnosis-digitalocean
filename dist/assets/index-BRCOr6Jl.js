const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DblnKzZP.js","assets/hooks.module-CuBEORbW.js","assets/index-Bw4PkJEr.js","assets/inherits_browser-BlmhoU4v.js","assets/events-L9-hTva6.js","assets/index-Cbfz0gvn.js","assets/index-iQDDC4Kq.js","assets/index.es-E9DnDZLM.js","assets/alchemy-provider-0066b792-DIirk4_b.js","assets/alchemy-websocket-provider-98da5bb0-XUA_lTO8.js"])))=>i.map(i=>d[i]);
function _N(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var SN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function sm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kxe(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var CN={exports:{}},Ev={},TN={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am=Symbol.for("react.element"),pz=Symbol.for("react.portal"),mz=Symbol.for("react.fragment"),gz=Symbol.for("react.strict_mode"),yz=Symbol.for("react.profiler"),vz=Symbol.for("react.provider"),wz=Symbol.for("react.context"),bz=Symbol.for("react.forward_ref"),xz=Symbol.for("react.suspense"),Ez=Symbol.for("react.memo"),Az=Symbol.for("react.lazy"),XT=Symbol.iterator;function _z(t){return t===null||typeof t!="object"?null:(t=XT&&t[XT]||t["@@iterator"],typeof t=="function"?t:null)}var MN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IN=Object.assign,RN={};function pf(t,e,n){this.props=t,this.context=e,this.refs=RN,this.updater=n||MN}pf.prototype.isReactComponent={};pf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PN(){}PN.prototype=pf.prototype;function T_(t,e,n){this.props=t,this.context=e,this.refs=RN,this.updater=n||MN}var M_=T_.prototype=new PN;M_.constructor=T_;IN(M_,pf.prototype);M_.isPureReactComponent=!0;var YT=Array.isArray,NN=Object.prototype.hasOwnProperty,I_={current:null},kN={key:!0,ref:!0,__self:!0,__source:!0};function FN(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)NN.call(e,r)&&!kN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:am,type:t,key:o,ref:s,props:i,_owner:I_.current}}function Sz(t,e){return{$$typeof:am,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function R_(t){return typeof t=="object"&&t!==null&&t.$$typeof===am}function Cz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var JT=/\/+/g;function x1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Cz(""+t.key):e.toString(36)}function wg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case am:case pz:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+x1(s,0):r,YT(i)?(n="",t!=null&&(n=t.replace(JT,"$&/")+"/"),wg(i,e,n,"",function(c){return c})):i!=null&&(R_(i)&&(i=Sz(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(JT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",YT(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+x1(o,a);s+=wg(o,e,n,l,i)}else if(l=_z(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+x1(o,a++),s+=wg(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Qm(t,e,n){if(t==null)return t;var r=[],i=0;return wg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Tz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var si={current:null},bg={transition:null},Mz={ReactCurrentDispatcher:si,ReactCurrentBatchConfig:bg,ReactCurrentOwner:I_};function BN(){throw Error("act(...) is not supported in production builds of React.")}zt.Children={map:Qm,forEach:function(t,e,n){Qm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qm(t,function(){e++}),e},toArray:function(t){return Qm(t,function(e){return e})||[]},only:function(t){if(!R_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};zt.Component=pf;zt.Fragment=mz;zt.Profiler=yz;zt.PureComponent=T_;zt.StrictMode=gz;zt.Suspense=xz;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mz;zt.act=BN;zt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=IN({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=I_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)NN.call(e,l)&&!kN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:am,type:t.type,key:i,ref:o,props:r,_owner:s}};zt.createContext=function(t){return t={$$typeof:wz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vz,_context:t},t.Consumer=t};zt.createElement=FN;zt.createFactory=function(t){var e=FN.bind(null,t);return e.type=t,e};zt.createRef=function(){return{current:null}};zt.forwardRef=function(t){return{$$typeof:bz,render:t}};zt.isValidElement=R_;zt.lazy=function(t){return{$$typeof:Az,_payload:{_status:-1,_result:t},_init:Tz}};zt.memo=function(t,e){return{$$typeof:Ez,type:t,compare:e===void 0?null:e}};zt.startTransition=function(t){var e=bg.transition;bg.transition={};try{t()}finally{bg.transition=e}};zt.unstable_act=BN;zt.useCallback=function(t,e){return si.current.useCallback(t,e)};zt.useContext=function(t){return si.current.useContext(t)};zt.useDebugValue=function(){};zt.useDeferredValue=function(t){return si.current.useDeferredValue(t)};zt.useEffect=function(t,e){return si.current.useEffect(t,e)};zt.useId=function(){return si.current.useId()};zt.useImperativeHandle=function(t,e,n){return si.current.useImperativeHandle(t,e,n)};zt.useInsertionEffect=function(t,e){return si.current.useInsertionEffect(t,e)};zt.useLayoutEffect=function(t,e){return si.current.useLayoutEffect(t,e)};zt.useMemo=function(t,e){return si.current.useMemo(t,e)};zt.useReducer=function(t,e,n){return si.current.useReducer(t,e,n)};zt.useRef=function(t){return si.current.useRef(t)};zt.useState=function(t){return si.current.useState(t)};zt.useSyncExternalStore=function(t,e,n){return si.current.useSyncExternalStore(t,e,n)};zt.useTransition=function(){return si.current.useTransition()};zt.version="18.3.1";TN.exports=zt;var U=TN.exports;const O=sm(U),Jx=_N({__proto__:null,default:O},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iz=U,Rz=Symbol.for("react.element"),Pz=Symbol.for("react.fragment"),Nz=Object.prototype.hasOwnProperty,kz=Iz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fz={key:!0,ref:!0,__self:!0,__source:!0};function ON(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Nz.call(e,r)&&!Fz.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Rz,type:t,key:o,ref:s,props:i,_owner:kz.current}}Ev.Fragment=Pz;Ev.jsx=ON;Ev.jsxs=ON;CN.exports=Ev;var fn=CN.exports;function Bz(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Oz(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Lz=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Oz(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Bz(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Br="-ms-",ly="-moz-",en="-webkit-",LN="comm",P_="rule",N_="decl",Dz="@import",DN="@keyframes",Uz="@layer",zz=Math.abs,Av=String.fromCharCode,jz=Object.assign;function Hz(t,e){return Ar(t,0)^45?(((e<<2^Ar(t,0))<<2^Ar(t,1))<<2^Ar(t,2))<<2^Ar(t,3):0}function UN(t){return t.trim()}function Gz(t,e){return(t=e.exec(t))?t[0]:t}function tn(t,e,n){return t.replace(e,n)}function Zx(t,e){return t.indexOf(e)}function Ar(t,e){return t.charCodeAt(e)|0}function Yh(t,e,n){return t.slice(e,n)}function gs(t){return t.length}function k_(t){return t.length}function Km(t,e){return e.push(t),t}function Wz(t,e){return t.map(e).join("")}var _v=1,Nd=1,zN=0,Ii=0,qn=0,mf="";function Sv(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:_v,column:Nd,length:s,return:""}}function Hf(t,e){return jz(Sv("",null,null,"",null,null,0),t,{length:-t.length},e)}function Vz(){return qn}function $z(){return qn=Ii>0?Ar(mf,--Ii):0,Nd--,qn===10&&(Nd=1,_v--),qn}function Qi(){return qn=Ii<zN?Ar(mf,Ii++):0,Nd++,qn===10&&(Nd=1,_v++),qn}function Cs(){return Ar(mf,Ii)}function xg(){return Ii}function lm(t,e){return Yh(mf,t,e)}function Jh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function jN(t){return _v=Nd=1,zN=gs(mf=t),Ii=0,[]}function HN(t){return mf="",t}function Eg(t){return UN(lm(Ii-1,eE(t===91?t+2:t===40?t+1:t)))}function qz(t){for(;(qn=Cs())&&qn<33;)Qi();return Jh(t)>2||Jh(qn)>3?"":" "}function Qz(t,e){for(;--e&&Qi()&&!(qn<48||qn>102||qn>57&&qn<65||qn>70&&qn<97););return lm(t,xg()+(e<6&&Cs()==32&&Qi()==32))}function eE(t){for(;Qi();)switch(qn){case t:return Ii;case 34:case 39:t!==34&&t!==39&&eE(qn);break;case 40:t===41&&eE(t);break;case 92:Qi();break}return Ii}function Kz(t,e){for(;Qi()&&t+qn!==57;)if(t+qn===84&&Cs()===47)break;return"/*"+lm(e,Ii-1)+"*"+Av(t===47?t:Qi())}function Xz(t){for(;!Jh(Cs());)Qi();return lm(t,Ii)}function Yz(t){return HN(Ag("",null,null,null,[""],t=jN(t),0,[0],t))}function Ag(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,h=0,p=0,m=1,y=1,g=1,v=0,b="",x=i,P=o,N=r,_=b;y;)switch(p=v,v=Qi()){case 40:if(p!=108&&Ar(_,d-1)==58){Zx(_+=tn(Eg(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:_+=Eg(v);break;case 9:case 10:case 13:case 32:_+=qz(p);break;case 92:_+=Qz(xg()-1,7);continue;case 47:switch(Cs()){case 42:case 47:Km(Jz(Kz(Qi(),xg()),e,n),l);break;default:_+="/"}break;case 123*m:a[c++]=gs(_)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:g==-1&&(_=tn(_,/\f/g,"")),h>0&&gs(_)-d&&Km(h>32?e3(_+";",r,n,d-1):e3(tn(_," ","")+";",r,n,d-2),l);break;case 59:_+=";";default:if(Km(N=ZT(_,e,n,c,u,i,a,b,x=[],P=[],d),o),v===123)if(u===0)Ag(_,e,N,N,x,o,d,a,P);else switch(f===99&&Ar(_,3)===110?100:f){case 100:case 108:case 109:case 115:Ag(t,N,N,r&&Km(ZT(t,N,N,0,0,i,a,b,i,x=[],d),P),i,P,d,a,r?x:P);break;default:Ag(_,N,N,N,[""],P,0,a,P)}}c=u=h=0,m=g=1,b=_="",d=s;break;case 58:d=1+gs(_),h=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&$z()==125)continue}switch(_+=Av(v),v*m){case 38:g=u>0?1:(_+="\f",-1);break;case 44:a[c++]=(gs(_)-1)*g,g=1;break;case 64:Cs()===45&&(_+=Eg(Qi())),f=Cs(),u=d=gs(b=_+=Xz(xg())),v++;break;case 45:p===45&&gs(_)==2&&(m=0)}}return o}function ZT(t,e,n,r,i,o,s,a,l,c,u){for(var d=i-1,f=i===0?o:[""],h=k_(f),p=0,m=0,y=0;p<r;++p)for(var g=0,v=Yh(t,d+1,d=zz(m=s[p])),b=t;g<h;++g)(b=UN(m>0?f[g]+" "+v:tn(v,/&\f/g,f[g])))&&(l[y++]=b);return Sv(t,e,n,i===0?P_:a,l,c,u)}function Jz(t,e,n){return Sv(t,e,n,LN,Av(Vz()),Yh(t,2,-2),0)}function e3(t,e,n,r){return Sv(t,e,n,N_,Yh(t,0,r),Yh(t,r+1,-1),r)}function dd(t,e){for(var n="",r=k_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Zz(t,e,n,r){switch(t.type){case Uz:if(t.children.length)break;case Dz:case N_:return t.return=t.return||t.value;case LN:return"";case DN:return t.return=t.value+"{"+dd(t.children,r)+"}";case P_:t.value=t.props.join(",")}return gs(n=dd(t.children,r))?t.return=t.value+"{"+n+"}":""}function ej(t){var e=k_(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function tj(t){return function(e){e.root||(e=e.return)&&t(e)}}var t3=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function GN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var nj=function(e,n,r){for(var i=0,o=0;i=o,o=Cs(),i===38&&o===12&&(n[r]=1),!Jh(o);)Qi();return lm(e,Ii)},rj=function(e,n){var r=-1,i=44;do switch(Jh(i)){case 0:i===38&&Cs()===12&&(n[r]=1),e[r]+=nj(Ii-1,n,r);break;case 2:e[r]+=Eg(i);break;case 4:if(i===44){e[++r]=Cs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Av(i)}while(i=Qi());return e},ij=function(e,n){return HN(rj(jN(e),n))},n3=new WeakMap,oj=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!n3.get(r))&&!i){n3.set(e,!0);for(var o=[],s=ij(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},sj=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function WN(t,e){switch(Hz(t,e)){case 5103:return en+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return en+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return en+t+ly+t+Br+t+t;case 6828:case 4268:return en+t+Br+t+t;case 6165:return en+t+Br+"flex-"+t+t;case 5187:return en+t+tn(t,/(\w+).+(:[^]+)/,en+"box-$1$2"+Br+"flex-$1$2")+t;case 5443:return en+t+Br+"flex-item-"+tn(t,/flex-|-self/,"")+t;case 4675:return en+t+Br+"flex-line-pack"+tn(t,/align-content|flex-|-self/,"")+t;case 5548:return en+t+Br+tn(t,"shrink","negative")+t;case 5292:return en+t+Br+tn(t,"basis","preferred-size")+t;case 6060:return en+"box-"+tn(t,"-grow","")+en+t+Br+tn(t,"grow","positive")+t;case 4554:return en+tn(t,/([^-])(transform)/g,"$1"+en+"$2")+t;case 6187:return tn(tn(tn(t,/(zoom-|grab)/,en+"$1"),/(image-set)/,en+"$1"),t,"")+t;case 5495:case 3959:return tn(t,/(image-set\([^]*)/,en+"$1$`$1");case 4968:return tn(tn(t,/(.+:)(flex-)?(.*)/,en+"box-pack:$3"+Br+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+en+t+t;case 4095:case 3583:case 4068:case 2532:return tn(t,/(.+)-inline(.+)/,en+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gs(t)-1-e>6)switch(Ar(t,e+1)){case 109:if(Ar(t,e+4)!==45)break;case 102:return tn(t,/(.+:)(.+)-([^]+)/,"$1"+en+"$2-$3$1"+ly+(Ar(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Zx(t,"stretch")?WN(tn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ar(t,e+1)!==115)break;case 6444:switch(Ar(t,gs(t)-3-(~Zx(t,"!important")&&10))){case 107:return tn(t,":",":"+en)+t;case 101:return tn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+en+(Ar(t,14)===45?"inline-":"")+"box$3$1"+en+"$2$3$1"+Br+"$2box$3")+t}break;case 5936:switch(Ar(t,e+11)){case 114:return en+t+Br+tn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return en+t+Br+tn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return en+t+Br+tn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return en+t+Br+t+t}return t}var aj=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case N_:e.return=WN(e.value,e.length);break;case DN:return dd([Hf(e,{value:tn(e.value,"@","@"+en)})],i);case P_:if(e.length)return Wz(e.props,function(o){switch(Gz(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return dd([Hf(e,{props:[tn(o,/:(read-\w+)/,":"+ly+"$1")]})],i);case"::placeholder":return dd([Hf(e,{props:[tn(o,/:(plac\w+)/,":"+en+"input-$1")]}),Hf(e,{props:[tn(o,/:(plac\w+)/,":"+ly+"$1")]}),Hf(e,{props:[tn(o,/:(plac\w+)/,Br+"input-$1")]})],i)}return""})}},lj=[aj],cj=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||lj,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)o[y[g]]=!0;a.push(m)});var l,c=[oj,sj];{var u,d=[Zz,tj(function(m){u.insert(m)})],f=ej(c.concat(i,d)),h=function(y){return dd(Yz(y),f)};l=function(y,g,v,b){u=v,h(y?y+"{"+g.styles+"}":g.styles),b&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new Lz({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(a),p};function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cy.apply(null,arguments)}var VN={exports:{}},cn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wr=typeof Symbol=="function"&&Symbol.for,F_=wr?Symbol.for("react.element"):60103,B_=wr?Symbol.for("react.portal"):60106,Cv=wr?Symbol.for("react.fragment"):60107,Tv=wr?Symbol.for("react.strict_mode"):60108,Mv=wr?Symbol.for("react.profiler"):60114,Iv=wr?Symbol.for("react.provider"):60109,Rv=wr?Symbol.for("react.context"):60110,O_=wr?Symbol.for("react.async_mode"):60111,Pv=wr?Symbol.for("react.concurrent_mode"):60111,Nv=wr?Symbol.for("react.forward_ref"):60112,kv=wr?Symbol.for("react.suspense"):60113,uj=wr?Symbol.for("react.suspense_list"):60120,Fv=wr?Symbol.for("react.memo"):60115,Bv=wr?Symbol.for("react.lazy"):60116,dj=wr?Symbol.for("react.block"):60121,fj=wr?Symbol.for("react.fundamental"):60117,hj=wr?Symbol.for("react.responder"):60118,pj=wr?Symbol.for("react.scope"):60119;function Yi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case F_:switch(t=t.type,t){case O_:case Pv:case Cv:case Mv:case Tv:case kv:return t;default:switch(t=t&&t.$$typeof,t){case Rv:case Nv:case Bv:case Fv:case Iv:return t;default:return e}}case B_:return e}}}function $N(t){return Yi(t)===Pv}cn.AsyncMode=O_;cn.ConcurrentMode=Pv;cn.ContextConsumer=Rv;cn.ContextProvider=Iv;cn.Element=F_;cn.ForwardRef=Nv;cn.Fragment=Cv;cn.Lazy=Bv;cn.Memo=Fv;cn.Portal=B_;cn.Profiler=Mv;cn.StrictMode=Tv;cn.Suspense=kv;cn.isAsyncMode=function(t){return $N(t)||Yi(t)===O_};cn.isConcurrentMode=$N;cn.isContextConsumer=function(t){return Yi(t)===Rv};cn.isContextProvider=function(t){return Yi(t)===Iv};cn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===F_};cn.isForwardRef=function(t){return Yi(t)===Nv};cn.isFragment=function(t){return Yi(t)===Cv};cn.isLazy=function(t){return Yi(t)===Bv};cn.isMemo=function(t){return Yi(t)===Fv};cn.isPortal=function(t){return Yi(t)===B_};cn.isProfiler=function(t){return Yi(t)===Mv};cn.isStrictMode=function(t){return Yi(t)===Tv};cn.isSuspense=function(t){return Yi(t)===kv};cn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Cv||t===Pv||t===Mv||t===Tv||t===kv||t===uj||typeof t=="object"&&t!==null&&(t.$$typeof===Bv||t.$$typeof===Fv||t.$$typeof===Iv||t.$$typeof===Rv||t.$$typeof===Nv||t.$$typeof===fj||t.$$typeof===hj||t.$$typeof===pj||t.$$typeof===dj)};cn.typeOf=Yi;VN.exports=cn;var mj=VN.exports,qN=mj,gj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},QN={};QN[qN.ForwardRef]=gj;QN[qN.Memo]=yj;var vj=!0;function KN(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var L_=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||vj===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},XN=function(e,n,r){L_(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function wj(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var bj={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xj=/[A-Z]|^ms/g,Ej=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YN=function(e){return e.charCodeAt(1)===45},r3=function(e){return e!=null&&typeof e!="boolean"},E1=GN(function(t){return YN(t)?t:t.replace(xj,"-$&").toLowerCase()}),i3=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Ej,function(r,i,o){return ys={name:i,styles:o,next:ys},i})}return bj[e]!==1&&!YN(e)&&typeof n=="number"&&n!==0?n+"px":n};function Zh(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ys={name:i.name,styles:i.styles,next:ys},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)ys={name:s.name,styles:s.styles,next:ys},s=s.next;var a=o.styles+";";return a}return Aj(t,e,n)}case"function":{if(t!==void 0){var l=ys,c=n(t);return ys=l,Zh(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function Aj(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Zh(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":r3(a)&&(r+=E1(o)+":"+i3(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)r3(s[l])&&(r+=E1(o)+":"+i3(o,s[l])+";");else{var c=Zh(t,e,s);switch(o){case"animation":case"animationName":{r+=E1(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var o3=/label:\s*([^\s;{]+)\s*(;|$)/g,ys;function D_(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ys=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=Zh(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=Zh(n,e,t[a]),r){var l=o;i+=l[a]}o3.lastIndex=0;for(var c="",u;(u=o3.exec(i))!==null;)c+="-"+u[1];var d=wj(i)+c;return{name:d,styles:i,next:ys}}var _j=function(e){return e()},Sj=Jx.useInsertionEffect?Jx.useInsertionEffect:!1,JN=Sj||_j,ZN=U.createContext(typeof HTMLElement<"u"?cj({key:"css"}):null);ZN.Provider;var ek=function(e){return U.forwardRef(function(n,r){var i=U.useContext(ZN);return e(n,i,r)})},uy=U.createContext({}),Cj=function(e,n){if(typeof n=="function"){var r=n(e);return r}return cy({},e,n)},Tj=t3(function(t){return t3(function(e){return Cj(t,e)})}),Dr=function(e){var n=U.useContext(uy);return e.theme!==n&&(n=Tj(n)(e.theme)),U.createElement(uy.Provider,{value:n},e.children)},cm={}.hasOwnProperty,tE="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",U_=function(e,n){var r={};for(var i in n)cm.call(n,i)&&(r[i]=n[i]);return r[tE]=e,r},Mj=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return L_(n,r,i),JN(function(){return XN(n,r,i)}),null},Ij=ek(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[tE],o=[r],s="";typeof t.className=="string"?s=KN(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=D_(o,void 0,U.useContext(uy));s+=e.key+"-"+a.name;var l={};for(var c in t)cm.call(t,c)&&c!=="css"&&c!==tE&&(l[c]=t[c]);return l.className=s,n&&(l.ref=n),U.createElement(U.Fragment,null,U.createElement(Mj,{cache:e,serialized:a,isStringTag:typeof i=="string"}),U.createElement(i,l))}),z_=Ij,ya=fn.Fragment,F=function(e,n,r){return cm.call(n,"css")?fn.jsx(z_,U_(e,n),r):fn.jsx(e,n,r)},K=function(e,n,r){return cm.call(n,"css")?fn.jsxs(z_,U_(e,n),r):fn.jsxs(e,n,r)},j_={},Ov={};Ov.byteLength=Nj;Ov.toByteArray=Fj;Ov.fromByteArray=Lj;var ws=[],lo=[],Rj=typeof Uint8Array<"u"?Uint8Array:Array,A1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Eu=0,Pj=A1.length;Eu<Pj;++Eu)ws[Eu]=A1[Eu],lo[A1.charCodeAt(Eu)]=Eu;lo[45]=62;lo[95]=63;function tk(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Nj(t){var e=tk(t),n=e[0],r=e[1];return(n+r)*3/4-r}function kj(t,e,n){return(e+n)*3/4-n}function Fj(t){var e,n=tk(t),r=n[0],i=n[1],o=new Rj(kj(t,r,i)),s=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=lo[t.charCodeAt(l)]<<18|lo[t.charCodeAt(l+1)]<<12|lo[t.charCodeAt(l+2)]<<6|lo[t.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=lo[t.charCodeAt(l)]<<2|lo[t.charCodeAt(l+1)]>>4,o[s++]=e&255),i===1&&(e=lo[t.charCodeAt(l)]<<10|lo[t.charCodeAt(l+1)]<<4|lo[t.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function Bj(t){return ws[t>>18&63]+ws[t>>12&63]+ws[t>>6&63]+ws[t&63]}function Oj(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(Bj(r));return i.join("")}function Lj(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(Oj(t,s,s+o>a?a:s+o));return r===1?(e=t[n-1],i.push(ws[e>>2]+ws[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(ws[e>>10]+ws[e>>4&63]+ws[e<<2&63]+"=")),i.join("")}var H_={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */H_.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,h=t[e+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=a;u>0;o=o*256+t[e+d],d+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=s*256+t[e+d],d+=f,u-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(h?-1:1)*s*Math.pow(2,o-r)};H_.write=function(t,e,n,r,i,o){var s,a,l,c=o*8-i-1,u=(1<<c)-1,d=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?e+=f/l:e+=f*Math.pow(2,1-d),e*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(e*l-1)*Math.pow(2,i),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+h]=a&255,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+h]=s&255,h+=p,s/=256,c-=8);t[n+h-p]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Ov,n=H_,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const j=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(j,S),j.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(j){if(j>i)throw new RangeError('The value "'+j+'" is invalid for option "size"');const S=new Uint8Array(j);return Object.setPrototypeOf(S,a.prototype),S}function a(j,S,R){if(typeof j=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(j)}return l(j,S,R)}a.poolSize=8192;function l(j,S,R){if(typeof j=="string")return f(j,S);if(ArrayBuffer.isView(j))return p(j);if(j==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);if(V(j,ArrayBuffer)||j&&V(j.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(V(j,SharedArrayBuffer)||j&&V(j.buffer,SharedArrayBuffer)))return m(j,S,R);if(typeof j=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=j.valueOf&&j.valueOf();if(Q!=null&&Q!==j)return a.from(Q,S,R);const Y=y(j);if(Y)return Y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof j[Symbol.toPrimitive]=="function")return a.from(j[Symbol.toPrimitive]("string"),S,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}a.from=function(j,S,R){return l(j,S,R)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(j){if(typeof j!="number")throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}function u(j,S,R){return c(j),j<=0?s(j):S!==void 0?typeof R=="string"?s(j).fill(S,R):s(j).fill(S):s(j)}a.alloc=function(j,S,R){return u(j,S,R)};function d(j){return c(j),s(j<0?0:g(j)|0)}a.allocUnsafe=function(j){return d(j)},a.allocUnsafeSlow=function(j){return d(j)};function f(j,S){if((typeof S!="string"||S==="")&&(S="utf8"),!a.isEncoding(S))throw new TypeError("Unknown encoding: "+S);const R=b(j,S)|0;let Q=s(R);const Y=Q.write(j,S);return Y!==R&&(Q=Q.slice(0,Y)),Q}function h(j){const S=j.length<0?0:g(j.length)|0,R=s(S);for(let Q=0;Q<S;Q+=1)R[Q]=j[Q]&255;return R}function p(j){if(V(j,Uint8Array)){const S=new Uint8Array(j);return m(S.buffer,S.byteOffset,S.byteLength)}return h(j)}function m(j,S,R){if(S<0||j.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(j.byteLength<S+(R||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return S===void 0&&R===void 0?Q=new Uint8Array(j):R===void 0?Q=new Uint8Array(j,S):Q=new Uint8Array(j,S,R),Object.setPrototypeOf(Q,a.prototype),Q}function y(j){if(a.isBuffer(j)){const S=g(j.length)|0,R=s(S);return R.length===0||j.copy(R,0,0,S),R}if(j.length!==void 0)return typeof j.length!="number"||ce(j.length)?s(0):h(j);if(j.type==="Buffer"&&Array.isArray(j.data))return h(j.data)}function g(j){if(j>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return j|0}function v(j){return+j!=j&&(j=0),a.alloc(+j)}a.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==a.prototype},a.compare=function(S,R){if(V(S,Uint8Array)&&(S=a.from(S,S.offset,S.byteLength)),V(R,Uint8Array)&&(R=a.from(R,R.offset,R.byteLength)),!a.isBuffer(S)||!a.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===R)return 0;let Q=S.length,Y=R.length;for(let Z=0,ne=Math.min(Q,Y);Z<ne;++Z)if(S[Z]!==R[Z]){Q=S[Z],Y=R[Z];break}return Q<Y?-1:Y<Q?1:0},a.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(S,R){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return a.alloc(0);let Q;if(R===void 0)for(R=0,Q=0;Q<S.length;++Q)R+=S[Q].length;const Y=a.allocUnsafe(R);let Z=0;for(Q=0;Q<S.length;++Q){let ne=S[Q];if(V(ne,Uint8Array))Z+ne.length>Y.length?(a.isBuffer(ne)||(ne=a.from(ne)),ne.copy(Y,Z)):Uint8Array.prototype.set.call(Y,ne,Z);else if(a.isBuffer(ne))ne.copy(Y,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=ne.length}return Y};function b(j,S){if(a.isBuffer(j))return j.length;if(ArrayBuffer.isView(j)||V(j,ArrayBuffer))return j.byteLength;if(typeof j!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);const R=j.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&R===0)return 0;let Y=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return dt(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return et(j).length;default:if(Y)return Q?-1:dt(j).length;S=(""+S).toLowerCase(),Y=!0}}a.byteLength=b;function x(j,S,R){let Q=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,S>>>=0,R<=S))return"";for(j||(j="utf8");;)switch(j){case"hex":return H(this,S,R);case"utf8":case"utf-8":return w(this,S,R);case"ascii":return k(this,S,R);case"latin1":case"binary":return I(this,S,R);case"base64":return B(this,S,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,S,R);default:if(Q)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),Q=!0}}a.prototype._isBuffer=!0;function P(j,S,R){const Q=j[S];j[S]=j[R],j[R]=Q}a.prototype.swap16=function(){const S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let R=0;R<S;R+=2)P(this,R,R+1);return this},a.prototype.swap32=function(){const S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let R=0;R<S;R+=4)P(this,R,R+3),P(this,R+1,R+2);return this},a.prototype.swap64=function(){const S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let R=0;R<S;R+=8)P(this,R,R+7),P(this,R+1,R+6),P(this,R+2,R+5),P(this,R+3,R+4);return this},a.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?w(this,0,S):x.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(S){if(!a.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:a.compare(this,S)===0},a.prototype.inspect=function(){let S="";const R=t.INSPECT_MAX_BYTES;return S=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(S+=" ... "),"<Buffer "+S+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(S,R,Q,Y,Z){if(V(S,Uint8Array)&&(S=a.from(S,S.offset,S.byteLength)),!a.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(R===void 0&&(R=0),Q===void 0&&(Q=S?S.length:0),Y===void 0&&(Y=0),Z===void 0&&(Z=this.length),R<0||Q>S.length||Y<0||Z>this.length)throw new RangeError("out of range index");if(Y>=Z&&R>=Q)return 0;if(Y>=Z)return-1;if(R>=Q)return 1;if(R>>>=0,Q>>>=0,Y>>>=0,Z>>>=0,this===S)return 0;let ne=Z-Y,De=Q-R;const Pe=Math.min(ne,De),Ke=this.slice(Y,Z),ft=S.slice(R,Q);for(let rt=0;rt<Pe;++rt)if(Ke[rt]!==ft[rt]){ne=Ke[rt],De=ft[rt];break}return ne<De?-1:De<ne?1:0};function N(j,S,R,Q,Y){if(j.length===0)return-1;if(typeof R=="string"?(Q=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,ce(R)&&(R=Y?0:j.length-1),R<0&&(R=j.length+R),R>=j.length){if(Y)return-1;R=j.length-1}else if(R<0)if(Y)R=0;else return-1;if(typeof S=="string"&&(S=a.from(S,Q)),a.isBuffer(S))return S.length===0?-1:_(j,S,R,Q,Y);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?Y?Uint8Array.prototype.indexOf.call(j,S,R):Uint8Array.prototype.lastIndexOf.call(j,S,R):_(j,[S],R,Q,Y);throw new TypeError("val must be string, number or Buffer")}function _(j,S,R,Q,Y){let Z=1,ne=j.length,De=S.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(j.length<2||S.length<2)return-1;Z=2,ne/=2,De/=2,R/=2}function Pe(ft,rt){return Z===1?ft[rt]:ft.readUInt16BE(rt*Z)}let Ke;if(Y){let ft=-1;for(Ke=R;Ke<ne;Ke++)if(Pe(j,Ke)===Pe(S,ft===-1?0:Ke-ft)){if(ft===-1&&(ft=Ke),Ke-ft+1===De)return ft*Z}else ft!==-1&&(Ke-=Ke-ft),ft=-1}else for(R+De>ne&&(R=ne-De),Ke=R;Ke>=0;Ke--){let ft=!0;for(let rt=0;rt<De;rt++)if(Pe(j,Ke+rt)!==Pe(S,rt)){ft=!1;break}if(ft)return Ke}return-1}a.prototype.includes=function(S,R,Q){return this.indexOf(S,R,Q)!==-1},a.prototype.indexOf=function(S,R,Q){return N(this,S,R,Q,!0)},a.prototype.lastIndexOf=function(S,R,Q){return N(this,S,R,Q,!1)};function D(j,S,R,Q){R=Number(R)||0;const Y=j.length-R;Q?(Q=Number(Q),Q>Y&&(Q=Y)):Q=Y;const Z=S.length;Q>Z/2&&(Q=Z/2);let ne;for(ne=0;ne<Q;++ne){const De=parseInt(S.substr(ne*2,2),16);if(ce(De))return ne;j[R+ne]=De}return ne}function T(j,S,R,Q){return X(dt(S,j.length-R),j,R,Q)}function E(j,S,R,Q){return X(Ye(S),j,R,Q)}function z(j,S,R,Q){return X(et(S),j,R,Q)}function W(j,S,R,Q){return X(Nt(S,j.length-R),j,R,Q)}a.prototype.write=function(S,R,Q,Y){if(R===void 0)Y="utf8",Q=this.length,R=0;else if(Q===void 0&&typeof R=="string")Y=R,Q=this.length,R=0;else if(isFinite(R))R=R>>>0,isFinite(Q)?(Q=Q>>>0,Y===void 0&&(Y="utf8")):(Y=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Z=this.length-R;if((Q===void 0||Q>Z)&&(Q=Z),S.length>0&&(Q<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");let ne=!1;for(;;)switch(Y){case"hex":return D(this,S,R,Q);case"utf8":case"utf-8":return T(this,S,R,Q);case"ascii":case"latin1":case"binary":return E(this,S,R,Q);case"base64":return z(this,S,R,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,S,R,Q);default:if(ne)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),ne=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(j,S,R){return S===0&&R===j.length?e.fromByteArray(j):e.fromByteArray(j.slice(S,R))}function w(j,S,R){R=Math.min(j.length,R);const Q=[];let Y=S;for(;Y<R;){const Z=j[Y];let ne=null,De=Z>239?4:Z>223?3:Z>191?2:1;if(Y+De<=R){let Pe,Ke,ft,rt;switch(De){case 1:Z<128&&(ne=Z);break;case 2:Pe=j[Y+1],(Pe&192)===128&&(rt=(Z&31)<<6|Pe&63,rt>127&&(ne=rt));break;case 3:Pe=j[Y+1],Ke=j[Y+2],(Pe&192)===128&&(Ke&192)===128&&(rt=(Z&15)<<12|(Pe&63)<<6|Ke&63,rt>2047&&(rt<55296||rt>57343)&&(ne=rt));break;case 4:Pe=j[Y+1],Ke=j[Y+2],ft=j[Y+3],(Pe&192)===128&&(Ke&192)===128&&(ft&192)===128&&(rt=(Z&15)<<18|(Pe&63)<<12|(Ke&63)<<6|ft&63,rt>65535&&rt<1114112&&(ne=rt))}}ne===null?(ne=65533,De=1):ne>65535&&(ne-=65536,Q.push(ne>>>10&1023|55296),ne=56320|ne&1023),Q.push(ne),Y+=De}return C(Q)}const A=4096;function C(j){const S=j.length;if(S<=A)return String.fromCharCode.apply(String,j);let R="",Q=0;for(;Q<S;)R+=String.fromCharCode.apply(String,j.slice(Q,Q+=A));return R}function k(j,S,R){let Q="";R=Math.min(j.length,R);for(let Y=S;Y<R;++Y)Q+=String.fromCharCode(j[Y]&127);return Q}function I(j,S,R){let Q="";R=Math.min(j.length,R);for(let Y=S;Y<R;++Y)Q+=String.fromCharCode(j[Y]);return Q}function H(j,S,R){const Q=j.length;(!S||S<0)&&(S=0),(!R||R<0||R>Q)&&(R=Q);let Y="";for(let Z=S;Z<R;++Z)Y+=we[j[Z]];return Y}function G(j,S,R){const Q=j.slice(S,R);let Y="";for(let Z=0;Z<Q.length-1;Z+=2)Y+=String.fromCharCode(Q[Z]+Q[Z+1]*256);return Y}a.prototype.slice=function(S,R){const Q=this.length;S=~~S,R=R===void 0?Q:~~R,S<0?(S+=Q,S<0&&(S=0)):S>Q&&(S=Q),R<0?(R+=Q,R<0&&(R=0)):R>Q&&(R=Q),R<S&&(R=S);const Y=this.subarray(S,R);return Object.setPrototypeOf(Y,a.prototype),Y};function L(j,S,R){if(j%1!==0||j<0)throw new RangeError("offset is not uint");if(j+S>R)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(S,R,Q){S=S>>>0,R=R>>>0,Q||L(S,R,this.length);let Y=this[S],Z=1,ne=0;for(;++ne<R&&(Z*=256);)Y+=this[S+ne]*Z;return Y},a.prototype.readUintBE=a.prototype.readUIntBE=function(S,R,Q){S=S>>>0,R=R>>>0,Q||L(S,R,this.length);let Y=this[S+--R],Z=1;for(;R>0&&(Z*=256);)Y+=this[S+--R]*Z;return Y},a.prototype.readUint8=a.prototype.readUInt8=function(S,R){return S=S>>>0,R||L(S,1,this.length),this[S]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(S,R){return S=S>>>0,R||L(S,2,this.length),this[S]|this[S+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(S,R){return S=S>>>0,R||L(S,2,this.length),this[S]<<8|this[S+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(S,R){return S=S>>>0,R||L(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(S,R){return S=S>>>0,R||L(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},a.prototype.readBigUInt64LE=Ie(function(S){S=S>>>0,ut(S,"offset");const R=this[S],Q=this[S+7];(R===void 0||Q===void 0)&&ee(S,this.length-8);const Y=R+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24,Z=this[++S]+this[++S]*2**8+this[++S]*2**16+Q*2**24;return BigInt(Y)+(BigInt(Z)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ie(function(S){S=S>>>0,ut(S,"offset");const R=this[S],Q=this[S+7];(R===void 0||Q===void 0)&&ee(S,this.length-8);const Y=R*2**24+this[++S]*2**16+this[++S]*2**8+this[++S],Z=this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+Q;return(BigInt(Y)<<BigInt(32))+BigInt(Z)}),a.prototype.readIntLE=function(S,R,Q){S=S>>>0,R=R>>>0,Q||L(S,R,this.length);let Y=this[S],Z=1,ne=0;for(;++ne<R&&(Z*=256);)Y+=this[S+ne]*Z;return Z*=128,Y>=Z&&(Y-=Math.pow(2,8*R)),Y},a.prototype.readIntBE=function(S,R,Q){S=S>>>0,R=R>>>0,Q||L(S,R,this.length);let Y=R,Z=1,ne=this[S+--Y];for(;Y>0&&(Z*=256);)ne+=this[S+--Y]*Z;return Z*=128,ne>=Z&&(ne-=Math.pow(2,8*R)),ne},a.prototype.readInt8=function(S,R){return S=S>>>0,R||L(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},a.prototype.readInt16LE=function(S,R){S=S>>>0,R||L(S,2,this.length);const Q=this[S]|this[S+1]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt16BE=function(S,R){S=S>>>0,R||L(S,2,this.length);const Q=this[S+1]|this[S]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt32LE=function(S,R){return S=S>>>0,R||L(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},a.prototype.readInt32BE=function(S,R){return S=S>>>0,R||L(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},a.prototype.readBigInt64LE=Ie(function(S){S=S>>>0,ut(S,"offset");const R=this[S],Q=this[S+7];(R===void 0||Q===void 0)&&ee(S,this.length-8);const Y=this[S+4]+this[S+5]*2**8+this[S+6]*2**16+(Q<<24);return(BigInt(Y)<<BigInt(32))+BigInt(R+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24)}),a.prototype.readBigInt64BE=Ie(function(S){S=S>>>0,ut(S,"offset");const R=this[S],Q=this[S+7];(R===void 0||Q===void 0)&&ee(S,this.length-8);const Y=(R<<24)+this[++S]*2**16+this[++S]*2**8+this[++S];return(BigInt(Y)<<BigInt(32))+BigInt(this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+Q)}),a.prototype.readFloatLE=function(S,R){return S=S>>>0,R||L(S,4,this.length),n.read(this,S,!0,23,4)},a.prototype.readFloatBE=function(S,R){return S=S>>>0,R||L(S,4,this.length),n.read(this,S,!1,23,4)},a.prototype.readDoubleLE=function(S,R){return S=S>>>0,R||L(S,8,this.length),n.read(this,S,!0,52,8)},a.prototype.readDoubleBE=function(S,R){return S=S>>>0,R||L(S,8,this.length),n.read(this,S,!1,52,8)};function M(j,S,R,Q,Y,Z){if(!a.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>Y||S<Z)throw new RangeError('"value" argument is out of bounds');if(R+Q>j.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(S,R,Q,Y){if(S=+S,R=R>>>0,Q=Q>>>0,!Y){const De=Math.pow(2,8*Q)-1;M(this,S,R,Q,De,0)}let Z=1,ne=0;for(this[R]=S&255;++ne<Q&&(Z*=256);)this[R+ne]=S/Z&255;return R+Q},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(S,R,Q,Y){if(S=+S,R=R>>>0,Q=Q>>>0,!Y){const De=Math.pow(2,8*Q)-1;M(this,S,R,Q,De,0)}let Z=Q-1,ne=1;for(this[R+Z]=S&255;--Z>=0&&(ne*=256);)this[R+Z]=S/ne&255;return R+Q},a.prototype.writeUint8=a.prototype.writeUInt8=function(S,R,Q){return S=+S,R=R>>>0,Q||M(this,S,R,1,255,0),this[R]=S&255,R+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(S,R,Q){return S=+S,R=R>>>0,Q||M(this,S,R,2,65535,0),this[R]=S&255,this[R+1]=S>>>8,R+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(S,R,Q){return S=+S,R=R>>>0,Q||M(this,S,R,2,65535,0),this[R]=S>>>8,this[R+1]=S&255,R+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(S,R,Q){return S=+S,R=R>>>0,Q||M(this,S,R,4,4294967295,0),this[R+3]=S>>>24,this[R+2]=S>>>16,this[R+1]=S>>>8,this[R]=S&255,R+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(S,R,Q){return S=+S,R=R>>>0,Q||M(this,S,R,4,4294967295,0),this[R]=S>>>24,this[R+1]=S>>>16,this[R+2]=S>>>8,this[R+3]=S&255,R+4};function $(j,S,R,Q,Y){Re(S,Q,Y,j,R,7);let Z=Number(S&BigInt(4294967295));j[R++]=Z,Z=Z>>8,j[R++]=Z,Z=Z>>8,j[R++]=Z,Z=Z>>8,j[R++]=Z;let ne=Number(S>>BigInt(32)&BigInt(4294967295));return j[R++]=ne,ne=ne>>8,j[R++]=ne,ne=ne>>8,j[R++]=ne,ne=ne>>8,j[R++]=ne,R}function J(j,S,R,Q,Y){Re(S,Q,Y,j,R,7);let Z=Number(S&BigInt(4294967295));j[R+7]=Z,Z=Z>>8,j[R+6]=Z,Z=Z>>8,j[R+5]=Z,Z=Z>>8,j[R+4]=Z;let ne=Number(S>>BigInt(32)&BigInt(4294967295));return j[R+3]=ne,ne=ne>>8,j[R+2]=ne,ne=ne>>8,j[R+1]=ne,ne=ne>>8,j[R]=ne,R+8}a.prototype.writeBigUInt64LE=Ie(function(S,R=0){return $(this,S,R,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ie(function(S,R=0){return J(this,S,R,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(S,R,Q,Y){if(S=+S,R=R>>>0,!Y){const Pe=Math.pow(2,8*Q-1);M(this,S,R,Q,Pe-1,-Pe)}let Z=0,ne=1,De=0;for(this[R]=S&255;++Z<Q&&(ne*=256);)S<0&&De===0&&this[R+Z-1]!==0&&(De=1),this[R+Z]=(S/ne>>0)-De&255;return R+Q},a.prototype.writeIntBE=function(S,R,Q,Y){if(S=+S,R=R>>>0,!Y){const Pe=Math.pow(2,8*Q-1);M(this,S,R,Q,Pe-1,-Pe)}let Z=Q-1,ne=1,De=0;for(this[R+Z]=S&255;--Z>=0&&(ne*=256);)S<0&&De===0&&this[R+Z+1]!==0&&(De=1),this[R+Z]=(S/ne>>0)-De&255;return R+Q},a.prototype.writeInt8=function(S,R,Q){return S=+S,R=R>>>0,Q||M(this,S,R,1,127,-128),S<0&&(S=255+S+1),this[R]=S&255,R+1},a.prototype.writeInt16LE=function(S,R,Q){return S=+S,R=R>>>0,Q||M(this,S,R,2,32767,-32768),this[R]=S&255,this[R+1]=S>>>8,R+2},a.prototype.writeInt16BE=function(S,R,Q){return S=+S,R=R>>>0,Q||M(this,S,R,2,32767,-32768),this[R]=S>>>8,this[R+1]=S&255,R+2},a.prototype.writeInt32LE=function(S,R,Q){return S=+S,R=R>>>0,Q||M(this,S,R,4,2147483647,-2147483648),this[R]=S&255,this[R+1]=S>>>8,this[R+2]=S>>>16,this[R+3]=S>>>24,R+4},a.prototype.writeInt32BE=function(S,R,Q){return S=+S,R=R>>>0,Q||M(this,S,R,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[R]=S>>>24,this[R+1]=S>>>16,this[R+2]=S>>>8,this[R+3]=S&255,R+4},a.prototype.writeBigInt64LE=Ie(function(S,R=0){return $(this,S,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ie(function(S,R=0){return J(this,S,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function te(j,S,R,Q,Y,Z){if(R+Q>j.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function oe(j,S,R,Q,Y){return S=+S,R=R>>>0,Y||te(j,S,R,4),n.write(j,S,R,Q,23,4),R+4}a.prototype.writeFloatLE=function(S,R,Q){return oe(this,S,R,!0,Q)},a.prototype.writeFloatBE=function(S,R,Q){return oe(this,S,R,!1,Q)};function le(j,S,R,Q,Y){return S=+S,R=R>>>0,Y||te(j,S,R,8),n.write(j,S,R,Q,52,8),R+8}a.prototype.writeDoubleLE=function(S,R,Q){return le(this,S,R,!0,Q)},a.prototype.writeDoubleBE=function(S,R,Q){return le(this,S,R,!1,Q)},a.prototype.copy=function(S,R,Q,Y){if(!a.isBuffer(S))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!Y&&Y!==0&&(Y=this.length),R>=S.length&&(R=S.length),R||(R=0),Y>0&&Y<Q&&(Y=Q),Y===Q||S.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),S.length-R<Y-Q&&(Y=S.length-R+Q);const Z=Y-Q;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(R,Q,Y):Uint8Array.prototype.set.call(S,this.subarray(Q,Y),R),Z},a.prototype.fill=function(S,R,Q,Y){if(typeof S=="string"){if(typeof R=="string"?(Y=R,R=0,Q=this.length):typeof Q=="string"&&(Y=Q,Q=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!a.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(S.length===1){const ne=S.charCodeAt(0);(Y==="utf8"&&ne<128||Y==="latin1")&&(S=ne)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(R<0||this.length<R||this.length<Q)throw new RangeError("Out of range index");if(Q<=R)return this;R=R>>>0,Q=Q===void 0?this.length:Q>>>0,S||(S=0);let Z;if(typeof S=="number")for(Z=R;Z<Q;++Z)this[Z]=S;else{const ne=a.isBuffer(S)?S:a.from(S,Y),De=ne.length;if(De===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(Z=0;Z<Q-R;++Z)this[Z+R]=ne[Z%De]}return this};const Te={};function Ne(j,S,R){Te[j]=class extends R{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${j}]`,this.stack,delete this.name}get code(){return j}set code(Y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Y,writable:!0})}toString(){return`${this.name} [${j}]: ${this.message}`}}}Ne("ERR_BUFFER_OUT_OF_BOUNDS",function(j){return j?`${j} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ne("ERR_INVALID_ARG_TYPE",function(j,S){return`The "${j}" argument must be of type number. Received type ${typeof S}`},TypeError),Ne("ERR_OUT_OF_RANGE",function(j,S,R){let Q=`The value of "${j}" is out of range.`,Y=R;return Number.isInteger(R)&&Math.abs(R)>2**32?Y=Ae(String(R)):typeof R=="bigint"&&(Y=String(R),(R>BigInt(2)**BigInt(32)||R<-(BigInt(2)**BigInt(32)))&&(Y=Ae(Y)),Y+="n"),Q+=` It must be ${S}. Received ${Y}`,Q},RangeError);function Ae(j){let S="",R=j.length;const Q=j[0]==="-"?1:0;for(;R>=Q+4;R-=3)S=`_${j.slice(R-3,R)}${S}`;return`${j.slice(0,R)}${S}`}function Be(j,S,R){ut(S,"offset"),(j[S]===void 0||j[S+R]===void 0)&&ee(S,j.length-(R+1))}function Re(j,S,R,Q,Y,Z){if(j>R||j<S){const ne=typeof S=="bigint"?"n":"";let De;throw S===0||S===BigInt(0)?De=`>= 0${ne} and < 2${ne} ** ${(Z+1)*8}${ne}`:De=`>= -(2${ne} ** ${(Z+1)*8-1}${ne}) and < 2 ** ${(Z+1)*8-1}${ne}`,new Te.ERR_OUT_OF_RANGE("value",De,j)}Be(Q,Y,Z)}function ut(j,S){if(typeof j!="number")throw new Te.ERR_INVALID_ARG_TYPE(S,"number",j)}function ee(j,S,R){throw Math.floor(j)!==j?(ut(j,R),new Te.ERR_OUT_OF_RANGE("offset","an integer",j)):S<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:new Te.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${S}`,j)}const _t=/[^+/0-9A-Za-z-_]/g;function Et(j){if(j=j.split("=")[0],j=j.trim().replace(_t,""),j.length<2)return"";for(;j.length%4!==0;)j=j+"=";return j}function dt(j,S){S=S||1/0;let R;const Q=j.length;let Y=null;const Z=[];for(let ne=0;ne<Q;++ne){if(R=j.charCodeAt(ne),R>55295&&R<57344){if(!Y){if(R>56319){(S-=3)>-1&&Z.push(239,191,189);continue}else if(ne+1===Q){(S-=3)>-1&&Z.push(239,191,189);continue}Y=R;continue}if(R<56320){(S-=3)>-1&&Z.push(239,191,189),Y=R;continue}R=(Y-55296<<10|R-56320)+65536}else Y&&(S-=3)>-1&&Z.push(239,191,189);if(Y=null,R<128){if((S-=1)<0)break;Z.push(R)}else if(R<2048){if((S-=2)<0)break;Z.push(R>>6|192,R&63|128)}else if(R<65536){if((S-=3)<0)break;Z.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((S-=4)<0)break;Z.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return Z}function Ye(j){const S=[];for(let R=0;R<j.length;++R)S.push(j.charCodeAt(R)&255);return S}function Nt(j,S){let R,Q,Y;const Z=[];for(let ne=0;ne<j.length&&!((S-=2)<0);++ne)R=j.charCodeAt(ne),Q=R>>8,Y=R%256,Z.push(Y),Z.push(Q);return Z}function et(j){return e.toByteArray(Et(j))}function X(j,S,R,Q){let Y;for(Y=0;Y<Q&&!(Y+R>=S.length||Y>=j.length);++Y)S[Y+R]=j[Y];return Y}function V(j,S){return j instanceof S||j!=null&&j.constructor!=null&&j.constructor.name!=null&&j.constructor.name===S.name}function ce(j){return j!==j}const we=function(){const j="0123456789abcdef",S=new Array(256);for(let R=0;R<16;++R){const Q=R*16;for(let Y=0;Y<16;++Y)S[Q+Y]=j[R]+j[Y]}return S}();function Ie(j){return typeof BigInt>"u"?pe:j}function pe(){throw new Error("BigInt not supported")}})(j_);var nk={exports:{}},Gn=nk.exports={},ps,ms;function nE(){throw new Error("setTimeout has not been defined")}function rE(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ps=setTimeout:ps=nE}catch{ps=nE}try{typeof clearTimeout=="function"?ms=clearTimeout:ms=rE}catch{ms=rE}})();function rk(t){if(ps===setTimeout)return setTimeout(t,0);if((ps===nE||!ps)&&setTimeout)return ps=setTimeout,setTimeout(t,0);try{return ps(t,0)}catch{try{return ps.call(null,t,0)}catch{return ps.call(this,t,0)}}}function Dj(t){if(ms===clearTimeout)return clearTimeout(t);if((ms===rE||!ms)&&clearTimeout)return ms=clearTimeout,clearTimeout(t);try{return ms(t)}catch{try{return ms.call(null,t)}catch{return ms.call(this,t)}}}var ia=[],fd=!1,fc,_g=-1;function Uj(){!fd||!fc||(fd=!1,fc.length?ia=fc.concat(ia):_g=-1,ia.length&&ik())}function ik(){if(!fd){var t=rk(Uj);fd=!0;for(var e=ia.length;e;){for(fc=ia,ia=[];++_g<e;)fc&&fc[_g].run();_g=-1,e=ia.length}fc=null,fd=!1,Dj(t)}}Gn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ia.push(new ok(t,e)),ia.length===1&&!fd&&rk(ik)};function ok(t,e){this.fun=t,this.array=e}ok.prototype.run=function(){this.fun.apply(null,this.array)};Gn.title="browser";Gn.browser=!0;Gn.env={};Gn.argv=[];Gn.version="";Gn.versions={};function Ma(){}Gn.on=Ma;Gn.addListener=Ma;Gn.once=Ma;Gn.off=Ma;Gn.removeListener=Ma;Gn.removeAllListeners=Ma;Gn.emit=Ma;Gn.prependListener=Ma;Gn.prependOnceListener=Ma;Gn.listeners=function(t){return[]};Gn.binding=function(t){throw new Error("process.binding is not supported")};Gn.cwd=function(){return"/"};Gn.chdir=function(t){throw new Error("process.chdir is not supported")};Gn.umask=function(){return 0};var zj=nk.exports;const jj=sm(zj);window.Buffer=j_.Buffer;window.process=jj;typeof window<"u"&&(window.global=window.global||window,!window.URL&&window.webkitURL&&(window.URL=window.webkitURL));window.require=function(t){switch(t){case"stream":return require("stream-browserify");case"crypto":return require("crypto-browserify");case"util":return require("util");case"buffer":return require("buffer");case"process":return require("process/browser");case"zlib":return require("browserify-zlib");case"path":return require("path-browserify");default:throw new Error(`Module ${t} not found`)}};var iE={},sk={exports:{}},Ji={},ak={exports:{}},lk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,H){var G=I.length;I.push(H);e:for(;0<G;){var L=G-1>>>1,M=I[L];if(0<i(M,H))I[L]=H,I[G]=M,G=L;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var H=I[0],G=I.pop();if(G!==H){I[0]=G;e:for(var L=0,M=I.length,$=M>>>1;L<$;){var J=2*(L+1)-1,te=I[J],oe=J+1,le=I[oe];if(0>i(te,G))oe<M&&0>i(le,te)?(I[L]=le,I[oe]=G,L=oe):(I[L]=te,I[J]=G,L=J);else if(oe<M&&0>i(le,G))I[L]=le,I[oe]=G,L=oe;else break e}}return H}function i(I,H){var G=I.sortIndex-H.sortIndex;return G!==0?G:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=I)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function x(I){if(m=!1,b(I),!p)if(n(l)!==null)p=!0,C(P);else{var H=n(c);H!==null&&k(x,H.startTime-I)}}function P(I,H){p=!1,m&&(m=!1,g(D),D=-1),h=!0;var G=f;try{for(b(H),d=n(l);d!==null&&(!(d.expirationTime>H)||I&&!z());){var L=d.callback;if(typeof L=="function"){d.callback=null,f=d.priorityLevel;var M=L(d.expirationTime<=H);H=t.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&r(l),b(H)}else r(l);d=n(l)}if(d!==null)var $=!0;else{var J=n(c);J!==null&&k(x,J.startTime-H),$=!1}return $}finally{d=null,f=G,h=!1}}var N=!1,_=null,D=-1,T=5,E=-1;function z(){return!(t.unstable_now()-E<T)}function W(){if(_!==null){var I=t.unstable_now();E=I;var H=!0;try{H=_(!0,I)}finally{H?B():(N=!1,_=null)}}else N=!1}var B;if(typeof v=="function")B=function(){v(W)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,A=w.port2;w.port1.onmessage=W,B=function(){A.postMessage(null)}}else B=function(){y(W,0)};function C(I){_=I,N||(N=!0,B())}function k(I,H){D=y(function(){I(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,C(P))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var G=f;f=H;try{return I()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var G=f;f=I;try{return H()}finally{f=G}},t.unstable_scheduleCallback=function(I,H,G){var L=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?L+G:L):G=L,I){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=G+M,I={id:u++,callback:H,priorityLevel:I,startTime:G,expirationTime:M,sortIndex:-1},G>L?(I.sortIndex=G,e(c,I),n(l)===null&&I===n(c)&&(m?(g(D),D=-1):m=!0,k(x,G-L))):(I.sortIndex=M,e(l,I),p||h||(p=!0,C(P))),I},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(I){var H=f;return function(){var G=f;f=H;try{return I.apply(this,arguments)}finally{f=G}}}})(lk);ak.exports=lk;var Hj=ak.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gj=U,Xi=Hj;function We(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ck=new Set,ep={};function au(t,e){kd(t,e),kd(t+"Capture",e)}function kd(t,e){for(ep[t]=e,t=0;t<e.length;t++)ck.add(e[t])}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oE=Object.prototype.hasOwnProperty,Wj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s3={},a3={};function Vj(t){return oE.call(a3,t)?!0:oE.call(s3,t)?!1:Wj.test(t)?a3[t]=!0:(s3[t]=!0,!1)}function $j(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qj(t,e,n,r){if(e===null||typeof e>"u"||$j(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ai(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ir[t]=new ai(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ir[e]=new ai(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ir[t]=new ai(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ir[t]=new ai(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ir[t]=new ai(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ir[t]=new ai(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ir[t]=new ai(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ir[t]=new ai(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ir[t]=new ai(t,5,!1,t.toLowerCase(),null,!1,!1)});var G_=/[\-:]([a-z])/g;function W_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(G_,W_);Ir[e]=new ai(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(G_,W_);Ir[e]=new ai(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(G_,W_);Ir[e]=new ai(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ir[t]=new ai(t,1,!1,t.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new ai("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ir[t]=new ai(t,1,!1,t.toLowerCase(),null,!0,!0)});function V_(t,e,n,r){var i=Ir.hasOwnProperty(e)?Ir[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qj(e,n,i,r)&&(n=null),r||i===null?Vj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ia=Gj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xm=Symbol.for("react.element"),Qu=Symbol.for("react.portal"),Ku=Symbol.for("react.fragment"),$_=Symbol.for("react.strict_mode"),sE=Symbol.for("react.profiler"),uk=Symbol.for("react.provider"),dk=Symbol.for("react.context"),q_=Symbol.for("react.forward_ref"),aE=Symbol.for("react.suspense"),lE=Symbol.for("react.suspense_list"),Q_=Symbol.for("react.memo"),el=Symbol.for("react.lazy"),fk=Symbol.for("react.offscreen"),l3=Symbol.iterator;function Gf(t){return t===null||typeof t!="object"?null:(t=l3&&t[l3]||t["@@iterator"],typeof t=="function"?t:null)}var Mn=Object.assign,_1;function wh(t){if(_1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_1=e&&e[1]||""}return`
`+_1+t}var S1=!1;function C1(t,e){if(!t||S1)return"";S1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{S1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wh(t):""}function Qj(t){switch(t.tag){case 5:return wh(t.type);case 16:return wh("Lazy");case 13:return wh("Suspense");case 19:return wh("SuspenseList");case 0:case 2:case 15:return t=C1(t.type,!1),t;case 11:return t=C1(t.type.render,!1),t;case 1:return t=C1(t.type,!0),t;default:return""}}function cE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ku:return"Fragment";case Qu:return"Portal";case sE:return"Profiler";case $_:return"StrictMode";case aE:return"Suspense";case lE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dk:return(t.displayName||"Context")+".Consumer";case uk:return(t._context.displayName||"Context")+".Provider";case q_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q_:return e=t.displayName||null,e!==null?e:cE(t.type)||"Memo";case el:e=t._payload,t=t._init;try{return cE(t(e))}catch{}}return null}function Kj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cE(e);case 8:return e===$_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Xj(t){var e=hk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ym(t){t._valueTracker||(t._valueTracker=Xj(t))}function pk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uE(t,e){var n=e.checked;return Mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function c3(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Sl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mk(t,e){e=e.checked,e!=null&&V_(t,"checked",e,!1)}function dE(t,e){mk(t,e);var n=Sl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fE(t,e.type,n):e.hasOwnProperty("defaultValue")&&fE(t,e.type,Sl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function u3(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fE(t,e,n){(e!=="number"||dy(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bh=Array.isArray;function hd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Sl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(We(91));return Mn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function d3(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(We(92));if(bh(n)){if(1<n.length)throw Error(We(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Sl(n)}}function gk(t,e){var n=Sl(e.value),r=Sl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function f3(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jm,vk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jm=Jm||document.createElement("div"),Jm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ph={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yj=["Webkit","ms","Moz","O"];Object.keys(Ph).forEach(function(t){Yj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ph[e]=Ph[t]})});function wk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ph.hasOwnProperty(t)&&Ph[t]?(""+e).trim():e+"px"}function bk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=wk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Jj=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mE(t,e){if(e){if(Jj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(We(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(We(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(We(61))}if(e.style!=null&&typeof e.style!="object")throw Error(We(62))}}function gE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yE=null;function K_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vE=null,pd=null,md=null;function h3(t){if(t=fm(t)){if(typeof vE!="function")throw Error(We(280));var e=t.stateNode;e&&(e=jv(e),vE(t.stateNode,t.type,e))}}function xk(t){pd?md?md.push(t):md=[t]:pd=t}function Ek(){if(pd){var t=pd,e=md;if(md=pd=null,h3(t),e)for(t=0;t<e.length;t++)h3(e[t])}}function Ak(t,e){return t(e)}function _k(){}var T1=!1;function Sk(t,e,n){if(T1)return t(e,n);T1=!0;try{return Ak(t,e,n)}finally{T1=!1,(pd!==null||md!==null)&&(_k(),Ek())}}function np(t,e){var n=t.stateNode;if(n===null)return null;var r=jv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(We(231,e,typeof n));return n}var wE=!1;if(va)try{var Wf={};Object.defineProperty(Wf,"passive",{get:function(){wE=!0}}),window.addEventListener("test",Wf,Wf),window.removeEventListener("test",Wf,Wf)}catch{wE=!1}function Zj(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Nh=!1,fy=null,hy=!1,bE=null,eH={onError:function(t){Nh=!0,fy=t}};function tH(t,e,n,r,i,o,s,a,l){Nh=!1,fy=null,Zj.apply(eH,arguments)}function nH(t,e,n,r,i,o,s,a,l){if(tH.apply(this,arguments),Nh){if(Nh){var c=fy;Nh=!1,fy=null}else throw Error(We(198));hy||(hy=!0,bE=c)}}function lu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ck(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p3(t){if(lu(t)!==t)throw Error(We(188))}function rH(t){var e=t.alternate;if(!e){if(e=lu(t),e===null)throw Error(We(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return p3(i),t;if(o===r)return p3(i),e;o=o.sibling}throw Error(We(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(We(189))}}if(n.alternate!==r)throw Error(We(190))}if(n.tag!==3)throw Error(We(188));return n.stateNode.current===n?t:e}function Tk(t){return t=rH(t),t!==null?Mk(t):null}function Mk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mk(t);if(e!==null)return e;t=t.sibling}return null}var Ik=Xi.unstable_scheduleCallback,m3=Xi.unstable_cancelCallback,iH=Xi.unstable_shouldYield,oH=Xi.unstable_requestPaint,jn=Xi.unstable_now,sH=Xi.unstable_getCurrentPriorityLevel,X_=Xi.unstable_ImmediatePriority,Rk=Xi.unstable_UserBlockingPriority,py=Xi.unstable_NormalPriority,aH=Xi.unstable_LowPriority,Pk=Xi.unstable_IdlePriority,Lv=null,Ts=null;function lH(t){if(Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(Lv,t,void 0,(t.current.flags&128)===128)}catch{}}var Xo=Math.clz32?Math.clz32:dH,cH=Math.log,uH=Math.LN2;function dH(t){return t>>>=0,t===0?32:31-(cH(t)/uH|0)|0}var Zm=64,e0=4194304;function xh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function my(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=xh(a):(o&=s,o!==0&&(r=xh(o)))}else s=n&~i,s!==0?r=xh(s):o!==0&&(r=xh(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xo(e),i=1<<n,r|=t[n],e&=~i;return r}function fH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hH(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Xo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=fH(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function xE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nk(){var t=Zm;return Zm<<=1,!(Zm&4194240)&&(Zm=64),t}function M1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function um(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xo(e),t[e]=n}function pH(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Y_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ln=0;function kk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Fk,J_,Bk,Ok,Lk,EE=!1,t0=[],dl=null,fl=null,hl=null,rp=new Map,ip=new Map,rl=[],mH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g3(t,e){switch(t){case"focusin":case"focusout":dl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":hl=null;break;case"pointerover":case"pointerout":rp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ip.delete(e.pointerId)}}function Vf(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=fm(e),e!==null&&J_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gH(t,e,n,r,i){switch(e){case"focusin":return dl=Vf(dl,t,e,n,r,i),!0;case"dragenter":return fl=Vf(fl,t,e,n,r,i),!0;case"mouseover":return hl=Vf(hl,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return rp.set(o,Vf(rp.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ip.set(o,Vf(ip.get(o)||null,t,e,n,r,i)),!0}return!1}function Dk(t){var e=hc(t.target);if(e!==null){var n=lu(e);if(n!==null){if(e=n.tag,e===13){if(e=Ck(n),e!==null){t.blockedOn=e,Lk(t.priority,function(){Bk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=AE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yE=r,n.target.dispatchEvent(r),yE=null}else return e=fm(n),e!==null&&J_(e),t.blockedOn=n,!1;e.shift()}return!0}function y3(t,e,n){Sg(t)&&n.delete(e)}function yH(){EE=!1,dl!==null&&Sg(dl)&&(dl=null),fl!==null&&Sg(fl)&&(fl=null),hl!==null&&Sg(hl)&&(hl=null),rp.forEach(y3),ip.forEach(y3)}function $f(t,e){t.blockedOn===e&&(t.blockedOn=null,EE||(EE=!0,Xi.unstable_scheduleCallback(Xi.unstable_NormalPriority,yH)))}function op(t){function e(i){return $f(i,t)}if(0<t0.length){$f(t0[0],t);for(var n=1;n<t0.length;n++){var r=t0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(dl!==null&&$f(dl,t),fl!==null&&$f(fl,t),hl!==null&&$f(hl,t),rp.forEach(e),ip.forEach(e),n=0;n<rl.length;n++)r=rl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rl.length&&(n=rl[0],n.blockedOn===null);)Dk(n),n.blockedOn===null&&rl.shift()}var gd=Ia.ReactCurrentBatchConfig,gy=!0;function vH(t,e,n,r){var i=ln,o=gd.transition;gd.transition=null;try{ln=1,Z_(t,e,n,r)}finally{ln=i,gd.transition=o}}function wH(t,e,n,r){var i=ln,o=gd.transition;gd.transition=null;try{ln=4,Z_(t,e,n,r)}finally{ln=i,gd.transition=o}}function Z_(t,e,n,r){if(gy){var i=AE(t,e,n,r);if(i===null)D1(t,e,r,yy,n),g3(t,r);else if(gH(i,t,e,n,r))r.stopPropagation();else if(g3(t,r),e&4&&-1<mH.indexOf(t)){for(;i!==null;){var o=fm(i);if(o!==null&&Fk(o),o=AE(t,e,n,r),o===null&&D1(t,e,r,yy,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else D1(t,e,r,null,n)}}var yy=null;function AE(t,e,n,r){if(yy=null,t=K_(r),t=hc(t),t!==null)if(e=lu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ck(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yy=t,null}function Uk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sH()){case X_:return 1;case Rk:return 4;case py:case aH:return 16;case Pk:return 536870912;default:return 16}default:return 16}}var sl=null,eS=null,Cg=null;function zk(){if(Cg)return Cg;var t,e=eS,n=e.length,r,i="value"in sl?sl.value:sl.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Cg=i.slice(t,1<r?1-r:void 0)}function Tg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function n0(){return!0}function v3(){return!1}function Zi(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?n0:v3,this.isPropagationStopped=v3,this}return Mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=n0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=n0)},persist:function(){},isPersistent:n0}),e}var gf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tS=Zi(gf),dm=Mn({},gf,{view:0,detail:0}),bH=Zi(dm),I1,R1,qf,Dv=Mn({},dm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qf&&(qf&&t.type==="mousemove"?(I1=t.screenX-qf.screenX,R1=t.screenY-qf.screenY):R1=I1=0,qf=t),I1)},movementY:function(t){return"movementY"in t?t.movementY:R1}}),w3=Zi(Dv),xH=Mn({},Dv,{dataTransfer:0}),EH=Zi(xH),AH=Mn({},dm,{relatedTarget:0}),P1=Zi(AH),_H=Mn({},gf,{animationName:0,elapsedTime:0,pseudoElement:0}),SH=Zi(_H),CH=Mn({},gf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TH=Zi(CH),MH=Mn({},gf,{data:0}),b3=Zi(MH),IH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NH(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PH[t])?!!e[t]:!1}function nS(){return NH}var kH=Mn({},dm,{key:function(t){if(t.key){var e=IH[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RH[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nS,charCode:function(t){return t.type==="keypress"?Tg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FH=Zi(kH),BH=Mn({},Dv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x3=Zi(BH),OH=Mn({},dm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nS}),LH=Zi(OH),DH=Mn({},gf,{propertyName:0,elapsedTime:0,pseudoElement:0}),UH=Zi(DH),zH=Mn({},Dv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jH=Zi(zH),HH=[9,13,27,32],rS=va&&"CompositionEvent"in window,kh=null;va&&"documentMode"in document&&(kh=document.documentMode);var GH=va&&"TextEvent"in window&&!kh,jk=va&&(!rS||kh&&8<kh&&11>=kh),E3=" ",A3=!1;function Hk(t,e){switch(t){case"keyup":return HH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xu=!1;function WH(t,e){switch(t){case"compositionend":return Gk(e);case"keypress":return e.which!==32?null:(A3=!0,E3);case"textInput":return t=e.data,t===E3&&A3?null:t;default:return null}}function VH(t,e){if(Xu)return t==="compositionend"||!rS&&Hk(t,e)?(t=zk(),Cg=eS=sl=null,Xu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jk&&e.locale!=="ko"?null:e.data;default:return null}}var $H={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$H[t.type]:e==="textarea"}function Wk(t,e,n,r){xk(r),e=vy(e,"onChange"),0<e.length&&(n=new tS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fh=null,sp=null;function qH(t){tF(t,0)}function Uv(t){var e=Zu(t);if(pk(e))return t}function QH(t,e){if(t==="change")return e}var Vk=!1;if(va){var N1;if(va){var k1="oninput"in document;if(!k1){var S3=document.createElement("div");S3.setAttribute("oninput","return;"),k1=typeof S3.oninput=="function"}N1=k1}else N1=!1;Vk=N1&&(!document.documentMode||9<document.documentMode)}function C3(){Fh&&(Fh.detachEvent("onpropertychange",$k),sp=Fh=null)}function $k(t){if(t.propertyName==="value"&&Uv(sp)){var e=[];Wk(e,sp,t,K_(t)),Sk(qH,e)}}function KH(t,e,n){t==="focusin"?(C3(),Fh=e,sp=n,Fh.attachEvent("onpropertychange",$k)):t==="focusout"&&C3()}function XH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uv(sp)}function YH(t,e){if(t==="click")return Uv(e)}function JH(t,e){if(t==="input"||t==="change")return Uv(e)}function ZH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var es=typeof Object.is=="function"?Object.is:ZH;function ap(t,e){if(es(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oE.call(e,i)||!es(t[i],e[i]))return!1}return!0}function T3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function M3(t,e){var n=T3(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=T3(n)}}function qk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qk(){for(var t=window,e=dy();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dy(t.document)}return e}function iS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eG(t){var e=Qk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qk(n.ownerDocument.documentElement,n)){if(r!==null&&iS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=M3(n,o);var s=M3(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tG=va&&"documentMode"in document&&11>=document.documentMode,Yu=null,_E=null,Bh=null,SE=!1;function I3(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;SE||Yu==null||Yu!==dy(r)||(r=Yu,"selectionStart"in r&&iS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bh&&ap(Bh,r)||(Bh=r,r=vy(_E,"onSelect"),0<r.length&&(e=new tS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yu)))}function r0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ju={animationend:r0("Animation","AnimationEnd"),animationiteration:r0("Animation","AnimationIteration"),animationstart:r0("Animation","AnimationStart"),transitionend:r0("Transition","TransitionEnd")},F1={},Kk={};va&&(Kk=document.createElement("div").style,"AnimationEvent"in window||(delete Ju.animationend.animation,delete Ju.animationiteration.animation,delete Ju.animationstart.animation),"TransitionEvent"in window||delete Ju.transitionend.transition);function zv(t){if(F1[t])return F1[t];if(!Ju[t])return t;var e=Ju[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Kk)return F1[t]=e[n];return t}var Xk=zv("animationend"),Yk=zv("animationiteration"),Jk=zv("animationstart"),Zk=zv("transitionend"),eF=new Map,R3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fl(t,e){eF.set(t,e),au(e,[t])}for(var B1=0;B1<R3.length;B1++){var O1=R3[B1],nG=O1.toLowerCase(),rG=O1[0].toUpperCase()+O1.slice(1);Fl(nG,"on"+rG)}Fl(Xk,"onAnimationEnd");Fl(Yk,"onAnimationIteration");Fl(Jk,"onAnimationStart");Fl("dblclick","onDoubleClick");Fl("focusin","onFocus");Fl("focusout","onBlur");Fl(Zk,"onTransitionEnd");kd("onMouseEnter",["mouseout","mouseover"]);kd("onMouseLeave",["mouseout","mouseover"]);kd("onPointerEnter",["pointerout","pointerover"]);kd("onPointerLeave",["pointerout","pointerover"]);au("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));au("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));au("onBeforeInput",["compositionend","keypress","textInput","paste"]);au("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));au("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));au("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eh));function P3(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nH(r,e,void 0,t),t.currentTarget=null}function tF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;P3(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;P3(i,a,c),o=l}}}if(hy)throw t=bE,hy=!1,bE=null,t}function vn(t,e){var n=e[RE];n===void 0&&(n=e[RE]=new Set);var r=t+"__bubble";n.has(r)||(nF(e,t,2,!1),n.add(r))}function L1(t,e,n){var r=0;e&&(r|=4),nF(n,t,r,e)}var i0="_reactListening"+Math.random().toString(36).slice(2);function lp(t){if(!t[i0]){t[i0]=!0,ck.forEach(function(n){n!=="selectionchange"&&(iG.has(n)||L1(n,!1,t),L1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[i0]||(e[i0]=!0,L1("selectionchange",!1,e))}}function nF(t,e,n,r){switch(Uk(e)){case 1:var i=vH;break;case 4:i=wH;break;default:i=Z_}n=i.bind(null,e,n,t),i=void 0,!wE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function D1(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=hc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Sk(function(){var c=o,u=K_(n),d=[];e:{var f=eF.get(t);if(f!==void 0){var h=tS,p=t;switch(t){case"keypress":if(Tg(n)===0)break e;case"keydown":case"keyup":h=FH;break;case"focusin":p="focus",h=P1;break;case"focusout":p="blur",h=P1;break;case"beforeblur":case"afterblur":h=P1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=w3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=EH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=LH;break;case Xk:case Yk:case Jk:h=SH;break;case Zk:h=UH;break;case"scroll":h=bH;break;case"wheel":h=jH;break;case"copy":case"cut":case"paste":h=TH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=x3}var m=(e&4)!==0,y=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var v=c,b;v!==null;){b=v;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,g!==null&&(x=np(v,g),x!=null&&m.push(cp(v,x,b)))),y)break;v=v.return}0<m.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==yE&&(p=n.relatedTarget||n.fromElement)&&(hc(p)||p[wa]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?hc(p):null,p!==null&&(y=lu(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(m=w3,x="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=x3,x="onPointerLeave",g="onPointerEnter",v="pointer"),y=h==null?f:Zu(h),b=p==null?f:Zu(p),f=new m(x,v+"leave",h,n,u),f.target=y,f.relatedTarget=b,x=null,hc(u)===c&&(m=new m(g,v+"enter",p,n,u),m.target=b,m.relatedTarget=y,x=m),y=x,h&&p)t:{for(m=h,g=p,v=0,b=m;b;b=Au(b))v++;for(b=0,x=g;x;x=Au(x))b++;for(;0<v-b;)m=Au(m),v--;for(;0<b-v;)g=Au(g),b--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=Au(m),g=Au(g)}m=null}else m=null;h!==null&&N3(d,f,h,m,!1),p!==null&&y!==null&&N3(d,y,p,m,!0)}}e:{if(f=c?Zu(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var P=QH;else if(_3(f))if(Vk)P=JH;else{P=XH;var N=KH}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=YH);if(P&&(P=P(t,c))){Wk(d,P,n,u);break e}N&&N(t,f,c),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&fE(f,"number",f.value)}switch(N=c?Zu(c):window,t){case"focusin":(_3(N)||N.contentEditable==="true")&&(Yu=N,_E=c,Bh=null);break;case"focusout":Bh=_E=Yu=null;break;case"mousedown":SE=!0;break;case"contextmenu":case"mouseup":case"dragend":SE=!1,I3(d,n,u);break;case"selectionchange":if(tG)break;case"keydown":case"keyup":I3(d,n,u)}var _;if(rS)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Xu?Hk(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(jk&&n.locale!=="ko"&&(Xu||D!=="onCompositionStart"?D==="onCompositionEnd"&&Xu&&(_=zk()):(sl=u,eS="value"in sl?sl.value:sl.textContent,Xu=!0)),N=vy(c,D),0<N.length&&(D=new b3(D,t,null,n,u),d.push({event:D,listeners:N}),_?D.data=_:(_=Gk(n),_!==null&&(D.data=_)))),(_=GH?WH(t,n):VH(t,n))&&(c=vy(c,"onBeforeInput"),0<c.length&&(u=new b3("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}tF(d,e)})}function cp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=np(t,n),o!=null&&r.unshift(cp(t,o,i)),o=np(t,e),o!=null&&r.push(cp(t,o,i))),t=t.return}return r}function Au(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function N3(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=np(n,o),l!=null&&s.unshift(cp(n,l,a))):i||(l=np(n,o),l!=null&&s.push(cp(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var oG=/\r\n?/g,sG=/\u0000|\uFFFD/g;function k3(t){return(typeof t=="string"?t:""+t).replace(oG,`
`).replace(sG,"")}function o0(t,e,n){if(e=k3(e),k3(t)!==e&&n)throw Error(We(425))}function wy(){}var CE=null,TE=null;function ME(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var IE=typeof setTimeout=="function"?setTimeout:void 0,aG=typeof clearTimeout=="function"?clearTimeout:void 0,F3=typeof Promise=="function"?Promise:void 0,lG=typeof queueMicrotask=="function"?queueMicrotask:typeof F3<"u"?function(t){return F3.resolve(null).then(t).catch(cG)}:IE;function cG(t){setTimeout(function(){throw t})}function U1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),op(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);op(e)}function pl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function B3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yf=Math.random().toString(36).slice(2),bs="__reactFiber$"+yf,up="__reactProps$"+yf,wa="__reactContainer$"+yf,RE="__reactEvents$"+yf,uG="__reactListeners$"+yf,dG="__reactHandles$"+yf;function hc(t){var e=t[bs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wa]||n[bs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=B3(t);t!==null;){if(n=t[bs])return n;t=B3(t)}return e}t=n,n=t.parentNode}return null}function fm(t){return t=t[bs]||t[wa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(We(33))}function jv(t){return t[up]||null}var PE=[],ed=-1;function Bl(t){return{current:t}}function bn(t){0>ed||(t.current=PE[ed],PE[ed]=null,ed--)}function pn(t,e){ed++,PE[ed]=t.current,t.current=e}var Cl={},Wr=Bl(Cl),bi=Bl(!1),Bc=Cl;function Fd(t,e){var n=t.type.contextTypes;if(!n)return Cl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xi(t){return t=t.childContextTypes,t!=null}function by(){bn(bi),bn(Wr)}function O3(t,e,n){if(Wr.current!==Cl)throw Error(We(168));pn(Wr,e),pn(bi,n)}function rF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(We(108,Kj(t)||"Unknown",i));return Mn({},n,r)}function xy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cl,Bc=Wr.current,pn(Wr,t),pn(bi,bi.current),!0}function L3(t,e,n){var r=t.stateNode;if(!r)throw Error(We(169));n?(t=rF(t,e,Bc),r.__reactInternalMemoizedMergedChildContext=t,bn(bi),bn(Wr),pn(Wr,t)):bn(bi),pn(bi,n)}var Js=null,Hv=!1,z1=!1;function iF(t){Js===null?Js=[t]:Js.push(t)}function fG(t){Hv=!0,iF(t)}function Ol(){if(!z1&&Js!==null){z1=!0;var t=0,e=ln;try{var n=Js;for(ln=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Js=null,Hv=!1}catch(i){throw Js!==null&&(Js=Js.slice(t+1)),Ik(X_,Ol),i}finally{ln=e,z1=!1}}return null}var td=[],nd=0,Ey=null,Ay=0,ho=[],po=0,Oc=null,oa=1,sa="";function Jl(t,e){td[nd++]=Ay,td[nd++]=Ey,Ey=t,Ay=e}function oF(t,e,n){ho[po++]=oa,ho[po++]=sa,ho[po++]=Oc,Oc=t;var r=oa;t=sa;var i=32-Xo(r)-1;r&=~(1<<i),n+=1;var o=32-Xo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,oa=1<<32-Xo(e)+i|n<<i|r,sa=o+t}else oa=1<<o|n<<i|r,sa=t}function oS(t){t.return!==null&&(Jl(t,1),oF(t,1,0))}function sS(t){for(;t===Ey;)Ey=td[--nd],td[nd]=null,Ay=td[--nd],td[nd]=null;for(;t===Oc;)Oc=ho[--po],ho[po]=null,sa=ho[--po],ho[po]=null,oa=ho[--po],ho[po]=null}var Ki=null,$i=null,An=!1,Ho=null;function sF(t,e){var n=wo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function D3(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ki=t,$i=pl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ki=t,$i=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oc!==null?{id:oa,overflow:sa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ki=t,$i=null,!0):!1;default:return!1}}function NE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kE(t){if(An){var e=$i;if(e){var n=e;if(!D3(t,e)){if(NE(t))throw Error(We(418));e=pl(n.nextSibling);var r=Ki;e&&D3(t,e)?sF(r,n):(t.flags=t.flags&-4097|2,An=!1,Ki=t)}}else{if(NE(t))throw Error(We(418));t.flags=t.flags&-4097|2,An=!1,Ki=t}}}function U3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ki=t}function s0(t){if(t!==Ki)return!1;if(!An)return U3(t),An=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ME(t.type,t.memoizedProps)),e&&(e=$i)){if(NE(t))throw aF(),Error(We(418));for(;e;)sF(t,e),e=pl(e.nextSibling)}if(U3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(We(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$i=pl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$i=null}}else $i=Ki?pl(t.stateNode.nextSibling):null;return!0}function aF(){for(var t=$i;t;)t=pl(t.nextSibling)}function Bd(){$i=Ki=null,An=!1}function aS(t){Ho===null?Ho=[t]:Ho.push(t)}var hG=Ia.ReactCurrentBatchConfig;function Qf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(We(309));var r=n.stateNode}if(!r)throw Error(We(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(We(284));if(!n._owner)throw Error(We(290,t))}return t}function a0(t,e){throw t=Object.prototype.toString.call(e),Error(We(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function z3(t){var e=t._init;return e(t._payload)}function lF(t){function e(g,v){if(t){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=vl(g,v),g.index=0,g.sibling=null,g}function o(g,v,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,b,x){return v===null||v.tag!==6?(v=q1(b,g.mode,x),v.return=g,v):(v=i(v,b),v.return=g,v)}function l(g,v,b,x){var P=b.type;return P===Ku?u(g,v,b.props.children,x,b.key):v!==null&&(v.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===el&&z3(P)===v.type)?(x=i(v,b.props),x.ref=Qf(g,v,b),x.return=g,x):(x=Fg(b.type,b.key,b.props,null,g.mode,x),x.ref=Qf(g,v,b),x.return=g,x)}function c(g,v,b,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Q1(b,g.mode,x),v.return=g,v):(v=i(v,b.children||[]),v.return=g,v)}function u(g,v,b,x,P){return v===null||v.tag!==7?(v=Ic(b,g.mode,x,P),v.return=g,v):(v=i(v,b),v.return=g,v)}function d(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=q1(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xm:return b=Fg(v.type,v.key,v.props,null,g.mode,b),b.ref=Qf(g,null,v),b.return=g,b;case Qu:return v=Q1(v,g.mode,b),v.return=g,v;case el:var x=v._init;return d(g,x(v._payload),b)}if(bh(v)||Gf(v))return v=Ic(v,g.mode,b,null),v.return=g,v;a0(g,v)}return null}function f(g,v,b,x){var P=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:a(g,v,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xm:return b.key===P?l(g,v,b,x):null;case Qu:return b.key===P?c(g,v,b,x):null;case el:return P=b._init,f(g,v,P(b._payload),x)}if(bh(b)||Gf(b))return P!==null?null:u(g,v,b,x,null);a0(g,b)}return null}function h(g,v,b,x,P){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(b)||null,a(v,g,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xm:return g=g.get(x.key===null?b:x.key)||null,l(v,g,x,P);case Qu:return g=g.get(x.key===null?b:x.key)||null,c(v,g,x,P);case el:var N=x._init;return h(g,v,b,N(x._payload),P)}if(bh(x)||Gf(x))return g=g.get(b)||null,u(v,g,x,P,null);a0(v,x)}return null}function p(g,v,b,x){for(var P=null,N=null,_=v,D=v=0,T=null;_!==null&&D<b.length;D++){_.index>D?(T=_,_=null):T=_.sibling;var E=f(g,_,b[D],x);if(E===null){_===null&&(_=T);break}t&&_&&E.alternate===null&&e(g,_),v=o(E,v,D),N===null?P=E:N.sibling=E,N=E,_=T}if(D===b.length)return n(g,_),An&&Jl(g,D),P;if(_===null){for(;D<b.length;D++)_=d(g,b[D],x),_!==null&&(v=o(_,v,D),N===null?P=_:N.sibling=_,N=_);return An&&Jl(g,D),P}for(_=r(g,_);D<b.length;D++)T=h(_,g,D,b[D],x),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?D:T.key),v=o(T,v,D),N===null?P=T:N.sibling=T,N=T);return t&&_.forEach(function(z){return e(g,z)}),An&&Jl(g,D),P}function m(g,v,b,x){var P=Gf(b);if(typeof P!="function")throw Error(We(150));if(b=P.call(b),b==null)throw Error(We(151));for(var N=P=null,_=v,D=v=0,T=null,E=b.next();_!==null&&!E.done;D++,E=b.next()){_.index>D?(T=_,_=null):T=_.sibling;var z=f(g,_,E.value,x);if(z===null){_===null&&(_=T);break}t&&_&&z.alternate===null&&e(g,_),v=o(z,v,D),N===null?P=z:N.sibling=z,N=z,_=T}if(E.done)return n(g,_),An&&Jl(g,D),P;if(_===null){for(;!E.done;D++,E=b.next())E=d(g,E.value,x),E!==null&&(v=o(E,v,D),N===null?P=E:N.sibling=E,N=E);return An&&Jl(g,D),P}for(_=r(g,_);!E.done;D++,E=b.next())E=h(_,g,D,E.value,x),E!==null&&(t&&E.alternate!==null&&_.delete(E.key===null?D:E.key),v=o(E,v,D),N===null?P=E:N.sibling=E,N=E);return t&&_.forEach(function(W){return e(g,W)}),An&&Jl(g,D),P}function y(g,v,b,x){if(typeof b=="object"&&b!==null&&b.type===Ku&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Xm:e:{for(var P=b.key,N=v;N!==null;){if(N.key===P){if(P=b.type,P===Ku){if(N.tag===7){n(g,N.sibling),v=i(N,b.props.children),v.return=g,g=v;break e}}else if(N.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===el&&z3(P)===N.type){n(g,N.sibling),v=i(N,b.props),v.ref=Qf(g,N,b),v.return=g,g=v;break e}n(g,N);break}else e(g,N);N=N.sibling}b.type===Ku?(v=Ic(b.props.children,g.mode,x,b.key),v.return=g,g=v):(x=Fg(b.type,b.key,b.props,null,g.mode,x),x.ref=Qf(g,v,b),x.return=g,g=x)}return s(g);case Qu:e:{for(N=b.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(g,v.sibling),v=i(v,b.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=Q1(b,g.mode,x),v.return=g,g=v}return s(g);case el:return N=b._init,y(g,v,N(b._payload),x)}if(bh(b))return p(g,v,b,x);if(Gf(b))return m(g,v,b,x);a0(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,b),v.return=g,g=v):(n(g,v),v=q1(b,g.mode,x),v.return=g,g=v),s(g)):n(g,v)}return y}var Od=lF(!0),cF=lF(!1),_y=Bl(null),Sy=null,rd=null,lS=null;function cS(){lS=rd=Sy=null}function uS(t){var e=_y.current;bn(_y),t._currentValue=e}function FE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yd(t,e){Sy=t,lS=rd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gi=!0),t.firstContext=null)}function xo(t){var e=t._currentValue;if(lS!==t)if(t={context:t,memoizedValue:e,next:null},rd===null){if(Sy===null)throw Error(We(308));rd=t,Sy.dependencies={lanes:0,firstContext:t}}else rd=rd.next=t;return e}var pc=null;function dS(t){pc===null?pc=[t]:pc.push(t)}function uF(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dS(e)):(n.next=i.next,i.next=n),e.interleaved=n,ba(t,r)}function ba(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var tl=!1;function fS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function da(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ml(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ba(t,n)}return i=r.interleaved,i===null?(e.next=e,dS(r)):(e.next=i.next,i.next=e),r.interleaved=e,ba(t,n)}function Mg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Y_(t,n)}}function j3(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cy(t,e,n,r){var i=t.updateQueue;tl=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(f=e,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Mn({},d,f);break e;case 2:tl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Dc|=s,t.lanes=s,t.memoizedState=d}}function H3(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(We(191,i));i.call(r)}}}var hm={},Ms=Bl(hm),dp=Bl(hm),fp=Bl(hm);function mc(t){if(t===hm)throw Error(We(174));return t}function hS(t,e){switch(pn(fp,e),pn(dp,t),pn(Ms,hm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pE(e,t)}bn(Ms),pn(Ms,e)}function Ld(){bn(Ms),bn(dp),bn(fp)}function fF(t){mc(fp.current);var e=mc(Ms.current),n=pE(e,t.type);e!==n&&(pn(dp,t),pn(Ms,n))}function pS(t){dp.current===t&&(bn(Ms),bn(dp))}var _n=Bl(0);function Ty(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var j1=[];function mS(){for(var t=0;t<j1.length;t++)j1[t]._workInProgressVersionPrimary=null;j1.length=0}var Ig=Ia.ReactCurrentDispatcher,H1=Ia.ReactCurrentBatchConfig,Lc=0,Tn=null,nr=null,fr=null,My=!1,Oh=!1,hp=0,pG=0;function Pr(){throw Error(We(321))}function gS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!es(t[n],e[n]))return!1;return!0}function yS(t,e,n,r,i,o){if(Lc=o,Tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ig.current=t===null||t.memoizedState===null?vG:wG,t=n(r,i),Oh){o=0;do{if(Oh=!1,hp=0,25<=o)throw Error(We(301));o+=1,fr=nr=null,e.updateQueue=null,Ig.current=bG,t=n(r,i)}while(Oh)}if(Ig.current=Iy,e=nr!==null&&nr.next!==null,Lc=0,fr=nr=Tn=null,My=!1,e)throw Error(We(300));return t}function vS(){var t=hp!==0;return hp=0,t}function fs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?Tn.memoizedState=fr=t:fr=fr.next=t,fr}function Eo(){if(nr===null){var t=Tn.alternate;t=t!==null?t.memoizedState:null}else t=nr.next;var e=fr===null?Tn.memoizedState:fr.next;if(e!==null)fr=e,nr=t;else{if(t===null)throw Error(We(310));nr=t,t={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},fr===null?Tn.memoizedState=fr=t:fr=fr.next=t}return fr}function pp(t,e){return typeof e=="function"?e(t):e}function G1(t){var e=Eo(),n=e.queue;if(n===null)throw Error(We(311));n.lastRenderedReducer=t;var r=nr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Lc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Tn.lanes|=u,Dc|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,es(r,e.memoizedState)||(gi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Tn.lanes|=o,Dc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function W1(t){var e=Eo(),n=e.queue;if(n===null)throw Error(We(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);es(o,e.memoizedState)||(gi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function hF(){}function pF(t,e){var n=Tn,r=Eo(),i=e(),o=!es(r.memoizedState,i);if(o&&(r.memoizedState=i,gi=!0),r=r.queue,wS(yF.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||fr!==null&&fr.memoizedState.tag&1){if(n.flags|=2048,mp(9,gF.bind(null,n,r,i,e),void 0,null),yr===null)throw Error(We(349));Lc&30||mF(n,e,i)}return i}function mF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gF(t,e,n,r){e.value=n,e.getSnapshot=r,vF(e)&&wF(t)}function yF(t,e,n){return n(function(){vF(e)&&wF(t)})}function vF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!es(t,n)}catch{return!0}}function wF(t){var e=ba(t,1);e!==null&&Yo(e,t,1,-1)}function G3(t){var e=fs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:t},e.queue=t,t=t.dispatch=yG.bind(null,Tn,t),[e.memoizedState,t]}function mp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bF(){return Eo().memoizedState}function Rg(t,e,n,r){var i=fs();Tn.flags|=t,i.memoizedState=mp(1|e,n,void 0,r===void 0?null:r)}function Gv(t,e,n,r){var i=Eo();r=r===void 0?null:r;var o=void 0;if(nr!==null){var s=nr.memoizedState;if(o=s.destroy,r!==null&&gS(r,s.deps)){i.memoizedState=mp(e,n,o,r);return}}Tn.flags|=t,i.memoizedState=mp(1|e,n,o,r)}function W3(t,e){return Rg(8390656,8,t,e)}function wS(t,e){return Gv(2048,8,t,e)}function xF(t,e){return Gv(4,2,t,e)}function EF(t,e){return Gv(4,4,t,e)}function AF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _F(t,e,n){return n=n!=null?n.concat([t]):null,Gv(4,4,AF.bind(null,e,t),n)}function bS(){}function SF(t,e){var n=Eo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function CF(t,e){var n=Eo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function TF(t,e,n){return Lc&21?(es(n,e)||(n=Nk(),Tn.lanes|=n,Dc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gi=!0),t.memoizedState=n)}function mG(t,e){var n=ln;ln=n!==0&&4>n?n:4,t(!0);var r=H1.transition;H1.transition={};try{t(!1),e()}finally{ln=n,H1.transition=r}}function MF(){return Eo().memoizedState}function gG(t,e,n){var r=yl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IF(t))RF(e,n);else if(n=uF(t,e,n,r),n!==null){var i=ni();Yo(n,t,r,i),PF(n,e,r)}}function yG(t,e,n){var r=yl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IF(t))RF(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,es(a,s)){var l=e.interleaved;l===null?(i.next=i,dS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=uF(t,e,i,r),n!==null&&(i=ni(),Yo(n,t,r,i),PF(n,e,r))}}function IF(t){var e=t.alternate;return t===Tn||e!==null&&e===Tn}function RF(t,e){Oh=My=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function PF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Y_(t,n)}}var Iy={readContext:xo,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},vG={readContext:xo,useCallback:function(t,e){return fs().memoizedState=[t,e===void 0?null:e],t},useContext:xo,useEffect:W3,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rg(4194308,4,AF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rg(4,2,t,e)},useMemo:function(t,e){var n=fs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gG.bind(null,Tn,t),[r.memoizedState,t]},useRef:function(t){var e=fs();return t={current:t},e.memoizedState=t},useState:G3,useDebugValue:bS,useDeferredValue:function(t){return fs().memoizedState=t},useTransition:function(){var t=G3(!1),e=t[0];return t=mG.bind(null,t[1]),fs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tn,i=fs();if(An){if(n===void 0)throw Error(We(407));n=n()}else{if(n=e(),yr===null)throw Error(We(349));Lc&30||mF(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,W3(yF.bind(null,r,o,t),[t]),r.flags|=2048,mp(9,gF.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=fs(),e=yr.identifierPrefix;if(An){var n=sa,r=oa;n=(r&~(1<<32-Xo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=hp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pG++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wG={readContext:xo,useCallback:SF,useContext:xo,useEffect:wS,useImperativeHandle:_F,useInsertionEffect:xF,useLayoutEffect:EF,useMemo:CF,useReducer:G1,useRef:bF,useState:function(){return G1(pp)},useDebugValue:bS,useDeferredValue:function(t){var e=Eo();return TF(e,nr.memoizedState,t)},useTransition:function(){var t=G1(pp)[0],e=Eo().memoizedState;return[t,e]},useMutableSource:hF,useSyncExternalStore:pF,useId:MF,unstable_isNewReconciler:!1},bG={readContext:xo,useCallback:SF,useContext:xo,useEffect:wS,useImperativeHandle:_F,useInsertionEffect:xF,useLayoutEffect:EF,useMemo:CF,useReducer:W1,useRef:bF,useState:function(){return W1(pp)},useDebugValue:bS,useDeferredValue:function(t){var e=Eo();return nr===null?e.memoizedState=t:TF(e,nr.memoizedState,t)},useTransition:function(){var t=W1(pp)[0],e=Eo().memoizedState;return[t,e]},useMutableSource:hF,useSyncExternalStore:pF,useId:MF,unstable_isNewReconciler:!1};function Bo(t,e){if(t&&t.defaultProps){e=Mn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function BE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wv={isMounted:function(t){return(t=t._reactInternals)?lu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ni(),i=yl(t),o=da(r,i);o.payload=e,n!=null&&(o.callback=n),e=ml(t,o,i),e!==null&&(Yo(e,t,i,r),Mg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ni(),i=yl(t),o=da(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ml(t,o,i),e!==null&&(Yo(e,t,i,r),Mg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ni(),r=yl(t),i=da(n,r);i.tag=2,e!=null&&(i.callback=e),e=ml(t,i,r),e!==null&&(Yo(e,t,r,n),Mg(e,t,r))}};function V3(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ap(n,r)||!ap(i,o):!0}function NF(t,e,n){var r=!1,i=Cl,o=e.contextType;return typeof o=="object"&&o!==null?o=xo(o):(i=xi(e)?Bc:Wr.current,r=e.contextTypes,o=(r=r!=null)?Fd(t,i):Cl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function $3(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wv.enqueueReplaceState(e,e.state,null)}function OE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},fS(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=xo(o):(o=xi(e)?Bc:Wr.current,i.context=Fd(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(BE(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wv.enqueueReplaceState(i,i.state,null),Cy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Dd(t,e){try{var n="",r=e;do n+=Qj(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function V1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function LE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xG=typeof WeakMap=="function"?WeakMap:Map;function kF(t,e,n){n=da(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Py||(Py=!0,qE=r),LE(t,e)},n}function FF(t,e,n){n=da(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){LE(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){LE(t,e),typeof r!="function"&&(gl===null?gl=new Set([this]):gl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function q3(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xG;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BG.bind(null,t,e,n),e.then(t,t))}function Q3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function K3(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=da(-1,1),e.tag=2,ml(n,e,1))),n.lanes|=1),t)}var EG=Ia.ReactCurrentOwner,gi=!1;function $r(t,e,n,r){e.child=t===null?cF(e,null,n,r):Od(e,t.child,n,r)}function X3(t,e,n,r,i){n=n.render;var o=e.ref;return yd(e,i),r=yS(t,e,n,r,o,i),n=vS(),t!==null&&!gi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xa(t,e,i)):(An&&n&&oS(e),e.flags|=1,$r(t,e,r,i),e.child)}function Y3(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!MS(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,BF(t,e,o,r,i)):(t=Fg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ap,n(s,r)&&t.ref===e.ref)return xa(t,e,i)}return e.flags|=1,t=vl(o,r),t.ref=e.ref,t.return=e,e.child=t}function BF(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ap(o,r)&&t.ref===e.ref)if(gi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(gi=!0);else return e.lanes=t.lanes,xa(t,e,i)}return DE(t,e,n,r,i)}function OF(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(od,Ui),Ui|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pn(od,Ui),Ui|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,pn(od,Ui),Ui|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,pn(od,Ui),Ui|=r;return $r(t,e,i,n),e.child}function LF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function DE(t,e,n,r,i){var o=xi(n)?Bc:Wr.current;return o=Fd(e,o),yd(e,i),n=yS(t,e,n,r,o,i),r=vS(),t!==null&&!gi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xa(t,e,i)):(An&&r&&oS(e),e.flags|=1,$r(t,e,n,i),e.child)}function J3(t,e,n,r,i){if(xi(n)){var o=!0;xy(e)}else o=!1;if(yd(e,i),e.stateNode===null)Pg(t,e),NF(e,n,r),OE(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=xo(c):(c=xi(n)?Bc:Wr.current,c=Fd(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&$3(e,s,r,c),tl=!1;var f=e.memoizedState;s.state=f,Cy(e,r,s,i),l=e.memoizedState,a!==r||f!==l||bi.current||tl?(typeof u=="function"&&(BE(e,n,u,r),l=e.memoizedState),(a=tl||V3(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,dF(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Bo(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=xo(l):(l=xi(n)?Bc:Wr.current,l=Fd(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&$3(e,s,r,l),tl=!1,f=e.memoizedState,s.state=f,Cy(e,r,s,i);var p=e.memoizedState;a!==d||f!==p||bi.current||tl?(typeof h=="function"&&(BE(e,n,h,r),p=e.memoizedState),(c=tl||V3(e,n,c,r,f,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return UE(t,e,n,r,o,i)}function UE(t,e,n,r,i,o){LF(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&L3(e,n,!1),xa(t,e,o);r=e.stateNode,EG.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Od(e,t.child,null,o),e.child=Od(e,null,a,o)):$r(t,e,a,o),e.memoizedState=r.state,i&&L3(e,n,!0),e.child}function DF(t){var e=t.stateNode;e.pendingContext?O3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&O3(t,e.context,!1),hS(t,e.containerInfo)}function Z3(t,e,n,r,i){return Bd(),aS(i),e.flags|=256,$r(t,e,n,r),e.child}var zE={dehydrated:null,treeContext:null,retryLane:0};function jE(t){return{baseLanes:t,cachePool:null,transitions:null}}function UF(t,e,n){var r=e.pendingProps,i=_n.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pn(_n,i&1),t===null)return kE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=qv(s,r,0,null),t=Ic(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=jE(n),e.memoizedState=zE,t):xS(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return AG(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=vl(a,o):(o=Ic(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?jE(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=zE,r}return o=t.child,t=o.sibling,r=vl(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xS(t,e){return e=qv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function l0(t,e,n,r){return r!==null&&aS(r),Od(e,t.child,null,n),t=xS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AG(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=V1(Error(We(422))),l0(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=qv({mode:"visible",children:r.children},i,0,null),o=Ic(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Od(e,t.child,null,s),e.child.memoizedState=jE(s),e.memoizedState=zE,o);if(!(e.mode&1))return l0(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(We(419)),r=V1(o,r,void 0),l0(t,e,s,r)}if(a=(s&t.childLanes)!==0,gi||a){if(r=yr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ba(t,i),Yo(r,t,i,-1))}return TS(),r=V1(Error(We(421))),l0(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=OG.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,$i=pl(i.nextSibling),Ki=e,An=!0,Ho=null,t!==null&&(ho[po++]=oa,ho[po++]=sa,ho[po++]=Oc,oa=t.id,sa=t.overflow,Oc=e),e=xS(e,r.children),e.flags|=4096,e)}function eM(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),FE(t.return,e,n)}function $1(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zF(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if($r(t,e,r.children,n),r=_n.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eM(t,n,e);else if(t.tag===19)eM(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pn(_n,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ty(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$1(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ty(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$1(e,!0,n,null,o);break;case"together":$1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Dc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(We(153));if(e.child!==null){for(t=e.child,n=vl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _G(t,e,n){switch(e.tag){case 3:DF(e),Bd();break;case 5:fF(e);break;case 1:xi(e.type)&&xy(e);break;case 4:hS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pn(_y,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pn(_n,_n.current&1),e.flags|=128,null):n&e.child.childLanes?UF(t,e,n):(pn(_n,_n.current&1),t=xa(t,e,n),t!==null?t.sibling:null);pn(_n,_n.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pn(_n,_n.current),r)break;return null;case 22:case 23:return e.lanes=0,OF(t,e,n)}return xa(t,e,n)}var jF,HE,HF,GF;jF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};HE=function(){};HF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,mc(Ms.current);var o=null;switch(n){case"input":i=uE(t,i),r=uE(t,r),o=[];break;case"select":i=Mn({},i,{value:void 0}),r=Mn({},r,{value:void 0}),o=[];break;case"textarea":i=hE(t,i),r=hE(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wy)}mE(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ep.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i?.[c],r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ep.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&vn("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};GF=function(t,e,n,r){n!==r&&(e.flags|=4)};function Kf(t,e){if(!An)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function SG(t,e,n){var r=e.pendingProps;switch(sS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(e),null;case 1:return xi(e.type)&&by(),Nr(e),null;case 3:return r=e.stateNode,Ld(),bn(bi),bn(Wr),mS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(s0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ho!==null&&(XE(Ho),Ho=null))),HE(t,e),Nr(e),null;case 5:pS(e);var i=mc(fp.current);if(n=e.type,t!==null&&e.stateNode!=null)HF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(We(166));return Nr(e),null}if(t=mc(Ms.current),s0(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[bs]=e,r[up]=o,t=(e.mode&1)!==0,n){case"dialog":vn("cancel",r),vn("close",r);break;case"iframe":case"object":case"embed":vn("load",r);break;case"video":case"audio":for(i=0;i<Eh.length;i++)vn(Eh[i],r);break;case"source":vn("error",r);break;case"img":case"image":case"link":vn("error",r),vn("load",r);break;case"details":vn("toggle",r);break;case"input":c3(r,o),vn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},vn("invalid",r);break;case"textarea":d3(r,o),vn("invalid",r)}mE(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&o0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&o0(r.textContent,a,t),i=["children",""+a]):ep.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&vn("scroll",r)}switch(n){case"input":Ym(r),u3(r,o,!0);break;case"textarea":Ym(r),f3(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=wy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[bs]=e,t[up]=r,jF(t,e,!1,!1),e.stateNode=t;e:{switch(s=gE(n,r),n){case"dialog":vn("cancel",t),vn("close",t),i=r;break;case"iframe":case"object":case"embed":vn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Eh.length;i++)vn(Eh[i],t);i=r;break;case"source":vn("error",t),i=r;break;case"img":case"image":case"link":vn("error",t),vn("load",t),i=r;break;case"details":vn("toggle",t),i=r;break;case"input":c3(t,r),i=uE(t,r),vn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Mn({},r,{value:void 0}),vn("invalid",t);break;case"textarea":d3(t,r),i=hE(t,r),vn("invalid",t);break;default:i=r}mE(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?bk(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vk(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&tp(t,l):typeof l=="number"&&tp(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ep.hasOwnProperty(o)?l!=null&&o==="onScroll"&&vn("scroll",t):l!=null&&V_(t,o,l,s))}switch(n){case"input":Ym(t),u3(t,r,!1);break;case"textarea":Ym(t),f3(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Sl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?hd(t,!!r.multiple,o,!1):r.defaultValue!=null&&hd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nr(e),null;case 6:if(t&&e.stateNode!=null)GF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(We(166));if(n=mc(fp.current),mc(Ms.current),s0(e)){if(r=e.stateNode,n=e.memoizedProps,r[bs]=e,(o=r.nodeValue!==n)&&(t=Ki,t!==null))switch(t.tag){case 3:o0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&o0(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bs]=e,e.stateNode=r}return Nr(e),null;case 13:if(bn(_n),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(An&&$i!==null&&e.mode&1&&!(e.flags&128))aF(),Bd(),e.flags|=98560,o=!1;else if(o=s0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(We(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(We(317));o[bs]=e}else Bd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nr(e),o=!1}else Ho!==null&&(XE(Ho),Ho=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_n.current&1?ir===0&&(ir=3):TS())),e.updateQueue!==null&&(e.flags|=4),Nr(e),null);case 4:return Ld(),HE(t,e),t===null&&lp(e.stateNode.containerInfo),Nr(e),null;case 10:return uS(e.type._context),Nr(e),null;case 17:return xi(e.type)&&by(),Nr(e),null;case 19:if(bn(_n),o=e.memoizedState,o===null)return Nr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Kf(o,!1);else{if(ir!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ty(t),s!==null){for(e.flags|=128,Kf(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pn(_n,_n.current&1|2),e.child}t=t.sibling}o.tail!==null&&jn()>Ud&&(e.flags|=128,r=!0,Kf(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ty(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!An)return Nr(e),null}else 2*jn()-o.renderingStartTime>Ud&&n!==1073741824&&(e.flags|=128,r=!0,Kf(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=jn(),e.sibling=null,n=_n.current,pn(_n,r?n&1|2:n&1),e):(Nr(e),null);case 22:case 23:return CS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ui&1073741824&&(Nr(e),e.subtreeFlags&6&&(e.flags|=8192)):Nr(e),null;case 24:return null;case 25:return null}throw Error(We(156,e.tag))}function CG(t,e){switch(sS(e),e.tag){case 1:return xi(e.type)&&by(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ld(),bn(bi),bn(Wr),mS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pS(e),null;case 13:if(bn(_n),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(We(340));Bd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return bn(_n),null;case 4:return Ld(),null;case 10:return uS(e.type._context),null;case 22:case 23:return CS(),null;case 24:return null;default:return null}}var c0=!1,Lr=!1,TG=typeof WeakSet=="function"?WeakSet:Set,wt=null;function id(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nn(t,e,r)}else n.current=null}function GE(t,e,n){try{n()}catch(r){Nn(t,e,r)}}var tM=!1;function MG(t,e){if(CE=gy,t=Qk(),iS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(TE={focusedElem:t,selectionRange:n},gy=!1,wt=e;wt!==null;)if(e=wt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,wt=t;else for(;wt!==null;){e=wt;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Bo(e.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(x){Nn(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,wt=t;break}wt=e.return}return p=tM,tM=!1,p}function Lh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&GE(e,n,o)}i=i.next}while(i!==r)}}function Vv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function WE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function WF(t){var e=t.alternate;e!==null&&(t.alternate=null,WF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bs],delete e[up],delete e[RE],delete e[uG],delete e[dG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VF(t){return t.tag===5||t.tag===3||t.tag===4}function nM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function VE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wy));else if(r!==4&&(t=t.child,t!==null))for(VE(t,e,n),t=t.sibling;t!==null;)VE(t,e,n),t=t.sibling}function $E(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($E(t,e,n),t=t.sibling;t!==null;)$E(t,e,n),t=t.sibling}var Er=null,zo=!1;function Oa(t,e,n){for(n=n.child;n!==null;)$F(t,e,n),n=n.sibling}function $F(t,e,n){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(Lv,n)}catch{}switch(n.tag){case 5:Lr||id(n,e);case 6:var r=Er,i=zo;Er=null,Oa(t,e,n),Er=r,zo=i,Er!==null&&(zo?(t=Er,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Er.removeChild(n.stateNode));break;case 18:Er!==null&&(zo?(t=Er,n=n.stateNode,t.nodeType===8?U1(t.parentNode,n):t.nodeType===1&&U1(t,n),op(t)):U1(Er,n.stateNode));break;case 4:r=Er,i=zo,Er=n.stateNode.containerInfo,zo=!0,Oa(t,e,n),Er=r,zo=i;break;case 0:case 11:case 14:case 15:if(!Lr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&GE(n,e,s),i=i.next}while(i!==r)}Oa(t,e,n);break;case 1:if(!Lr&&(id(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Nn(n,e,a)}Oa(t,e,n);break;case 21:Oa(t,e,n);break;case 22:n.mode&1?(Lr=(r=Lr)||n.memoizedState!==null,Oa(t,e,n),Lr=r):Oa(t,e,n);break;default:Oa(t,e,n)}}function rM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TG),e.forEach(function(r){var i=LG.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Po(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Er=a.stateNode,zo=!1;break e;case 3:Er=a.stateNode.containerInfo,zo=!0;break e;case 4:Er=a.stateNode.containerInfo,zo=!0;break e}a=a.return}if(Er===null)throw Error(We(160));$F(o,s,i),Er=null,zo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Nn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qF(e,t),e=e.sibling}function qF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Po(e,t),as(t),r&4){try{Lh(3,t,t.return),Vv(3,t)}catch(m){Nn(t,t.return,m)}try{Lh(5,t,t.return)}catch(m){Nn(t,t.return,m)}}break;case 1:Po(e,t),as(t),r&512&&n!==null&&id(n,n.return);break;case 5:if(Po(e,t),as(t),r&512&&n!==null&&id(n,n.return),t.flags&32){var i=t.stateNode;try{tp(i,"")}catch(m){Nn(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&mk(i,o),gE(a,s);var c=gE(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?bk(i,d):u==="dangerouslySetInnerHTML"?vk(i,d):u==="children"?tp(i,d):V_(i,u,d,c)}switch(a){case"input":dE(i,o);break;case"textarea":gk(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?hd(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?hd(i,!!o.multiple,o.defaultValue,!0):hd(i,!!o.multiple,o.multiple?[]:"",!1))}i[up]=o}catch(m){Nn(t,t.return,m)}}break;case 6:if(Po(e,t),as(t),r&4){if(t.stateNode===null)throw Error(We(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){Nn(t,t.return,m)}}break;case 3:if(Po(e,t),as(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{op(e.containerInfo)}catch(m){Nn(t,t.return,m)}break;case 4:Po(e,t),as(t);break;case 13:Po(e,t),as(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(_S=jn())),r&4&&rM(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Lr=(c=Lr)||u,Po(e,t),Lr=c):Po(e,t),as(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(wt=t,u=t.child;u!==null;){for(d=wt=u;wt!==null;){switch(f=wt,h=f.child,f.tag){case 0:case 11:case 14:case 15:Lh(4,f,f.return);break;case 1:id(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Nn(r,n,m)}}break;case 5:id(f,f.return);break;case 22:if(f.memoizedState!==null){oM(d);continue}}h!==null?(h.return=f,wt=h):oM(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wk("display",s))}catch(m){Nn(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Nn(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Po(e,t),as(t),r&4&&rM(t);break;case 21:break;default:Po(e,t),as(t)}}function as(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(VF(n)){var r=n;break e}n=n.return}throw Error(We(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(tp(i,""),r.flags&=-33);var o=nM(t);$E(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=nM(t);VE(t,a,s);break;default:throw Error(We(161))}}catch(l){Nn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IG(t,e,n){wt=t,QF(t)}function QF(t,e,n){for(var r=(t.mode&1)!==0;wt!==null;){var i=wt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||c0;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Lr;a=c0;var c=Lr;if(c0=s,(Lr=l)&&!c)for(wt=i;wt!==null;)s=wt,l=s.child,s.tag===22&&s.memoizedState!==null?sM(i):l!==null?(l.return=s,wt=l):sM(i);for(;o!==null;)wt=o,QF(o),o=o.sibling;wt=i,c0=a,Lr=c}iM(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,wt=o):iM(t)}}function iM(t){for(;wt!==null;){var e=wt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lr||Vv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&H3(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}H3(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&op(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}Lr||e.flags&512&&WE(e)}catch(f){Nn(e,e.return,f)}}if(e===t){wt=null;break}if(n=e.sibling,n!==null){n.return=e.return,wt=n;break}wt=e.return}}function oM(t){for(;wt!==null;){var e=wt;if(e===t){wt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,wt=n;break}wt=e.return}}function sM(t){for(;wt!==null;){var e=wt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vv(4,e)}catch(l){Nn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Nn(e,i,l)}}var o=e.return;try{WE(e)}catch(l){Nn(e,o,l)}break;case 5:var s=e.return;try{WE(e)}catch(l){Nn(e,s,l)}}}catch(l){Nn(e,e.return,l)}if(e===t){wt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,wt=a;break}wt=e.return}}var RG=Math.ceil,Ry=Ia.ReactCurrentDispatcher,ES=Ia.ReactCurrentOwner,bo=Ia.ReactCurrentBatchConfig,Kt=0,yr=null,Qn=null,Mr=0,Ui=0,od=Bl(0),ir=0,gp=null,Dc=0,$v=0,AS=0,Dh=null,hi=null,_S=0,Ud=1/0,Qs=null,Py=!1,qE=null,gl=null,u0=!1,al=null,Ny=0,Uh=0,QE=null,Ng=-1,kg=0;function ni(){return Kt&6?jn():Ng!==-1?Ng:Ng=jn()}function yl(t){return t.mode&1?Kt&2&&Mr!==0?Mr&-Mr:hG.transition!==null?(kg===0&&(kg=Nk()),kg):(t=ln,t!==0||(t=window.event,t=t===void 0?16:Uk(t.type)),t):1}function Yo(t,e,n,r){if(50<Uh)throw Uh=0,QE=null,Error(We(185));um(t,n,r),(!(Kt&2)||t!==yr)&&(t===yr&&(!(Kt&2)&&($v|=n),ir===4&&il(t,Mr)),Ei(t,r),n===1&&Kt===0&&!(e.mode&1)&&(Ud=jn()+500,Hv&&Ol()))}function Ei(t,e){var n=t.callbackNode;hH(t,e);var r=my(t,t===yr?Mr:0);if(r===0)n!==null&&m3(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&m3(n),e===1)t.tag===0?fG(aM.bind(null,t)):iF(aM.bind(null,t)),lG(function(){!(Kt&6)&&Ol()}),n=null;else{switch(kk(r)){case 1:n=X_;break;case 4:n=Rk;break;case 16:n=py;break;case 536870912:n=Pk;break;default:n=py}n=n4(n,KF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function KF(t,e){if(Ng=-1,kg=0,Kt&6)throw Error(We(327));var n=t.callbackNode;if(vd()&&t.callbackNode!==n)return null;var r=my(t,t===yr?Mr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ky(t,r);else{e=r;var i=Kt;Kt|=2;var o=YF();(yr!==t||Mr!==e)&&(Qs=null,Ud=jn()+500,Mc(t,e));do try{kG();break}catch(a){XF(t,a)}while(!0);cS(),Ry.current=o,Kt=i,Qn!==null?e=0:(yr=null,Mr=0,e=ir)}if(e!==0){if(e===2&&(i=xE(t),i!==0&&(r=i,e=KE(t,i))),e===1)throw n=gp,Mc(t,0),il(t,r),Ei(t,jn()),n;if(e===6)il(t,r);else{if(i=t.current.alternate,!(r&30)&&!PG(i)&&(e=ky(t,r),e===2&&(o=xE(t),o!==0&&(r=o,e=KE(t,o))),e===1))throw n=gp,Mc(t,0),il(t,r),Ei(t,jn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(We(345));case 2:Zl(t,hi,Qs);break;case 3:if(il(t,r),(r&130023424)===r&&(e=_S+500-jn(),10<e)){if(my(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ni(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=IE(Zl.bind(null,t,hi,Qs),e);break}Zl(t,hi,Qs);break;case 4:if(il(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Xo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=jn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RG(r/1960))-r,10<r){t.timeoutHandle=IE(Zl.bind(null,t,hi,Qs),r);break}Zl(t,hi,Qs);break;case 5:Zl(t,hi,Qs);break;default:throw Error(We(329))}}}return Ei(t,jn()),t.callbackNode===n?KF.bind(null,t):null}function KE(t,e){var n=Dh;return t.current.memoizedState.isDehydrated&&(Mc(t,e).flags|=256),t=ky(t,e),t!==2&&(e=hi,hi=n,e!==null&&XE(e)),t}function XE(t){hi===null?hi=t:hi.push.apply(hi,t)}function PG(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!es(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function il(t,e){for(e&=~AS,e&=~$v,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xo(e),r=1<<n;t[n]=-1,e&=~r}}function aM(t){if(Kt&6)throw Error(We(327));vd();var e=my(t,0);if(!(e&1))return Ei(t,jn()),null;var n=ky(t,e);if(t.tag!==0&&n===2){var r=xE(t);r!==0&&(e=r,n=KE(t,r))}if(n===1)throw n=gp,Mc(t,0),il(t,e),Ei(t,jn()),n;if(n===6)throw Error(We(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zl(t,hi,Qs),Ei(t,jn()),null}function SS(t,e){var n=Kt;Kt|=1;try{return t(e)}finally{Kt=n,Kt===0&&(Ud=jn()+500,Hv&&Ol())}}function Uc(t){al!==null&&al.tag===0&&!(Kt&6)&&vd();var e=Kt;Kt|=1;var n=bo.transition,r=ln;try{if(bo.transition=null,ln=1,t)return t()}finally{ln=r,bo.transition=n,Kt=e,!(Kt&6)&&Ol()}}function CS(){Ui=od.current,bn(od)}function Mc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aG(n)),Qn!==null)for(n=Qn.return;n!==null;){var r=n;switch(sS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&by();break;case 3:Ld(),bn(bi),bn(Wr),mS();break;case 5:pS(r);break;case 4:Ld();break;case 13:bn(_n);break;case 19:bn(_n);break;case 10:uS(r.type._context);break;case 22:case 23:CS()}n=n.return}if(yr=t,Qn=t=vl(t.current,null),Mr=Ui=e,ir=0,gp=null,AS=$v=Dc=0,hi=Dh=null,pc!==null){for(e=0;e<pc.length;e++)if(n=pc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}pc=null}return t}function XF(t,e){do{var n=Qn;try{if(cS(),Ig.current=Iy,My){for(var r=Tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}My=!1}if(Lc=0,fr=nr=Tn=null,Oh=!1,hp=0,ES.current=null,n===null||n.return===null){ir=1,gp=e,Qn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Mr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Q3(s);if(h!==null){h.flags&=-257,K3(h,s,a,o,e),h.mode&1&&q3(o,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){q3(o,c,e),TS();break e}l=Error(We(426))}}else if(An&&a.mode&1){var y=Q3(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),K3(y,s,a,o,e),aS(Dd(l,a));break e}}o=l=Dd(l,a),ir!==4&&(ir=2),Dh===null?Dh=[o]:Dh.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=kF(o,l,e);j3(o,g);break e;case 1:a=l;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(gl===null||!gl.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=FF(o,a,e);j3(o,x);break e}}o=o.return}while(o!==null)}ZF(n)}catch(P){e=P,Qn===n&&n!==null&&(Qn=n=n.return);continue}break}while(!0)}function YF(){var t=Ry.current;return Ry.current=Iy,t===null?Iy:t}function TS(){(ir===0||ir===3||ir===2)&&(ir=4),yr===null||!(Dc&268435455)&&!($v&268435455)||il(yr,Mr)}function ky(t,e){var n=Kt;Kt|=2;var r=YF();(yr!==t||Mr!==e)&&(Qs=null,Mc(t,e));do try{NG();break}catch(i){XF(t,i)}while(!0);if(cS(),Kt=n,Ry.current=r,Qn!==null)throw Error(We(261));return yr=null,Mr=0,ir}function NG(){for(;Qn!==null;)JF(Qn)}function kG(){for(;Qn!==null&&!iH();)JF(Qn)}function JF(t){var e=t4(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,e===null?ZF(t):Qn=e,ES.current=null}function ZF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=CG(n,e),n!==null){n.flags&=32767,Qn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ir=6,Qn=null;return}}else if(n=SG(n,e,Ui),n!==null){Qn=n;return}if(e=e.sibling,e!==null){Qn=e;return}Qn=e=t}while(e!==null);ir===0&&(ir=5)}function Zl(t,e,n){var r=ln,i=bo.transition;try{bo.transition=null,ln=1,FG(t,e,n,r)}finally{bo.transition=i,ln=r}return null}function FG(t,e,n,r){do vd();while(al!==null);if(Kt&6)throw Error(We(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(We(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(pH(t,o),t===yr&&(Qn=yr=null,Mr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||u0||(u0=!0,n4(py,function(){return vd(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=bo.transition,bo.transition=null;var s=ln;ln=1;var a=Kt;Kt|=4,ES.current=null,MG(t,n),qF(n,t),eG(TE),gy=!!CE,TE=CE=null,t.current=n,IG(n),oH(),Kt=a,ln=s,bo.transition=o}else t.current=n;if(u0&&(u0=!1,al=t,Ny=i),o=t.pendingLanes,o===0&&(gl=null),lH(n.stateNode),Ei(t,jn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Py)throw Py=!1,t=qE,qE=null,t;return Ny&1&&t.tag!==0&&vd(),o=t.pendingLanes,o&1?t===QE?Uh++:(Uh=0,QE=t):Uh=0,Ol(),null}function vd(){if(al!==null){var t=kk(Ny),e=bo.transition,n=ln;try{if(bo.transition=null,ln=16>t?16:t,al===null)var r=!1;else{if(t=al,al=null,Ny=0,Kt&6)throw Error(We(331));var i=Kt;for(Kt|=4,wt=t.current;wt!==null;){var o=wt,s=o.child;if(wt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(wt=c;wt!==null;){var u=wt;switch(u.tag){case 0:case 11:case 15:Lh(8,u,o)}var d=u.child;if(d!==null)d.return=u,wt=d;else for(;wt!==null;){u=wt;var f=u.sibling,h=u.return;if(WF(u),u===c){wt=null;break}if(f!==null){f.return=h,wt=f;break}wt=h}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}wt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,wt=s;else e:for(;wt!==null;){if(o=wt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Lh(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,wt=g;break e}wt=o.return}}var v=t.current;for(wt=v;wt!==null;){s=wt;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,wt=b;else e:for(s=v;wt!==null;){if(a=wt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vv(9,a)}}catch(P){Nn(a,a.return,P)}if(a===s){wt=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,wt=x;break e}wt=a.return}}if(Kt=i,Ol(),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(Lv,t)}catch{}r=!0}return r}finally{ln=n,bo.transition=e}}return!1}function lM(t,e,n){e=Dd(n,e),e=kF(t,e,1),t=ml(t,e,1),e=ni(),t!==null&&(um(t,1,e),Ei(t,e))}function Nn(t,e,n){if(t.tag===3)lM(t,t,n);else for(;e!==null;){if(e.tag===3){lM(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gl===null||!gl.has(r))){t=Dd(n,t),t=FF(e,t,1),e=ml(e,t,1),t=ni(),e!==null&&(um(e,1,t),Ei(e,t));break}}e=e.return}}function BG(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ni(),t.pingedLanes|=t.suspendedLanes&n,yr===t&&(Mr&n)===n&&(ir===4||ir===3&&(Mr&130023424)===Mr&&500>jn()-_S?Mc(t,0):AS|=n),Ei(t,e)}function e4(t,e){e===0&&(t.mode&1?(e=e0,e0<<=1,!(e0&130023424)&&(e0=4194304)):e=1);var n=ni();t=ba(t,e),t!==null&&(um(t,e,n),Ei(t,n))}function OG(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),e4(t,n)}function LG(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(We(314))}r!==null&&r.delete(e),e4(t,n)}var t4;t4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bi.current)gi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gi=!1,_G(t,e,n);gi=!!(t.flags&131072)}else gi=!1,An&&e.flags&1048576&&oF(e,Ay,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pg(t,e),t=e.pendingProps;var i=Fd(e,Wr.current);yd(e,n),i=yS(null,e,r,t,i,n);var o=vS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xi(r)?(o=!0,xy(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fS(e),i.updater=Wv,e.stateNode=i,i._reactInternals=e,OE(e,r,t,n),e=UE(null,e,r,!0,o,n)):(e.tag=0,An&&o&&oS(e),$r(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UG(r),t=Bo(r,t),i){case 0:e=DE(null,e,r,t,n);break e;case 1:e=J3(null,e,r,t,n);break e;case 11:e=X3(null,e,r,t,n);break e;case 14:e=Y3(null,e,r,Bo(r.type,t),n);break e}throw Error(We(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bo(r,i),DE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bo(r,i),J3(t,e,r,i,n);case 3:e:{if(DF(e),t===null)throw Error(We(387));r=e.pendingProps,o=e.memoizedState,i=o.element,dF(t,e),Cy(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Dd(Error(We(423)),e),e=Z3(t,e,r,n,i);break e}else if(r!==i){i=Dd(Error(We(424)),e),e=Z3(t,e,r,n,i);break e}else for($i=pl(e.stateNode.containerInfo.firstChild),Ki=e,An=!0,Ho=null,n=cF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bd(),r===i){e=xa(t,e,n);break e}$r(t,e,r,n)}e=e.child}return e;case 5:return fF(e),t===null&&kE(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,ME(r,i)?s=null:o!==null&&ME(r,o)&&(e.flags|=32),LF(t,e),$r(t,e,s,n),e.child;case 6:return t===null&&kE(e),null;case 13:return UF(t,e,n);case 4:return hS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Od(e,null,r,n):$r(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bo(r,i),X3(t,e,r,i,n);case 7:return $r(t,e,e.pendingProps,n),e.child;case 8:return $r(t,e,e.pendingProps.children,n),e.child;case 12:return $r(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,pn(_y,r._currentValue),r._currentValue=s,o!==null)if(es(o.value,s)){if(o.children===i.children&&!bi.current){e=xa(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=da(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),FE(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(We(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),FE(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}$r(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yd(e,n),i=xo(i),r=r(i),e.flags|=1,$r(t,e,r,n),e.child;case 14:return r=e.type,i=Bo(r,e.pendingProps),i=Bo(r.type,i),Y3(t,e,r,i,n);case 15:return BF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bo(r,i),Pg(t,e),e.tag=1,xi(r)?(t=!0,xy(e)):t=!1,yd(e,n),NF(e,r,i),OE(e,r,i,n),UE(null,e,r,!0,t,n);case 19:return zF(t,e,n);case 22:return OF(t,e,n)}throw Error(We(156,e.tag))};function n4(t,e){return Ik(t,e)}function DG(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wo(t,e,n,r){return new DG(t,e,n,r)}function MS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UG(t){if(typeof t=="function")return MS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===q_)return 11;if(t===Q_)return 14}return 2}function vl(t,e){var n=t.alternate;return n===null?(n=wo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fg(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")MS(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ku:return Ic(n.children,i,o,e);case $_:s=8,i|=8;break;case sE:return t=wo(12,n,e,i|2),t.elementType=sE,t.lanes=o,t;case aE:return t=wo(13,n,e,i),t.elementType=aE,t.lanes=o,t;case lE:return t=wo(19,n,e,i),t.elementType=lE,t.lanes=o,t;case fk:return qv(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uk:s=10;break e;case dk:s=9;break e;case q_:s=11;break e;case Q_:s=14;break e;case el:s=16,r=null;break e}throw Error(We(130,t==null?t:typeof t,""))}return e=wo(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ic(t,e,n,r){return t=wo(7,t,r,e),t.lanes=n,t}function qv(t,e,n,r){return t=wo(22,t,r,e),t.elementType=fk,t.lanes=n,t.stateNode={isHidden:!1},t}function q1(t,e,n){return t=wo(6,t,null,e),t.lanes=n,t}function Q1(t,e,n){return e=wo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zG(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=M1(0),this.expirationTimes=M1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function IS(t,e,n,r,i,o,s,a,l){return t=new zG(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=wo(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fS(o),t}function jG(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function r4(t){if(!t)return Cl;t=t._reactInternals;e:{if(lu(t)!==t||t.tag!==1)throw Error(We(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(We(171))}if(t.tag===1){var n=t.type;if(xi(n))return rF(t,n,e)}return e}function i4(t,e,n,r,i,o,s,a,l){return t=IS(n,r,!0,t,i,o,s,a,l),t.context=r4(null),n=t.current,r=ni(),i=yl(n),o=da(r,i),o.callback=e??null,ml(n,o,i),t.current.lanes=i,um(t,i,r),Ei(t,r),t}function Qv(t,e,n,r){var i=e.current,o=ni(),s=yl(i);return n=r4(n),e.context===null?e.context=n:e.pendingContext=n,e=da(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ml(i,e,s),t!==null&&(Yo(t,i,s,o),Mg(t,i,s)),s}function Fy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function RS(t,e){cM(t,e),(t=t.alternate)&&cM(t,e)}function HG(){return null}var o4=typeof reportError=="function"?reportError:function(t){console.error(t)};function PS(t){this._internalRoot=t}Kv.prototype.render=PS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(We(409));Qv(t,e,null,null)};Kv.prototype.unmount=PS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Uc(function(){Qv(null,t,null,null)}),e[wa]=null}};function Kv(t){this._internalRoot=t}Kv.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ok();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rl.length&&e!==0&&e<rl[n].priority;n++);rl.splice(n,0,t),n===0&&Dk(t)}};function NS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uM(){}function GG(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Fy(s);o.call(c)}}var s=i4(e,r,t,0,null,!1,!1,"",uM);return t._reactRootContainer=s,t[wa]=s.current,lp(t.nodeType===8?t.parentNode:t),Uc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Fy(l);a.call(c)}}var l=IS(t,0,!1,null,null,!1,!1,"",uM);return t._reactRootContainer=l,t[wa]=l.current,lp(t.nodeType===8?t.parentNode:t),Uc(function(){Qv(e,l,n,r)}),l}function Yv(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Fy(s);a.call(l)}}Qv(e,s,t,i)}else s=GG(n,e,t,i,r);return Fy(s)}Fk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xh(e.pendingLanes);n!==0&&(Y_(e,n|1),Ei(e,jn()),!(Kt&6)&&(Ud=jn()+500,Ol()))}break;case 13:Uc(function(){var r=ba(t,1);if(r!==null){var i=ni();Yo(r,t,1,i)}}),RS(t,1)}};J_=function(t){if(t.tag===13){var e=ba(t,134217728);if(e!==null){var n=ni();Yo(e,t,134217728,n)}RS(t,134217728)}};Bk=function(t){if(t.tag===13){var e=yl(t),n=ba(t,e);if(n!==null){var r=ni();Yo(n,t,e,r)}RS(t,e)}};Ok=function(){return ln};Lk=function(t,e){var n=ln;try{return ln=t,e()}finally{ln=n}};vE=function(t,e,n){switch(e){case"input":if(dE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jv(r);if(!i)throw Error(We(90));pk(r),dE(r,i)}}}break;case"textarea":gk(t,n);break;case"select":e=n.value,e!=null&&hd(t,!!n.multiple,e,!1)}};Ak=SS;_k=Uc;var WG={usingClientEntryPoint:!1,Events:[fm,Zu,jv,xk,Ek,SS]},Xf={findFiberByHostInstance:hc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VG={bundleType:Xf.bundleType,version:Xf.version,rendererPackageName:Xf.rendererPackageName,rendererConfig:Xf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ia.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Tk(t),t===null?null:t.stateNode},findFiberByHostInstance:Xf.findFiberByHostInstance||HG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d0.isDisabled&&d0.supportsFiber)try{Lv=d0.inject(VG),Ts=d0}catch{}}Ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WG;Ji.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!NS(e))throw Error(We(200));return jG(t,e,null,n)};Ji.createRoot=function(t,e){if(!NS(t))throw Error(We(299));var n=!1,r="",i=o4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=IS(t,1,!1,null,null,n,!1,r,i),t[wa]=e.current,lp(t.nodeType===8?t.parentNode:t),new PS(e)};Ji.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(We(188)):(t=Object.keys(t).join(","),Error(We(268,t)));return t=Tk(e),t=t===null?null:t.stateNode,t};Ji.flushSync=function(t){return Uc(t)};Ji.hydrate=function(t,e,n){if(!Xv(e))throw Error(We(200));return Yv(null,t,e,!0,n)};Ji.hydrateRoot=function(t,e,n){if(!NS(t))throw Error(We(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=o4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=i4(e,null,t,1,n??null,i,!1,o,s),t[wa]=e.current,lp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Kv(e)};Ji.render=function(t,e,n){if(!Xv(e))throw Error(We(200));return Yv(null,t,e,!1,n)};Ji.unmountComponentAtNode=function(t){if(!Xv(t))throw Error(We(40));return t._reactRootContainer?(Uc(function(){Yv(null,null,t,!1,function(){t._reactRootContainer=null,t[wa]=null})}),!0):!1};Ji.unstable_batchedUpdates=SS;Ji.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xv(n))throw Error(We(200));if(t==null||t._reactInternals===void 0)throw Error(We(38));return Yv(t,e,n,!1,r)};Ji.version="18.3.1-next-f1338f8080-20240426";function s4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s4)}catch(t){console.error(t)}}s4(),sk.exports=Ji;var Jv=sk.exports;const a4=sm(Jv),$G=_N({__proto__:null,default:a4},[Jv]);var dM=Jv;iE.createRoot=dM.createRoot,iE.hydrateRoot=dM.hydrateRoot;const l4="2.31.2";let K1={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${l4}`},Fe=class YE extends Error{constructor(e,n={}){const r=n.cause instanceof YE?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof YE&&n.cause.docsPath||n.docsPath,o=K1.getDocsUrl?.({...n,docsPath:i}),s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...K1.version?[`Version: ${K1.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=l4}walk(e){return c4(this,e)}};function c4(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?c4(t.cause,e):e?null:t}let u4=class extends Fe{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class qG extends Fe{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class QG extends Fe{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let KG=class extends Fe{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}},d4=class extends Fe{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},f4=class extends Fe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class fM extends Fe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function vf(t,{dir:e,size:n=32}={}){return typeof t=="string"?wl(t,{dir:e,size:n}):XG(t,{dir:e,size:n})}function wl(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new f4({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function XG(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new f4({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const o=e==="right";r[o?i:n-i-1]=t[o?i:t.length-i-1]}return r}function Ps(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Cn(t){return Ps(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Ai(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const YG=new TextEncoder;function wf(t,e={}){return typeof t=="number"||typeof t=="bigint"?ZG(t,e):typeof t=="boolean"?JG(t,e):Ps(t)?Ao(t,e):Rc(t,e)}function JG(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Mo(n,{size:e.size}),vf(n,{size:e.size})):n}const Ds={zero:48,nine:57,A:65,F:70,a:97,f:102};function hM(t){if(t>=Ds.zero&&t<=Ds.nine)return t-Ds.zero;if(t>=Ds.A&&t<=Ds.F)return t-(Ds.A-10);if(t>=Ds.a&&t<=Ds.f)return t-(Ds.a-10)}function Ao(t,e={}){let n=t;e.size&&(Mo(n,{size:e.size}),n=vf(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,o=new Uint8Array(i);for(let s=0,a=0;s<i;s++){const l=hM(r.charCodeAt(a++)),c=hM(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new Fe(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[s]=l*16+c}return o}function ZG(t,e){const n=je(t,e);return Ao(n)}function Rc(t,e={}){const n=YG.encode(t);return typeof e.size=="number"?(Mo(n,{size:e.size}),vf(n,{dir:"right",size:e.size})):n}function Mo(t,{size:e}){if(Cn(t)>e)throw new KG({givenSize:Cn(t),maxSize:e})}function pr(t,e={}){const{signed:n}=e;e.size&&Mo(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function eW(t,e={}){let n=t;if(e.size&&(Mo(n,{size:e.size}),n=Ai(n)),Ai(n)==="0x00")return!1;if(Ai(n)==="0x01")return!0;throw new QG(n)}function _o(t,e={}){return Number(pr(t,e))}function tW(t,e={}){let n=Ao(t);return e.size&&(Mo(n,{size:e.size}),n=Ai(n,{dir:"right"})),new TextDecoder().decode(n)}const nW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jr(t,e={}){return typeof t=="number"||typeof t=="bigint"?je(t,e):typeof t=="string"?zd(t,e):typeof t=="boolean"?h4(t,e):Yn(t,e)}function h4(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Mo(n,{size:e.size}),vf(n,{size:e.size})):n}function Yn(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=nW[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Mo(r,{size:e.size}),vf(r,{dir:"right",size:e.size})):r}function je(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const l=typeof t=="bigint"?"n":"";throw new u4({max:o?`${o}${l}`:void 0,min:`${s}${l}`,signed:n,size:r,value:`${t}${l}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?vf(a,{size:r}):a}const rW=new TextEncoder;function zd(t,e={}){const n=rW.encode(t);return Yn(n,e)}async function iW(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:o,blockExplorers:s}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:je(n),chainName:r,nativeCurrency:i,rpcUrls:o.default.http,blockExplorerUrls:s?Object.values(s).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function ts(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new yW(t.type);return`${t.name}(${Zv(t.inputs,{includeName:e})})`}function Zv(t,{includeName:e=!1}={}){return t?t.map(n=>oW(n,{includeName:e})).join(e?", ":","):""}function oW(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Zv(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class sW extends Fe{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class pM extends Fe{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class p4 extends Fe{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Zv(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class pm extends Fe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class aW extends Fe{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class lW extends Fe{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Cn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class cW extends Fe{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class uW extends Fe{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class mM extends Fe{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class m4 extends Fe{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class dW extends Fe{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class g4 extends Fe{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class gM extends Fe{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class jd extends Fe{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class y4 extends Fe{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class fW extends Fe{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class hW extends Fe{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${ts(e.abiItem)}\`, and`,`\`${n.type}\` in \`${ts(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let pW=class extends Fe{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class yp extends Fe{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Zv(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class ew extends Fe{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ts(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class mW extends Fe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class gW extends Fe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let v4=class extends Fe{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class yW extends Fe{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function Ns(t){return typeof t[0]=="string"?rs(t):vW(t)}function vW(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function rs(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}let oi=class extends Fe{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},tw=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const f0=BigInt(2**32-1),yM=BigInt(32);function wW(t,e=!1){return e?{h:Number(t&f0),l:Number(t>>yM&f0)}:{h:Number(t>>yM&f0)|0,l:Number(t&f0)|0}}function bW(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=wW(t[o],e);[r[o],i[o]]=[s,a]}return[r,i]}const xW=(t,e,n)=>t<<n|e>>>32-n,EW=(t,e,n)=>e<<n|t>>>32-n,AW=(t,e,n)=>e<<n-32|t>>>64-n,_W=(t,e,n)=>t<<n-32|e>>>64-n,_u=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function kS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function vp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ns(t,...e){if(!kS(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function SW(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");vp(t.outputLen),vp(t.blockLen)}function Hd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function w4(t,e){ns(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function CW(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Gd(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function X1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ls(t,e){return t<<32-e|t>>>e}const TW=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function MW(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function IW(t){for(let e=0;e<t.length;e++)t[e]=MW(t[e]);return t}const vM=TW?t=>t:IW,b4=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",RW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wp(t){if(ns(t),b4)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=RW[t[n]];return e}const Us={_0:48,_9:57,A:65,F:70,a:97,f:102};function wM(t){if(t>=Us._0&&t<=Us._9)return t-Us._0;if(t>=Us.A&&t<=Us.F)return t-(Us.A-10);if(t>=Us.a&&t<=Us.f)return t-(Us.a-10)}function FS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(b4)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=wM(t.charCodeAt(o)),a=wM(t.charCodeAt(o+1));if(s===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function PW(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function mm(t){return typeof t=="string"&&(t=PW(t)),ns(t),t}function gc(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];ns(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}let BS=class{};function x4(t){const e=r=>t().update(mm(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function NW(t){const e=(r,i)=>t(i).update(mm(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function kW(t=32){if(_u&&typeof _u.getRandomValues=="function")return _u.getRandomValues(new Uint8Array(t));if(_u&&typeof _u.randomBytes=="function")return Uint8Array.from(_u.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const FW=BigInt(0),Yf=BigInt(1),BW=BigInt(2),OW=BigInt(7),LW=BigInt(256),DW=BigInt(113),E4=[],A4=[],_4=[];for(let t=0,e=Yf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],E4.push(2*(5*r+n)),A4.push((t+1)*(t+2)/2%64);let i=FW;for(let o=0;o<7;o++)e=(e<<Yf^(e>>OW)*DW)%LW,e&BW&&(i^=Yf<<(Yf<<BigInt(o))-Yf);_4.push(i)}const S4=bW(_4,!0),UW=S4[0],zW=S4[1],bM=(t,e,n)=>n>32?AW(t,e,n):xW(t,e,n),xM=(t,e,n)=>n>32?_W(t,e,n):EW(t,e,n);function C4(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],u=n[l+1],d=bM(c,u,1)^n[a],f=xM(c,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[s+h]^=d,t[s+h+1]^=f}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=A4[s],l=bM(i,o,a),c=xM(i,o,a),u=E4[s];i=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=UW[r],t[1]^=zW[r]}Gd(n)}let OS=class T4 extends BS{constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,vp(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=CW(this.state)}clone(){return this._cloneInto()}keccak(){vM(this.state32),C4(this.state32,this.rounds),vM(this.state32),this.posOut=0,this.pos=0}update(e){Hd(this),e=mm(e),ns(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Hd(this,!1),ns(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return vp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(w4(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Gd(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new T4(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};const Ll=(t,e,n)=>x4(()=>new OS(e,t,n)),jW=Ll(6,144,224/8),HW=Ll(6,136,256/8),GW=Ll(6,104,384/8),WW=Ll(6,72,512/8),VW=Ll(1,144,224/8),LS=Ll(1,136,256/8),$W=Ll(1,104,384/8),qW=Ll(1,72,512/8),M4=(t,e,n)=>NW((r={})=>new OS(e,t,r.dkLen===void 0?n:r.dkLen,!0)),QW=M4(31,168,128/8),KW=M4(31,136,256/8),Wxe=Object.freeze(Object.defineProperty({__proto__:null,Keccak:OS,keccakP:C4,keccak_224:VW,keccak_256:LS,keccak_384:$W,keccak_512:qW,sha3_224:jW,sha3_256:HW,sha3_384:GW,sha3_512:WW,shake128:QW,shake256:KW},Symbol.toStringTag,{value:"Module"}));function mr(t,e){const n=e||"hex",r=LS(Ps(t,{strict:!1})?wf(t):t);return n==="bytes"?r:jr(r)}const Y1=new tw(8192);function gm(t,e){if(Y1.has(`${t}.${e}`))return Y1.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=mr(Rc(n),"bytes"),i=(e?n.substring(`${e}0x`.length):n).split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(r[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());const o=`0x${i.join("")}`;return Y1.set(`${t}.${e}`,o),o}function Tr(t,e){if(!Jn(t,{strict:!1}))throw new oi({address:t});return gm(t,e)}const XW=/^0x[a-fA-F0-9]{40}$/,J1=new tw(8192);function Jn(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(J1.has(r))return J1.get(r);const i=XW.test(t)?t.toLowerCase()===t?!0:n?gm(t)===t:!0:!1;return J1.set(r,i),i}function zc(t,e,n,{strict:r}={}){return Ps(t,{strict:!1})?By(t,e,n,{strict:r}):P4(t,e,n,{strict:r})}function I4(t,e){if(typeof e=="number"&&e>0&&e>Cn(t)-1)throw new d4({offset:e,position:"start",size:Cn(t)})}function R4(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Cn(t)!==n-e)throw new d4({offset:n,position:"end",size:Cn(t)})}function P4(t,e,n,{strict:r}={}){I4(t,e);const i=t.slice(e,n);return r&&R4(i,e,n),i}function By(t,e,n,{strict:r}={}){I4(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&R4(i,e,n),i}const YW=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,N4=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Dl(t,e){if(t.length!==e.length)throw new cW({expectedLength:t.length,givenLength:e.length});const n=JW({params:t,values:e}),r=US(n);return r.length===0?"0x":r}function JW({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(DS({param:t[r],value:e[r]}));return n}function DS({param:t,value:e}){const n=zS(t.type);if(n){const[r,i]=n;return eV(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return oV(e,{param:t});if(t.type==="address")return ZW(e);if(t.type==="bool")return nV(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=N4.exec(t.type)??[];return rV(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return tV(e,{param:t});if(t.type==="string")return iV(e);throw new mW(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function US(t){let e=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?e+=32:e+=Cn(a)}const n=[],r=[];let i=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?(n.push(je(e+i,{size:32})),r.push(a),i+=Cn(a)):n.push(a)}return Ns([...n,...r])}function ZW(t){if(!Jn(t))throw new oi({address:t});return{dynamic:!1,encoded:wl(t.toLowerCase())}}function eV(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new v4(t);if(!r&&t.length!==e)throw new aW({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const o=[];for(let s=0;s<t.length;s++){const a=DS({param:n,value:t[s]});a.dynamic&&(i=!0),o.push(a)}if(r||i){const s=US(o);if(r){const a=je(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Ns([a,s]):a}}if(i)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:Ns(o.map(({encoded:s})=>s))}}function tV(t,{param:e}){const[,n]=e.type.split("bytes"),r=Cn(t);if(!n){let i=t;return r%32!==0&&(i=wl(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Ns([wl(je(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new lW({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:wl(t,{dir:"right"})}}function nV(t){if(typeof t!="boolean")throw new Fe(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:wl(h4(t))}}function rV(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new u4({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:je(t,{size:32,signed:e})}}function iV(t){const e=zd(t),n=Math.ceil(Cn(e)/32),r=[];for(let i=0;i<n;i++)r.push(wl(zc(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ns([wl(je(Cn(e),{size:32})),...r])}}function oV(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const o=e.components[i],s=Array.isArray(t)?i:o.name,a=DS({param:o,value:t[s]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?US(r):Ns(r.map(({encoded:i})=>i))}}function zS(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Z1="/docs/contract/encodeDeployData";function nw(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(s=>"type"in s&&s.type==="constructor");if(!i)throw new sW({docsPath:Z1});if(!("inputs"in i))throw new pM({docsPath:Z1});if(!i.inputs||i.inputs.length===0)throw new pM({docsPath:Z1});const o=Dl(i.inputs,n);return rs([r,o])}function Dn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class cu extends Fe{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Bg extends Fe{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function sV(t){const e=mr(`0x${t.substring(4)}`).substring(26);return gm(`0x${e}`)}const aV="modulepreload",lV=function(t){return"/"+t},EM={},qe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");i=Promise.allSettled(n.map(l=>{if(l=lV(l),l in EM)return;EM[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":aV,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};async function cV({hash:t,signature:e}){const n=Ps(t)?t:jr(t),{secp256k1:r}=await qe(async()=>{const{secp256k1:s}=await Promise.resolve().then(()=>BX);return{secp256k1:s}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:d,yParity:f}=e,h=Number(f??d),p=AM(h);return new r.Signature(pr(c),pr(u)).addRecoveryBit(p)}const s=Ps(e)?e:jr(e);if(Cn(s)!==65)throw new Error("invalid signature length");const a=_o(`0x${s.slice(130)}`),l=AM(a);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function AM(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function k4({hash:t,signature:e}){return sV(await cV({hash:t,signature:e}))}class _M extends Fe{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class F4 extends Fe{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class uV extends Fe{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const dV={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new uV({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new F4({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new _M({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new _M({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function jS(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(dV);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function Tl(t,e="hex"){const n=B4(t),r=jS(new Uint8Array(n.length));return n.encode(r),e==="hex"?Yn(r.bytes):r.bytes}function B4(t){return Array.isArray(t)?fV(t.map(e=>B4(e))):hV(t)}function fV(t){const e=t.reduce((i,o)=>i+o.length,0),n=O4(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:o}of t)o(i)}}}function hV(t){const e=typeof t=="string"?Ao(t):t,n=O4(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function O4(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Fe("Length is too large.")}function pV(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,o=mr(rs(["0x05",Tl([e?je(e):"0x",i,n?je(n):"0x"])]));return r==="bytes"?Ao(o):o}async function L4(t){const{authorization:e,signature:n}=t;return k4({hash:pV(e),signature:n??e})}class JE extends Fe{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class mV extends Fe{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class gV extends Fe{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class D4 extends Fe{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class rw extends Fe{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function U4({chain:t,currentChainId:e}){if(!t)throw new gV;if(e!==t.id)throw new mV({chain:t,currentChainId:e})}const z4={gwei:9,wei:18},yV={ether:-9,wei:9},vV={ether:-18,gwei:-9};function ym(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,o]=[n.slice(0,n.length-e),n.slice(n.length-e)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${o?`.${o}`:""}`}function _i(t,e="wei"){return ym(t,yV[e])}class sd extends Fe{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(sd,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(sd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class jc extends Fe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${_i(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(jc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class ZE extends Fe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${_i(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(ZE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class eA extends Fe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(eA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class tA extends Fe{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(tA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class nA extends Fe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(nA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class rA extends Fe{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(rA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class iA extends Fe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(iA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class oA extends Fe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(oA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class sA extends Fe{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(sA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class bp extends Fe{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${_i(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${_i(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(bp,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class vm extends Fe{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function wm(t,e="wei"){return ym(t,z4[e])}function bm(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class wV extends Fe{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class bV extends Fe{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class xV extends Fe{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",bm(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class EV extends Fe{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class AV extends Fe{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:d,value:f}){const h=bm({chain:i&&`${i?.name} (id: ${i?.id})`,from:n?.address,to:d,value:typeof f<"u"&&`${wm(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${_i(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${_i(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${_i(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class j4 extends Fe{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:o}){let s="Transaction";r&&o!==void 0&&(s=`Transaction at block time "${r}" at index "${o}"`),e&&o!==void 0&&(s=`Transaction at block hash "${e}" at index "${o}"`),n&&o!==void 0&&(s=`Transaction at block number "${n}" at index "${o}"`),i&&(s=`Transaction with hash "${i}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class H4 extends Fe{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class _V extends Fe{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const sr=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n),SV=t=>t,HS=t=>t;class zh extends Fe{constructor({body:e,cause:n,details:r,headers:i,status:o,url:s}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${HS(s)}`,e&&`Request body: ${sr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=o,this.url=s}}class GS extends Fe{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${HS(r)}`,`Request body: ${sr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class SM extends Fe{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${HS(n)}`,`Request body: ${sr(e)}`],name:"TimeoutError"})}}const CV=-1;class Pi extends Fe{constructor(e,{code:n,docsPath:r,metaMessages:i,name:o,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof GS?e.code:n??CV}}class eo extends Pi{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class xp extends Pi{constructor(e){super(e,{code:xp.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Ep extends Pi{constructor(e){super(e,{code:Ep.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Ep,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Ap extends Pi{constructor(e,{method:n}={}){super(e,{code:Ap.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Ap,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class _p extends Pi{constructor(e){super(e,{code:_p.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(_p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Hc extends Pi{constructor(e){super(e,{code:Hc.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Hc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Gc extends Pi{constructor(e){super(e,{code:Gc.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Gc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Sp extends Pi{constructor(e){super(e,{code:Sp.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Sp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class bl extends Pi{constructor(e){super(e,{code:bl.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(bl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Cp extends Pi{constructor(e){super(e,{code:Cp.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Cp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class yc extends Pi{constructor(e,{method:n}={}){super(e,{code:yc.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(yc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Wd extends Pi{constructor(e){super(e,{code:Wd.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Wd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Tp extends Pi{constructor(e){super(e,{code:Tp.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Tp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class wn extends eo{constructor(e){super(e,{code:wn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(wn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Mp extends eo{constructor(e){super(e,{code:Mp.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Mp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Ip extends eo{constructor(e,{method:n}={}){super(e,{code:Ip.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Ip,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Rp extends eo{constructor(e){super(e,{code:Rp.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Rp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Pp extends eo{constructor(e){super(e,{code:Pp.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Pp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class So extends eo{constructor(e){super(e,{code:So.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(So,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Vd extends eo{constructor(e){super(e,{code:Vd.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Vd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Np extends eo{constructor(e){super(e,{code:Np.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Np,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class kp extends eo{constructor(e){super(e,{code:kp.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(kp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Fp extends eo{constructor(e){super(e,{code:Fp.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Fp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Bp extends eo{constructor(e){super(e,{code:Bp.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Bp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Op extends eo{constructor(e){super(e,{code:Op.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Op,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class $d extends eo{constructor(e){super(e,{code:$d.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty($d,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class TV extends Pi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function iw(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof Fe?t.walk(i=>i?.code===sd.code):t;return r instanceof Fe?new sd({cause:t,message:r.details}):sd.nodeMessage.test(n)?new sd({cause:t,message:t.details}):jc.nodeMessage.test(n)?new jc({cause:t,maxFeePerGas:e?.maxFeePerGas}):ZE.nodeMessage.test(n)?new ZE({cause:t,maxFeePerGas:e?.maxFeePerGas}):eA.nodeMessage.test(n)?new eA({cause:t,nonce:e?.nonce}):tA.nodeMessage.test(n)?new tA({cause:t,nonce:e?.nonce}):nA.nodeMessage.test(n)?new nA({cause:t,nonce:e?.nonce}):rA.nodeMessage.test(n)?new rA({cause:t}):iA.nodeMessage.test(n)?new iA({cause:t,gas:e?.gas}):oA.nodeMessage.test(n)?new oA({cause:t,gas:e?.gas}):sA.nodeMessage.test(n)?new sA({cause:t}):bp.nodeMessage.test(n)?new bp({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new vm({cause:t})}function G4(t,{docsPath:e,...n}){const r=(()=>{const i=iw(t,n);return i instanceof vm?t:i})();return new AV(r,{docsPath:e,...n})}function ow(t,{format:e}){if(!e)return{};const n={};function r(o){const s=Object.keys(o);for(const a of s)a in t&&(n[a]=t[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const i=e(t||{});return r(i),n}function WS(t,e){return({exclude:n,format:r})=>({exclude:n,format:i=>{const o=e(i);if(n)for(const s of n)delete o[s];return{...o,...r(i)}},type:t})}const MV={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function bf(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=IV(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Yn(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=je(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=je(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=je(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=je(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=je(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=je(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=MV[t.type]),typeof t.value<"u"&&(e.value=je(t.value)),e}function IV(t){return t.map(e=>({address:e.address,r:e.r?je(BigInt(e.r)):e.r,s:e.s?je(BigInt(e.s)):e.s,chainId:je(e.chainId),nonce:je(e.nonce),...typeof e.yParity<"u"?{yParity:je(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:je(e.v)}:{}}))}function Mt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:o=>e(t,o)}const sw=2n**256n-1n;function uu(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:o}=t,s=e?Dn(e):void 0;if(s&&!Jn(s.address))throw new oi({address:s.address});if(o&&!Jn(o))throw new oi({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new wV;if(r&&r>sw)throw new jc({maxFeePerGas:r});if(i&&r&&i>r)throw new bp({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function xf(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return _o(e)}class RV extends Fe{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class VS extends Fe{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class PV extends Fe{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${_i(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class W4 extends Fe{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const V4={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function aw(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?_o(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?_o(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?V4[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=kV(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const NV=WS("transaction",aw);function kV(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function $S(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:aw(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const FV=WS("block",$S);async function _s(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:i}={}){const o=r??"latest",s=i??!1,a=n!==void 0?je(n):void 0;let l=null;if(e?l=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):l=await t.request({method:"eth_getBlockByNumber",params:[a||o,s]},{dedupe:!!a}),!l)throw new W4({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||$S)(l)}async function qS(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function BV(t,e){return $4(t,e)}async function $4(t,e){const{block:n,chain:r=t.chain,request:i}=e||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await Mt(t,_s,"getBlock")({}),l=await o({block:a,client:t,request:i});if(l===null)throw new Error;return l}if(typeof o<"u")return o;const s=await t.request({method:"eth_maxPriorityFeePerGas"});return pr(s)}catch{const[o,s]=await Promise.all([n?Promise.resolve(n):Mt(t,_s,"getBlock")({}),Mt(t,qS,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new VS;const a=s-o.baseFeePerGas;return a<0n?0n:a}}async function OV(t,e){return aA(t,e)}async function aA(t,e){const{block:n,chain:r=t.chain,request:i,type:o="eip1559"}=e||{},s=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):r?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new RV;const l=10**(s.toString().split(".")[1]?.length??0),c=f=>f*BigInt(Math.ceil(s*l))/BigInt(l),u=n||await Mt(t,_s,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const f=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:c,request:i,type:o});if(f!==null)return f}if(o==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new VS;const f=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await $4(t,{block:u,chain:r,request:i}),h=c(u.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??h+f,maxPriorityFeePerGas:f}}return{gasPrice:i?.gasPrice??c(await Mt(t,qS,"getGasPrice")({}))}}class LV extends Fe{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:d,value:f}){const h=bm({from:n?.address,to:d,value:typeof f<"u"&&`${wm(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${_i(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${_i(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${_i(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function DV(t,{docsPath:e,...n}){const r=(()=>{const i=iw(t,n);return i instanceof vm?t:i})();return new LV(r,{docsPath:e,...n})}class UV extends Fe{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class zV extends Fe{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function CM(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function jV(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=CM(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=CM(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function TM(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new fM({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new fM({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function HV(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:o}=t,s={};if(o!==void 0&&(s.code=o),e!==void 0&&(s.balance=je(e)),n!==void 0&&(s.nonce=je(n)),r!==void 0&&(s.state=TM(r)),i!==void 0){if(s.state)throw new zV;s.stateDiff=TM(i)}return s}function QS(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Jn(n,{strict:!1}))throw new oi({address:n});if(e[n])throw new UV({address:n});e[n]=HV(r)}return e}async function KS(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=typeof n=="bigint"?je(n):void 0,o=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(o)}async function XS(t,e){const{account:n=t.account}=e,r=n?Dn(n):void 0;try{let z=function(B){const{block:w,request:A,rpcStateOverride:C}=B;return t.request({method:"eth_estimateGas",params:C?[A,w??"latest",C]:w?[A,w]:[A]})};const{accessList:i,authorizationList:o,blobs:s,blobVersionedHashes:a,blockNumber:l,blockTag:c,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:y,value:g,stateOverride:v,...b}=await lw(t,{...e,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),P=(typeof l=="bigint"?je(l):void 0)||c,N=QS(v),_=await(async()=>{if(b.to)return b.to;if(o&&o.length>0)return await L4({authorization:o[0]}).catch(()=>{throw new Fe("`to` is required. Could not infer from `authorizationList`")})})();uu(e);const D=t.chain?.formatters?.transactionRequest?.format,E=(D||bf)({...ow(b,{format:D}),from:r?.address,accessList:i,authorizationList:o,blobs:s,blobVersionedHashes:a,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:y,to:_,value:g});let W=BigInt(await z({block:P,request:E,rpcStateOverride:N}));if(o){const B=await KS(t,{address:E.from}),w=await Promise.all(o.map(async A=>{const{address:C}=A,k=await z({block:P,request:{authorizationList:void 0,data:u,from:r?.address,to:C,value:je(B)},rpcStateOverride:N}).catch(()=>100000n);return 2n*BigInt(k)}));W+=w.reduce((A,C)=>A+C,0n)}return W}catch(i){throw DV(i,{...e,account:r,chain:t.chain})}}async function YS(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?je(r):n]},{dedupe:!!r});return _o(i)}function JS(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Ao(o)):t.blobs,i=[];for(const o of r)i.push(Uint8Array.from(e.blobToKzgCommitment(o)));return n==="bytes"?i:i.map(o=>Yn(o))}function ZS(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>Ao(s)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(s=>Ao(s)):t.commitments,o=[];for(let s=0;s<r.length;s++){const a=r[s],l=i[s];o.push(Uint8Array.from(e.computeBlobKzgProof(a,l)))}return n==="bytes"?o:o.map(s=>Yn(s))}function GV(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}function WV(t,e,n){return t&e^~t&n}function VV(t,e,n){return t&e^t&n^e&n}class $V extends BS{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=X1(this.buffer)}update(e){Hd(this),e=mm(e),ns(e);const{view:n,buffer:r,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=X1(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Hd(this),w4(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,Gd(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let d=s;d<i;d++)n[d]=0;GV(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=X1(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const La=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qV=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Da=new Uint32Array(64);let QV=class extends $V{constructor(e=32){super(64,e,8,!1),this.A=La[0]|0,this.B=La[1]|0,this.C=La[2]|0,this.D=La[3]|0,this.E=La[4]|0,this.F=La[5]|0,this.G=La[6]|0,this.H=La[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)Da[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=Da[d-15],h=Da[d-2],p=ls(f,7)^ls(f,18)^f>>>3,m=ls(h,17)^ls(h,19)^h>>>10;Da[d]=m+Da[d-7]+p+Da[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const f=ls(a,6)^ls(a,11)^ls(a,25),h=u+f+WV(a,l,c)+qV[d]+Da[d]|0,m=(ls(r,2)^ls(r,13)^ls(r,22))+VV(r,i,o)|0;u=c,c=l,l=a,a=s+h|0,s=o,o=i,i=r,r=h+m|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,l,c,u)}roundClean(){Gd(Da)}destroy(){this.set(0,0,0,0,0,0,0,0),Gd(this.buffer)}};const q4=x4(()=>new QV),KV=q4;function XV(t,e){return KV(Ps(t,{strict:!1})?wf(t):t)}function YV(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=XV(e);return i.set([n],0),r==="bytes"?i:Yn(i)}function Q4(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const o of e)i.push(YV({commitment:o,to:r,version:n}));return i}const MM=6,K4=32,eC=4096,X4=K4*eC,IM=X4*MM-1-1*eC*MM,Y4=1;class JV extends Fe{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class J4 extends Fe{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class ZV extends Fe{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class e$ extends Fe{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${Y4}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function t$(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Ao(t.data):t.data,r=Cn(n);if(!r)throw new J4;if(r>IM)throw new JV({maxSize:IM,size:r});const i=[];let o=!0,s=0;for(;o;){const a=jS(new Uint8Array(X4));let l=0;for(;l<eC;){const c=n.slice(s,s+(K4-1));if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),o=!1;break}l++,s+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>Yn(a.bytes))}function Z4(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??t$({data:e,to:r}),o=t.commitments??JS({blobs:i,kzg:n,to:r}),s=t.proofs??ZS({blobs:i,commitments:o,kzg:n,to:r}),a=[];for(let l=0;l<i.length;l++)a.push({blob:i[l],commitment:o[l],proof:s[l]});return a}function eB(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new xV({transaction:t})}const tB=["blobVersionedHashes","chainId","fees","gas","nonce","type"],RM=new Map;async function lw(t,e){const{account:n=t.account,blobs:r,chain:i,gas:o,kzg:s,nonce:a,nonceManager:l,parameters:c=tB,type:u}=e,d=n&&Dn(n),f={...e,...d?{from:d?.address}:{}};let h;async function p(){return h||(h=await Mt(t,_s,"getBlock")({blockTag:"latest"}),h)}let m;async function y(){return m||(i?i.id:typeof e.chainId<"u"?e.chainId:(m=await Mt(t,xf,"getChainId")({}),m))}if(c.includes("nonce")&&typeof a>"u"&&d)if(l){const g=await y();f.nonce=await l.consume({address:d.address,chainId:g,client:t})}else f.nonce=await Mt(t,YS,"getTransactionCount")({address:d.address,blockTag:"pending"});if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&r&&s){const g=JS({blobs:r,kzg:s});if(c.includes("blobVersionedHashes")){const v=Q4({commitments:g,to:"hex"});f.blobVersionedHashes=v}if(c.includes("sidecars")){const v=ZS({blobs:r,commitments:g,kzg:s}),b=Z4({blobs:r,commitments:g,proofs:v,to:"hex"});f.sidecars=b}}if(c.includes("chainId")&&(f.chainId=await y()),(c.includes("fees")||c.includes("type"))&&typeof u>"u")try{f.type=eB(f)}catch{let g=RM.get(t.uid);typeof g>"u"&&(g=typeof(await p())?.baseFeePerGas=="bigint",RM.set(t.uid,g)),f.type=g?"eip1559":"legacy"}if(c.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const g=await p(),{maxFeePerGas:v,maxPriorityFeePerGas:b}=await aA(t,{block:g,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<b)throw new PV({maxPriorityFeePerGas:b});f.maxPriorityFeePerGas=b,f.maxFeePerGas=v}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new VS;if(typeof e.gasPrice>"u"){const g=await p(),{gasPrice:v}=await aA(t,{block:g,chain:i,request:f,type:"legacy"});f.gasPrice=v}}return c.includes("gas")&&typeof o>"u"&&(f.gas=await Mt(t,XS,"estimateGas")({...f,account:d&&{address:d.address,type:"json-rpc"}})),uu(f),delete f.parameters,f}async function tC(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const eb=new tw(128);async function cw(t,e){const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:o,blobs:s,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,type:p,value:m,...y}=e;if(typeof n>"u")throw new cu({docsPath:"/docs/actions/wallet/sendTransaction"});const g=n?Dn(n):null;try{uu(e);const v=await(async()=>{if(e.to)return e.to;if(e.to!==null&&o&&o.length>0)return await L4({authorization:o[0]}).catch(()=>{throw new Fe("`to` is required. Could not infer from `authorizationList`.")})})();if(g?.type==="json-rpc"||g===null){let b;r!==null&&(b=await Mt(t,xf,"getChainId")({}),U4({currentChainId:b,chain:r}));const x=t.chain?.formatters?.transactionRequest?.format,N=(x||bf)({...ow(y,{format:x}),accessList:i,authorizationList:o,blobs:s,chainId:b,data:a,from:g?.address,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:v,type:p,value:m}),_=eb.get(t.uid),D=_?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:D,params:[N]},{retryCount:0})}catch(T){if(_===!1)throw T;const E=T;if(E.name==="InvalidInputRpcError"||E.name==="InvalidParamsRpcError"||E.name==="MethodNotFoundRpcError"||E.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[N]},{retryCount:0}).then(z=>(eb.set(t.uid,!0),z)).catch(z=>{const W=z;throw W.name==="MethodNotFoundRpcError"||W.name==="MethodNotSupportedRpcError"?(eb.set(t.uid,!1),E):W});throw E}}if(g?.type==="local"){const b=await Mt(t,lw,"prepareTransactionRequest")({account:g,accessList:i,authorizationList:o,blobs:s,chain:r,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,nonceManager:g.nonceManager,parameters:[...tB,"sidecars"],type:p,value:m,...y,to:v}),x=r?.serializers?.transaction,P=await g.signTransaction(b,{serializer:x});return await Mt(t,tC,"sendRawTransaction")({serializedTransaction:P})}throw g?.type==="smart"?new Bg({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Bg({docsPath:"/docs/actions/wallet/sendTransaction",type:g?.type})}catch(v){throw v instanceof Bg?v:G4(v,{...e,account:g,chain:e.chain||void 0})}}function n$(t,e){const{abi:n,args:r,bytecode:i,...o}=e,s=nw({abi:n,args:r,bytecode:i});return cw(t,{...o,...o.authorizationList?{to:null}:{},data:s})}const lA=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],cA=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],nB=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],rB=[...nB,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],r$=[...nB,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],PM=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],NM=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],kM=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function i$(t,e={}){typeof e.size<"u"&&Mo(t,{size:e.size});const n=Yn(t,e);return pr(n,e)}function o$(t,e={}){let n=t;if(typeof e.size<"u"&&(Mo(n,{size:e.size}),n=Ai(n)),n.length>1||n[0]>1)throw new qG(n);return!!n[0]}function fa(t,e={}){typeof e.size<"u"&&Mo(t,{size:e.size});const n=Yn(t,e);return _o(n,e)}function s$(t,e={}){let n=t;return typeof e.size<"u"&&(Mo(n,{size:e.size}),n=Ai(n,{dir:"right"})),new TextDecoder().decode(n)}function xm(t,e){const n=typeof e=="string"?Ao(e):e,r=jS(n);if(Cn(n)===0&&t.length>0)throw new pm;if(Cn(e)&&Cn(e)<32)throw new p4({data:typeof e=="string"?e:Yn(e),params:t,size:Cn(e)});let i=0;const o=[];for(let s=0;s<t.length;++s){const a=t[s];r.setPosition(i);const[l,c]=wd(r,a,{staticPosition:0});i+=c,o.push(l)}return o}function wd(t,e,{staticPosition:n}){const r=zS(e.type);if(r){const[i,o]=r;return l$(t,{...e,type:o},{length:i,staticPosition:n})}if(e.type==="tuple")return f$(t,e,{staticPosition:n});if(e.type==="address")return a$(t);if(e.type==="bool")return c$(t);if(e.type.startsWith("bytes"))return u$(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return d$(t,e);if(e.type==="string")return h$(t,{staticPosition:n});throw new gW(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const FM=32,uA=32;function a$(t){const e=t.readBytes(32);return[gm(Yn(P4(e,-20))),32]}function l$(t,e,{length:n,staticPosition:r}){if(!n){const s=fa(t.readBytes(uA)),a=r+s,l=a+FM;t.setPosition(a);const c=fa(t.readBytes(FM)),u=Lp(e);let d=0;const f=[];for(let h=0;h<c;++h){t.setPosition(l+(u?h*32:d));const[p,m]=wd(t,e,{staticPosition:l});d+=m,f.push(p)}return t.setPosition(r+32),[f,32]}if(Lp(e)){const s=fa(t.readBytes(uA)),a=r+s,l=[];for(let c=0;c<n;++c){t.setPosition(a+c*32);const[u]=wd(t,e,{staticPosition:a});l.push(u)}return t.setPosition(r+32),[l,32]}let i=0;const o=[];for(let s=0;s<n;++s){const[a,l]=wd(t,e,{staticPosition:r+i});i+=l,o.push(a)}return[o,i]}function c$(t){return[o$(t.readBytes(32),{size:32}),32]}function u$(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const s=fa(t.readBytes(32));t.setPosition(n+s);const a=fa(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(a);return t.setPosition(n+32),[Yn(l),32]}return[Yn(t.readBytes(Number.parseInt(i),32)),32]}function d$(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[r>48?i$(i,{signed:n}):fa(i,{signed:n}),32]}function f$(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:s})=>!s),i=r?[]:{};let o=0;if(Lp(e)){const s=fa(t.readBytes(uA)),a=n+s;for(let l=0;l<e.components.length;++l){const c=e.components[l];t.setPosition(a+o);const[u,d]=wd(t,c,{staticPosition:a});o+=d,i[r?l:c?.name]=u}return t.setPosition(n+32),[i,32]}for(let s=0;s<e.components.length;++s){const a=e.components[s],[l,c]=wd(t,a,{staticPosition:n});i[r?s:a?.name]=l,o+=c}return[i,o]}function h$(t,{staticPosition:e}){const n=fa(t.readBytes(32)),r=e+n;t.setPosition(r);const i=fa(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const o=t.readBytes(i,32),s=s$(Ai(o));return t.setPosition(e+32),[s,32]}function Lp(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(Lp);const n=zS(t.type);return!!(n&&Lp({...t,type:n[1]}))}const p$=t=>mr(wf(t));function m$(t){return p$(t)}const g$="1.0.8";let to=class dA extends Error{constructor(e,n={}){const r=n.cause instanceof dA?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof dA&&n.cause.docsPath||n.docsPath,o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${g$}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Ra(t,e){return t.exec(e)?.groups}const iB=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,oB=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,sB=/^\(.+?\).*?$/,BM=/^tuple(?<array>(\[(\d*)\])*)$/;function fA(t){let e=t.type;if(BM.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const o=t.components[i];e+=fA(o),i<n-1&&(e+=", ")}const r=Ra(BM,t.type);return e+=`)${r?.array??""}`,fA({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Jf(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=fA(i),r!==n-1&&(e+=", ")}return e}function Oy(t){return t.type==="function"?`function ${t.name}(${Jf(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${Jf(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Jf(t.inputs)})`:t.type==="error"?`error ${t.name}(${Jf(t.inputs)})`:t.type==="constructor"?`constructor(${Jf(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const aB=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function y$(t){return aB.test(t)}function v$(t){return Ra(aB,t)}const lB=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function w$(t){return lB.test(t)}function b$(t){return Ra(lB,t)}const cB=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function x$(t){return cB.test(t)}function E$(t){return Ra(cB,t)}const uB=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function nC(t){return uB.test(t)}function A$(t){return Ra(uB,t)}const dB=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function _$(t){return dB.test(t)}function S$(t){return Ra(dB,t)}const fB=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function C$(t){return fB.test(t)}function T$(t){return Ra(fB,t)}const M$=/^receive\(\) external payable$/;function I$(t){return M$.test(t)}const R$=new Set(["indexed"]),hA=new Set(["calldata","memory","storage"]);class P$ extends to{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class N$ extends to{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class k$ extends to{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class F$ extends to{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class B$ extends to{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class O$ extends to{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class L$ extends to{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class D$ extends to{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Ef extends to{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class U$ extends to{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class z$ extends to{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class j$ extends to{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class H$ extends to{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function G$(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let o="";for(const s of i[1])o+=`[${s.type}${s.name?`:${s.name}`:""}]`;r+=`(${i[0]}{${o}})`}return e?`${e}:${t}${r}`:t}const tb=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function pA(t,e={}){if(x$(t))return W$(t,e);if(w$(t))return V$(t,e);if(y$(t))return $$(t,e);if(_$(t))return q$(t,e);if(C$(t))return Q$(t);if(I$(t))return{type:"receive",stateMutability:"payable"};throw new U$({signature:t})}function W$(t,e={}){const n=E$(t);if(!n)throw new Ef({signature:t,type:"function"});const r=Vo(n.parameters),i=[],o=r.length;for(let a=0;a<o;a++)i.push(Wc(r[a],{modifiers:hA,structs:e,type:"function"}));const s=[];if(n.returns){const a=Vo(n.returns),l=a.length;for(let c=0;c<l;c++)s.push(Wc(a[c],{modifiers:hA,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:s}}function V$(t,e={}){const n=b$(t);if(!n)throw new Ef({signature:t,type:"event"});const r=Vo(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(Wc(r[s],{modifiers:R$,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function $$(t,e={}){const n=v$(t);if(!n)throw new Ef({signature:t,type:"error"});const r=Vo(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(Wc(r[s],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function q$(t,e={}){const n=S$(t);if(!n)throw new Ef({signature:t,type:"constructor"});const r=Vo(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(Wc(r[s],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function Q$(t){const e=T$(t);if(!e)throw new Ef({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const K$=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,X$=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Y$=/^u?int$/;function Wc(t,e){const n=G$(t,e?.type,e?.structs);if(tb.has(n))return tb.get(n);const r=sB.test(t),i=Ra(r?X$:K$,t);if(!i)throw new F$({param:t});if(i.name&&Z$(i.name))throw new B$({param:t,name:i.name});const o=i.name?{name:i.name}:{},s=i.modifier==="indexed"?{indexed:!0}:{},a=e?.structs??{};let l,c={};if(r){l="tuple";const d=Vo(i.type),f=[],h=d.length;for(let p=0;p<h;p++)f.push(Wc(d[p],{structs:a}));c={components:f}}else if(i.type in a)l="tuple",c={components:a[i.type]};else if(Y$.test(i.type))l=`${i.type}256`;else if(l=i.type,e?.type!=="struct"&&!hB(l))throw new k$({type:l});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new O$({param:t,type:e?.type,modifier:i.modifier});if(hA.has(i.modifier)&&!eq(l,!!i.array))throw new L$({param:t,type:e?.type,modifier:i.modifier})}const u={type:`${l}${i.array??""}`,...o,...s,...c};return tb.set(n,u),u}function Vo(t,e=[],n="",r=0){const i=t.trim().length;for(let o=0;o<i;o++){const s=t[o],a=t.slice(o+1);switch(s){case",":return r===0?Vo(a,[...e,n.trim()]):Vo(a,e,`${n}${s}`,r);case"(":return Vo(a,e,`${n}${s}`,r+1);case")":return Vo(a,e,`${n}${s}`,r-1);default:return Vo(a,e,`${n}${s}`,r)}}if(n==="")return e;if(r!==0)throw new H$({current:n,depth:r});return e.push(n.trim()),e}function hB(t){return t==="address"||t==="bool"||t==="function"||t==="string"||iB.test(t)||oB.test(t)}const J$=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Z$(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||iB.test(t)||oB.test(t)||J$.test(t)}function eq(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function pB(t){const e={},n=t.length;for(let s=0;s<n;s++){const a=t[s];if(!nC(a))continue;const l=A$(a);if(!l)throw new Ef({signature:a,type:"struct"});const c=l.properties.split(";"),u=[],d=c.length;for(let f=0;f<d;f++){const p=c[f].trim();if(!p)continue;const m=Wc(p,{type:"struct"});u.push(m)}if(!u.length)throw new z$({signature:a});e[l.name]=u}const r={},i=Object.entries(e),o=i.length;for(let s=0;s<o;s++){const[a,l]=i[s];r[a]=mB(l,e)}return r}const tq=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function mB(t,e,n=new Set){const r=[],i=t.length;for(let o=0;o<i;o++){const s=t[o];if(sB.test(s.type))r.push(s);else{const l=Ra(tq,s.type);if(!l?.type)throw new D$({abiParameter:s});const{array:c,type:u}=l;if(u in e){if(n.has(u))throw new j$({type:u});r.push({...s,type:`tuple${c??""}`,components:mB(e[u]??[],e,new Set([...n,u]))})}else if(hB(u))r.push(s);else throw new N$({type:u})}}return r}function gB(t){const e=pB(t),n=[],r=t.length;for(let i=0;i<r;i++){const o=t[i];nC(o)||n.push(pA(o,e))}return n}function OM(t){let e;if(typeof t=="string")e=pA(t);else{const n=pB(t),r=t.length;for(let i=0;i<r;i++){const o=t[i];if(!nC(o)){e=pA(o,n);break}}}if(!e)throw new P$({signature:t});return e}function nq(t){let e=!0,n="",r=0,i="",o=!1;for(let s=0;s<t.length;s++){const a=t[s];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){o=!0;break}continue}if(a===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!o)throw new Fe("Unable to normalize signature.");return i}const rq=t=>{const e=typeof t=="string"?t:Oy(t);return nq(e)};function yB(t){return m$(rq(t))}const uw=yB,Em=t=>zc(yB(t),0,4);function du(t){const{abi:e,args:n=[],name:r}=t,i=Ps(r,{strict:!1}),o=e.filter(a=>i?a.type==="function"?Em(a)===r:a.type==="event"?uw(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let s;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((c,u)=>{const d="inputs"in a&&a.inputs[u];return d?mA(c,d):!1})){if(s&&"inputs"in s&&s.inputs){const c=vB(a.inputs,s.inputs,n);if(c)throw new hW({abiItem:a,type:c[0]},{abiItem:s,type:c[1]})}s=a}}return s||o[0]}function mA(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Jn(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,o)=>mA(Object.values(t)[o],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>mA(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function vB(t,e,n){for(const r in t){const i=t[r],o=e[r];if(i.type==="tuple"&&o.type==="tuple"&&"components"in i&&"components"in o)return vB(i.components,o.components,n[r]);const s=[i.type,o.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?Jn(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?Jn(n[r],{strict:!1}):!1)return s}}const nb="/docs/contract/decodeFunctionResult";function fu(t){const{abi:e,args:n,functionName:r,data:i}=t;let o=e[0];if(r){const a=du({abi:e,args:n,name:r});if(!a)throw new jd(r,{docsPath:nb});o=a}if(o.type!=="function")throw new jd(void 0,{docsPath:nb});if(!o.outputs)throw new y4(o.name,{docsPath:nb});const s=xm(o.outputs,i);if(s&&s.length>1)return s;if(s&&s.length===1)return s[0]}const LM="/docs/contract/encodeFunctionData";function iq(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const o=du({abi:e,args:n,name:r});if(!o)throw new jd(r,{docsPath:LM});i=o}if(i.type!=="function")throw new jd(void 0,{docsPath:LM});return{abi:[i],functionName:Em(ts(i))}}function Io(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:iq(t),i=n[0],o=r,s="inputs"in i&&i.inputs?Dl(i.inputs,e??[]):void 0;return rs([o,s??"0x"])}function Af({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new JE({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new JE({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const wB={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},bB={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},oq={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function sq(t){const{abi:e,data:n}=t,r=zc(n,0,4);if(r==="0x")throw new pm;const o=[...e||[],bB,oq].find(s=>s.type==="error"&&r===Em(ts(s)));if(!o)throw new m4(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?xm(o.inputs,zc(n,4)):void 0,errorName:o.name}}function xB({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,o)=>`${r&&i.name?`${i.name}: `:""}${typeof e[o]=="object"?sr(e[o]):e[o]}`).join(", ")})`}class EB extends Fe{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:d,value:f,stateOverride:h}){const p=n?Dn(n):void 0;let m=bm({from:p?.address,to:d,value:typeof f<"u"&&`${wm(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${_i(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${_i(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${_i(c)} gwei`,nonce:u});h&&(m+=`
${jV(h)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class AB extends Fe{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:o,functionName:s,sender:a}){const l=du({abi:n,args:r,name:s}),c=l?xB({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=l?ts(l,{includeName:!0}):void 0,d=bm({address:i&&SV(i),function:u,args:c&&c!=="()"&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${c}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:o,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=s,this.sender=a}}class gA extends Fe{constructor({abi:e,data:n,functionName:r,message:i}){let o,s,a,l;if(n&&n!=="0x")try{s=sq({abi:e,data:n});const{abiItem:u,errorName:d,args:f}=s;if(d==="Error")l=f[0];else if(d==="Panic"){const[h]=f;l=wB[h]}else{const h=u?ts(u,{includeName:!0}):void 0,p=u&&f?xB({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){o=u}else i&&(l=i);let c;o instanceof m4&&(c=o.signature,a=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(l&&l!=="execution reverted"||c?[`The contract function "${r}" reverted with the following ${c?"signature":"reason"}:`,l||c].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.raw=n,this.reason=l,this.signature=c}}class aq extends Fe{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class lq extends Fe{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class dw extends Fe{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function rC(t,e){if(!(t instanceof Fe))return!1;const n=t.walk(r=>r instanceof gA);return n instanceof gA?!!(n.data?.errorName==="ResolverNotFound"||n.data?.errorName==="ResolverWildcardNotSupported"||n.data?.errorName==="ResolverNotContract"||n.data?.errorName==="ResolverError"||n.data?.errorName==="HttpError"||n.reason?.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===wB[50]):!1}function cq(t){const{abi:e,data:n}=t,r=zc(n,0,4),i=e.find(o=>o.type==="function"&&r===Em(ts(o)));if(!i)throw new fW(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?xm(i.inputs,zc(n,4)):void 0}}const rb="/docs/contract/encodeErrorResult";function DM(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const l=du({abi:e,args:r,name:n});if(!l)throw new mM(n,{docsPath:rb});i=l}if(i.type!=="error")throw new mM(void 0,{docsPath:rb});const o=ts(i),s=Em(o);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new uW(i.name,{docsPath:rb});a=Dl(i.inputs,r)}return rs([s,a])}const ib="/docs/contract/encodeFunctionResult";function uq(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const s=du({abi:e,name:n});if(!s)throw new jd(n,{docsPath:ib});i=s}if(i.type!=="function")throw new jd(void 0,{docsPath:ib});if(!i.outputs)throw new y4(i.name,{docsPath:ib});const o=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new v4(r)})();return Dl(i.outputs,o)}const _B="x-batch-gateway:true";async function $xe(t){const{data:e,ccipRequest:n}=t,{args:[r]}=cq({abi:cA,data:e}),i=[],o=[];return await Promise.all(r.map(async(s,a)=>{try{o[a]=await n(s),i[a]=!1}catch(l){i[a]=!0,o[a]=dq(l)}})),uq({abi:cA,functionName:"query",result:[i,o]})}function dq(t){return t.name==="HttpRequestError"&&t.status?DM({abi:cA,errorName:"HttpError",args:[t.status,t.shortMessage]}):DM({abi:[bB],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function SB(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Ps(e)?e:null}function Og(t){let e=new Uint8Array(32).fill(0);if(!t)return Yn(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=SB(n[r]),o=i?wf(i):mr(Rc(n[r]),"bytes");e=mr(Ns([e,o]),"bytes")}return Yn(e)}function fq(t){return`[${t.slice(2)}]`}function hq(t){const e=new Uint8Array(32).fill(0);return t?SB(t)||mr(Rc(t)):Yn(e)}function fw(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Rc(e).byteLength+2);let r=0;const i=e.split(".");for(let o=0;o<i.length;o++){let s=Rc(i[o]);s.byteLength>255&&(s=Rc(fq(hq(i[o])))),n[r]=s.length,n.set(s,r+1),r+=s.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const pq=3;function Vc(t,{abi:e,address:n,args:r,docsPath:i,functionName:o,sender:s}){const a=t instanceof dw?t:t instanceof Fe?t.walk(p=>"data"in p)||t.walk():{},{code:l,data:c,details:u,message:d,shortMessage:f}=a,h=t instanceof pm?new aq({functionName:o}):[pq,Hc.code].includes(l)&&(c||u||d||f)?new gA({abi:e,data:typeof c=="object"?c.data:c,functionName:o,message:a instanceof GS?u:f??d}):t;return new AB(h,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:o,sender:s})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iC=BigInt(0),yA=BigInt(1);function Ly(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function h0(t){const e=t.toString(16);return e.length&1?"0"+e:e}function CB(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?iC:BigInt("0x"+t)}function hw(t){return CB(wp(t))}function TB(t){return ns(t),CB(wp(Uint8Array.from(t).reverse()))}function oC(t,e){return FS(t.toString(16).padStart(e*2,"0"))}function MB(t,e){return oC(t,e).reverse()}function co(t,e,n){let r;if(typeof e=="string")try{r=FS(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(kS(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const ob=t=>typeof t=="bigint"&&iC<=t;function mq(t,e,n){return ob(t)&&ob(e)&&ob(n)&&e<=t&&t<n}function gq(t,e,n,r){if(!mq(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function yq(t){let e;for(e=0;t>iC;t>>=yA,e+=1);return e}const pw=t=>(yA<<BigInt(t))-yA;function vq(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let o=r(t),s=r(t),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...h)=>n(s,o,...h),u=(h=r(0))=>{s=c(i(0),h),o=c(),h.length!==0&&(s=c(i(1),h),o=c())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<e;){o=c();const m=o.slice();p.push(m),h+=o.length}return gc(...p)};return(h,p)=>{l(),u(h);let m;for(;!(m=p(d()));)u();return l(),m}}function sC(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,s){const a=t[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function UM(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}const wq="0.1.1";function bq(){return wq}let Wn=class vA extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof vA){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof vA&&n.cause.docsPath||n.docsPath,s=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${s}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${bq()}`}),this.cause=n.cause,this.details=r,this.docs=s,this.docsPath=i,this.shortMessage=e}walk(e){return IB(this,e)}};function IB(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?IB(t.cause,e):e?null:t}const xq="#__bigint";function Eq(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+xq:i,n)}function Aq(t,e){if(jM(t)>e)throw new kq({givenSize:jM(t),maxSize:e})}const zs={zero:48,nine:57,A:65,F:70,a:97,f:102};function zM(t){if(t>=zs.zero&&t<=zs.nine)return t-zs.zero;if(t>=zs.A&&t<=zs.F)return t-(zs.A-10);if(t>=zs.a&&t<=zs.f)return t-(zs.a-10)}function _q(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new Fq({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let o=0;o<r;o++){const s=n==="right";i[s?o:r-o-1]=t[s?o:t.length-o-1]}return i}function aC(t,e){if(Co(t)>e)throw new Uq({givenSize:Co(t),maxSize:e})}function Sq(t,e){if(typeof e=="number"&&e>0&&e>Co(t)-1)throw new FB({offset:e,position:"start",size:Co(t)})}function Cq(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Co(t)!==n-e)throw new FB({offset:n,position:"end",size:Co(t)})}function RB(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new zq({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Tq=new TextEncoder;function Mq(t){return t instanceof Uint8Array?t:typeof t=="string"?Rq(t):Iq(t)}function Iq(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Rq(t,e={}){const{size:n}=e;let r=t;n&&(aC(t,n),r=qc(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const o=i.length/2,s=new Uint8Array(o);for(let a=0,l=0;a<o;a++){const c=zM(i.charCodeAt(l++)),u=zM(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new Wn(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);s[a]=c*16+u}return s}function Pq(t,e={}){const{size:n}=e,r=Tq.encode(t);return typeof n=="number"?(Aq(r,n),Nq(r,n)):r}function Nq(t,e){return _q(t,{dir:"right",size:e})}function jM(t){return t.length}let kq=class extends Wn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Fq=class extends Wn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Bq=new TextEncoder,Oq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Lq(t,e={}){const{strict:n=!1}=e;if(!t)throw new HM(t);if(typeof t!="string")throw new HM(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new GM(t);if(!t.startsWith("0x"))throw new GM(t)}function ks(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function PB(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(aC(n,e.size),$c(n,e.size)):n}function NB(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Oq[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(aC(r,e.size),qc(r,e.size)):r}function Xr(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const c=typeof t=="bigint"?"n":"";throw new kB({max:o?`${o}${c}`:void 0,min:`${s}${c}`,signed:n,size:r,value:`${t}${c}`})}const l=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?$c(l,r):l}function lC(t,e={}){return NB(Bq.encode(t),e)}function $c(t,e){return RB(t,{dir:"left",size:e})}function qc(t,e){return RB(t,{dir:"right",size:e})}function cC(t,e,n,r={}){const{strict:i}=r;Sq(t,e);const o=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&Cq(o,e,n),o}function Co(t){return Math.ceil((t.length-2)/2)}function Dq(t,e={}){const{strict:n=!1}=e;try{return Lq(t,{strict:n}),!0}catch{return!1}}class kB extends Wn{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number \`${o}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class HM extends Wn{constructor(e){super(`Value \`${typeof e=="object"?Eq(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class GM extends Wn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Uq extends Wn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class FB extends Wn{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class zq extends Wn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function jq(t){return{address:t.address,amount:Xr(t.amount),index:Xr(t.index),validatorIndex:Xr(t.validatorIndex)}}function BB(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Xr(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Xr(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Xr(t.gasLimit)},...typeof t.number=="bigint"&&{number:Xr(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Xr(t.prevRandao)},...typeof t.time=="bigint"&&{time:Xr(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(jq)}}}const Hq="0x82ad56cb",OB="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Gq="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Wq="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function LB(t,{docsPath:e,...n}){const r=(()=>{const i=iw(t,n);return i instanceof vm?t:i})();return new EB(r,{docsPath:e,...n})}function uC(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const sb=new Map;function DB({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const o=async()=>{const u=l();s();const d=u.map(({args:f})=>f);d.length!==0&&t(d).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let h=0;h<u.length;h++){const{resolve:p}=u[h];p?.([f[h],f])}}).catch(f=>{for(let h=0;h<u.length;h++){const{reject:p}=u[h];p?.(f)}})},s=()=>sb.delete(e),a=()=>l().map(({args:u})=>u),l=()=>sb.get(e)||[],c=u=>sb.set(e,[...l(),u]);return{flush:s,async schedule(u){const{promise:d,resolve:f,reject:h}=uC();return n?.([...a(),u])&&o(),l().length>0?(c({args:u,resolve:f,reject:h}),d):(c({args:u,resolve:f,reject:h}),setTimeout(o,r),d)}}}async function mw(t,e){const{account:n=t.account,authorizationList:r,batch:i=!!t.batch?.multicall,blockNumber:o,blockTag:s="latest",accessList:a,blobs:l,blockOverrides:c,code:u,data:d,factory:f,factoryData:h,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:g,maxPriorityFeePerGas:v,nonce:b,to:x,value:P,stateOverride:N,..._}=e,D=n?Dn(n):void 0;if(u&&(f||h))throw new Fe("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&x)throw new Fe("Cannot provide both `code` & `to` as parameters.");const T=u&&d,E=f&&h&&x&&d,z=T||E,W=T?qq({code:u,data:d}):E?Qq({data:d,factory:f,factoryData:h,to:x}):d;try{uu(e);const w=(typeof o=="bigint"?je(o):void 0)||s,A=c?BB(c):void 0,C=QS(N),k=t.chain?.formatters?.transactionRequest?.format,H=(k||bf)({...ow(_,{format:k}),from:D?.address,accessList:a,authorizationList:r,blobs:l,data:W,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:g,maxPriorityFeePerGas:v,nonce:b,to:z?void 0:x,value:P});if(i&&Vq({request:H})&&!C&&!A)try{return await $q(t,{...H,blockNumber:o,blockTag:s})}catch(M){if(!(M instanceof D4)&&!(M instanceof JE))throw M}const G=(()=>{const M=[H,w];return C&&A?[...M,C,A]:C?[...M,C]:A?[...M,{},A]:M})(),L=await t.request({method:"eth_call",params:G});return L==="0x"?{data:void 0}:{data:L}}catch(B){const w=Kq(B),{offchainLookup:A,offchainLookupSignature:C}=await qe(async()=>{const{offchainLookup:k,offchainLookupSignature:I}=await import("./ccip-C0l6dznY.js");return{offchainLookup:k,offchainLookupSignature:I}},[]);if(t.ccipRead!==!1&&w?.slice(0,10)===C&&x)return{data:await A(t,{data:w,to:x})};throw z&&w?.slice(0,10)==="0x101bb98d"?new lq({factory:f}):LB(B,{...e,account:D,chain:t.chain})}}function Vq({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(Hq)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function $q(t,e){const{batchSize:n=1024,wait:r=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:o="latest",data:s,multicallAddress:a,to:l}=e;let c=a;if(!c){if(!t.chain)throw new D4;c=Af({blockNumber:i,chain:t.chain,contract:"multicall3"})}const d=(typeof i=="bigint"?je(i):void 0)||o,{schedule:f}=DB({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(m){return m.reduce((g,{data:v})=>g+(v.length-2),0)>n*2},fn:async m=>{const y=m.map(b=>({allowFailure:!0,callData:b.data,target:b.to})),g=Io({abi:lA,args:[y],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{data:g,to:c},d]});return fu({abi:lA,args:[y],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:h,success:p}]=await f({data:s,to:l});if(!p)throw new dw({data:h});return h==="0x"?{data:void 0}:{data:h}}function qq(t){const{code:e,data:n}=t;return nw({abi:gB(["constructor(bytes, bytes)"]),bytecode:OB,args:[e,n]})}function Qq(t){const{data:e,factory:n,factoryData:r,to:i}=t;return nw({abi:gB(["constructor(address, bytes, address, bytes)"]),bytecode:Gq,args:[i,e,n,r]})}function Kq(t){if(!(t instanceof Fe))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}async function Fs(t,e){const{abi:n,address:r,args:i,functionName:o,...s}=e,a=Io({abi:n,args:i,functionName:o});try{const{data:l}=await Mt(t,mw,"call")({...s,data:a,to:r});return fu({abi:n,args:i,functionName:o,data:l||"0x"})}catch(l){throw Vc(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:o})}}async function Xq(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:o,gatewayUrls:s,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return Af({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l?.ensTlds;if(u&&!u.some(d=>o.endsWith(d)))return null;try{const d=Io({abi:NM,functionName:"addr",...i!=null?{args:[Og(o),BigInt(i)]}:{args:[Og(o)]}}),f={address:c,abi:rB,functionName:"resolve",args:[jr(fw(o)),d,s??[_B]],blockNumber:n,blockTag:r},p=await Mt(t,Fs,"readContract")(f);if(p[0]==="0x")return null;const m=fu({abi:NM,args:i!=null?[Og(o),BigInt(i)]:void 0,functionName:"addr",data:p[0]});return m==="0x"||Ai(m)==="0x00"?null:m}catch(d){if(a)throw d;if(rC(d,"resolve"))return null;throw d}}class Yq extends Fe{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Zf extends Fe{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class dC extends Fe{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Jq extends Fe{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Zq=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,eQ=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,tQ=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,nQ=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function rQ(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function WM(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function UB({uri:t,gatewayUrls:e}){const n=tQ.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=WM(e?.ipfs,"https://ipfs.io"),i=WM(e?.arweave,"https://arweave.net"),o=t.match(Zq),{protocol:s,subpath:a,target:l,subtarget:c=""}=o?.groups||{},u=s==="ipns:/"||a==="ipns/",d=s==="ipfs:/"||a==="ipfs/"||eQ.test(t);if(t.startsWith("http")&&!u&&!d){let h=t;return e?.arweave&&(h=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((u||d)&&l)return{uri:`${r}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(nQ,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new dC({uri:t})}function zB(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new Yq({data:t});return t.image||t.image_url||t.image_data}async function iQ({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await fC({gatewayUrls:t,uri:zB(n)})}catch{throw new dC({uri:e})}}async function fC({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=UB({uri:e,gatewayUrls:t});if(r||await rQ(n))return n;throw new dC({uri:e})}function oQ(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[o,s]=n.split(":"),[a,l]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Zf({reason:"Only EIP-155 supported"});if(!s)throw new Zf({reason:"Chain ID not found"});if(!l)throw new Zf({reason:"Contract address not found"});if(!i)throw new Zf({reason:"Token ID not found"});if(!a)throw new Zf({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s),namespace:a.toLowerCase(),contractAddress:l,tokenID:i}}async function sQ(t,{nft:e}){if(e.namespace==="erc721")return Fs(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Fs(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Jq({namespace:e.namespace})}async function aQ(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?lQ(t,{gatewayUrls:e,record:n}):fC({uri:n,gatewayUrls:e})}async function lQ(t,{gatewayUrls:e,record:n}){const r=oQ(n),i=await sQ(t,{nft:r}),{uri:o,isOnChain:s,isEncoded:a}=UB({uri:i,gatewayUrls:e});if(s&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const c=a?atob(o.replace("data:application/json;base64,","")):o,u=JSON.parse(c);return fC({uri:zB(u),gatewayUrls:e})}let l=r.tokenID;return r.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),iQ({gatewayUrls:e,uri:o.replace(/(?:0x)?{id}/,l)})}async function jB(t,e){const{blockNumber:n,blockTag:r,key:i,name:o,gatewayUrls:s,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return Af({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l?.ensTlds;if(u&&!u.some(d=>o.endsWith(d)))return null;try{const d={address:c,abi:rB,functionName:"resolve",args:[jr(fw(o)),Io({abi:PM,functionName:"text",args:[Og(o),i]}),s??[_B]],blockNumber:n,blockTag:r},h=await Mt(t,Fs,"readContract")(d);if(h[0]==="0x")return null;const p=fu({abi:PM,functionName:"text",data:h[0]});return p===""?null:p}catch(d){if(a)throw d;if(rC(d,"resolve"))return null;throw d}}async function HB(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:o,strict:s,universalResolverAddress:a}){const l=await Mt(t,jB,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:o,strict:s});if(!l)return null;try{return await aQ(t,{record:l,gatewayUrls:r})}catch{return null}}async function GB(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:i,strict:o,universalResolverAddress:s}){let a=s;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Af({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const l=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const c={address:a,abi:r$,functionName:"reverse",args:[jr(fw(l))],blockNumber:n,blockTag:r},u=Mt(t,Fs,"readContract"),[d,f]=i?await u({...c,args:[...c.args,i]}):await u(c);return e.toLowerCase()!==f.toLowerCase()?null:d}catch(c){if(o)throw c;if(rC(c,"reverse"))return null;throw c}}async function cQ(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:o}=t,s=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return Af({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(c=>i.endsWith(c)))throw new Error(`${i} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[l]=await Mt(t,Fs,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[jr(fw(i))],blockNumber:n,blockTag:r});return l}async function WB(t,e){const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:o,data:s,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h,...p}=e,m=n?Dn(n):void 0;try{uu(e);const g=(typeof r=="bigint"?je(r):void 0)||i,v=t.chain?.formatters?.transactionRequest?.format,x=(v||bf)({...ow(p,{format:v}),from:m?.address,blobs:o,data:s,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h}),P=await t.request({method:"eth_createAccessList",params:[x,g]});return{accessList:P.accessList,gasUsed:BigInt(P.gasUsed)}}catch(y){throw LB(y,{...e,account:m,chain:t.chain})}}function gw(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:i,status:o,transport:s})=>{o==="success"&&e===r&&(n[i]=s.request)}),r=>n[r]||t.request}async function uQ(t){const e=gw(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}class dQ extends Fe{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const VM="/docs/contract/encodeEventTopics";function Am(t){const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const l=du({abi:e,name:n});if(!l)throw new gM(n,{docsPath:VM});i=l}if(i.type!=="event")throw new gM(void 0,{docsPath:VM});const o=ts(i),s=uw(o);let a=[];if(r&&"inputs"in i){const l=i.inputs?.filter(u=>"indexed"in u&&u.indexed),c=Array.isArray(r)?r:Object.values(r).length>0?l?.map(u=>r[u.name])??[]:[];c.length>0&&(a=l?.map((u,d)=>Array.isArray(c[d])?c[d].map((f,h)=>$M({param:u,value:c[d][h]})):typeof c[d]<"u"&&c[d]!==null?$M({param:u,value:c[d]}):null)??[])}return[s,...a]}function $M({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return mr(wf(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new dQ(t.type);return Dl([t],[e])}async function VB(t,e){const{address:n,abi:r,args:i,eventName:o,fromBlock:s,strict:a,toBlock:l}=e,c=gw(t,{method:"eth_newFilter"}),u=o?Am({abi:r,args:i,eventName:o}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof s=="bigint"?je(s):s,toBlock:typeof l=="bigint"?je(l):l,topics:u}]});return{abi:r,args:i,eventName:o,id:d,request:c(d),strict:!!a,type:"event"}}async function $B(t,{address:e,args:n,event:r,events:i,fromBlock:o,strict:s,toBlock:a}={}){const l=i??(r?[r]:void 0),c=gw(t,{method:"eth_newFilter"});let u=[];l&&(u=[l.flatMap(h=>Am({abi:[h],eventName:h.name,args:n}))],r&&(u=u[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof o=="bigint"?je(o):o,toBlock:typeof a=="bigint"?je(a):a,...u.length?{topics:u}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:c(d),strict:!!s,toBlock:a,type:"event"}}async function qB(t){const e=gw(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function fQ(t,e){const{abi:n,address:r,args:i,functionName:o,dataSuffix:s,...a}=e,l=Io({abi:n,args:i,functionName:o});try{return await Mt(t,XS,"estimateGas")({data:`${l}${s?s.replace("0x",""):""}`,to:r,...a})}catch(c){const u=a.account?Dn(a.account):void 0;throw Vc(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u?.address})}}async function hQ(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}const pQ=new Map,mQ=new Map;function gQ(t){const e=(i,o)=>({clear:()=>o.delete(i),get:()=>o.get(i),set:s=>o.set(i,s)}),n=e(t,pQ),r=e(t,mQ);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function yQ(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=gQ(e),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let o=r.promise.get();o||(o=t(),r.promise.set(o));try{const s=await o;return r.response.set({created:new Date,data:s}),s}finally{r.promise.clear()}}const vQ=t=>`blockNumber.${t}`;async function _m(t,{cacheTime:e=t.cacheTime}={}){const n=await yQ(()=>t.request({method:"eth_blockNumber"}),{cacheKey:vQ(t.uid),cacheTime:e});return BigInt(n)}async function wQ(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?je(n):void 0;let o;return e?o=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):o=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),_o(o)}async function qM(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?je(n):void 0,o=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(o!=="0x")return o}function yw(t,e){if(!Jn(t,{strict:!1}))throw new oi({address:t});if(!Jn(e,{strict:!1}))throw new oi({address:e});return t.toLowerCase()===e.toLowerCase()}const QM="/docs/contract/decodeEventLog";function hC(t){const{abi:e,data:n,strict:r,topics:i}=t,o=r??!0,[s,...a]=i;if(!s)throw new dW({docsPath:QM});const l=e.find(m=>m.type==="event"&&s===uw(ts(m)));if(!(l&&"name"in l)||l.type!=="event")throw new g4(s,{docsPath:QM});const{name:c,inputs:u}=l,d=u?.some(m=>!("name"in m&&m.name)),f=d?[]:{},h=u.map((m,y)=>[m,y]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<h.length;m++){const[y,g]=h[m],v=a[m];if(!v)throw new ew({abiItem:l,param:y});f[d?g:y.name||g]=bQ({param:y,value:v})}const p=u.filter(m=>!("indexed"in m&&m.indexed));if(p.length>0){if(n&&n!=="0x")try{const m=xm(p,n);if(m)if(d)for(let y=0;y<u.length;y++)f[y]=f[y]??m.shift();else for(let y=0;y<p.length;y++)f[p[y].name]=m[y]}catch(m){if(o)throw m instanceof p4||m instanceof F4?new yp({abiItem:l,data:n,params:p,size:Cn(n)}):m}else if(o)throw new yp({abiItem:l,data:"0x",params:p,size:0})}return{eventName:c,args:Object.values(f).length>0?f:void 0}}function bQ({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(xm([t],e)||[])[0]}function pC(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,o=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(s=>{try{const a=e.find(c=>c.type==="event"&&s.topics[0]===uw(c));if(!a)return null;const l=hC({...s,abi:[a],strict:i});return o&&!o.includes(l.eventName)||!xQ({args:l.args,inputs:a.inputs,matchArgs:n})?null:{...l,...s}}catch(a){let l,c;if(a instanceof g4)return null;if(a instanceof yp||a instanceof ew){if(i)return null;l=a.abiItem.name,c=a.abiItem.inputs?.some(u=>!("name"in u&&u.name))}return{...s,args:c?[]:{},eventName:l}}}).filter(Boolean)}function xQ(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(o,s,a){try{return o.type==="address"?yw(s,a):o.type==="string"||o.type==="bytes"?mr(wf(s))===a:s===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((o,s)=>{if(o==null)return!0;const a=n[s];return a?(Array.isArray(o)?o:[o]).some(c=>i(a,c,e[s])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,s])=>{if(s==null)return!0;const a=n.find(c=>c.name===o);return a?(Array.isArray(s)?s:[s]).some(c=>i(a,c,e[o])):!1}):!1}function Ea(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function mC(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:o,events:s,args:a,strict:l}={}){const c=l??!1,u=s??(o?[o]:void 0);let d=[];u&&(d=[u.flatMap(m=>Am({abi:[m],eventName:m.name,args:s?void 0:a}))],o&&(d=d[0]));let f;n?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:n}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof r=="bigint"?je(r):r,toBlock:typeof i=="bigint"?je(i):i}]});const h=f.map(p=>Ea(p));return u?pC({abi:u,args:a,logs:h,strict:c}):h}async function QB(t,e){const{abi:n,address:r,args:i,blockHash:o,eventName:s,fromBlock:a,toBlock:l,strict:c}=e,u=s?du({abi:n,name:s}):void 0,d=u?void 0:n.filter(f=>f.type==="event");return Mt(t,mC,"getLogs")({address:r,args:i,blockHash:o,event:u,events:d,fromBlock:a,toBlock:l,strict:c})}class EQ extends Fe{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function AQ(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[o,s,a,l,c,u,d]=await Mt(t,Fs,"readContract")({abi:_Q,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:s,version:a,chainId:Number(l),verifyingContract:c,salt:u},extensions:d,fields:o}}catch(o){const s=o;throw s.name==="ContractFunctionExecutionError"&&s.cause.name==="ContractFunctionZeroDataError"?new EQ({address:n}):s}}const _Q=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function SQ(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function CQ(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const o=typeof n=="bigint"?je(n):void 0,s=await t.request({method:"eth_feeHistory",params:[je(e),o||r,i]},{dedupe:!!o});return SQ(s)}async function vw(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(o=>Ea(o));return!("abi"in e)||!e.abi?i:pC({abi:e.abi,logs:i,strict:n})}async function TQ(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(o=>Ea(o));return e.abi?pC({abi:e.abi,logs:i,strict:n}):i}async function MQ(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const o=n!==void 0?je(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,o||r]})}async function gC(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:o}){const s=r||"latest",a=n!==void 0?je(n):void 0;let l=null;if(i?l=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?l=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,je(o)]},{dedupe:!0}):l=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||s,je(o)]},{dedupe:!!a}),!l)throw new j4({blockHash:e,blockNumber:n,blockTag:s,hash:i,index:o});return(t.chain?.formatters?.transaction?.format||aw)(l)}async function IQ(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([Mt(t,_m,"getBlockNumber")({}),e?Mt(t,gC,"getTransaction")({hash:e}):void 0]),o=n?.blockNumber||i?.blockNumber;return o?r-o+1n:0n}const KB={"0x0":"reverted","0x1":"success"};function XB(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>Ea(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?_o(t.transactionIndex):null,status:t.status?KB[t.status]:null,type:t.type?V4[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const RQ=WS("transactionReceipt",XB);async function wA(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new H4({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||XB)(n)}async function YB(t,e){const{account:n,allowFailure:r=!0,batchSize:i,blockNumber:o,blockTag:s,multicallAddress:a,stateOverride:l}=e,c=e.contracts,u=i??(typeof t.batch?.multicall=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=Af({blockNumber:o,chain:t.chain,contract:"multicall3"})}const f=[[]];let h=0,p=0;for(let g=0;g<c.length;g++){const{abi:v,address:b,args:x,functionName:P}=c[g];try{const N=Io({abi:v,args:x,functionName:P});p+=(N.length-2)/2,u>0&&p>u&&f[h].length>0&&(h++,p=(N.length-2)/2,f[h]=[]),f[h]=[...f[h],{allowFailure:!0,callData:N,target:b}]}catch(N){const _=Vc(N,{abi:v,address:b,args:x,docsPath:"/docs/contract/multicall",functionName:P,sender:n});if(!r)throw _;f[h]=[...f[h],{allowFailure:!0,callData:"0x",target:b}]}}const m=await Promise.allSettled(f.map(g=>Mt(t,Fs,"readContract")({abi:lA,account:n,address:d,args:[g],blockNumber:o,blockTag:s,functionName:"aggregate3",stateOverride:l}))),y=[];for(let g=0;g<m.length;g++){const v=m[g];if(v.status==="rejected"){if(!r)throw v.reason;for(let x=0;x<f[g].length;x++)y.push({status:"failure",error:v.reason,result:void 0});continue}const b=v.value;for(let x=0;x<b.length;x++){const{returnData:P,success:N}=b[x],{callData:_}=f[g][x],{abi:D,address:T,functionName:E,args:z}=c[y.length];try{if(_==="0x")throw new pm;if(!N)throw new dw({data:P});const W=fu({abi:D,args:z,data:P,functionName:E});y.push(r?{result:W,status:"success"}:W)}catch(W){const B=Vc(W,{abi:D,address:T,args:z,docsPath:"/docs/contract/multicall",functionName:E});if(!r)throw B;y.push({error:B,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new Fe("multicall results mismatch");return y}async function bA(t,e){const{blockNumber:n,blockTag:r="latest",blocks:i,returnFullTransactions:o,traceTransfers:s,validation:a}=e;try{const l=[];for(const f of i){const h=f.blockOverrides?BB(f.blockOverrides):void 0,p=f.calls.map(y=>{const g=y,v=g.account?Dn(g.account):void 0,b={...g,data:g.abi?Io(g):g.data,from:g.from??v?.address};return uu(b),bf(b)}),m=f.stateOverrides?QS(f.stateOverrides):void 0;l.push({blockOverrides:h,calls:p,stateOverrides:m})}const u=(typeof n=="bigint"?je(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:o,traceTransfers:s,validation:a},u]})).map((f,h)=>({...$S(f),calls:f.calls.map((p,m)=>{const{abi:y,args:g,functionName:v,to:b}=i[h].calls[m],x=p.error?.data??p.returnData,P=BigInt(p.gasUsed),N=p.logs?.map(E=>Ea(E)),_=p.status==="0x1"?"success":"failure",D=y&&_==="success"&&x!=="0x"?fu({abi:y,data:x,functionName:v}):null,T=(()=>{if(_==="success")return;let E;if(p.error?.data==="0x"?E=new pm:p.error&&(E=new dw(p.error)),!!E)return Vc(E,{abi:y??[],address:b??"0x",args:g,functionName:v??"<unknown>"})})();return{data:x,gasUsed:P,logs:N,status:_,..._==="success"?{result:D}:{error:T}}})}))}catch(l){const c=l,u=iw(c,{});throw u instanceof vm?c:u}}function JB(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=LS(Mq(t));return n==="Bytes"?r:NB(r)}class PQ extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const NQ={checksum:new PQ(8192)},ab=NQ.checksum,kQ=/^0x[a-fA-F0-9]{40}$/;function ww(t,e={}){const{strict:n=!0}=e;if(!kQ.test(t))throw new KM({address:t,cause:new BQ});if(n){if(t.toLowerCase()===t)return;if(FQ(t)!==t)throw new KM({address:t,cause:new OQ})}}function FQ(t){if(ab.has(t))return ab.get(t);ww(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=JB(Pq(e),{as:"Bytes"}),r=e.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const i=`0x${r.join("")}`;return ab.set(t,i),i}function xA(t,e={}){const{strict:n=!0}=e??{};try{return ww(t,{strict:n}),!0}catch{return!1}}class KM extends Wn{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class BQ extends Wn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class OQ extends Wn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function EA(t){let e=!0,n="",r=0,i="",o=!1;for(let s=0;s<t.length;s++){const a=t[s];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){o=!0;break}continue}if(a===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!o)throw new Wn("Unable to normalize signature.");return i}function AA(t,e){const n=typeof t,r=e.type;switch(r){case"address":return xA(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,o)=>AA(Object.values(t)[o],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>AA(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function ZB(t,e,n){for(const r in t){const i=t[r],o=e[r];if(i.type==="tuple"&&o.type==="tuple"&&"components"in i&&"components"in o)return ZB(i.components,o.components,n[r]);const s=[i.type,o.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?xA(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?xA(n[r],{strict:!1}):!1)return s}}function eO(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?OM(t):t;return{...r,...n?{hash:ad(r)}:{}}}function LQ(t,e,n){const{args:r=[],prepare:i=!0}=n??{},o=Dq(e,{strict:!1}),s=t.filter(c=>o?c.type==="function"||c.type==="error"?tO(c)===cC(e,0,4):c.type==="event"?ad(c)===e:!1:"name"in c&&c.name===e);if(s.length===0)throw new _A({name:e});if(s.length===1)return{...s[0],...i?{hash:ad(s[0])}:{}};let a;for(const c of s){if(!("inputs"in c))continue;if(!r||r.length===0){if(!c.inputs||c.inputs.length===0)return{...c,...i?{hash:ad(c)}:{}};continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==r.length)continue;if(r.every((d,f)=>{const h="inputs"in c&&c.inputs[f];return h?AA(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=ZB(c.inputs,a.inputs,r);if(d)throw new UQ({abiItem:c,type:d[0]},{abiItem:a,type:d[1]})}a=c}}const l=(()=>{if(a)return a;const[c,...u]=s;return{...c,overloads:u}})();if(!l)throw new _A({name:e});return{...l,...i?{hash:ad(l)}:{}}}function tO(t){return cC(ad(t),0,4)}function DQ(t){const e=typeof t=="string"?t:Oy(t);return EA(e)}function ad(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:JB(lC(DQ(t)))}class UQ extends Wn{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${EA(Oy(e.abiItem))}\`, and`,`\`${n.type}\` in \`${EA(Oy(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class _A extends Wn{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const zQ=/^(.*)\[([0-9]*)\]$/,jQ=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,nO=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function HQ({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(yC({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function yC({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=XQ(r.type);if(i){const[o,s]=i;return WQ(n,{checksumAddress:t,length:o,parameter:{...r,type:s}})}if(r.type==="tuple")return KQ(n,{checksumAddress:t,parameter:r});if(r.type==="address")return GQ(n,{checksum:t});if(r.type==="bool")return $Q(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,s="256"]=nO.exec(r.type)??[];return qQ(n,{signed:o,size:Number(s)})}if(r.type.startsWith("bytes"))return VQ(n,{type:r.type});if(r.type==="string")return QQ(n);throw new sO(r.type)}function vC(t){let e=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?e+=32:e+=Co(a)}const n=[],r=[];let i=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?(n.push(Xr(e+i,{size:32})),r.push(a),i+=Co(a)):n.push(a)}return ks(...n,...r)}function GQ(t,e){const{checksum:n=!1}=e;return ww(t,{strict:n}),{dynamic:!1,encoded:$c(t.toLowerCase())}}function WQ(t,e){const{checksumAddress:n,length:r,parameter:i}=e,o=r===null;if(!Array.isArray(t))throw new JQ(t);if(!o&&t.length!==r)throw new YQ({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let s=!1;const a=[];for(let l=0;l<t.length;l++){const c=yC({checksumAddress:n,parameter:i,value:t[l]});c.dynamic&&(s=!0),a.push(c)}if(o||s){const l=vC(a);if(o){const c=Xr(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?ks(c,l):c}}if(s)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:ks(...a.map(({encoded:l})=>l))}}function VQ(t,{type:e}){const[,n]=e.split("bytes"),r=Co(t);if(!n){let i=t;return r%32!==0&&(i=qc(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:ks($c(Xr(r,{size:32})),i)}}if(r!==Number.parseInt(n))throw new iO({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:qc(t)}}function $Q(t){if(typeof t!="boolean")throw new Wn(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:$c(PB(t))}}function qQ(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new kB({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Xr(t,{size:32,signed:e})}}function QQ(t){const e=lC(t),n=Math.ceil(Co(e)/32),r=[];for(let i=0;i<n;i++)r.push(qc(cC(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:ks(qc(Xr(Co(e),{size:32})),...r)}}function KQ(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const o=[];for(let s=0;s<r.components.length;s++){const a=r.components[s],l=Array.isArray(t)?s:a.name,c=yC({checksumAddress:n,parameter:a,value:t[l]});o.push(c),c.dynamic&&(i=!0)}return{dynamic:i,encoded:i?vC(o):ks(...o.map(({encoded:s})=>s))}}function XQ(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function rO(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new oO({expectedLength:t.length,givenLength:e.length});const i=HQ({checksumAddress:r,parameters:t,values:e}),o=vC(i);return o.length===0?"0x":o}function SA(t,e){if(t.length!==e.length)throw new oO({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],o=e[r];n.push(SA.encode(i,o))}return ks(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const l=r;return ww(l),$c(l.toLowerCase(),i?32:0)}if(n==="string")return lC(r);if(n==="bytes")return r;if(n==="bool")return $c(PB(r),i?32:1);const o=n.match(nO);if(o){const[l,c,u="256"]=o,d=Number.parseInt(u)/8;return Xr(r,{size:i?32:d,signed:c==="int"})}const s=n.match(jQ);if(s){const[l,c]=s;if(Number.parseInt(c)!==(r.length-2)/2)throw new iO({expectedSize:Number.parseInt(c),value:r});return qc(r,i?32:0)}const a=n.match(zQ);if(a&&Array.isArray(r)){const[l,c]=a,u=[];for(let d=0;d<r.length;d++)u.push(e(c,r[d],!0));return u.length===0?"0x":ks(...u)}throw new sO(n)}t.encode=e})(SA||(SA={}));class YQ extends Wn{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class iO extends Wn{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Co(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class oO extends Wn{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class JQ extends Wn{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class sO extends Wn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function ZQ(t,e){const{bytecode:n,args:r}=e;return ks(n,t.inputs?.length&&r?.length?rO(t.inputs,r):"0x")}function eK(t){return eO(t)}function tK(t,...e){const{overloads:n}=t,r=n?nK([t,...n],t.name,{args:e[0]}):t,i=rK(r),o=e.length>0?rO(r.inputs,e[0]):void 0;return o?ks(i,o):i}function Su(t,e={}){return eO(t,e)}function nK(t,e,n){const r=LQ(t,e,n);if(r.type!=="function")throw new _A({name:e,type:"function"});return r}function rK(t){return tO(t)}const iK="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",cs="0x0000000000000000000000000000000000000000",p0=new tw(8192);function oK(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(p0.get(n))return p0.get(n);const r=t().finally(()=>p0.delete(n));return p0.set(n,r),r}async function CA(t){return new Promise(e=>setTimeout(e,t))}function Dy(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,o)=>{const s=async({count:a=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:a,error:c}):e;u&&await CA(u),s({count:a+1})};try{const c=await t();i(c)}catch(c){if(a<n&&await r({count:a,error:c}))return l({error:c});o(c)}};s()})}function sK(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,methods:o,retryDelay:s=150,retryCount:a=3,uid:l}={...e,...r},{method:c}=n;if(o?.exclude?.includes(c))throw new yc(new Error("method not supported"),{method:c});if(o?.include&&!o.include.includes(c))throw new yc(new Error("method not supported"),{method:c});const u=i?zd(`${l}.${sr(n)}`):void 0;return oK(()=>Dy(async()=>{try{return await t(n)}catch(d){const f=d;switch(f.code){case xp.code:throw new xp(f);case Ep.code:throw new Ep(f);case Ap.code:throw new Ap(f,{method:n.method});case _p.code:throw new _p(f);case Hc.code:throw new Hc(f);case Gc.code:throw new Gc(f);case Sp.code:throw new Sp(f);case bl.code:throw new bl(f);case Cp.code:throw new Cp(f);case yc.code:throw new yc(f,{method:n.method});case Wd.code:throw new Wd(f);case Tp.code:throw new Tp(f);case wn.code:throw new wn(f);case Mp.code:throw new Mp(f);case Ip.code:throw new Ip(f);case Rp.code:throw new Rp(f);case Pp.code:throw new Pp(f);case So.code:throw new So(f);case Vd.code:throw new Vd(f);case Np.code:throw new Np(f);case kp.code:throw new kp(f);case Fp.code:throw new Fp(f);case Bp.code:throw new Bp(f);case Op.code:throw new Op(f);case $d.code:throw new $d(f);case 5e3:throw new wn(f);default:throw d instanceof Fe?d:new TV(f)}}},{delay:({count:d,error:f})=>{if(f&&f instanceof zh){const h=f?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h)*1e3}return~~(1<<d)*s},retryCount:a,shouldRetry:({error:d})=>aK(d)}),{enabled:i,id:u})}}function aK(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Wd.code||t.code===Hc.code:t instanceof zh&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function hu(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function wC(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,o)=>{(async()=>{let s;try{const a=new AbortController;n>0&&(s=setTimeout(()=>{r?a.abort():o(e)},n)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(e),o(a)}finally{clearTimeout(s)}})()})}function lK(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const XM=lK();function cK(t,e={}){return{async request(n){const{body:r,onRequest:i=e.onRequest,onResponse:o=e.onResponse,timeout:s=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:c,signal:u}=a;try{const d=await wC(async({signal:h})=>{const p={...a,body:Array.isArray(r)?sr(r.map(v=>({jsonrpc:"2.0",id:v.id??XM.take(),...v}))):sr({jsonrpc:"2.0",id:r.id??XM.take(),...r}),headers:{"Content-Type":"application/json",...l},method:c||"POST",signal:u||(s>0?h:null)},m=new Request(t,p),y=await i?.(m,p)??{...p,url:t};return await fetch(y.url??t,y)},{errorInstance:new SM({body:r,url:t}),timeout:s,signal:!0});o&&await o(d);let f;if(d.headers.get("Content-Type")?.startsWith("application/json"))f=await d.json();else{f=await d.text();try{f=JSON.parse(f||"{}")}catch(h){if(d.ok)throw h;f={error:f}}}if(!d.ok)throw new zh({body:r,details:sr(f.error)||d.statusText,headers:d.headers,status:d.status,url:t});return f}catch(d){throw d instanceof zh||d instanceof SM?d:new zh({body:r,cause:d,url:t})}}}}class uK extends Fe{constructor({domain:e}){super(`Invalid domain "${sr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class dK extends Fe{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class fK extends Fe{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function hK(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:fO({domain:e}),...t.types};dO({domain:e,message:n,primaryType:r,types:i});const o=["0x1901"];return e&&o.push(pK({domain:e,types:i})),r!=="EIP712Domain"&&o.push(aO({data:n,primaryType:r,types:i})),mr(Ns(o))}function pK({domain:t,types:e}){return aO({data:t,primaryType:"EIP712Domain",types:e})}function aO({data:t,primaryType:e,types:n}){const r=lO({data:t,primaryType:e,types:n});return mr(r)}function lO({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[mK({primaryType:e,types:n})];for(const o of n[e]){const[s,a]=uO({types:n,name:o.name,type:o.type,value:t[o.name]});r.push(s),i.push(a)}return Dl(r,i)}function mK({primaryType:t,types:e}){const n=jr(gK({primaryType:t,types:e}));return mr(n)}function gK({primaryType:t,types:e}){let n="";const r=cO({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const o of i)n+=`${o}(${e[o].map(({name:s,type:a})=>`${a} ${s}`).join(",")})`;return n}function cO({primaryType:t,types:e},n=new Set){const i=t.match(/^\w*/u)?.[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const o of e[i])cO({primaryType:o.type,types:e},n);return n}function uO({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},mr(lO({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},mr(r)];if(n==="string")return[{type:"bytes32"},mr(jr(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),o=r.map(s=>uO({name:e,type:i,types:t,value:s}));return[{type:"bytes32"},mr(Dl(o.map(([s])=>s),o.map(([,s])=>s)))]}return[{type:n},r]}function yK(t){const{domain:e,message:n,primaryType:r,types:i}=t,o=(l,c)=>{const u={...c};for(const d of l){const{name:f,type:h}=d;h==="address"&&(u[f]=u[f].toLowerCase())}return u},s=i.EIP712Domain?e?o(i.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(i[r],n)})();return sr({domain:s,message:a,primaryType:r,types:i})}function dO(t){const{domain:e,message:n,primaryType:r,types:i}=t,o=(s,a)=>{for(const l of s){const{name:c,type:u}=l,d=a[c],f=u.match(N4);if(f&&(typeof d=="number"||typeof d=="bigint")){const[m,y,g]=f;je(d,{signed:y==="int",size:Number.parseInt(g)/8})}if(u==="address"&&typeof d=="string"&&!Jn(d))throw new oi({address:d});const h=u.match(YW);if(h){const[m,y]=h;if(y&&Cn(d)!==Number.parseInt(y))throw new pW({expectedSize:Number.parseInt(y),givenSize:Cn(d)})}const p=i[u];p&&(vK(u),o(p,d))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new uK({domain:e});o(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])o(i[r],n);else throw new dK({primaryType:r,types:i})}function fO({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function vK(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new fK({type:t})}function wK(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,i=n.address;if(!Jn(i))throw new oi({address:i});if(r<0)throw new rw({chainId:r})}bC(t)}function bK(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new J4;for(const n of e){const r=Cn(n),i=_o(zc(n,0,1));if(r!==32)throw new ZV({hash:n,size:r});if(i!==Y4)throw new e$({hash:n,version:i})}}bC(t)}function bC(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=t;if(e<=0)throw new rw({chainId:e});if(i&&!Jn(i))throw new oi({address:i});if(r&&r>sw)throw new jc({maxFeePerGas:r});if(n&&r&&n>r)throw new bp({maxFeePerGas:r,maxPriorityFeePerGas:n})}function xK(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:o}=t;if(e<=0)throw new rw({chainId:e});if(o&&!Jn(o))throw new oi({address:o});if(n||i)throw new Fe("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>sw)throw new jc({maxFeePerGas:r})}function EK(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:o}=t;if(o&&!Jn(o))throw new oi({address:o});if(typeof e<"u"&&e<=0)throw new rw({chainId:e});if(n||i)throw new Fe("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>sw)throw new jc({maxFeePerGas:r})}function bw(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:i}=t[n];for(let o=0;o<i.length;o++)if(i[o].length-2!==64)throw new EV({storageKey:i[o]});if(!Jn(r,{strict:!1}))throw new oi({address:r});e.push([r,i])}return e}function AK(t,e){const n=eB(t);return n==="eip1559"?CK(t,e):n==="eip2930"?TK(t,e):n==="eip4844"?SK(t,e):n==="eip7702"?_K(t,e):MK(t,e)}function _K(t,e){const{authorizationList:n,chainId:r,gas:i,nonce:o,to:s,value:a,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:d}=t;wK(t);const f=bw(u),h=IK(n);return rs(["0x04",Tl([je(r),o?je(o):"0x",c?je(c):"0x",l?je(l):"0x",i?je(i):"0x",s??"0x",a?je(a):"0x",d??"0x",f,h,...Sm(t,e)])])}function SK(t,e){const{chainId:n,gas:r,nonce:i,to:o,value:s,maxFeePerBlobGas:a,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:d}=t;bK(t);let f=t.blobVersionedHashes,h=t.sidecars;if(t.blobs&&(typeof f>"u"||typeof h>"u")){const b=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(N=>Yn(N)),x=t.kzg,P=JS({blobs:b,kzg:x});if(typeof f>"u"&&(f=Q4({commitments:P})),typeof h>"u"){const N=ZS({blobs:b,commitments:P,kzg:x});h=Z4({blobs:b,commitments:P,proofs:N})}}const p=bw(u),m=[je(n),i?je(i):"0x",c?je(c):"0x",l?je(l):"0x",r?je(r):"0x",o??"0x",s?je(s):"0x",d??"0x",p,a?je(a):"0x",f??[],...Sm(t,e)],y=[],g=[],v=[];if(h)for(let b=0;b<h.length;b++){const{blob:x,commitment:P,proof:N}=h[b];y.push(x),g.push(P),v.push(N)}return rs(["0x03",Tl(h?[m,y,g,v]:m)])}function CK(t,e){const{chainId:n,gas:r,nonce:i,to:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:l,accessList:c,data:u}=t;bC(t);const d=bw(c),f=[je(n),i?je(i):"0x",l?je(l):"0x",a?je(a):"0x",r?je(r):"0x",o??"0x",s?je(s):"0x",u??"0x",d,...Sm(t,e)];return rs(["0x02",Tl(f)])}function TK(t,e){const{chainId:n,gas:r,data:i,nonce:o,to:s,value:a,accessList:l,gasPrice:c}=t;xK(t);const u=bw(l),d=[je(n),o?je(o):"0x",c?je(c):"0x",r?je(r):"0x",s??"0x",a?je(a):"0x",i??"0x",u,...Sm(t,e)];return rs(["0x01",Tl(d)])}function MK(t,e){const{chainId:n=0,gas:r,data:i,nonce:o,to:s,value:a,gasPrice:l}=t;EK(t);let c=[o?je(o):"0x",l?je(l):"0x",r?je(r):"0x",s??"0x",a?je(a):"0x",i??"0x"];if(e){const u=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const h=27n+(e.v===27n?0n:1n);if(e.v!==h)throw new bV({v:e.v});return h})(),d=Ai(e.r),f=Ai(e.s);c=[...c,je(u),d==="0x00"?"0x":d,f==="0x00"?"0x":f]}else n>0&&(c=[...c,je(n),"0x","0x"]);return Tl(c)}function Sm(t,e){const n=e??t,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const o=Ai(n.r),s=Ai(n.s);return[typeof i=="number"?i?je(1):"0x":r===0n?"0x":r===1n?je(1):r===27n?"0x":je(1),o==="0x00"?"0x":o,s==="0x00"?"0x":s]}function IK(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:i,...o}=n,s=n.address;e.push([r?jr(r):"0x",s,i?jr(i):"0x",...Sm({},o)])}return e}const RK=`Ethereum Signed Message:
`;function PK(t){const e=typeof t=="string"?zd(t):typeof t.raw=="string"?t.raw:Yn(t.raw),n=zd(`${RK}${Cn(e)}`);return Ns([n,e])}function hO(t,e){return mr(PK(t),e)}const pO="0x6492649264926492649264926492649264926492649264926492649264926492";function NK(t){return By(t,-32)===pO}function kK(t){const{address:e,data:n,signature:r,to:i="hex"}=t,o=rs([Dl([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),pO]);return i==="hex"?o:Ao(o)}class FK extends Fe{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function BK(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new FK({value:t});let[n,r="0"]=t.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[o,s,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],l=Math.round(+`${s}.${a}`);l>9?r=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):r=`${o}${l}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}function Ua(t,e="wei"){return BK(t,z4[e])}const OK="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function LK(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:o,traceAssetChanges:s,traceTransfers:a,validation:l}=e,c=e.account?Dn(e.account):void 0;if(s&&!c)throw new Fe("`account` is required when `traceAssetChanges` is true");const u=c?ZQ(eK("constructor(bytes, bytes)"),{bytecode:OB,args:[OK,tK(Su("function getBalance(address)"),[c.address])]}):void 0,d=s?await Promise.all(e.calls.map(async I=>{if(!I.data&&!I.abi)return;const{accessList:H}=await WB(t,{account:c.address,...I,data:I.abi?Io(I):I.data});return H.map(({address:G,storageKeys:L})=>L.length>0?G:null)})).then(I=>I.flat().filter(Boolean)):[],f=await bA(t,{blockNumber:n,blockTag:r,blocks:[...s?[{calls:[{data:u}],stateOverrides:o},{calls:d.map((I,H)=>({abi:[Su("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:I,from:cs,nonce:H})),stateOverrides:[{address:cs,nonce:0}]}]:[],{calls:[...i,{}].map(I=>({...I,from:c?.address})),stateOverrides:o},...s?[{calls:[{data:u}]},{calls:d.map((I,H)=>({abi:[Su("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:I,from:cs,nonce:H})),stateOverrides:[{address:cs,nonce:0}]},{calls:d.map((I,H)=>({to:I,abi:[Su("function decimals() returns (uint256)")],functionName:"decimals",from:cs,nonce:H})),stateOverrides:[{address:cs,nonce:0}]},{calls:d.map((I,H)=>({to:I,abi:[Su("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:cs,nonce:H})),stateOverrides:[{address:cs,nonce:0}]},{calls:d.map((I,H)=>({to:I,abi:[Su("function symbol() returns (string)")],functionName:"symbol",from:cs,nonce:H})),stateOverrides:[{address:cs,nonce:0}]}]:[]],traceTransfers:a,validation:l}),h=s?f[2]:f[0],[p,m,,y,g,v,b,x]=s?f:[],{calls:P,...N}=h,_=P.slice(0,-1)??[],D=p?.calls??[],T=m?.calls??[],E=[...D,...T].map(I=>I.status==="success"?pr(I.data):null),z=y?.calls??[],W=g?.calls??[],B=[...z,...W].map(I=>I.status==="success"?pr(I.data):null),w=(v?.calls??[]).map(I=>I.status==="success"?I.result:null),A=(x?.calls??[]).map(I=>I.status==="success"?I.result:null),C=(b?.calls??[]).map(I=>I.status==="success"?I.result:null),k=[];for(const[I,H]of B.entries()){const G=E[I];if(typeof H!="bigint"||typeof G!="bigint")continue;const L=w[I-1],M=A[I-1],$=C[I-1],J=I===0?{address:iK,decimals:18,symbol:"ETH"}:{address:d[I-1],decimals:$||L?Number(L??1):void 0,symbol:M??void 0};k.some(te=>te.token.address===J.address)||k.push({token:J,value:{pre:G,post:H,diff:H-G}})}return{assetChanges:k,block:N,results:_}}const lb=new Map,YM=new Map;let DK=0;function Aa(t,e,n){const r=++DK,i=()=>lb.get(t)||[],o=()=>{const u=i();lb.set(t,u.filter(d=>d.id!==r))},s=()=>{const u=i();if(!u.some(f=>f.id===r))return;const d=YM.get(t);if(u.length===1&&d){const f=d();f instanceof Promise&&f.catch(()=>{})}o()},a=i();if(lb.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return s;const l={};for(const u in e)l[u]=(...d)=>{const f=i();if(f.length!==0)for(const h of f)h.fns[u]?.(...d)};const c=n(l);return typeof c=="function"&&YM.set(t,c),s}function _f(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const o=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:o}));const l=await n?.(a)??r;await CA(l);const c=async()=>{i&&(await t({unpoll:o}),await CA(r),c())};c()})(),o}function UK(t,{blockTag:e="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:o,includeTransactions:s,poll:a,pollingInterval:l=t.pollingInterval}){const c=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),u=s??!1;let d;return c?(()=>{const p=sr(["watchBlocks",t.uid,e,n,r,u,l]);return Aa(p,{onBlock:i,onError:o},m=>_f(async()=>{try{const y=await Mt(t,_s,"getBlock")({blockTag:e,includeTransactions:u});if(y.number!==null&&d?.number!=null){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let g=d?.number+1n;g<y.number;g++){const v=await Mt(t,_s,"getBlock")({blockNumber:g,includeTransactions:u});m.onBlock(v,d),d=v}}(d?.number==null||e==="pending"&&y?.number==null||y.number!==null&&y.number>d.number)&&(m.onBlock(y,d),d=y)}catch(y){m.onError?.(y)}},{emitOnBegin:r,interval:l}))})():(()=>{let p=!0,m=!0,y=()=>p=!1;return(async()=>{try{r&&Mt(t,_s,"getBlock")({blockTag:e,includeTransactions:u}).then(b=>{p&&m&&(i(b,void 0),m=!1)}).catch(o);const g=(()=>{if(t.transport.type==="fallback"){const b=t.transport.transports.find(x=>x.config.type==="webSocket");return b?b.value:t.transport}return t.transport})(),{unsubscribe:v}=await g.subscribe({params:["newHeads"],async onData(b){if(!p)return;const x=await Mt(t,_s,"getBlock")({blockNumber:b.result?.number,includeTransactions:u}).catch(()=>{});p&&(i(x,d),m=!1,d=x)},onError(b){o?.(b)}});y=v,p||y()}catch(g){o?.(g)}})(),()=>y()})()}function mO(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:o,pollingInterval:s=t.pollingInterval}){const a=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let l;return a?(()=>{const d=sr(["watchBlockNumber",t.uid,e,n,s]);return Aa(d,{onBlockNumber:r,onError:i},f=>_f(async()=>{try{const h=await Mt(t,_m,"getBlockNumber")({cacheTime:0});if(l){if(h===l)return;if(h-l>1&&n)for(let p=l+1n;p<h;p++)f.onBlockNumber(p,l),l=p}(!l||h>l)&&(f.onBlockNumber(h,l),l=h)}catch(h){f.onError?.(h)}},{emitOnBegin:e,interval:s}))})():(()=>{const d=sr(["watchBlockNumber",t.uid,e,n]);return Aa(d,{onBlockNumber:r,onError:i},f=>{let h=!0,p=()=>h=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const g=t.transport.transports.find(v=>v.config.type==="webSocket");return g?g.value:t.transport}return t.transport})(),{unsubscribe:y}=await m.subscribe({params:["newHeads"],onData(g){if(!h)return;const v=pr(g.result?.number);f.onBlockNumber(v,l),l=v},onError(g){f.onError?.(g)}});p=y,h||p()}catch(m){i?.(m)}})(),()=>p()})})()}async function xw(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function zK(t,{address:e,args:n,batch:r=!0,event:i,events:o,fromBlock:s,onError:a,onLogs:l,poll:c,pollingInterval:u=t.pollingInterval,strict:d}){const f=typeof c<"u"?c:typeof s=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),h=d??!1;return f?(()=>{const y=sr(["watchEvent",e,n,r,t.uid,i,u,s]);return Aa(y,{onLogs:l,onError:a},g=>{let v;s!==void 0&&(v=s-1n);let b,x=!1;const P=_f(async()=>{if(!x){try{b=await Mt(t,$B,"createEventFilter")({address:e,args:n,event:i,events:o,strict:h,fromBlock:s})}catch{}x=!0;return}try{let N;if(b)N=await Mt(t,vw,"getFilterChanges")({filter:b});else{const _=await Mt(t,_m,"getBlockNumber")({});v&&v!==_?N=await Mt(t,mC,"getLogs")({address:e,args:n,event:i,events:o,fromBlock:v+1n,toBlock:_}):N=[],v=_}if(N.length===0)return;if(r)g.onLogs(N);else for(const _ of N)g.onLogs([_])}catch(N){b&&N instanceof Gc&&(x=!1),g.onError?.(N)}},{emitOnBegin:!0,interval:u});return async()=>{b&&await Mt(t,xw,"uninstallFilter")({filter:b}),P()}})})():(()=>{let y=!0,g=()=>y=!1;return(async()=>{try{const v=(()=>{if(t.transport.type==="fallback"){const N=t.transport.transports.find(_=>_.config.type==="webSocket");return N?N.value:t.transport}return t.transport})(),b=o??(i?[i]:void 0);let x=[];b&&(x=[b.flatMap(_=>Am({abi:[_],eventName:_.name,args:n}))],i&&(x=x[0]));const{unsubscribe:P}=await v.subscribe({params:["logs",{address:e,topics:x}],onData(N){if(!y)return;const _=N.result;try{const{eventName:D,args:T}=hC({abi:b??[],data:_.data,topics:_.topics,strict:h}),E=Ea(_,{args:T,eventName:D});l([E])}catch(D){let T,E;if(D instanceof yp||D instanceof ew){if(d)return;T=D.abiItem.name,E=D.abiItem.inputs?.some(W=>!("name"in W&&W.name))}const z=Ea(_,{args:E?[]:{},eventName:T});l([z])}},onError(N){a?.(N)}});g=P,y||g()}catch(v){a?.(v)}})(),()=>g()})()}function jK(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:o=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket")?(()=>{const c=sr(["watchPendingTransactions",t.uid,e,o]);return Aa(c,{onTransactions:r,onError:n},u=>{let d;const f=_f(async()=>{try{if(!d)try{d=await Mt(t,qB,"createPendingTransactionFilter")({});return}catch(p){throw f(),p}const h=await Mt(t,vw,"getFilterChanges")({filter:d});if(h.length===0)return;if(e)u.onTransactions(h);else for(const p of h)u.onTransactions([p])}catch(h){u.onError?.(h)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await Mt(t,xw,"uninstallFilter")({filter:d}),f()}})})():(()=>{let c=!0,u=()=>c=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!c)return;const h=f.result;r([h])},onError(f){n?.(f)}});u=d,c||u()}catch(d){n?.(d)}})(),()=>u()})()}async function HK(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>gm(n))}async function GK(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function WK(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?Dn(n):void 0,o=r?[i?.address,[je(r)]]:[i?.address],s=await t.request({method:"wallet_getCapabilities",params:o}),a={};for(const[l,c]of Object.entries(s)){a[Number(l)]={};for(let[u,d]of Object.entries(c))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(l)][u]=d}return typeof r=="number"?a[r]:a}const gO="0x5792579257925792579257925792579257925792579257925792579257925792",yO=je(0,{size:32});async function VK(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:o,experimental_fallbackDelay:s=32,forceAtomic:a=!1,id:l,version:c="2.0.0"}=e,u=n?Dn(n):null,d=e.calls.map(f=>{const h=f;return{data:h.abi?Io({abi:h.abi,functionName:h.functionName,args:h.args}):h.data,to:h.to,value:h.value?je(h.value):void 0}});try{const f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:je(i.id),from:u?.address,id:l,version:c}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const h=f;if(o&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method"))){if(r&&Object.values(r).some(v=>!v.optional)){const v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Vd(new Fe(v,{details:v}))}if(a&&d.length>1){const g="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new $d(new Fe(g,{details:g}))}const p=[];for(const g of d){const v=cw(t,{account:u,chain:i,data:g.data,to:g.to,value:g.value?pr(g.value):void 0});p.push(v),s>0&&await new Promise(b=>setTimeout(b,s))}const m=await Promise.allSettled(p);if(m.every(g=>g.status==="rejected"))throw m[0].reason;const y=m.map(g=>g.status==="fulfilled"?g.value:yO);return{id:Ns([...y,je(i.id,{size:32}),gO])}}throw G4(f,{...e,account:u,chain:e.chain})}}async function vO(t,e){async function n(u){if(u.endsWith(gO.slice(2))){const f=Ai(By(u,-64,-32)),h=By(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(h.map(y=>yO.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),m=p.some(y=>y===null)?100:p.every(y=>y?.status==="0x1")?200:p.every(y=>y?.status==="0x0")?500:600;return{atomic:!1,chainId:_o(f),receipts:p.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:i,receipts:o,version:s="2.0.0",...a}=await n(e.id),[l,c]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:i?_o(i):void 0,receipts:o?.map(u=>({...u,blockNumber:pr(u.blockNumber),gasUsed:pr(u.gasUsed),status:KB[u.status]}))??[],statusCode:c,status:l,version:s}}async function $K(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function qK(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:f})=>f>=200,timeout:o=6e4}=e,s=sr(["waitForCallsStatus",t.uid,n]),{promise:a,resolve:l,reject:c}=uC();let u;const d=Aa(s,{resolve:l,reject:c},f=>{const h=_f(async()=>{const p=m=>{clearTimeout(u),h(),m(),d()};try{const m=await vO(t,{id:n});if(!i(m))return;p(()=>f.resolve(m))}catch(m){p(()=>f.reject(m))}},{interval:r,emitOnBegin:!0});return h});return u=o?setTimeout(()=>{d(),clearTimeout(u),c(new QK({id:n}))},o):void 0,await a}class QK extends Fe{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function KK(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function XK(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?_o(t.nonce):void 0,storageProof:t.storageProof?KK(t.storageProof):void 0}}async function YK(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const o=r??"latest",s=n!==void 0?je(n):void 0,a=await t.request({method:"eth_getProof",params:[e,i,s||o]});return XK(a)}async function JK(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:i=t.pollingInterval,retryCount:o=6,retryDelay:s=({count:l})=>~~(1<<l)*200,timeout:a=18e4}){const l=sr(["waitForTransactionReceipt",t.uid,n]);let c,u,d,f=!1,h,p;const{promise:m,resolve:y,reject:g}=uC(),v=a?setTimeout(()=>{p(),h(),g(new _V({hash:n}))},a):void 0;return h=Aa(l,{onReplaced:r,resolve:y,reject:g},b=>{p=Mt(t,mO,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(x){const P=_=>{clearTimeout(v),p(),_(),h()};let N=x;if(!f)try{if(d){if(e>1&&(!d.blockNumber||N-d.blockNumber+1n<e))return;P(()=>b.resolve(d));return}if(c||(f=!0,await Dy(async()=>{c=await Mt(t,gC,"getTransaction")({hash:n}),c.blockNumber&&(N=c.blockNumber)},{delay:s,retryCount:o}),f=!1),d=await Mt(t,wA,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||N-d.blockNumber+1n<e))return;P(()=>b.resolve(d))}catch(_){if(_ instanceof j4||_ instanceof H4){if(!c){f=!1;return}try{u=c,f=!0;const D=await Dy(()=>Mt(t,_s,"getBlock")({blockNumber:N,includeTransactions:!0}),{delay:s,retryCount:o,shouldRetry:({error:z})=>z instanceof W4});f=!1;const T=D.transactions.find(({from:z,nonce:W})=>z===u.from&&W===u.nonce);if(!T||(d=await Mt(t,wA,"getTransactionReceipt")({hash:T.hash}),e>1&&(!d.blockNumber||N-d.blockNumber+1n<e)))return;let E="replaced";T.to===u.to&&T.value===u.value&&T.input===u.input?E="repriced":T.from===T.to&&T.value===0n&&(E="cancelled"),P(()=>{b.onReplaced?.({reason:E,replacedTransaction:u,transaction:T,transactionReceipt:d}),b.resolve(d)})}catch(D){P(()=>b.reject(D))}}else P(()=>b.reject(_))}}})}),m}async function ZK(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Tr(n))}async function eX(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function wO(t,e){const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new cu({docsPath:"/docs/eip7702/prepareAuthorization"});const o=Dn(n),s=(()=>{if(e.executor)return e.executor==="self"?e.executor:Dn(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof a.chainId>"u"&&(a.chainId=t.chain?.id??await Mt(t,xf,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await Mt(t,YS,"getTransactionCount")({address:o.address,blockTag:"pending"}),(s==="self"||s?.address&&yw(s.address,o.address))&&(a.nonce+=1)),a}async function tX(t,e){const{account:n=t.account}=e;if(!n)throw new cu({docsPath:"/docs/eip7702/signAuthorization"});const r=Dn(n);if(!r.signAuthorization)throw new Bg({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await wO(t,e);return r.signAuthorization(i)}async function nX(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new cu({docsPath:"/docs/actions/wallet/signTransaction"});const o=Dn(n);uu({account:o,...e});const s=await Mt(t,xf,"getChainId")({});r!==null&&U4({currentChainId:s,chain:r});const l=(r?.formatters||t.chain?.formatters)?.transactionRequest?.format||bf;return o.signTransaction?o.signTransaction({...i,chainId:s},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...l(i),chainId:je(s),from:o.address}]},{retryCount:0})}async function bO(t,{account:e=t.account,message:n}){if(!e)throw new cu({docsPath:"/docs/actions/wallet/signMessage"});const r=Dn(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?zd(n):n.raw instanceof Uint8Array?jr(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function rX(t,e){const{account:n=t.account,domain:r,message:i,primaryType:o}=e;if(!n)throw new cu({docsPath:"/docs/actions/wallet/signTypedData"});const s=Dn(n),a={EIP712Domain:fO({domain:r}),...e.types};if(dO({domain:r,message:i,primaryType:o,types:a}),s.signTypedData)return s.signTypedData({domain:r,message:i,primaryType:o,types:a});const l=yK({domain:r,message:i,primaryType:o,types:a});return t.request({method:"eth_signTypedData_v4",params:[s.address,l]},{retryCount:0})}async function iX(t,e){const{abi:n,address:r,args:i,dataSuffix:o,functionName:s,...a}=e,l=a.account?Dn(a.account):t.account,c=Io({abi:n,args:i,functionName:s});try{const{data:u}=await Mt(t,mw,"call")({batch:!1,data:`${c}${o?o.replace("0x",""):""}`,to:r,...a,account:l}),d=fu({abi:n,args:i,functionName:s,data:u||"0x"}),f=n.filter(h=>"name"in h&&h.name===e.functionName);return{result:d,request:{abi:f,address:r,args:i,dataSuffix:o,functionName:s,...a,account:l}}}catch(u){throw Vc(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:s,sender:l?.address})}}async function oX(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:je(e)}]},{retryCount:0})}let xO=class extends BS{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,SW(e);const r=mm(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),Gd(o)}update(e){return Hd(this),this.iHash.update(e),this}digestInto(e){Hd(this),ns(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const EO=(t,e,n)=>new xO(t,e).update(n).digest();EO.create=(t,e)=>new xO(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yi=BigInt(0),ri=BigInt(1),vc=BigInt(2),sX=BigInt(3),AO=BigInt(4),_O=BigInt(5),SO=BigInt(8);function fo(t,e){const n=t%e;return n>=yi?n:e+n}function io(t,e,n){let r=t;for(;e-- >yi;)r*=r,r%=n;return r}function JM(t,e){if(t===yi)throw new Error("invert: expected non-zero number");if(e<=yi)throw new Error("invert: expected positive modulus, got "+e);let n=fo(t,e),r=e,i=yi,o=ri;for(;n!==yi;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==ri)throw new Error("invert: does not exist");return fo(i,e)}function CO(t,e){const n=(t.ORDER+ri)/AO,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function aX(t,e){const n=(t.ORDER-_O)/SO,r=t.mul(e,vc),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,vc),i),a=t.mul(o,t.sub(s,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function lX(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ri,n=0;for(;e%vc===yi;)e/=vc,n++;let r=vc;const i=Ew(t);for(;ZM(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return CO;let o=i.pow(r,e);const s=(e+ri)/vc;return function(l,c){if(l.is0(c))return c;if(ZM(l,c)!==1)throw new Error("Cannot find square root");let u=n,d=l.mul(l.ONE,o),f=l.pow(c,e),h=l.pow(c,s);for(;!l.eql(f,l.ONE);){if(l.is0(f))return l.ZERO;let p=1,m=l.sqr(f);for(;!l.eql(m,l.ONE);)if(p++,m=l.sqr(m),p===u)throw new Error("Cannot find square root");const y=ri<<BigInt(u-p-1),g=l.pow(d,y);u=p,d=l.sqr(g),f=l.mul(f,d),h=l.mul(h,g)}return h}}function cX(t){return t%AO===sX?CO:t%SO===_O?aX:lX(t)}const uX=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function dX(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=uX.reduce((r,i)=>(r[i]="function",r),e);return sC(t,n),t}function fX(t,e,n){if(n<yi)throw new Error("invalid exponent, negatives unsupported");if(n===yi)return t.ONE;if(n===ri)return e;let r=t.ONE,i=e;for(;n>yi;)n&ri&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ri;return r}function TO(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),o),r}function ZM(t,e){const n=(t.ORDER-ri)/vc,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function hX(t,e){e!==void 0&&vp(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ew(t,e,n=!1,r={}){if(t<=yi)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(o=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:s,nByteLength:a}=hX(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:a,MASK:pw(s),ZERO:yi,ONE:ri,create:u=>fo(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return yi<=u&&u<t},is0:u=>u===yi,isValidNot0:u=>!c.is0(u)&&c.isValid(u),isOdd:u=>(u&ri)===ri,neg:u=>fo(-u,t),eql:(u,d)=>u===d,sqr:u=>fo(u*u,t),add:(u,d)=>fo(u+d,t),sub:(u,d)=>fo(u-d,t),mul:(u,d)=>fo(u*d,t),pow:(u,d)=>fX(c,u,d),div:(u,d)=>fo(u*JM(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>JM(u,t),sqrt:o||(u=>(l||(l=cX(t)),l(c,u))),toBytes:u=>n?MB(u,a):oC(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?TB(u):hw(u)},invertBatch:u=>TO(c,u),cmov:(u,d,f)=>f?d:u});return Object.freeze(c)}function MO(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function IO(t){const e=MO(t);return e+Math.ceil(e/2)}function pX(t,e,n=!1){const r=t.length,i=MO(e),o=IO(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?TB(t):hw(t),a=fo(s,e-ri)+ri;return n?MB(a,i):oC(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qd=BigInt(0),wc=BigInt(1);function jh(t,e){const n=e.negate();return t?n:e}function mX(t,e,n){const r=s=>s.pz,i=TO(t.Fp,n.map(r));return n.map((s,a)=>s.toAffine(i[a])).map(t.fromAffine)}function RO(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function cb(t,e){RO(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=pw(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function e5(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),l=t>>s;a>r&&(a-=o,l+=wc);const c=e*r,u=c+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:c}}function gX(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function yX(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const ub=new WeakMap,PO=new WeakMap;function db(t){return PO.get(t)||1}function t5(t){if(t!==qd)throw new Error("invalid wNAF")}function vX(t,e){return{constTimeNegate:jh,hasPrecomputes(n){return db(n)!==1},unsafeLadder(n,r,i=t.ZERO){let o=n;for(;r>qd;)r&wc&&(i=i.add(o)),o=o.double(),r>>=wc;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=cb(r,e),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let u=1;u<o;u++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){let o=t.ZERO,s=t.BASE;const a=cb(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:p}=e5(i,l,a);i=c,d?s=s.add(jh(h,r[p])):o=o.add(jh(f,r[u]))}return t5(i),{p:o,f:s}},wNAFUnsafe(n,r,i,o=t.ZERO){const s=cb(n,e);for(let a=0;a<s.windows&&i!==qd;a++){const{nextN:l,offset:c,isZero:u,isNeg:d}=e5(i,a,s);if(i=l,!u){const f=r[c];o=o.add(d?f.negate():f)}}return t5(i),o},getPrecomputes(n,r,i){let o=ub.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(o=i(o)),ub.set(r,o))),o},wNAFCached(n,r,i){const o=db(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=db(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){RO(r,e),PO.set(n,r),ub.delete(n)}}}function wX(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>qd||r>qd;)n&wc&&(o=o.add(i)),r&wc&&(s=s.add(i)),i=i.double(),n>>=wc,r>>=wc;return{p1:o,p2:s}}function bX(t,e,n,r){gX(n,t),yX(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=yq(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=pw(l),u=new Array(Number(c)+1).fill(s),d=Math.floor((e.BITS-1)/l)*l;let f=s;for(let h=d;h>=0;h-=l){u.fill(s);for(let m=0;m<o;m++){const y=r[m],g=Number(y>>BigInt(h)&c);u[g]=u[g].add(n[m])}let p=s;for(let m=u.length-1,y=s;m>0;m--)y=y.add(u[m]),p=p.add(y);if(f=f.add(p),h!==0)for(let m=0;m<l;m++)f=f.double()}return f}function n5(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return dX(e),e}else return Ew(t)}function xX(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const l=e[a];if(!(typeof l=="bigint"&&l>qd))throw new Error(`CURVE.${a} must be positive bigint`)}const r=n5(e.p,n.Fp),i=n5(e.n,n.Fn),s=["Gx","Gy","a","b"];for(const a of s)if(!r.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function r5(t){t.lowS!==void 0&&Ly("lowS",t.lowS),t.prehash!==void 0&&Ly("prehash",t.prehash)}class EX extends Error{constructor(e=""){super(e)}}const Zs={Err:EX,_tlv:{encode:(t,e)=>{const{Err:n}=Zs;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=h0(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?h0(i.length/2|128):"";return h0(t)+o+i+e},decode(t,e){const{Err:n}=Zs;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)s=s<<8|u;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=Zs;if(t<Hh)throw new e("integer: negative integers are not allowed");let n=h0(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Zs;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return hw(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Zs,i=co("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Zs,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},Hh=BigInt(0),Gh=BigInt(1),AX=BigInt(2),m0=BigInt(3),_X=BigInt(4);function SX(t,e,n){function r(i){const o=t.sqr(i),s=t.mul(o,i);return t.add(t.add(s,t.mul(i,e)),n)}return r}function NO(t,e,n){const{BYTES:r}=t;function i(o){let s;if(typeof o=="bigint")s=o;else{let a=co("private key",o);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{s=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof o}`)}}if(n&&(s=t.create(s)),!t.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return i}function CX(t,e={}){const{Fp:n,Fn:r}=xX("weierstrass",t,e),{h:i,n:o}=t;sC(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=e;if(s&&(!n.is0(t.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(D,T,E){const{x:z,y:W}=T.toAffine(),B=n.toBytes(z);if(Ly("isCompressed",E),E){a();const w=!n.isOdd(W);return gc(kO(w),B)}else return gc(Uint8Array.of(4),B,n.toBytes(W))}function c(D){ns(D);const T=n.BYTES,E=T+1,z=2*T+1,W=D.length,B=D[0],w=D.subarray(1);if(W===E&&(B===2||B===3)){const A=n.fromBytes(w);if(!n.isValid(A))throw new Error("bad point: is not on curve, wrong x");const C=f(A);let k;try{k=n.sqrt(C)}catch(G){const L=G instanceof Error?": "+G.message:"";throw new Error("bad point: is not on curve, sqrt error"+L)}a();const I=n.isOdd(k);return(B&1)===1!==I&&(k=n.neg(k)),{x:A,y:k}}else if(W===z&&B===4){const A=n.fromBytes(w.subarray(T*0,T*1)),C=n.fromBytes(w.subarray(T*1,T*2));if(!h(A,C))throw new Error("bad point: is not on curve");return{x:A,y:C}}else throw new Error(`bad point: got length ${W}, expected compressed=${E} or uncompressed=${z}`)}const u=e.toBytes||l,d=e.fromBytes||c,f=SX(n,t.a,t.b);function h(D,T){const E=n.sqr(T),z=f(D);return n.eql(E,z)}if(!h(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(t.a,m0),_X),m=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(p,m)))throw new Error("bad curve params: a or b");function y(D,T,E=!1){if(!n.isValid(T)||E&&n.is0(T))throw new Error(`bad point coordinate ${D}`);return T}function g(D){if(!(D instanceof P))throw new Error("ProjectivePoint expected")}const v=UM((D,T)=>{const{px:E,py:z,pz:W}=D;if(n.eql(W,n.ONE))return{x:E,y:z};const B=D.is0();T==null&&(T=B?n.ONE:n.inv(W));const w=n.mul(E,T),A=n.mul(z,T),C=n.mul(W,T);if(B)return{x:n.ZERO,y:n.ZERO};if(!n.eql(C,n.ONE))throw new Error("invZ was invalid");return{x:w,y:A}}),b=UM(D=>{if(D.is0()){if(e.allowInfinityPoint&&!n.is0(D.py))return;throw new Error("bad point: ZERO")}const{x:T,y:E}=D.toAffine();if(!n.isValid(T)||!n.isValid(E))throw new Error("bad point: x or y not field elements");if(!h(T,E))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function x(D,T,E,z,W){return E=new P(n.mul(E.px,D),E.py,E.pz),T=jh(z,T),E=jh(W,E),T.add(E)}class P{constructor(T,E,z){this.px=y("x",T),this.py=y("y",E,!0),this.pz=y("z",z),Object.freeze(this)}static fromAffine(T){const{x:E,y:z}=T||{};if(!T||!n.isValid(E)||!n.isValid(z))throw new Error("invalid affine point");if(T instanceof P)throw new Error("projective point not allowed");return n.is0(E)&&n.is0(z)?P.ZERO:new P(E,z,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){return mX(P,"pz",T)}static fromBytes(T){return ns(T),P.fromHex(T)}static fromHex(T){const E=P.fromAffine(d(co("pointHex",T)));return E.assertValidity(),E}static fromPrivateKey(T){const E=NO(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return P.BASE.multiply(E(T))}static msm(T,E){return bX(P,r,T,E)}precompute(T=8,E=!0){return _.setWindowSize(this,T),E||this.multiply(m0),this}_setWindowSize(T){this.precompute(T)}assertValidity(){b(this)}hasEvenY(){const{y:T}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(T)}equals(T){g(T);const{px:E,py:z,pz:W}=this,{px:B,py:w,pz:A}=T,C=n.eql(n.mul(E,A),n.mul(B,W)),k=n.eql(n.mul(z,A),n.mul(w,W));return C&&k}negate(){return new P(this.px,n.neg(this.py),this.pz)}double(){const{a:T,b:E}=t,z=n.mul(E,m0),{px:W,py:B,pz:w}=this;let A=n.ZERO,C=n.ZERO,k=n.ZERO,I=n.mul(W,W),H=n.mul(B,B),G=n.mul(w,w),L=n.mul(W,B);return L=n.add(L,L),k=n.mul(W,w),k=n.add(k,k),A=n.mul(T,k),C=n.mul(z,G),C=n.add(A,C),A=n.sub(H,C),C=n.add(H,C),C=n.mul(A,C),A=n.mul(L,A),k=n.mul(z,k),G=n.mul(T,G),L=n.sub(I,G),L=n.mul(T,L),L=n.add(L,k),k=n.add(I,I),I=n.add(k,I),I=n.add(I,G),I=n.mul(I,L),C=n.add(C,I),G=n.mul(B,w),G=n.add(G,G),I=n.mul(G,L),A=n.sub(A,I),k=n.mul(G,H),k=n.add(k,k),k=n.add(k,k),new P(A,C,k)}add(T){g(T);const{px:E,py:z,pz:W}=this,{px:B,py:w,pz:A}=T;let C=n.ZERO,k=n.ZERO,I=n.ZERO;const H=t.a,G=n.mul(t.b,m0);let L=n.mul(E,B),M=n.mul(z,w),$=n.mul(W,A),J=n.add(E,z),te=n.add(B,w);J=n.mul(J,te),te=n.add(L,M),J=n.sub(J,te),te=n.add(E,W);let oe=n.add(B,A);return te=n.mul(te,oe),oe=n.add(L,$),te=n.sub(te,oe),oe=n.add(z,W),C=n.add(w,A),oe=n.mul(oe,C),C=n.add(M,$),oe=n.sub(oe,C),I=n.mul(H,te),C=n.mul(G,$),I=n.add(C,I),C=n.sub(M,I),I=n.add(M,I),k=n.mul(C,I),M=n.add(L,L),M=n.add(M,L),$=n.mul(H,$),te=n.mul(G,te),M=n.add(M,$),$=n.sub(L,$),$=n.mul(H,$),te=n.add(te,$),L=n.mul(M,te),k=n.add(k,L),L=n.mul(oe,te),C=n.mul(J,C),C=n.sub(C,L),L=n.mul(J,M),I=n.mul(oe,I),I=n.add(I,L),new P(C,k,I)}subtract(T){return this.add(T.negate())}is0(){return this.equals(P.ZERO)}multiply(T){const{endo:E}=e;if(!r.isValidNot0(T))throw new Error("invalid scalar: out of range");let z,W;const B=w=>_.wNAFCached(this,w,P.normalizeZ);if(E){const{k1neg:w,k1:A,k2neg:C,k2:k}=E.splitScalar(T),{p:I,f:H}=B(A),{p:G,f:L}=B(k);W=H.add(L),z=x(E.beta,I,G,w,C)}else{const{p:w,f:A}=B(T);z=w,W=A}return P.normalizeZ([z,W])[0]}multiplyUnsafe(T){const{endo:E}=e,z=this;if(!r.isValid(T))throw new Error("invalid scalar: out of range");if(T===Hh||z.is0())return P.ZERO;if(T===Gh)return z;if(_.hasPrecomputes(this))return this.multiply(T);if(E){const{k1neg:W,k1:B,k2neg:w,k2:A}=E.splitScalar(T),{p1:C,p2:k}=wX(P,z,B,A);return x(E.beta,C,k,W,w)}else return _.wNAFCachedUnsafe(z,T)}multiplyAndAddUnsafe(T,E,z){const W=this.multiplyUnsafe(E).add(T.multiplyUnsafe(z));return W.is0()?void 0:W}toAffine(T){return v(this,T)}isTorsionFree(){const{isTorsionFree:T}=e;return i===Gh?!0:T?T(P,this):_.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:T}=e;return i===Gh?this:T?T(P,this):this.multiplyUnsafe(i)}toBytes(T=!0){return Ly("isCompressed",T),this.assertValidity(),u(P,this,T)}toRawBytes(T=!0){return this.toBytes(T)}toHex(T=!0){return wp(this.toBytes(T))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}P.BASE=new P(t.Gx,t.Gy,n.ONE),P.ZERO=new P(n.ZERO,n.ONE,n.ZERO),P.Fp=n,P.Fn=r;const N=r.BITS,_=vX(P,e.endo?Math.ceil(N/2):N);return P}function kO(t){return Uint8Array.of(t?2:3)}function TX(t,e,n={}){sC(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||kW,i=e.hmac||((z,...W)=>EO(e.hash,z,gc(...W))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:l}=s;function c(z){const W=a>>Gh;return z>W}function u(z){return c(z)?s.neg(z):z}function d(z,W){if(!s.isValidNot0(W))throw new Error(`invalid signature ${z}: out of range 1..CURVE.n`)}class f{constructor(W,B,w){d("r",W),d("s",B),this.r=W,this.s=B,w!=null&&(this.recovery=w),Object.freeze(this)}static fromCompact(W){const B=s.BYTES,w=co("compactSignature",W,B*2);return new f(s.fromBytes(w.subarray(0,B)),s.fromBytes(w.subarray(B,B*2)))}static fromDER(W){const{r:B,s:w}=Zs.toSig(co("DER",W));return new f(B,w)}assertValidity(){}addRecoveryBit(W){return new f(this.r,this.s,W)}recoverPublicKey(W){const B=o.ORDER,{r:w,s:A,recovery:C}=this;if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");if(a*AX<B&&C>1)throw new Error("recovery id is ambiguous for h>1 curve");const I=C===2||C===3?w+a:w;if(!o.isValid(I))throw new Error("recovery id 2 or 3 invalid");const H=o.toBytes(I),G=t.fromHex(gc(kO((C&1)===0),H)),L=s.inv(I),M=b(co("msgHash",W)),$=s.create(-M*L),J=s.create(A*L),te=t.BASE.multiplyUnsafe($).add(G.multiplyUnsafe(J));if(te.is0())throw new Error("point at infinify");return te.assertValidity(),te}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,s.neg(this.s),this.recovery):this}toBytes(W){if(W==="compact")return gc(s.toBytes(this.r),s.toBytes(this.s));if(W==="der")return FS(Zs.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return wp(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return wp(this.toBytes("compact"))}}const h=NO(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(z){try{return h(z),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const z=a;return pX(r(IO(z)),z)},precompute(z=8,W=t.BASE){return W.precompute(z,!1)}};function m(z,W=!0){return t.fromPrivateKey(z).toBytes(W)}function y(z){if(typeof z=="bigint")return!1;if(z instanceof t)return!0;const B=co("key",z).length,w=o.BYTES,A=w+1,C=2*w+1;if(!(n.allowedPrivateKeyLengths||s.BYTES===A))return B===A||B===C}function g(z,W,B=!0){if(y(z)===!0)throw new Error("first arg must be private key");if(y(W)===!1)throw new Error("second arg must be public key");return t.fromHex(W).multiply(h(z)).toBytes(B)}const v=e.bits2int||function(z){if(z.length>8192)throw new Error("input is too large");const W=hw(z),B=z.length*8-l;return B>0?W>>BigInt(B):W},b=e.bits2int_modN||function(z){return s.create(v(z))},x=pw(l);function P(z){return gq("num < 2^"+l,z,Hh,x),s.toBytes(z)}function N(z,W,B=_){if(["recovered","canonical"].some(J=>J in B))throw new Error("sign() legacy options not supported");const{hash:w}=e;let{lowS:A,prehash:C,extraEntropy:k}=B;A==null&&(A=!0),z=co("msgHash",z),r5(B),C&&(z=co("prehashed msgHash",w(z)));const I=b(z),H=h(W),G=[P(H),P(I)];if(k!=null&&k!==!1){const J=k===!0?r(o.BYTES):k;G.push(co("extraEntropy",J))}const L=gc(...G),M=I;function $(J){const te=v(J);if(!s.isValidNot0(te))return;const oe=s.inv(te),le=t.BASE.multiply(te).toAffine(),Te=s.create(le.x);if(Te===Hh)return;const Ne=s.create(oe*s.create(M+Te*H));if(Ne===Hh)return;let Ae=(le.x===Te?0:2)|Number(le.y&Gh),Be=Ne;return A&&c(Ne)&&(Be=u(Ne),Ae^=1),new f(Te,Be,Ae)}return{seed:L,k2sig:$}}const _={lowS:e.lowS,prehash:!1},D={lowS:e.lowS,prehash:!1};function T(z,W,B=_){const{seed:w,k2sig:A}=N(z,W,B);return vq(e.hash.outputLen,s.BYTES,i)(w,A)}t.BASE.precompute(8);function E(z,W,B,w=D){const A=z;W=co("msgHash",W),B=co("publicKey",B),r5(w);const{lowS:C,prehash:k,format:I}=w;if("strict"in w)throw new Error("options.strict was renamed to lowS");if(I!==void 0&&!["compact","der","js"].includes(I))throw new Error('format must be "compact", "der" or "js"');const H=typeof A=="string"||kS(A),G=!H&&!I&&typeof A=="object"&&A!==null&&typeof A.r=="bigint"&&typeof A.s=="bigint";if(!H&&!G)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let L,M;try{if(G)if(I===void 0||I==="js")L=new f(A.r,A.s);else throw new Error("invalid format");if(H){try{I!=="compact"&&(L=f.fromDER(A))}catch(Be){if(!(Be instanceof Zs.Err))throw Be}!L&&I!=="der"&&(L=f.fromCompact(A))}M=t.fromHex(B)}catch{return!1}if(!L||C&&L.hasHighS())return!1;k&&(W=e.hash(W));const{r:$,s:J}=L,te=b(W),oe=s.inv(J),le=s.create(te*oe),Te=s.create($*oe),Ne=t.BASE.multiplyUnsafe(le).add(M.multiplyUnsafe(Te));return Ne.is0()?!1:s.create(Ne.x)===$}return Object.freeze({getPublicKey:m,getSharedSecret:g,sign:T,verify:E,utils:p,Point:t,Signature:f})}function MX(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Ew(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function IX(t){const{CURVE:e,curveOpts:n}=MX(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function RX(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function PX(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=IX(t),i=CX(e,n),o=TX(i,r,n);return RX(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function NX(t,e){const n=r=>PX({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Uy={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const kX=BigInt(1),TA=BigInt(2),i5=(t,e)=>(t+e/TA)/e;function FX(t){const e=Uy.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,d=io(u,n,e)*u%e,f=io(d,n,e)*u%e,h=io(f,TA,e)*c%e,p=io(h,i,e)*h%e,m=io(p,o,e)*p%e,y=io(m,a,e)*m%e,g=io(y,l,e)*y%e,v=io(g,a,e)*m%e,b=io(v,n,e)*u%e,x=io(b,s,e)*p%e,P=io(x,r,e)*c%e,N=io(P,TA,e);if(!MA.eql(MA.sqr(N),t))throw new Error("Cannot find square root");return N}const MA=Ew(Uy.p,void 0,void 0,{sqrt:FX}),FO=NX({...Uy,Fp:MA,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Uy.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-kX*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=i5(o*t,e),l=i5(-r*t,e);let c=fo(t-a*n-l*i,e),u=fo(-a*r-l*o,e);const d=c>s,f=u>s;if(d&&(c=e-c),f&&(u=e-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:f,k2:u}}}},q4),BX=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:FO},Symbol.toStringTag,{value:"Module"}));function OX({r:t,s:e,to:n="hex",v:r,yParity:i}){const o=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),s=`0x${new FO.Signature(pr(t),pr(e)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?s:Ao(s)}async function xC(t,e){const{address:n,factory:r,factoryData:i,hash:o,signature:s,universalSignatureVerifierAddress:a=t.chain?.contracts?.universalSignatureVerifier?.address,...l}=e,c=Ps(s)?s:typeof s=="object"&&"r"in s&&"s"in s?OX(s):Yn(s),u=await(async()=>!r&&!i||NK(c)?c:kK({address:r,data:i,signature:c}))();try{const d=a?{to:a,data:Io({abi:kM,functionName:"isValidSig",args:[n,o,u]}),...l}:{data:nw({abi:kM,args:[n,o,u],bytecode:Wq}),...l},{data:f}=await Mt(t,mw,"call")(d);return eW(f??"0x0")}catch(d){try{if(yw(Tr(n),await k4({hash:o,signature:s})))return!0}catch{}if(d instanceof EB)return!1;throw d}}async function LX(t,{address:e,message:n,factory:r,factoryData:i,signature:o,...s}){const a=hO(n);return xC(t,{address:e,factory:r,factoryData:i,hash:a,signature:o,...s})}async function DX(t,e){const{address:n,factory:r,factoryData:i,signature:o,message:s,primaryType:a,types:l,domain:c,...u}=e,d=hK({message:s,primaryType:a,types:l,domain:c});return xC(t,{address:n,factory:r,factoryData:i,hash:d,signature:o,...u})}async function UX(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function zX(t,e){const{abi:n,address:r,args:i,batch:o=!0,eventName:s,fromBlock:a,onError:l,onLogs:c,poll:u,pollingInterval:d=t.pollingInterval,strict:f}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))?(()=>{const y=f??!1,g=sr(["watchContractEvent",r,i,o,t.uid,s,d,y,a]);return Aa(g,{onLogs:c,onError:l},v=>{let b;a!==void 0&&(b=a-1n);let x,P=!1;const N=_f(async()=>{if(!P){try{x=await Mt(t,VB,"createContractEventFilter")({abi:n,address:r,args:i,eventName:s,strict:y,fromBlock:a})}catch{}P=!0;return}try{let _;if(x)_=await Mt(t,vw,"getFilterChanges")({filter:x});else{const D=await Mt(t,_m,"getBlockNumber")({});b&&b<D?_=await Mt(t,QB,"getContractEvents")({abi:n,address:r,args:i,eventName:s,fromBlock:b+1n,toBlock:D,strict:y}):_=[],b=D}if(_.length===0)return;if(o)v.onLogs(_);else for(const D of _)v.onLogs([D])}catch(_){x&&_ instanceof Gc&&(P=!1),v.onError?.(_)}},{emitOnBegin:!0,interval:d});return async()=>{x&&await Mt(t,xw,"uninstallFilter")({filter:x}),N()}})})():(()=>{const y=f??!1,g=sr(["watchContractEvent",r,i,o,t.uid,s,d,y]);let v=!0,b=()=>v=!1;return Aa(g,{onLogs:c,onError:l},x=>((async()=>{try{const P=(()=>{if(t.transport.type==="fallback"){const D=t.transport.transports.find(T=>T.config.type==="webSocket");return D?D.value:t.transport}return t.transport})(),N=s?Am({abi:n,eventName:s,args:i}):[],{unsubscribe:_}=await P.subscribe({params:["logs",{address:r,topics:N}],onData(D){if(!v)return;const T=D.result;try{const{eventName:E,args:z}=hC({abi:n,data:T.data,topics:T.topics,strict:f}),W=Ea(T,{args:z,eventName:E});x.onLogs([W])}catch(E){let z,W;if(E instanceof yp||E instanceof ew){if(f)return;z=E.abiItem.name,W=E.abiItem.inputs?.some(w=>!("name"in w&&w.name))}const B=Ea(T,{args:W?[]:{},eventName:z});x.onLogs([B])}},onError(D){x.onError?.(D)}});b=_,v||b()}catch(P){l?.(P)}})(),()=>b()))})()}async function jX(t,e){const{abi:n,account:r=t.account,address:i,args:o,dataSuffix:s,functionName:a,...l}=e;if(typeof r>"u")throw new cu({docsPath:"/docs/contract/writeContract"});const c=r?Dn(r):null,u=Io({abi:n,args:o,functionName:a});try{return await Mt(t,cw,"sendTransaction")({data:`${u}${s?s.replace("0x",""):""}`,to:i,account:c,...l})}catch(d){throw Vc(d,{abi:n,address:i,args:o,docsPath:"/docs/contract/writeContract",functionName:a,sender:c?.address})}}function Sf(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:o=>e(t,o)}const Lg="2.17.3",HX=()=>`@wagmi/core@${Lg}`;var BO=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},zy,OO;let Pa=class IA extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return HX()}constructor(e,n={}){super(),zy.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof IA?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof IA&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return BO(this,zy,"m",OO).call(this,this,e)}};zy=new WeakSet,OO=function t(e,n){return n?.(e)?e:e.cause?BO(this,zy,"m",t).call(this,e.cause,n):e};class Qc extends Pa{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class GX extends Pa{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class WX extends Pa{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class VX extends Pa{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class $X extends Pa{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class qX extends Pa{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function QX(t,e){let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new GX;try{t.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...i}=e,o=await n.connect(i),s=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await t.storage?.setItem("recentConnectorId",n.id),t.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:s,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s,chainId:o.chainId}}catch(r){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),r}}const RA=256;let g0=RA,y0;function LO(t=11){if(!y0||g0+t>RA*2){y0="",g0=0;for(let e=0;e<RA;e++)y0+=(256+Math.random()*256|0).toString(16).substring(1)}return y0.substring(g0,g0+++t)}function DO(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:o="Base Client",type:s="base"}=t,a=n?.blockTime??12e3,l=Math.min(Math.max(Math.floor(a/2),500),4e3),c=t.pollingInterval??l,u=t.cacheTime??c,d=t.account?Dn(t.account):void 0,{config:f,request:h,value:p}=t.transport({chain:n,pollingInterval:c}),m={...f,...p},y={account:d,batch:e,cacheTime:u,ccipRead:r,chain:n,key:i,name:o,pollingInterval:c,request:h,transport:m,type:s,uid:LO()};function g(v){return b=>{const x=b(v);for(const N in y)delete x[N];const P={...v,...x};return Object.assign(P,{extend:g(P)})}}return Object.assign(y,{extend:g(y)})}function UO({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:o=150,timeout:s,type:a},l){const c=LO();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:o,timeout:s,type:a},request:sK(r,{methods:e,retryCount:i,retryDelay:o,uid:c}),value:l}}function KX(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:o}=e;return({retryCount:s})=>UO({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??s,retryDelay:o,type:"custom"})}class XX extends Fe{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Ya(t,e={}){const{batch:n,fetchOptions:r,key:i="http",methods:o,name:s="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:l,retryDelay:c,raw:u}=e;return({chain:d,retryCount:f,timeout:h})=>{const{batchSize:p=1e3,wait:m=0}=typeof n=="object"?n:{},y=e.retryCount??f,g=h??e.timeout??1e4,v=t||d?.rpcUrls.default.http[0];if(!v)throw new XX;const b=cK(v,{fetchOptions:r,onRequest:a,onResponse:l,timeout:g});return UO({key:i,methods:o,name:s,async request({method:x,params:P}){const N={method:x,params:P},{schedule:_}=DB({id:v,wait:m,shouldSplitBatch(z){return z.length>p},fn:z=>b.request({body:z}),sort:(z,W)=>z.id-W.id}),D=async z=>n?_(z):[await b.request({body:z})],[{error:T,result:E}]=await D(N);if(u)return{error:T,result:E};if(T)throw new GS({body:N,error:T,url:v});return E},retryCount:y,retryDelay:c,timeout:g,type:"http"},{fetchOptions:r,url:v})}}function YX(t){const{scheme:e,statement:n,...r}=t.match(JX)?.groups??{},{chainId:i,expirationTime:o,issuedAt:s,notBefore:a,requestId:l,...c}=t.match(ZX)?.groups??{},u=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...c,...i?{chainId:Number(i)}:{},...o?{expirationTime:new Date(o)}:{},...s?{issuedAt:new Date(s)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const JX=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,ZX=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function eY(t){const{address:e,domain:n,message:r,nonce:i,scheme:o,time:s=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||o&&r.scheme!==o||r.expirationTime&&s>=r.expirationTime||r.notBefore&&s<r.notBefore)return!1;try{if(!r.address||!Jn(r.address,{strict:!1})||e&&!yw(r.address,e))return!1}catch{return!1}return!0}async function tY(t,e){const{address:n,domain:r,message:i,nonce:o,scheme:s,signature:a,time:l=new Date,...c}=e,u=YX(i);if(!u.address||!eY({address:n,domain:r,message:u,nonce:o,scheme:s,time:l}))return!1;const f=hO(i);return xC(t,{address:u.address,hash:f,signature:a,...c})}function nY(t){return{call:e=>mw(t,e),createAccessList:e=>WB(t,e),createBlockFilter:()=>uQ(t),createContractEventFilter:e=>VB(t,e),createEventFilter:e=>$B(t,e),createPendingTransactionFilter:()=>qB(t),estimateContractGas:e=>fQ(t,e),estimateGas:e=>XS(t,e),getBalance:e=>KS(t,e),getBlobBaseFee:()=>hQ(t),getBlock:e=>_s(t,e),getBlockNumber:e=>_m(t,e),getBlockTransactionCount:e=>wQ(t,e),getBytecode:e=>qM(t,e),getChainId:()=>xf(t),getCode:e=>qM(t,e),getContractEvents:e=>QB(t,e),getEip712Domain:e=>AQ(t,e),getEnsAddress:e=>Xq(t,e),getEnsAvatar:e=>HB(t,e),getEnsName:e=>GB(t,e),getEnsResolver:e=>cQ(t,e),getEnsText:e=>jB(t,e),getFeeHistory:e=>CQ(t,e),estimateFeesPerGas:e=>OV(t,e),getFilterChanges:e=>vw(t,e),getFilterLogs:e=>TQ(t,e),getGasPrice:()=>qS(t),getLogs:e=>mC(t,e),getProof:e=>YK(t,e),estimateMaxPriorityFeePerGas:e=>BV(t,e),getStorageAt:e=>MQ(t,e),getTransaction:e=>gC(t,e),getTransactionConfirmations:e=>IQ(t,e),getTransactionCount:e=>YS(t,e),getTransactionReceipt:e=>wA(t,e),multicall:e=>YB(t,e),prepareTransactionRequest:e=>lw(t,e),readContract:e=>Fs(t,e),sendRawTransaction:e=>tC(t,e),simulate:e=>bA(t,e),simulateBlocks:e=>bA(t,e),simulateCalls:e=>LK(t,e),simulateContract:e=>iX(t,e),verifyMessage:e=>LX(t,e),verifySiweMessage:e=>tY(t,e),verifyTypedData:e=>DX(t,e),uninstallFilter:e=>xw(t,e),waitForTransactionReceipt:e=>JK(t,e),watchBlocks:e=>UK(t,e),watchBlockNumber:e=>mO(t,e),watchContractEvent:e=>zX(t,e),watchEvent:e=>zK(t,e),watchPendingTransactions:e=>jK(t,e)}}function rY(t){return{addChain:e=>iW(t,e),deployContract:e=>n$(t,e),getAddresses:()=>HK(t),getCallsStatus:e=>vO(t,e),getCapabilities:e=>WK(t,e),getChainId:()=>xf(t),getPermissions:()=>GK(t),prepareAuthorization:e=>wO(t,e),prepareTransactionRequest:e=>lw(t,e),requestAddresses:()=>ZK(t),requestPermissions:e=>eX(t,e),sendCalls:e=>VK(t,e),sendRawTransaction:e=>tC(t,e),sendTransaction:e=>cw(t,e),showCallsStatus:e=>$K(t,e),signAuthorization:e=>tX(t,e),signMessage:e=>bO(t,e),signTransaction:e=>nX(t,e),signTypedData:e=>rX(t,e),switchChain:e=>oX(t,e),waitForCallsStatus:e=>qK(t,e),watchAsset:e=>UX(t,e),writeContract:e=>jX(t,e)}}async function zO(t,e={}){let n;if(e.connector){const{connector:c}=e;if(t.state.status==="reconnecting"&&!c.getAccounts&&!c.getChainId)throw new qX({connector:c});const[u,d]=await Promise.all([c.getAccounts().catch(f=>{if(e.account===null)return[];throw f}),c.getChainId()]);n={accounts:u,chainId:d,connector:c}}else n=t.state.connections.get(t.state.current);if(!n)throw new WX;const r=e.chainId??n.chainId,i=await n.connector.getChainId();if(i!==n.chainId)throw new $X({connectionChainId:n.chainId,connectorChainId:i});const o=n.connector;if(o.getClient)return o.getClient({chainId:r});const s=Dn(e.account??n.accounts[0]);if(s&&(s.address=Tr(s.address)),e.account&&!n.accounts.some(c=>c.toLowerCase()===s.address.toLowerCase()))throw new VX({address:s.address,connector:o});const a=t.chains.find(c=>c.id===r),l=await n.connector.getProvider({chainId:r});return DO({account:s,chain:a,name:"Connector Client",transport:c=>KX(l)({...c,retryCount:0})})}async function iY(t,e={}){let n;if(e.connector)n=e.connector;else{const{connections:i,current:o}=t.state;n=i.get(o)?.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(i=>{if(r.size===0)return{...i,connections:new Map,current:null,status:"disconnected"};const o=r.values().next().value;return{...i,connections:new Map(r),current:o.connector.uid}});{const i=t.state.current;if(!i)return;const o=t.state.connections.get(i)?.connector;if(!o)return;await t.storage?.setItem("recentConnectorId",o.id)}}function jO(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(vV[t])}function HO(t){const e=t.state.current,n=t.state.connections.get(e),r=n?.accounts,i=r?.[0],o=t.chains.find(a=>a.id===n?.chainId),s=t.state.status;switch(s){case"connected":return{address:i,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:s};case"reconnecting":return{address:i,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:s};case"connecting":return{address:i,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:s};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:s}}}async function oY(t,e){const{allowFailure:n=!0,chainId:r,contracts:i,...o}=e,s=t.getClient({chainId:r});return Sf(s,YB,"multicall")({allowFailure:n,contracts:i,...o})}function sY(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return Sf(i,Fs,"readContract")(r)}async function aY(t,e){const{allowFailure:n=!0,blockNumber:r,blockTag:i,...o}=e,s=e.contracts;try{const a={};for(const[d,f]of s.entries()){const h=f.chainId??t.state.chainId;a[h]||(a[h]=[]),a[h]?.push({contract:f,index:d})}const l=()=>Object.entries(a).map(([d,f])=>oY(t,{...o,allowFailure:n,blockNumber:r,blockTag:i,chainId:Number.parseInt(d),contracts:f.map(({contract:h})=>h)})),c=(await Promise.all(l())).flat(),u=Object.values(a).flatMap(d=>d.map(({index:f})=>f));return c.reduce((d,f,h)=>(d&&(d[u[h]]=f),d),[])}catch(a){if(a instanceof AB)throw a;const l=()=>s.map(c=>sY(t,{...c,blockNumber:r,blockTag:i}));return n?(await Promise.allSettled(l())).map(c=>c.status==="fulfilled"?{result:c.value,status:"success"}:{error:c.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function lY(t,e){const{address:n,blockNumber:r,blockTag:i,chainId:o,token:s,unit:a="ether"}=e;if(s)try{return await o5(t,{balanceAddress:n,chainId:o,symbolType:"string",tokenAddress:s})}catch(f){if(f.name==="ContractFunctionExecutionError"){const h=await o5(t,{balanceAddress:n,chainId:o,symbolType:"bytes32",tokenAddress:s}),p=tW(Ai(h.symbol,{dir:"right"}));return{...h,symbol:p}}throw f}const l=t.getClient({chainId:o}),u=await Sf(l,KS,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:i}),d=t.chains.find(f=>f.id===o)??l.chain;return{decimals:d.nativeCurrency.decimals,formatted:ym(u,jO(a)),symbol:d.nativeCurrency.symbol,value:u}}async function o5(t,e){const{balanceAddress:n,chainId:r,symbolType:i,tokenAddress:o,unit:s}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]}],address:o},[l,c,u]=await aY(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=ym(l??"0",jO(s??c));return{decimals:c,formatted:d,symbol:u,value:l}}function s5(t){return t.state.chainId}function Ml(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ml(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(o&&!Ml(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}let fb=[];function a5(t){const e=t.chains;return Ml(fb,e)?fb:(fb=e,e)}function cY(t,e={}){let n;try{n=t.getClient(e)}catch{}return n}let v0=[];function PA(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||Ml(v0,e)?v0:(v0=e,e)}let hb=[];function l5(t){const e=t.connectors;return Ml(hb,e)?hb:(hb=e,e)}function uY(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return Sf(i,HB,"getEnsAvatar")(r)}function dY(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return Sf(i,GB,"getEnsName")(r)}function NA(t,e={}){return cY(t,e)?.extend(nY)}async function fY(t,e={}){return(await zO(t,e)).extend(rY)}let pb=!1;async function hY(t,e={}){if(pb)return[];pb=!0,t.setState(c=>({...c,status:c.current?"reconnecting":"connecting"}));const n=[];if(e.connectors?.length)for(const c of e.connectors){let u;typeof c=="function"?u=t._internal.connectors.setup(c):u=c,n.push(u)}else n.push(...t.connectors);let r;try{r=await t.storage?.getItem("recentConnectorId")}catch{}const i={};for(const[,c]of t.state.connections)i[c.connector.id]=1;r&&(i[r]=0);const o=Object.keys(i).length>0?[...n].sort((c,u)=>(i[c.id]??10)-(i[u.id]??10)):n;let s=!1;const a=[],l=[];for(const c of o){const u=await c.getProvider().catch(()=>{});if(!u||l.some(h=>h===u)||!await c.isAuthorized())continue;const f=await c.connect({isReconnecting:!0}).catch(()=>null);f&&(c.emitter.off("connect",t._internal.events.connect),c.emitter.on("change",t._internal.events.change),c.emitter.on("disconnect",t._internal.events.disconnect),t.setState(h=>{const p=new Map(s?h.connections:new Map).set(c.uid,{accounts:f.accounts,chainId:f.chainId,connector:c});return{...h,current:s?h.current:c.uid,connections:p}}),a.push({accounts:f.accounts,chainId:f.chainId,connector:c}),l.push(u),s=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(s?t.setState(c=>({...c,status:"connected"})):t.setState(c=>({...c,connections:new Map,current:null,status:"disconnected"}))),pb=!1,a}async function pY(t,e){const{account:n,connector:r,...i}=e;let o;return typeof n=="object"&&n.type==="local"?o=t.getClient():o=await zO(t,{account:n,connector:r}),Sf(o,bO,"signMessage")({...i,...n?{account:n}:{}})}class mo extends Pa{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class mY extends Pa{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function gY(t,e){const{addEthereumChainParameter:n,chainId:r}=e,i=t.state.connections.get(e.connector?.uid??t.state.current);if(i){const s=i.connector;if(!s.switchChain)throw new mY({connector:s});return await s.switchChain({addEthereumChainParameter:n,chainId:r})}const o=t.chains.find(s=>s.id===r);if(!o)throw new Qc;return t.setState(s=>({...s,chainId:r})),o}function GO(t,e){const{onChange:n}=e;return t.subscribe(()=>HO(t),n,{equalityFn(r,i){const{connector:o,...s}=r,{connector:a,...l}=i;return Ml(s,l)&&o?.id===a?.id&&o?.uid===a?.uid}})}function yY(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function vY(t,e){const{onChange:n}=e;return t.subscribe(()=>PA(t),n,{equalityFn:Ml})}function wY(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,i)=>{n(Object.values(r),i)})}function bY(t,e){const{onChange:n}=e;return t.subscribe(()=>NA(t),n,{equalityFn(r,i){return r?.uid===i?.uid}})}Cm.type="injected";function Cm(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const l=t.target;if(typeof l=="function"){const c=l();if(c)return c}return typeof l=="object"?l:typeof l=="string"?{...xY[l]??{id:l,name:`${l[0].toUpperCase()}${l.slice(1)}`,provider:`is${l[0].toUpperCase()}${l.slice(1)}`}}:{id:"injected",name:"Injected",provider(c){return c?.ethereum}}}let i,o,s,a;return l=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Cm.type,async setup(){const c=await this.getProvider();c?.on&&t.target&&(s||(s=this.onConnect.bind(this),c.on("connect",s)),i||(i=this.onAccountsChanged.bind(this),c.on("accountsChanged",i)))},async connect({chainId:c,isReconnecting:u}={}){const d=await this.getProvider();if(!d)throw new mo;let f=[];if(u)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(p=>Tr(p)),f.length>0&&(f=await this.getAccounts())}catch(h){const p=h;if(p.code===wn.code)throw new wn(p);if(p.code===bl.code)throw p}try{!f?.length&&!u&&(f=(await d.request({method:"eth_requestAccounts"})).map(m=>Tr(m))),s&&(d.removeListener("connect",s),s=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),d.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let h=await this.getChainId();return c&&h!==c&&(h=(await this.switchChain({chainId:c}).catch(m=>{if(m.code===wn.code)throw m;return{id:h}}))?.id??h),e&&await l.storage?.removeItem(`${this.id}.disconnected`),t.target||await l.storage?.setItem("injected.connected",!0),{accounts:f,chainId:h}}catch(h){const p=h;throw p.code===wn.code?new wn(p):p.code===bl.code?new bl(p):p}},async disconnect(){const c=await this.getProvider();if(!c)throw new mo;o&&(c.removeListener("chainChanged",o),o=void 0),a&&(c.removeListener("disconnect",a),a=void 0),s||(s=this.onConnect.bind(this),c.on("connect",s));try{await wC(()=>c.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await l.storage?.setItem(`${this.id}.disconnected`,!0),t.target||await l.storage?.removeItem("injected.connected")},async getAccounts(){const c=await this.getProvider();if(!c)throw new mo;return(await c.request({method:"eth_accounts"})).map(d=>Tr(d))},async getChainId(){const c=await this.getProvider();if(!c)throw new mo;const u=await c.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let c;const u=r();return typeof u.provider=="function"?c=u.provider(window):typeof u.provider=="string"?c=Dg(window,u.provider):c=u.provider,c&&!c.removeListener&&("off"in c&&typeof c.off=="function"?c.removeListener=c.off:c.removeListener=()=>{}),c},async isAuthorized(){try{if(e&&await l.storage?.getItem(`${this.id}.disconnected`)||!t.target&&!await l.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const f=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",f),!!await this.getProvider()),h=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(m=>window.addEventListener("ethereum#initialized",()=>m(f()),{once:!0}))]:[],new Promise(m=>setTimeout(()=>m(f()),h))]))return!0}throw new mo}return!!(await Dy(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:u}){const d=await this.getProvider();if(!d)throw new mo;const f=l.chains.find(p=>p.id===u);if(!f)throw new So(new Qc);const h=new Promise(p=>{const m=y=>{"chainId"in y&&y.chainId===u&&(l.emitter.off("change",m),p())};l.emitter.on("change",m)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:je(u)}]}).then(async()=>{await this.getChainId()===u&&l.emitter.emit("change",{chainId:u})}),h]),f}catch(p){const m=p;if(m.code===4902||m?.data?.originalError?.code===4902)try{const{default:y,...g}=f.blockExplorers??{};let v;c?.blockExplorerUrls?v=c.blockExplorerUrls:y&&(v=[y.url,...Object.values(g).map(P=>P.url)]);let b;c?.rpcUrls?.length?b=c.rpcUrls:b=[f.rpcUrls.default?.http[0]??""];const x={blockExplorerUrls:v,chainId:je(u),chainName:c?.chainName??f.name,iconUrls:c?.iconUrls,nativeCurrency:c?.nativeCurrency??f.nativeCurrency,rpcUrls:b};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[x]}).then(async()=>{if(await this.getChainId()===u)l.emitter.emit("change",{chainId:u});else throw new wn(new Error("User rejected switch after adding network."))}),h]),f}catch(y){throw new wn(y)}throw m.code===wn.code?new wn(m):new So(m)}},async onAccountsChanged(c){if(c.length===0)this.onDisconnect();else if(l.emitter.listenerCount("connect")){const u=(await this.getChainId()).toString();this.onConnect({chainId:u}),e&&await l.storage?.removeItem(`${this.id}.disconnected`)}else l.emitter.emit("change",{accounts:c.map(u=>Tr(u))})},onChainChanged(c){const u=Number(c);l.emitter.emit("change",{chainId:u})},async onConnect(c){const u=await this.getAccounts();if(u.length===0)return;const d=Number(c.chainId);l.emitter.emit("connect",{accounts:u,chainId:d});const f=await this.getProvider();f&&(s&&(f.removeListener("connect",s),s=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(c){const u=await this.getProvider();c&&c.code===1013&&u&&(await this.getAccounts()).length||(l.emitter.emit("disconnect"),u&&(o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),s||(s=this.onConnect.bind(this),u.on("connect",s))))}})}const xY={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t?.coinbaseWalletExtension?t.coinbaseWalletExtension:Dg(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Dg(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){return t?.phantom?.ethereum?t.phantom?.ethereum:Dg(t,"isPhantom")}}};function Dg(t,e){function n(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=t.ethereum;if(r?.providers)return r.providers.find(i=>n(i));if(r&&n(r))return r}function EY(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function AY(){const t=new Set;let e=[];const n=()=>EY(i=>{e.some(({info:o})=>o.uuid===i.info.uuid)||(e=[...e,i],t.forEach(o=>o(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:i}){return e.find(o=>o.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(i,{emitImmediately:o}={}){return t.add(i),o&&i(e,{added:e}),()=>t.delete(i)}}}const _Y=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(s,a,l)=>{let c=s;if(a){const u=l?.equalityFn||Object.is;let d=s(r.getState());c=f=>{const h=s(f);if(!u(d,h)){const p=d;a(d=h,p)}},l?.fireImmediately&&a(d,d)}return i(c)},t(e,n,r)},SY=_Y;function CY(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var o;const s=l=>l===null?null:JSON.parse(l,void 0),a=(o=n.getItem(i))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const kA=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return kA(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return kA(r)(n)}}}},TY=(t,e)=>(n,r,i)=>{let o={storage:CY(()=>localStorage),partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...e},s=!1;const a=new Set,l=new Set;let c=o.storage;if(!c)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...m)},r,i);const u=()=>{const m=o.partialize({...r()});return c.setItem(o.name,{state:m,version:o.version})},d=i.setState;i.setState=(m,y)=>{d(m,y),u()};const f=t((...m)=>{n(...m),u()},r,i);i.getInitialState=()=>f;let h;const p=()=>{var m,y;if(!c)return;s=!1,a.forEach(v=>{var b;return v((b=r())!=null?b:f)});const g=((y=o.onRehydrateStorage)==null?void 0:y.call(o,(m=r())!=null?m:f))||void 0;return kA(c.getItem.bind(c))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return[!0,o.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var b;const[x,P]=v;if(h=o.merge(P,(b=r())!=null?b:f),n(h,!0),x)return u()}).then(()=>{g?.(h,void 0),h=r(),s=!0,l.forEach(v=>v(h))}).catch(v=>{g?.(void 0,v)})};return i.persist={setOptions:m=>{o={...o,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>s,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},o.skipHydration||p(),h||f},MY=TY,c5=t=>{let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const f=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,a);return a},mb=t=>t?c5(t):c5;var WO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,f),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,h,p){var m=n?n+c:c;if(!this._events[m])return!1;var y=this._events[m],g=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,f),!0;case 5:return y.fn.call(y.context,u,d,f,h),!0;case 6:return y.fn.call(y.context,u,d,f,h,p),!0}for(b=1,v=new Array(g-1);b<g;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var x=y.length,P;for(b=0;b<x;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),g){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,d);break;case 4:y[b].fn.call(y[b].context,u,d,f);break;default:if(!v)for(P=1,v=new Array(g-1);P<g;P++)v[P-1]=arguments[P];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!d||p.context===d)&&s(this,h);else{for(var m=0,y=[],g=p.length;m<g;m++)(p[m].fn!==u||f&&!p[m].once||d&&p[m].context!==d)&&y.push(p[m]);y.length?this._events[h]=y.length===1?y[0]:y:s(this,h)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(WO);var IY=WO.exports;const RY=sm(IY);class PY{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new RY})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function NY(t){return new PY(t)}function kY(t,e){return JSON.parse(t,(n,r)=>{let i=r;return i?.__type==="bigint"&&(i=BigInt(i.value)),i?.__type==="Map"&&(i=new Map(i.value)),e?.(n,i)??i})}function u5(t,e){return t.slice(0,e).join(".")||"."}function d5(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function FY(t,e){const n=typeof t=="function",r=typeof e=="function",i=[],o=[];return function(a,l){if(typeof l=="object")if(i.length){const c=d5(i,this);c===0?i[i.length]=this:(i.splice(c),o.splice(c)),o[o.length]=a;const u=d5(i,l);if(u!==0)return r?e.call(this,a,l,u5(o,u)):`[ref=${u5(o,u)}]`}else i[0]=l,o[0]=a;return n?t.call(this,a,l):l}}function BY(t,e,n,r){return JSON.stringify(t,FY((i,o)=>{let s=o;return typeof s=="bigint"&&(s={__type:"bigint",value:o.toString()}),s instanceof Map&&(s={__type:"Map",value:Array.from(o.entries())}),e?.(i,s)??s},r),n??void 0)}function OY(t){const{deserialize:e=kY,key:n="wagmi",serialize:r=BY,storage:i=VO}=t;function o(s){return s instanceof Promise?s.then(a=>a).catch(()=>null):s}return{...i,key:n,async getItem(s,a){const l=i.getItem(`${n}.${s}`),c=await o(l);return c?e(c)??null:a??null},async setItem(s,a){const l=`${n}.${s}`;a===null?await o(i.removeItem(l)):await o(i.setItem(l,r(a)))},async removeItem(s){await o(i.removeItem(`${n}.${s}`))}}}const VO={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function LY(){const t=typeof window<"u"&&window.localStorage?window.localStorage:VO;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const FA=256;let w0=FA,b0;function DY(t=11){if(!b0||w0+t>FA*2){b0="",w0=0;for(let e=0;e<FA;e++)b0+=(256+Math.random()*256|0).toString(16).substring(1)}return b0.substring(w0,w0+++t)}function $O(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=OY({storage:LY()}),syncConnectedChain:r=!0,ssr:i=!1,...o}=t,s=typeof window<"u"&&e?AY():void 0,a=mb(()=>o.chains),l=mb(()=>{const P=[],N=new Set;for(const _ of o.connectors??[]){const D=c(_);if(P.push(D),!i&&D.rdns){const T=typeof D.rdns=="string"?[D.rdns]:D.rdns;for(const E of T)N.add(E)}}if(!i&&s){const _=s.getProviders();for(const D of _)N.has(D.info.rdns)||P.push(c(u(D)))}return P});function c(P){const N=NY(DY()),_={...P({emitter:N,chains:a.getState(),storage:n,transports:o.transports}),emitter:N,uid:N.uid};return N.on("connect",b),_.setup?.(),_}function u(P){const{info:N}=P,_=P.provider;return Cm({target:{...N,id:N.rdns,provider:_}})}const d=new Map;function f(P={}){const N=P.chainId??y.getState().chainId,_=a.getState().find(T=>T.id===N);if(P.chainId&&!_)throw new Qc;{const T=d.get(y.getState().chainId);if(T&&!_)return T;if(!_)throw new Qc}{const T=d.get(N);if(T)return T}let D;if(o.client)D=o.client({chain:_});else{const T=_.id,E=a.getState().map(B=>B.id),z={},W=Object.entries(o);for(const[B,w]of W)if(!(B==="chains"||B==="client"||B==="connectors"||B==="transports"))if(typeof w=="object")if(T in w)z[B]=w[T];else{if(E.some(C=>C in w))continue;z[B]=w}else z[B]=w;D=DO({...z,chain:_,batch:z.batch??{multicall:!0},transport:B=>o.transports[T]({...B,connectors:l})})}return d.set(N,D),D}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const m="0.0.0-canary-";Lg.startsWith(m)?p=Number.parseInt(Lg.replace(m,"")):p=Number.parseInt(Lg.split(".")[0]??"0");const y=mb(SY(n?MY(h,{migrate(P,N){if(N===p)return P;const _=h(),D=g(P,_.chainId);return{..._,chainId:D}},name:"store",partialize(P){return{connections:{__type:"Map",value:Array.from(P.connections.entries()).map(([N,_])=>{const{id:D,name:T,type:E,uid:z}=_.connector;return[N,{..._,connector:{id:D,name:T,type:E,uid:z}}]})},chainId:P.chainId,current:P.current}},merge(P,N){typeof P=="object"&&P&&"status"in P&&delete P.status;const _=g(P,N.chainId);return{...N,...P,chainId:_}},skipHydration:i,storage:n,version:p}):h));y.setState(h());function g(P,N){return P&&typeof P=="object"&&"chainId"in P&&typeof P.chainId=="number"&&a.getState().some(_=>_.id===P.chainId)?P.chainId:N}r&&y.subscribe(({connections:P,current:N})=>N?P.get(N)?.chainId:void 0,P=>{if(a.getState().some(_=>_.id===P))return y.setState(_=>({..._,chainId:P??_.chainId}))}),s?.subscribe(P=>{const N=new Set,_=new Set;for(const T of l.getState())if(N.add(T.id),T.rdns){const E=typeof T.rdns=="string"?[T.rdns]:T.rdns;for(const z of E)_.add(z)}const D=[];for(const T of P){if(_.has(T.info.rdns))continue;const E=c(u(T));N.has(E.id)||D.push(E)}n&&!y.persist.hasHydrated()||l.setState(T=>[...T,...D],!0)});function v(P){y.setState(N=>{const _=N.connections.get(P.uid);return _?{...N,connections:new Map(N.connections).set(P.uid,{accounts:P.accounts??_.accounts,chainId:P.chainId??_.chainId,connector:_.connector})}:N})}function b(P){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(N=>{const _=l.getState().find(D=>D.uid===P.uid);return _?(_.emitter.listenerCount("connect")&&_.emitter.off("connect",v),_.emitter.listenerCount("change")||_.emitter.on("change",v),_.emitter.listenerCount("disconnect")||_.emitter.on("disconnect",x),{...N,connections:new Map(N.connections).set(P.uid,{accounts:P.accounts,chainId:P.chainId,connector:_}),current:P.uid,status:"connected"}):N})}function x(P){y.setState(N=>{const _=N.connections.get(P.uid);if(_){const T=_.connector;T.emitter.listenerCount("change")&&_.connector.emitter.off("change",v),T.emitter.listenerCount("disconnect")&&_.connector.emitter.off("disconnect",x),T.emitter.listenerCount("connect")||_.connector.emitter.on("connect",b)}if(N.connections.delete(P.uid),N.connections.size===0)return{...N,connections:new Map,current:null,status:"disconnected"};const D=N.connections.values().next().value;return{...N,connections:new Map(N.connections),current:D.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return l.getState()},storage:n,getClient:f,get state(){return y.getState()},setState(P){let N;typeof P=="function"?N=P(y.getState()):N=P;const _=h();typeof N!="object"&&(N=_),Object.keys(_).some(T=>!(T in N))&&(N=_),y.setState(N,!0)},subscribe(P,N,_){return y.subscribe(P,N,_?{..._,fireImmediately:_.emitImmediately}:void 0)},_internal:{mipd:s,store:y,ssr:!!i,syncConnectedChain:r,transports:o.transports,chains:{setState(P){const N=typeof P=="function"?P(a.getState()):P;if(N.length!==0)return a.setState(N,!0)},subscribe(P){return a.subscribe(P)}},connectors:{providerDetailToConnector:u,setup:c,setState(P){return l.setState(typeof P=="function"?P(l.getState()):P,!0)},subscribe(P){return l.subscribe(P)}},events:{change:v,connect:b,disconnect:x}}}}function UY(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(i=>i.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{const o=new Set;for(const l of i??[])if(l.rdns){const c=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const u of c)o.add(u)}const s=[],a=t._internal.mipd?.getProviders()??[];for(const l of a){if(o.has(l.info.rdns))continue;const c=t._internal.connectors.providerDetailToConnector(l),u=t._internal.connectors.setup(c);s.push(u)}return[...i,...s]})),r?hY(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function zY(t){const{chain:e}=t,n=e.rpcUrls.default.http[0];if(!t.transports)return[n];const r=t.transports?.[e.id]?.({chain:e});return(r?.value?.transports||[r]).map(({value:o})=>o?.url||n)}function jY(t){const{children:e,config:n,initialState:r,reconnectOnMount:i=!0}=t,{onMount:o}=UY(n,{initialState:r,reconnectOnMount:i});n._internal.ssr||o();const s=U.useRef(!0);return U.useEffect(()=>{if(s.current&&n._internal.ssr)return o(),()=>{s.current=!1}},[]),e}const qO=U.createContext(void 0);function HY(t){const{children:e,config:n}=t,r={value:n};return U.createElement(jY,t,U.createElement(qO.Provider,r,e))}const GY="2.15.6",WY=()=>`wagmi@${GY}`;class VY extends Pa{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return WY()}}class $Y extends VY{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function cr(t={}){const e=t.config??U.useContext(qO);if(!e)throw new $Y;return e}function qY(t,e){const{onChange:n}=e;return t._internal.chains.subscribe((r,i)=>{n(r,i)})}var QO={exports:{}},KO={},XO={exports:{}},YO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=U;function QY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var KY=typeof Object.is=="function"?Object.is:QY,XY=Qd.useState,YY=Qd.useEffect,JY=Qd.useLayoutEffect,ZY=Qd.useDebugValue;function eJ(t,e){var n=e(),r=XY({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return JY(function(){i.value=n,i.getSnapshot=e,gb(i)&&o({inst:i})},[t,n,e]),YY(function(){return gb(i)&&o({inst:i}),t(function(){gb(i)&&o({inst:i})})},[t]),ZY(n),n}function gb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!KY(t,n)}catch{return!0}}function tJ(t,e){return e()}var nJ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tJ:eJ;YO.useSyncExternalStore=Qd.useSyncExternalStore!==void 0?Qd.useSyncExternalStore:nJ;XO.exports=YO;var rJ=XO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw=U,iJ=rJ;function oJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sJ=typeof Object.is=="function"?Object.is:oJ,aJ=iJ.useSyncExternalStore,lJ=Aw.useRef,cJ=Aw.useEffect,uJ=Aw.useMemo,dJ=Aw.useDebugValue;KO.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=lJ(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=uJ(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return d=p}return d=h}if(p=d,sJ(u,h))return p;var m=r(h);return i!==void 0&&i(p,m)?(u=h,p):(u=h,d=m)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=aJ(t,o[0],o[1]);return cJ(function(){s.hasValue=!0,s.value=a},[a]),dJ(a),a};QO.exports=KO;var JO=QO.exports;const yb=t=>typeof t=="object"&&!Array.isArray(t);function fJ(t,e,n=e,r=Ml){const i=U.useRef([]),o=JO.useSyncExternalStoreWithSelector(t,e,n,s=>s,(s,a)=>{if(yb(s)&&yb(a)&&i.current.length){for(const l of i.current)if(!r(s[l],a[l]))return!1;return!0}return r(s,a)});return U.useMemo(()=>{if(yb(o)){const s={...o};let a={};for(const[l,c]of Object.entries(s))a={...a,[l]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(l)||i.current.push(l),c)}};return Object.defineProperties(s,a),s}return o},[o])}function Rr(t={}){const e=cr(t);return fJ(n=>GO(e,{onChange:n}),()=>HO(e))}function ZO(t={}){const{onConnect:e,onDisconnect:n}=t,r=cr(t);U.useEffect(()=>GO(r,{onChange(i,o){if((o.status==="reconnecting"||o.status==="connecting"&&o.address===void 0)&&i.status==="connected"){const{address:s,addresses:a,chain:l,chainId:c,connector:u}=i,d=o.status==="reconnecting"||o.status===void 0;e?.({address:s,addresses:a,chain:l,chainId:c,connector:u,isReconnected:d})}else o.status==="connected"&&i.status==="disconnected"&&n?.()}}),[r,e,n])}var Cf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kc=typeof window>"u"||"Deno"in globalThis;function Qr(){}function hJ(t,e){return typeof t=="function"?t(e):t}function BA(t){return typeof t=="number"&&t>=0&&t!==1/0}function eL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xl(t,e){return typeof t=="function"?t(e):t}function Go(t,e){return typeof t=="function"?t(e):t}function f5(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==EC(s,e.options))return!1}else if(!Dp(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function h5(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Xc(e.options.mutationKey)!==Xc(o))return!1}else if(!Dp(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function EC(t,e){return(e?.queryKeyHashFn||Xc)(t)}function Xc(t){return JSON.stringify(t,(e,n)=>OA(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Dp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Dp(t[n],e[n])):!1}function tL(t,e){if(t===e)return t;const n=p5(t)&&p5(e);if(n||OA(t)&&OA(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<s;u++){const d=n?u:o[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=tL(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return i===s&&c===i?t:a}return e}function jy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function p5(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function OA(t){if(!m5(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!m5(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function m5(t){return Object.prototype.toString.call(t)==="[object Object]"}function pJ(t){return new Promise(e=>{setTimeout(e,t)})}function LA(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?tL(t,e):e}function mJ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function gJ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var AC=Symbol();function nL(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===AC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function rL(t,e){return typeof t=="function"?t(...e):!!t}var yJ=class extends Cf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Kc&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},_C=new yJ,vJ=class extends Cf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Kc&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Hy=new vJ;function DA(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function wJ(t){return Math.min(1e3*2**t,3e4)}function iL(t){return(t??"online")==="online"?Hy.isOnline():!0}var oL=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function vb(t){return t instanceof oL}function sL(t){let e=!1,n=0,r=!1,i;const o=DA(),s=m=>{r||(f(new oL(m)),t.abort?.())},a=()=>{e=!0},l=()=>{e=!1},c=()=>_C.isFocused()&&(t.networkMode==="always"||Hy.isOnline())&&t.canRun(),u=()=>iL(t.networkMode)&&t.canRun(),d=m=>{r||(r=!0,t.onSuccess?.(m),i?.(),o.resolve(m))},f=m=>{r||(r=!0,t.onError?.(m),i?.(),o.reject(m))},h=()=>new Promise(m=>{i=y=>{(r||c())&&m(y)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),p=()=>{if(r)return;let m;const y=n===0?t.initialPromise:void 0;try{m=y??t.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(d).catch(g=>{if(r)return;const v=t.retry??(Kc?0:3),b=t.retryDelay??wJ,x=typeof b=="function"?b(n,g):b,P=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,g);if(e||!P){f(g);return}n++,t.onFail?.(n,g),pJ(x).then(()=>c()?void 0:h()).then(()=>{e?f(g):p()})})};return{promise:o,cancel:s,continue:()=>(i?.(),o),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?p():h().then(p),o)}}var bJ=t=>setTimeout(t,0);function xJ(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=bJ;const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var rr=xJ(),aL=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),BA(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Kc?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},EJ=class extends aL{#e;#t;#n;#r;#i;#s;#o;constructor(t){super(),this.#o=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=AJ(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=LA(this.state.data,t,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Qr).catch(Qr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Go(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===AC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>xl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!eL(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const l=nL(this.options,e),u=(()=>{const d={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},s=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#a({type:"fetch",meta:s.fetchOptions?.meta});const a=l=>{vb(l)&&l.silent||this.#a({type:"error",error:l}),vb(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=sL({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){a(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:a,onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#i.start()}#a(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...lL(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return vb(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),rr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function lL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iL(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function AJ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var _J=class extends Cf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??EC(r,e);let o=this.get(i);return o||(o=new EJ({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>f5(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>f5(t,n)):e}notify(t){rr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){rr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},SJ=class extends aL{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||cL(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=sL({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:r})}const i=await this.#n.start();return await this.#t.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),rr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function cL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var CJ=class extends Cf{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new SJ({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=x0(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=x0(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=x0(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=x0(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){rr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>h5(e,n))}findAll(t={}){return this.getAll().filter(e=>h5(t,e))}notify(t){rr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return rr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Qr))))}};function x0(t){return t.options.scope?.id}function g5(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],s=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const d=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},f=nL(e.options,e.fetchOptions),h=async(p,m,y)=>{if(u)return Promise.reject();if(m==null&&p.pages.length)return Promise.resolve(p);const v=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:m,direction:y?"backward":"forward",meta:e.options.meta};return d(N),N})(),b=await f(v),{maxPages:x}=e.options,P=y?gJ:mJ;return{pages:P(p.pages,b,x),pageParams:P(p.pageParams,m,x)}};if(i&&o.length){const p=i==="backward",m=p?TJ:y5,y={pages:o,pageParams:s},g=m(r,y);a=await h(y,g,p)}else{const p=t??o.length;do{const m=l===0?s[0]??r.initialPageParam:y5(r,a);if(l>0&&m==null)break;a=await h(a,m),l++}while(l<p)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function y5(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function TJ(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var MJ=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new _J,this.#t=t.mutationCache||new CJ,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=_C.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Hy.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(xl(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,s=hJ(e,o);if(s!==void 0)return this.#e.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return rr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;rr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return rr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=rr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Qr).catch(Qr)}invalidateQueries(t,e={}){return rr.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=rr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Qr)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Qr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(xl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qr).catch(Qr)}fetchInfiniteQuery(t){return t.behavior=g5(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qr).catch(Qr)}ensureInfiniteQueryData(t){return t.behavior=g5(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Hy.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Xc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Dp(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Xc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{Dp(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=EC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===AC&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},IJ=class extends Cf{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=DA(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#p;#u;#m;#h;#l;#c;#d=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),v5(this.#t,this.options)?this.#f():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return UA(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return UA(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Go(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#t.setOptions(this.options),e._defaulted&&!jy(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&w5(this.#t,n,this.options,e)&&this.#f(),this.updateResult(),r&&(this.#t!==n||Go(this.options.enabled,this.#t)!==Go(e.enabled,this.#t)||xl(this.options.staleTime,this.#t)!==xl(e.staleTime,this.#t))&&this.#y();const i=this.#g();r&&(this.#t!==n||Go(this.options.enabled,this.#t)!==Go(e.enabled,this.#t)||i!==this.#c)&&this.#v(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return PJ(this,n)&&(this.#r=n,this.#s=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),Reflect.get(n,r))})}trackProp(t){this.#d.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#f({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#f(t){this.#E();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Qr)),e}#y(){this.#b();const t=xl(this.options.staleTime,this.#t);if(Kc||this.#r.isStale||!BA(t))return;const n=eL(this.#r.dataUpdatedAt,t)+1;this.#h=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#c=t,!(Kc||Go(this.options.enabled,this.#t)===!1||!BA(this.#c)||this.#c===0)&&(this.#l=setInterval(()=>{(this.options.refetchIntervalInBackground||_C.isFocused())&&this.#f()},this.#c))}#w(){this.#y(),this.#v(this.#g())}#b(){this.#h&&(clearTimeout(this.#h),this.#h=void 0)}#x(){this.#l&&(clearInterval(this.#l),this.#l=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,o=this.#i,s=this.#s,l=t!==n?t.state:this.#n,{state:c}=t;let u={...c},d=!1,f;if(e._optimisticResults){const D=this.hasListeners(),T=!D&&v5(t,e),E=D&&w5(t,n,e,r);(T||E)&&(u={...u,...lL(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:p,status:m}=u;f=u.data;let y=!1;if(e.placeholderData!==void 0&&f===void 0&&m==="pending"){let D;i?.isPlaceholderData&&e.placeholderData===s?.placeholderData?(D=i.data,y=!0):D=typeof e.placeholderData=="function"?e.placeholderData(this.#m?.state.data,this.#m):e.placeholderData,D!==void 0&&(m="success",f=LA(i?.data,D,e),d=!0)}if(e.select&&f!==void 0&&!y)if(i&&f===o?.data&&e.select===this.#p)f=this.#u;else try{this.#p=e.select,f=e.select(f),f=LA(i?.data,f,e),this.#u=f,this.#a=null}catch(D){this.#a=D}this.#a&&(h=this.#a,f=this.#u,p=Date.now(),m="error");const g=u.fetchStatus==="fetching",v=m==="pending",b=m==="error",x=v&&g,P=f!==void 0,_={status:m,fetchStatus:u.fetchStatus,isPending:v,isSuccess:m==="success",isError:b,isInitialLoading:x,isLoading:x,data:f,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:p,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:g,isRefetching:g&&!v,isLoadingError:b&&!P,isPaused:u.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:b&&P,isStale:SC(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const D=z=>{_.status==="error"?z.reject(_.error):_.data!==void 0&&z.resolve(_.data)},T=()=>{const z=this.#o=_.promise=DA();D(z)},E=this.#o;switch(E.status){case"pending":t.queryHash===n.queryHash&&D(E);break;case"fulfilled":(_.status==="error"||_.data!==E.value)&&T();break;case"rejected":(_.status!=="error"||_.error!==E.reason)&&T();break}}return _}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#m=this.#t),jy(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#d.size)return!0;const o=new Set(i??this.#d);return this.options.throwOnError&&o.add("error"),Object.keys(this.#r).some(s=>{const a=s;return this.#r[a]!==t[a]&&o.has(a)})};this.#A({listeners:n()})}#E(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#A(t){rr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function RJ(t,e){return Go(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function v5(t,e){return RJ(t,e)||t.state.data!==void 0&&UA(t,e,e.refetchOnMount)}function UA(t,e,n){if(Go(e.enabled,t)!==!1&&xl(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&SC(t,e)}return!1}function w5(t,e,n,r){return(t!==e||Go(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&SC(t,n)}function SC(t,e){return Go(e.enabled,t)!==!1&&t.isStaleByTime(xl(e.staleTime,t))}function PJ(t,e){return!jy(t.getCurrentResult(),e)}var NJ=class extends Cf{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),jy(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Xc(n.mutationKey)!==Xc(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??cL();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){rr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}};function kJ(t){return JSON.stringify(t,(e,n)=>FJ(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):typeof n=="bigint"?n.toString():n)}function FJ(t){if(!b5(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!b5(n)||!n.hasOwnProperty("isPrototypeOf"))}function b5(t){return Object.prototype.toString.call(t)==="[object Object]"}function _w(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:i,initialDataUpdatedAt:o,maxPages:s,meta:a,networkMode:l,queryFn:c,queryHash:u,queryKey:d,queryKeyHashFn:f,retry:h,retryDelay:p,structuralSharing:m,getPreviousPageParam:y,getNextPageParam:g,initialPageParam:v,_optimisticResults:b,enabled:x,notifyOnChangeProps:P,placeholderData:N,refetchInterval:_,refetchIntervalInBackground:D,refetchOnMount:T,refetchOnReconnect:E,refetchOnWindowFocus:z,retryOnMount:W,select:B,staleTime:w,suspense:A,throwOnError:C,config:k,connector:I,query:H,...G}=t;return G}function BJ(t){return{mutationFn(e){return QX(t,e)},mutationKey:["connect"]}}function OJ(t){return{mutationFn(e){return iY(t,e)},mutationKey:["disconnect"]}}function LJ(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:i,...o}=n[1];if(!r)throw new Error("address is required");return await lY(t,{...o,address:r})??null},queryKey:DJ(e)}}function DJ(t={}){return["balance",_w(t)]}function UJ(t,e={}){return{async queryFn({queryKey:n}){const{name:r,scopeKey:i,...o}=n[1];if(!r)throw new Error("name is required");return uY(t,{...o,name:r})},queryKey:zJ(e)}}function zJ(t={}){return["ensAvatar",_w(t)]}function jJ(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:i,...o}=n[1];if(!r)throw new Error("address is required");return dY(t,{...o,address:r})},queryKey:HJ(e)}}function HJ(t={}){return["ensName",_w(t)]}function GJ(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=e,{connectorUid:i,scopeKey:o,...s}=n[1];return fY(t,{...s,connector:r})},queryKey:WJ(e)}}function WJ(t={}){const{connector:e,...n}=t;return["walletClient",{..._w(n),connectorUid:e?.uid}]}function VJ(t){return{mutationFn(e){return pY(t,e)},mutationKey:["signMessage"]}}function $J(t){return{mutationFn(e){return gY(t,e)},mutationKey:["switchChain"]}}var uL=U.createContext(void 0),CC=t=>{const e=U.useContext(uL);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},qJ=({client:t,children:e})=>(U.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),fn.jsx(uL.Provider,{value:t,children:e})),dL=U.createContext(!1),QJ=()=>U.useContext(dL);dL.Provider;function KJ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var XJ=U.createContext(KJ()),YJ=()=>U.useContext(XJ),JJ=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},ZJ=t=>{U.useEffect(()=>{t.clearReset()},[t])},eZ=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||rL(n,[t.error,r])),tZ=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},nZ=(t,e)=>t.isLoading&&t.isFetching&&!e,rZ=(t,e)=>t?.suspense&&e.isPending,x5=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function iZ(t,e,n){const r=QJ(),i=YJ(),o=CC(),s=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=r?"isRestoring":"optimistic",tZ(s),JJ(s,i),ZJ(i);const a=!o.getQueryCache().get(s.queryHash),[l]=U.useState(()=>new e(o,s)),c=l.getOptimisticResult(s),u=!r&&t.subscribed!==!1;if(U.useSyncExternalStore(U.useCallback(d=>{const f=u?l.subscribe(rr.batchCalls(d)):Qr;return l.updateResult(),f},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),U.useEffect(()=>{l.setOptions(s)},[s,l]),rZ(s,c))throw x5(s,l,i);if(eZ({result:c,errorResetBoundary:i,throwOnError:s.throwOnError,query:o.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw c.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(s,c),s.experimental_prefetchInRender&&!Kc&&nZ(c,r)&&(a?x5(s,l,i):o.getQueryCache().get(s.queryHash)?.promise)?.catch(Qr).finally(()=>{l.updateResult()}),s.notifyOnChangeProps?c:l.trackResult(c)}function fL(t,e){return iZ(t,IJ)}function Sw(t,e){const n=CC(),[r]=U.useState(()=>new NJ(n,t));U.useEffect(()=>{r.setOptions(t)},[r,t]);const i=U.useSyncExternalStore(U.useCallback(s=>r.subscribe(rr.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=U.useCallback((s,a)=>{r.mutate(s,a).catch(Qr)},[r]);if(i.error&&rL(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function Cw(t){const e=fL({...t,queryKeyHashFn:kJ});return e.queryKey=t.queryKey,e}function Tm(t={}){const e=cr(t);return U.useSyncExternalStore(n=>yY(e,{onChange:n}),()=>s5(e),()=>s5(e))}function hL(t={}){const{address:e,query:n={}}=t,r=cr(t),i=Tm({config:r}),o=LJ(r,{...t,chainId:t.chainId??i}),s=!!(e&&(n.enabled??!0));return Cw({...n,...o,enabled:s})}function oZ(t={}){const e=cr(t);return U.useSyncExternalStore(n=>qY(e,{onChange:n}),()=>a5(e),()=>a5(e))}function sZ(t={}){const e=cr(t);return U.useSyncExternalStore(n=>wY(e,{onChange:n}),()=>l5(e),()=>l5(e))}function aZ(t={}){const{mutation:e}=t,n=cr(t),r=BJ(n),{mutate:i,mutateAsync:o,...s}=Sw({...e,...r});return U.useEffect(()=>n.subscribe(({status:a})=>a,(a,l)=>{l==="connected"&&a==="disconnected"&&s.reset()}),[n,s.reset]),{...s,connect:i,connectAsync:o,connectors:sZ({config:n})}}function lZ(t={}){const e=cr(t);return U.useSyncExternalStore(n=>vY(e,{onChange:n}),()=>PA(e),()=>PA(e))}function TC(t={}){const{mutation:e}=t,n=cr(t),r=OJ(n),{mutate:i,mutateAsync:o,...s}=Sw({...e,...r});return{...s,connectors:lZ({config:n}).map(a=>a.connector),disconnect:i,disconnectAsync:o}}function cZ(t={}){const{name:e,query:n={}}=t,r=cr(t),i=Tm({config:r}),o=UJ(r,{...t,chainId:t.chainId??i}),s=!!(e&&(n.enabled??!0));return Cw({...n,...o,enabled:s})}function uZ(t={}){const{address:e,query:n={}}=t,r=cr(t),i=Tm({config:r}),o=jJ(r,{...t,chainId:t.chainId??i}),s=!!(e&&(n.enabled??!0));return Cw({...n,...o,enabled:s})}function MC(t={}){const e=cr(t);return JO.useSyncExternalStoreWithSelector(n=>bY(e,{onChange:n}),()=>NA(e,t),()=>NA(e,t),n=>n,(n,r)=>n?.uid===r?.uid)}function dZ(t={}){const{mutation:e}=t,n=cr(t),r=VJ(n),{mutate:i,mutateAsync:o,...s}=Sw({...e,...r});return{...s,signMessage:i,signMessageAsync:o}}function pL(t={}){const{mutation:e}=t,n=cr(t),r=$J(n),{mutate:i,mutateAsync:o,...s}=Sw({...e,...r});return{...s,chains:oZ({config:n}),switchChain:i,switchChainAsync:o}}function mL(t={}){const{query:e={},...n}=t,r=cr(n),i=CC(),{address:o,connector:s,status:a}=Rr({config:r}),l=Tm({config:r}),c=t.connector??s,{queryKey:u,...d}=GJ(r,{...t,chainId:t.chainId??l,connector:t.connector??s}),f=!!((a==="connected"||a==="reconnecting"&&c?.getProvider)&&(e.enabled??!0)),h=U.useRef(o);return U.useEffect(()=>{const p=h.current;!o&&p?(i.removeQueries({queryKey:u}),h.current=void 0):o!==p&&(i.invalidateQueries({queryKey:u}),h.current=o)},[o,i]),Cw({...e,...d,queryKey:u,enabled:f,staleTime:Number.POSITIVE_INFINITY})}var E5='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fZ={rounded:`SFRounded, ui-rounded, "SF Pro Rounded", ${E5}`,system:E5},eh={large:{actionButton:"9999px",connectButton:"12px",modal:"24px",modalMobile:"28px"},medium:{actionButton:"10px",connectButton:"8px",modal:"16px",modalMobile:"18px"},none:{actionButton:"0px",connectButton:"0px",modal:"0px",modalMobile:"0px"},small:{actionButton:"4px",connectButton:"4px",modal:"8px",modalMobile:"8px"}},hZ={large:{modalOverlay:"blur(20px)"},none:{modalOverlay:"blur(0px)"},small:{modalOverlay:"blur(4px)"}},gL=({borderRadius:t="large",fontStack:e="rounded",overlayBlur:n="none"})=>({blurs:{modalOverlay:hZ[n].modalOverlay},fonts:{body:fZ[e]},radii:{actionButton:eh[t].actionButton,connectButton:eh[t].connectButton,menuButton:eh[t].connectButton,modal:eh[t].modal,modalMobile:eh[t].modalMobile}}),Ug="#1A1B1F",yL={blue:{accentColor:"#3898FF",accentColorForeground:"#FFF"},green:{accentColor:"#4BD166",accentColorForeground:Ug},orange:{accentColor:"#FF983D",accentColorForeground:Ug},pink:{accentColor:"#FF7AB8",accentColorForeground:Ug},purple:{accentColor:"#7A70FF",accentColorForeground:"#FFF"},red:{accentColor:"#FF6257",accentColorForeground:"#FFF"}},A5=yL.blue,vL=({accentColor:t=A5.accentColor,accentColorForeground:e=A5.accentColorForeground,...n}={})=>({...gL(n),colors:{accentColor:t,accentColorForeground:e,actionButtonBorder:"rgba(255, 255, 255, 0.04)",actionButtonBorderMobile:"rgba(255, 255, 255, 0.08)",actionButtonSecondaryBackground:"rgba(255, 255, 255, 0.08)",closeButton:"rgba(224, 232, 255, 0.6)",closeButtonBackground:"rgba(255, 255, 255, 0.08)",connectButtonBackground:Ug,connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(255, 255, 255, 0.075), rgba(255, 255, 255, 0.15))",connectButtonText:"#FFF",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(0, 0, 0, 0) 9.49%, rgba(120, 120, 120, 0.2) 71.04%), #1A1B1F",downloadTopCardBackground:"linear-gradient(126deg, rgba(120, 120, 120, 0.2) 9.49%, rgba(0, 0, 0, 0) 71.04%), #1A1B1F",error:"#FF494A",generalBorder:"rgba(255, 255, 255, 0.08)",generalBorderDim:"rgba(255, 255, 255, 0.04)",menuItemBackground:"rgba(224, 232, 255, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.5)",modalBackground:"#1A1B1F",modalBorder:"rgba(255, 255, 255, 0.08)",modalText:"#FFF",modalTextDim:"rgba(224, 232, 255, 0.3)",modalTextSecondary:"rgba(255, 255, 255, 0.6)",profileAction:"rgba(224, 232, 255, 0.1)",profileActionHover:"rgba(224, 232, 255, 0.2)",profileForeground:"rgba(224, 232, 255, 0.05)",selectedOptionBorder:"rgba(224, 232, 255, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.24)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});vL.accentColors=yL;var wL={blue:{accentColor:"#0E76FD",accentColorForeground:"#FFF"},green:{accentColor:"#1DB847",accentColorForeground:"#FFF"},orange:{accentColor:"#FF801F",accentColorForeground:"#FFF"},pink:{accentColor:"#FF5CA0",accentColorForeground:"#FFF"},purple:{accentColor:"#5F5AFA",accentColorForeground:"#FFF"},red:{accentColor:"#FA423C",accentColorForeground:"#FFF"}},_5=wL.blue,bL=({accentColor:t=_5.accentColor,accentColorForeground:e=_5.accentColorForeground,...n}={})=>({...gL(n),colors:{accentColor:t,accentColorForeground:e,actionButtonBorder:"rgba(0, 0, 0, 0.04)",actionButtonBorderMobile:"rgba(0, 0, 0, 0.06)",actionButtonSecondaryBackground:"rgba(0, 0, 0, 0.06)",closeButton:"rgba(60, 66, 66, 0.8)",closeButtonBackground:"rgba(0, 0, 0, 0.06)",connectButtonBackground:"#FFF",connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(0, 0, 0, 0.03), rgba(0, 0, 0, 0.06))",connectButtonText:"#25292E",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(255, 255, 255, 0) 9.49%, rgba(171, 171, 171, 0.04) 71.04%), #FFFFFF",downloadTopCardBackground:"linear-gradient(126deg, rgba(171, 171, 171, 0.2) 9.49%, rgba(255, 255, 255, 0) 71.04%), #FFFFFF",error:"#FF494A",generalBorder:"rgba(0, 0, 0, 0.06)",generalBorderDim:"rgba(0, 0, 0, 0.03)",menuItemBackground:"rgba(60, 66, 66, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.3)",modalBackground:"#FFF",modalBorder:"transparent",modalText:"#25292E",modalTextDim:"rgba(60, 66, 66, 0.3)",modalTextSecondary:"rgba(60, 66, 66, 0.6)",profileAction:"#FFF",profileActionHover:"rgba(255, 255, 255, 0.5)",profileForeground:"rgba(60, 66, 66, 0.06)",selectedOptionBorder:"rgba(60, 66, 66, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.12)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});bL.accentColors=wL;var zA=`{
  "connect_wallet": {
    "label": "Connect Wallet",
    "wrong_network": {
      "label": "Wrong network"
    }
  },

  "intro": {
    "title": "What is a Wallet?",
    "description": "A wallet is used to send, receive, store, and display digital assets. It's also a new way to log in, without needing to create new accounts and passwords on every website.",
    "digital_asset": {
      "title": "A Home for your Digital Assets",
      "description": "Wallets are used to send, receive, store, and display digital assets like Ethereum and NFTs."
    },
    "login": {
      "title": "A New Way to Log In",
      "description": "Instead of creating new accounts and passwords on every website, just connect your wallet."
    },
    "get": {
      "label": "Get a Wallet"
    },
    "learn_more": {
      "label": "Learn More"
    }
  },

  "sign_in": {
    "label": "Verify your account",
    "description": "To finish connecting, you must sign a message in your wallet to verify that you are the owner of this account.",
    "message": {
      "send": "Sign message",
      "preparing": "Preparing message...",
      "cancel": "Cancel",
      "preparing_error": "Error preparing message, please retry!"
    },
    "signature": {
      "waiting": "Waiting for signature...",
      "verifying": "Verifying signature...",
      "signing_error": "Error signing message, please retry!",
      "verifying_error": "Error verifying signature, please retry!",
      "oops_error": "Oops, something went wrong!"
    }
  },

  "connect": {
    "label": "Connect",
    "title": "Connect a Wallet",
    "new_to_ethereum": {
      "description": "New to Ethereum wallets?",
      "learn_more": {
        "label": "Learn More"
      }
    },
    "learn_more": {
      "label": "Learn more"
    },
    "recent": "Recent",
    "status": {
      "opening": "Opening %{wallet}...",
      "connecting": "Connecting",
      "connect_mobile": "Continue in %{wallet}",
      "not_installed": "%{wallet} is not installed",
      "not_available": "%{wallet} is not available",
      "confirm": "Confirm connection in the extension",
      "confirm_mobile": "Accept connection request in the wallet"
    },
    "secondary_action": {
      "get": {
        "description": "Don't have %{wallet}?",
        "label": "GET"
      },
      "install": {
        "label": "INSTALL"
      },
      "retry": {
        "label": "RETRY"
      }
    },
    "walletconnect": {
      "description": {
        "full": "Need the official WalletConnect modal?",
        "compact": "Need the WalletConnect modal?"
      },
      "open": {
        "label": "OPEN"
      }
    }
  },

  "connect_scan": {
    "title": "Scan with %{wallet}",
    "fallback_title": "Scan with your phone"
  },

  "connector_group": {
    "installed": "Installed",
    "recommended": "Recommended",
    "other": "Other",
    "popular": "Popular",
    "more": "More",
    "others": "Others"
  },

  "get": {
    "title": "Get a Wallet",
    "action": {
      "label": "GET"
    },
    "mobile": {
      "description": "Mobile Wallet"
    },
    "extension": {
      "description": "Browser Extension"
    },
    "mobile_and_extension": {
      "description": "Mobile Wallet and Extension"
    },
    "mobile_and_desktop": {
      "description": "Mobile and Desktop Wallet"
    },
    "looking_for": {
      "title": "Not what you're looking for?",
      "mobile": {
        "description": "Select a wallet on the main screen to get started with a different wallet provider."
      },
      "desktop": {
        "compact_description": "Select a wallet on the main screen to get started with a different wallet provider.",
        "wide_description": "Select a wallet on the left to get started with a different wallet provider."
      }
    }
  },

  "get_options": {
    "title": "Get started with %{wallet}",
    "short_title": "Get %{wallet}",
    "mobile": {
      "title": "%{wallet} for Mobile",
      "description": "Use the mobile wallet to explore the world of Ethereum.",
      "download": {
        "label": "Get the app"
      }
    },
    "extension": {
      "title": "%{wallet} for %{browser}",
      "description": "Access your wallet right from your favorite web browser.",
      "download": {
        "label": "Add to %{browser}"
      }
    },
    "desktop": {
      "title": "%{wallet} for %{platform}",
      "description": "Access your wallet natively from your powerful desktop.",
      "download": {
        "label": "Add to %{platform}"
      }
    }
  },

  "get_mobile": {
    "title": "Install %{wallet}",
    "description": "Scan with your phone to download on iOS or Android",
    "continue": {
      "label": "Continue"
    }
  },

  "get_instructions": {
    "mobile": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "extension": {
      "refresh": {
        "label": "Refresh"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "desktop": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    }
  },

  "chains": {
    "title": "Switch Networks",
    "wrong_network": "Wrong network detected, switch or disconnect to continue.",
    "confirm": "Confirm in Wallet",
    "switching_not_supported": "Your wallet does not support switching networks from %{appName}. Try switching networks from within your wallet instead.",
    "switching_not_supported_fallback": "Your wallet does not support switching networks from this app. Try switching networks from within your wallet instead.",
    "disconnect": "Disconnect",
    "connected": "Connected"
  },

  "profile": {
    "disconnect": {
      "label": "Disconnect"
    },
    "copy_address": {
      "label": "Copy Address",
      "copied": "Copied!"
    },
    "explorer": {
      "label": "View more on explorer"
    },
    "transactions": {
      "description": "%{appName} transactions will appear here...",
      "description_fallback": "Your transactions will appear here...",
      "recent": {
        "title": "Recent Transactions"
      },
      "clear": {
        "label": "Clear All"
      }
    }
  },

  "wallet_connectors": {
    "argent": {
      "qr_code": {
        "step1": {
          "description": "Put Argent on your home screen for faster access to your wallet.",
          "title": "Open the Argent app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "berasig": {
      "extension": {
        "step1": {
          "title": "Install the BeraSig extension",
          "description": "We recommend pinning BeraSig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "best": {
      "qr_code": {
        "step1": {
          "title": "Open the Best Wallet app",
          "description": "Add Best Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bifrost": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bifrost Wallet on your home screen for quicker access.",
          "title": "Open the Bifrost Wallet app"
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "bitget": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bitget Wallet on your home screen for quicker access.",
          "title": "Open the Bitget Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Bitget Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitget Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitski": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Bitski to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitski extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitverse": {
      "qr_code": {
        "step1": {
          "title": "Open the Bitverse Wallet app",
          "description": "Add Bitverse Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bloom": {
      "desktop": {
        "step1": {
          "title": "Open the Bloom Wallet app",
          "description": "We recommend putting Bloom Wallet on your home screen for quicker access."
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you have a wallet, click on Connect to connect via Bloom. A connection prompt in the app will appear for you to confirm the connection.",
          "title": "Click on Connect"
        }
      }
    },

    "bybit": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bybit on your home screen for faster access to your wallet.",
          "title": "Open the Bybit app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Bybit Wallet for easy access.",
          "title": "Install the Bybit Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Bybit Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "binance": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Binance on your home screen for faster access to your wallet.",
          "title": "Open the Binance app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      }
    },

    "coin98": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coin98 Wallet on your home screen for faster access to your wallet.",
          "title": "Open the Coin98 Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Coin98 Wallet for easy access.",
          "title": "Install the Coin98 Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Coin98 Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "coinbase": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coinbase Wallet on your home screen for quicker access.",
          "title": "Open the Coinbase Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Coinbase Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Coinbase Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "compass": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Compass Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Compass Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "core": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Core on your home screen for faster access to your wallet.",
          "title": "Open the Core app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Core to your taskbar for quicker access to your wallet.",
          "title": "Install the Core extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "fox": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting FoxWallet on your home screen for quicker access.",
          "title": "Open the FoxWallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "frontier": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Frontier Wallet on your home screen for quicker access.",
          "title": "Open the Frontier Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Frontier Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Frontier Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "im_token": {
      "qr_code": {
        "step1": {
          "title": "Open the imToken app",
          "description": "Put imToken app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "iopay": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting ioPay on your home screen for faster access to your wallet.",
          "title": "Open the ioPay app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      }
    },

    "kaikas": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaikas to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaikas extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaikas app",
          "description": "Put Kaikas app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kaia": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaia to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaia extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaia app",
          "description": "Put Kaia app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kraken": {
      "qr_code": {
        "step1": {
          "title": "Open the Kraken Wallet app",
          "description": "Add Kraken Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "kresus": {
      "qr_code": {
        "step1": {
          "title": "Open the Kresus Wallet app",
          "description": "Add Kresus Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "magicEden": {
      "extension": {
        "step1": {
          "title": "Install the Magic Eden extension",
          "description": "We recommend pinning Magic Eden to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "metamask": {
      "qr_code": {
        "step1": {
          "title": "Open the MetaMask app",
          "description": "We recommend putting MetaMask on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the MetaMask extension",
          "description": "We recommend pinning MetaMask to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "nestwallet": {
      "extension": {
        "step1": {
          "title": "Install the NestWallet extension",
          "description": "We recommend pinning NestWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "okx": {
      "qr_code": {
        "step1": {
          "title": "Open the OKX Wallet app",
          "description": "We recommend putting OKX Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the OKX Wallet extension",
          "description": "We recommend pinning OKX Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "omni": {
      "qr_code": {
        "step1": {
          "title": "Open the Omni app",
          "description": "Add Omni to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your home screen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "1inch": {
      "qr_code": {
        "step1": {
          "description": "Put 1inch Wallet on your home screen for faster access to your wallet.",
          "title": "Open the 1inch Wallet app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "token_pocket": {
      "qr_code": {
        "step1": {
          "title": "Open the TokenPocket app",
          "description": "We recommend putting TokenPocket on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the TokenPocket extension",
          "description": "We recommend pinning TokenPocket to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "trust": {
      "qr_code": {
        "step1": {
          "title": "Open the Trust Wallet app",
          "description": "Put Trust Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Trust Wallet extension",
          "description": "Click at the top right of your browser and pin Trust Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up Trust Wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "uniswap": {
      "qr_code": {
        "step1": {
          "title": "Open the Uniswap app",
          "description": "Add Uniswap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "zerion": {
      "qr_code": {
        "step1": {
          "title": "Open the Zerion app",
          "description": "We recommend putting Zerion on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Zerion extension",
          "description": "We recommend pinning Zerion to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rainbow": {
      "qr_code": {
        "step1": {
          "title": "Open the Rainbow app",
          "description": "We recommend putting Rainbow on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "You can easily backup your wallet using our backup feature on your phone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "enkrypt": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Enkrypt Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Enkrypt Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "frame": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Frame to your taskbar for quicker access to your wallet.",
          "title": "Install Frame & the companion extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "one_key": {
      "extension": {
        "step1": {
          "title": "Install the OneKey Wallet extension",
          "description": "We recommend pinning OneKey Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "paraswap": {
      "qr_code": {
        "step1": {
          "title": "Open the ParaSwap app",
          "description": "Add ParaSwap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "phantom": {
      "extension": {
        "step1": {
          "title": "Install the Phantom extension",
          "description": "We recommend pinning Phantom to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rabby": {
      "extension": {
        "step1": {
          "title": "Install the Rabby extension",
          "description": "We recommend pinning Rabby to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "ronin": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Ronin Wallet on your home screen for quicker access.",
          "title": "Open the Ronin Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Ronin Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Ronin Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "ramper": {
      "extension": {
        "step1": {
          "title": "Install the Ramper extension",
          "description": "We recommend pinning Ramper to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safeheron": {
      "extension": {
        "step1": {
          "title": "Install the Core extension",
          "description": "We recommend pinning Safeheron to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "taho": {
      "extension": {
        "step1": {
          "title": "Install the Taho extension",
          "description": "We recommend pinning Taho to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "wigwam": {
      "extension": {
        "step1": {
          "title": "Install the Wigwam extension",
          "description": "We recommend pinning Wigwam to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "talisman": {
      "extension": {
        "step1": {
          "title": "Install the Talisman extension",
          "description": "We recommend pinning Talisman to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import an Ethereum Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "xdefi": {
      "extension": {
        "step1": {
          "title": "Install the XDEFI Wallet extension",
          "description": "We recommend pinning XDEFI Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "zeal": {
      "qr_code": {
        "step1": {
          "title": "Open the Zeal app",
          "description": "Add Zeal Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Zeal extension",
          "description": "We recommend pinning Zeal to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safepal": {
      "extension": {
        "step1": {
          "title": "Install the SafePal Wallet extension",
          "description": "Click at the top right of your browser and pin SafePal Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up SafePal Wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SafePal Wallet app",
          "description": "Put SafePal Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "desig": {
      "extension": {
        "step1": {
          "title": "Install the Desig extension",
          "description": "We recommend pinning Desig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "subwallet": {
      "extension": {
        "step1": {
          "title": "Install the SubWallet extension",
          "description": "We recommend pinning SubWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SubWallet app",
          "description": "We recommend putting SubWallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "clv": {
      "extension": {
        "step1": {
          "title": "Install the CLV Wallet extension",
          "description": "We recommend pinning CLV Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the CLV Wallet app",
          "description": "We recommend putting CLV Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "okto": {
      "qr_code": {
        "step1": {
          "title": "Open the Okto app",
          "description": "Add Okto to your home screen for quick access"
        },
        "step2": {
          "title": "Create an MPC Wallet",
          "description": "Create an account and generate a wallet"
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Tap the Scan QR icon at the top right and confirm the prompt to connect."
        }
      }
    },

    "ledger": {
      "desktop": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "Set up a new Ledger or connect to an existing one."
        },
        "step3": {
          "title": "Connect",
          "description": "A connection prompt will appear for you to connect your wallet."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "You can either sync with the desktop app or connect your Ledger."
        },
        "step3": {
          "title": "Scan the code",
          "description": "Tap WalletConnect then Switch to Scanner. After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "valora": {
      "qr_code": {
        "step1": {
          "title": "Open the Valora app",
          "description": "We recommend putting Valora on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "gate": {
      "qr_code": {
        "step1": {
          "title": "Open the Gate app",
          "description": "We recommend putting Gate on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Gate extension",
          "description": "We recommend pinning Gate to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "xportal": {
      "qr_code": {
        "step1": {
          "description": "Put xPortal on your home screen for faster access to your wallet.",
          "title": "Open the xPortal app"
        },
        "step2": {
          "description": "Create a wallet or import an existing one.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "mew": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting MEW Wallet on your home screen for quicker access.",
          "title": "Open the MEW Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    }
  },

  "zilpay": {
    "qr_code": {
      "step1": {
        "title": "Open the ZilPay app",
        "description": "Add ZilPay to your home screen for faster access to your wallet."
      },
      "step2": {
        "title": "Create or Import a Wallet",
        "description": "Create a new wallet or import an existing one."
      },
      "step3": {
        "title": "Tap the scan button",
        "description": "After you scan, a connection prompt will appear for you to connect your wallet."
      }
    }
  }
}
`;function pZ(t,e){return Object.defineProperty(t,"__recipe__",{value:e,writable:!1}),t}var xL=pZ;function EL(t){var{conditions:e}=t;if(!e)throw new Error("Styles have no conditions");function n(r){if(typeof r=="string"||typeof r=="number"||typeof r=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return{[e.defaultCondition]:r}}if(Array.isArray(r)){if(!("responsiveArray"in e))throw new Error("Responsive arrays are not supported");var i={};for(var o in e.responsiveArray)r[o]!=null&&(i[e.responsiveArray[o]]=r[o]);return i}return r}return xL(n,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createNormalizeValueFn",args:[{conditions:t.conditions}]})}function mZ(t){var{conditions:e}=t;if(!e)throw new Error("Styles have no conditions");var n=EL(t);function r(i,o){if(typeof i=="string"||typeof i=="number"||typeof i=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return o(i,e.defaultCondition)}var s=Array.isArray(i)?n(i):i,a={};for(var l in s)s[l]!=null&&(a[l]=o(s[l],l));return a}return xL(r,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createMapValueFn",args:[{conditions:t.conditions}]})}function gZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yZ(t){var e=gZ(t,"string");return typeof e=="symbol"?e:String(e)}function vZ(t,e,n){return e=yZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S5(Object(n),!0).forEach(function(r){vZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var wZ=t=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Object.assign({},...n.map(l=>l.styles)),o=Object.keys(i),s=o.filter(l=>"mappings"in i[l]),a=l=>{var c=[],u={},d=wb({},l),f=!1;for(var h of s){var p=l[h];if(p!=null){var m=i[h];f=!0;for(var y of m.mappings)u[y]=p,d[y]==null&&delete d[y]}}var g=f?wb(wb({},u),d):l,v=function(){var P=g[b],N=i[b];try{if(N.mappings)return 1;if(typeof P=="string"||typeof P=="number")c.push(N.values[P].defaultClass);else if(Array.isArray(P))for(var _=0;_<P.length;_++){var D=P[_];if(D!=null){var T=N.responsiveArray[_];c.push(N.values[D].conditions[T])}}else for(var E in P){var z=P[E];z!=null&&c.push(N.values[z].conditions[E])}}catch(W){throw W}};for(var b in g)v();return t(c.join(" "))};return Object.assign(a,{properties:new Set(o)})},bZ=t=>t,xZ=function(){return wZ(bZ)(...arguments)};function AL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=AL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _L(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=AL(t))&&(r&&(r+=" "),r+=e);return r}var EZ="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const C5=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),T5=4;function AZ(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,o=[0,1];for(let P=1;P<r;P++)o.push(i+=n());let s=n(),a=e;e+=s;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const d=31,f=2**d,h=f>>>1,p=h>>1,m=f-1;let y=0;for(let P=0;P<d;P++)y=y<<1|u();let g=[],v=0,b=f;for(;;){let P=Math.floor(((y-v+1)*i-1)/b),N=0,_=r;for(;_-N>1;){let E=N+_>>>1;P<o[E]?_=E:N=E}if(N==0)break;g.push(N);let D=v+Math.floor(b*o[N]/i),T=v+Math.floor(b*o[N+1]/i)-1;for(;!((D^T)&h);)y=y<<1&m|u(),D=D<<1&m,T=T<<1&m|1;for(;D&~T&p;)y=y&h|y<<1&m>>>1|u(),D=D<<1^h,T=(T^h)<<1|h|1;v=D,b=1+T-D}let x=r-4;return g.map(P=>{switch(P-x){case 3:return x+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return x+256+(t[a++]<<8|t[a++]);case 1:return x+t[a++];default:return P-1}})}function _Z(t){let e=0;return()=>t[e++]}function SL(t){return _Z(AZ(SZ(t)))}function SZ(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,o=0,s=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],s+=6,s>=8&&(r[o++]=a>>(s-=8));return r}function CZ(t){return t&1?~t>>1:t>>1}function TZ(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=CZ(e());return n}function Up(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let o=0;o<i;o++)n.push(e+o);e+=i+1}return n}function CL(t){return zp(()=>{let e=Up(t);if(e.length)return e})}function TL(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(MZ(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(IZ(n,t))}return e.flat()}function zp(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function ML(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)TZ(t,n).forEach((o,s)=>r[s].push(o));return r}function MZ(t,e){let n=1+e(),r=e(),i=zp(e);return ML(i.length,1+t,e).flatMap((s,a)=>{let[l,...c]=s;return Array(i[a]).fill().map((u,d)=>{let f=d*r;return[l+d*n,c.map(h=>h+f)]})})}function IZ(t,e){let n=1+e();return ML(n,1+t,e).map(i=>[i[0],i.slice(1)])}function RZ(t){let e=[],n=Up(t);return i(r([]),[]),e;function r(o){let s=t(),a=zp(()=>{let l=Up(t).map(c=>n[c]);if(l.length)return r(l)});return{S:s,B:a,Q:o}}function i({S:o,B:s},a,l){if(!(o&4&&l===a[a.length-1])){o&2&&(l=a[a.length-1]),o&1&&e.push(a);for(let c of s)for(let u of c.Q)i(c,[...a,u],l)}}}function PZ(t){return t.toString(16).toUpperCase().padStart(2,"0")}function IL(t){return`{${PZ(t)}}`}function NZ(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Kd(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function kZ(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var FZ="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const jp=44032,Gy=4352,Wy=4449,Vy=4519,RL=19,PL=21,Xd=28,$y=PL*Xd,BZ=RL*$y,OZ=jp+BZ,LZ=Gy+RL,DZ=Wy+PL,UZ=Vy+Xd;function Ah(t){return t>>24&255}function NL(t){return t&16777215}let jA,M5,HA,zg;function zZ(){let t=SL(FZ);jA=new Map(CL(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),M5=new Set(Up(t)),HA=new Map,zg=new Map;for(let[e,n]of TL(t)){if(!M5.has(e)&&n.length==2){let[r,i]=n,o=zg.get(r);o||(o=new Map,zg.set(r,o)),o.set(i,e)}HA.set(e,n.reverse())}}function kL(t){return t>=jp&&t<OZ}function jZ(t,e){if(t>=Gy&&t<LZ&&e>=Wy&&e<DZ)return jp+(t-Gy)*$y+(e-Wy)*Xd;if(kL(t)&&e>Vy&&e<UZ&&(t-jp)%Xd==0)return t+(e-Vy);{let n=zg.get(t);return n&&(n=n.get(e),n)?n:-1}}function FL(t){jA||zZ();let e=[],n=[],r=!1;function i(o){let s=jA.get(o);s&&(r=!0,o|=s),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(kL(o)){let s=o-jp,a=s/$y|0,l=s%$y/Xd|0,c=s%Xd;i(Gy+a),i(Wy+l),c>0&&i(Vy+c)}else{let s=HA.get(o);s?n.push(...s):i(o)}if(!n.length)break;o=n.pop()}if(r&&e.length>1){let o=Ah(e[0]);for(let s=1;s<e.length;s++){let a=Ah(e[s]);if(a==0||o<=a){o=a;continue}let l=s-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(o=Ah(e[--l]),o<=a))break}o=Ah(e[s])}}return e}function HZ(t){let e=[],n=[],r=-1,i=0;for(let o of t){let s=Ah(o),a=NL(o);if(r==-1)s==0?r=a:e.push(a);else if(i>0&&i>=s)s==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=s;else{let l=jZ(r,a);l>=0?r=l:i==0&&s==0?(e.push(r),r=a):(n.push(a),i=s)}}return r>=0&&e.push(r,...n),e}function BL(t){return FL(t).map(NL)}function GZ(t){return HZ(FL(t))}const I5=45,OL=".",LL=65039,DL=1,qy=t=>Array.from(t);function Hp(t,e){return t.P.has(e)||t.Q.has(e)}let WZ=class extends Array{get is_emoji(){return!0}},GA,UL,bc,WA,zL,bd,bb,$u,ec,R5,VA;function IC(){if(GA)return;let t=SL(EZ);const e=()=>Up(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(f=>u.add(f));GA=new Map(TL(t)),UL=n(),bc=e(),WA=new Set(e().map(u=>bc[u])),bc=new Set(bc),zL=n(),n();let i=CL(t),o=t();const s=()=>{let u=new Set;return e().forEach(d=>r(u,i[d])),r(u,e()),u};bd=zp(u=>{let d=zp(t).map(f=>f+96);if(d.length){let f=u>=o;d[0]-=32,d=Kd(d),f&&(d=`Restricted[${d}]`);let h=s(),p=s(),m=!t();return{N:d,P:h,Q:p,M:m,R:f}}}),bb=n(),$u=new Map;let a=e().concat(qy(bb)).sort((u,d)=>u-d);a.forEach((u,d)=>{let f=t(),h=a[d]=f?a[d-f]:{V:[],M:new Map};h.V.push(u),bb.has(u)||$u.set(u,h)});for(let{V:u,M:d}of new Set($u.values())){let f=[];for(let p of u){let m=bd.filter(g=>Hp(g,p)),y=f.find(({G:g})=>m.some(v=>g.has(v)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(p),r(y.G,m)}let h=f.flatMap(p=>qy(p.G));for(let{G:p,V:m}of f){let y=new Set(h.filter(g=>!p.has(g)));for(let g of m)d.set(g,y)}}ec=new Set;let l=new Set;const c=u=>ec.has(u)?l.add(u):ec.add(u);for(let u of bd){for(let d of u.P)c(d);for(let d of u.Q)c(d)}for(let u of ec)!$u.has(u)&&!l.has(u)&&$u.set(u,DL);r(ec,BL(ec)),R5=RZ(t).map(u=>WZ.from(u)).sort(kZ),VA=new Map;for(let u of R5){let d=[VA];for(let f of u){let h=d.map(p=>{let m=p.get(f);return m||(m=new Map,p.set(f,m)),m});f===LL?d.push(...h):d=h}for(let f of d)f.V=u}}function RC(t){return(jL(t)?"":`${PC(Tw([t]))} `)+IL(t)}function PC(t){return`"${t}"`}function VZ(t){if(t.length>=4&&t[2]==I5&&t[3]==I5)throw new Error(`invalid label extension: "${Kd(t.slice(0,4))}"`)}function $Z(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function qZ(t){let e=t[0],n=C5.get(e);if(n)throw Wh(`leading ${n}`);let r=t.length,i=-1;for(let o=1;o<r;o++){e=t[o];let s=C5.get(e);if(s){if(i==o)throw Wh(`${n} + ${s}`);i=o+1,n=s}}if(i==r)throw Wh(`trailing ${n}`)}function Tw(t,e=1/0,n=IL){let r=[];QZ(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let s=0;s<o;s++){let a=t[s];jL(a)&&(r.push(Kd(t.slice(i,s))),r.push(n(a)),i=s+1)}return r.push(Kd(t.slice(i,o))),r.join("")}function QZ(t,e){return IC(),bc.has(t)}function jL(t){return IC(),zL.has(t)}function KZ(t){return ZZ(XZ(t,GZ,nee))}function XZ(t,e,n){if(!t)return[];IC();let r=0;return t.split(OL).map(i=>{let o=NZ(i),s={input:o,offset:r};r+=o.length+1;try{let a=s.tokens=tee(o,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=s.output=a.flat();if($Z(u),!(s.emoji=l>1||a[0].is_emoji)&&u.every(f=>f<128))VZ(u),c="ASCII";else{let f=a.flatMap(h=>h.is_emoji?[]:h);if(!f.length)c="Emoji";else{if(bc.has(u[0]))throw Wh("leading combining mark");for(let m=1;m<l;m++){let y=a[m];if(!y.is_emoji&&bc.has(y[0]))throw Wh(`emoji + combining mark: "${Kd(a[m-1])} + ${Tw([y[0]])}"`)}qZ(u);let h=qy(new Set(f)),[p]=JZ(h);eee(p,f),YZ(p,h),c=p.N}}s.type=c}catch(a){s.error=a}return s})}function YZ(t,e){let n,r=[];for(let i of e){let o=$u.get(i);if(o===DL)return;if(o){let s=o.M.get(i);if(n=n?n.filter(a=>s.has(a)):qy(s),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(o=>Hp(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function JZ(t){let e=bd;for(let n of t){let r=e.filter(i=>Hp(i,n));if(!r.length)throw bd.some(i=>Hp(i,n))?GL(e[0],n):HL(n);if(e=r,r.length==1)break}return e}function ZZ(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${PC(Tw(e,63))}: ${i}`)}return Kd(r)}).join(OL)}function HL(t){return new Error(`disallowed character: ${RC(t)}`)}function GL(t,e){let n=RC(e),r=bd.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Wh(t){return new Error(`illegal placement: ${t}`)}function eee(t,e){for(let n of e)if(!Hp(t,n))throw GL(t,n);if(t.M){let n=BL(e);for(let r=1,i=n.length;r<i;r++)if(WA.has(n[r])){let o=r+1;for(let s;o<i&&WA.has(s=n[o]);o++)for(let a=r;a<o;a++)if(n[a]==s)throw new Error(`duplicate non-spacing marks: ${RC(s)}`);if(o-r>T5)throw new Error(`excessive non-spacing marks: ${PC(Tw(n.slice(r-1,o)))} (${o-r}/${T5})`);r=o}}}function tee(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let o=ree(t);if(o)i.length&&(r.push(e(i)),i=[]),r.push(n(o));else{let s=t.pop();if(ec.has(s))i.push(s);else{let a=GA.get(s);if(a)i.push(...a);else if(!UL.has(s))throw HL(s)}}}return i.length&&r.push(e(i)),r}function nee(t){return t.filter(e=>e!=LL)}function ree(t,e){let n=VA,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:o}=n;o&&(r=o,t.length=i)}return r}function iee(t){return KZ(t)}function oee(t){return iee(t)}const see={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},aee={block:FV({format(t){return{transactions:t.transactions?.map(n=>{if(typeof n=="string")return n;const r=aw(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?pr(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:t.stateRoot}}}),transaction:NV({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?pr(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:RQ({format(t){return{l1GasPrice:t.l1GasPrice?pr(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?pr(t.l1GasUsed):null,l1Fee:t.l1Fee?pr(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function lee(t,e){return dee(t)?uee(t):AK(t,e)}const cee={transaction:lee};function uee(t){fee(t);const{sourceHash:e,data:n,from:r,gas:i,isSystemTx:o,mint:s,to:a,value:l}=t,c=[e,r,a??"0x",s?jr(s):"0x",l?jr(l):"0x",i?jr(i):"0x",o?"0x1":"0x",n??"0x"];return rs(["0x7e",Tl(c)])}function dee(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function fee(t){const{from:e,to:n}=t;if(e&&!Jn(e))throw new oi({address:e});if(n&&!Jn(n))throw new oi({address:n})}const Qy={blockTime:2e3,contracts:see,formatters:aee,serializers:cee},NC=hu({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),Mw=hu({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),th=1,Iw=hu({...Qy,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Qy.contracts,disputeGameFactory:{[th]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[th]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[th]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[th]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:th}),Rw=hu({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),pu=hu({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),nh=1,kC=hu({...Qy,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...Qy.contracts,disputeGameFactory:{[nh]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[nh]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[nh]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[nh]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:nh}),Pw=hu({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}});var $A=function(t,e){return $A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},$A(t,e)};function WL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$A(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var go=function(){return go=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},go.apply(this,arguments)};function Nw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function VL(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function $L(t,e){return function(n,r){e(n,r,t)}}function hee(t,e,n,r,i,o){function s(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,f=!1,h=n.length-1;h>=0;h--){var p={};for(var m in r)p[m]=m==="access"?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(g||null))};var y=(0,n[h])(a==="accessor"?{get:u.get,set:u.set}:u[l],p);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(d=s(y.get))&&(u.get=d),(d=s(y.set))&&(u.set=d),(d=s(y.init))&&i.unshift(d)}else(d=s(y))&&(a==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),f=!0}function pee(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function mee(t){return typeof t=="symbol"?t:"".concat(t)}function gee(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function qL(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function QL(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function KL(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var kw=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function XL(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&kw(e,t,n)}function Ky(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function FC(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function YL(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(FC(arguments[e]));return t}function JL(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function BC(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Yd(t){return this instanceof Yd?(this.v=t,this):new Yd(t)}function ZL(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(m){return new Promise(function(y,g){o.push([h,m,y,g])>1||l(h,m)})},p&&(i[h]=p(i[h])))}function l(h,p){try{c(r[h](p))}catch(m){f(o[0][3],m)}}function c(h){h.value instanceof Yd?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function eD(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(s){return(n=!n)?{value:Yd(t[i](s)),done:!1}:o?o(s):s}:o}}function tD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ky=="function"?Ky(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function nD(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var yee=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function rD(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&kw(e,t,n);return yee(e,t),e}function iD(t){return t&&t.__esModule?t:{default:t}}function oD(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function sD(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function aD(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function lD(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var vee=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function cD(t){function e(o){t.error=t.hasError?new vee(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(s){return e(s),i()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}const wee={__extends:WL,__assign:go,__rest:Nw,__decorate:VL,__param:$L,__metadata:qL,__awaiter:QL,__generator:KL,__createBinding:kw,__exportStar:XL,__values:Ky,__read:FC,__spread:YL,__spreadArrays:JL,__spreadArray:BC,__await:Yd,__asyncGenerator:ZL,__asyncDelegator:eD,__asyncValues:tD,__makeTemplateObject:nD,__importStar:rD,__importDefault:iD,__classPrivateFieldGet:oD,__classPrivateFieldSet:sD,__classPrivateFieldIn:aD,__addDisposableResource:lD,__disposeResources:cD},Jxe=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:lD,get __assign(){return go},__asyncDelegator:eD,__asyncGenerator:ZL,__asyncValues:tD,__await:Yd,__awaiter:QL,__classPrivateFieldGet:oD,__classPrivateFieldIn:aD,__classPrivateFieldSet:sD,__createBinding:kw,__decorate:VL,__disposeResources:cD,__esDecorate:hee,__exportStar:XL,__extends:WL,__generator:KL,__importDefault:iD,__importStar:rD,__makeTemplateObject:nD,__metadata:qL,__param:$L,__propKey:mee,__read:FC,__rest:Nw,__runInitializers:pee,__setFunctionName:gee,__spread:YL,__spreadArray:BC,__spreadArrays:JL,__values:Ky,default:wee},Symbol.toStringTag,{value:"Module"}));var jg="right-scroll-bar-position",Hg="width-before-scroll-bar",bee="with-scroll-bars-hidden",xee="--removed-body-scroll-bar-size";function xb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Eee(t,e){var n=U.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Aee=typeof window<"u"?U.useLayoutEffect:U.useEffect,P5=new WeakMap;function _ee(t,e){var n=Eee(null,function(r){return t.forEach(function(i){return xb(i,r)})});return Aee(function(){var r=P5.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||xb(a,null)}),o.forEach(function(a){i.has(a)||xb(a,s)})}P5.set(n,t)},[t]),n}function See(t){return t}function Cee(t,e){e===void 0&&(e=See);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function Tee(t){t===void 0&&(t={});var e=Cee(null);return e.options=go({async:!0,ssr:!1},t),e}var uD=function(t){var e=t.sideCar,n=Nw(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return U.createElement(r,go({},n))};uD.isSideCarExport=!0;function Mee(t,e){return t.useMedium(e),uD}var dD=Tee(),Eb=function(){},Fw=U.forwardRef(function(t,e){var n=U.useRef(null),r=U.useState({onScrollCapture:Eb,onWheelCapture:Eb,onTouchMoveCapture:Eb}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,p=t.inert,m=t.allowPinchZoom,y=t.as,g=y===void 0?"div":y,v=t.gapMode,b=Nw(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,P=_ee([n,e]),N=go(go({},b),i);return U.createElement(U.Fragment,null,u&&U.createElement(x,{sideCar:dD,removeScrollBar:c,shards:d,noIsolation:h,inert:p,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:v}),s?U.cloneElement(U.Children.only(a),go(go({},N),{ref:P})):U.createElement(g,go({},N,{className:l,ref:P}),a))});Fw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fw.classNames={fullWidth:Hg,zeroRight:jg};var Iee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ree(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Iee();return e&&t.setAttribute("nonce",e),t}function Pee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Nee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var kee=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Ree())&&(Pee(e,n),Nee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Fee=function(){var t=kee();return function(e,n){U.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},fD=function(){var t=Fee(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Bee={left:0,top:0,right:0,gap:0},Ab=function(t){return parseInt(t||"",10)||0},Oee=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Ab(n),Ab(r),Ab(i)]},Lee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Bee;var e=Oee(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Dee=fD(),xd="data-scroll-locked",Uee=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(bee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(xd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Hg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(jg," .").concat(jg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Hg," .").concat(Hg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xd,`] {
    `).concat(xee,": ").concat(a,`px;
  }
`)},N5=function(){var t=parseInt(document.body.getAttribute(xd)||"0",10);return isFinite(t)?t:0},zee=function(){U.useEffect(function(){return document.body.setAttribute(xd,(N5()+1).toString()),function(){var t=N5()-1;t<=0?document.body.removeAttribute(xd):document.body.setAttribute(xd,t.toString())}},[])},jee=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;zee();var o=U.useMemo(function(){return Lee(i)},[i]);return U.createElement(Dee,{styles:Uee(o,!e,i,n?"":"!important")})},qA=!1;if(typeof window<"u")try{var E0=Object.defineProperty({},"passive",{get:function(){return qA=!0,!0}});window.addEventListener("test",E0,E0),window.removeEventListener("test",E0,E0)}catch{qA=!1}var Cu=qA?{passive:!1}:!1,Hee=function(t){return t.tagName==="TEXTAREA"},hD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Hee(t)&&n[e]==="visible")},Gee=function(t){return hD(t,"overflowY")},Wee=function(t){return hD(t,"overflowX")},k5=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=pD(t,r);if(i){var o=mD(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Vee=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},$ee=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},pD=function(t,e){return t==="v"?Gee(e):Wee(e)},mD=function(t,e){return t==="v"?Vee(e):$ee(e)},qee=function(t,e){return t==="h"&&e==="rtl"?-1:1},Qee=function(t,e,n,r,i){var o=qee(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,d=0,f=0;do{var h=mD(t,a),p=h[0],m=h[1],y=h[2],g=m-y-o*p;(p||g)&&pD(t,a)&&(d+=g,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},A0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},F5=function(t){return[t.deltaX,t.deltaY]},B5=function(t){return t&&"current"in t?t.current:t},Kee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Xee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Yee=0,Tu=[];function Jee(t){var e=U.useRef([]),n=U.useRef([0,0]),r=U.useRef(),i=U.useState(Yee++)[0],o=U.useState(fD)[0],s=U.useRef(t);U.useEffect(function(){s.current=t},[t]),U.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=BC([t.lockRef.current],(t.shards||[]).map(B5),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=U.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var g=A0(m),v=n.current,b="deltaX"in m?m.deltaX:v[0]-g[0],x="deltaY"in m?m.deltaY:v[1]-g[1],P,N=m.target,_=Math.abs(b)>Math.abs(x)?"h":"v";if("touches"in m&&_==="h"&&N.type==="range")return!1;var D=k5(_,N);if(!D)return!0;if(D?P=_:(P=_==="v"?"h":"v",D=k5(_,N)),!D)return!1;if(!r.current&&"changedTouches"in m&&(b||x)&&(r.current=P),!P)return!0;var T=r.current||P;return Qee(T,y,m,T==="h"?b:x)},[]),l=U.useCallback(function(m){var y=m;if(!(!Tu.length||Tu[Tu.length-1]!==o)){var g="deltaY"in y?F5(y):A0(y),v=e.current.filter(function(P){return P.name===y.type&&(P.target===y.target||y.target===P.shadowParent)&&Kee(P.delta,g)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var b=(s.current.shards||[]).map(B5).filter(Boolean).filter(function(P){return P.contains(y.target)}),x=b.length>0?a(y,b[0]):!s.current.noIsolation;x&&y.cancelable&&y.preventDefault()}}},[]),c=U.useCallback(function(m,y,g,v){var b={name:m,delta:y,target:g,should:v,shadowParent:Zee(g)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(x){return x!==b})},1)},[]),u=U.useCallback(function(m){n.current=A0(m),r.current=void 0},[]),d=U.useCallback(function(m){c(m.type,F5(m),m.target,a(m,t.lockRef.current))},[]),f=U.useCallback(function(m){c(m.type,A0(m),m.target,a(m,t.lockRef.current))},[]);U.useEffect(function(){return Tu.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Cu),document.addEventListener("touchmove",l,Cu),document.addEventListener("touchstart",u,Cu),function(){Tu=Tu.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,Cu),document.removeEventListener("touchmove",l,Cu),document.removeEventListener("touchstart",u,Cu)}},[]);var h=t.removeScrollBar,p=t.inert;return U.createElement(U.Fragment,null,p?U.createElement(o,{styles:Xee(i)}):null,h?U.createElement(jee,{gapMode:t.gapMode}):null)}function Zee(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ete=Mee(dD,Jee);var gD=U.forwardRef(function(t,e){return U.createElement(Fw,go({},t,{ref:e,sideCar:ete}))});gD.classNames=Fw.classNames;function O5(t){var e=t.match(/^var\((.*)\)$/);return e?e[1]:t}function tte(t,e){var n=t;for(var r of e){if(!(r in n))throw new Error("Path ".concat(e.join(" -> ")," does not exist in object"));n=n[r]}return n}function yD(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r={};for(var i in t){var o=t[i],s=[...n,i];typeof o=="string"||typeof o=="number"||o==null?r[i]=e(o,s):typeof o=="object"&&!Array.isArray(o)?r[i]=yD(o,e,s):console.warn('Skipping invalid key "'.concat(s.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(o)?"Array":typeof o,'"'))}return r}function L5(t,e){var n={};if(typeof e=="object"){var r=t;yD(e,(a,l)=>{if(a!=null){var c=tte(r,l);n[O5(c)]=String(a)}})}else{var i=t;for(var o in i){var s=i[o];s!=null&&(n[O5(o)]=s)}}return Object.defineProperty(n,"toString",{value:function(){return Object.keys(this).map(l=>"".concat(l,":").concat(this[l])).join(";")},writable:!1}),n}var QA={exports:{}};(function(t,e){(function(n,r){var i="1.0.40",o="",s="?",a="function",l="undefined",c="object",u="string",d="major",f="model",h="name",p="type",m="vendor",y="version",g="architecture",v="console",b="mobile",x="tablet",P="smarttv",N="wearable",_="embedded",D=500,T="Amazon",E="Apple",z="ASUS",W="BlackBerry",B="Browser",w="Chrome",A="Edge",C="Firefox",k="Google",I="Huawei",H="LG",G="Microsoft",L="Motorola",M="Opera",$="Samsung",J="Sharp",te="Sony",oe="Xiaomi",le="Zebra",Te="Facebook",Ne="Chromium OS",Ae="Mac OS",Be=" Browser",Re=function(pe,j){var S={};for(var R in pe)j[R]&&j[R].length%2===0?S[R]=j[R].concat(pe[R]):S[R]=pe[R];return S},ut=function(pe){for(var j={},S=0;S<pe.length;S++)j[pe[S].toUpperCase()]=pe[S];return j},ee=function(pe,j){return typeof pe===u?_t(j).indexOf(_t(pe))!==-1:!1},_t=function(pe){return pe.toLowerCase()},Et=function(pe){return typeof pe===u?pe.replace(/[^\d\.]/g,o).split(".")[0]:r},dt=function(pe,j){if(typeof pe===u)return pe=pe.replace(/^\s\s*/,o),typeof j===l?pe:pe.substring(0,D)},Ye=function(pe,j){for(var S=0,R,Q,Y,Z,ne,De;S<j.length&&!ne;){var Pe=j[S],Ke=j[S+1];for(R=Q=0;R<Pe.length&&!ne&&Pe[R];)if(ne=Pe[R++].exec(pe),ne)for(Y=0;Y<Ke.length;Y++)De=ne[++Q],Z=Ke[Y],typeof Z===c&&Z.length>0?Z.length===2?typeof Z[1]==a?this[Z[0]]=Z[1].call(this,De):this[Z[0]]=Z[1]:Z.length===3?typeof Z[1]===a&&!(Z[1].exec&&Z[1].test)?this[Z[0]]=De?Z[1].call(this,De,Z[2]):r:this[Z[0]]=De?De.replace(Z[1],Z[2]):r:Z.length===4&&(this[Z[0]]=De?Z[3].call(this,De.replace(Z[1],Z[2])):r):this[Z]=De||r;S+=2}},Nt=function(pe,j){for(var S in j)if(typeof j[S]===c&&j[S].length>0){for(var R=0;R<j[S].length;R++)if(ee(j[S][R],pe))return S===s?r:S}else if(ee(j[S],pe))return S===s?r:S;return j.hasOwnProperty("*")?j["*"]:pe},et={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},V={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,y],[/opios[\/ ]+([\w\.]+)/i],[y,[h,M+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[h,M+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[h,M]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[h,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[h,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[h,"UC"+B]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[h,"Smart Lenovo "+B]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+B],y],[/\bfocus\/([\w\.]+)/i],[y,[h,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[h,M+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[h,M+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[h,"MIUI"+Be]],[/fxios\/([\w\.-]+)/i],[y,[h,C]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[h,"360"]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+Be],y],[/samsungbrowser\/([\w\.]+)/i],[y,[h,$+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[h,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,Te],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[h,w+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,w+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[h,"Android "+B]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[y,Nt,et]],[/(webkit|khtml)\/([\w\.]+)/i],[h,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[h,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[h,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,_t]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,o,_t]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,_t]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[m,$],[p,x]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[m,$],[p,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[m,E],[p,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[m,E],[p,x]],[/(macintosh);/i],[f,[m,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[m,J],[p,b]],[/(?:honor)([-\w ]+)[;\)]/i],[f,[m,"Honor"],[p,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[m,I],[p,x]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[m,I],[p,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[m,oe],[p,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[m,oe],[p,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[m,"OPPO"],[p,b]],[/\b(opd2\d{3}a?) bui/i],[f,[m,"OPPO"],[p,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[m,"Vivo"],[p,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[m,"Realme"],[p,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[m,L],[p,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[m,L],[p,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[m,H],[p,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[m,H],[p,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[m,"Lenovo"],[p,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[m,"Nokia"],[p,b]],[/(pixel c)\b/i],[f,[m,k],[p,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[m,k],[p,b]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[m,te],[p,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[m,te],[p,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[m,"OnePlus"],[p,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[m,T],[p,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[m,T],[p,b]],[/(playbook);[-\w\),; ]+(rim)/i],[f,m,[p,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[m,W],[p,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[m,z],[p,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[m,z],[p,b]],[/(nexus 9)/i],[f,[m,"HTC"],[p,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[f,/_/g," "],[p,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[m,"TCL"],[p,x]],[/(itel) ((\w+))/i],[[m,_t],f,[p,Nt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[m,"Acer"],[p,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[m,"Meizu"],[p,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[m,"Ulefone"],[p,b]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[m,"Energizer"],[p,b]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[m,"Cat"],[p,b]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[m,"Smartfren"],[p,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[m,"Nothing"],[p,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,f,[p,b]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,f,[p,x]],[/(surface duo)/i],[f,[m,G],[p,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[m,"Fairphone"],[p,b]],[/(u304aa)/i],[f,[m,"AT&T"],[p,b]],[/\bsie-(\w*)/i],[f,[m,"Siemens"],[p,b]],[/\b(rct\w+) b/i],[f,[m,"RCA"],[p,x]],[/\b(venue[\d ]{2,7}) b/i],[f,[m,"Dell"],[p,x]],[/\b(q(?:mv|ta)\w+) b/i],[f,[m,"Verizon"],[p,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[m,"Barnes & Noble"],[p,x]],[/\b(tm\d{3}\w+) b/i],[f,[m,"NuVision"],[p,x]],[/\b(k88) b/i],[f,[m,"ZTE"],[p,x]],[/\b(nx\d{3}j) b/i],[f,[m,"ZTE"],[p,b]],[/\b(gen\d{3}) b.+49h/i],[f,[m,"Swiss"],[p,b]],[/\b(zur\d{3}) b/i],[f,[m,"Swiss"],[p,x]],[/\b((zeki)?tb.*\b) b/i],[f,[m,"Zeki"],[p,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],f,[p,x]],[/\b(ns-?\w{0,9}) b/i],[f,[m,"Insignia"],[p,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[m,"NextBook"],[p,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],f,[p,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],f,[p,b]],[/\b(ph-1) /i],[f,[m,"Essential"],[p,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[m,"Envizen"],[p,x]],[/\b(trio[-\w\. ]+) b/i],[f,[m,"MachSpeed"],[p,x]],[/\btu_(1491) b/i],[f,[m,"Rotor"],[p,x]],[/(shield[\w ]+) b/i],[f,[m,"Nvidia"],[p,x]],[/(sprint) (\w+)/i],[m,f,[p,b]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[m,G],[p,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[m,le],[p,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[m,le],[p,b]],[/smart-tv.+(samsung)/i],[m,[p,P]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[m,$],[p,P]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,H],[p,P]],[/(apple) ?tv/i],[m,[f,E+" TV"],[p,P]],[/crkey/i],[[f,w+"cast"],[m,k],[p,P]],[/droid.+aft(\w+)( bui|\))/i],[f,[m,T],[p,P]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[m,J],[p,P]],[/(bravia[\w ]+)( bui|\))/i],[f,[m,te],[p,P]],[/(mitv-\w{5}) bui/i],[f,[m,oe],[p,P]],[/Hbbtv.*(technisat) (.*);/i],[m,f,[p,P]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,dt],[f,dt],[p,P]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,P]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,f,[p,v]],[/droid.+; (shield) bui/i],[f,[m,"Nvidia"],[p,v]],[/(playstation [345portablevi]+)/i],[f,[m,te],[p,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[m,G],[p,v]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[m,$],[p,N]],[/((pebble))app/i],[m,f,[p,N]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[m,E],[p,N]],[/droid.+; (glass) \d/i],[f,[m,k],[p,N]],[/droid.+; (wt63?0{2,3})\)/i],[f,[m,le],[p,N]],[/droid.+; (glass) \d/i],[f,[m,k],[p,N]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,f,[p,N]],[/; (quest( \d| pro)?)/i],[f,[m,Te],[p,N]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[p,_]],[/(aeobc)\b/i],[f,[m,T],[p,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[p,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[p,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,b]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[h,A+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[h,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,y],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[y,Nt,X]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,Nt,X],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,Ae],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,y],[/\(bb(10);/i],[y,[h,W]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[h,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[h,w+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,Ne],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,y],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,y]]},ce=function(pe,j){if(typeof pe===c&&(j=pe,pe=r),!(this instanceof ce))return new ce(pe,j).getResult();var S=typeof n!==l&&n.navigator?n.navigator:r,R=pe||(S&&S.userAgent?S.userAgent:o),Q=S&&S.userAgentData?S.userAgentData:r,Y=j?Re(V,j):V,Z=S&&S.userAgent==R;return this.getBrowser=function(){var ne={};return ne[h]=r,ne[y]=r,Ye.call(ne,R,Y.browser),ne[d]=Et(ne[y]),Z&&S&&S.brave&&typeof S.brave.isBrave==a&&(ne[h]="Brave"),ne},this.getCPU=function(){var ne={};return ne[g]=r,Ye.call(ne,R,Y.cpu),ne},this.getDevice=function(){var ne={};return ne[m]=r,ne[f]=r,ne[p]=r,Ye.call(ne,R,Y.device),Z&&!ne[p]&&Q&&Q.mobile&&(ne[p]=b),Z&&ne[f]=="Macintosh"&&S&&typeof S.standalone!==l&&S.maxTouchPoints&&S.maxTouchPoints>2&&(ne[f]="iPad",ne[p]=x),ne},this.getEngine=function(){var ne={};return ne[h]=r,ne[y]=r,Ye.call(ne,R,Y.engine),ne},this.getOS=function(){var ne={};return ne[h]=r,ne[y]=r,Ye.call(ne,R,Y.os),Z&&!ne[h]&&Q&&Q.platform&&Q.platform!="Unknown"&&(ne[h]=Q.platform.replace(/chrome os/i,Ne).replace(/macos/i,Ae)),ne},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return R},this.setUA=function(ne){return R=typeof ne===u&&ne.length>D?dt(ne,D):ne,this},this.setUA(R),this};ce.VERSION=i,ce.BROWSER=ut([h,y,d]),ce.CPU=ut([g]),ce.DEVICE=ut([f,m,p,v,b,P,x,N,_]),ce.ENGINE=ce.OS=ut([h,y]),t.exports&&(e=t.exports=ce),e.UAParser=ce;var we=typeof n!==l&&(n.jQuery||n.Zepto);if(we&&!we.ua){var Ie=new ce;we.ua=Ie.getResult(),we.ua.get=function(){return Ie.getUA()},we.ua.set=function(pe){Ie.setUA(pe);var j=Ie.getResult();for(var S in j)we.ua[S]=j[S]}}})(typeof window=="object"?window:SN)})(QA,QA.exports);var nte=QA.exports;/*!
Copyright (c) 2023 Paul Miller (paulmillr.com)
The library paulmillr-qr is dual-licensed under the Apache 2.0 OR MIT license.
You can select a license of your choice.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const rh={newline:10,reset:27};function rte(t){if(!Number.isSafeInteger(t))throw new Error(`integer expected: ${t}`)}function ite(t){if(!Number.isSafeInteger(t)||t<1||t>40)throw new Error(`Invalid version=${t}. Expected number [1..40]`)}function Gl(t,e){return t.toString(2).padStart(e,"0")}function D5(t,e){const n=t%e;return n>=0?n:e+n}function zi(t,e){return new Array(t).fill(e)}function U5(...t){let e=0;for(const r of t)e=Math.max(e,r.length);const n=[];for(let r=0;r<e;r++)for(const i of t)r>=i.length||n.push(i[r]);return new Uint8Array(n)}function z5(t,e,n){if(n<0||n+e.length>t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[n+r])return!1;return!0}function ote(){let t,e=1/0;return{add(n,r){n>=e||(t=r,e=n)},get:()=>t,score:()=>e}}function j5(t){return{has:e=>t.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r})},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(rte(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})}}}class Di{static size(e,n){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: invalid height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: invalid width=${e.width} (${typeof e.width})`);return n!==void 0&&(e={width:Math.min(e.width,n.width),height:Math.min(e.height,n.height)}),e}static fromString(e){e=e.replace(/^\n+/g,"").replace(/\n+$/g,"");const n=e.split(String.fromCharCode(rh.newline)),r=n.length,i=new Array(r);let o;for(const s of n){const a=s.split("").map(l=>{if(l==="X")return!0;if(l===" ")return!1;if(l!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${l}`)});if(o&&a.length!==o)throw new Error(`Bitmap.fromString different row sizes: width=${o} cur=${a.length}`);o=a.length,i.push(a)}return o||(o=0),new Di({height:r,width:o},i)}data;height;width;constructor(e,n){const{height:r,width:i}=Di.size(e);this.data=n||Array.from({length:r},()=>zi(i,void 0)),this.height=r,this.width=i}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:n,y:r}=this.xy(e);return{height:this.height-r,width:this.width-n}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: invalid x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: invalid y=${e.y}`);return e.x=D5(e.x,this.width),e.y=D5(e.y,this.height),e}rect(e,n,r){const{x:i,y:o}=this.xy(e),{height:s,width:a}=Di.size(n,this.size({x:i,y:o}));for(let l=0;l<s;l++)for(let c=0;c<a;c++)this.data[o+l][i+c]=typeof r=="function"?r({x:c,y:l},this.data[o+l][i+c]):r;return this}rectRead(e,n,r){return this.rect(e,n,(i,o)=>(r(i,o),o))}hLine(e,n,r){return this.rect(e,{width:n,height:1},r)}vLine(e,n,r){return this.rect(e,{width:1,height:n},r)}border(e=2,n){const r=this.height+2*e,i=this.width+2*e,o=zi(e,n),s=Array.from({length:e},()=>zi(i,n));return new Di({height:r,width:i},[...s,...this.data.map(a=>[...o,...a,...o]),...s])}embed(e,n){return this.rect(e,n.size(),({x:r,y:i})=>n.data[i][r])}rectSlice(e,n=this.size()){const r=new Di(Di.size(n,this.size(this.xy(e))));return this.rect(e,n,({x:i,y:o},s)=>r.data[o][i]=s),r}inverse(){const{height:e,width:n}=this;return new Di({height:n,width:e}).rect({x:0,y:0},1/0,({x:i,y:o})=>this.data[i][o])}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`invalid scale factor: ${e}`);const{height:n,width:r}=this;return new Di({height:e*n,width:e*r}).rect({x:0,y:0},1/0,({x:o,y:s})=>this.data[Math.floor(s/e)][Math.floor(o/e)])}clone(){return new Di(this.size()).rect({x:0,y:0},this.size(),({x:n,y:r})=>this.data[r][n])}assertDrawn(){this.rectRead(0,1/0,(e,n)=>{if(typeof n!="boolean")throw new Error(`Invalid color type=${typeof n}`)})}toString(){return this.data.map(e=>e.map(n=>n===void 0?"?":n?"X":" ").join("")).join(String.fromCharCode(rh.newline))}toASCII(){const{height:e,width:n,data:r}=this;let i="";for(let o=0;o<e;o+=2){for(let s=0;s<n;s++){const a=r[o][s],l=o+1>=e?!0:r[o+1][s];!a&&!l?i+="":!a&&l?i+="":a&&!l?i+="":a&&l&&(i+=" ")}i+=String.fromCharCode(rh.newline)}return i}toTerm(){const e=String.fromCharCode(rh.reset),n=e+"[0m",r=e+"[1;47m  "+n,i=e+"[40m  "+n;return this.data.map(o=>o.map(s=>s?i:r).join("")).join(String.fromCharCode(rh.newline))}toSVG(e=!0){let n=`<svg viewBox="0 0 ${this.width} ${this.height}" xmlns="http://www.w3.org/2000/svg">`,r="",i;return this.rectRead(0,1/0,(o,s)=>{if(!s)return;const{x:a,y:l}=o;if(!e){n+=`<rect x="${a}" y="${l}" width="1" height="1" />`;return}let c=`M${a} ${l}`;if(i){const d=`m${a-i.x} ${l-i.y}`;d.length<=c.length&&(c=d)}const u=a<10?`H${a}`:"h-1";r+=`${c}h1v1${u}Z`,i=o}),e&&(n+=`<path d="${r}"/>`),n+="</svg>",n}toGIF(){const e=a=>[a&255,a>>>8&255],n=[...e(this.width),...e(this.height)],r=[];this.rectRead(0,1/0,(a,l)=>r.push(+(l===!0)));const i=126,o=[71,73,70,56,55,97,...n,246,0,0,255,255,255,...zi(3*127,0),44,0,0,0,0,...n,0,7],s=Math.floor(r.length/i);for(let a=0;a<s;a++)o.push(i+1,128,...r.slice(i*a,i*(a+1)).map(l=>+l));return o.push(r.length%i+1,128,...r.slice(s*i).map(a=>+a)),o.push(1,129,0,59),new Uint8Array(o)}toImage(e=!1){const{height:n,width:r}=this.size(),i=new Uint8Array(n*r*(e?3:4));let o=0;for(let s=0;s<n;s++)for(let a=0;a<r;a++){const l=this.data[s][a]?0:255;i[o++]=l,i[o++]=l,i[o++]=l,e||(i[o++]=255)}return{height:n,width:r,data:i}}}const H5=["low","medium","quartile","high"],G5=["numeric","alphanumeric","byte","kanji","eci"],ste=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],ate={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},lte={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Ur={size:{encode:t=>21+4*(t-1),decode:t=>(t-17)/4},sizeType:t=>Math.floor((t+7)/17),alignmentPatterns(t){if(t===1)return[];const e=6,n=Ur.size.encode(t)-e-1,r=n-e,i=Math.ceil(r/28);let o=Math.floor(r/i);o%2?o+=1:r%i*2>=i&&(o+=2);const s=[e];for(let a=1;a<i;a++)s.push(n-(i-a)*o);return s.push(n),s},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(t,e){const n=Ur.ECCode[t]<<3|e;let r=n;for(let i=0;i<10;i++)r=r<<1^(r>>9)*1335;return(n<<10|r)^Ur.formatMask},versionBits(t){let e=t;for(let n=0;n<12;n++)e=e<<1^(e>>11)*7973;return t<<12|e},alphabet:{numeric:j5("0123456789"),alphanumerc:j5("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits(t,e){return{numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]}[e][Ur.sizeType(t)]},modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(t,e){const n=ste[t-1],r=ate[e][t-1],i=lte[e][t-1],o=Math.floor(n/i)-r,s=i-n%i;return{words:r,numBlocks:i,shortBlocks:s,blockLen:o,capacity:(n-r*i)*8,total:(r+o)*i+i-s}}},OC=[(t,e)=>(t+e)%2==0,(t,e)=>e%2==0,(t,e)=>t%3==0,(t,e)=>(t+e)%3==0,(t,e)=>(Math.floor(e/2)+Math.floor(t/3))%2==0,(t,e)=>t*e%2+t*e%3==0,(t,e)=>(t*e%2+t*e%3)%2==0,(t,e)=>((t+e)%2+t*e%3)%2==0],mt={tables:(t=>{const e=zi(256,0),n=zi(256,0);for(let r=0,i=1;r<256;r++)e[r]=i,n[i]=r,i<<=1,i&256&&(i^=t);return{exp:e,log:n}})(285),exp:t=>mt.tables.exp[t],log(t){if(t===0)throw new Error(`GF.log: invalid arg=${t}`);return mt.tables.log[t]%255},mul(t,e){return t===0||e===0?0:mt.tables.exp[(mt.tables.log[t]+mt.tables.log[e])%255]},add:(t,e)=>t^e,pow:(t,e)=>mt.tables.exp[mt.tables.log[t]*e%255],inv(t){if(t===0)throw new Error(`GF.inverse: invalid arg=${t}`);return mt.tables.exp[255-mt.tables.log[t]]},polynomial(t){if(t.length==0)throw new Error("GF.polymomial: invalid length");if(t[0]!==0)return t;let e=0;for(;e<t.length-1&&t[e]==0;e++);return t.slice(e)},monomial(t,e){if(t<0)throw new Error(`GF.monomial: invalid degree=${t}`);if(e==0)return[0];let n=zi(t+1,0);return n[0]=e,mt.polynomial(n)},degree:t=>t.length-1,coefficient:(t,e)=>t[mt.degree(t)-e],mulPoly(t,e){if(t[0]===0||e[0]===0)return[0];const n=zi(t.length+e.length-1,0);for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++)n[r+i]=mt.add(n[r+i],mt.mul(t[r],e[i]));return mt.polynomial(n)},mulPolyScalar(t,e){if(e==0)return[0];if(e==1)return t;const n=zi(t.length,0);for(let r=0;r<t.length;r++)n[r]=mt.mul(t[r],e);return mt.polynomial(n)},mulPolyMonomial(t,e,n){if(e<0)throw new Error("GF.mulPolyMonomial: invalid degree");if(n==0)return[0];const r=zi(t.length+e,0);for(let i=0;i<t.length;i++)r[i]=mt.mul(t[i],n);return mt.polynomial(r)},addPoly(t,e){if(t[0]===0)return e;if(e[0]===0)return t;let n=t,r=e;n.length>r.length&&([n,r]=[r,n]);let i=zi(r.length,0),o=r.length-n.length,s=r.slice(0,o);for(let a=0;a<s.length;a++)i[a]=s[a];for(let a=o;a<r.length;a++)i[a]=mt.add(n[a-o],r[a]);return mt.polynomial(i)},remainderPoly(t,e){const n=Array.from(t);for(let r=0;r<t.length-e.length+1;r++){const i=n[r];if(i!==0)for(let o=1;o<e.length;o++)e[o]!==0&&(n[r+o]=mt.add(n[r+o],mt.mul(e[o],i)))}return n.slice(t.length-e.length+1,n.length)},divisorPoly(t){let e=[1];for(let n=0;n<t;n++)e=mt.mulPoly(e,[1,mt.pow(2,n)]);return e},evalPoly(t,e){if(e==0)return mt.coefficient(t,0);let n=t[0];for(let r=1;r<t.length;r++)n=mt.add(mt.mul(e,n),t[r]);return n},euclidian(t,e,n){mt.degree(t)<mt.degree(e)&&([t,e]=[e,t]);let r=t,i=e,o=[0],s=[1];for(;2*mt.degree(i)>=n;){let c=r,u=o;if(r=i,o=s,r[0]===0)throw new Error("rLast[0] === 0");i=c;let d=[0];const f=mt.inv(r[0]);for(;mt.degree(i)>=mt.degree(r)&&i[0]!==0;){const h=mt.degree(i)-mt.degree(r),p=mt.mul(i[0],f);d=mt.addPoly(d,mt.monomial(h,p)),i=mt.addPoly(i,mt.mulPolyMonomial(r,h,p))}if(d=mt.mulPoly(d,o),s=mt.addPoly(d,u),mt.degree(i)>=mt.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}const a=mt.coefficient(s,0);if(a==0)throw new Error("sigmaTilde(0) was zero");const l=mt.inv(a);return[mt.mulPolyScalar(s,l),mt.mulPolyScalar(i,l)]}};function cte(t){return{encode(e){const n=mt.divisorPoly(t),r=Array.from(e);return r.push(...n.slice(0,-1).fill(0)),Uint8Array.from(mt.remainderPoly(r,n))},decode(e){const n=e.slice(),r=mt.polynomial(Array.from(e));let i=zi(t,0),o=!1;for(let d=0;d<t;d++){const f=mt.evalPoly(r,mt.exp(d));i[i.length-1-d]=f,f!==0&&(o=!0)}if(!o)return n;i=mt.polynomial(i);const s=mt.monomial(t,1),[a,l]=mt.euclidian(s,i,t),c=zi(mt.degree(a),0);let u=0;for(let d=1;d<256&&u<c.length;d++)mt.evalPoly(a,d)===0&&(c[u++]=mt.inv(d));if(u!==c.length)throw new Error("RS.decode: invalid errors number");for(let d=0;d<c.length;d++){const f=n.length-1-mt.log(c[d]);if(f<0)throw new Error("RS.decode: invalid error location");const h=mt.inv(c[d]);let p=1;for(let m=0;m<c.length;m++)d!==m&&(p=mt.mul(p,mt.add(1,mt.mul(c[m],h))));n[f]=mt.add(n[f],mt.mul(mt.evalPoly(l,h),mt.inv(p)))}return n}}}function ute(t,e){const{words:n,shortBlocks:r,numBlocks:i,blockLen:o,total:s}=Ur.capacity(t,e),a=cte(n);return{encode(l){const c=[],u=[];for(let p=0;p<i;p++){const m=p<r,y=o+(m?0:1);c.push(l.subarray(0,y)),u.push(a.encode(l.subarray(0,y))),l=l.subarray(y)}const d=U5(...c),f=U5(...u),h=new Uint8Array(d.length+f.length);return h.set(d),h.set(f,d.length),h},decode(l){if(l.length!==s)throw new Error(`interleave.decode: len(data)=${l.length}, total=${s}`);const c=[];for(let f=0;f<i;f++){const h=f<r;c.push(new Uint8Array(n+o+(h?0:1)))}let u=0;for(let f=0;f<o;f++)for(let h=0;h<i;h++)c[h][f]=l[u++];for(let f=r;f<i;f++)c[f][o]=l[u++];for(let f=o;f<o+n;f++)for(let h=0;h<i;h++){const p=h<r;c[h][f+(p?0:1)]=l[u++]}const d=[];for(const f of c)d.push(...Array.from(a.decode(f)).slice(0,-n));return Uint8Array.from(d)}}}function dte(t,e,n,r=!1){const i=Ur.size.encode(t);let o=new Di(i+2);const s=new Di(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);o=o.embed(0,s).embed({x:-s.width,y:0},s).embed({x:0,y:-s.height},s),o=o.rectSlice(1,i);const a=new Di(1).rect(0,1,!0).border(1,!1).border(1,!0),l=Ur.alignmentPatterns(t);for(const c of l)for(const u of l)o.data[c][u]===void 0&&o.embed({x:u-2,y:c-2},a);o=o.hLine({x:0,y:6},1/0,({x:c},u)=>u===void 0?c%2==0:u).vLine({x:6,y:0},1/0,({y:c},u)=>u===void 0?c%2==0:u);{const c=Ur.formatBits(e,n),u=d=>!r&&(c>>d&1)==1;for(let d=0;d<6;d++)o.data[d][8]=u(d);for(let d=6;d<8;d++)o.data[d+1][8]=u(d);for(let d=8;d<15;d++)o.data[i-15+d][8]=u(d);for(let d=0;d<8;d++)o.data[8][i-d-1]=u(d);for(let d=8;d<9;d++)o.data[8][15-d-1+1]=u(d);for(let d=9;d<15;d++)o.data[8][15-d-1]=u(d);o.data[i-8][8]=!r}if(t>=7){const c=Ur.versionBits(t);for(let u=0;u<18;u+=1){const d=!r&&(c>>u&1)==1,f=Math.floor(u/3),h=u%3+i-8-3;o.data[f][h]=d,o.data[h][f]=d}}return o}function fte(t,e,n){const r=t.height,i=OC[e];let o=-1,s=r-1;for(let a=r-1;a>0;a-=2){for(a==6&&(a=5);;s+=o){for(let l=0;l<2;l+=1){const c=a-l;t.data[s][c]===void 0&&n(c,s,i(c,s))}if(s+o<0||s+o>=r)break}o=-o}}function hte(t){let e="numeric";for(let n of t)if(!Ur.alphabet.numeric.has(n)&&(e="alphanumeric",!Ur.alphabet.alphanumerc.has(n)))return"byte";return e}function pte(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function W5(t,e,n,r){let i="",o=n.length;if(r==="numeric"){const d=Ur.alphabet.numeric.decode(n.split("")),f=d.length;for(let h=0;h<f-2;h+=3)i+=Gl(d[h]*100+d[h+1]*10+d[h+2],10);f%3===1?i+=Gl(d[f-1],4):f%3===2&&(i+=Gl(d[f-2]*10+d[f-1],7))}else if(r==="alphanumeric"){const d=Ur.alphabet.alphanumerc.decode(n.split("")),f=d.length;for(let h=0;h<f-1;h+=2)i+=Gl(d[h]*45+d[h+1],11);f%2==1&&(i+=Gl(d[f-1],6))}else if(r==="byte"){const d=pte(n);o=d.length,i=Array.from(d).map(f=>Gl(f,8)).join("")}else throw new Error("encode: unsupported type");const{capacity:s}=Ur.capacity(t,e),a=Gl(o,Ur.lengthBits(t,r));let l=Ur.modeBits[r]+a+i;if(l.length>s)throw new Error("Capacity overflow");l+="0".repeat(Math.min(4,Math.max(0,s-l.length))),l.length%8&&(l+="0".repeat(8-l.length%8));const c="1110110000010001";for(let d=0;l.length!==s;d++)l+=c[d%c.length];const u=Uint8Array.from(l.match(/(.{8})/g).map(d=>+`0b${d}`));return ute(t,e).encode(u)}function V5(t,e,n,r,i=!1){const o=dte(t,e,r,i);let s=0;const a=8*n.length;if(fte(o,r,(l,c,u)=>{let d=!1;s<a&&(d=(n[s>>>3]>>(7-s&7)&1)!==0,s++),o.data[c][l]=d!==u}),s!==a)throw new Error("QR: bytes left after draw");return o}function mte(t){const e=t.inverse(),n=h=>{let p=0;for(let m=0,y=1,g=void 0;m<h.length;m++)g===h[m]&&(y++,m!==h.length-1)||(y>=5&&(p+=3+(y-5)),g=h[m],y=1);return p};let r=0;t.data.forEach(h=>r+=n(h)),e.data.forEach(h=>r+=n(h));let i=0,o=t.data;const s=t.width-1,a=t.height-1;for(let h=0;h<s;h++)for(let p=0;p<a;p++){const m=h+1,y=p+1;o[h][p]===o[m][p]&&o[m][p]===o[h][y]&&o[m][p]===o[m][y]&&(i+=3)}const l=h=>{const p=[!0,!1,!0,!0,!0,!1,!0],m=[!1,!1,!1,!1],y=[...p,...m],g=[...m,...p];let v=0;for(let b=0;b<h.length;b++)z5(h,y,b)&&(v+=40),z5(h,g,b)&&(v+=40);return v};let c=0;for(const h of t.data)c+=l(h);for(const h of e.data)c+=l(h);let u=0;t.rectRead(0,1/0,(h,p)=>u+=p?1:0);const d=u/(t.height*t.width)*100,f=10*Math.floor(Math.abs(d-50)/5);return r+i+c+f}function gte(t,e,n,r){if(r===void 0){const i=ote();for(let o=0;o<OC.length;o++)i.add(mte(V5(t,e,n,o,!0)),o);r=i.get()}if(r===void 0)throw new Error("Cannot find mask");return V5(t,e,n,r)}function yte(t){if(!H5.includes(t))throw new Error(`Invalid error correction mode=${t}. Expected: ${H5}`)}function vte(t){if(!G5.includes(t))throw new Error(`Encoding: invalid mode=${t}. Expected: ${G5}`);if(t==="kanji"||t==="eci")throw new Error(`Encoding: ${t} is not supported (yet?).`)}function wte(t){if(![0,1,2,3,4,5,6,7].includes(t)||!OC[t])throw new Error(`Invalid mask=${t}. Expected number [0..7]`)}function bte(t,e="raw",n={}){const r=n.ecc!==void 0?n.ecc:"medium";yte(r);const i=n.encoding!==void 0?n.encoding:hte(t);vte(i),n.mask!==void 0&&wte(n.mask);let o=n.version,s,a=new Error("Unknown error");if(o!==void 0)ite(o),s=W5(o,r,t,i);else for(let u=1;u<=40;u++)try{s=W5(u,r,t,i),o=u;break}catch(d){a=d}if(!o||!s)throw a;let l=gte(o,r,s,n.mask);l.assertDrawn();const c=n.border===void 0?2:n.border;if(!Number.isSafeInteger(c))throw new Error(`invalid border type=${typeof c}`);if(l=l.border(c,!1),n.scale!==void 0&&(l=l.scale(n.scale)),e==="raw")return l.data;if(e==="ascii")return l.toASCII();if(e==="svg")return l.toSVG(n.optimize);if(e==="gif")return l.toGIF();if(e==="term")return l.toTerm();throw new Error(`Unknown output: ${e}`)}function xte(t,e={}){const{errorCorrection:n,version:r}=e,i=bte(t,"raw",{border:0,ecc:n,scale:1,version:r});return{edgeLength:i.length,finderLength:7,grid:i,value:t}}function Ss(t){const{arena:e,...n}=t;return fn.jsxs(Ss.Root,{...n,children:[fn.jsx(Ss.Finder,{}),fn.jsx(Ss.Cells,{}),e&&fn.jsx(Ss.Arena,{children:typeof e=="string"?fn.jsx("img",{alt:"Arena",src:e,style:{borderRadius:1,height:"100%",objectFit:"cover",width:"100%"}}):e})]})}(function(t){t.Context=U.createContext(null);function e(o){const{children:s,size:a="100%",value:l,version:c,...u}=o,d=U.useMemo(()=>(U.Children.map(s,v=>!U.isValidElement(v)||typeof v.type=="string"?null:"displayName"in v.type&&v.type.displayName==="Arena"?!0:null)??[]).some(Boolean),[s]),f=U.useMemo(()=>{let v=o.errorCorrection;return d&&v==="low"&&(v="medium"),xte(l,{errorCorrection:v,version:c})},[l,d,o.errorCorrection,c]),h=1,p=f.edgeLength*h,m=f.finderLength*h/2,y=d?Math.floor(p/4):0,g=U.useMemo(()=>({arenaSize:y,cellSize:h,edgeSize:p,qrcode:f,finderSize:m}),[y,p,f,m]);return fn.jsx(t.Context.Provider,{value:g,children:fn.jsxs("svg",{...u,width:a,height:a,viewBox:`0 0 ${p} ${p}`,xmlns:"http://www.w3.org/2000/svg",children:[fn.jsx("title",{children:"QR Code"}),s]})})}t.Root=e,function(o){o.displayName="Root"}(e=t.Root||(t.Root={}));function n(o){const{className:s,fill:a,innerClassName:l,radius:c=.25}=o,{cellSize:u,edgeSize:d,finderSize:f}=U.useContext(t.Context);function h({position:p}){let m=f-(f-u)-u/2;p==="top-right"&&(m=d-f-(f-u)-u/2);let y=f-(f-u)-u/2;p==="bottom-left"&&(y=d-f-(f-u)-u/2);let g=f-u*1.5;p==="top-right"&&(g=d-f-u*1.5);let v=f-u*1.5;return p==="bottom-left"&&(v=d-f-u*1.5),fn.jsxs(fn.Fragment,{children:[fn.jsx("rect",{className:s,stroke:a??"currentColor",fill:"transparent",x:m,y,width:u+(f-u)*2,height:u+(f-u)*2,rx:2*c*(f-u),ry:2*c*(f-u),strokeWidth:u}),fn.jsx("rect",{className:l,fill:a??"currentColor",x:g,y:v,width:u*3,height:u*3,rx:2*c*u,ry:2*c*u})]})}return fn.jsxs(fn.Fragment,{children:[fn.jsx(h,{position:"top-left"}),fn.jsx(h,{position:"top-right"}),fn.jsx(h,{position:"bottom-left"})]})}t.Finder=n,function(o){o.displayName="Finder"}(n=t.Finder||(t.Finder={}));function r(o){const{className:s,fill:a="currentColor",inset:l=!0,radius:c=1}=o,{arenaSize:u,cellSize:d,qrcode:f}=U.useContext(t.Context),{edgeLength:h,finderLength:p}=f,m=U.useMemo(()=>{let y="";for(let g=0;g<f.grid.length;g++){const v=f.grid[g];if(v)for(let b=0;b<v.length;b++){if(!v[b])continue;const P=h/2-u/2,N=P+u;if(g>=P&&g<=N&&b>=P&&b<=N)continue;const _=g<p&&b<p,D=g<p&&b>=h-p,T=g>=h-p&&b<p;if(_||D||T)continue;const E=l?d*.1:0,z=(d-E*2)/2,W=b*d+d/2,B=g*d+d/2,w=W-z,A=W+z,C=B-z,k=B+z,I=c*z;y+=[`M ${w+I},${C}`,`L ${A-I},${C}`,`A ${I},${I} 0 0,1 ${A},${C+I}`,`L ${A},${k-I}`,`A ${I},${I} 0 0,1 ${A-I},${k}`,`L ${w+I},${k}`,`A ${I},${I} 0 0,1 ${w},${k-I}`,`L ${w},${C+I}`,`A ${I},${I} 0 0,1 ${w+I},${C}`,"z"].join(" ")}}return y},[u,d,h,p,f.grid,l,c]);return fn.jsx("path",{className:s,d:m,fill:a})}t.Cells=r,function(o){o.displayName="Cells"}(r=t.Cells||(t.Cells={}));function i(o){const{children:s}=o,{arenaSize:a,cellSize:l,edgeSize:c}=U.useContext(t.Context),u=Math.ceil(c/2-a/2),d=a+a%2,f=l/2;return fn.jsx("foreignObject",{x:u,y:u,width:d,height:d,children:fn.jsx("div",{style:{alignItems:"center",display:"flex",fontSize:1,justifyContent:"center",height:"100%",overflow:"hidden",width:"100%",padding:f,boxSizing:"border-box"},children:s})})}t.Arena=i,function(o){o.displayName="Arena"}(i=t.Arena||(t.Arena={}))})(Ss||(Ss={}));Mm.type="coinbaseWallet";function Mm(t={}){return t.version==="3"||t.headlessMode?Ate(t):Ete(t)}function Ete(t){let e,n,r,i;return o=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:Mm.type,async connect({chainId:s,...a}={}){try{const l=await this.getProvider(),c=(await l.request({method:"eth_requestAccounts",params:"instantOnboarding"in a&&a.instantOnboarding?[{onboarding:"instant"}]:[]})).map(d=>Tr(d));n||(n=this.onAccountsChanged.bind(this),l.on("accountsChanged",n)),r||(r=this.onChainChanged.bind(this),l.on("chainChanged",r)),i||(i=this.onDisconnect.bind(this),l.on("disconnect",i));let u=await this.getChainId();return s&&u!==s&&(u=(await this.switchChain({chainId:s}).catch(f=>{if(f.code===wn.code)throw f;return{id:u}}))?.id??u),{accounts:c,chainId:u}}catch(l){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(l.message)?new wn(l):l}},async disconnect(){const s=await this.getProvider();n&&(s.removeListener("accountsChanged",n),n=void 0),r&&(s.removeListener("chainChanged",r),r=void 0),i&&(s.removeListener("disconnect",i),i=void 0),s.disconnect(),s.close?.()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(a=>Tr(a))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!e){const s=typeof t.preference=="string"?{options:t.preference}:{...t.preference,options:t.preference?.options??"all"},{createCoinbaseWalletSDK:a}=await qe(async()=>{const{createCoinbaseWalletSDK:c}=await import("./index-DblnKzZP.js");return{createCoinbaseWalletSDK:c}},__vite__mapDeps([0,1]));e=a({...t,appChainIds:o.chains.map(c=>c.id),preference:s}).getProvider()}return e},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:s,chainId:a}){const l=o.chains.find(u=>u.id===a);if(!l)throw new So(new Qc);const c=await this.getProvider();try{return await c.request({method:"wallet_switchEthereumChain",params:[{chainId:je(l.id)}]}),l}catch(u){if(u.code===4902)try{let d;s?.blockExplorerUrls?d=s.blockExplorerUrls:d=l.blockExplorers?.default.url?[l.blockExplorers?.default.url]:[];let f;s?.rpcUrls?.length?f=s.rpcUrls:f=[l.rpcUrls.default?.http[0]??""];const h={blockExplorerUrls:d,chainId:je(a),chainName:s?.chainName??l.name,iconUrls:s?.iconUrls,nativeCurrency:s?.nativeCurrency??l.nativeCurrency,rpcUrls:f};return await c.request({method:"wallet_addEthereumChain",params:[h]}),l}catch(d){throw new wn(d)}throw new So(u)}},onAccountsChanged(s){s.length===0?this.onDisconnect():o.emitter.emit("change",{accounts:s.map(a=>Tr(a))})},onChainChanged(s){const a=Number(s);o.emitter.emit("change",{chainId:a})},async onDisconnect(s){o.emitter.emit("disconnect");const a=await this.getProvider();n&&(a.removeListener("accountsChanged",n),n=void 0),r&&(a.removeListener("chainChanged",r),r=void 0),i&&(a.removeListener("disconnect",i),i=void 0)}})}function Ate(t){let n,r,i,o,s;return a=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:Mm.type,async connect({chainId:l}={}){try{const c=await this.getProvider(),u=(await c.request({method:"eth_requestAccounts"})).map(f=>Tr(f));i||(i=this.onAccountsChanged.bind(this),c.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),c.on("chainChanged",o)),s||(s=this.onDisconnect.bind(this),c.on("disconnect",s));let d=await this.getChainId();return l&&d!==l&&(d=(await this.switchChain({chainId:l}).catch(h=>{if(h.code===wn.code)throw h;return{id:d}}))?.id??d),{accounts:u,chainId:d}}catch(c){throw/(user closed modal|accounts received is empty|user denied account)/i.test(c.message)?new wn(c):c}},async disconnect(){const l=await this.getProvider();i&&(l.removeListener("accountsChanged",i),i=void 0),o&&(l.removeListener("chainChanged",o),o=void 0),s&&(l.removeListener("disconnect",s),s=void 0),l.disconnect(),l.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(c=>Tr(c))},async getChainId(){const c=await(await this.getProvider()).request({method:"eth_chainId"});return Number(c)},async getProvider(){if(!r){const l=await(async()=>{const{default:h}=await qe(async()=>{const{default:p}=await import("./index-Bw4PkJEr.js").then(m=>m.i);return{default:p}},__vite__mapDeps([2,3,1,4]));return typeof h!="function"&&typeof h.default=="function"?h.default:h})();n=new l({...t,reloadOnDisconnect:!1});const c=n.walletExtension?.getChainId(),u=a.chains.find(h=>t.chainId?h.id===t.chainId:h.id===c)||a.chains[0],d=t.chainId||u?.id,f=t.jsonRpcUrl||u?.rpcUrls.default.http[0];r=n.makeWeb3Provider(f,d)}return r},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:c}){const u=a.chains.find(f=>f.id===c);if(!u)throw new So(new Qc);const d=await this.getProvider();try{return await d.request({method:"wallet_switchEthereumChain",params:[{chainId:je(u.id)}]}),u}catch(f){if(f.code===4902)try{let h;l?.blockExplorerUrls?h=l.blockExplorerUrls:h=u.blockExplorers?.default.url?[u.blockExplorers?.default.url]:[];let p;l?.rpcUrls?.length?p=l.rpcUrls:p=[u.rpcUrls.default?.http[0]??""];const m={blockExplorerUrls:h,chainId:je(c),chainName:l?.chainName??u.name,iconUrls:l?.iconUrls,nativeCurrency:l?.nativeCurrency??u.nativeCurrency,rpcUrls:p};return await d.request({method:"wallet_addEthereumChain",params:[m]}),u}catch(h){throw new wn(h)}throw new So(f)}},onAccountsChanged(l){l.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:l.map(c=>Tr(c))})},onChainChanged(l){const c=Number(l);a.emitter.emit("change",{chainId:c})},async onDisconnect(l){a.emitter.emit("disconnect");const c=await this.getProvider();i&&(c.removeListener("accountsChanged",i),i=void 0),o&&(c.removeListener("chainChanged",o),o=void 0),s&&(c.removeListener("disconnect",s),s=void 0)}})}LC.type="safe";function LC(t={}){const{shimDisconnect:e=!1}=t;let n,r;return i=>({id:"safe",name:"Safe",type:LC.type,async connect(){const o=await this.getProvider();if(!o)throw new mo;const s=await this.getAccounts(),a=await this.getChainId();return r||(r=this.onDisconnect.bind(this),o.on("disconnect",r)),e&&await i.storage?.removeItem("safe.disconnected"),{accounts:s,chainId:a}},async disconnect(){const o=await this.getProvider();if(!o)throw new mo;r&&(o.removeListener("disconnect",r),r=void 0),e&&await i.storage?.setItem("safe.disconnected",!0)},async getAccounts(){const o=await this.getProvider();if(!o)throw new mo;return(await o.request({method:"eth_accounts"})).map(Tr)},async getProvider(){if(typeof window<"u"&&window?.parent!==window){if(!n){const{default:s}=await qe(async()=>{const{default:u}=await import("./index-iQDDC4Kq.js").then(d=>d.e);return{default:u}},[]),a=new s(t),l=await wC(()=>a.safe.getInfo(),{timeout:t.unstable_getInfoTimeout??10});if(!l)throw new Error("Could not load Safe information");const c=await(async()=>{const u=await qe(()=>import("./index-Cbfz0gvn.js").then(d=>d.i),__vite__mapDeps([5,6,4]));return typeof u.SafeAppProvider!="function"&&typeof u.default.SafeAppProvider=="function"?u.default.SafeAppProvider:u.SafeAppProvider})();n=new c(l,a)}return n}},async getChainId(){const o=await this.getProvider();if(!o)throw new mo;return Number(o.chainId)},async isAuthorized(){try{return e&&await i.storage?.getItem("safe.disconnected")?!1:!!(await this.getAccounts()).length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){i.emitter.emit("disconnect")}})}Bw.type="walletConnect";function Bw(t){const e=t.isNewChainsStale??!0;let n,r;const i="eip155";let o,s,a,l,c,u;return d=>({id:"walletConnect",name:"WalletConnect",type:Bw.type,async setup(){const f=await this.getProvider().catch(()=>null);f&&(a||(a=this.onConnect.bind(this),f.on("connect",a)),c||(c=this.onSessionDelete.bind(this),f.on("session_delete",c)))},async connect({chainId:f,...h}={}){try{const p=await this.getProvider();if(!p)throw new mo;l||(l=this.onDisplayUri,p.on("display_uri",l));let m=f;if(!m){const b=await d.storage?.getItem("state")??{};d.chains.some(P=>P.id===b.chainId)?m=b.chainId:m=d.chains[0]?.id}if(!m)throw new Error("No chains found on connector.");const y=await this.isChainsStale();if(p.session&&y&&await p.disconnect(),!p.session||y){const b=d.chains.filter(x=>x.id!==m).map(x=>x.id);await p.connect({optionalChains:[m,...b],..."pairingTopic"in h?{pairingTopic:h.pairingTopic}:{}}),this.setRequestedChainsIds(d.chains.map(x=>x.id))}const g=(await p.enable()).map(b=>Tr(b)),v=await this.getChainId();return l&&(p.removeListener("display_uri",l),l=void 0),a&&(p.removeListener("connect",a),a=void 0),o||(o=this.onAccountsChanged.bind(this),p.on("accountsChanged",o)),s||(s=this.onChainChanged.bind(this),p.on("chainChanged",s)),u||(u=this.onDisconnect.bind(this),p.on("disconnect",u)),c||(c=this.onSessionDelete.bind(this),p.on("session_delete",c)),{accounts:g,chainId:v}}catch(p){throw/(user rejected|connection request reset)/i.test(p?.message)?new wn(p):p}},async disconnect(){const f=await this.getProvider();try{await f?.disconnect()}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{s&&(f?.removeListener("chainChanged",s),s=void 0),u&&(f?.removeListener("disconnect",u),u=void 0),a||(a=this.onConnect.bind(this),f?.on("connect",a)),o&&(f?.removeListener("accountsChanged",o),o=void 0),c&&(f?.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(h=>Tr(h))},async getProvider({chainId:f}={}){async function h(){const p=d.chains.map(y=>y.id);if(!p.length)return;const{EthereumProvider:m}=await qe(async()=>{const{EthereumProvider:y}=await import("./index.es-E9DnDZLM.js").then(g=>g.a0);return{EthereumProvider:y}},__vite__mapDeps([7,4]));return await m.init({...t,disableProviderPing:!0,optionalChains:p,projectId:t.projectId,rpcMap:Object.fromEntries(d.chains.map(y=>{const[g]=zY({chain:y,transports:d.transports});return[y.id,g]})),showQrModal:t.showQrModal??!0})}return n||(r||(r=h()),n=await r,n?.events.setMaxListeners(Number.POSITIVE_INFINITY)),f&&await this.switchChain?.({chainId:f}),n},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[f,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return f.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:f,chainId:h}){const p=await this.getProvider();if(!p)throw new mo;const m=d.chains.find(y=>y.id===h);if(!m)throw new So(new Qc);try{await Promise.all([new Promise(g=>{const v=({chainId:b})=>{b===h&&(d.emitter.off("change",v),g())};d.emitter.on("change",v)}),p.request({method:"wallet_switchEthereumChain",params:[{chainId:je(h)}]})]);const y=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...y,h]),m}catch(y){const g=y;if(/(user rejected)/i.test(g.message))throw new wn(g);try{let v;f?.blockExplorerUrls?v=f.blockExplorerUrls:v=m.blockExplorers?.default.url?[m.blockExplorers?.default.url]:[];let b;f?.rpcUrls?.length?b=f.rpcUrls:b=[...m.rpcUrls.default.http];const x={blockExplorerUrls:v,chainId:je(h),chainName:f?.chainName??m.name,iconUrls:f?.iconUrls,nativeCurrency:f?.nativeCurrency??m.nativeCurrency,rpcUrls:b};await p.request({method:"wallet_addEthereumChain",params:[x]});const P=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...P,h]),m}catch(v){throw new wn(v)}}},onAccountsChanged(f){f.length===0?this.onDisconnect():d.emitter.emit("change",{accounts:f.map(h=>Tr(h))})},onChainChanged(f){const h=Number(f);d.emitter.emit("change",{chainId:h})},async onConnect(f){const h=Number(f.chainId),p=await this.getAccounts();d.emitter.emit("connect",{accounts:p,chainId:h})},async onDisconnect(f){this.setRequestedChainsIds([]),d.emitter.emit("disconnect");const h=await this.getProvider();o&&(h.removeListener("accountsChanged",o),o=void 0),s&&(h.removeListener("chainChanged",s),s=void 0),u&&(h.removeListener("disconnect",u),u=void 0),c&&(h.removeListener("session_delete",c),c=void 0),a||(a=this.onConnect.bind(this),h.on("connect",a))},onDisplayUri(f){d.emitter.emit("message",{type:"display_uri",data:f})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){return n?n.session?.namespaces[i]?.accounts?.map(h=>Number.parseInt(h.split(":")[1]||""))??[]:[]},async getRequestedChainsIds(){return await d.storage?.getItem(this.requestedChainsStorageKey)??[]},async isChainsStale(){if(!e)return!1;const f=d.chains.map(m=>m.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(m=>f.includes(m)))return!1;const p=await this.getRequestedChainsIds();return!f.every(m=>p.includes(m))},async setRequestedChainsIds(f){await d.storage?.setItem(this.requestedChainsStorageKey,f)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}var Xy={},_te=768,Mu=mZ({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),vD=EL({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),KA=xZ({conditions:{defaultCondition:"base",conditionNames:["base","hover","active"],responsiveArray:void 0},styles:{background:{values:{accentColor:{conditions:{base:"ju367v9i",hover:"ju367v9j",active:"ju367v9k"},defaultClass:"ju367v9i"},accentColorForeground:{conditions:{base:"ju367v9l",hover:"ju367v9m",active:"ju367v9n"},defaultClass:"ju367v9l"},actionButtonBorder:{conditions:{base:"ju367v9o",hover:"ju367v9p",active:"ju367v9q"},defaultClass:"ju367v9o"},actionButtonBorderMobile:{conditions:{base:"ju367v9r",hover:"ju367v9s",active:"ju367v9t"},defaultClass:"ju367v9r"},actionButtonSecondaryBackground:{conditions:{base:"ju367v9u",hover:"ju367v9v",active:"ju367v9w"},defaultClass:"ju367v9u"},closeButton:{conditions:{base:"ju367v9x",hover:"ju367v9y",active:"ju367v9z"},defaultClass:"ju367v9x"},closeButtonBackground:{conditions:{base:"ju367va0",hover:"ju367va1",active:"ju367va2"},defaultClass:"ju367va0"},connectButtonBackground:{conditions:{base:"ju367va3",hover:"ju367va4",active:"ju367va5"},defaultClass:"ju367va3"},connectButtonBackgroundError:{conditions:{base:"ju367va6",hover:"ju367va7",active:"ju367va8"},defaultClass:"ju367va6"},connectButtonInnerBackground:{conditions:{base:"ju367va9",hover:"ju367vaa",active:"ju367vab"},defaultClass:"ju367va9"},connectButtonText:{conditions:{base:"ju367vac",hover:"ju367vad",active:"ju367vae"},defaultClass:"ju367vac"},connectButtonTextError:{conditions:{base:"ju367vaf",hover:"ju367vag",active:"ju367vah"},defaultClass:"ju367vaf"},connectionIndicator:{conditions:{base:"ju367vai",hover:"ju367vaj",active:"ju367vak"},defaultClass:"ju367vai"},downloadBottomCardBackground:{conditions:{base:"ju367val",hover:"ju367vam",active:"ju367van"},defaultClass:"ju367val"},downloadTopCardBackground:{conditions:{base:"ju367vao",hover:"ju367vap",active:"ju367vaq"},defaultClass:"ju367vao"},error:{conditions:{base:"ju367var",hover:"ju367vas",active:"ju367vat"},defaultClass:"ju367var"},generalBorder:{conditions:{base:"ju367vau",hover:"ju367vav",active:"ju367vaw"},defaultClass:"ju367vau"},generalBorderDim:{conditions:{base:"ju367vax",hover:"ju367vay",active:"ju367vaz"},defaultClass:"ju367vax"},menuItemBackground:{conditions:{base:"ju367vb0",hover:"ju367vb1",active:"ju367vb2"},defaultClass:"ju367vb0"},modalBackdrop:{conditions:{base:"ju367vb3",hover:"ju367vb4",active:"ju367vb5"},defaultClass:"ju367vb3"},modalBackground:{conditions:{base:"ju367vb6",hover:"ju367vb7",active:"ju367vb8"},defaultClass:"ju367vb6"},modalBorder:{conditions:{base:"ju367vb9",hover:"ju367vba",active:"ju367vbb"},defaultClass:"ju367vb9"},modalText:{conditions:{base:"ju367vbc",hover:"ju367vbd",active:"ju367vbe"},defaultClass:"ju367vbc"},modalTextDim:{conditions:{base:"ju367vbf",hover:"ju367vbg",active:"ju367vbh"},defaultClass:"ju367vbf"},modalTextSecondary:{conditions:{base:"ju367vbi",hover:"ju367vbj",active:"ju367vbk"},defaultClass:"ju367vbi"},profileAction:{conditions:{base:"ju367vbl",hover:"ju367vbm",active:"ju367vbn"},defaultClass:"ju367vbl"},profileActionHover:{conditions:{base:"ju367vbo",hover:"ju367vbp",active:"ju367vbq"},defaultClass:"ju367vbo"},profileForeground:{conditions:{base:"ju367vbr",hover:"ju367vbs",active:"ju367vbt"},defaultClass:"ju367vbr"},selectedOptionBorder:{conditions:{base:"ju367vbu",hover:"ju367vbv",active:"ju367vbw"},defaultClass:"ju367vbu"},standby:{conditions:{base:"ju367vbx",hover:"ju367vby",active:"ju367vbz"},defaultClass:"ju367vbx"}}},borderColor:{values:{accentColor:{conditions:{base:"ju367vc0",hover:"ju367vc1",active:"ju367vc2"},defaultClass:"ju367vc0"},accentColorForeground:{conditions:{base:"ju367vc3",hover:"ju367vc4",active:"ju367vc5"},defaultClass:"ju367vc3"},actionButtonBorder:{conditions:{base:"ju367vc6",hover:"ju367vc7",active:"ju367vc8"},defaultClass:"ju367vc6"},actionButtonBorderMobile:{conditions:{base:"ju367vc9",hover:"ju367vca",active:"ju367vcb"},defaultClass:"ju367vc9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vcc",hover:"ju367vcd",active:"ju367vce"},defaultClass:"ju367vcc"},closeButton:{conditions:{base:"ju367vcf",hover:"ju367vcg",active:"ju367vch"},defaultClass:"ju367vcf"},closeButtonBackground:{conditions:{base:"ju367vci",hover:"ju367vcj",active:"ju367vck"},defaultClass:"ju367vci"},connectButtonBackground:{conditions:{base:"ju367vcl",hover:"ju367vcm",active:"ju367vcn"},defaultClass:"ju367vcl"},connectButtonBackgroundError:{conditions:{base:"ju367vco",hover:"ju367vcp",active:"ju367vcq"},defaultClass:"ju367vco"},connectButtonInnerBackground:{conditions:{base:"ju367vcr",hover:"ju367vcs",active:"ju367vct"},defaultClass:"ju367vcr"},connectButtonText:{conditions:{base:"ju367vcu",hover:"ju367vcv",active:"ju367vcw"},defaultClass:"ju367vcu"},connectButtonTextError:{conditions:{base:"ju367vcx",hover:"ju367vcy",active:"ju367vcz"},defaultClass:"ju367vcx"},connectionIndicator:{conditions:{base:"ju367vd0",hover:"ju367vd1",active:"ju367vd2"},defaultClass:"ju367vd0"},downloadBottomCardBackground:{conditions:{base:"ju367vd3",hover:"ju367vd4",active:"ju367vd5"},defaultClass:"ju367vd3"},downloadTopCardBackground:{conditions:{base:"ju367vd6",hover:"ju367vd7",active:"ju367vd8"},defaultClass:"ju367vd6"},error:{conditions:{base:"ju367vd9",hover:"ju367vda",active:"ju367vdb"},defaultClass:"ju367vd9"},generalBorder:{conditions:{base:"ju367vdc",hover:"ju367vdd",active:"ju367vde"},defaultClass:"ju367vdc"},generalBorderDim:{conditions:{base:"ju367vdf",hover:"ju367vdg",active:"ju367vdh"},defaultClass:"ju367vdf"},menuItemBackground:{conditions:{base:"ju367vdi",hover:"ju367vdj",active:"ju367vdk"},defaultClass:"ju367vdi"},modalBackdrop:{conditions:{base:"ju367vdl",hover:"ju367vdm",active:"ju367vdn"},defaultClass:"ju367vdl"},modalBackground:{conditions:{base:"ju367vdo",hover:"ju367vdp",active:"ju367vdq"},defaultClass:"ju367vdo"},modalBorder:{conditions:{base:"ju367vdr",hover:"ju367vds",active:"ju367vdt"},defaultClass:"ju367vdr"},modalText:{conditions:{base:"ju367vdu",hover:"ju367vdv",active:"ju367vdw"},defaultClass:"ju367vdu"},modalTextDim:{conditions:{base:"ju367vdx",hover:"ju367vdy",active:"ju367vdz"},defaultClass:"ju367vdx"},modalTextSecondary:{conditions:{base:"ju367ve0",hover:"ju367ve1",active:"ju367ve2"},defaultClass:"ju367ve0"},profileAction:{conditions:{base:"ju367ve3",hover:"ju367ve4",active:"ju367ve5"},defaultClass:"ju367ve3"},profileActionHover:{conditions:{base:"ju367ve6",hover:"ju367ve7",active:"ju367ve8"},defaultClass:"ju367ve6"},profileForeground:{conditions:{base:"ju367ve9",hover:"ju367vea",active:"ju367veb"},defaultClass:"ju367ve9"},selectedOptionBorder:{conditions:{base:"ju367vec",hover:"ju367ved",active:"ju367vee"},defaultClass:"ju367vec"},standby:{conditions:{base:"ju367vef",hover:"ju367veg",active:"ju367veh"},defaultClass:"ju367vef"}}},boxShadow:{values:{connectButton:{conditions:{base:"ju367vei",hover:"ju367vej",active:"ju367vek"},defaultClass:"ju367vei"},dialog:{conditions:{base:"ju367vel",hover:"ju367vem",active:"ju367ven"},defaultClass:"ju367vel"},profileDetailsAction:{conditions:{base:"ju367veo",hover:"ju367vep",active:"ju367veq"},defaultClass:"ju367veo"},selectedOption:{conditions:{base:"ju367ver",hover:"ju367ves",active:"ju367vet"},defaultClass:"ju367ver"},selectedWallet:{conditions:{base:"ju367veu",hover:"ju367vev",active:"ju367vew"},defaultClass:"ju367veu"},walletLogo:{conditions:{base:"ju367vex",hover:"ju367vey",active:"ju367vez"},defaultClass:"ju367vex"}}},color:{values:{accentColor:{conditions:{base:"ju367vf0",hover:"ju367vf1",active:"ju367vf2"},defaultClass:"ju367vf0"},accentColorForeground:{conditions:{base:"ju367vf3",hover:"ju367vf4",active:"ju367vf5"},defaultClass:"ju367vf3"},actionButtonBorder:{conditions:{base:"ju367vf6",hover:"ju367vf7",active:"ju367vf8"},defaultClass:"ju367vf6"},actionButtonBorderMobile:{conditions:{base:"ju367vf9",hover:"ju367vfa",active:"ju367vfb"},defaultClass:"ju367vf9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vfc",hover:"ju367vfd",active:"ju367vfe"},defaultClass:"ju367vfc"},closeButton:{conditions:{base:"ju367vff",hover:"ju367vfg",active:"ju367vfh"},defaultClass:"ju367vff"},closeButtonBackground:{conditions:{base:"ju367vfi",hover:"ju367vfj",active:"ju367vfk"},defaultClass:"ju367vfi"},connectButtonBackground:{conditions:{base:"ju367vfl",hover:"ju367vfm",active:"ju367vfn"},defaultClass:"ju367vfl"},connectButtonBackgroundError:{conditions:{base:"ju367vfo",hover:"ju367vfp",active:"ju367vfq"},defaultClass:"ju367vfo"},connectButtonInnerBackground:{conditions:{base:"ju367vfr",hover:"ju367vfs",active:"ju367vft"},defaultClass:"ju367vfr"},connectButtonText:{conditions:{base:"ju367vfu",hover:"ju367vfv",active:"ju367vfw"},defaultClass:"ju367vfu"},connectButtonTextError:{conditions:{base:"ju367vfx",hover:"ju367vfy",active:"ju367vfz"},defaultClass:"ju367vfx"},connectionIndicator:{conditions:{base:"ju367vg0",hover:"ju367vg1",active:"ju367vg2"},defaultClass:"ju367vg0"},downloadBottomCardBackground:{conditions:{base:"ju367vg3",hover:"ju367vg4",active:"ju367vg5"},defaultClass:"ju367vg3"},downloadTopCardBackground:{conditions:{base:"ju367vg6",hover:"ju367vg7",active:"ju367vg8"},defaultClass:"ju367vg6"},error:{conditions:{base:"ju367vg9",hover:"ju367vga",active:"ju367vgb"},defaultClass:"ju367vg9"},generalBorder:{conditions:{base:"ju367vgc",hover:"ju367vgd",active:"ju367vge"},defaultClass:"ju367vgc"},generalBorderDim:{conditions:{base:"ju367vgf",hover:"ju367vgg",active:"ju367vgh"},defaultClass:"ju367vgf"},menuItemBackground:{conditions:{base:"ju367vgi",hover:"ju367vgj",active:"ju367vgk"},defaultClass:"ju367vgi"},modalBackdrop:{conditions:{base:"ju367vgl",hover:"ju367vgm",active:"ju367vgn"},defaultClass:"ju367vgl"},modalBackground:{conditions:{base:"ju367vgo",hover:"ju367vgp",active:"ju367vgq"},defaultClass:"ju367vgo"},modalBorder:{conditions:{base:"ju367vgr",hover:"ju367vgs",active:"ju367vgt"},defaultClass:"ju367vgr"},modalText:{conditions:{base:"ju367vgu",hover:"ju367vgv",active:"ju367vgw"},defaultClass:"ju367vgu"},modalTextDim:{conditions:{base:"ju367vgx",hover:"ju367vgy",active:"ju367vgz"},defaultClass:"ju367vgx"},modalTextSecondary:{conditions:{base:"ju367vh0",hover:"ju367vh1",active:"ju367vh2"},defaultClass:"ju367vh0"},profileAction:{conditions:{base:"ju367vh3",hover:"ju367vh4",active:"ju367vh5"},defaultClass:"ju367vh3"},profileActionHover:{conditions:{base:"ju367vh6",hover:"ju367vh7",active:"ju367vh8"},defaultClass:"ju367vh6"},profileForeground:{conditions:{base:"ju367vh9",hover:"ju367vha",active:"ju367vhb"},defaultClass:"ju367vh9"},selectedOptionBorder:{conditions:{base:"ju367vhc",hover:"ju367vhd",active:"ju367vhe"},defaultClass:"ju367vhc"},standby:{conditions:{base:"ju367vhf",hover:"ju367vhg",active:"ju367vhh"},defaultClass:"ju367vhf"}}}}},{conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0},styles:{alignItems:{values:{"flex-start":{conditions:{smallScreen:"ju367v0",largeScreen:"ju367v1"},defaultClass:"ju367v0"},"flex-end":{conditions:{smallScreen:"ju367v2",largeScreen:"ju367v3"},defaultClass:"ju367v2"},center:{conditions:{smallScreen:"ju367v4",largeScreen:"ju367v5"},defaultClass:"ju367v4"}}},display:{values:{none:{conditions:{smallScreen:"ju367v6",largeScreen:"ju367v7"},defaultClass:"ju367v6"},block:{conditions:{smallScreen:"ju367v8",largeScreen:"ju367v9"},defaultClass:"ju367v8"},flex:{conditions:{smallScreen:"ju367va",largeScreen:"ju367vb"},defaultClass:"ju367va"},inline:{conditions:{smallScreen:"ju367vc",largeScreen:"ju367vd"},defaultClass:"ju367vc"}}}}},{conditions:void 0,styles:{margin:{mappings:["marginTop","marginBottom","marginLeft","marginRight"]},marginX:{mappings:["marginLeft","marginRight"]},marginY:{mappings:["marginTop","marginBottom"]},padding:{mappings:["paddingTop","paddingBottom","paddingLeft","paddingRight"]},paddingX:{mappings:["paddingLeft","paddingRight"]},paddingY:{mappings:["paddingTop","paddingBottom"]},alignSelf:{values:{"flex-start":{defaultClass:"ju367ve"},"flex-end":{defaultClass:"ju367vf"},center:{defaultClass:"ju367vg"}}},backgroundSize:{values:{cover:{defaultClass:"ju367vh"}}},borderRadius:{values:{1:{defaultClass:"ju367vi"},6:{defaultClass:"ju367vj"},10:{defaultClass:"ju367vk"},13:{defaultClass:"ju367vl"},actionButton:{defaultClass:"ju367vm"},connectButton:{defaultClass:"ju367vn"},menuButton:{defaultClass:"ju367vo"},modal:{defaultClass:"ju367vp"},modalMobile:{defaultClass:"ju367vq"},"25%":{defaultClass:"ju367vr"},full:{defaultClass:"ju367vs"}}},borderStyle:{values:{solid:{defaultClass:"ju367vt"}}},borderWidth:{values:{0:{defaultClass:"ju367vu"},1:{defaultClass:"ju367vv"},2:{defaultClass:"ju367vw"},4:{defaultClass:"ju367vx"}}},cursor:{values:{pointer:{defaultClass:"ju367vy"},none:{defaultClass:"ju367vz"}}},pointerEvents:{values:{none:{defaultClass:"ju367v10"},all:{defaultClass:"ju367v11"}}},minHeight:{values:{8:{defaultClass:"ju367v12"},44:{defaultClass:"ju367v13"}}},flexDirection:{values:{row:{defaultClass:"ju367v14"},column:{defaultClass:"ju367v15"}}},fontFamily:{values:{body:{defaultClass:"ju367v16"}}},fontSize:{values:{12:{defaultClass:"ju367v17"},13:{defaultClass:"ju367v18"},14:{defaultClass:"ju367v19"},16:{defaultClass:"ju367v1a"},18:{defaultClass:"ju367v1b"},20:{defaultClass:"ju367v1c"},23:{defaultClass:"ju367v1d"}}},fontWeight:{values:{regular:{defaultClass:"ju367v1e"},medium:{defaultClass:"ju367v1f"},semibold:{defaultClass:"ju367v1g"},bold:{defaultClass:"ju367v1h"},heavy:{defaultClass:"ju367v1i"}}},gap:{values:{0:{defaultClass:"ju367v1j"},1:{defaultClass:"ju367v1k"},2:{defaultClass:"ju367v1l"},3:{defaultClass:"ju367v1m"},4:{defaultClass:"ju367v1n"},5:{defaultClass:"ju367v1o"},6:{defaultClass:"ju367v1p"},8:{defaultClass:"ju367v1q"},10:{defaultClass:"ju367v1r"},12:{defaultClass:"ju367v1s"},14:{defaultClass:"ju367v1t"},16:{defaultClass:"ju367v1u"},18:{defaultClass:"ju367v1v"},20:{defaultClass:"ju367v1w"},24:{defaultClass:"ju367v1x"},28:{defaultClass:"ju367v1y"},32:{defaultClass:"ju367v1z"},36:{defaultClass:"ju367v20"},44:{defaultClass:"ju367v21"},64:{defaultClass:"ju367v22"},"-1":{defaultClass:"ju367v23"}}},height:{values:{1:{defaultClass:"ju367v24"},2:{defaultClass:"ju367v25"},4:{defaultClass:"ju367v26"},8:{defaultClass:"ju367v27"},12:{defaultClass:"ju367v28"},20:{defaultClass:"ju367v29"},24:{defaultClass:"ju367v2a"},28:{defaultClass:"ju367v2b"},30:{defaultClass:"ju367v2c"},32:{defaultClass:"ju367v2d"},34:{defaultClass:"ju367v2e"},36:{defaultClass:"ju367v2f"},40:{defaultClass:"ju367v2g"},44:{defaultClass:"ju367v2h"},48:{defaultClass:"ju367v2i"},54:{defaultClass:"ju367v2j"},60:{defaultClass:"ju367v2k"},200:{defaultClass:"ju367v2l"},full:{defaultClass:"ju367v2m"},max:{defaultClass:"ju367v2n"}}},justifyContent:{values:{"flex-start":{defaultClass:"ju367v2o"},"flex-end":{defaultClass:"ju367v2p"},center:{defaultClass:"ju367v2q"},"space-between":{defaultClass:"ju367v2r"},"space-around":{defaultClass:"ju367v2s"}}},textAlign:{values:{left:{defaultClass:"ju367v2t"},center:{defaultClass:"ju367v2u"},inherit:{defaultClass:"ju367v2v"}}},marginBottom:{values:{0:{defaultClass:"ju367v2w"},1:{defaultClass:"ju367v2x"},2:{defaultClass:"ju367v2y"},3:{defaultClass:"ju367v2z"},4:{defaultClass:"ju367v30"},5:{defaultClass:"ju367v31"},6:{defaultClass:"ju367v32"},8:{defaultClass:"ju367v33"},10:{defaultClass:"ju367v34"},12:{defaultClass:"ju367v35"},14:{defaultClass:"ju367v36"},16:{defaultClass:"ju367v37"},18:{defaultClass:"ju367v38"},20:{defaultClass:"ju367v39"},24:{defaultClass:"ju367v3a"},28:{defaultClass:"ju367v3b"},32:{defaultClass:"ju367v3c"},36:{defaultClass:"ju367v3d"},44:{defaultClass:"ju367v3e"},64:{defaultClass:"ju367v3f"},"-1":{defaultClass:"ju367v3g"}}},marginLeft:{values:{0:{defaultClass:"ju367v3h"},1:{defaultClass:"ju367v3i"},2:{defaultClass:"ju367v3j"},3:{defaultClass:"ju367v3k"},4:{defaultClass:"ju367v3l"},5:{defaultClass:"ju367v3m"},6:{defaultClass:"ju367v3n"},8:{defaultClass:"ju367v3o"},10:{defaultClass:"ju367v3p"},12:{defaultClass:"ju367v3q"},14:{defaultClass:"ju367v3r"},16:{defaultClass:"ju367v3s"},18:{defaultClass:"ju367v3t"},20:{defaultClass:"ju367v3u"},24:{defaultClass:"ju367v3v"},28:{defaultClass:"ju367v3w"},32:{defaultClass:"ju367v3x"},36:{defaultClass:"ju367v3y"},44:{defaultClass:"ju367v3z"},64:{defaultClass:"ju367v40"},"-1":{defaultClass:"ju367v41"}}},marginRight:{values:{0:{defaultClass:"ju367v42"},1:{defaultClass:"ju367v43"},2:{defaultClass:"ju367v44"},3:{defaultClass:"ju367v45"},4:{defaultClass:"ju367v46"},5:{defaultClass:"ju367v47"},6:{defaultClass:"ju367v48"},8:{defaultClass:"ju367v49"},10:{defaultClass:"ju367v4a"},12:{defaultClass:"ju367v4b"},14:{defaultClass:"ju367v4c"},16:{defaultClass:"ju367v4d"},18:{defaultClass:"ju367v4e"},20:{defaultClass:"ju367v4f"},24:{defaultClass:"ju367v4g"},28:{defaultClass:"ju367v4h"},32:{defaultClass:"ju367v4i"},36:{defaultClass:"ju367v4j"},44:{defaultClass:"ju367v4k"},64:{defaultClass:"ju367v4l"},"-1":{defaultClass:"ju367v4m"}}},marginTop:{values:{0:{defaultClass:"ju367v4n"},1:{defaultClass:"ju367v4o"},2:{defaultClass:"ju367v4p"},3:{defaultClass:"ju367v4q"},4:{defaultClass:"ju367v4r"},5:{defaultClass:"ju367v4s"},6:{defaultClass:"ju367v4t"},8:{defaultClass:"ju367v4u"},10:{defaultClass:"ju367v4v"},12:{defaultClass:"ju367v4w"},14:{defaultClass:"ju367v4x"},16:{defaultClass:"ju367v4y"},18:{defaultClass:"ju367v4z"},20:{defaultClass:"ju367v50"},24:{defaultClass:"ju367v51"},28:{defaultClass:"ju367v52"},32:{defaultClass:"ju367v53"},36:{defaultClass:"ju367v54"},44:{defaultClass:"ju367v55"},64:{defaultClass:"ju367v56"},"-1":{defaultClass:"ju367v57"}}},maxWidth:{values:{1:{defaultClass:"ju367v58"},2:{defaultClass:"ju367v59"},4:{defaultClass:"ju367v5a"},8:{defaultClass:"ju367v5b"},12:{defaultClass:"ju367v5c"},20:{defaultClass:"ju367v5d"},24:{defaultClass:"ju367v5e"},28:{defaultClass:"ju367v5f"},30:{defaultClass:"ju367v5g"},32:{defaultClass:"ju367v5h"},34:{defaultClass:"ju367v5i"},36:{defaultClass:"ju367v5j"},40:{defaultClass:"ju367v5k"},44:{defaultClass:"ju367v5l"},48:{defaultClass:"ju367v5m"},54:{defaultClass:"ju367v5n"},60:{defaultClass:"ju367v5o"},200:{defaultClass:"ju367v5p"},full:{defaultClass:"ju367v5q"},max:{defaultClass:"ju367v5r"}}},minWidth:{values:{1:{defaultClass:"ju367v5s"},2:{defaultClass:"ju367v5t"},4:{defaultClass:"ju367v5u"},8:{defaultClass:"ju367v5v"},12:{defaultClass:"ju367v5w"},20:{defaultClass:"ju367v5x"},24:{defaultClass:"ju367v5y"},28:{defaultClass:"ju367v5z"},30:{defaultClass:"ju367v60"},32:{defaultClass:"ju367v61"},34:{defaultClass:"ju367v62"},36:{defaultClass:"ju367v63"},40:{defaultClass:"ju367v64"},44:{defaultClass:"ju367v65"},48:{defaultClass:"ju367v66"},54:{defaultClass:"ju367v67"},60:{defaultClass:"ju367v68"},200:{defaultClass:"ju367v69"},full:{defaultClass:"ju367v6a"},max:{defaultClass:"ju367v6b"}}},overflow:{values:{hidden:{defaultClass:"ju367v6c"}}},paddingBottom:{values:{0:{defaultClass:"ju367v6d"},1:{defaultClass:"ju367v6e"},2:{defaultClass:"ju367v6f"},3:{defaultClass:"ju367v6g"},4:{defaultClass:"ju367v6h"},5:{defaultClass:"ju367v6i"},6:{defaultClass:"ju367v6j"},8:{defaultClass:"ju367v6k"},10:{defaultClass:"ju367v6l"},12:{defaultClass:"ju367v6m"},14:{defaultClass:"ju367v6n"},16:{defaultClass:"ju367v6o"},18:{defaultClass:"ju367v6p"},20:{defaultClass:"ju367v6q"},24:{defaultClass:"ju367v6r"},28:{defaultClass:"ju367v6s"},32:{defaultClass:"ju367v6t"},36:{defaultClass:"ju367v6u"},44:{defaultClass:"ju367v6v"},64:{defaultClass:"ju367v6w"},"-1":{defaultClass:"ju367v6x"}}},paddingLeft:{values:{0:{defaultClass:"ju367v6y"},1:{defaultClass:"ju367v6z"},2:{defaultClass:"ju367v70"},3:{defaultClass:"ju367v71"},4:{defaultClass:"ju367v72"},5:{defaultClass:"ju367v73"},6:{defaultClass:"ju367v74"},8:{defaultClass:"ju367v75"},10:{defaultClass:"ju367v76"},12:{defaultClass:"ju367v77"},14:{defaultClass:"ju367v78"},16:{defaultClass:"ju367v79"},18:{defaultClass:"ju367v7a"},20:{defaultClass:"ju367v7b"},24:{defaultClass:"ju367v7c"},28:{defaultClass:"ju367v7d"},32:{defaultClass:"ju367v7e"},36:{defaultClass:"ju367v7f"},44:{defaultClass:"ju367v7g"},64:{defaultClass:"ju367v7h"},"-1":{defaultClass:"ju367v7i"}}},paddingRight:{values:{0:{defaultClass:"ju367v7j"},1:{defaultClass:"ju367v7k"},2:{defaultClass:"ju367v7l"},3:{defaultClass:"ju367v7m"},4:{defaultClass:"ju367v7n"},5:{defaultClass:"ju367v7o"},6:{defaultClass:"ju367v7p"},8:{defaultClass:"ju367v7q"},10:{defaultClass:"ju367v7r"},12:{defaultClass:"ju367v7s"},14:{defaultClass:"ju367v7t"},16:{defaultClass:"ju367v7u"},18:{defaultClass:"ju367v7v"},20:{defaultClass:"ju367v7w"},24:{defaultClass:"ju367v7x"},28:{defaultClass:"ju367v7y"},32:{defaultClass:"ju367v7z"},36:{defaultClass:"ju367v80"},44:{defaultClass:"ju367v81"},64:{defaultClass:"ju367v82"},"-1":{defaultClass:"ju367v83"}}},paddingTop:{values:{0:{defaultClass:"ju367v84"},1:{defaultClass:"ju367v85"},2:{defaultClass:"ju367v86"},3:{defaultClass:"ju367v87"},4:{defaultClass:"ju367v88"},5:{defaultClass:"ju367v89"},6:{defaultClass:"ju367v8a"},8:{defaultClass:"ju367v8b"},10:{defaultClass:"ju367v8c"},12:{defaultClass:"ju367v8d"},14:{defaultClass:"ju367v8e"},16:{defaultClass:"ju367v8f"},18:{defaultClass:"ju367v8g"},20:{defaultClass:"ju367v8h"},24:{defaultClass:"ju367v8i"},28:{defaultClass:"ju367v8j"},32:{defaultClass:"ju367v8k"},36:{defaultClass:"ju367v8l"},44:{defaultClass:"ju367v8m"},64:{defaultClass:"ju367v8n"},"-1":{defaultClass:"ju367v8o"}}},position:{values:{absolute:{defaultClass:"ju367v8p"},fixed:{defaultClass:"ju367v8q"},relative:{defaultClass:"ju367v8r"}}},WebkitUserSelect:{values:{none:{defaultClass:"ju367v8s"}}},right:{values:{0:{defaultClass:"ju367v8t"}}},transition:{values:{default:{defaultClass:"ju367v8u"},transform:{defaultClass:"ju367v8v"}}},userSelect:{values:{none:{defaultClass:"ju367v8w"}}},width:{values:{1:{defaultClass:"ju367v8x"},2:{defaultClass:"ju367v8y"},4:{defaultClass:"ju367v8z"},8:{defaultClass:"ju367v90"},12:{defaultClass:"ju367v91"},20:{defaultClass:"ju367v92"},24:{defaultClass:"ju367v93"},28:{defaultClass:"ju367v94"},30:{defaultClass:"ju367v95"},32:{defaultClass:"ju367v96"},34:{defaultClass:"ju367v97"},36:{defaultClass:"ju367v98"},40:{defaultClass:"ju367v99"},44:{defaultClass:"ju367v9a"},48:{defaultClass:"ju367v9b"},54:{defaultClass:"ju367v9c"},60:{defaultClass:"ju367v9d"},200:{defaultClass:"ju367v9e"},full:{defaultClass:"ju367v9f"},max:{defaultClass:"ju367v9g"}}},backdropFilter:{values:{modalOverlay:{defaultClass:"ju367v9h"}}}}}),$5={colors:{accentColor:"var(--rk-colors-accentColor)",accentColorForeground:"var(--rk-colors-accentColorForeground)",actionButtonBorder:"var(--rk-colors-actionButtonBorder)",actionButtonBorderMobile:"var(--rk-colors-actionButtonBorderMobile)",actionButtonSecondaryBackground:"var(--rk-colors-actionButtonSecondaryBackground)",closeButton:"var(--rk-colors-closeButton)",closeButtonBackground:"var(--rk-colors-closeButtonBackground)",connectButtonBackground:"var(--rk-colors-connectButtonBackground)",connectButtonBackgroundError:"var(--rk-colors-connectButtonBackgroundError)",connectButtonInnerBackground:"var(--rk-colors-connectButtonInnerBackground)",connectButtonText:"var(--rk-colors-connectButtonText)",connectButtonTextError:"var(--rk-colors-connectButtonTextError)",connectionIndicator:"var(--rk-colors-connectionIndicator)",downloadBottomCardBackground:"var(--rk-colors-downloadBottomCardBackground)",downloadTopCardBackground:"var(--rk-colors-downloadTopCardBackground)",error:"var(--rk-colors-error)",generalBorder:"var(--rk-colors-generalBorder)",generalBorderDim:"var(--rk-colors-generalBorderDim)",menuItemBackground:"var(--rk-colors-menuItemBackground)",modalBackdrop:"var(--rk-colors-modalBackdrop)",modalBackground:"var(--rk-colors-modalBackground)",modalBorder:"var(--rk-colors-modalBorder)",modalText:"var(--rk-colors-modalText)",modalTextDim:"var(--rk-colors-modalTextDim)",modalTextSecondary:"var(--rk-colors-modalTextSecondary)",profileAction:"var(--rk-colors-profileAction)",profileActionHover:"var(--rk-colors-profileActionHover)",profileForeground:"var(--rk-colors-profileForeground)",selectedOptionBorder:"var(--rk-colors-selectedOptionBorder)",standby:"var(--rk-colors-standby)"},fonts:{body:"var(--rk-fonts-body)"},radii:{actionButton:"var(--rk-radii-actionButton)",connectButton:"var(--rk-radii-connectButton)",menuButton:"var(--rk-radii-menuButton)",modal:"var(--rk-radii-modal)",modalMobile:"var(--rk-radii-modalMobile)"},shadows:{connectButton:"var(--rk-shadows-connectButton)",dialog:"var(--rk-shadows-dialog)",profileDetailsAction:"var(--rk-shadows-profileDetailsAction)",selectedOption:"var(--rk-shadows-selectedOption)",selectedWallet:"var(--rk-shadows-selectedWallet)",walletLogo:"var(--rk-shadows-walletLogo)"},blurs:{modalOverlay:"var(--rk-blurs-modalOverlay)"}},Ste={shrink:"_12cbo8i6",shrinkSm:"_12cbo8i7"},Cte="_12cbo8i3 ju367v8r",Tte={grow:"_12cbo8i4",growLg:"_12cbo8i5"};function Xn({active:t,hover:e}){return[Cte,e&&Tte[e],Ste[t]]}var wD=U.createContext(null);function Mte(){const{adapter:t}=U.useContext(wD)??{};if(!t)throw new Error("No authentication adapter found");return t}function Ow(){return U.useContext(wD)?.status??null}function DC(){const t=Ow(),{isConnected:e}=Rr();return e?t&&(t==="loading"||t==="unauthenticated")?t:"connected":"disconnected"}function UC(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function Ite(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function Rte(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function mu(){return Ite()||Rte()}function br(){return UC()||mu()}var Pte="iekbcc0",Nte={a:"iekbcca",blockquote:"iekbcc2",button:"iekbcc9",input:"iekbcc8 iekbcc5 iekbcc4",mark:"iekbcc6",ol:"iekbcc1",q:"iekbcc2",select:"iekbcc7 iekbcc5 iekbcc4",table:"iekbcc3",textarea:"iekbcc5 iekbcc4",ul:"iekbcc1"},kte=({reset:t,...e})=>{if(!t)return KA(e);const n=Nte[t],r=KA(e);return _L(Pte,n,r)},re=O.forwardRef(({as:t="div",className:e,testId:n,...r},i)=>{const o={},s={};for(const l in r)KA.properties.has(l)?o[l]=r[l]:s[l]=r[l];const a=kte({reset:typeof t=="string"?t:"div",...o});return O.createElement(t,{className:_L(a,e),...s,"data-testid":n?`rk-${n.replace(/^rk-/,"")}`:void 0,ref:i})});re.displayName="Box";var bD=new Map,_b=new Map;async function xD(t){const e=_b.get(t);if(e)return e;const n=async()=>t().then(async i=>(bD.set(t,i),i)),r=n().catch(i=>n().catch(o=>{_b.delete(t)}));return _b.set(t,r),r}async function Bs(...t){return await Promise.all(t.map(e=>typeof e=="function"?xD(e):e))}function Fte(){const[,t]=U.useReducer(e=>e+1,0);return t}function Lw(t){const e=typeof t=="function"?bD.get(t):void 0,n=Fte();return U.useEffect(()=>{typeof t=="function"&&!e&&xD(t).then(n)},[t,e,n]),typeof t=="function"?e:t}function vr({alt:t,background:e,borderColor:n,borderRadius:r,useAsImage:i,boxShadow:o,height:s,src:a,width:l,testId:c}){const u=mu(),d=Lw(a),f=d&&/^http/.test(d),[h,p]=U.useReducer(()=>!0,!1);return O.createElement(re,{"aria-label":t,borderRadius:r,boxShadow:o,height:typeof s=="string"?s:void 0,overflow:"hidden",position:"relative",role:"img",style:{background:e,height:typeof s=="number"?s:void 0,width:typeof l=="number"?l:void 0},width:typeof l=="string"?l:void 0,testId:c},O.createElement(re,{...f?{"aria-hidden":!0,as:"img",onLoad:p,src:d}:{"aria-hidden":!0,as:"img",src:d},height:"full",position:"absolute",...u?{WebkitUserSelect:"none"}:{},style:{WebkitTouchCallout:"none",transition:"opacity .15s linear",userSelect:"none",...!i&&f?{opacity:h?1:0}:{}},width:"full"}),n?O.createElement(re,{...typeof n=="object"&&"custom"in n?{style:{borderColor:n.custom}}:{borderColor:n},borderRadius:r,borderStyle:"solid",borderWidth:"1",height:"full",position:"relative",width:"full"}):null)}var Bte="_1luule42",Ote="_1luule43",Lte=t=>U.useMemo(()=>`${t}_${Math.round(Math.random()*1e9)}`,[t]),Gp=({height:t=21,width:e=21})=>{const n=Lte("spinner");return O.createElement("svg",{className:Bte,fill:"none",height:t,viewBox:"0 0 21 21",width:e,xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Loading"),O.createElement("clipPath",{id:n},O.createElement("path",{d:"M10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18C11.3284 18 12 18.6716 12 19.5C12 20.3284 11.3284 21 10.5 21C4.70101 21 0 16.299 0 10.5C0 4.70101 4.70101 0 10.5 0C16.299 0 21 4.70101 21 10.5C21 11.3284 20.3284 12 19.5 12C18.6716 12 18 11.3284 18 10.5C18 6.35786 14.6421 3 10.5 3Z"})),O.createElement("foreignObject",{clipPath:`url(#${n})`,height:"21",width:"21",x:"0",y:"0"},O.createElement("div",{className:Ote})))},Wt=["#FC5C54","#FFD95A","#E95D72","#6A87C8","#5FD0F3","#75C06B","#FFDD86","#5FC6D4","#FF949A","#FF8024","#9BA1A4","#EC66FF","#FF8CBC","#FF9A23","#C5DADB","#A8CE63","#71ABFF","#FFE279","#B6B1B6","#FF6780","#A575FF","#4D82FF","#FFB35A"],q5=[{color:Wt[0],emoji:""},{color:Wt[1],emoji:""},{color:Wt[2],emoji:""},{color:Wt[3],emoji:""},{color:Wt[4],emoji:""},{color:Wt[0],emoji:""},{color:Wt[5],emoji:""},{color:Wt[6],emoji:""},{color:Wt[7],emoji:""},{color:Wt[8],emoji:""},{color:Wt[9],emoji:""},{color:Wt[10],emoji:""},{color:Wt[11],emoji:""},{color:Wt[12],emoji:""},{color:Wt[13],emoji:""},{color:Wt[8],emoji:""},{color:Wt[14],emoji:""},{color:Wt[0],emoji:""},{color:Wt[8],emoji:""},{color:Wt[1],emoji:""},{color:Wt[15],emoji:""},{color:Wt[16],emoji:""},{color:Wt[17],emoji:""},{color:Wt[18],emoji:""},{color:Wt[19],emoji:""},{color:Wt[1],emoji:""},{color:Wt[20],emoji:""},{color:Wt[15],emoji:""},{color:Wt[0],emoji:""},{color:Wt[17],emoji:""},{color:Wt[4],emoji:""},{color:Wt[21],emoji:""},{color:Wt[17],emoji:""},{color:Wt[8],emoji:""},{color:Wt[22],emoji:""}];function Dte(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e|=0}return e}function Ute(t){const n=Math.abs(Dte((typeof t=="string"?t:"").toLowerCase())%q5.length);return q5[n??0]}var zte=({address:t,ensImage:e,size:n})=>{const[r,i]=U.useState(!1);U.useEffect(()=>{if(e){const a=new Image;a.src=e,a.onload=()=>i(!0)}},[e]);const{color:o,emoji:s}=U.useMemo(()=>Ute(t),[t]);return e?r?O.createElement(re,{backgroundSize:"cover",borderRadius:"full",position:"absolute",style:{backgroundImage:`url(${e})`,backgroundPosition:"center",height:n,width:n}}):O.createElement(re,{alignItems:"center",backgroundSize:"cover",borderRadius:"full",color:"modalText",display:"flex",justifyContent:"center",position:"absolute",style:{height:n,width:n}},O.createElement(Gp,null)):O.createElement(re,{alignItems:"center",display:"flex",justifyContent:"center",overflow:"hidden",style:{...!e&&{backgroundColor:o},height:n,width:n}},s)},ED=zte,AD=U.createContext(ED);function _D({address:t,imageUrl:e,loading:n,size:r}){const i=U.useContext(AD);return O.createElement(re,{"aria-hidden":!0,borderRadius:"full",overflow:"hidden",position:"relative",style:{height:`${r}px`,width:`${r}px`},userSelect:"none"},O.createElement(re,{alignItems:"center",borderRadius:"full",display:"flex",justifyContent:"center",overflow:"hidden",position:"absolute",style:{fontSize:`${Math.round(r*.55)}px`,height:`${r}px`,transform:n?"scale(0.72)":void 0,transition:".25s ease",transitionDelay:n?void 0:".1s",width:`${r}px`,willChange:"transform"},userSelect:"none"},O.createElement(i,{address:t,ensImage:e,size:r})),n&&O.createElement(re,{color:"accentColor",display:"flex",height:"full",position:"absolute",width:"full"},O.createElement(Gp,{height:"100%",width:"100%"})))}var Q5=()=>O.createElement("svg",{fill:"none",height:"7",width:"14",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Dropdown"),O.createElement("path",{d:"M12.75 1.54001L8.51647 5.0038C7.77974 5.60658 6.72026 5.60658 5.98352 5.0038L1.75 1.54001",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",xmlns:"http://www.w3.org/2000/svg"})),K5={defaultLocale:"en",locale:"en"},jte=class{constructor(t){this.listeners=new Set,this.defaultLocale=K5.defaultLocale,this.enableFallback=!1,this.locale=K5.locale,this.cachedLocales=[],this.translations={};for(const[e,n]of Object.entries(t))this.cachedLocales=[...this.cachedLocales,e],this.translations={...this.translations,...this.flattenTranslation(n,e)}}missingMessage(t){return`[missing: "${this.locale}.${t}" translation]`}flattenTranslation(t,e){const n={},r=(i,o)=>{for(const s of Object.keys(i)){const a=`${o}.${s}`,l=i[s];typeof l=="object"&&l!==null?r(l,a):n[a]=l}};return r(t,e),n}translateWithReplacements(t,e={}){let n=t;for(const r in e){const i=e[r];n=n.replace(`%{${r}}`,i)}return n}t(t,e,n){const r=`${this.locale}.${t}`,i=this.translations[r];if(!i){if(this.enableFallback){const o=`${this.defaultLocale}.${t}`,s=this.translations[o];if(s)return this.translateWithReplacements(s,e)}return n?.rawKeyIfTranslationMissing?t:this.missingMessage(t)}return this.translateWithReplacements(i,e)}isLocaleCached(t){return this.cachedLocales.includes(t)}updateLocale(t){this.locale=t,this.notifyListeners()}setTranslations(t,e){this.isLocaleCached(t)||(this.cachedLocales=[...this.cachedLocales,t],this.translations={...this.translations,...this.flattenTranslation(e,t)}),this.locale=t,this.notifyListeners()}notifyListeners(){for(const t of this.listeners)t()}onChange(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}},yo=new jte({en:JSON.parse(zA),"en-US":JSON.parse(zA)});yo.defaultLocale="en-US";yo.locale="en-US";yo.enableFallback=!0;var Hte=async t=>{switch(t){case"ar":case"ar-AR":return(await qe(async()=>{const{default:e}=await import("./ar_AR-CTNWGWSS-DlAFo0vZ.js");return{default:e}},[])).default;case"de":case"de-DE":return(await qe(async()=>{const{default:e}=await import("./de_DE-P43L3PR7-pJRS3eyz.js");return{default:e}},[])).default;case"en":case"en-US":return(await qe(async()=>{const{default:e}=await Promise.resolve().then(()=>AN);return{default:e}},void 0)).default;case"es":case"es-419":return(await qe(async()=>{const{default:e}=await import("./es_419-JBX5FS3Q-Bk-MlIq_.js");return{default:e}},[])).default;case"fr":case"fr-FR":return(await qe(async()=>{const{default:e}=await import("./fr_FR-CM2EDAQC-DvlCXiU9.js");return{default:e}},[])).default;case"hi":case"hi-IN":return(await qe(async()=>{const{default:e}=await import("./hi_IN-GYVCUYRD-CQnOa8U_.js");return{default:e}},[])).default;case"id":case"id-ID":return(await qe(async()=>{const{default:e}=await import("./id_ID-7ZWSMOOE-ZzIoBaiI.js");return{default:e}},[])).default;case"ja":case"ja-JP":return(await qe(async()=>{const{default:e}=await import("./ja_JP-CGMP6VLZ-BBxPp4Hq.js");return{default:e}},[])).default;case"ko":case"ko-KR":return(await qe(async()=>{const{default:e}=await import("./ko_KR-YCZDTF7X-4W342j3x.js");return{default:e}},[])).default;case"ms":case"ms-MY":return(await qe(async()=>{const{default:e}=await import("./ms_MY-5LHAYMS7-BUU8UB2I.js");return{default:e}},[])).default;case"pt":case"pt-BR":return(await qe(async()=>{const{default:e}=await import("./pt_BR-3JTS4PSK-Cou37HE0.js");return{default:e}},[])).default;case"ru":case"ru-RU":return(await qe(async()=>{const{default:e}=await import("./ru_RU-6J6XERHI-BEDPqa1p.js");return{default:e}},[])).default;case"th":case"th-TH":return(await qe(async()=>{const{default:e}=await import("./th_TH-STXOD4CR-DmwaGyKS.js");return{default:e}},[])).default;case"tr":case"tr-TR":return(await qe(async()=>{const{default:e}=await import("./tr_TR-P7QAUUZU-DHzPxq5a.js");return{default:e}},[])).default;case"ua":case"uk-UA":return(await qe(async()=>{const{default:e}=await import("./uk_UA-JTTBGJGQ-bEPIKyyu.js");return{default:e}},[])).default;case"vi":case"vi-VN":return(await qe(async()=>{const{default:e}=await import("./vi_VN-5XUUAVWW-DvcbUvCZ.js");return{default:e}},[])).default;case"zh":case"zh-CN":case"zh-Hans":return(await qe(async()=>{const{default:e}=await import("./zh_CN-RGMLPFEP-CPkk4IYh.js");return{default:e}},[])).default;case"zh-HK":return(await qe(async()=>{const{default:e}=await import("./zh_HK-YM3T6EI5-BYHcXtXC.js");return{default:e}},[])).default;case"zh-Hant":case"zh-TW":return(await qe(async()=>{const{default:e}=await import("./zh_TW-HAEH6VE5-r-nym7hs.js");return{default:e}},[])).default;default:return(await qe(async()=>{const{default:e}=await Promise.resolve().then(()=>AN);return{default:e}},void 0)).default}};async function X5(t){if(yo.isLocaleCached(t)){yo.updateLocale(t);return}const n=await Hte(t);yo.setTranslations(t,JSON.parse(n))}var Gte=()=>{if(typeof window<"u"&&typeof navigator<"u"){if(navigator.languages?.length)return navigator.languages[0];if(navigator.language)return navigator.language}},Zn=U.createContext({i18n:yo}),Wte=({children:t,locale:e})=>{const[n,r]=U.useState(0),i=U.useMemo(()=>Gte(),[]);U.useEffect(()=>yo.onChange(()=>{r(a=>a+1)}),[]),U.useEffect(()=>{e&&e!==yo.locale?X5(e):!e&&i&&i!==yo.locale&&X5(i)},[e,i]);const o=U.useMemo(()=>({t:(a,l)=>yo.t(a,l),i18n:yo}),[n]);return O.createElement(Zn.Provider,{value:o},t)};function SD(t){return t!=null}var Y5={iconBackground:"#7290CC",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./apechain-SX5YFU6N-q5qBv-mp.js");return{default:t}},[])).default},Sb={iconBackground:"#96bedc",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./arbitrum-WURIBY6W-CqVkHBr5.js");return{default:t}},[])).default},J5={iconBackground:"#e84141",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./avalanche-KOMJD3XY-Dsn_JPR4.js");return{default:t}},[])).default},Cb={iconBackground:"#0052ff",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./base-OAXLRA4F-CoYTVIiL.js");return{default:t}},[])).default},Tb={iconBackground:"#814625",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./berachain-NJECWIVC-DumxnFvf.js");return{default:t}},[])).default},Z5={iconBackground:"#000000",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./blast-V555OVXZ-BbhJh1tj.js");return{default:t}},[])).default},eI={iconBackground:"#ebac0e",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./bsc-N647EYR2-B2nLKXWV.js");return{default:t}},[])).default},tI={iconBackground:"#FCFF52",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./celo-GEP4TUHG-CenIBYLU.js");return{default:t}},[])).default},nI={iconBackground:"#002D74",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./cronos-HJPAQTAE-BEOvlOC4.js");return{default:t}},[])).default},Vte={iconBackground:"#A36EFD",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./degen-FQQ4XGHB-CeHTs88l.js");return{default:t}},[])).default},za={iconBackground:"#484c50",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./ethereum-RGGVA4PY-SWGOlkuk.js");return{default:t}},[])).default},rI={iconBackground:"transparent",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./flow-5FQJFCTK-CUie2reO.js");return{default:t}},[])).default},$te={iconBackground:"#04795c",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./gnosis-37ZC4RBL-B137OtHZ.js");return{default:t}},[])).default},iI={iconBackground:"#000000",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./gravity-J5YQHTYH-Bj6B0uod.js");return{default:t}},[])).default},qte={iconBackground:"#f9f7ec",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./hardhat-TX56IT5N-CV1FY-wE.js");return{default:t}},[])).default},Qte={iconBackground:"#000000",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./hyperevm-VKPAA4SA-CHwraEsx.js");return{default:t}},[])).default},oI={iconBackground:"#7132F5",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./ink-FZMYZWHG-62p-5IK5.js");return{default:t}},[])).default},sI={iconBackground:"transparent",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./kaia-65D2U3PU-JmuLQ4gC.js");return{default:t}},[])).default},Mb={iconBackground:"#ffffff",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./linea-QRMVQ5DY-DuI3vv0d.js");return{default:t}},[])).default},Ib={iconBackground:"#ffffff",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./manta-SI27YFEJ-CpVOKa06.js");return{default:t}},[])).default},aI={iconBackground:"#000000",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./mantle-CKIUT334-DR2WgqzU.js");return{default:t}},[])).default},_0={iconBackground:"#ff5a57",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./optimism-HAF2GUT7-ec6Nqxs9.js");return{default:t}},[])).default},Rb={iconBackground:"#9f71ec",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./polygon-WW6ZI7PM-DXlmm4L1.js");return{default:t}},[])).default},Kte={iconBackground:"#1273EA",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./ronin-EMCPYXZT-N-QBHZdV.js");return{default:t}},[])).default},Xte={iconBackground:"#000000",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./sanko-RHQYXGM5-OX010CbN.js");return{default:t}},[])).default},Yte={iconBackground:"#000000",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./superposition-HG6MMR2Y-bRkgatRO.js");return{default:t}},[])).default},lI={iconBackground:"#FFEEDA",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./scroll-5OBGQVOV-DJFECiai.js");return{default:t}},[])).default},cI={iconBackground:"#F50DB4",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./unichain-C5BWO2ZY-BfguYsnu.js");return{default:t}},[])).default},uI={iconBackground:"#f9f7ec",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./xdc-KJ3TDBYO-DNV6zchh.js");return{default:t}},[])).default},dI={iconBackground:"#000000",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./zetachain-TLDS5IPW-Udhyw16T.js");return{default:t}},[])).default},fI={iconBackground:"#f9f7ec",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./zksync-DH7HK5U4-Dt4usFw6.js");return{default:t}},[])).default},Pb={iconBackground:"#000000",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./zora-FYL5H3IO-iB4wygST.js");return{default:t}},[])).default},Jte={apechain:{chainId:33139,name:"ApeChain",...Y5},apechainCurtis:{chainId:33111,name:"ApeChain Curtis",...Y5},arbitrum:{chainId:42161,name:"Arbitrum",...Sb},arbitrumGoerli:{chainId:421613,...Sb},arbitrumSepolia:{chainId:421614,...Sb},avalanche:{chainId:43114,...J5},avalancheFuji:{chainId:43113,...J5},base:{chainId:8453,name:"Base",...Cb},baseGoerli:{chainId:84531,...Cb},baseSepolia:{chainId:84532,...Cb},berachain:{chainId:80094,name:"Berachain",...Tb},berachainArtio:{chainId:80085,name:"Berachain Artio",...Tb},berachainBArtio:{chainId:80084,name:"Berachain bArtio",...Tb},blast:{chainId:81457,name:"Blast",...Z5},blastSepolia:{chainId:168587773,...Z5},bsc:{chainId:56,name:"BSC",...eI},bscTestnet:{chainId:97,...eI},celo:{chainId:42220,name:"Celo",...tI},celoAlfajores:{chainId:44787,name:"Celo Alfajores",...tI},cronos:{chainId:25,...nI},cronosTestnet:{chainId:338,...nI},degen:{chainId:666666666,name:"Degen",...Vte},flow:{chainId:747,...rI},flowTestnet:{chainId:545,...rI},gnosis:{chainId:100,name:"Gnosis",...$te},goerli:{chainId:5,...za},gravity:{chainId:1625,name:"Gravity",...iI},gravitySepolia:{chainId:13505,name:"Gravity Sepolia",...iI},hardhat:{chainId:31337,...qte},holesky:{chainId:17e3,...za},hyperevm:{chainId:999,...Qte},ink:{chainId:57073,...oI},inkSepolia:{chainId:763373,...oI},kaia:{chainId:8217,name:"Kaia",...sI},kairos:{chainId:1001,name:"Kairos",...sI},kovan:{chainId:42,...za},linea:{chainId:59144,name:"Linea",...Mb},lineaGoerli:{chainId:59140,name:"Linea Goerli",...Mb},lineaSepolia:{chainId:59141,name:"Linea Sepolia",...Mb},localhost:{chainId:1337,...za},mainnet:{chainId:1,name:"Ethereum",...za},manta:{chainId:169,name:"Manta",...Ib},mantaSepolia:{chainId:3441006,...Ib},mantaTestnet:{chainId:3441005,...Ib},mantle:{chainId:5e3,...aI},mantleTestnet:{chainId:5001,...aI},optimism:{chainId:10,name:"Optimism",..._0},optimismGoerli:{chainId:420,..._0},optimismKovan:{chainId:69,..._0},optimismSepolia:{chainId:11155420,..._0},polygon:{chainId:137,name:"Polygon",...Rb},polygonAmoy:{chainId:80002,...Rb},polygonMumbai:{chainId:80001,...Rb},rinkeby:{chainId:4,...za},ronin:{chainId:2020,...Kte},ropsten:{chainId:3,...za},sanko:{chainId:1996,name:"Sanko",...Xte},scroll:{chainId:534352,...lI},scrollSepolia:{chainId:534351,...lI},sepolia:{chainId:11155111,...za},superposition:{chainId:55244,name:"Superposition",...Yte},unichain:{chainId:130,...cI},unichainSepolia:{chainId:1301,...cI},xdc:{chainId:50,name:"XDC",...uI},xdcTestnet:{chainId:51,...uI},zetachain:{chainId:7e3,name:"ZetaChain",...dI},zetachainAthensTestnet:{chainId:7001,name:"Zeta Athens",...dI},zkSync:{chainId:324,name:"zkSync",...fI},zkSyncTestnet:{chainId:280,...fI},zora:{chainId:7777777,name:"Zora",...Pb},zoraSepolia:{chainId:999999999,...Pb},zoraTestnet:{chainId:999,...Pb}},Zte=Object.fromEntries(Object.values(Jte).filter(SD).map(({chainId:t,...e})=>[t,e])),ene=t=>t.map(e=>{const n=Zte[e.id]??{};return{...e,name:n.name??e.name,iconUrl:e.iconUrl??n.iconUrl,iconBackground:e.iconBackground??n.iconBackground}}),zC=U.createContext({chains:[]});function tne({children:t,initialChain:e}){const{chains:n}=cr();return O.createElement(zC.Provider,{value:U.useMemo(()=>({chains:ene(n),initialChainId:typeof e=="number"?e:e?.id}),[n,e])},t)}var gu=()=>U.useContext(zC).chains,nne=()=>U.useContext(zC).initialChainId,rne=()=>{const t=gu();return U.useMemo(()=>{const e={};for(const n of t)e[n.id]=n;return e},[t])},CD=U.createContext({showBalance:void 0,setShowBalance:()=>{}});function ine({children:t}){const[e,n]=U.useState();return O.createElement(CD.Provider,{value:{showBalance:e,setShowBalance:n}},t)}var TD=()=>U.useContext(CD);function one(){const[t,e]=U.useState(!1);return U.useEffect(()=>(e(!0),()=>{e(!1)}),[]),U.useCallback(()=>t,[t])}function MD(){const t=gu(),e=pu.id;return t.some(r=>r.id===e)}function sne(t){const e=MD(),n=i=>{try{return oee(i)}catch{}},{data:r}=cZ({chainId:pu.id,name:t?n(t):void 0,query:{enabled:e}});return r}async function Wl(t,e){if(e={headers:{},method:"get",...e,timeout:e.timeout??1e4},!t)throw new Error("rainbowFetch: Missing url argument");const n=new AbortController,r=setTimeout(()=>n.abort(),e.timeout),{body:i,params:o,headers:s,...a}=e,l=i&&typeof i=="object"?JSON.stringify(e.body):e.body,c=await fetch(`${t}${lne(o)}`,{...a,body:l,headers:{Accept:"application/json","Content-Type":"application/json",...s},signal:n.signal});clearTimeout(r);const u=await ane(c);if(c.ok){const{headers:h,status:p}=c;return{data:u,headers:h,status:p}}throw cne({requestBody:i,response:c,responseBody:typeof u=="string"?{error:u}:u})}function ane(t){return t.headers.get("Content-Type")?.startsWith("application/json")?t.json():t.text()}function lne(t){return t&&Object.keys(t).length?`?${new URLSearchParams(t)}`:""}function cne({requestBody:t,response:e,responseBody:n}){const r=n?.error||e?.statusText||"There was an error with the request.",i=new Error(r);return i.response=e,i.responseBody=n,i.requestBody=t,i}var une=class{constructor(t={}){const{baseUrl:e="",...n}=t;this.baseUrl=e,this.opts=n}get(t,e){return Wl(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"get"})}delete(t,e){return Wl(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"delete"})}head(t,e){return Wl(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"head"})}options(t,e){return Wl(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"options"})}post(t,e,n){return Wl(`${this.baseUrl}${t}`,{...this.opts,...n||{},body:e,method:"post"})}put(t,e,n){return Wl(`${this.baseUrl}${t}`,{...this.opts,...n||{},body:e,method:"put"})}patch(t,e,n){return Wl(`${this.baseUrl}${t}`,{...this.opts,...n||{},body:e,method:"patch"})}};function dne({baseUrl:t,headers:e,params:n,timeout:r}){return new une({baseUrl:t,headers:e,params:n,timeout:r})}var fne=!!(typeof process<"u"&&typeof Xy<"u"&&Xy.RAINBOW_PROVIDER_API_KEY),hne=dne({baseUrl:"https://enhanced-provider.rainbow.me",headers:{"x-api-key":typeof process<"u"&&typeof Xy<"u"&&Xy.RAINBOW_PROVIDER_API_KEY||"LzbasoBiLqltex3VkcQ7LRmL4PtfiiZ1EMJrizrgfonWN6byJReu/l6yrUoo3zLW"}});function pne(t,e,n={}){return[t,e,n]}function Gg(t){return`rk-ens-name-${t}`}function mne(t){try{const e=t?JSON.parse(t):null;return typeof e=="object"?e:null}catch{return null}}function gne(t,e){if(!Jn(t))return;const n=new Date,r=new Date(n.getTime()+180*6e4);localStorage.setItem(Gg(t),JSON.stringify({ensName:e,expires:r.getTime()}))}function yne(t){const e=mne(localStorage.getItem(Gg(t)));if(!e)return null;const{ensName:n,expires:r}=e;return typeof n!="string"||Number.isNaN(Number(r))||new Date().getTime()>Number(r)?(localStorage.removeItem(Gg(t)),null):n}async function vne({address:t}){const e=yne(t);if(e)return e;const r=(await hne.get("/v1/resolve-ens",{params:{address:t}})).data.data;return r&&gne(t,r),r}function wne(t){const e=MD(),{data:n}=uZ({chainId:pu.id,address:t,query:{enabled:e}}),{data:r}=fL({queryKey:pne("address",t),queryFn:()=>vne({address:t}),enabled:!e&&!!t&&fne,staleTime:10*(60*1e3),retry:1});return n||r}function ID({address:t,includeBalance:e}){const n=wne(t),r=sne(n),{data:i}=hL({address:e?t:void 0});return{ensName:n,ensAvatar:r,balance:i}}function jC(){const{chain:t}=Rr();return t?.id??null}var RD="rk-transactions";function bne(t){try{const e=t?JSON.parse(t):{};return typeof e=="object"?e:{}}catch{return{}}}function hI(){return bne(typeof localStorage<"u"?localStorage.getItem(RD):null)}var xne=/^0x([A-Fa-f0-9]{64})$/;function Ene(t){const e=[];return xne.test(t.hash)||e.push("Invalid transaction hash"),typeof t.description!="string"&&e.push("Transaction must have a description"),typeof t.confirmations<"u"&&(!Number.isInteger(t.confirmations)||t.confirmations<1)&&e.push("Transaction confirmations must be a positiver integer"),e}function Ane({provider:t}){let e=hI(),n=t;const r=new Set,i=new Set,o=new Map;function s(v){n=v}function a(v,b){return e[v]?.[b]??[]}function l(v,b,x){const P=Ene(x);if(P.length>0)throw new Error(["Unable to add transaction",...P].join(`
`));f(v,b,N=>[{...x,status:"pending"},...N.filter(({hash:_})=>_!==x.hash)])}function c(v,b){f(v,b,()=>[])}function u(v,b,x,P){f(v,b,N=>N.map(_=>_.hash===x?{..._,status:P}:_))}async function d(v,b){await Promise.all(a(v,b).filter(x=>x.status==="pending").map(async x=>{const{confirmations:P,hash:N}=x,_=o.get(N);if(_)return await _;const D=n.waitForTransactionReceipt({confirmations:P,hash:N,timeout:3e5}).then(({status:T})=>{o.delete(N),T!==void 0&&(u(v,b,N,T===0||T==="reverted"?"failed":"confirmed"),m(T))}).catch(()=>{u(v,b,N,"failed")});return o.set(N,D),await D}))}function f(v,b,x){e=hI(),e[v]=e[v]??{};let P=0;const N=10,_=x(e[v][b]??[]).filter(({status:D})=>D==="pending"?!0:P++<=N);e[v][b]=_.length>0?_:void 0,h(),p(),d(v,b)}function h(){localStorage.setItem(RD,JSON.stringify(e))}function p(){for(const v of r)v()}function m(v){for(const b of i)b(v)}function y(v){return r.add(v),()=>{r.delete(v)}}function g(v){return i.add(v),()=>{i.delete(v)}}return{addTransaction:l,clearTransactions:c,getTransactions:a,onTransactionStatus:g,onChange:y,setProvider:s,waitForPendingTransactions:d}}var pI,PD=O.createContext(null);function _ne({children:t}){const e=MC(),{address:n}=Rr(),r=jC(),{refetch:i}=hL({address:n,query:{enabled:!1}}),[o]=O.useState(()=>pI??(pI=Ane({provider:e}))),s=O.useCallback(a=>{a==="success"&&i()},[i]);return O.useEffect(()=>{o.setProvider(e)},[o,e]),O.useEffect(()=>{n&&r&&o.waitForPendingTransactions(n,r)},[o,n,r]),O.useEffect(()=>{if(o&&n&&r)return o.onTransactionStatus(s)},[o,n,r,s]),O.createElement(PD.Provider,{value:o},t)}function ND(){const t=O.useContext(PD);if(!t)throw new Error("Transaction hooks must be used within RainbowKitProvider");return t}function kD(){const t=ND(),{address:e}=Rr(),n=jC(),[r,i]=U.useState(()=>t&&e&&n?t.getTransactions(e,n):[]);return U.useEffect(()=>{if(t&&e&&n)return i(t.getTransactions(e,n)),t.onChange(()=>{i(t.getTransactions(e,n))})},[t,e,n]),r}var mI=t=>typeof t=="function"?t():t;function Sne(t,{extends:e}={}){const n={...L5($5,mI(t))};if(!e)return n;const r=L5($5,mI(e));return Object.fromEntries(Object.entries(n).filter(([o,s])=>s!==r[o]))}function gI(t,e={}){return Object.entries(Sne(t,e)).map(([n,r])=>`${n}:${r.replace(/[:;{}</>]/g,"")};`).join("")}var FD={appName:void 0,disclaimer:void 0,learnMoreUrl:"https://learn.rainbow.me/understanding-web3?utm_source=rainbowkit&utm_campaign=learnmore"},Im=U.createContext(FD),BD=U.createContext(!1);function Cne(t,e){let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,t()},e)}}var OD=()=>{const[t,e]=U.useState({height:void 0,width:void 0});return U.useEffect(()=>{const n=Cne(()=>{e({height:window.innerHeight,width:window.innerWidth})},500);return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t},Rm=U.createContext({connector:null,setConnector:()=>{}});function Tne({children:t}){const[e,n]=U.useState(null);return O.createElement(Rm.Provider,{value:U.useMemo(()=>({connector:e,setConnector:n}),[e])},t)}var Pm={COMPACT:"compact",WIDE:"wide"},Dw=U.createContext(Pm.WIDE);function Mne({children:t,modalSize:e}){const{width:n}=OD(),r=n&&n<_te,{connector:i}=U.useContext(Rm);return O.createElement(Dw.Provider,{value:r||i?Pm.COMPACT:e},t)}var HC=U.createContext(!1),Ine="rk-version";function Rne({version:t}){localStorage.setItem(Ine,t)}function Pne(){const t=U.useCallback(()=>{Rne({version:"2.2.7"})},[]);U.useEffect(()=>{t()},[t])}function Nne(t,e){const n={};for(const r of t){const i=e(r);i&&(n[i]=r)}return n}function GC(){return typeof navigator<"u"&&typeof navigator.userAgent<"u"&&/Version\/([0-9._]+).*Safari/.test(navigator.userAgent)}function kne(){return typeof document<"u"&&getComputedStyle(document.body).getPropertyValue("--arc-palette-focus")!==""}function WC(){if(typeof navigator>"u")return"Browser";const t=navigator.userAgent?.toLowerCase();return navigator.brave?.isBrave?"Brave":t?.indexOf("edg/")>-1?"Edge":t?.indexOf("op")>-1?"Opera":kne()?"Arc":t?.indexOf("chrome")>-1?"Chrome":t?.indexOf("firefox")>-1?"Firefox":GC()?"Safari":"Browser"}var Fne=nte.UAParser(),{os:VC}=Fne;function Bne(){return VC.name==="Windows"}function One(){return VC.name==="Mac OS"}function Lne(){return["Ubuntu","Mint","Fedora","Debian","Arch","Linux"].includes(VC.name)}function $C(){return Bne()?"Windows":One()?"macOS":Lne()?"Linux":"Desktop"}var Dne=t=>{const e=WC();return{Arc:t?.downloadUrls?.chrome,Brave:t?.downloadUrls?.chrome,Chrome:t?.downloadUrls?.chrome,Edge:t?.downloadUrls?.edge||t?.downloadUrls?.chrome,Firefox:t?.downloadUrls?.firefox,Opera:t?.downloadUrls?.opera||t?.downloadUrls?.chrome,Safari:t?.downloadUrls?.safari,Browser:t?.downloadUrls?.browserExtension}[e]??t?.downloadUrls?.browserExtension},Une=t=>(mu()?t?.downloadUrls?.ios:t?.downloadUrls?.android)??t?.downloadUrls?.mobile,zne=t=>{const e=$C();return{Windows:t?.downloadUrls?.windows,macOS:t?.downloadUrls?.macos,Linux:t?.downloadUrls?.linux,Desktop:t?.downloadUrls?.desktop}[e]??t?.downloadUrls?.desktop},LD=(t,e)=>t.some(n=>n.id===e),jne=t=>!!t.isRainbowKitConnector,yI=t=>!!(!t.isRainbowKitConnector&&t.icon?.replace(/\n/g,"").startsWith("data:image")&&t.uid&&t.name),Hne=(t,e)=>t.id==="walletConnect"&&e?{...t,walletConnectModalConnector:e}:t,Gne=({wallets:t,recentWallets:e})=>[...e,...t.filter(n=>!LD(e,n.id))],DD="rk-recent";function Wne(t){try{const e=t?JSON.parse(t):[];return Array.isArray(e)?e:[]}catch{return[]}}function UD(){return typeof localStorage<"u"?Wne(localStorage.getItem(DD)):[]}function Vne(t){return[...new Set(t)]}function $ne(t){const e=Vne([t,...UD()]);localStorage.setItem(DD,JSON.stringify(e))}function Wp(t=!1){const e=gu(),n=nne(),{connectAsync:r,connectors:i}=aZ(),o=i,{setIsWalletConnectModalOpen:s}=uU(),a=o.map(x=>({...x,...x.rkDetails||{}}));async function l(x){const P=await x.getChainId(),N=await r({chainId:n??e.find(({id:_})=>_===P)?.id??e[0]?.id,connector:x});return N&&$ne(x.id),N}async function c(x){try{s(!0),await l(x),s(!1)}catch(P){const N=P.name==="UserRejectedRequestError"||P.message==="Connection request reset. Please try again.";if(s(!1),!N)throw P}}const u=async(x,P)=>{const N=await x.getProvider();return x.id==="coinbase"?N.qrUrl:new Promise(_=>N.once("display_uri",D=>{_(P(D))}))},d=a.find(x=>x.id==="walletConnect"&&x.isWalletConnectModalConnector),f=a.filter(yI).map(x=>({...x,groupIndex:0})),h=a.filter(jne).filter(x=>!x.isWalletConnectModalConnector).filter(x=>t?!f.some(N=>N.id===x.rdns):!0).map(x=>Hne(x,d)),p=[...f,...h],m=Nne(p,x=>x.id),g=UD().map(x=>m[x]).filter(Boolean).slice(0,3),v=[],b=Gne({wallets:p,recentWallets:g});for(const x of b){if(!x)continue;const P=yI(x),N=LD(g,x.id);if(P){v.push({...x,iconUrl:x.icon,ready:!0,connect:()=>l(x),groupName:"Installed",recent:N});continue}v.push({...x,ready:x.installed??!0,connect:()=>l(x),desktopDownloadUrl:zne(x),extensionDownloadUrl:Dne(x),groupName:x.groupName,mobileDownloadUrl:Une(x),getQrCodeUri:x.qrCode?.getUri?()=>u(x,x.qrCode.getUri):void 0,getDesktopUri:x.desktop?.getUri?()=>u(x,x.desktop.getUri):void 0,getMobileUri:x.mobile?.getUri?()=>u(x,x.mobile?.getUri):void 0,recent:N,showWalletConnectModal:x.walletConnectModalConnector?()=>c(x.walletConnectModalConnector):void 0})}return v}var zD=async()=>(await qe(async()=>{const{default:t}=await import("./assets-Q6ZU7ZJ5-P8HioiAD.js");return{default:t}},[])).default,qne=()=>Bs(zD),Qne=()=>O.createElement(vr,{background:"#d0d5de",borderRadius:"10",height:"48",src:zD,width:"48"}),jD=async()=>(await qe(async()=>{const{default:t}=await import("./login-UP3DZBGS-Db_wM5oQ.js");return{default:t}},[])).default,Kne=()=>Bs(jD),Xne=()=>O.createElement(vr,{background:"#d0d5de",borderRadius:"10",height:"48",src:jD,width:"48"}),At=O.forwardRef(({as:t="div",children:e,className:n,color:r,display:i,font:o="body",id:s,size:a="16",style:l,tabIndex:c,textAlign:u="inherit",weight:d="regular",testId:f},h)=>O.createElement(re,{as:t,className:n,color:r,display:i,fontFamily:o,fontSize:a,fontWeight:d,id:s,ref:h,style:l,tabIndex:c,textAlign:u,testId:f},e));At.displayName="Text";var Yne={large:{fontSize:"16",paddingX:"24",paddingY:"10"},medium:{fontSize:"14",height:"28",paddingX:"12",paddingY:"4"},small:{fontSize:"14",paddingX:"10",paddingY:"5"}};function ii({disabled:t=!1,href:e,label:n,onClick:r,rel:i="noreferrer noopener",size:o="medium",target:s="_blank",testId:a,type:l="primary"}){const c=l==="primary",u=o!=="large",d=br(),f=t?"actionButtonSecondaryBackground":c?"accentColor":u?"actionButtonSecondaryBackground":null,{fontSize:h,height:p,paddingX:m,paddingY:y}=Yne[o],g=!d||!u;return O.createElement(re,{...e?t?{}:{as:"a",href:e,rel:i,target:s}:{as:"button",type:"button"},onClick:t?void 0:r,...g?{borderColor:d&&!u&&!c?"actionButtonBorderMobile":"actionButtonBorder",borderStyle:"solid",borderWidth:"1"}:{},borderRadius:"actionButton",className:!t&&Xn({active:"shrinkSm",hover:"grow"}),display:"block",paddingX:m,paddingY:y,style:{willChange:"transform"},testId:a,textAlign:"center",transition:"transform",...f?{background:f}:{},...p?{height:p}:{}},O.createElement(At,{color:t?"modalTextSecondary":c?"accentColorForeground":"accentColor",size:h,weight:"bold"},n))}var Jne=()=>br()?O.createElement("svg",{"aria-hidden":!0,fill:"none",height:"11.5",viewBox:"0 0 11.5 11.5",width:"11.5",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Close"),O.createElement("path",{d:"M2.13388 0.366117C1.64573 -0.122039 0.854272 -0.122039 0.366117 0.366117C-0.122039 0.854272 -0.122039 1.64573 0.366117 2.13388L3.98223 5.75L0.366117 9.36612C-0.122039 9.85427 -0.122039 10.6457 0.366117 11.1339C0.854272 11.622 1.64573 11.622 2.13388 11.1339L5.75 7.51777L9.36612 11.1339C9.85427 11.622 10.6457 11.622 11.1339 11.1339C11.622 10.6457 11.622 9.85427 11.1339 9.36612L7.51777 5.75L11.1339 2.13388C11.622 1.64573 11.622 0.854272 11.1339 0.366117C10.6457 -0.122039 9.85427 -0.122039 9.36612 0.366117L5.75 3.98223L2.13388 0.366117Z",fill:"currentColor"})):O.createElement("svg",{"aria-hidden":!0,fill:"none",height:"10",viewBox:"0 0 10 10",width:"10",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Close"),O.createElement("path",{d:"M1.70711 0.292893C1.31658 -0.0976311 0.683417 -0.0976311 0.292893 0.292893C-0.0976311 0.683417 -0.0976311 1.31658 0.292893 1.70711L3.58579 5L0.292893 8.29289C-0.0976311 8.68342 -0.0976311 9.31658 0.292893 9.70711C0.683417 10.0976 1.31658 10.0976 1.70711 9.70711L5 6.41421L8.29289 9.70711C8.68342 10.0976 9.31658 10.0976 9.70711 9.70711C10.0976 9.31658 10.0976 8.68342 9.70711 8.29289L6.41421 5L9.70711 1.70711C10.0976 1.31658 10.0976 0.683417 9.70711 0.292893C9.31658 -0.0976311 8.68342 -0.0976311 8.29289 0.292893L5 3.58579L1.70711 0.292893Z",fill:"currentColor"})),Yc=({"aria-label":t="Close",onClose:e})=>{const n=br();return O.createElement(re,{alignItems:"center","aria-label":t,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:n?"0":"1",className:Xn({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:n?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:n?"30":"28"},O.createElement(Jne,null))},HD=async()=>(await qe(async()=>{const{default:t}=await import("./sign-A7IJEUT5-CGsRnPrd.js");return{default:t}},[])).default;function Zne({onClose:t,onCloseModal:e}){const{i18n:n}=U.useContext(Zn),[{status:r,...i},o]=O.useState({status:"idle"}),s=Mte(),a=U.useCallback(async()=>{try{const p=await s.getNonce();o(m=>({...m,nonce:p}))}catch{o(p=>({...p,errorMessage:n.t("sign_in.message.preparing_error"),status:"idle"}))}},[s,n.t]),l=U.useRef(!1);O.useEffect(()=>{l.current||(l.current=!0,a())},[a]);const c=br(),{address:u,chain:d}=Rr(),{signMessageAsync:f}=dZ(),h=async()=>{try{const p=d?.id,{nonce:m}=i;if(!u||!p||!m)return;o(v=>({...v,errorMessage:void 0,status:"signing"}));const y=s.createMessage({address:u,chainId:p,nonce:m});let g;try{g=await f({message:y})}catch(v){return v instanceof wn?o(b=>({...b,status:"idle"})):o(b=>({...b,errorMessage:n.t("sign_in.signature.signing_error"),status:"idle"}))}o(v=>({...v,status:"verifying"}));try{if(await s.verify({message:y,signature:g})){e();return}throw new Error}catch{return o(v=>({...v,errorMessage:n.t("sign_in.signature.verifying_error"),status:"idle"}))}}catch{o({errorMessage:n.t("sign_in.signature.oops_error"),status:"idle"})}};return O.createElement(re,{position:"relative"},O.createElement(re,{display:"flex",paddingRight:"16",paddingTop:"16",position:"absolute",right:"0"},O.createElement(Yc,{onClose:t})),O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"32":"24",padding:"24",paddingX:"18",style:{paddingTop:c?"60px":"36px"}},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"6":"4",style:{maxWidth:c?320:280}},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"32":"16"},O.createElement(vr,{height:40,src:HD,width:40}),O.createElement(At,{color:"modalText",size:c?"20":"18",textAlign:"center",weight:"heavy"},n.t("sign_in.label"))),O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"16":"12"},O.createElement(At,{color:"modalTextSecondary",size:c?"16":"14",textAlign:"center"},n.t("sign_in.description")),r==="idle"&&i.errorMessage?O.createElement(At,{color:"error",size:c?"16":"14",textAlign:"center",weight:"bold"},i.errorMessage):null)),O.createElement(re,{alignItems:c?void 0:"center",display:"flex",flexDirection:"column",gap:"8",width:"full"},O.createElement(ii,{disabled:!i.nonce||r==="signing"||r==="verifying",label:i.nonce?r==="signing"?n.t("sign_in.signature.waiting"):r==="verifying"?n.t("sign_in.signature.verifying"):n.t("sign_in.message.send"):n.t("sign_in.message.preparing"),onClick:h,size:c?"large":"medium",testId:"auth-message-button"}),c?O.createElement(ii,{label:"Cancel",onClick:t,size:"large",type:"secondary"}):O.createElement(re,{as:"button",borderRadius:"full",className:Xn({active:"shrink",hover:"grow"}),display:"block",onClick:t,paddingX:"10",paddingY:"5",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},O.createElement(At,{color:"closeButton",size:c?"16":"14",weight:"bold"},n.t("sign_in.message.cancel"))))))}function ere(){const t=gu(),e=Wp(),n=Ow()==="unauthenticated",r=U.useCallback(()=>{Bs(...e.map(i=>i.iconUrl),...t.map(i=>i.iconUrl).filter(SD)),br()||(qne(),Kne()),n&&Bs(HD)},[e,t,n]);U.useEffect(()=>{r()},[r])}var GD="WALLETCONNECT_DEEPLINK_CHOICE";function tre({mobileUri:t,name:e}){localStorage.setItem(GD,JSON.stringify({href:t.split("?")[0],name:e}))}function nre(){localStorage.removeItem(GD)}var WD=U.createContext(void 0),XA="data-rk",VD=t=>({[XA]:t||""}),rre=t=>{if(t&&!/^[a-zA-Z0-9_]+$/.test(t))throw new Error(`Invalid ID: ${t}`);return t?`[${XA}="${t}"]`:`[${XA}]`},ire=()=>{const t=U.useContext(WD);return VD(t)},ore=bL();function sre({appInfo:t,avatar:e,children:n,coolMode:r=!1,id:i,initialChain:o,locale:s,modalSize:a=Pm.WIDE,showRecentTransactions:l=!1,theme:c=ore}){if(ere(),Pne(),ZO({onDisconnect:nre}),typeof c=="function")throw new Error('A theme function was provided to the "theme" prop instead of a theme object. You must execute this function to get the resulting theme object.');const u=rre(i),d={...FD,...t},f=e??ED;return O.createElement(tne,{initialChain:o},O.createElement(Tne,null,O.createElement(Wte,{locale:s},O.createElement(BD.Provider,{value:r},O.createElement(Mne,{modalSize:a},O.createElement(HC.Provider,{value:l},O.createElement(_ne,null,O.createElement(AD.Provider,{value:f},O.createElement(Im.Provider,{value:d},O.createElement(WD.Provider,{value:i},O.createElement(ine,null,O.createElement(bie,null,c?O.createElement("div",{...VD(i)},O.createElement("style",{dangerouslySetInnerHTML:{__html:[`${u}{${gI("lightMode"in c?c.lightMode:c)}}`,"darkMode"in c?`@media(prefers-color-scheme:dark){${u}{${gI(c.darkMode,{extends:c.lightMode})}}}`:null].join("")}}),n):n))))))))))))}var are="_9pm4ki5 ju367va ju367v15 ju367v8r",lre="_9pm4ki3 ju367v9h ju367vb3 ju367va ju367v2q ju367v8q",vI=(t,e)=>{const n=t.querySelectorAll("button:not(:disabled), a[href]");n.length!==0&&n[e==="end"?n.length-1:0].focus()};function cre(t){const e=U.useRef(null);return U.useEffect(()=>{const n=document.activeElement;return()=>{n.focus?.()}},[]),U.useEffect(()=>{if(e.current){const n=e.current.querySelector("[data-auto-focus]");n?n.focus():e.current.focus()}},[]),O.createElement(O.Fragment,null,O.createElement("div",{onFocus:U.useCallback(()=>e.current&&vI(e.current,"end"),[]),tabIndex:0}),O.createElement("div",{ref:e,style:{outline:"none"},tabIndex:-1,...t}),O.createElement("div",{onFocus:U.useCallback(()=>e.current&&vI(e.current,"start"),[]),tabIndex:0}))}var ure=t=>t.stopPropagation();function Yy({children:t,onClose:e,open:n,titleId:r}){U.useEffect(()=>{const c=u=>n&&u.key==="Escape"&&e();return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[n,e]);const[i,o]=U.useState(!0);U.useEffect(()=>{o(getComputedStyle(window.document.body).overflow!=="hidden")},[]);const s=U.useCallback(()=>e(),[e]),a=ire(),l=br();return O.createElement(O.Fragment,null,n?Jv.createPortal(O.createElement(gD,{enabled:i},O.createElement(re,{...a},O.createElement(re,{...a,alignItems:l?"flex-end":"center","aria-labelledby":r,"aria-modal":!0,className:lre,onClick:s,position:"fixed",role:"dialog"},O.createElement(cre,{className:are,onClick:ure,role:"document"},t)))),document.body):null)}var dre="_1ckjpok7",fre="_1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",hre="_1ckjpok4 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",pre="_1ckjpok6 ju367vq",mre="_1ckjpok3 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",gre="_1ckjpok2 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r";function Jy({bottomSheetOnMobile:t=!1,children:e,marginTop:n,padding:r="16",paddingBottom:i,wide:o=!1}){const s=br(),l=U.useContext(Dw)===Pm.COMPACT;return O.createElement(re,{marginTop:n},O.createElement(re,{className:[o?s?gre:l?hre:mre:fre,s?pre:null,s&&t?dre:null].join(" ")},O.createElement(re,{padding:r,paddingBottom:i??r},e)))}var wI=["k","m","b","t"];function S0(t,e=1){return t.toString().replace(new RegExp(`(.+\\.\\d{${e}})\\d+`),"$1").replace(/(\.[1-9]*)0+$/,"$1").replace(/\.$/,"")}function $D(t){if(t<1)return S0(t,3);if(t<10**2)return S0(t,2);if(t<10**4)return new Intl.NumberFormat().format(Number.parseFloat(S0(t,1)));const e=10**1;let n=String(t);for(let r=wI.length-1;r>=0;r--){const i=10**((r+1)*3);if(i<=t){t=t*e/i/e,n=S0(t,1)+wI[r];break}}return n}function qD(t){return t.length<8?t:`${t.substring(0,4)}${t.substring(t.length-4)}`}function QD(t){if(!t)return"";const e=t.split("."),n=e.pop();return e.join(".").length>24?`${e.join(".").substring(0,24)}...`:`${e.join(".")}.${n}`}var yre=()=>O.createElement("svg",{fill:"none",height:"13",viewBox:"0 0 13 13",width:"13",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Copied"),O.createElement("path",{d:"M4.94568 12.2646C5.41052 12.2646 5.77283 12.0869 6.01892 11.7109L12.39 1.96973C12.5677 1.69629 12.6429 1.44336 12.6429 1.2041C12.6429 0.561523 12.1644 0.0966797 11.5082 0.0966797C11.057 0.0966797 10.7767 0.260742 10.5033 0.691406L4.9115 9.50977L2.07458 5.98926C1.82166 5.68848 1.54822 5.55176 1.16541 5.55176C0.502319 5.55176 0.0238037 6.02344 0.0238037 6.66602C0.0238037 6.95312 0.112671 7.20605 0.358765 7.48633L3.88611 11.7588C4.18005 12.1074 4.50818 12.2646 4.94568 12.2646Z",fill:"currentColor"})),vre=()=>O.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 17 16",width:"17",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Copy"),O.createElement("path",{d:"M3.04236 12.3027H4.18396V13.3008C4.18396 14.8525 5.03845 15.7002 6.59705 15.7002H13.6244C15.183 15.7002 16.0375 14.8525 16.0375 13.3008V6.24609C16.0375 4.69434 15.183 3.84668 13.6244 3.84668H12.4828V2.8418C12.4828 1.29688 11.6283 0.442383 10.0697 0.442383H3.04236C1.48376 0.442383 0.629272 1.29004 0.629272 2.8418V9.90332C0.629272 11.4551 1.48376 12.3027 3.04236 12.3027ZM3.23376 10.5391C2.68689 10.5391 2.39294 10.2656 2.39294 9.68457V3.06055C2.39294 2.47949 2.68689 2.21289 3.23376 2.21289H9.8783C10.4252 2.21289 10.7191 2.47949 10.7191 3.06055V3.84668H6.59705C5.03845 3.84668 4.18396 4.69434 4.18396 6.24609V10.5391H3.23376ZM6.78845 13.9365C6.24158 13.9365 5.94763 13.6699 5.94763 13.0889V6.45801C5.94763 5.87695 6.24158 5.61035 6.78845 5.61035H13.433C13.9799 5.61035 14.2738 5.87695 14.2738 6.45801V13.0889C14.2738 13.6699 13.9799 13.9365 13.433 13.9365H6.78845Z",fill:"currentColor"})),wre=()=>O.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 18 16",width:"18",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Disconnect"),O.createElement("path",{d:"M2.67834 15.5908H9.99963C11.5514 15.5908 12.399 14.7432 12.399 13.1777V10.2656H10.6354V12.9863C10.6354 13.5332 10.3688 13.8271 9.78772 13.8271H2.89026C2.3092 13.8271 2.0426 13.5332 2.0426 12.9863V3.15625C2.0426 2.60254 2.3092 2.30859 2.89026 2.30859H9.78772C10.3688 2.30859 10.6354 2.60254 10.6354 3.15625V5.89746H12.399V2.95801C12.399 1.39941 11.5514 0.544922 9.99963 0.544922H2.67834C1.12659 0.544922 0.278931 1.39941 0.278931 2.95801V13.1777C0.278931 14.7432 1.12659 15.5908 2.67834 15.5908ZM7.43616 8.85059H14.0875L15.0924 8.78906L14.566 9.14453L13.6842 9.96484C13.5406 10.1016 13.4586 10.2861 13.4586 10.4844C13.4586 10.8398 13.7321 11.168 14.1217 11.168C14.3199 11.168 14.4635 11.0928 14.6002 10.9561L16.7809 8.68652C16.986 8.48145 17.0543 8.27637 17.0543 8.06445C17.0543 7.85254 16.986 7.64746 16.7809 7.43555L14.6002 5.17285C14.4635 5.03613 14.3199 4.9541 14.1217 4.9541C13.7321 4.9541 13.4586 5.27539 13.4586 5.6377C13.4586 5.83594 13.5406 6.02734 13.6842 6.15723L14.566 6.98438L15.0924 7.33984L14.0875 7.27148H7.43616C7.01917 7.27148 6.65686 7.62012 6.65686 8.06445C6.65686 8.50195 7.01917 8.85059 7.43616 8.85059Z",fill:"currentColor"}));function bre(){const t=ND(),{address:e}=Rr(),n=jC();return U.useCallback(()=>{if(!e||!n)throw new Error("No address or chain ID found");t.clearTransactions(e,n)},[t,e,n])}var KD=t=>t?.blockExplorers?.default?.url,XD=()=>O.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Link"),O.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM12.7158 12.1416C13.2432 12.1416 13.5684 11.7549 13.5684 11.1836V7.19336C13.5684 6.44629 13.1377 6.05957 12.417 6.05957H8.40918C7.8291 6.05957 7.45117 6.38477 7.45117 6.91211C7.45117 7.43945 7.8291 7.77344 8.40918 7.77344H9.69238L10.7207 7.63281L9.53418 8.67871L6.73047 11.4912C6.53711 11.6758 6.41406 11.9395 6.41406 12.2031C6.41406 12.7832 6.85352 13.1699 7.39844 13.1699C7.68848 13.1699 7.92578 13.0732 8.1543 12.8623L10.9316 10.0762L11.9775 8.89844L11.8545 9.98828V11.1836C11.8545 11.7725 12.1885 12.1416 12.7158 12.1416Z",fill:"currentColor"})),xre=()=>O.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Cancel"),O.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM7.29297 13.3018C7.58301 13.3018 7.81152 13.2139 7.99609 13.0205L10 11.0166L12.0127 13.0205C12.1973 13.2051 12.4258 13.3018 12.707 13.3018C13.2432 13.3018 13.6562 12.8887 13.6562 12.3525C13.6562 12.0977 13.5508 11.8691 13.3662 11.6934L11.3535 9.67188L13.375 7.6416C13.5596 7.44824 13.6562 7.22852 13.6562 6.98242C13.6562 6.44629 13.2432 6.0332 12.7158 6.0332C12.4346 6.0332 12.2148 6.12109 12.0215 6.31445L10 8.32715L7.9873 6.32324C7.80273 6.12988 7.58301 6.04199 7.29297 6.04199C6.76562 6.04199 6.35254 6.45508 6.35254 6.99121C6.35254 7.2373 6.44922 7.46582 6.63379 7.6416L8.65527 9.67188L6.63379 11.6934C6.44922 11.8691 6.35254 12.1064 6.35254 12.3525C6.35254 12.8887 6.76562 13.3018 7.29297 13.3018Z",fill:"currentColor"})),Ere=()=>O.createElement("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Success"),O.createElement("path",{d:"M10 19.4443C15.0977 19.4443 19.2812 15.252 19.2812 10.1543C19.2812 5.06543 15.0889 0.873047 10 0.873047C4.90234 0.873047 0.71875 5.06543 0.71875 10.1543C0.71875 15.252 4.91113 19.4443 10 19.4443ZM10 17.1328C6.1416 17.1328 3.03906 14.0215 3.03906 10.1543C3.03906 6.2959 6.13281 3.18457 10 3.18457C13.8584 3.18457 16.9697 6.2959 16.9697 10.1543C16.9785 14.0215 13.8672 17.1328 10 17.1328ZM9.07715 14.3379C9.4375 14.3379 9.7627 14.1533 9.97363 13.8369L13.7441 8.00977C13.8848 7.79883 13.9814 7.5791 13.9814 7.36816C13.9814 6.84961 13.5244 6.48926 13.0322 6.48926C12.707 6.48926 12.4258 6.66504 12.2148 7.0166L9.05957 12.0967L7.5918 10.2949C7.37207 10.0225 7.13477 9.9082 6.84473 9.9082C6.33496 9.9082 5.92188 10.3125 5.92188 10.8223C5.92188 11.0684 6.00098 11.2793 6.18555 11.5078L8.1543 13.8545C8.40918 14.1709 8.70801 14.3379 9.07715 14.3379Z",fill:"currentColor"})),Are=t=>{switch(t){case"pending":return Gp;case"confirmed":return Ere;case"failed":return xre;default:return Gp}};function _re({tx:t}){const e=br(),n=Are(t.status),r=t.status==="failed"?"error":"accentColor",{chain:i}=Rr(),o=t.status==="confirmed"?"Confirmed":t.status==="failed"?"Failed":"Pending",s=KD(i);return O.createElement(O.Fragment,null,O.createElement(re,{...s?{as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:Xn({active:"shrink"}),href:`${s}/tx/${t.hash}`,rel:"noreferrer noopener",target:"_blank",transition:"default"}:{},color:"modalText",display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"8",width:"full"},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:e?"16":"14"},O.createElement(re,{color:r},O.createElement(n,null)),O.createElement(re,{display:"flex",flexDirection:"column",gap:e?"3":"1"},O.createElement(re,null,O.createElement(At,{color:"modalText",font:"body",size:e?"16":"14",weight:"bold"},t?.description)),O.createElement(re,null,O.createElement(At,{color:t.status==="pending"?"modalTextSecondary":r,font:"body",size:"14",weight:e?"medium":"regular"},o)))),s&&O.createElement(re,{alignItems:"center",color:"modalTextDim",display:"flex"},O.createElement(XD,null))))}var Sre=3;function Cre({address:t}){const e=kD(),n=bre(),{chain:r}=Rr(),i=KD(r),o=e.slice(0,Sre),s=o.length>0,a=br(),{appName:l}=U.useContext(Im),{i18n:c}=U.useContext(Zn);return O.createElement(O.Fragment,null,O.createElement(re,{display:"flex",flexDirection:"column",gap:"10",paddingBottom:"2",paddingTop:"16",paddingX:a?"8":"18"},s&&O.createElement(re,{paddingBottom:a?"4":"0",paddingTop:"8",paddingX:a?"12":"6"},O.createElement(re,{display:"flex",justifyContent:"space-between"},O.createElement(At,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},c.t("profile.transactions.recent.title")),O.createElement(re,{style:{marginBottom:-6,marginLeft:-10,marginRight:-10,marginTop:-6}},O.createElement(re,{as:"button",background:{hover:"profileForeground"},borderRadius:"actionButton",className:Xn({active:"shrink"}),onClick:n,paddingX:a?"8":"12",paddingY:a?"4":"5",transition:"default",type:"button"},O.createElement(At,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},c.t("profile.transactions.clear.label")))))),O.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},s?o.map(u=>O.createElement(_re,{key:u.hash,tx:u})):O.createElement(O.Fragment,null,O.createElement(re,{padding:a?"12":"8"},O.createElement(At,{color:"modalTextDim",size:a?"16":"14",weight:a?"medium":"bold"},l?c.t("profile.transactions.description",{appName:l}):c.t("profile.transactions.description_fallback"))),a&&O.createElement(re,{background:"generalBorderDim",height:"1",marginX:"12",marginY:"8"})))),i&&O.createElement(re,{paddingBottom:"18",paddingX:a?"8":"18"},O.createElement(re,{alignItems:"center",as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:Xn({active:"shrink"}),color:"modalTextDim",display:"flex",flexDirection:"row",href:`${i}/address/${t}`,justifyContent:"space-between",paddingX:"8",paddingY:"12",rel:"noreferrer noopener",style:{willChange:"transform"},target:"_blank",transition:"default",width:"full",...a?{paddingLeft:"12"}:{}},O.createElement(At,{color:"modalText",font:"body",size:a?"16":"14",weight:a?"semibold":"bold"},c.t("profile.explorer.label")),O.createElement(XD,null))))}function bI({action:t,icon:e,label:n,testId:r,url:i}){const o=br();return O.createElement(re,{...i?{as:"a",href:i,rel:"noreferrer noopener",target:"_blank"}:{as:"button",type:"button"},background:{base:"profileAction",...o?{}:{hover:"profileActionHover"}},borderRadius:"menuButton",boxShadow:"profileDetailsAction",className:Xn({active:"shrinkSm",hover:o?void 0:"grow"}),display:"flex",onClick:t,padding:o?"6":"8",style:{willChange:"transform"},testId:r,transition:"default",width:"full"},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"1",justifyContent:"center",paddingTop:"2",width:"full"},O.createElement(re,{color:"modalText",height:"max"},e),O.createElement(re,null,O.createElement(At,{color:"modalText",size:o?"12":"13",weight:"semibold"},n))))}function Tre({address:t,ensAvatar:e,ensName:n,balance:r,onClose:i,onDisconnect:o}){const s=U.useContext(HC),[a,l]=U.useState(!1),c=U.useCallback(()=>{t&&(navigator.clipboard.writeText(t),l(!0))},[t]);if(U.useEffect(()=>{if(a){const y=setTimeout(()=>{l(!1)},1500);return()=>clearTimeout(y)}},[a]),!t)return null;const u=n?QD(n):qD(t),d=r?.formatted,f=d?$D(Number.parseFloat(d)):void 0,h="rk_profile_title",p=br(),{i18n:m}=U.useContext(Zn);return O.createElement(O.Fragment,null,O.createElement(re,{display:"flex",flexDirection:"column"},O.createElement(re,{background:"profileForeground",padding:"16"},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:p?"16":"12",justifyContent:"center",margin:"8",style:{textAlign:"center"}},O.createElement(re,{style:{position:"absolute",right:16,top:16,willChange:"transform"}},O.createElement(Yc,{onClose:i}))," ",O.createElement(re,{marginTop:p?"24":"0"},O.createElement(_D,{address:t,imageUrl:e,size:p?82:74})),O.createElement(re,{display:"flex",flexDirection:"column",gap:p?"4":"0",textAlign:"center"},O.createElement(re,{textAlign:"center"},O.createElement(At,{as:"h1",color:"modalText",id:h,size:p?"20":"18",weight:"heavy"},u)),!!r&&O.createElement(re,{textAlign:"center"},O.createElement(At,{as:"h1",color:"modalTextSecondary",id:h,size:p?"16":"14",weight:"semibold"},f," ",r.symbol)))),O.createElement(re,{display:"flex",flexDirection:"row",gap:"8",margin:"2",marginTop:"16"},O.createElement(bI,{action:c,icon:a?O.createElement(yre,null):O.createElement(vre,null),label:a?m.t("profile.copy_address.copied"):m.t("profile.copy_address.label")}),O.createElement(bI,{action:o,icon:O.createElement(wre,null),label:m.t("profile.disconnect.label"),testId:"disconnect-button"}))),s&&O.createElement(O.Fragment,null,O.createElement(re,{background:"generalBorder",height:"1",marginTop:"-1"}),O.createElement(re,null,O.createElement(Cre,{address:t})))))}function Mre({onClose:t,open:e}){const{address:n}=Rr(),{balance:r,ensAvatar:i,ensName:o}=ID({address:n,includeBalance:e}),{disconnect:s}=TC();return n?O.createElement(O.Fragment,null,n&&O.createElement(Yy,{onClose:t,open:e,titleId:"rk_account_modal_title"},O.createElement(Jy,{bottomSheetOnMobile:!0,padding:"0"},O.createElement(Tre,{address:n,ensAvatar:i,ensName:o,balance:r,onClose:t,onDisconnect:s})))):null}var Ire=({size:t})=>O.createElement("svg",{fill:"none",height:t,viewBox:"0 0 28 28",width:t,xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Disconnect"),O.createElement("path",{d:"M6.742 22.195h8.367c1.774 0 2.743-.968 2.743-2.758V16.11h-2.016v3.11c0 .625-.305.96-.969.96H6.984c-.664 0-.968-.335-.968-.96V7.984c0-.632.304-.968.968-.968h7.883c.664 0 .969.336.969.968v3.133h2.016v-3.36c0-1.78-.97-2.757-2.743-2.757H6.742C4.97 5 4 5.977 4 7.758v11.68c0 1.789.969 2.757 2.742 2.757Zm5.438-7.703h7.601l1.149-.07-.602.406-1.008.938a.816.816 0 0 0-.258.593c0 .407.313.782.758.782.227 0 .39-.086.547-.243l2.492-2.593c.235-.235.313-.47.313-.711 0-.242-.078-.477-.313-.719l-2.492-2.586c-.156-.156-.32-.25-.547-.25-.445 0-.758.367-.758.781 0 .227.094.446.258.594l1.008.945.602.407-1.149-.079H12.18a.904.904 0 0 0 0 1.805Z",fill:"currentColor"})),Rre="v9horb0",qC=O.forwardRef(({children:t,currentlySelected:e=!1,onClick:n,testId:r,...i},o)=>{const s=br();return O.createElement(re,{as:"button",borderRadius:"menuButton",disabled:e,display:"flex",onClick:n,ref:o,testId:r,type:"button"},O.createElement(re,{borderRadius:"menuButton",className:[s?Rre:void 0,!e&&Xn({active:"shrink"})],padding:s?"8":"6",transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",borderStyle:"solid",borderWidth:"1",boxShadow:"selectedOption",color:"accentColorForeground"}:{background:{hover:"menuItemBackground"},color:"modalText",transition:"default"},...i},t))});qC.displayName="MenuButton";var Pre=({chainId:t,currentChainId:e,switchChain:n,chainIconSize:r,isLoading:i,src:o,name:s,iconBackground:a,idx:l})=>{const c=br(),{i18n:u}=U.useContext(Zn),d=gu(),f=e===t;return O.createElement(U.Fragment,null,O.createElement(qC,{currentlySelected:f,onClick:f?void 0:()=>n({chainId:t}),testId:`chain-option-${t}`},O.createElement(re,{fontFamily:"body",fontSize:"16",fontWeight:"bold"},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:r},o&&O.createElement(re,{height:"full",marginRight:"8"},O.createElement(vr,{alt:s,background:a,borderRadius:"full",height:r,src:o,width:r,testId:`chain-option-${t}-icon`})),O.createElement("div",null,s??s)),f&&O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},O.createElement(At,{color:"accentColorForeground",size:"14",weight:"medium"},u.t("chains.connected")),O.createElement(re,{background:"connectionIndicator",borderColor:"selectedOptionBorder",borderRadius:"full",borderStyle:"solid",borderWidth:"1",height:"8",marginLeft:"8",width:"8"})),i&&O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},O.createElement(At,{color:"modalText",size:"14",weight:"medium"},u.t("chains.confirm")),O.createElement(re,{background:"standby",borderRadius:"full",height:"8",marginLeft:"8",width:"8"}))))),c&&l<d.length-1&&O.createElement(re,{background:"generalBorderDim",height:"1",marginX:"8"}))},Nre=Pre,kre="_18dqw9x0",Fre="_18dqw9x1";function Bre({onClose:t,open:e}){const{chainId:n}=Rr(),{chains:r}=cr(),[i,o]=U.useState(null),{switchChain:s}=pL({mutation:{onMutate:({chainId:p})=>{o(p)},onSuccess:()=>{i&&o(null)},onError:()=>{i&&o(null)},onSettled:()=>{t()}}}),{i18n:a}=U.useContext(Zn),{disconnect:l}=TC(),c="rk_chain_modal_title",u=br(),d=r.some(p=>p.id===n),f=u?"36":"28",h=gu();return n?O.createElement(Yy,{onClose:t,open:e,titleId:c},O.createElement(Jy,{bottomSheetOnMobile:!0,paddingBottom:"0"},O.createElement(re,{display:"flex",flexDirection:"column",gap:"14"},O.createElement(re,{display:"flex",flexDirection:"row",justifyContent:"space-between"},u&&O.createElement(re,{width:"30"}),O.createElement(re,{paddingBottom:"0",paddingLeft:"8",paddingTop:"4"},O.createElement(At,{as:"h1",color:"modalText",id:c,size:u?"20":"18",weight:"heavy"},a.t("chains.title"))),O.createElement(Yc,{onClose:t})),!d&&O.createElement(re,{marginX:"8",textAlign:u?"center":"left"},O.createElement(At,{color:"modalTextSecondary",size:"14",weight:"medium"},a.t("chains.wrong_network"))),O.createElement(re,{className:u?Fre:kre,display:"flex",flexDirection:"column",gap:"4",padding:"2",paddingBottom:"16"},h.map(({iconBackground:p,iconUrl:m,id:y,name:g},v)=>O.createElement(Nre,{key:y,chainId:y,currentChainId:n,switchChain:s,chainIconSize:f,isLoading:i===y,src:m,name:g,iconBackground:p,idx:v})),!d&&O.createElement(O.Fragment,null,O.createElement(re,{background:"generalBorderDim",height:"1",marginX:"8"}),O.createElement(qC,{onClick:()=>l(),testId:"chain-option-disconnect"},O.createElement(re,{color:"error",fontFamily:"body",fontSize:"16",fontWeight:"bold"},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:f},O.createElement(re,{alignItems:"center",color:"error",height:f,justifyContent:"center",marginRight:"8"},O.createElement(Ire,{size:Number(f)})),O.createElement("div",null,a.t("chains.disconnect"))))))))))):null}function Ore(t,e){const n={};for(const r of t){const i=e(r);i&&(n[i]||(n[i]=[]),n[i].push(r))}return n}var QC=({children:t,href:e})=>O.createElement(re,{as:"a",color:"accentColor",href:e,rel:"noreferrer",target:"_blank"},t),KC=({children:t})=>O.createElement(At,{color:"modalTextSecondary",size:"12",weight:"medium"},t);function xI({compactModeEnabled:t=!1,getWallet:e}){const{disclaimer:n,learnMoreUrl:r}=U.useContext(Im),{i18n:i}=U.useContext(Zn);return O.createElement(O.Fragment,null,O.createElement(re,{alignItems:"center",color:"accentColor",display:"flex",flexDirection:"column",height:"full",justifyContent:"space-around"},O.createElement(re,{marginBottom:"10"},!t&&O.createElement(At,{color:"modalText",size:"18",weight:"heavy"},i.t("intro.title"))),O.createElement(re,{display:"flex",flexDirection:"column",gap:"32",justifyContent:"center",marginY:"20",style:{maxWidth:312}},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},O.createElement(re,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},O.createElement(Qne,null)),O.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},O.createElement(At,{color:"modalText",size:"14",weight:"bold"},i.t("intro.digital_asset.title")),O.createElement(At,{color:"modalTextSecondary",size:"14",weight:"medium"},i.t("intro.digital_asset.description")))),O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},O.createElement(re,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},O.createElement(Xne,null)),O.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},O.createElement(At,{color:"modalText",size:"14",weight:"bold"},i.t("intro.login.title")),O.createElement(At,{color:"modalTextSecondary",size:"14",weight:"medium"},i.t("intro.login.description"))))),O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",margin:"10"},O.createElement(ii,{label:i.t("intro.get.label"),onClick:e}),O.createElement(re,{as:"a",className:Xn({active:"shrink",hover:"grow"}),display:"block",href:r,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},O.createElement(At,{color:"accentColor",size:"14",weight:"bold"},i.t("intro.learn_more.label")))),n&&!t&&O.createElement(re,{marginBottom:"8",marginTop:"12",textAlign:"center"},O.createElement(n,{Link:QC,Text:KC}))))}var YD=()=>O.createElement("svg",{fill:"none",height:"17",viewBox:"0 0 11 17",width:"11",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Back"),O.createElement("path",{d:"M0.99707 8.6543C0.99707 9.08496 1.15527 9.44531 1.51562 9.79688L8.16016 16.3096C8.43262 16.5732 8.74902 16.7051 9.13574 16.7051C9.90918 16.7051 10.5508 16.0811 10.5508 15.3076C10.5508 14.9121 10.3838 14.5605 10.0938 14.2705L4.30176 8.64551L10.0938 3.0293C10.3838 2.74805 10.5508 2.3877 10.5508 2.00098C10.5508 1.23633 9.90918 0.603516 9.13574 0.603516C8.74902 0.603516 8.43262 0.735352 8.16016 0.999023L1.51562 7.51172C1.15527 7.85449 1.00586 8.21484 0.99707 8.6543Z",fill:"currentColor"})),Lre=()=>O.createElement("svg",{fill:"none",height:"12",viewBox:"0 0 8 12",width:"8",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Info"),O.createElement("path",{d:"M3.64258 7.99609C4.19336 7.99609 4.5625 7.73828 4.68555 7.24609C4.69141 7.21094 4.70312 7.16406 4.70898 7.13477C4.80859 6.60742 5.05469 6.35547 6.04492 5.76367C7.14648 5.10156 7.67969 4.3457 7.67969 3.24414C7.67969 1.39844 6.17383 0.255859 3.95898 0.255859C2.32422 0.255859 1.05859 0.894531 0.548828 1.86719C0.396484 2.14844 0.320312 2.44727 0.320312 2.74023C0.314453 3.37305 0.742188 3.79492 1.42188 3.79492C1.91406 3.79492 2.33594 3.54883 2.53516 3.11523C2.78711 2.47656 3.23242 2.21289 3.83594 2.21289C4.55664 2.21289 5.10742 2.65234 5.10742 3.29102C5.10742 3.9707 4.7793 4.29883 3.81836 4.87891C3.02148 5.36523 2.50586 5.92773 2.50586 6.76562V6.90039C2.50586 7.55664 2.96289 7.99609 3.64258 7.99609ZM3.67188 11.4473C4.42773 11.4473 5.04297 10.8672 5.04297 10.1406C5.04297 9.41406 4.42773 8.83984 3.67188 8.83984C2.91602 8.83984 2.30664 9.41406 2.30664 10.1406C2.30664 10.8672 2.91602 11.4473 3.67188 11.4473Z",fill:"currentColor"})),Dre=({"aria-label":t="Info",onClick:e})=>{const n=br();return O.createElement(re,{alignItems:"center","aria-label":t,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:n?"0":"1",className:Xn({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:n?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:n?"30":"28"},O.createElement(Lre,null))},JD=t=>{const e=U.useRef(null),n=U.useContext(BD),r=Lw(t);return U.useEffect(()=>{if(n&&e.current&&r)return zre(e.current,r)},[n,r]),e},Ure=()=>{const t="_rk_coolMode",e=document.getElementById(t);if(e)return e;const n=document.createElement("div");return n.setAttribute("id",t),n.setAttribute("style",["overflow:hidden","position:fixed","height:100%","top:0","left:0","right:0","bottom:0","pointer-events:none","z-index:2147483647"].join(";")),document.body.appendChild(n),n},EI=0;function zre(t,e){EI++;const n=[15,20,25,35,45],r=35;let i=[],o=!1,s=0,a=0;const l=Ure();function c(){const x=n[Math.floor(Math.random()*n.length)],P=Math.random()*10,N=Math.random()*25,_=Math.random()*360,D=Math.random()*35*(Math.random()<=.5?-1:1),T=a-x/2,E=s-x/2,z=Math.random()<=.5?-1:1,W=document.createElement("div");W.innerHTML=`<img src="${e}" width="${x}" height="${x}" style="border-radius: 25%">`,W.setAttribute("style",["position:absolute","will-change:transform",`top:${T}px`,`left:${E}px`,`transform:rotate(${_}deg)`].join(";")),l.appendChild(W),i.push({direction:z,element:W,left:E,size:x,speedHorz:P,speedUp:N,spinSpeed:D,spinVal:_,top:T})}function u(){for(const x of i)x.left=x.left-x.speedHorz*x.direction,x.top=x.top-x.speedUp,x.speedUp=Math.min(x.size,x.speedUp-1),x.spinVal=x.spinVal+x.spinSpeed,x.top>=Math.max(window.innerHeight,document.body.clientHeight)+x.size&&(i=i.filter(P=>P!==x),x.element.remove()),x.element.setAttribute("style",["position:absolute","will-change:transform",`top:${x.top}px`,`left:${x.left}px`,`transform:rotate(${x.spinVal}deg)`].join(";"))}let d;function f(){o&&i.length<r&&c(),u(),d=requestAnimationFrame(f)}f();const h="ontouchstart"in window||navigator.msMaxTouchPoints,p=h?"touchstart":"mousedown",m=h?"touchend":"mouseup",y=h?"touchmove":"mousemove",g=x=>{"touches"in x?(s=x.touches?.[0].clientX,a=x.touches?.[0].clientY):(s=x.clientX,a=x.clientY)},v=x=>{g(x),o=!0},b=()=>{o=!1};return t.addEventListener(y,g,{passive:!1}),t.addEventListener(p,v),t.addEventListener(m,b),t.addEventListener("mouseleave",b),()=>{t.removeEventListener(y,g),t.removeEventListener(p,v),t.removeEventListener(m,b),t.removeEventListener("mouseleave",b);const x=setInterval(()=>{d&&i.length===0&&(cancelAnimationFrame(d),clearInterval(x),--EI===0&&l.remove())},500)}}var jre="g5kl0l0",ZD=({as:t="button",currentlySelected:e=!1,iconBackground:n,iconUrl:r,name:i,onClick:o,ready:s,recent:a,testId:l,isRainbowKitConnector:c,...u})=>{const d=JD(r),[f,h]=O.useState(!1),{i18n:p}=O.useContext(Zn);return O.createElement(re,{display:"flex",flexDirection:"column",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),ref:d},O.createElement(re,{as:t,borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:e?void 0:[jre,Xn({active:"shrink"})],disabled:e,onClick:o,padding:"5",style:{willChange:"transform"},testId:l,transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",boxShadow:"selectedWallet"}:{background:{hover:"menuItemBackground"}},...u},O.createElement(re,{color:e?"accentColorForeground":"modalText",disabled:!s,fontFamily:"body",fontSize:"16",fontWeight:"bold",transition:"default"},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"12"},O.createElement(vr,{background:n,...!f&&c?{borderColor:"actionButtonBorder"}:{},useAsImage:!c,borderRadius:"6",height:"28",src:r,width:"28"}),O.createElement(re,null,O.createElement(re,{style:{marginTop:a?-2:void 0},maxWidth:"200"},i),a&&O.createElement(At,{color:e?"accentColorForeground":"accentColor",size:"12",style:{lineHeight:1,marginTop:-1},weight:"medium"},p.t("connect.recent")))))))};ZD.displayName="ModalSelection";var Hre="rk-latest-id";function Gre(t){localStorage.setItem(Hre,t)}var Nb=(t,e=1)=>{let n=t.replace("#","");n.length===3&&(n=`${n[0]}${n[0]}${n[1]}${n[1]}${n[2]}${n[2]}`);const r=Number.parseInt(n.substring(0,2),16),i=Number.parseInt(n.substring(2,4),16),o=Number.parseInt(n.substring(4,6),16);return e>1&&e<=100&&(e=e/100),`rgba(${r},${i},${o},${e})`},Wre=t=>t?[Nb(t,.2),Nb(t,.14),Nb(t,.1)]:null,Vre=t=>/^#([0-9a-f]{3}){1,2}$/i.test(t),eU=async()=>(await qe(async()=>{const{default:t}=await import("./connect-UA7M4XW6-IY3X6Bmr.js");return{default:t}},[])).default,$re=()=>Bs(eU),qre=()=>O.createElement(vr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:eU,width:"48"}),tU=async()=>(await qe(async()=>{const{default:t}=await import("./create-FASO7PVG-D_rvSpre.js");return{default:t}},[])).default,nU=()=>Bs(tU),Qre=()=>O.createElement(vr,{background:"#e3a5e8",borderColor:"generalBorder",borderRadius:"10",height:"48",src:tU,width:"48"}),rU=async()=>(await qe(async()=>{const{default:t}=await import("./refresh-S4T5V5GX-CwqIaaxK.js");return{default:t}},[])).default,Kre=()=>Bs(rU),Xre=()=>O.createElement(vr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:rU,width:"48"}),iU=async()=>(await qe(async()=>{const{default:t}=await import("./scan-4UYSQ56Q-CjMz6-XC.js");return{default:t}},[])).default,oU=()=>Bs(iU),Yre=()=>O.createElement(vr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:iU,width:"48"}),Jre="_1vwt0cg0",Zre="_1vwt0cg2 ju367v7a ju367v7v",eie="_1vwt0cg3",tie="_1vwt0cg4";function sU({ecc:t="medium",logoBackground:e,logoSize:n=50,logoUrl:r,size:i=200,uri:o}){const s="20",a=i-Number.parseInt(s,10)*2,l=Lw(r);return O.createElement(re,{borderColor:"generalBorder",borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:Jre,padding:s,width:"max"},O.createElement(re,{style:{height:a,userSelect:"none",width:a},userSelect:"none"},O.createElement(Ss.Root,{errorCorrection:t,size:a,value:o},O.createElement(Ss.Cells,{radius:1}),O.createElement(Ss.Finder,{radius:.25}),l&&O.createElement(Ss.Arena,null,O.createElement("img",{alt:"Wallet Logo",src:l,style:{objectFit:"cover",height:"88%",width:"88%",borderRadius:"22.5%",backgroundColor:e}})))))}var aU=async()=>{switch(WC()){case"Arc":return(await qe(async()=>{const{default:e}=await import("./Arc-VDBY7LNS-BChRXCXW.js");return{default:e}},[])).default;case"Brave":return(await qe(async()=>{const{default:e}=await import("./Brave-BRAKJXDS-mq-Xo37j.js");return{default:e}},[])).default;case"Chrome":return(await qe(async()=>{const{default:e}=await import("./Chrome-65Q5P54Y-DR9MQEVr.js");return{default:e}},[])).default;case"Edge":return(await qe(async()=>{const{default:e}=await import("./Edge-XSPUTORV-DEoZslQE.js");return{default:e}},[])).default;case"Firefox":return(await qe(async()=>{const{default:e}=await import("./Firefox-AAHGJQIP-Bp_Hm04m.js");return{default:e}},[])).default;case"Opera":return(await qe(async()=>{const{default:e}=await import("./Opera-KQZLSACL-Cwv5MDFy.js");return{default:e}},[])).default;case"Safari":return(await qe(async()=>{const{default:e}=await import("./Safari-ZPL37GXR-C4Ggg6rz.js");return{default:e}},[])).default;default:return(await qe(async()=>{const{default:e}=await import("./Browser-76IHF3Y2-BMhRaC5Z.js");return{default:e}},[])).default}},nie=()=>Bs(aU),lU=async()=>{switch($C()){case"Windows":return(await qe(async()=>{const{default:e}=await import("./Windows-PPTHQER6-BlyV2p7Y.js");return{default:e}},[])).default;case"macOS":return(await qe(async()=>{const{default:e}=await import("./Macos-MW4AE7LN-Vvm8Drw3.js");return{default:e}},[])).default;case"Linux":return(await qe(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default;default:return(await qe(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default}},rie=()=>Bs(lU);function iie({getWalletDownload:t,compactModeEnabled:e}){const r=Wp().filter(o=>o.isRainbowKitConnector).splice(0,5),{i18n:i}=U.useContext(Zn);return O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginTop:"18",width:"full"},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"28",height:"full",width:"full"},r?.filter(o=>o.extensionDownloadUrl||o.desktopDownloadUrl||o.qrCode&&o.downloadUrls?.qrCode).map(o=>{const{downloadUrls:s,iconBackground:a,iconUrl:l,id:c,name:u,qrCode:d}=o,f=s?.qrCode&&d,h=!!o.extensionDownloadUrl,p=s?.qrCode&&h,m=s?.qrCode&&!!o.desktopDownloadUrl;return O.createElement(re,{alignItems:"center",display:"flex",gap:"16",justifyContent:"space-between",key:o.id,width:"full"},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},O.createElement(vr,{background:a,borderColor:"actionButtonBorder",borderRadius:"10",height:"48",src:l,width:"48"}),O.createElement(re,{display:"flex",flexDirection:"column",gap:"2"},O.createElement(At,{color:"modalText",size:"14",weight:"bold"},u),O.createElement(At,{color:"modalTextSecondary",size:"14",weight:"medium"},p?i.t("get.mobile_and_extension.description"):m?i.t("get.mobile_and_desktop.description"):f?i.t("get.mobile.description"):h?i.t("get.extension.description"):null))),O.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},O.createElement(ii,{label:i.t("get.action.label"),onClick:()=>t(c),type:"secondary"})))})),O.createElement(re,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"column",gap:"8",justifyContent:"space-between",marginBottom:"4",paddingY:"8",style:{maxWidth:275,textAlign:"center"}},O.createElement(At,{color:"modalText",size:"14",weight:"bold"},i.t("get.looking_for.title")),O.createElement(At,{color:"modalTextSecondary",size:"14",weight:"medium"},e?i.t("get.looking_for.desktop.compact_description"):i.t("get.looking_for.desktop.wide_description"))))}var kb="44";function oie({changeWalletStep:t,compactModeEnabled:e,connectionError:n,onClose:r,qrCodeUri:i,reconnect:o,wallet:s}){const{downloadUrls:a,iconBackground:l,iconUrl:c,name:u,qrCode:d,ready:f,showWalletConnectModal:h,getDesktopUri:p}=s,m=!!p,y=GC(),{i18n:g}=U.useContext(Zn),v=!!s.extensionDownloadUrl,b=a?.qrCode&&v,x=a?.qrCode&&!!s.desktopDownloadUrl,P=d&&i,N=async()=>{const E=await p?.();window.open(E,y?"_blank":"_self")},_=h?{description:e?g.t("connect.walletconnect.description.compact"):g.t("connect.walletconnect.description.full"),label:g.t("connect.walletconnect.open.label"),onClick:()=>{r(),h()}}:P?{description:g.t("connect.secondary_action.get.description",{wallet:u}),label:g.t("connect.secondary_action.get.label"),onClick:()=>t(b||x?"DOWNLOAD_OPTIONS":"DOWNLOAD")}:null,{width:D}=OD(),T=D&&D<768;return U.useEffect(()=>{nie(),rie()},[]),O.createElement(re,{display:"flex",flexDirection:"column",height:"full",width:"full"},P?O.createElement(re,{alignItems:"center",display:"flex",height:"full",justifyContent:"center"},O.createElement(sU,{logoBackground:l,logoSize:e?60:72,logoUrl:c,size:e?318:T?Math.max(280,Math.min(D-308,382)):382,uri:i})):O.createElement(re,{alignItems:"center",display:"flex",justifyContent:"center",style:{flexGrow:1}},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8"},O.createElement(re,{borderRadius:"10",height:kb,overflow:"hidden"},O.createElement(vr,{useAsImage:!s.isRainbowKitConnector,height:kb,src:c,width:kb})),O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"4",paddingX:"32",style:{textAlign:"center"}},O.createElement(At,{color:"modalText",size:"18",weight:"bold"},f?g.t("connect.status.opening",{wallet:u}):v?g.t("connect.status.not_installed",{wallet:u}):g.t("connect.status.not_available",{wallet:u})),!f&&v?O.createElement(re,{paddingTop:"20"},O.createElement(ii,{href:s.extensionDownloadUrl,label:g.t("connect.secondary_action.install.label"),type:"secondary"})):null,f&&!P&&O.createElement(O.Fragment,null,O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},O.createElement(At,{color:"modalTextSecondary",size:"14",textAlign:"center",weight:"medium"},g.t("connect.status.confirm"))),O.createElement(re,{alignItems:"center",color:"modalText",display:"flex",flexDirection:"row",height:"32",marginTop:"8"},n?O.createElement(ii,{label:g.t("connect.secondary_action.retry.label"),onClick:async()=>{m&&N(),o(s)}}):O.createElement(re,{color:"modalTextSecondary"},O.createElement(Gp,null))))))),O.createElement(re,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"28",justifyContent:"space-between",marginTop:"12"},f&&_&&O.createElement(O.Fragment,null,O.createElement(At,{color:"modalTextSecondary",size:"14",weight:"medium"},_.description),O.createElement(ii,{label:_.label,onClick:_.onClick,type:"secondary"}))))}var Fb=({actionLabel:t,description:e,iconAccent:n,iconBackground:r,iconUrl:i,isCompact:o,onAction:s,title:a,url:l,variant:c})=>{const u=c==="browser",d=!u&&n&&Wre(n);return O.createElement(re,{alignItems:"center",borderRadius:"13",display:"flex",justifyContent:"center",overflow:"hidden",paddingX:o?"18":"44",position:"relative",style:{flex:1,isolation:"isolate"},width:"full"},O.createElement(re,{borderColor:"actionButtonBorder",borderRadius:"13",borderStyle:"solid",borderWidth:"1",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0",zIndex:1}}),u&&O.createElement(re,{background:"downloadTopCardBackground",height:"full",position:"absolute",style:{zIndex:0},width:"full"},O.createElement(re,{display:"flex",flexDirection:"row",justifyContent:"space-between",style:{bottom:"0",filter:"blur(20px)",left:"0",position:"absolute",right:"0",top:"0",transform:"translate3d(0, 0, 0)"}},O.createElement(re,{style:{filter:"blur(100px)",marginLeft:-27,marginTop:-20,opacity:.6,transform:"translate3d(0, 0, 0)"}},O.createElement(vr,{borderRadius:"full",height:"200",src:i,width:"200"})),O.createElement(re,{style:{filter:"blur(100px)",marginRight:0,marginTop:105,opacity:.6,overflow:"auto",transform:"translate3d(0, 0, 0)"}},O.createElement(vr,{borderRadius:"full",height:"200",src:i,width:"200"})))),!u&&d&&O.createElement(re,{background:"downloadBottomCardBackground",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}},O.createElement(re,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${d[0]} 0%, ${d[1]} 25%, rgba(0,0,0,0) 100%)`,height:564,left:-215,top:-197,transform:"translate3d(0, 0, 0)",width:564}}),O.createElement(re,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${d[2]} 0%, rgba(0, 0, 0, 0) 100%)`,height:564,left:-1,top:-76,transform:"translate3d(0, 0, 0)",width:564}})),O.createElement(re,{alignItems:"flex-start",display:"flex",flexDirection:"row",gap:"24",height:"max",justifyContent:"center",style:{zIndex:1}},O.createElement(re,null,O.createElement(vr,{height:"60",src:i,width:"60",...r?{background:r,borderColor:"generalBorder",borderRadius:"10"}:null})),O.createElement(re,{display:"flex",flexDirection:"column",gap:"4",style:{flex:1},width:"full"},O.createElement(At,{color:"modalText",size:"14",weight:"bold"},a),O.createElement(At,{color:"modalTextSecondary",size:"14",weight:"medium"},e),O.createElement(re,{marginTop:"14",width:"max"},O.createElement(ii,{href:l,label:t,onClick:s,size:"medium"})))))};function sie({changeWalletStep:t,wallet:e}){const n=WC(),r=$C(),o=U.useContext(Dw)==="compact",{desktop:s,desktopDownloadUrl:a,extension:l,extensionDownloadUrl:c,mobileDownloadUrl:u}=e,{i18n:d}=U.useContext(Zn);return U.useEffect(()=>{nU(),oU(),Kre(),$re()},[]),O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",marginBottom:"8",marginTop:"4",width:"full"},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8",height:"full",justifyContent:"center",width:"full"},c&&O.createElement(Fb,{actionLabel:d.t("get_options.extension.download.label",{browser:n}),description:d.t("get_options.extension.description"),iconUrl:aU,isCompact:o,onAction:()=>t(l?.instructions?"INSTRUCTIONS_EXTENSION":"CONNECT"),title:d.t("get_options.extension.title",{wallet:e.name,browser:n}),url:c,variant:"browser"}),a&&O.createElement(Fb,{actionLabel:d.t("get_options.desktop.download.label",{platform:r}),description:d.t("get_options.desktop.description"),iconUrl:lU,isCompact:o,onAction:()=>t(s?.instructions?"INSTRUCTIONS_DESKTOP":"CONNECT"),title:d.t("get_options.desktop.title",{wallet:e.name,platform:r}),url:a,variant:"desktop"}),u&&O.createElement(Fb,{actionLabel:d.t("get_options.mobile.download.label",{wallet:e.name}),description:d.t("get_options.mobile.description"),iconAccent:e.iconAccent,iconBackground:e.iconBackground,iconUrl:e.iconUrl,isCompact:o,onAction:()=>{t("DOWNLOAD")},title:d.t("get_options.mobile.title",{wallet:e.name}),variant:"app"})))}function aie({changeWalletStep:t,wallet:e}){const{downloadUrls:n,qrCode:r}=e,{i18n:i}=U.useContext(Zn);return U.useEffect(()=>{nU(),oU()},[]),O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",width:"full"},O.createElement(re,{style:{maxWidth:220,textAlign:"center"}},O.createElement(At,{color:"modalTextSecondary",size:"14",weight:"semibold"},i.t("get_mobile.description"))),O.createElement(re,{height:"full"},n?.qrCode?O.createElement(sU,{logoSize:0,size:268,uri:n.qrCode}):null),O.createElement(re,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"34",justifyContent:"space-between",marginBottom:"12",paddingY:"8"},O.createElement(ii,{label:i.t("get_mobile.continue.label"),onClick:()=>t(r?.instructions?"INSTRUCTIONS_MOBILE":"CONNECT")})))}var XC={connect:()=>O.createElement(qre,null),create:()=>O.createElement(Qre,null),install:t=>O.createElement(vr,{background:t.iconBackground,borderColor:"generalBorder",borderRadius:"10",height:"48",src:t.iconUrl,width:"48"}),refresh:()=>O.createElement(Xre,null),scan:()=>O.createElement(Yre,null)};function lie({connectWallet:t,wallet:e}){const{i18n:n}=U.useContext(Zn);return O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},O.createElement(re,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},e?.qrCode?.instructions?.steps.map((r,i)=>O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:i},O.createElement(re,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},XC[r.step]?.(e)),O.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},O.createElement(At,{color:"modalText",size:"14",weight:"bold"},n.t(r.title,void 0,{rawKeyIfTranslationMissing:!0})),O.createElement(At,{color:"modalTextSecondary",size:"14",weight:"medium"},n.t(r.description,void 0,{rawKeyIfTranslationMissing:!0})))))),O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},O.createElement(ii,{label:n.t("get_instructions.mobile.connect.label"),onClick:()=>t(e)}),O.createElement(re,{as:"a",className:Xn({active:"shrink",hover:"grow"}),display:"block",href:e?.qrCode?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},O.createElement(At,{color:"accentColor",size:"14",weight:"bold"},n.t("get_instructions.mobile.learn_more.label")))))}function cie({wallet:t}){const{i18n:e}=U.useContext(Zn);return O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},O.createElement(re,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},t?.extension?.instructions?.steps.map((n,r)=>O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:r},O.createElement(re,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},XC[n.step]?.(t)),O.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},O.createElement(At,{color:"modalText",size:"14",weight:"bold"},e.t(n.title,void 0,{rawKeyIfTranslationMissing:!0})),O.createElement(At,{color:"modalTextSecondary",size:"14",weight:"medium"},e.t(n.description,void 0,{rawKeyIfTranslationMissing:!0})))))),O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},O.createElement(ii,{label:e.t("get_instructions.extension.refresh.label"),onClick:window.location.reload.bind(window.location)}),O.createElement(re,{as:"a",className:Xn({active:"shrink",hover:"grow"}),display:"block",href:t?.extension?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},O.createElement(At,{color:"accentColor",size:"14",weight:"bold"},e.t("get_instructions.extension.learn_more.label")))))}function uie({connectWallet:t,wallet:e}){const{i18n:n}=U.useContext(Zn);return O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},O.createElement(re,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},e?.desktop?.instructions?.steps.map((r,i)=>O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:i},O.createElement(re,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},XC[r.step]?.(e)),O.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},O.createElement(At,{color:"modalText",size:"14",weight:"bold"},n.t(r.title,void 0,{rawKeyIfTranslationMissing:!0})),O.createElement(At,{color:"modalTextSecondary",size:"14",weight:"medium"},n.t(r.description,void 0,{rawKeyIfTranslationMissing:!0})))))),O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},O.createElement(ii,{label:n.t("get_instructions.desktop.connect.label"),onClick:()=>t(e)}),O.createElement(re,{as:"a",className:Xn({active:"shrink",hover:"grow"}),display:"block",href:e?.desktop?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},O.createElement(At,{color:"accentColor",size:"14",weight:"bold"},n.t("get_instructions.desktop.learn_more.label")))))}function die({onClose:t}){const e="rk_connect_title",[n,r]=U.useState(),[i,o]=U.useState(),[s,a]=U.useState(),l=!!i?.qrCode&&s,[c,u]=U.useState(!1),f=U.useContext(Dw)===Pm.COMPACT,{disclaimer:h}=U.useContext(Im),{i18n:p}=U.useContext(Zn),m=GC(),y=U.useRef(!1),{connector:g}=U.useContext(Rm),b=Wp(!g).filter(J=>J.ready||!!J.extensionDownloadUrl).sort((J,te)=>J.groupIndex-te.groupIndex),x=Wp(),P=Ore(b,J=>J.groupName),N=["Recommended","Other","Popular","More","Others","Installed"];U.useEffect(()=>{g&&!y.current&&(B("CONNECT"),E(g),y.current=!0)},[g]);const _=J=>{u(!1),J.ready&&J?.connect?.()?.catch(()=>{u(!0)})},D=async J=>{const te=b.find(oe=>J.id===oe.id);te?.getDesktopUri&&setTimeout(async()=>{const oe=await te?.getDesktopUri?.();oe&&window.open(oe,m?"_blank":"_self")},0)},T=async J=>{const te=b.find(le=>J.id===le.id),oe=await te?.getQrCodeUri?.();a(oe),setTimeout(()=>{o(te),B("CONNECT")},oe?0:50)},E=async J=>{Gre(J.id),J.ready&&(T(J),D(J)),_(J),r(J.id),J.ready||(o(J),B(J?.extensionDownloadUrl?"DOWNLOAD_OPTIONS":"CONNECT"))},z=J=>{const te=x.find(Ne=>J===Ne.id),oe=te?.downloadUrls?.qrCode,le=!!te?.desktopDownloadUrl,Te=!!te?.extensionDownloadUrl;o(te),B(oe&&(Te||le)?"DOWNLOAD_OPTIONS":oe?"DOWNLOAD":le?"INSTRUCTIONS_DESKTOP":"INSTRUCTIONS_EXTENSION")},W=()=>{r(void 0),o(void 0),a(void 0)},B=(J,te=!1)=>{te&&J==="GET"&&w==="GET"?W():!te&&J==="GET"?A("GET"):!te&&J==="CONNECT"&&A("CONNECT"),k(J)},[w,A]=U.useState("NONE"),[C,k]=U.useState("NONE");let I=null,H=null,G=null,L;U.useEffect(()=>{u(!1)},[C,i]);const $=!!(!!i?.extensionDownloadUrl&&i?.mobileDownloadUrl);switch(C){case"NONE":I=O.createElement(xI,{getWallet:()=>B("GET")});break;case"LEARN_COMPACT":I=O.createElement(xI,{compactModeEnabled:f,getWallet:()=>B("GET")}),H=p.t("intro.title"),G="NONE";break;case"GET":I=O.createElement(iie,{getWalletDownload:z,compactModeEnabled:f}),H=p.t("get.title"),G=f?"LEARN_COMPACT":"NONE";break;case"CONNECT":I=i&&O.createElement(oie,{changeWalletStep:B,compactModeEnabled:f,connectionError:c,onClose:t,qrCodeUri:s,reconnect:_,wallet:i}),H=l&&(i.name==="WalletConnect"?p.t("connect_scan.fallback_title"):p.t("connect_scan.title",{wallet:i.name})),G=f?g?null:"NONE":null,L=f?g?()=>{}:W:()=>{};break;case"DOWNLOAD_OPTIONS":I=i&&O.createElement(sie,{changeWalletStep:B,wallet:i}),H=i&&p.t("get_options.short_title",{wallet:i.name}),G=g?"CONNECT":f?"NONE":w;break;case"DOWNLOAD":I=i&&O.createElement(aie,{changeWalletStep:B,wallet:i}),H=i&&p.t("get_mobile.title",{wallet:i.name}),G=$?"DOWNLOAD_OPTIONS":w;break;case"INSTRUCTIONS_MOBILE":I=i&&O.createElement(lie,{connectWallet:E,wallet:i}),H=i&&p.t("get_options.title",{wallet:f&&i.shortName||i.name}),G="DOWNLOAD";break;case"INSTRUCTIONS_EXTENSION":I=i&&O.createElement(cie,{wallet:i}),H=i&&p.t("get_options.title",{wallet:f&&i.shortName||i.name}),G="DOWNLOAD_OPTIONS";break;case"INSTRUCTIONS_DESKTOP":I=i&&O.createElement(uie,{connectWallet:E,wallet:i}),H=i&&p.t("get_options.title",{wallet:f&&i.shortName||i.name}),G="DOWNLOAD_OPTIONS";break}return O.createElement(re,{display:"flex",flexDirection:"row",style:{maxHeight:f?468:504}},(f?C==="NONE":!0)&&O.createElement(re,{className:f?tie:eie,display:"flex",flexDirection:"column",marginTop:"16"},O.createElement(re,{display:"flex",justifyContent:"space-between"},f&&h&&O.createElement(re,{marginLeft:"16",width:"28"},O.createElement(Dre,{onClick:()=>B("LEARN_COMPACT")})),f&&!h&&O.createElement(re,{marginLeft:"16",width:"28"}),O.createElement(re,{marginLeft:f?"0":"6",paddingBottom:"8",paddingTop:"2",paddingX:"18"},O.createElement(At,{as:"h1",color:"modalText",id:e,size:"18",weight:"heavy",testId:"connect-header-label"},p.t("connect.title"))),f&&O.createElement(re,{marginRight:"16"},O.createElement(Yc,{onClose:t}))),O.createElement(re,{className:Zre,paddingBottom:"18"},Object.entries(P).map(([J,te],oe)=>te.length>0&&O.createElement(U.Fragment,{key:oe},J?O.createElement(re,{marginBottom:"8",marginTop:"16",marginX:"6"},O.createElement(At,{color:J==="Installed"?"accentColor":"modalTextSecondary",size:"14",weight:"bold"},N.includes(J)?p.t(`connector_group.${J.toLowerCase()}`):J)):null,O.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},te.map(le=>O.createElement(ZD,{currentlySelected:le.id===n,iconBackground:le.iconBackground,iconUrl:le.iconUrl,key:le.id,name:le.name,onClick:()=>E(le),ready:le.ready,recent:le.recent,testId:`wallet-option-${le.id}`,isRainbowKitConnector:le.isRainbowKitConnector})))))),f&&O.createElement(O.Fragment,null,O.createElement(re,{background:"generalBorder",height:"1",marginTop:"-1"}),h?O.createElement(re,{paddingX:"24",paddingY:"16",textAlign:"center"},O.createElement(h,{Link:QC,Text:KC})):O.createElement(re,{alignItems:"center",display:"flex",justifyContent:"space-between",paddingX:"24",paddingY:"16"},O.createElement(re,{paddingY:"4"},O.createElement(At,{color:"modalTextSecondary",size:"14",weight:"medium"},p.t("connect.new_to_ethereum.description"))),O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",justifyContent:"center"},O.createElement(re,{className:Xn({active:"shrink",hover:"grow"}),cursor:"pointer",onClick:()=>B("LEARN_COMPACT"),paddingY:"4",style:{willChange:"transform"},transition:"default"},O.createElement(At,{color:"accentColor",size:"14",weight:"bold"},p.t("connect.new_to_ethereum.learn_more.label"))))))),(f?C!=="NONE":!0)&&O.createElement(O.Fragment,null,!f&&O.createElement(re,{background:"generalBorder",minWidth:"1",width:"1"}),O.createElement(re,{display:"flex",flexDirection:"column",margin:"16",style:{flexGrow:1}},O.createElement(re,{alignItems:"center",display:"flex",justifyContent:"space-between",marginBottom:"12"},O.createElement(re,{width:"28"},G&&O.createElement(re,{as:"button",className:Xn({active:"shrinkSm",hover:"growLg"}),color:"accentColor",onClick:()=>{G&&B(G,!0),L?.()},paddingX:"8",paddingY:"4",style:{boxSizing:"content-box",height:17,willChange:"transform"},transition:"default",type:"button"},O.createElement(YD,null))),O.createElement(re,{display:"flex",justifyContent:"center",style:{flexGrow:1}},H&&O.createElement(At,{color:"modalText",size:"18",textAlign:"center",weight:"heavy"},H)),O.createElement(Yc,{onClose:t})),O.createElement(re,{display:"flex",flexDirection:"column",style:{minHeight:f?396:432}},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"6",height:"full",justifyContent:"center",marginX:"8"},I)))))}var fie="_1am14412",hie="_1am14410",pie="_1am14413",mie=({wallet:t})=>O.createElement("svg",{className:pie,viewBox:"0 0 86 86",width:"86",height:"86"},O.createElement("title",null,"Loading"),O.createElement("rect",{x:"3",y:"3",width:80,height:80,rx:20,ry:20,strokeDasharray:`${160/3} ${2*160/3}`,strokeDashoffset:160,className:fie,style:{stroke:t?.iconAccent||"#0D3887"}}));function cU({onClose:t,wallet:e,connecting:n}){const{connect:r,iconBackground:i,iconUrl:o,id:s,name:a,getMobileUri:l,ready:c,shortName:u,showWalletConnectModal:d}=e,f=JD(o),h=U.useRef(!1),{i18n:p}=U.useContext(Zn),m=U.useCallback(async()=>{if(s!=="walletConnect"&&(async()=>{const g=await l?.();if(g)if(g&&tre({mobileUri:g,name:a}),g.startsWith("http")){const v=document.createElement("a");v.href=g,v.target="_blank",v.rel="noreferrer noopener",v.click()}else window.location.href=g})(),d){d(),t?.();return}try{await r?.()}catch{}},[r,l,d,t,a,s]);return U.useEffect(()=>{n&&!h.current&&(m(),h.current=!0)},[n,m]),O.createElement(re,{as:"button",color:c?"modalText":"modalTextSecondary",disabled:!c,fontFamily:"body",key:s,onClick:m,ref:f,style:{overflow:"visible",textAlign:"center"},testId:`wallet-option-${s}`,type:"button",width:"full"},O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},O.createElement(re,{display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"8",paddingTop:"10",position:"relative"},n?O.createElement(mie,{wallet:e}):null,O.createElement(vr,{background:i,borderRadius:"13",boxShadow:"walletLogo",height:"60",src:o,width:"60"})),n?null:O.createElement(re,{display:"flex",flexDirection:"column",textAlign:"center"},O.createElement(At,{as:"h2",color:e.ready?"modalText":"modalTextSecondary",size:"13",weight:"medium"},O.createElement(re,{as:"span",position:"relative"},u??a,!e.ready&&" (unsupported)")),e.recent&&O.createElement(At,{color:"accentColor",size:"12",weight:"medium"},p.t("connect.recent")))))}function gie({onClose:t}){const e="rk_connect_title",n=Wp().filter(h=>h.isRainbowKitConnector),{disclaimer:r,learnMoreUrl:i}=U.useContext(Im);let o=null,s=null,a=!1,l=null;const[c,u]=U.useState("CONNECT"),{i18n:d}=U.useContext(Zn),f=mu();switch(c){case"CONNECT":{o=d.t("connect.title"),a=!0,s=O.createElement(re,null,O.createElement(re,{background:"profileForeground",className:hie,display:"flex",paddingBottom:"20",paddingTop:"6"},O.createElement(re,{display:"flex",style:{margin:"0 auto"}},n.filter(h=>h.ready).map(h=>O.createElement(re,{key:h.id,paddingX:"20"},O.createElement(re,{width:"60"},O.createElement(cU,{onClose:t,wallet:h})))))),O.createElement(re,{background:"generalBorder",height:"1",marginBottom:"32",marginTop:"-1"}),O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"32",paddingX:"32",style:{textAlign:"center"}},O.createElement(re,{display:"flex",flexDirection:"column",gap:"8",textAlign:"center"},O.createElement(At,{color:"modalText",size:"16",weight:"bold"},d.t("intro.title")),O.createElement(At,{color:"modalTextSecondary",size:"16"},d.t("intro.description")))),O.createElement(re,{paddingTop:"32",paddingX:"20"},O.createElement(re,{display:"flex",gap:"14",justifyContent:"center"},O.createElement(ii,{label:d.t("intro.get.label"),onClick:()=>u("GET"),size:"large",type:"secondary"}),O.createElement(ii,{href:i,label:d.t("intro.learn_more.label"),size:"large",type:"secondary"}))),r&&O.createElement(re,{marginTop:"28",marginX:"32",textAlign:"center"},O.createElement(r,{Link:QC,Text:KC})));break}case"GET":{o=d.t("get.title"),l="CONNECT";const h=n?.filter(p=>p.downloadUrls?.ios||p.downloadUrls?.android||p.downloadUrls?.mobile)?.splice(0,3);s=O.createElement(re,null,O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginBottom:"36",marginTop:"5",paddingTop:"12",width:"full"},h.map((p,m)=>{const{downloadUrls:y,iconBackground:g,iconUrl:v,name:b}=p;return!y?.ios&&!y?.android&&!y?.mobile?null:O.createElement(re,{display:"flex",gap:"16",key:p.id,paddingX:"20",width:"full"},O.createElement(re,{style:{minHeight:48,minWidth:48}},O.createElement(vr,{background:g,borderColor:"generalBorder",borderRadius:"10",height:"48",src:v,width:"48"})),O.createElement(re,{display:"flex",flexDirection:"column",width:"full"},O.createElement(re,{alignItems:"center",display:"flex",height:"48"},O.createElement(re,{width:"full"},O.createElement(At,{color:"modalText",size:"18",weight:"bold"},b)),O.createElement(ii,{href:(f?y?.ios:y?.android)||y?.mobile,label:d.t("get.action.label"),size:"small",type:"secondary"})),m<h.length-1&&O.createElement(re,{background:"generalBorderDim",height:"1",marginY:"10",width:"full"})))})),O.createElement(re,{style:{marginBottom:"42px"}}),O.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"36",paddingX:"36",style:{textAlign:"center"}},O.createElement(re,{display:"flex",flexDirection:"column",gap:"12",textAlign:"center"},O.createElement(At,{color:"modalText",size:"16",weight:"bold"},d.t("get.looking_for.title")),O.createElement(At,{color:"modalTextSecondary",size:"16"},d.t("get.looking_for.mobile.description")))));break}}return O.createElement(re,{display:"flex",flexDirection:"column",paddingBottom:"36"},O.createElement(re,{background:a?"profileForeground":"modalBackground",display:"flex",flexDirection:"column",paddingBottom:"4",paddingTop:"14"},O.createElement(re,{display:"flex",justifyContent:"center",paddingBottom:"6",paddingX:"20",position:"relative"},l&&O.createElement(re,{display:"flex",position:"absolute",style:{left:0,marginBottom:-20,marginTop:-20}},O.createElement(re,{alignItems:"center",as:"button",className:Xn({active:"shrinkSm",hover:"growLg"}),color:"accentColor",display:"flex",marginLeft:"4",marginTop:"20",onClick:()=>u(l),padding:"16",style:{height:17,willChange:"transform"},transition:"default",type:"button"},O.createElement(YD,null))),O.createElement(re,{marginTop:"4",textAlign:"center",width:"full"},O.createElement(At,{as:"h1",color:"modalText",id:e,size:"20",weight:"bold"},o)),O.createElement(re,{alignItems:"center",display:"flex",height:"32",paddingRight:"14",position:"absolute",right:"0"},O.createElement(re,{style:{marginBottom:-20,marginTop:-20}},O.createElement(Yc,{onClose:t}))))),O.createElement(re,{display:"flex",flexDirection:"column"},s))}var yie=({onClose:t})=>{const{connector:e}=U.useContext(Rm),{i18n:n}=U.useContext(Zn),r=e?.name||"";return O.createElement(re,null,O.createElement(re,{display:"flex",paddingBottom:"32",justifyContent:"center",alignItems:"center",background:"profileForeground",flexDirection:"column"},O.createElement(re,{width:"full",display:"flex",justifyContent:"flex-end",marginTop:"18",marginRight:"24"},O.createElement(Yc,{onClose:t})),O.createElement(re,{width:"60"},O.createElement(cU,{onClose:t,wallet:e,connecting:!0})),O.createElement(re,{marginTop:"20"},O.createElement(At,{textAlign:"center",color:"modalText",size:"18",weight:"semibold"},n.t("connect.status.connect_mobile",{wallet:r}))),O.createElement(re,{maxWidth:"full",marginTop:"8"},O.createElement(At,{textAlign:"center",color:"modalText",size:"16",weight:"medium"},n.t("connect.status.confirm_mobile",{wallet:r})))))};function vie({onClose:t}){const{connector:e}=U.useContext(Rm);return br()?e?O.createElement(yie,{onClose:t}):O.createElement(gie,{onClose:t}):O.createElement(die,{onClose:t})}function wie({onClose:t,open:e}){const n="rk_connect_title",r=DC(),{disconnect:i}=TC(),{isConnecting:o}=Rr(),s=O.useCallback(()=>{t(),i()},[t,i]),a=O.useCallback(()=>{o&&i(),t()},[t,i,o]);return r==="disconnected"?O.createElement(Yy,{onClose:a,open:e,titleId:n},O.createElement(Jy,{bottomSheetOnMobile:!0,padding:"0",wide:!0},O.createElement(vie,{onClose:a}))):r==="unauthenticated"?O.createElement(Yy,{onClose:s,open:e,titleId:n},O.createElement(Jy,{bottomSheetOnMobile:!0,padding:"0"},O.createElement(Zne,{onClose:s,onCloseModal:t}))):null}function Bb(){const[t,e]=U.useState(!1);return{closeModal:U.useCallback(()=>e(!1),[]),isModalOpen:t,openModal:U.useCallback(()=>e(!0),[])}}var Tf=U.createContext({accountModalOpen:!1,chainModalOpen:!1,connectModalOpen:!1,isWalletConnectModalOpen:!1,setIsWalletConnectModalOpen:()=>{}});function bie({children:t}){const{closeModal:e,isModalOpen:n,openModal:r}=Bb(),{closeModal:i,isModalOpen:o,openModal:s}=Bb(),{closeModal:a,isModalOpen:l,openModal:c}=Bb(),[u,d]=U.useState(!1),f=DC(),{chainId:h}=Rr(),{chains:p}=cr(),m=p.some(v=>v.id===h),y=U.useCallback(({keepConnectModalOpen:v=!1}={})=>{v||e(),i(),a()},[e,i,a]),g=Ow()==="unauthenticated";return ZO({onConnect:()=>y({keepConnectModalOpen:g}),onDisconnect:()=>y()}),U.useEffect(()=>{g&&y()},[g,y]),O.createElement(Tf.Provider,{value:U.useMemo(()=>({accountModalOpen:o,chainModalOpen:l,connectModalOpen:n,isWalletConnectModalOpen:u,openAccountModal:m&&f==="connected"?s:void 0,openChainModal:f==="connected"?c:void 0,openConnectModal:f==="disconnected"||f==="unauthenticated"?r:void 0,setIsWalletConnectModalOpen:d}),[f,o,l,n,s,c,r,m,u])},t,O.createElement(wie,{onClose:e,open:n}),O.createElement(Mre,{onClose:i,open:o}),O.createElement(Bre,{onClose:a,open:l}))}function xie(){const{accountModalOpen:t,chainModalOpen:e,connectModalOpen:n}=U.useContext(Tf);return{accountModalOpen:t,chainModalOpen:e,connectModalOpen:n}}function Eie(){const{accountModalOpen:t,openAccountModal:e}=U.useContext(Tf);return{accountModalOpen:t,openAccountModal:e}}function Aie(){const{chainModalOpen:t,openChainModal:e}=U.useContext(Tf);return{chainModalOpen:t,openChainModal:e}}function uU(){const{isWalletConnectModalOpen:t,setIsWalletConnectModalOpen:e}=U.useContext(Tf);return{isWalletConnectModalOpen:t,setIsWalletConnectModalOpen:e}}function _ie(){const{connectModalOpen:t,openConnectModal:e}=U.useContext(Tf),{isWalletConnectModalOpen:n}=uU();return{connectModalOpen:t||n,openConnectModal:e}}var Ob=()=>{};function YC({children:t}){const e=one(),{address:n}=Rr(),{chainId:r}=Rr(),{chains:i}=cr(),o=i.some(W=>W.id===r),s=rne(),a=Ow()??void 0,l=r?s[r]:void 0,c=l?.name??void 0,u=l?.iconUrl??void 0,d=l?.iconBackground??void 0,f=Lw(u),h=U.useContext(HC),p=kD().some(({status:W})=>W==="pending")&&h,{showBalance:m}=TD(),g=typeof m=="boolean"?m:m?vD(m)[br()?"smallScreen":"largeScreen"]:!0,{balance:v,ensAvatar:b,ensName:x}=ID({address:n,includeBalance:g}),P=v?`${$D(Number.parseFloat(v.formatted))} ${v.symbol}`:void 0,{openConnectModal:N}=_ie(),{openChainModal:_}=Aie(),{openAccountModal:D}=Eie(),{accountModalOpen:T,chainModalOpen:E,connectModalOpen:z}=xie();return O.createElement(O.Fragment,null,t({account:n?{address:n,balanceDecimals:v?.decimals,balanceFormatted:v?.formatted,balanceSymbol:v?.symbol,displayBalance:P,displayName:x?QD(x):qD(n),ensAvatar:b??void 0,ensName:x??void 0,hasPendingTransactions:p}:void 0,accountModalOpen:T,authenticationStatus:a,chain:r?{hasIcon:!!u,iconBackground:d,iconUrl:f,id:r,name:c,unsupported:!o}:void 0,chainModalOpen:E,connectModalOpen:z,mounted:e(),openAccountModal:D??Ob,openChainModal:_??Ob,openConnectModal:N??Ob}))}YC.displayName="ConnectButton.Custom";var _h={accountStatus:"full",chainStatus:{largeScreen:"full",smallScreen:"icon"},label:"Connect Wallet",showBalance:{largeScreen:!0,smallScreen:!1}};function Mf({accountStatus:t=_h.accountStatus,chainStatus:e=_h.chainStatus,label:n=_h.label,showBalance:r=_h.showBalance}){const i=gu(),o=DC(),{setShowBalance:s}=TD(),[a,l]=U.useState(!1),{i18n:c}=U.useContext(Zn);return U.useEffect(()=>{s(r),a||l(!0)},[r,s]),a?O.createElement(YC,null,({account:u,chain:d,mounted:f,openAccountModal:h,openChainModal:p,openConnectModal:m})=>{const y=f&&o!=="loading",g=d?.unsupported??!1;return O.createElement(re,{display:"flex",gap:"12",...!y&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}}},y&&u&&o==="connected"?O.createElement(O.Fragment,null,d&&(i.length>1||g)&&O.createElement(re,{alignItems:"center","aria-label":"Chain Selector",as:"button",background:g?"connectButtonBackgroundError":"connectButtonBackground",borderRadius:"connectButton",boxShadow:"connectButton",className:Xn({active:"shrink",hover:"grow"}),color:g?"connectButtonTextError":"connectButtonText",display:Mu(e,v=>v==="none"?"none":"flex"),fontFamily:"body",fontWeight:"bold",gap:"6",key:g?"unsupported":"supported",onClick:p,paddingX:"10",paddingY:"8",testId:g?"wrong-network-button":"chain-button",transition:"default",type:"button"},g?O.createElement(re,{alignItems:"center",display:"flex",height:"24",paddingX:"4"},c.t("connect_wallet.wrong_network.label")):O.createElement(re,{alignItems:"center",display:"flex",gap:"6"},d.hasIcon?O.createElement(re,{display:Mu(e,v=>v==="full"||v==="icon"?"block":"none"),height:"24",width:"24"},O.createElement(vr,{alt:d.name??"Chain icon",background:d.iconBackground,borderRadius:"full",height:"24",src:d.iconUrl,width:"24"})):null,O.createElement(re,{display:Mu(e,v=>v==="icon"&&!d.iconUrl||v==="full"||v==="name"?"block":"none")},d.name??d.id)),O.createElement(Q5,null)),!g&&O.createElement(re,{alignItems:"center",as:"button",background:"connectButtonBackground",borderRadius:"connectButton",boxShadow:"connectButton",className:Xn({active:"shrink",hover:"grow"}),color:"connectButtonText",display:"flex",fontFamily:"body",fontWeight:"bold",onClick:h,testId:"account-button",transition:"default",type:"button"},u.displayBalance&&O.createElement(re,{display:Mu(r,v=>v?"block":"none"),padding:"8",paddingLeft:"12"},u.displayBalance),O.createElement(re,{background:vD(r)[br()?"smallScreen":"largeScreen"]?"connectButtonInnerBackground":"connectButtonBackground",borderColor:"connectButtonBackground",borderRadius:"connectButton",borderStyle:"solid",borderWidth:"2",color:"connectButtonText",fontFamily:"body",fontWeight:"bold",paddingX:"8",paddingY:"6",transition:"default"},O.createElement(re,{alignItems:"center",display:"flex",gap:"6",height:"24"},O.createElement(re,{display:Mu(t,v=>v==="full"||v==="avatar"?"block":"none")},O.createElement(_D,{address:u.address,imageUrl:u.ensAvatar,loading:u.hasPendingTransactions,size:24})),O.createElement(re,{alignItems:"center",display:"flex",gap:"6"},O.createElement(re,{display:Mu(t,v=>v==="full"||v==="address"?"block":"none")},u.displayName),O.createElement(Q5,null)))))):O.createElement(re,{as:"button",background:"accentColor",borderRadius:"connectButton",boxShadow:"connectButton",className:Xn({active:"shrink",hover:"grow"}),color:"accentColorForeground",fontFamily:"body",fontWeight:"bold",height:"40",key:"connect",onClick:m,paddingX:"14",testId:"connect-button",transition:"default",type:"button"},f&&n==="Connect Wallet"?c.t("connect_wallet.label"):n))}):O.createElement(O.Fragment,null)}Mf.__defaultProps=_h;Mf.Custom=YC;var dU=({appName:t,appDescription:e,appUrl:n,appIcon:r})=>({name:t,description:e??t,url:n??(typeof window<"u"?window.location.origin:""),icons:[...r?[r]:[]]});function Sie(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>n!==void 0))}function Cie(t,e){const n=[];for(const r of t)n.some(i=>i[e]===r[e])||n.push(r);return n}var fU=(t,{projectId:e,walletConnectParameters:n,appName:r,appDescription:i,appUrl:o,appIcon:s})=>{if(!t.length)throw new Error("No wallet list was provided");for(const{wallets:h,groupName:p}of t)if(!h.length)throw new Error(`No wallets provided for group: ${p}`);let a=-1;const l=[],c=[],u=[],d=dU({appName:r,appDescription:i,appUrl:o,appIcon:s});for(const[h,{groupName:p,wallets:m}]of t.entries())for(const y of m){a++;const g=y({projectId:e,appName:r,appIcon:s,options:{metadata:d,...n},walletConnectParameters:{metadata:d,...n}});if(g?.iconAccent&&!Vre(g?.iconAccent))throw new Error(`Property \`iconAccent\` is not a hex value for wallet: ${g.name}`);const v={...g,groupIndex:h+1,groupName:p,index:a};typeof g.hidden=="function"?u.push(v):c.push(v)}const f=Cie([...c,...u],"id");for(const{createConnector:h,groupIndex:p,groupName:m,hidden:y,...g}of f){if(typeof y=="function"&&y())continue;const v=P=>({rkDetails:Sie({...g,groupIndex:p,groupName:m,isRainbowKitConnector:!0,...P||{}})});g.id==="walletConnect"&&l.push(h(v({isWalletConnectModalConnector:!0,showQrModal:!0})));const x=h(v());l.push(x)}return l},AI=new Map,Tie=({projectId:t,walletConnectParameters:e,rkDetailsShowQrModal:n,rkDetailsIsWalletConnectModalConnector:r})=>{let i={...e||{},projectId:t,showQrModal:!1};n&&(i={...i,showQrModal:!0}),"customStoragePrefix"in i||(i={...i,customStoragePrefix:r?"clientOne":"clientTwo"});const o=JSON.stringify(i),s=AI.get(o);if(s)return s;const a=Bw(i);return AI.set(o,a),a};function Mie({projectId:t,walletDetails:e,walletConnectParameters:n}){return r=>({...Tie({projectId:t,walletConnectParameters:n,rkDetailsShowQrModal:e.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:e.rkDetails.isWalletConnectModalConnector})(r),...e})}function JC({projectId:t,walletConnectParameters:e}){const n="21fef48091f12692cad574a6f7753643";if(!t||t==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return t==="YOUR_PROJECT_ID"&&(t=n),r=>Mie({projectId:t,walletDetails:r,walletConnectParameters:e})}function hU(t){const e=typeof window<"u"?window:void 0;if(typeof e>"u"||typeof e.ethereum>"u")return;const n=e.ethereum.providers;return n?n.find(r=>r[t]):e.ethereum[t]?e.ethereum:void 0}function pU(t){const e=(n,r)=>{const[i,...o]=r.split("."),s=n[i];if(s)return o.length===0?s:e(s,o.join("."))};if(typeof window<"u")return e(window,t)}function mU({flag:t,namespace:e}){return!!(e&&typeof pU(e)<"u"||t&&typeof hU(t)<"u")}function Iie({flag:t,namespace:e}){const n=typeof window<"u"?window:void 0;if(typeof n>"u")return;if(e){const i=pU(e);if(i)return i}const r=n.ethereum?.providers;if(t){const i=hU(t);if(i)return i}return typeof r<"u"&&r.length>0?r[0]:n.ethereum}function Rie(t){return e=>{const n=t?{target:()=>({id:e.rkDetails.id,name:e.rkDetails.name,provider:t})}:{};return r=>({...Cm(n)(r),...e})}}function gU({flag:t,namespace:e,target:n}){const r=n||Iie({flag:t,namespace:e});return Rie(r)}var yU=({appName:t,appIcon:e})=>{const n=i=>i,r=mu();return{id:"coinbase",name:"Coinbase Wallet",shortName:"Coinbase",rdns:"com.coinbase.wallet",iconUrl:async()=>(await qe(async()=>{const{default:i}=await import("./coinbaseWallet-OKXU3TRC-DnGdeF1T.js");return{default:i}},[])).default,iconAccent:"#2c5ff6",iconBackground:"#2c5ff6",installed:!0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-store-crypto/id1278383455",mobile:"https://coinbase.com/wallet/downloads",qrCode:"https://coinbase-wallet.onelink.me/q5Sx/fdb9b250",chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",browserExtension:"https://coinbase.com/wallet"},...r?{}:{qrCode:{getUri:n,instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-mobile",steps:[{description:"wallet_connectors.coinbase.qr_code.step1.description",step:"install",title:"wallet_connectors.coinbase.qr_code.step1.title"},{description:"wallet_connectors.coinbase.qr_code.step2.description",step:"create",title:"wallet_connectors.coinbase.qr_code.step2.title"},{description:"wallet_connectors.coinbase.qr_code.step3.description",step:"scan",title:"wallet_connectors.coinbase.qr_code.step3.title"}]}},extension:{instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-extension",steps:[{description:"wallet_connectors.coinbase.extension.step1.description",step:"install",title:"wallet_connectors.coinbase.extension.step1.title"},{description:"wallet_connectors.coinbase.extension.step2.description",step:"create",title:"wallet_connectors.coinbase.extension.step2.title"},{description:"wallet_connectors.coinbase.extension.step3.description",step:"refresh",title:"wallet_connectors.coinbase.extension.step3.title"}]}}},createConnector:i=>{const{...o}=yU,s=Mm({appName:t,appLogoUrl:e,...o});return a=>({...s(a),...i})}}};function Pie(t){return!(!t?.isMetaMask||t.isBraveWallet&&!t._events&&!t._state||t.isApexWallet||t.isAvalanche||t.isBackpack||t.isBifrost||t.isBitKeep||t.isBitski||t.isBlockWallet||t.isCoinbaseWallet||t.isDawn||t.isEnkrypt||t.isExodus||t.isFrame||t.isFrontier||t.isGamestop||t.isHyperPay||t.isImToken||t.isKuCoinWallet||t.isMathWallet||t.isNestWallet||t.isOkxWallet||t.isOKExWallet||t.isOneInchIOSWallet||t.isOneInchAndroidWallet||t.isOpera||t.isPhantom||t.isPortal||t.isRabby||t.isRainbow||t.isStatus||t.isTalisman||t.isTally||t.isTokenPocket||t.isTokenary||t.isTrust||t.isTrustWallet||t.isXDEFI||t.isZeal||t.isZerion||t.__seif)}var Nie=({projectId:t,walletConnectParameters:e})=>{const n=mU({flag:"isMetaMask"}),r=!n,i=o=>UC()?o:mu()?`metamask://wc?uri=${encodeURIComponent(o)}`:`https://metamask.app.link/wc?uri=${encodeURIComponent(o)}`;return{id:"metaMask",name:"MetaMask",rdns:"io.metamask",iconUrl:async()=>(await qe(async()=>{const{default:o}=await import("./metaMaskWallet-SITXT2FV-BlemcphV.js");return{default:o}},[])).default,iconAccent:"#f6851a",iconBackground:"#fff",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask/id1438144202",mobile:"https://metamask.io/download",qrCode:"https://metamask.io/download",chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm",firefox:"https://addons.mozilla.org/firefox/addon/ether-metamask",opera:"https://addons.opera.com/extensions/details/metamask-10",browserExtension:"https://metamask.io/download"},mobile:{getUri:r?i:void 0},qrCode:r?{getUri:i,instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.qr_code.step1.description",step:"install",title:"wallet_connectors.metamask.qr_code.step1.title"},{description:"wallet_connectors.metamask.qr_code.step2.description",step:"create",title:"wallet_connectors.metamask.qr_code.step2.title"},{description:"wallet_connectors.metamask.qr_code.step3.description",step:"refresh",title:"wallet_connectors.metamask.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.extension.step1.description",step:"install",title:"wallet_connectors.metamask.extension.step1.title"},{description:"wallet_connectors.metamask.extension.step2.description",step:"create",title:"wallet_connectors.metamask.extension.step2.title"},{description:"wallet_connectors.metamask.extension.step3.description",step:"refresh",title:"wallet_connectors.metamask.extension.step3.title"}]}},createConnector:r?JC({projectId:t,walletConnectParameters:e}):gU({target:typeof window<"u"?window.ethereum?.providers?.find(Pie)??window.ethereum:void 0})}},kie=({projectId:t,walletConnectParameters:e})=>{const n=mU({flag:"isRainbow"}),r=!n,i=o=>UC()?o:mu()?`rainbow://wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await qe(async()=>{const{default:o}=await import("./rainbowWallet-O26YNBMX-DUhYus-9.js");return{default:o}},[])).default,iconBackground:"#0c2f78",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:r?i:void 0},qrCode:r?{getUri:i,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:r?JC({projectId:t,walletConnectParameters:e}):gU({flag:"isRainbow"})}},Fie=()=>({id:"safe",name:"Safe",iconAccent:"#12ff80",iconBackground:"#fff",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./safeWallet-5MNKTR5Z-D-5imDLD.js");return{default:t}},[])).default,installed:!(typeof window>"u")&&window?.parent!==window,downloadUrls:{},createConnector:t=>e=>({...LC()(e),...t})}),Bie=({projectId:t,options:e})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await qe(async()=>{const{default:r}=await import("./walletConnectWallet-YHWKVTDY-D3lyiczV.js");return{default:r}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:r=>r},createConnector:JC({projectId:t,walletConnectParameters:e})}),Oie=t=>t.reduce((n,r)=>{const i=r.id;return n[i]=Ya(),n},{}),Lie=({appName:t,appDescription:e,appUrl:n,appIcon:r,wallets:i,projectId:o,...s})=>{const{transports:a,chains:l,...c}=s,u=dU({appName:t,appDescription:e,appUrl:n,appIcon:r}),d=fU(i||[{groupName:"Popular",wallets:[Fie,kie,yU,Nie,Bie]}],{projectId:o,appName:t,appDescription:e,appUrl:n,appIcon:r,walletConnectParameters:{metadata:u}});return $O({connectors:d,chains:l,transports:a||Oie(l),...c})};const vU=U.createContext(),Ls=()=>{const t=U.useContext(vU);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},Die=({children:t})=>{const[e,n]=U.useState([]),r=U.useRef(0),i=(l,c="info",u=3e3)=>{const d=`toast-${++r.current}-${Math.random().toString(36).substr(2,9)}-${Date.now()}`;n(f=>[...f,{id:d,message:l,type:c}]),setTimeout(()=>{n(f=>f.filter(h=>h.id!==d))},u)},o=l=>i(l,"success"),s=l=>i(l,"error"),a=l=>i(l,"info");return K(vU.Provider,{value:{showToast:i,showSuccess:o,showError:s,showInfo:a},children:[t,F("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.map(l=>F("div",{className:`status-message status-${l.type} animate-slide-in`,role:"alert",children:l.message},l.id))})]})},Uie="logger/5.8.0";let _I=!1,SI=!1;const Wg={debug:1,default:2,info:2,warning:3,error:4,off:5};let CI=Wg.default,Lb=null;function zie(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const TI=zie();var YA;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(YA||(YA={}));var Oo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Oo||(Oo={}));const MI="0123456789abcdef";let vi=class tr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();Wg[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(CI>Wg[r])&&console.log.apply(console,n)}debug(...e){this._log(tr.levels.DEBUG,e)}info(...e){this._log(tr.levels.INFO,e)}warn(...e){this._log(tr.levels.WARNING,e)}makeError(e,n,r){if(SI)return this.makeError("censored error",n,{});n||(n=tr.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let u="";for(let d=0;d<c.length;d++)u+=MI[c[d]>>4],u+=MI[c[d]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const o=e;let s="";switch(n){case Oo.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Oo.CALL_EXCEPTION:case Oo.INSUFFICIENT_FUNDS:case Oo.MISSING_NEW:case Oo.NONCE_EXPIRED:case Oo.REPLACEMENT_UNDERPRICED:case Oo.TRANSACTION_REPLACED:case Oo.UNPREDICTABLE_GAS_LIMIT:s=n;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=n,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,tr.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){TI&&this.throwError("platform missing String.prototype.normalize",tr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:TI})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,tr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,tr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,tr.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,tr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",tr.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",tr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",tr.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return Lb||(Lb=new tr(Uie)),Lb}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",tr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_I){if(!e)return;this.globalLogger().throwError("error censorship permanent",tr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}SI=!!e,_I=!!n}static setLogLevel(e){const n=Wg[e.toLowerCase()];if(n==null){tr.globalLogger().warn("invalid log level - "+e);return}CI=n}static from(e){return new tr(e)}};vi.errors=Oo;vi.levels=YA;const jie="bytes/5.8.0",Rn=new vi(jie);function wU(t){return!!t.toHexString}function Ed(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ed(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Hie(t){return Si(t)&&!(t.length%2)||If(t)}function II(t){return typeof t=="number"&&t==t&&t%1===0}function If(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!II(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!II(n)||n<0||n>=256)return!1}return!0}function Pc(t,e){if(e||(e={}),typeof t=="number"){Rn.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),Ed(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),wU(t)&&(t=t.toHexString()),Si(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Rn.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return Ed(new Uint8Array(r))}return If(t)?Ed(new Uint8Array(t)):Rn.throwArgumentError("invalid arrayify value","value",t)}function Zxe(t){const e=t.map(i=>Pc(i)),n=e.reduce((i,o)=>i+o.length,0),r=new Uint8Array(n);return e.reduce((i,o)=>(r.set(o,i),i+o.length),0),Ed(r)}function eEe(t){let e=Pc(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function Gie(t,e){t=Pc(t),t.length>e&&Rn.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),Ed(n)}function Si(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Db="0123456789abcdef";function Kr(t,e){if(e||(e={}),typeof t=="number"){Rn.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=Db[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),wU(t))return t.toHexString();if(Si(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Rn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(If(t)){let n="0x";for(let r=0;r<t.length;r++){let i=t[r];n+=Db[(i&240)>>4]+Db[i&15]}return n}return Rn.throwArgumentError("invalid hexlify value","value",t)}function tEe(t){if(typeof t!="string")t=Kr(t);else if(!Si(t)||t.length%2)return null;return(t.length-2)/2}function nEe(t,e,n){return typeof t!="string"?t=Kr(t):(!Si(t)||t.length%2)&&Rn.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function rEe(t){let e="0x";return t.forEach(n=>{e+=Kr(n).substring(2)}),e}function Wie(t){const e=bU(Kr(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function bU(t){typeof t!="string"&&(t=Kr(t)),Si(t)||Rn.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Vh(t,e){for(typeof t!="string"?t=Kr(t):Si(t)||Rn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Rn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function iEe(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Hie(t)){let n=Pc(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=Kr(n.slice(0,32)),e.s=Kr(n.slice(32,64))):n.length===65?(e.r=Kr(n.slice(0,32)),e.s=Kr(n.slice(32,64)),e.v=n[64]):Rn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Rn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=Kr(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Gie(Pc(e._vs),32);e._vs=Kr(i);const o=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=o:e.recoveryParam!==o&&Rn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const s=Kr(i);e.s==null?e.s=s:e.s!==s&&Rn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Rn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Rn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Si(e.r)?Rn.throwArgumentError("signature missing or invalid r","signature",t):e.r=Vh(e.r,32),e.s==null||!Si(e.s)?Rn.throwArgumentError("signature missing or invalid s","signature",t):e.s=Vh(e.s,32);const n=Pc(e.s);n[0]>=128&&Rn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=Kr(n);e._vs&&(Si(e._vs)||Rn.throwArgumentError("signature invalid _vs","signature",t),e._vs=Vh(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&Rn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var ZC={exports:{}};ZC.exports;(function(t){(function(e,n){function r(B,w){if(!B)throw new Error(w||"Assertion failed")}function i(B,w){B.super_=w;var A=function(){};A.prototype=w.prototype,B.prototype=new A,B.prototype.constructor=B}function o(B,w,A){if(o.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((w==="le"||w==="be")&&(A=w,w=10),this._init(B||0,w||10,A||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=j_.Buffer}catch{}o.isBN=function(w){return w instanceof o?!0:w!==null&&typeof w=="object"&&w.constructor.wordSize===o.wordSize&&Array.isArray(w.words)},o.max=function(w,A){return w.cmp(A)>0?w:A},o.min=function(w,A){return w.cmp(A)<0?w:A},o.prototype._init=function(w,A,C){if(typeof w=="number")return this._initNumber(w,A,C);if(typeof w=="object")return this._initArray(w,A,C);A==="hex"&&(A=16),r(A===(A|0)&&A>=2&&A<=36),w=w.toString().replace(/\s+/g,"");var k=0;w[0]==="-"&&(k++,this.negative=1),k<w.length&&(A===16?this._parseHex(w,k,C):(this._parseBase(w,A,k),C==="le"&&this._initArray(this.toArray(),A,C)))},o.prototype._initNumber=function(w,A,C){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[w&67108863],this.length=1):w<4503599627370496?(this.words=[w&67108863,w/67108864&67108863],this.length=2):(r(w<9007199254740992),this.words=[w&67108863,w/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),A,C)},o.prototype._initArray=function(w,A,C){if(r(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var I,H,G=0;if(C==="be")for(k=w.length-1,I=0;k>=0;k-=3)H=w[k]|w[k-1]<<8|w[k-2]<<16,this.words[I]|=H<<G&67108863,this.words[I+1]=H>>>26-G&67108863,G+=24,G>=26&&(G-=26,I++);else if(C==="le")for(k=0,I=0;k<w.length;k+=3)H=w[k]|w[k+1]<<8|w[k+2]<<16,this.words[I]|=H<<G&67108863,this.words[I+1]=H>>>26-G&67108863,G+=24,G>=26&&(G-=26,I++);return this._strip()};function a(B,w){var A=B.charCodeAt(w);if(A>=48&&A<=57)return A-48;if(A>=65&&A<=70)return A-55;if(A>=97&&A<=102)return A-87;r(!1,"Invalid character in "+B)}function l(B,w,A){var C=a(B,A);return A-1>=w&&(C|=a(B,A-1)<<4),C}o.prototype._parseHex=function(w,A,C){this.length=Math.ceil((w.length-A)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var I=0,H=0,G;if(C==="be")for(k=w.length-1;k>=A;k-=2)G=l(w,A,k)<<I,this.words[H]|=G&67108863,I>=18?(I-=18,H+=1,this.words[H]|=G>>>26):I+=8;else{var L=w.length-A;for(k=L%2===0?A+1:A;k<w.length;k+=2)G=l(w,A,k)<<I,this.words[H]|=G&67108863,I>=18?(I-=18,H+=1,this.words[H]|=G>>>26):I+=8}this._strip()};function c(B,w,A,C){for(var k=0,I=0,H=Math.min(B.length,A),G=w;G<H;G++){var L=B.charCodeAt(G)-48;k*=C,L>=49?I=L-49+10:L>=17?I=L-17+10:I=L,r(L>=0&&I<C,"Invalid character"),k+=I}return k}o.prototype._parseBase=function(w,A,C){this.words=[0],this.length=1;for(var k=0,I=1;I<=67108863;I*=A)k++;k--,I=I/A|0;for(var H=w.length-C,G=H%k,L=Math.min(H,H-G)+C,M=0,$=C;$<L;$+=k)M=c(w,$,$+k,A),this.imuln(I),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(G!==0){var J=1;for(M=c(w,$,w.length,A),$=0;$<G;$++)J*=A;this.imuln(J),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this._strip()},o.prototype.copy=function(w){w.words=new Array(this.length);for(var A=0;A<this.length;A++)w.words[A]=this.words[A];w.length=this.length,w.negative=this.negative,w.red=this.red};function u(B,w){B.words=w.words,B.length=w.length,B.negative=w.negative,B.red=w.red}if(o.prototype._move=function(w){u(w,this)},o.prototype.clone=function(){var w=new o(null);return this.copy(w),w},o.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(w,A){w=w||10,A=A|0||1;var C;if(w===16||w==="hex"){C="";for(var k=0,I=0,H=0;H<this.length;H++){var G=this.words[H],L=((G<<k|I)&16777215).toString(16);I=G>>>24-k&16777215,k+=2,k>=26&&(k-=26,H--),I!==0||H!==this.length-1?C=f[6-L.length]+L+C:C=L+C}for(I!==0&&(C=I.toString(16)+C);C.length%A!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(w===(w|0)&&w>=2&&w<=36){var M=h[w],$=p[w];C="";var J=this.clone();for(J.negative=0;!J.isZero();){var te=J.modrn($).toString(w);J=J.idivn($),J.isZero()?C=te+C:C=f[M-te.length]+te+C}for(this.isZero()&&(C="0"+C);C.length%A!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=this.words[1]*67108864:this.length===3&&this.words[2]===1?w+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(w,A){return this.toArrayLike(s,w,A)}),o.prototype.toArray=function(w,A){return this.toArrayLike(Array,w,A)};var m=function(w,A){return w.allocUnsafe?w.allocUnsafe(A):new w(A)};o.prototype.toArrayLike=function(w,A,C){this._strip();var k=this.byteLength(),I=C||Math.max(1,k);r(k<=I,"byte array longer than desired length"),r(I>0,"Requested array length <= 0");var H=m(w,I),G=A==="le"?"LE":"BE";return this["_toArrayLike"+G](H,k),H},o.prototype._toArrayLikeLE=function(w,A){for(var C=0,k=0,I=0,H=0;I<this.length;I++){var G=this.words[I]<<H|k;w[C++]=G&255,C<w.length&&(w[C++]=G>>8&255),C<w.length&&(w[C++]=G>>16&255),H===6?(C<w.length&&(w[C++]=G>>24&255),k=0,H=0):(k=G>>>24,H+=2)}if(C<w.length)for(w[C++]=k;C<w.length;)w[C++]=0},o.prototype._toArrayLikeBE=function(w,A){for(var C=w.length-1,k=0,I=0,H=0;I<this.length;I++){var G=this.words[I]<<H|k;w[C--]=G&255,C>=0&&(w[C--]=G>>8&255),C>=0&&(w[C--]=G>>16&255),H===6?(C>=0&&(w[C--]=G>>24&255),k=0,H=0):(k=G>>>24,H+=2)}if(C>=0)for(w[C--]=k;C>=0;)w[C--]=0},Math.clz32?o.prototype._countBits=function(w){return 32-Math.clz32(w)}:o.prototype._countBits=function(w){var A=w,C=0;return A>=4096&&(C+=13,A>>>=13),A>=64&&(C+=7,A>>>=7),A>=8&&(C+=4,A>>>=4),A>=2&&(C+=2,A>>>=2),C+A},o.prototype._zeroBits=function(w){if(w===0)return 26;var A=w,C=0;return A&8191||(C+=13,A>>>=13),A&127||(C+=7,A>>>=7),A&15||(C+=4,A>>>=4),A&3||(C+=2,A>>>=2),A&1||C++,C},o.prototype.bitLength=function(){var w=this.words[this.length-1],A=this._countBits(w);return(this.length-1)*26+A};function y(B){for(var w=new Array(B.bitLength()),A=0;A<w.length;A++){var C=A/26|0,k=A%26;w[A]=B.words[C]>>>k&1}return w}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,A=0;A<this.length;A++){var C=this._zeroBits(this.words[A]);if(w+=C,C!==26)break}return w},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},o.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var A=0;A<w.length;A++)this.words[A]=this.words[A]|w.words[A];return this._strip()},o.prototype.ior=function(w){return r((this.negative|w.negative)===0),this.iuor(w)},o.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},o.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},o.prototype.iuand=function(w){var A;this.length>w.length?A=w:A=this;for(var C=0;C<A.length;C++)this.words[C]=this.words[C]&w.words[C];return this.length=A.length,this._strip()},o.prototype.iand=function(w){return r((this.negative|w.negative)===0),this.iuand(w)},o.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},o.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},o.prototype.iuxor=function(w){var A,C;this.length>w.length?(A=this,C=w):(A=w,C=this);for(var k=0;k<C.length;k++)this.words[k]=A.words[k]^C.words[k];if(this!==A)for(;k<A.length;k++)this.words[k]=A.words[k];return this.length=A.length,this._strip()},o.prototype.ixor=function(w){return r((this.negative|w.negative)===0),this.iuxor(w)},o.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},o.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},o.prototype.inotn=function(w){r(typeof w=="number"&&w>=0);var A=Math.ceil(w/26)|0,C=w%26;this._expand(A),C>0&&A--;for(var k=0;k<A;k++)this.words[k]=~this.words[k]&67108863;return C>0&&(this.words[k]=~this.words[k]&67108863>>26-C),this._strip()},o.prototype.notn=function(w){return this.clone().inotn(w)},o.prototype.setn=function(w,A){r(typeof w=="number"&&w>=0);var C=w/26|0,k=w%26;return this._expand(C+1),A?this.words[C]=this.words[C]|1<<k:this.words[C]=this.words[C]&~(1<<k),this._strip()},o.prototype.iadd=function(w){var A;if(this.negative!==0&&w.negative===0)return this.negative=0,A=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,A=this.isub(w),w.negative=1,A._normSign();var C,k;this.length>w.length?(C=this,k=w):(C=w,k=this);for(var I=0,H=0;H<k.length;H++)A=(C.words[H]|0)+(k.words[H]|0)+I,this.words[H]=A&67108863,I=A>>>26;for(;I!==0&&H<C.length;H++)A=(C.words[H]|0)+I,this.words[H]=A&67108863,I=A>>>26;if(this.length=C.length,I!==0)this.words[this.length]=I,this.length++;else if(C!==this)for(;H<C.length;H++)this.words[H]=C.words[H];return this},o.prototype.add=function(w){var A;return w.negative!==0&&this.negative===0?(w.negative=0,A=this.sub(w),w.negative^=1,A):w.negative===0&&this.negative!==0?(this.negative=0,A=w.sub(this),this.negative=1,A):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},o.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var A=this.iadd(w);return w.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var C=this.cmp(w);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,I;C>0?(k=this,I=w):(k=w,I=this);for(var H=0,G=0;G<I.length;G++)A=(k.words[G]|0)-(I.words[G]|0)+H,H=A>>26,this.words[G]=A&67108863;for(;H!==0&&G<k.length;G++)A=(k.words[G]|0)+H,H=A>>26,this.words[G]=A&67108863;if(H===0&&G<k.length&&k!==this)for(;G<k.length;G++)this.words[G]=k.words[G];return this.length=Math.max(this.length,G),k!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(w){return this.clone().isub(w)};function g(B,w,A){A.negative=w.negative^B.negative;var C=B.length+w.length|0;A.length=C,C=C-1|0;var k=B.words[0]|0,I=w.words[0]|0,H=k*I,G=H&67108863,L=H/67108864|0;A.words[0]=G;for(var M=1;M<C;M++){for(var $=L>>>26,J=L&67108863,te=Math.min(M,w.length-1),oe=Math.max(0,M-B.length+1);oe<=te;oe++){var le=M-oe|0;k=B.words[le]|0,I=w.words[oe]|0,H=k*I+J,$+=H/67108864|0,J=H&67108863}A.words[M]=J|0,L=$|0}return L!==0?A.words[M]=L|0:A.length--,A._strip()}var v=function(w,A,C){var k=w.words,I=A.words,H=C.words,G=0,L,M,$,J=k[0]|0,te=J&8191,oe=J>>>13,le=k[1]|0,Te=le&8191,Ne=le>>>13,Ae=k[2]|0,Be=Ae&8191,Re=Ae>>>13,ut=k[3]|0,ee=ut&8191,_t=ut>>>13,Et=k[4]|0,dt=Et&8191,Ye=Et>>>13,Nt=k[5]|0,et=Nt&8191,X=Nt>>>13,V=k[6]|0,ce=V&8191,we=V>>>13,Ie=k[7]|0,pe=Ie&8191,j=Ie>>>13,S=k[8]|0,R=S&8191,Q=S>>>13,Y=k[9]|0,Z=Y&8191,ne=Y>>>13,De=I[0]|0,Pe=De&8191,Ke=De>>>13,ft=I[1]|0,rt=ft&8191,ae=ft>>>13,it=I[2]|0,ye=it&8191,_e=it>>>13,ot=I[3]|0,Le=ot&8191,bt=ot>>>13,sn=I[4]|0,Pt=sn&8191,St=sn>>>13,er=I[5]|0,qt=er&8191,ie=er>>>13,he=I[6]|0,me=he&8191,Ce=he>>>13,nt=I[7]|0,Ze=nt&8191,at=nt>>>13,ht=I[8]|0,Qe=ht&8191,Ve=ht>>>13,gt=I[9]|0,yt=gt&8191,Ct=gt>>>13;C.negative=w.negative^A.negative,C.length=19,L=Math.imul(te,Pe),M=Math.imul(te,Ke),M=M+Math.imul(oe,Pe)|0,$=Math.imul(oe,Ke);var gn=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(gn>>>26)|0,gn&=67108863,L=Math.imul(Te,Pe),M=Math.imul(Te,Ke),M=M+Math.imul(Ne,Pe)|0,$=Math.imul(Ne,Ke),L=L+Math.imul(te,rt)|0,M=M+Math.imul(te,ae)|0,M=M+Math.imul(oe,rt)|0,$=$+Math.imul(oe,ae)|0;var q=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(q>>>26)|0,q&=67108863,L=Math.imul(Be,Pe),M=Math.imul(Be,Ke),M=M+Math.imul(Re,Pe)|0,$=Math.imul(Re,Ke),L=L+Math.imul(Te,rt)|0,M=M+Math.imul(Te,ae)|0,M=M+Math.imul(Ne,rt)|0,$=$+Math.imul(Ne,ae)|0,L=L+Math.imul(te,ye)|0,M=M+Math.imul(te,_e)|0,M=M+Math.imul(oe,ye)|0,$=$+Math.imul(oe,_e)|0;var se=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(se>>>26)|0,se&=67108863,L=Math.imul(ee,Pe),M=Math.imul(ee,Ke),M=M+Math.imul(_t,Pe)|0,$=Math.imul(_t,Ke),L=L+Math.imul(Be,rt)|0,M=M+Math.imul(Be,ae)|0,M=M+Math.imul(Re,rt)|0,$=$+Math.imul(Re,ae)|0,L=L+Math.imul(Te,ye)|0,M=M+Math.imul(Te,_e)|0,M=M+Math.imul(Ne,ye)|0,$=$+Math.imul(Ne,_e)|0,L=L+Math.imul(te,Le)|0,M=M+Math.imul(te,bt)|0,M=M+Math.imul(oe,Le)|0,$=$+Math.imul(oe,bt)|0;var ge=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(ge>>>26)|0,ge&=67108863,L=Math.imul(dt,Pe),M=Math.imul(dt,Ke),M=M+Math.imul(Ye,Pe)|0,$=Math.imul(Ye,Ke),L=L+Math.imul(ee,rt)|0,M=M+Math.imul(ee,ae)|0,M=M+Math.imul(_t,rt)|0,$=$+Math.imul(_t,ae)|0,L=L+Math.imul(Be,ye)|0,M=M+Math.imul(Be,_e)|0,M=M+Math.imul(Re,ye)|0,$=$+Math.imul(Re,_e)|0,L=L+Math.imul(Te,Le)|0,M=M+Math.imul(Te,bt)|0,M=M+Math.imul(Ne,Le)|0,$=$+Math.imul(Ne,bt)|0,L=L+Math.imul(te,Pt)|0,M=M+Math.imul(te,St)|0,M=M+Math.imul(oe,Pt)|0,$=$+Math.imul(oe,St)|0;var ve=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(ve>>>26)|0,ve&=67108863,L=Math.imul(et,Pe),M=Math.imul(et,Ke),M=M+Math.imul(X,Pe)|0,$=Math.imul(X,Ke),L=L+Math.imul(dt,rt)|0,M=M+Math.imul(dt,ae)|0,M=M+Math.imul(Ye,rt)|0,$=$+Math.imul(Ye,ae)|0,L=L+Math.imul(ee,ye)|0,M=M+Math.imul(ee,_e)|0,M=M+Math.imul(_t,ye)|0,$=$+Math.imul(_t,_e)|0,L=L+Math.imul(Be,Le)|0,M=M+Math.imul(Be,bt)|0,M=M+Math.imul(Re,Le)|0,$=$+Math.imul(Re,bt)|0,L=L+Math.imul(Te,Pt)|0,M=M+Math.imul(Te,St)|0,M=M+Math.imul(Ne,Pt)|0,$=$+Math.imul(Ne,St)|0,L=L+Math.imul(te,qt)|0,M=M+Math.imul(te,ie)|0,M=M+Math.imul(oe,qt)|0,$=$+Math.imul(oe,ie)|0;var de=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(de>>>26)|0,de&=67108863,L=Math.imul(ce,Pe),M=Math.imul(ce,Ke),M=M+Math.imul(we,Pe)|0,$=Math.imul(we,Ke),L=L+Math.imul(et,rt)|0,M=M+Math.imul(et,ae)|0,M=M+Math.imul(X,rt)|0,$=$+Math.imul(X,ae)|0,L=L+Math.imul(dt,ye)|0,M=M+Math.imul(dt,_e)|0,M=M+Math.imul(Ye,ye)|0,$=$+Math.imul(Ye,_e)|0,L=L+Math.imul(ee,Le)|0,M=M+Math.imul(ee,bt)|0,M=M+Math.imul(_t,Le)|0,$=$+Math.imul(_t,bt)|0,L=L+Math.imul(Be,Pt)|0,M=M+Math.imul(Be,St)|0,M=M+Math.imul(Re,Pt)|0,$=$+Math.imul(Re,St)|0,L=L+Math.imul(Te,qt)|0,M=M+Math.imul(Te,ie)|0,M=M+Math.imul(Ne,qt)|0,$=$+Math.imul(Ne,ie)|0,L=L+Math.imul(te,me)|0,M=M+Math.imul(te,Ce)|0,M=M+Math.imul(oe,me)|0,$=$+Math.imul(oe,Ce)|0;var Ue=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,L=Math.imul(pe,Pe),M=Math.imul(pe,Ke),M=M+Math.imul(j,Pe)|0,$=Math.imul(j,Ke),L=L+Math.imul(ce,rt)|0,M=M+Math.imul(ce,ae)|0,M=M+Math.imul(we,rt)|0,$=$+Math.imul(we,ae)|0,L=L+Math.imul(et,ye)|0,M=M+Math.imul(et,_e)|0,M=M+Math.imul(X,ye)|0,$=$+Math.imul(X,_e)|0,L=L+Math.imul(dt,Le)|0,M=M+Math.imul(dt,bt)|0,M=M+Math.imul(Ye,Le)|0,$=$+Math.imul(Ye,bt)|0,L=L+Math.imul(ee,Pt)|0,M=M+Math.imul(ee,St)|0,M=M+Math.imul(_t,Pt)|0,$=$+Math.imul(_t,St)|0,L=L+Math.imul(Be,qt)|0,M=M+Math.imul(Be,ie)|0,M=M+Math.imul(Re,qt)|0,$=$+Math.imul(Re,ie)|0,L=L+Math.imul(Te,me)|0,M=M+Math.imul(Te,Ce)|0,M=M+Math.imul(Ne,me)|0,$=$+Math.imul(Ne,Ce)|0,L=L+Math.imul(te,Ze)|0,M=M+Math.imul(te,at)|0,M=M+Math.imul(oe,Ze)|0,$=$+Math.imul(oe,at)|0;var Je=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(Je>>>26)|0,Je&=67108863,L=Math.imul(R,Pe),M=Math.imul(R,Ke),M=M+Math.imul(Q,Pe)|0,$=Math.imul(Q,Ke),L=L+Math.imul(pe,rt)|0,M=M+Math.imul(pe,ae)|0,M=M+Math.imul(j,rt)|0,$=$+Math.imul(j,ae)|0,L=L+Math.imul(ce,ye)|0,M=M+Math.imul(ce,_e)|0,M=M+Math.imul(we,ye)|0,$=$+Math.imul(we,_e)|0,L=L+Math.imul(et,Le)|0,M=M+Math.imul(et,bt)|0,M=M+Math.imul(X,Le)|0,$=$+Math.imul(X,bt)|0,L=L+Math.imul(dt,Pt)|0,M=M+Math.imul(dt,St)|0,M=M+Math.imul(Ye,Pt)|0,$=$+Math.imul(Ye,St)|0,L=L+Math.imul(ee,qt)|0,M=M+Math.imul(ee,ie)|0,M=M+Math.imul(_t,qt)|0,$=$+Math.imul(_t,ie)|0,L=L+Math.imul(Be,me)|0,M=M+Math.imul(Be,Ce)|0,M=M+Math.imul(Re,me)|0,$=$+Math.imul(Re,Ce)|0,L=L+Math.imul(Te,Ze)|0,M=M+Math.imul(Te,at)|0,M=M+Math.imul(Ne,Ze)|0,$=$+Math.imul(Ne,at)|0,L=L+Math.imul(te,Qe)|0,M=M+Math.imul(te,Ve)|0,M=M+Math.imul(oe,Qe)|0,$=$+Math.imul(oe,Ve)|0;var ue=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(ue>>>26)|0,ue&=67108863,L=Math.imul(Z,Pe),M=Math.imul(Z,Ke),M=M+Math.imul(ne,Pe)|0,$=Math.imul(ne,Ke),L=L+Math.imul(R,rt)|0,M=M+Math.imul(R,ae)|0,M=M+Math.imul(Q,rt)|0,$=$+Math.imul(Q,ae)|0,L=L+Math.imul(pe,ye)|0,M=M+Math.imul(pe,_e)|0,M=M+Math.imul(j,ye)|0,$=$+Math.imul(j,_e)|0,L=L+Math.imul(ce,Le)|0,M=M+Math.imul(ce,bt)|0,M=M+Math.imul(we,Le)|0,$=$+Math.imul(we,bt)|0,L=L+Math.imul(et,Pt)|0,M=M+Math.imul(et,St)|0,M=M+Math.imul(X,Pt)|0,$=$+Math.imul(X,St)|0,L=L+Math.imul(dt,qt)|0,M=M+Math.imul(dt,ie)|0,M=M+Math.imul(Ye,qt)|0,$=$+Math.imul(Ye,ie)|0,L=L+Math.imul(ee,me)|0,M=M+Math.imul(ee,Ce)|0,M=M+Math.imul(_t,me)|0,$=$+Math.imul(_t,Ce)|0,L=L+Math.imul(Be,Ze)|0,M=M+Math.imul(Be,at)|0,M=M+Math.imul(Re,Ze)|0,$=$+Math.imul(Re,at)|0,L=L+Math.imul(Te,Qe)|0,M=M+Math.imul(Te,Ve)|0,M=M+Math.imul(Ne,Qe)|0,$=$+Math.imul(Ne,Ve)|0,L=L+Math.imul(te,yt)|0,M=M+Math.imul(te,Ct)|0,M=M+Math.imul(oe,yt)|0,$=$+Math.imul(oe,Ct)|0;var Me=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(Me>>>26)|0,Me&=67108863,L=Math.imul(Z,rt),M=Math.imul(Z,ae),M=M+Math.imul(ne,rt)|0,$=Math.imul(ne,ae),L=L+Math.imul(R,ye)|0,M=M+Math.imul(R,_e)|0,M=M+Math.imul(Q,ye)|0,$=$+Math.imul(Q,_e)|0,L=L+Math.imul(pe,Le)|0,M=M+Math.imul(pe,bt)|0,M=M+Math.imul(j,Le)|0,$=$+Math.imul(j,bt)|0,L=L+Math.imul(ce,Pt)|0,M=M+Math.imul(ce,St)|0,M=M+Math.imul(we,Pt)|0,$=$+Math.imul(we,St)|0,L=L+Math.imul(et,qt)|0,M=M+Math.imul(et,ie)|0,M=M+Math.imul(X,qt)|0,$=$+Math.imul(X,ie)|0,L=L+Math.imul(dt,me)|0,M=M+Math.imul(dt,Ce)|0,M=M+Math.imul(Ye,me)|0,$=$+Math.imul(Ye,Ce)|0,L=L+Math.imul(ee,Ze)|0,M=M+Math.imul(ee,at)|0,M=M+Math.imul(_t,Ze)|0,$=$+Math.imul(_t,at)|0,L=L+Math.imul(Be,Qe)|0,M=M+Math.imul(Be,Ve)|0,M=M+Math.imul(Re,Qe)|0,$=$+Math.imul(Re,Ve)|0,L=L+Math.imul(Te,yt)|0,M=M+Math.imul(Te,Ct)|0,M=M+Math.imul(Ne,yt)|0,$=$+Math.imul(Ne,Ct)|0;var be=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(be>>>26)|0,be&=67108863,L=Math.imul(Z,ye),M=Math.imul(Z,_e),M=M+Math.imul(ne,ye)|0,$=Math.imul(ne,_e),L=L+Math.imul(R,Le)|0,M=M+Math.imul(R,bt)|0,M=M+Math.imul(Q,Le)|0,$=$+Math.imul(Q,bt)|0,L=L+Math.imul(pe,Pt)|0,M=M+Math.imul(pe,St)|0,M=M+Math.imul(j,Pt)|0,$=$+Math.imul(j,St)|0,L=L+Math.imul(ce,qt)|0,M=M+Math.imul(ce,ie)|0,M=M+Math.imul(we,qt)|0,$=$+Math.imul(we,ie)|0,L=L+Math.imul(et,me)|0,M=M+Math.imul(et,Ce)|0,M=M+Math.imul(X,me)|0,$=$+Math.imul(X,Ce)|0,L=L+Math.imul(dt,Ze)|0,M=M+Math.imul(dt,at)|0,M=M+Math.imul(Ye,Ze)|0,$=$+Math.imul(Ye,at)|0,L=L+Math.imul(ee,Qe)|0,M=M+Math.imul(ee,Ve)|0,M=M+Math.imul(_t,Qe)|0,$=$+Math.imul(_t,Ve)|0,L=L+Math.imul(Be,yt)|0,M=M+Math.imul(Be,Ct)|0,M=M+Math.imul(Re,yt)|0,$=$+Math.imul(Re,Ct)|0;var Ge=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,L=Math.imul(Z,Le),M=Math.imul(Z,bt),M=M+Math.imul(ne,Le)|0,$=Math.imul(ne,bt),L=L+Math.imul(R,Pt)|0,M=M+Math.imul(R,St)|0,M=M+Math.imul(Q,Pt)|0,$=$+Math.imul(Q,St)|0,L=L+Math.imul(pe,qt)|0,M=M+Math.imul(pe,ie)|0,M=M+Math.imul(j,qt)|0,$=$+Math.imul(j,ie)|0,L=L+Math.imul(ce,me)|0,M=M+Math.imul(ce,Ce)|0,M=M+Math.imul(we,me)|0,$=$+Math.imul(we,Ce)|0,L=L+Math.imul(et,Ze)|0,M=M+Math.imul(et,at)|0,M=M+Math.imul(X,Ze)|0,$=$+Math.imul(X,at)|0,L=L+Math.imul(dt,Qe)|0,M=M+Math.imul(dt,Ve)|0,M=M+Math.imul(Ye,Qe)|0,$=$+Math.imul(Ye,Ve)|0,L=L+Math.imul(ee,yt)|0,M=M+Math.imul(ee,Ct)|0,M=M+Math.imul(_t,yt)|0,$=$+Math.imul(_t,Ct)|0;var He=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(He>>>26)|0,He&=67108863,L=Math.imul(Z,Pt),M=Math.imul(Z,St),M=M+Math.imul(ne,Pt)|0,$=Math.imul(ne,St),L=L+Math.imul(R,qt)|0,M=M+Math.imul(R,ie)|0,M=M+Math.imul(Q,qt)|0,$=$+Math.imul(Q,ie)|0,L=L+Math.imul(pe,me)|0,M=M+Math.imul(pe,Ce)|0,M=M+Math.imul(j,me)|0,$=$+Math.imul(j,Ce)|0,L=L+Math.imul(ce,Ze)|0,M=M+Math.imul(ce,at)|0,M=M+Math.imul(we,Ze)|0,$=$+Math.imul(we,at)|0,L=L+Math.imul(et,Qe)|0,M=M+Math.imul(et,Ve)|0,M=M+Math.imul(X,Qe)|0,$=$+Math.imul(X,Ve)|0,L=L+Math.imul(dt,yt)|0,M=M+Math.imul(dt,Ct)|0,M=M+Math.imul(Ye,yt)|0,$=$+Math.imul(Ye,Ct)|0;var Xe=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,L=Math.imul(Z,qt),M=Math.imul(Z,ie),M=M+Math.imul(ne,qt)|0,$=Math.imul(ne,ie),L=L+Math.imul(R,me)|0,M=M+Math.imul(R,Ce)|0,M=M+Math.imul(Q,me)|0,$=$+Math.imul(Q,Ce)|0,L=L+Math.imul(pe,Ze)|0,M=M+Math.imul(pe,at)|0,M=M+Math.imul(j,Ze)|0,$=$+Math.imul(j,at)|0,L=L+Math.imul(ce,Qe)|0,M=M+Math.imul(ce,Ve)|0,M=M+Math.imul(we,Qe)|0,$=$+Math.imul(we,Ve)|0,L=L+Math.imul(et,yt)|0,M=M+Math.imul(et,Ct)|0,M=M+Math.imul(X,yt)|0,$=$+Math.imul(X,Ct)|0;var lt=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(lt>>>26)|0,lt&=67108863,L=Math.imul(Z,me),M=Math.imul(Z,Ce),M=M+Math.imul(ne,me)|0,$=Math.imul(ne,Ce),L=L+Math.imul(R,Ze)|0,M=M+Math.imul(R,at)|0,M=M+Math.imul(Q,Ze)|0,$=$+Math.imul(Q,at)|0,L=L+Math.imul(pe,Qe)|0,M=M+Math.imul(pe,Ve)|0,M=M+Math.imul(j,Qe)|0,$=$+Math.imul(j,Ve)|0,L=L+Math.imul(ce,yt)|0,M=M+Math.imul(ce,Ct)|0,M=M+Math.imul(we,yt)|0,$=$+Math.imul(we,Ct)|0;var It=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(It>>>26)|0,It&=67108863,L=Math.imul(Z,Ze),M=Math.imul(Z,at),M=M+Math.imul(ne,Ze)|0,$=Math.imul(ne,at),L=L+Math.imul(R,Qe)|0,M=M+Math.imul(R,Ve)|0,M=M+Math.imul(Q,Qe)|0,$=$+Math.imul(Q,Ve)|0,L=L+Math.imul(pe,yt)|0,M=M+Math.imul(pe,Ct)|0,M=M+Math.imul(j,yt)|0,$=$+Math.imul(j,Ct)|0;var $e=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+($e>>>26)|0,$e&=67108863,L=Math.imul(Z,Qe),M=Math.imul(Z,Ve),M=M+Math.imul(ne,Qe)|0,$=Math.imul(ne,Ve),L=L+Math.imul(R,yt)|0,M=M+Math.imul(R,Ct)|0,M=M+Math.imul(Q,yt)|0,$=$+Math.imul(Q,Ct)|0;var Tt=(G+L|0)+((M&8191)<<13)|0;G=($+(M>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,L=Math.imul(Z,yt),M=Math.imul(Z,Ct),M=M+Math.imul(ne,yt)|0,$=Math.imul(ne,Ct);var pt=(G+L|0)+((M&8191)<<13)|0;return G=($+(M>>>13)|0)+(pt>>>26)|0,pt&=67108863,H[0]=gn,H[1]=q,H[2]=se,H[3]=ge,H[4]=ve,H[5]=de,H[6]=Ue,H[7]=Je,H[8]=ue,H[9]=Me,H[10]=be,H[11]=Ge,H[12]=He,H[13]=Xe,H[14]=lt,H[15]=It,H[16]=$e,H[17]=Tt,H[18]=pt,G!==0&&(H[19]=G,C.length++),C};Math.imul||(v=g);function b(B,w,A){A.negative=w.negative^B.negative,A.length=B.length+w.length;for(var C=0,k=0,I=0;I<A.length-1;I++){var H=k;k=0;for(var G=C&67108863,L=Math.min(I,w.length-1),M=Math.max(0,I-B.length+1);M<=L;M++){var $=I-M,J=B.words[$]|0,te=w.words[M]|0,oe=J*te,le=oe&67108863;H=H+(oe/67108864|0)|0,le=le+G|0,G=le&67108863,H=H+(le>>>26)|0,k+=H>>>26,H&=67108863}A.words[I]=G,C=H,H=k}return C!==0?A.words[I]=C:A.length--,A._strip()}function x(B,w,A){return b(B,w,A)}o.prototype.mulTo=function(w,A){var C,k=this.length+w.length;return this.length===10&&w.length===10?C=v(this,w,A):k<63?C=g(this,w,A):k<1024?C=b(this,w,A):C=x(this,w,A),C},o.prototype.mul=function(w){var A=new o(null);return A.words=new Array(this.length+w.length),this.mulTo(w,A)},o.prototype.mulf=function(w){var A=new o(null);return A.words=new Array(this.length+w.length),x(this,w,A)},o.prototype.imul=function(w){return this.clone().mulTo(w,this)},o.prototype.imuln=function(w){var A=w<0;A&&(w=-w),r(typeof w=="number"),r(w<67108864);for(var C=0,k=0;k<this.length;k++){var I=(this.words[k]|0)*w,H=(I&67108863)+(C&67108863);C>>=26,C+=I/67108864|0,C+=H>>>26,this.words[k]=H&67108863}return C!==0&&(this.words[k]=C,this.length++),this.length=w===0?1:this.length,A?this.ineg():this},o.prototype.muln=function(w){return this.clone().imuln(w)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(w){var A=y(w);if(A.length===0)return new o(1);for(var C=this,k=0;k<A.length&&A[k]===0;k++,C=C.sqr());if(++k<A.length)for(var I=C.sqr();k<A.length;k++,I=I.sqr())A[k]!==0&&(C=C.mul(I));return C},o.prototype.iushln=function(w){r(typeof w=="number"&&w>=0);var A=w%26,C=(w-A)/26,k=67108863>>>26-A<<26-A,I;if(A!==0){var H=0;for(I=0;I<this.length;I++){var G=this.words[I]&k,L=(this.words[I]|0)-G<<A;this.words[I]=L|H,H=G>>>26-A}H&&(this.words[I]=H,this.length++)}if(C!==0){for(I=this.length-1;I>=0;I--)this.words[I+C]=this.words[I];for(I=0;I<C;I++)this.words[I]=0;this.length+=C}return this._strip()},o.prototype.ishln=function(w){return r(this.negative===0),this.iushln(w)},o.prototype.iushrn=function(w,A,C){r(typeof w=="number"&&w>=0);var k;A?k=(A-A%26)/26:k=0;var I=w%26,H=Math.min((w-I)/26,this.length),G=67108863^67108863>>>I<<I,L=C;if(k-=H,k=Math.max(0,k),L){for(var M=0;M<H;M++)L.words[M]=this.words[M];L.length=H}if(H!==0)if(this.length>H)for(this.length-=H,M=0;M<this.length;M++)this.words[M]=this.words[M+H];else this.words[0]=0,this.length=1;var $=0;for(M=this.length-1;M>=0&&($!==0||M>=k);M--){var J=this.words[M]|0;this.words[M]=$<<26-I|J>>>I,$=J&G}return L&&$!==0&&(L.words[L.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(w,A,C){return r(this.negative===0),this.iushrn(w,A,C)},o.prototype.shln=function(w){return this.clone().ishln(w)},o.prototype.ushln=function(w){return this.clone().iushln(w)},o.prototype.shrn=function(w){return this.clone().ishrn(w)},o.prototype.ushrn=function(w){return this.clone().iushrn(w)},o.prototype.testn=function(w){r(typeof w=="number"&&w>=0);var A=w%26,C=(w-A)/26,k=1<<A;if(this.length<=C)return!1;var I=this.words[C];return!!(I&k)},o.prototype.imaskn=function(w){r(typeof w=="number"&&w>=0);var A=w%26,C=(w-A)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(A!==0&&C++,this.length=Math.min(C,this.length),A!==0){var k=67108863^67108863>>>A<<A;this.words[this.length-1]&=k}return this._strip()},o.prototype.maskn=function(w){return this.clone().imaskn(w)},o.prototype.iaddn=function(w){return r(typeof w=="number"),r(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(this.words[0]|0)<=w?(this.words[0]=w-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},o.prototype._iaddn=function(w){this.words[0]+=w;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},o.prototype.isubn=function(w){if(r(typeof w=="number"),r(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this._strip()},o.prototype.addn=function(w){return this.clone().iaddn(w)},o.prototype.subn=function(w){return this.clone().isubn(w)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(w,A,C){var k=w.length+C,I;this._expand(k);var H,G=0;for(I=0;I<w.length;I++){H=(this.words[I+C]|0)+G;var L=(w.words[I]|0)*A;H-=L&67108863,G=(H>>26)-(L/67108864|0),this.words[I+C]=H&67108863}for(;I<this.length-C;I++)H=(this.words[I+C]|0)+G,G=H>>26,this.words[I+C]=H&67108863;if(G===0)return this._strip();for(r(G===-1),G=0,I=0;I<this.length;I++)H=-(this.words[I]|0)+G,G=H>>26,this.words[I]=H&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(w,A){var C=this.length-w.length,k=this.clone(),I=w,H=I.words[I.length-1]|0,G=this._countBits(H);C=26-G,C!==0&&(I=I.ushln(C),k.iushln(C),H=I.words[I.length-1]|0);var L=k.length-I.length,M;if(A!=="mod"){M=new o(null),M.length=L+1,M.words=new Array(M.length);for(var $=0;$<M.length;$++)M.words[$]=0}var J=k.clone()._ishlnsubmul(I,1,L);J.negative===0&&(k=J,M&&(M.words[L]=1));for(var te=L-1;te>=0;te--){var oe=(k.words[I.length+te]|0)*67108864+(k.words[I.length+te-1]|0);for(oe=Math.min(oe/H|0,67108863),k._ishlnsubmul(I,oe,te);k.negative!==0;)oe--,k.negative=0,k._ishlnsubmul(I,1,te),k.isZero()||(k.negative^=1);M&&(M.words[te]=oe)}return M&&M._strip(),k._strip(),A!=="div"&&C!==0&&k.iushrn(C),{div:M||null,mod:k}},o.prototype.divmod=function(w,A,C){if(r(!w.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var k,I,H;return this.negative!==0&&w.negative===0?(H=this.neg().divmod(w,A),A!=="mod"&&(k=H.div.neg()),A!=="div"&&(I=H.mod.neg(),C&&I.negative!==0&&I.iadd(w)),{div:k,mod:I}):this.negative===0&&w.negative!==0?(H=this.divmod(w.neg(),A),A!=="mod"&&(k=H.div.neg()),{div:k,mod:H.mod}):this.negative&w.negative?(H=this.neg().divmod(w.neg(),A),A!=="div"&&(I=H.mod.neg(),C&&I.negative!==0&&I.isub(w)),{div:H.div,mod:I}):w.length>this.length||this.cmp(w)<0?{div:new o(0),mod:this}:w.length===1?A==="div"?{div:this.divn(w.words[0]),mod:null}:A==="mod"?{div:null,mod:new o(this.modrn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new o(this.modrn(w.words[0]))}:this._wordDiv(w,A)},o.prototype.div=function(w){return this.divmod(w,"div",!1).div},o.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},o.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},o.prototype.divRound=function(w){var A=this.divmod(w);if(A.mod.isZero())return A.div;var C=A.div.negative!==0?A.mod.isub(w):A.mod,k=w.ushrn(1),I=w.andln(1),H=C.cmp(k);return H<0||I===1&&H===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},o.prototype.modrn=function(w){var A=w<0;A&&(w=-w),r(w<=67108863);for(var C=(1<<26)%w,k=0,I=this.length-1;I>=0;I--)k=(C*k+(this.words[I]|0))%w;return A?-k:k},o.prototype.modn=function(w){return this.modrn(w)},o.prototype.idivn=function(w){var A=w<0;A&&(w=-w),r(w<=67108863);for(var C=0,k=this.length-1;k>=0;k--){var I=(this.words[k]|0)+C*67108864;this.words[k]=I/w|0,C=I%w}return this._strip(),A?this.ineg():this},o.prototype.divn=function(w){return this.clone().idivn(w)},o.prototype.egcd=function(w){r(w.negative===0),r(!w.isZero());var A=this,C=w.clone();A.negative!==0?A=A.umod(w):A=A.clone();for(var k=new o(1),I=new o(0),H=new o(0),G=new o(1),L=0;A.isEven()&&C.isEven();)A.iushrn(1),C.iushrn(1),++L;for(var M=C.clone(),$=A.clone();!A.isZero();){for(var J=0,te=1;!(A.words[0]&te)&&J<26;++J,te<<=1);if(J>0)for(A.iushrn(J);J-- >0;)(k.isOdd()||I.isOdd())&&(k.iadd(M),I.isub($)),k.iushrn(1),I.iushrn(1);for(var oe=0,le=1;!(C.words[0]&le)&&oe<26;++oe,le<<=1);if(oe>0)for(C.iushrn(oe);oe-- >0;)(H.isOdd()||G.isOdd())&&(H.iadd(M),G.isub($)),H.iushrn(1),G.iushrn(1);A.cmp(C)>=0?(A.isub(C),k.isub(H),I.isub(G)):(C.isub(A),H.isub(k),G.isub(I))}return{a:H,b:G,gcd:C.iushln(L)}},o.prototype._invmp=function(w){r(w.negative===0),r(!w.isZero());var A=this,C=w.clone();A.negative!==0?A=A.umod(w):A=A.clone();for(var k=new o(1),I=new o(0),H=C.clone();A.cmpn(1)>0&&C.cmpn(1)>0;){for(var G=0,L=1;!(A.words[0]&L)&&G<26;++G,L<<=1);if(G>0)for(A.iushrn(G);G-- >0;)k.isOdd()&&k.iadd(H),k.iushrn(1);for(var M=0,$=1;!(C.words[0]&$)&&M<26;++M,$<<=1);if(M>0)for(C.iushrn(M);M-- >0;)I.isOdd()&&I.iadd(H),I.iushrn(1);A.cmp(C)>=0?(A.isub(C),k.isub(I)):(C.isub(A),I.isub(k))}var J;return A.cmpn(1)===0?J=k:J=I,J.cmpn(0)<0&&J.iadd(w),J},o.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var A=this.clone(),C=w.clone();A.negative=0,C.negative=0;for(var k=0;A.isEven()&&C.isEven();k++)A.iushrn(1),C.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;C.isEven();)C.iushrn(1);var I=A.cmp(C);if(I<0){var H=A;A=C,C=H}else if(I===0||C.cmpn(1)===0)break;A.isub(C)}while(!0);return C.iushln(k)},o.prototype.invm=function(w){return this.egcd(w).a.umod(w)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(w){return this.words[0]&w},o.prototype.bincn=function(w){r(typeof w=="number");var A=w%26,C=(w-A)/26,k=1<<A;if(this.length<=C)return this._expand(C+1),this.words[C]|=k,this;for(var I=k,H=C;I!==0&&H<this.length;H++){var G=this.words[H]|0;G+=I,I=G>>>26,G&=67108863,this.words[H]=G}return I!==0&&(this.words[H]=I,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(w){var A=w<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this._strip();var C;if(this.length>1)C=1;else{A&&(w=-w),r(w<=67108863,"Number is too big");var k=this.words[0]|0;C=k===w?0:k<w?-1:1}return this.negative!==0?-C|0:C},o.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var A=this.ucmp(w);return this.negative!==0?-A|0:A},o.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var A=0,C=this.length-1;C>=0;C--){var k=this.words[C]|0,I=w.words[C]|0;if(k!==I){k<I?A=-1:k>I&&(A=1);break}}return A},o.prototype.gtn=function(w){return this.cmpn(w)===1},o.prototype.gt=function(w){return this.cmp(w)===1},o.prototype.gten=function(w){return this.cmpn(w)>=0},o.prototype.gte=function(w){return this.cmp(w)>=0},o.prototype.ltn=function(w){return this.cmpn(w)===-1},o.prototype.lt=function(w){return this.cmp(w)===-1},o.prototype.lten=function(w){return this.cmpn(w)<=0},o.prototype.lte=function(w){return this.cmp(w)<=0},o.prototype.eqn=function(w){return this.cmpn(w)===0},o.prototype.eq=function(w){return this.cmp(w)===0},o.red=function(w){return new z(w)},o.prototype.toRed=function(w){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(w){return this.red=w,this},o.prototype.forceRed=function(w){return r(!this.red,"Already a number in reduction context"),this._forceRed(w)},o.prototype.redAdd=function(w){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},o.prototype.redIAdd=function(w){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},o.prototype.redSub=function(w){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},o.prototype.redISub=function(w){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},o.prototype.redShl=function(w){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},o.prototype.redMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},o.prototype.redIMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(w){return r(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var P={k256:null,p224:null,p192:null,p25519:null};function N(B,w){this.name=B,this.p=new o(w,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}N.prototype._tmp=function(){var w=new o(null);return w.words=new Array(Math.ceil(this.n/13)),w},N.prototype.ireduce=function(w){var A=w,C;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),C=A.bitLength();while(C>this.n);var k=C<this.n?-1:A.ucmp(this.p);return k===0?(A.words[0]=0,A.length=1):k>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},N.prototype.split=function(w,A){w.iushrn(this.n,0,A)},N.prototype.imulK=function(w){return w.imul(this.k)};function _(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(_,N),_.prototype.split=function(w,A){for(var C=4194303,k=Math.min(w.length,9),I=0;I<k;I++)A.words[I]=w.words[I];if(A.length=k,w.length<=9){w.words[0]=0,w.length=1;return}var H=w.words[9];for(A.words[A.length++]=H&C,I=10;I<w.length;I++){var G=w.words[I]|0;w.words[I-10]=(G&C)<<4|H>>>22,H=G}H>>>=22,w.words[I-10]=H,H===0&&w.length>10?w.length-=10:w.length-=9},_.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var A=0,C=0;C<w.length;C++){var k=w.words[C]|0;A+=k*977,w.words[C]=A&67108863,A=k*64+(A/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w};function D(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(D,N);function T(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(T,N);function E(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(E,N),E.prototype.imulK=function(w){for(var A=0,C=0;C<w.length;C++){var k=(w.words[C]|0)*19+A,I=k&67108863;k>>>=26,w.words[C]=I,A=k}return A!==0&&(w.words[w.length++]=A),w},o._prime=function(w){if(P[w])return P[w];var A;if(w==="k256")A=new _;else if(w==="p224")A=new D;else if(w==="p192")A=new T;else if(w==="p25519")A=new E;else throw new Error("Unknown prime "+w);return P[w]=A,A};function z(B){if(typeof B=="string"){var w=o._prime(B);this.m=w.p,this.prime=w}else r(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}z.prototype._verify1=function(w){r(w.negative===0,"red works only with positives"),r(w.red,"red works only with red numbers")},z.prototype._verify2=function(w,A){r((w.negative|A.negative)===0,"red works only with positives"),r(w.red&&w.red===A.red,"red works only with red numbers")},z.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):(u(w,w.umod(this.m)._forceRed(this)),w)},z.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},z.prototype.add=function(w,A){this._verify2(w,A);var C=w.add(A);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},z.prototype.iadd=function(w,A){this._verify2(w,A);var C=w.iadd(A);return C.cmp(this.m)>=0&&C.isub(this.m),C},z.prototype.sub=function(w,A){this._verify2(w,A);var C=w.sub(A);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},z.prototype.isub=function(w,A){this._verify2(w,A);var C=w.isub(A);return C.cmpn(0)<0&&C.iadd(this.m),C},z.prototype.shl=function(w,A){return this._verify1(w),this.imod(w.ushln(A))},z.prototype.imul=function(w,A){return this._verify2(w,A),this.imod(w.imul(A))},z.prototype.mul=function(w,A){return this._verify2(w,A),this.imod(w.mul(A))},z.prototype.isqr=function(w){return this.imul(w,w.clone())},z.prototype.sqr=function(w){return this.mul(w,w)},z.prototype.sqrt=function(w){if(w.isZero())return w.clone();var A=this.m.andln(3);if(r(A%2===1),A===3){var C=this.m.add(new o(1)).iushrn(2);return this.pow(w,C)}for(var k=this.m.subn(1),I=0;!k.isZero()&&k.andln(1)===0;)I++,k.iushrn(1);r(!k.isZero());var H=new o(1).toRed(this),G=H.redNeg(),L=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new o(2*M*M).toRed(this);this.pow(M,L).cmp(G)!==0;)M.redIAdd(G);for(var $=this.pow(M,k),J=this.pow(w,k.addn(1).iushrn(1)),te=this.pow(w,k),oe=I;te.cmp(H)!==0;){for(var le=te,Te=0;le.cmp(H)!==0;Te++)le=le.redSqr();r(Te<oe);var Ne=this.pow($,new o(1).iushln(oe-Te-1));J=J.redMul(Ne),$=Ne.redSqr(),te=te.redMul($),oe=Te}return J},z.prototype.invm=function(w){var A=w._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},z.prototype.pow=function(w,A){if(A.isZero())return new o(1).toRed(this);if(A.cmpn(1)===0)return w.clone();var C=4,k=new Array(1<<C);k[0]=new o(1).toRed(this),k[1]=w;for(var I=2;I<k.length;I++)k[I]=this.mul(k[I-1],w);var H=k[0],G=0,L=0,M=A.bitLength()%26;for(M===0&&(M=26),I=A.length-1;I>=0;I--){for(var $=A.words[I],J=M-1;J>=0;J--){var te=$>>J&1;if(H!==k[0]&&(H=this.sqr(H)),te===0&&G===0){L=0;continue}G<<=1,G|=te,L++,!(L!==C&&(I!==0||J!==0))&&(H=this.mul(H,k[G]),L=0,G=0)}M=26}return H},z.prototype.convertTo=function(w){var A=w.umod(this.m);return A===w?A.clone():A},z.prototype.convertFrom=function(w){var A=w.clone();return A.red=null,A},o.mont=function(w){return new W(w)};function W(B){z.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(W,z),W.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},W.prototype.convertFrom=function(w){var A=this.imod(w.mul(this.rinv));return A.red=null,A},W.prototype.imul=function(w,A){if(w.isZero()||A.isZero())return w.words[0]=0,w.length=1,w;var C=w.imul(A),k=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=C.isub(k).iushrn(this.shift),H=I;return I.cmp(this.m)>=0?H=I.isub(this.m):I.cmpn(0)<0&&(H=I.iadd(this.m)),H._forceRed(this)},W.prototype.mul=function(w,A){if(w.isZero()||A.isZero())return new o(0)._forceRed(this);var C=w.mul(A),k=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=C.isub(k).iushrn(this.shift),H=I;return I.cmp(this.m)>=0?H=I.isub(this.m):I.cmpn(0)<0&&(H=I.iadd(this.m)),H._forceRed(this)},W.prototype.invm=function(w){var A=this.imod(w._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(t,SN)})(ZC);var Vie=ZC.exports;const $ie=sm(Vie),xU="bignumber/5.8.0";var Zy=$ie.BN;const Ks=new vi(xU),Ub={},RI=9007199254740991;function qie(t){return t!=null&&(Ht.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Si(t)||typeof t=="bigint"||If(t))}let PI=!1;class Ht{constructor(e,n){e!==Ub&&Ks.throwError("cannot call constructor directly; use BigNumber.from",vi.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return li(jt(this).fromTwos(e))}toTwos(e){return li(jt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Ht.from(this._hex.substring(1)):this}add(e){return li(jt(this).add(jt(e)))}sub(e){return li(jt(this).sub(jt(e)))}div(e){return Ht.from(e).isZero()&&oo("division-by-zero","div"),li(jt(this).div(jt(e)))}mul(e){return li(jt(this).mul(jt(e)))}mod(e){const n=jt(e);return n.isNeg()&&oo("division-by-zero","mod"),li(jt(this).umod(n))}pow(e){const n=jt(e);return n.isNeg()&&oo("negative-power","pow"),li(jt(this).pow(n))}and(e){const n=jt(e);return(this.isNegative()||n.isNeg())&&oo("unbound-bitwise-result","and"),li(jt(this).and(n))}or(e){const n=jt(e);return(this.isNegative()||n.isNeg())&&oo("unbound-bitwise-result","or"),li(jt(this).or(n))}xor(e){const n=jt(e);return(this.isNegative()||n.isNeg())&&oo("unbound-bitwise-result","xor"),li(jt(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&oo("negative-width","mask"),li(jt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&oo("negative-width","shl"),li(jt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&oo("negative-width","shr"),li(jt(this).shrn(e))}eq(e){return jt(this).eq(jt(e))}lt(e){return jt(this).lt(jt(e))}lte(e){return jt(this).lte(jt(e))}gt(e){return jt(this).gt(jt(e))}gte(e){return jt(this).gte(jt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return jt(this).isZero()}toNumber(){try{return jt(this).toNumber()}catch{oo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ks.throwError("this platform does not support BigInt",vi.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?PI||(PI=!0,Ks.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ks.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",vi.errors.UNEXPECTED_ARGUMENT,{}):Ks.throwError("BigNumber.toString does not accept parameters",vi.errors.UNEXPECTED_ARGUMENT,{})),jt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Ht)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Ht(Ub,Vp(e)):e.match(/^-?[0-9]+$/)?new Ht(Ub,Vp(new Zy(e))):Ks.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&oo("underflow","BigNumber.from",e),(e>=RI||e<=-RI)&&oo("overflow","BigNumber.from",e),Ht.from(String(e));const n=e;if(typeof n=="bigint")return Ht.from(n.toString());if(If(n))return Ht.from(Kr(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return Ht.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(Si(r)||r[0]==="-"&&Si(r.substring(1))))return Ht.from(r)}return Ks.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Vp(t){if(typeof t!="string")return Vp(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ks.throwArgumentError("invalid hex","value",t),t=Vp(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function li(t){return Ht.from(Vp(t))}function jt(t){const e=Ht.from(t).toHexString();return e[0]==="-"?new Zy("-"+e.substring(3),16):new Zy(e.substring(2),16)}function oo(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),Ks.throwError(t,vi.errors.NUMERIC_FAULT,r)}function oEe(t){return new Zy(t,36).toString(16)}const Yr=new vi(xU),$h={},EU=Ht.from(0),AU=Ht.from(-1);function _U(t,e,n,r){const i={fault:e,operation:n};return r!==void 0&&(i.value=r),Yr.throwError(t,vi.errors.NUMERIC_FAULT,i)}let qh="0";for(;qh.length<256;)qh+=qh;function eT(t){if(typeof t!="number")try{t=Ht.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+qh.substring(0,t):Yr.throwArgumentError("invalid decimal size","decimals",t)}function Vg(t,e){e==null&&(e=0);const n=eT(e);t=Ht.from(t);const r=t.lt(EU);r&&(t=t.mul(AU));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(n).toString();return n.length===1?t=o:t=o+"."+i,r&&(t="-"+t),t}function js(t,e){e==null&&(e=0);const n=eT(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Yr.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&Yr.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Yr.throwArgumentError("too many decimal points","value",t);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>n.length-1&&_U("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<n.length-1;)s+="0";const a=Ht.from(o),l=Ht.from(s);let c=a.mul(n).add(l);return r&&(c=c.mul(AU)),c}class Ad{constructor(e,n,r,i){e!==$h&&Yr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",vi.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=i,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=eT(i),Object.freeze(this)}static from(e){if(e instanceof Ad)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||Yr.throwArgumentError("invalid fixed format","format",e),n=o[1]!=="u",r=parseInt(o[2]),i=parseInt(o[3])}}else if(e){const o=(s,a,l)=>e[s]==null?l:(typeof e[s]!==a&&Yr.throwArgumentError("invalid fixed format ("+s+" not "+a+")","format."+s,e[s]),e[s]);n=o("signed","boolean",n),r=o("width","number",r),i=o("decimals","number",i)}return r%8&&Yr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&Yr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Ad($h,n,r,i)}}class xr{constructor(e,n,r,i){e!==$h&&Yr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",vi.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Yr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=js(this._value,this.format.decimals),r=js(e._value,e.format.decimals);return xr.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=js(this._value,this.format.decimals),r=js(e._value,e.format.decimals);return xr.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=js(this._value,this.format.decimals),r=js(e._value,e.format.decimals);return xr.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=js(this._value,this.format.decimals),r=js(e._value,e.format.decimals);return xr.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=xr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(NI.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=xr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(NI.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&Yr.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=xr.from("1"+qh.substring(0,e),this.format),i=Qie.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Yr.throwArgumentError("invalid byte width","width",e);const n=Ht.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Vh(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return xr.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!qie(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),xr.fromString(Vg(e,n),Ad.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=Ad.from(n),i=js(e,r.decimals);!r.signed&&i.lt(EU)&&_U("unsigned value cannot be negative","overflow","value",e);let o=null;r.signed?o=i.toTwos(r.width).toHexString():(o=i.toHexString(),o=Vh(o,r.width/8));const s=Vg(i,r.decimals);return new xr($h,o,s,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=Ad.from(n);if(Pc(e).length>r.width/8)throw new Error("overflow");let i=Ht.from(e);r.signed&&(i=i.fromTwos(r.width));const o=i.toTwos((r.signed?0:1)+r.width).toHexString(),s=Vg(i,r.decimals);return new xr($h,o,s,r)}static from(e,n){if(typeof e=="string")return xr.fromString(e,n);if(If(e))return xr.fromBytes(e,n);try{return xr.fromValue(e,0,n)}catch(r){if(r.code!==vi.errors.INVALID_ARGUMENT)throw r}return Yr.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const NI=xr.from(1),Qie=xr.from("0.5"),Kie=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Xie(t,e){if(typeof e=="string"){const n=Kie.indexOf(e);n!==-1&&(e=3*n)}return Vg(t,e??18)}function SU(t,e){return function(){return t.apply(e,arguments)}}const{toString:Yie}=Object.prototype,{getPrototypeOf:tT}=Object,{iterator:Uw,toStringTag:CU}=Symbol,zw=(t=>e=>{const n=Yie.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),is=t=>(t=t.toLowerCase(),e=>zw(e)===t),jw=t=>e=>typeof e===t,{isArray:Rf}=Array,$p=jw("undefined");function Jie(t){return t!==null&&!$p(t)&&t.constructor!==null&&!$p(t.constructor)&&Ci(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const TU=is("ArrayBuffer");function Zie(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&TU(t.buffer),e}const eoe=jw("string"),Ci=jw("function"),MU=jw("number"),Hw=t=>t!==null&&typeof t=="object",toe=t=>t===!0||t===!1,$g=t=>{if(zw(t)!=="object")return!1;const e=tT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(CU in t)&&!(Uw in t)},noe=is("Date"),roe=is("File"),ioe=is("Blob"),ooe=is("FileList"),soe=t=>Hw(t)&&Ci(t.pipe),aoe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ci(t.append)&&((e=zw(t))==="formdata"||e==="object"&&Ci(t.toString)&&t.toString()==="[object FormData]"))},loe=is("URLSearchParams"),[coe,uoe,doe,foe]=["ReadableStream","Request","Response","Headers"].map(is),hoe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nm(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Rf(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function IU(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const xc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,RU=t=>!$p(t)&&t!==xc;function JA(){const{caseless:t}=RU(this)&&this||{},e={},n=(r,i)=>{const o=t&&IU(e,i)||i;$g(e[o])&&$g(r)?e[o]=JA(e[o],r):$g(r)?e[o]=JA({},r):Rf(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Nm(arguments[r],n);return e}const poe=(t,e,n,{allOwnKeys:r}={})=>(Nm(e,(i,o)=>{n&&Ci(i)?t[o]=SU(i,n):t[o]=i},{allOwnKeys:r}),t),moe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),goe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},yoe=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&tT(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},voe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},woe=t=>{if(!t)return null;if(Rf(t))return t;let e=t.length;if(!MU(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},boe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&tT(Uint8Array)),xoe=(t,e)=>{const r=(t&&t[Uw]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},Eoe=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Aoe=is("HTMLFormElement"),_oe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),kI=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Soe=is("RegExp"),PU=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Nm(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},Coe=t=>{PU(t,(e,n)=>{if(Ci(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ci(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Toe=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Rf(t)?r(t):r(String(t).split(e)),n},Moe=()=>{},Ioe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Roe(t){return!!(t&&Ci(t.append)&&t[CU]==="FormData"&&t[Uw])}const Poe=t=>{const e=new Array(10),n=(r,i)=>{if(Hw(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Rf(r)?[]:{};return Nm(r,(s,a)=>{const l=n(s,i+1);!$p(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},Noe=is("AsyncFunction"),koe=t=>t&&(Hw(t)||Ci(t))&&Ci(t.then)&&Ci(t.catch),NU=((t,e)=>t?setImmediate:e?((n,r)=>(xc.addEventListener("message",({source:i,data:o})=>{i===xc&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),xc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ci(xc.postMessage)),Foe=typeof queueMicrotask<"u"?queueMicrotask.bind(xc):typeof process<"u"&&process.nextTick||NU,Boe=t=>t!=null&&Ci(t[Uw]),Se={isArray:Rf,isArrayBuffer:TU,isBuffer:Jie,isFormData:aoe,isArrayBufferView:Zie,isString:eoe,isNumber:MU,isBoolean:toe,isObject:Hw,isPlainObject:$g,isReadableStream:coe,isRequest:uoe,isResponse:doe,isHeaders:foe,isUndefined:$p,isDate:noe,isFile:roe,isBlob:ioe,isRegExp:Soe,isFunction:Ci,isStream:soe,isURLSearchParams:loe,isTypedArray:boe,isFileList:ooe,forEach:Nm,merge:JA,extend:poe,trim:hoe,stripBOM:moe,inherits:goe,toFlatObject:yoe,kindOf:zw,kindOfTest:is,endsWith:voe,toArray:woe,forEachEntry:xoe,matchAll:Eoe,isHTMLForm:Aoe,hasOwnProperty:kI,hasOwnProp:kI,reduceDescriptors:PU,freezeMethods:Coe,toObjectSet:Toe,toCamelCase:_oe,noop:Moe,toFiniteNumber:Ioe,findKey:IU,global:xc,isContextDefined:RU,isSpecCompliantForm:Roe,toJSONObject:Poe,isAsyncFn:Noe,isThenable:koe,setImmediate:NU,asap:Foe,isIterable:Boe};function kt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Se.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Se.toJSONObject(this.config),code:this.code,status:this.status}}});const kU=kt.prototype,FU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{FU[t]={value:t}});Object.defineProperties(kt,FU);Object.defineProperty(kU,"isAxiosError",{value:!0});kt.from=(t,e,n,r,i,o)=>{const s=Object.create(kU);return Se.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),kt.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const Ooe=null;function ZA(t){return Se.isPlainObject(t)||Se.isArray(t)}function BU(t){return Se.endsWith(t,"[]")?t.slice(0,-2):t}function FI(t,e,n){return t?t.concat(e).map(function(i,o){return i=BU(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function Loe(t){return Se.isArray(t)&&!t.some(ZA)}const Doe=Se.toFlatObject(Se,{},null,function(e){return/^is[A-Z]/.test(e)});function Gw(t,e,n){if(!Se.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Se.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!Se.isUndefined(y[m])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Se.isSpecCompliantForm(e);if(!Se.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(Se.isDate(p))return p.toISOString();if(Se.isBoolean(p))return p.toString();if(!l&&Se.isBlob(p))throw new kt("Blob is not supported. Use a Buffer instead.");return Se.isArrayBuffer(p)||Se.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let g=p;if(p&&!y&&typeof p=="object"){if(Se.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(Se.isArray(p)&&Loe(p)||(Se.isFileList(p)||Se.endsWith(m,"[]"))&&(g=Se.toArray(p)))return m=BU(m),g.forEach(function(b,x){!(Se.isUndefined(b)||b===null)&&e.append(s===!0?FI([m],x,o):s===null?m:m+"[]",c(b))}),!1}return ZA(p)?!0:(e.append(FI(y,m,o),c(p)),!1)}const d=[],f=Object.assign(Doe,{defaultVisitor:u,convertValue:c,isVisitable:ZA});function h(p,m){if(!Se.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),Se.forEach(p,function(g,v){(!(Se.isUndefined(g)||g===null)&&i.call(e,g,Se.isString(v)?v.trim():v,m,f))===!0&&h(g,m?m.concat(v):[v])}),d.pop()}}if(!Se.isObject(t))throw new TypeError("data must be an object");return h(t),e}function BI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function nT(t,e){this._pairs=[],t&&Gw(t,this,e)}const OU=nT.prototype;OU.append=function(e,n){this._pairs.push([e,n])};OU.toString=function(e){const n=e?function(r){return e.call(this,r,BI)}:BI;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Uoe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function LU(t,e,n){if(!e)return t;const r=n&&n.encode||Uoe;Se.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=Se.isURLSearchParams(e)?e.toString():new nT(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class OI{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Se.forEach(this.handlers,function(r){r!==null&&e(r)})}}const DU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zoe=typeof URLSearchParams<"u"?URLSearchParams:nT,joe=typeof FormData<"u"?FormData:null,Hoe=typeof Blob<"u"?Blob:null,Goe={isBrowser:!0,classes:{URLSearchParams:zoe,FormData:joe,Blob:Hoe},protocols:["http","https","file","blob","url","data"]},rT=typeof window<"u"&&typeof document<"u",e2=typeof navigator=="object"&&navigator||void 0,Woe=rT&&(!e2||["ReactNative","NativeScript","NS"].indexOf(e2.product)<0),Voe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$oe=rT&&window.location.href||"http://localhost",qoe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rT,hasStandardBrowserEnv:Woe,hasStandardBrowserWebWorkerEnv:Voe,navigator:e2,origin:$oe},Symbol.toStringTag,{value:"Module"})),zr={...qoe,...Goe};function Qoe(t,e){return Gw(t,new zr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return zr.isNode&&Se.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Koe(t){return Se.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Xoe(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function UU(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&Se.isArray(i)?i.length:s,l?(Se.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!Se.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&Se.isArray(i[s])&&(i[s]=Xoe(i[s])),!a)}if(Se.isFormData(t)&&Se.isFunction(t.entries)){const n={};return Se.forEachEntry(t,(r,i)=>{e(Koe(r),i,n,0)}),n}return null}function Yoe(t,e,n){if(Se.isString(t))try{return(e||JSON.parse)(t),Se.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const km={transitional:DU,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=Se.isObject(e);if(o&&Se.isHTMLForm(e)&&(e=new FormData(e)),Se.isFormData(e))return i?JSON.stringify(UU(e)):e;if(Se.isArrayBuffer(e)||Se.isBuffer(e)||Se.isStream(e)||Se.isFile(e)||Se.isBlob(e)||Se.isReadableStream(e))return e;if(Se.isArrayBufferView(e))return e.buffer;if(Se.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Qoe(e,this.formSerializer).toString();if((a=Se.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Gw(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),Yoe(e)):e}],transformResponse:[function(e){const n=this.transitional||km.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Se.isResponse(e)||Se.isReadableStream(e))return e;if(e&&Se.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?kt.from(a,kt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zr.classes.FormData,Blob:zr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Se.forEach(["delete","get","head","post","put","patch"],t=>{km.headers[t]={}});const Joe=Se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zoe=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&Joe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},LI=Symbol("internals");function ih(t){return t&&String(t).trim().toLowerCase()}function qg(t){return t===!1||t==null?t:Se.isArray(t)?t.map(qg):String(t)}function ese(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const tse=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zb(t,e,n,r,i){if(Se.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Se.isString(e)){if(Se.isString(r))return e.indexOf(r)!==-1;if(Se.isRegExp(r))return r.test(e)}}function nse(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function rse(t,e){const n=Se.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}let Ti=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,c){const u=ih(l);if(!u)throw new Error("header name must be a non-empty string");const d=Se.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=qg(a))}const s=(a,l)=>Se.forEach(a,(c,u)=>o(c,u,l));if(Se.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(Se.isString(e)&&(e=e.trim())&&!tse(e))s(Zoe(e),n);else if(Se.isObject(e)&&Se.isIterable(e)){let a={},l,c;for(const u of e){if(!Se.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?Se.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}s(a,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=ih(e),e){const r=Se.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return ese(i);if(Se.isFunction(n))return n.call(this,i,r);if(Se.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ih(e),e){const r=Se.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||zb(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=ih(s),s){const a=Se.findKey(r,s);a&&(!n||zb(r,r[a],a,n))&&(delete r[a],i=!0)}}return Se.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||zb(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return Se.forEach(this,(i,o)=>{const s=Se.findKey(r,o);if(s){n[s]=qg(i),delete n[o];return}const a=e?nse(o):String(o).trim();a!==o&&delete n[o],n[a]=qg(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Se.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Se.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[LI]=this[LI]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=ih(s);r[a]||(rse(i,s),r[a]=!0)}return Se.isArray(e)?e.forEach(o):o(e),this}};Ti.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Se.reduceDescriptors(Ti.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Se.freezeMethods(Ti);function jb(t,e){const n=this||km,r=e||n,i=Ti.from(r.headers);let o=r.data;return Se.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function zU(t){return!!(t&&t.__CANCEL__)}function Pf(t,e,n){kt.call(this,t??"canceled",kt.ERR_CANCELED,e,n),this.name="CanceledError"}Se.inherits(Pf,kt,{__CANCEL__:!0});function jU(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new kt("Request failed with status code "+n.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ise(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ose(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];s||(s=c),n[i]=l,r[i]=c;let d=o,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function sse(t,e){let n=0,r=1e3/e,i,o;const s=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}const ev=(t,e,n=3)=>{let r=0;const i=ose(50,250);return sse(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),u=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},DI=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},UI=t=>(...e)=>Se.asap(()=>t(...e)),ase=zr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,zr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(zr.origin),zr.navigator&&/(msie|trident)/i.test(zr.navigator.userAgent)):()=>!0,lse=zr.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];Se.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Se.isString(r)&&s.push("path="+r),Se.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cse(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function use(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function HU(t,e,n){let r=!cse(e);return t&&(r||n==!1)?use(t,e):e}const zI=t=>t instanceof Ti?{...t}:t;function Jc(t,e){e=e||{};const n={};function r(c,u,d,f){return Se.isPlainObject(c)&&Se.isPlainObject(u)?Se.merge.call({caseless:f},c,u):Se.isPlainObject(u)?Se.merge({},u):Se.isArray(u)?u.slice():u}function i(c,u,d,f){if(Se.isUndefined(u)){if(!Se.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function o(c,u){if(!Se.isUndefined(u))return r(void 0,u)}function s(c,u){if(Se.isUndefined(u)){if(!Se.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u,d)=>i(zI(c),zI(u),d,!0)};return Se.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);Se.isUndefined(f)&&d!==a||(n[u]=f)}),n}const GU=t=>{const e=Jc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=Ti.from(s),e.url=LU(HU(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Se.isFormData(n)){if(zr.hasStandardBrowserEnv||zr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(zr.hasStandardBrowserEnv&&(r&&Se.isFunction(r)&&(r=r(e)),r||r!==!1&&ase(e.url))){const c=i&&o&&lse.read(o);c&&s.set(i,c)}return e},dse=typeof XMLHttpRequest<"u",fse=dse&&function(t){return new Promise(function(n,r){const i=GU(t);let o=i.data;const s=Ti.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,p;function m(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function g(){if(!y)return;const b=Ti.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),P={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};jU(function(_){n(_),m()},function(_){r(_),m()},P),y=null}"onloadend"in y?y.onloadend=g:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(g)},y.onabort=function(){y&&(r(new kt("Request aborted",kt.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new kt("Network Error",kt.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const P=i.transitional||DU;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),r(new kt(x,P.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,t,y)),y=null},o===void 0&&s.setContentType(null),"setRequestHeader"in y&&Se.forEach(s.toJSON(),function(x,P){y.setRequestHeader(P,x)}),Se.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,p]=ev(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,h]=ev(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=b=>{y&&(r(!b||b.type?new Pf(null,t,y):b),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=ise(i.url);if(v&&zr.protocols.indexOf(v)===-1){r(new kt("Unsupported protocol "+v+":",kt.ERR_BAD_REQUEST,t));return}y.send(o||null)})},hse=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof kt?u:new Pf(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{s=null,o(new kt(`timeout ${e} of ms exceeded`,kt.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>Se.asap(a),l}},pse=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},mse=async function*(t,e){for await(const n of gse(t))yield*pse(n,e)},gse=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},jI=(t,e,n,r)=>{const i=mse(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=o+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Ww=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",WU=Ww&&typeof ReadableStream=="function",yse=Ww&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),VU=(t,...e)=>{try{return!!t(...e)}catch{return!1}},vse=WU&&VU(()=>{let t=!1;const e=new Request(zr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),HI=64*1024,t2=WU&&VU(()=>Se.isReadableStream(new Response("").body)),tv={stream:t2&&(t=>t.body)};Ww&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!tv[e]&&(tv[e]=Se.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new kt(`Response type '${e}' is not supported`,kt.ERR_NOT_SUPPORT,r)})})})(new Response);const wse=async t=>{if(t==null)return 0;if(Se.isBlob(t))return t.size;if(Se.isSpecCompliantForm(t))return(await new Request(zr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Se.isArrayBufferView(t)||Se.isArrayBuffer(t))return t.byteLength;if(Se.isURLSearchParams(t)&&(t=t+""),Se.isString(t))return(await yse(t)).byteLength},bse=async(t,e)=>{const n=Se.toFiniteNumber(t.getContentLength());return n??wse(e)},xse=Ww&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=GU(t);c=c?(c+"").toLowerCase():"text";let h=hse([i,o&&o.toAbortSignal()],s),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(l&&vse&&n!=="get"&&n!=="head"&&(y=await bse(u,r))!==0){let P=new Request(e,{method:"POST",body:r,duplex:"half"}),N;if(Se.isFormData(r)&&(N=P.headers.get("content-type"))&&u.setContentType(N),P.body){const[_,D]=DI(y,ev(UI(l)));r=jI(P.body,HI,_,D)}}Se.isString(d)||(d=d?"include":"omit");const g="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:g?d:void 0});let v=await fetch(p,f);const b=t2&&(c==="stream"||c==="response");if(t2&&(a||b&&m)){const P={};["status","statusText","headers"].forEach(T=>{P[T]=v[T]});const N=Se.toFiniteNumber(v.headers.get("content-length")),[_,D]=a&&DI(N,ev(UI(a),!0))||[];v=new Response(jI(v.body,HI,_,()=>{D&&D(),m&&m()}),P)}c=c||"text";let x=await tv[Se.findKey(tv,c)||"text"](v,t);return!b&&m&&m(),await new Promise((P,N)=>{jU(P,N,{data:x,headers:Ti.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:p})})}catch(g){throw m&&m(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new kt("Network Error",kt.ERR_NETWORK,t,p),{cause:g.cause||g}):kt.from(g,g&&g.code,t,p)}}),n2={http:Ooe,xhr:fse,fetch:xse};Se.forEach(n2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const GI=t=>`- ${t}`,Ese=t=>Se.isFunction(t)||t===null||t===!1,$U={getAdapter:t=>{t=Se.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!Ese(n)&&(r=n2[(s=String(n)).toLowerCase()],r===void 0))throw new kt(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(GI).join(`
`):" "+GI(o[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:n2};function Hb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pf(null,t)}function WI(t){return Hb(t),t.headers=Ti.from(t.headers),t.data=jb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$U.getAdapter(t.adapter||km.adapter)(t).then(function(r){return Hb(t),r.data=jb.call(t,t.transformResponse,r),r.headers=Ti.from(r.headers),r},function(r){return zU(r)||(Hb(t),r&&r.response&&(r.response.data=jb.call(t,t.transformResponse,r.response),r.response.headers=Ti.from(r.response.headers))),Promise.reject(r)})}const qU="1.10.0",Vw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Vw[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const VI={};Vw.transitional=function(e,n,r){function i(o,s){return"[Axios v"+qU+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new kt(i(s," has been removed"+(n?" in "+n:"")),kt.ERR_DEPRECATED);return n&&!VI[s]&&(VI[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};Vw.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Ase(t,e,n){if(typeof t!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new kt("option "+o+" must be "+l,kt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new kt("Unknown option "+o,kt.ERR_BAD_OPTION)}}const Qg={assertOptions:Ase,validators:Vw},us=Qg.validators;let Nc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new OI,response:new OI}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Jc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Qg.assertOptions(r,{silentJSONParsing:us.transitional(us.boolean),forcedJSONParsing:us.transitional(us.boolean),clarifyTimeoutError:us.transitional(us.boolean)},!1),i!=null&&(Se.isFunction(i)?n.paramsSerializer={serialize:i}:Qg.assertOptions(i,{encode:us.function,serialize:us.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Qg.assertOptions(n,{baseUrl:us.spelling("baseURL"),withXsrfToken:us.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&Se.merge(o.common,o[n.method]);o&&Se.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=Ti.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[WI.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,u=Promise.resolve(n);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(y){m.call(this,y);break}}try{u=WI.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Jc(this.defaults,e);const n=HU(e.baseURL,e.url,e.allowAbsoluteUrls);return LU(n,e.params,e.paramsSerializer)}};Se.forEach(["delete","get","head","options"],function(e){Nc.prototype[e]=function(n,r){return this.request(Jc(r||{},{method:e,url:n,data:(r||{}).data}))}});Se.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(Jc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Nc.prototype[e]=n(),Nc.prototype[e+"Form"]=n(!0)});let _se=class QU{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Pf(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new QU(function(i){e=i}),cancel:e}}};function Sse(t){return function(n){return t.apply(null,n)}}function Cse(t){return Se.isObject(t)&&t.isAxiosError===!0}const r2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(r2).forEach(([t,e])=>{r2[e]=t});function KU(t){const e=new Nc(t),n=SU(Nc.prototype.request,e);return Se.extend(n,Nc.prototype,e,{allOwnKeys:!0}),Se.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return KU(Jc(t,i))},n}const Un=KU(km);Un.Axios=Nc;Un.CanceledError=Pf;Un.CancelToken=_se;Un.isCancel=zU;Un.VERSION=qU;Un.toFormData=Gw;Un.AxiosError=kt;Un.Cancel=Un.CanceledError;Un.all=function(e){return Promise.all(e)};Un.spread=Sse;Un.isAxiosError=Cse;Un.mergeConfig=Jc;Un.AxiosHeaders=Ti;Un.formToJSON=t=>UU(Se.isHTMLForm(t)?new FormData(t):t);Un.getAdapter=$U.getAdapter;Un.HttpStatusCode=r2;Un.default=Un;const{Axios:lEe,AxiosError:cEe,CanceledError:uEe,isCancel:dEe,CancelToken:fEe,VERSION:hEe,all:pEe,Cancel:mEe,isAxiosError:gEe,spread:yEe,toFormData:vEe,AxiosHeaders:wEe,HttpStatusCode:bEe,formToJSON:xEe,getAdapter:EEe,mergeConfig:AEe}=Un;var ke;(function(t){t.ETH_MAINNET="eth-mainnet",t.ETH_GOERLI="eth-goerli",t.ETH_SEPOLIA="eth-sepolia",t.ETH_HOLESKY="eth-holesky",t.ETH_HOODI="eth-hoodi",t.OPT_MAINNET="opt-mainnet",t.OPT_GOERLI="opt-goerli",t.OPT_SEPOLIA="opt-sepolia",t.ARB_MAINNET="arb-mainnet",t.ARB_GOERLI="arb-goerli",t.ARB_SEPOLIA="arb-sepolia",t.MATIC_MAINNET="polygon-mainnet",t.MATIC_MUMBAI="polygon-mumbai",t.MATIC_AMOY="polygon-amoy",t.ASTAR_MAINNET="astar-mainnet",t.POLYGONZKEVM_MAINNET="polygonzkevm-mainnet",t.POLYGONZKEVM_TESTNET="polygonzkevm-testnet",t.POLYGONZKEVM_CARDONA="polygonzkevm-cardona",t.BASE_MAINNET="base-mainnet",t.BASE_GOERLI="base-goerli",t.BASE_SEPOLIA="base-sepolia",t.ZKSYNC_MAINNET="zksync-mainnet",t.ZKSYNC_SEPOLIA="zksync-sepolia",t.SHAPE_MAINNET="shape-mainnet",t.SHAPE_SEPOLIA="shape-sepolia",t.LINEA_MAINNET="linea-mainnet",t.LINEA_SEPOLIA="linea-sepolia",t.FANTOM_MAINNET="fantom-mainnet",t.FANTOM_TESTNET="fantom-testnet",t.ZETACHAIN_MAINNET="zetachain-mainnet",t.ZETACHAIN_TESTNET="zetachain-testnet",t.ARBNOVA_MAINNET="arbnova-mainnet",t.BLAST_MAINNET="blast-mainnet",t.BLAST_SEPOLIA="blast-sepolia",t.MANTLE_MAINNET="mantle-mainnet",t.MANTLE_SEPOLIA="mantle-sepolia",t.SCROLL_MAINNET="scroll-mainnet",t.SCROLL_SEPOLIA="scroll-sepolia",t.GNOSIS_MAINNET="gnosis-mainnet",t.GNOSIS_CHIADO="gnosis-chiado",t.BNB_MAINNET="bnb-mainnet",t.BNB_TESTNET="bnb-testnet",t.AVAX_MAINNET="avax-mainnet",t.AVAX_FUJI="avax-fuji",t.CELO_MAINNET="celo-mainnet",t.CELO_ALFAJORES="celo-alfajores",t.CELO_BAKLAVA="celo-baklava",t.METIS_MAINNET="metis-mainnet",t.OPBNB_MAINNET="opbnb-mainnet",t.OPBNB_TESTNET="opbnb-testnet",t.BERACHAIN_BARTIO="berachain-bartio",t.BERACHAIN_MAINNET="berachain-mainnet",t.BERACHAIN_BEPOLIA="berachain-bepolia",t.SONEIUM_MAINNET="soneium-mainnet",t.SONEIUM_MINATO="soneium-minato",t.WORLDCHAIN_MAINNET="worldchain-mainnet",t.WORLDCHAIN_SEPOLIA="worldchain-sepolia",t.ROOTSTOCK_MAINNET="rootstock-mainnet",t.ROOTSTOCK_TESTNET="rootstock-testnet",t.FLOW_MAINNET="flow-mainnet",t.FLOW_TESTNET="flow-testnet",t.ZORA_MAINNET="zora-mainnet",t.ZORA_SEPOLIA="zora-sepolia",t.FRAX_MAINNET="frax-mainnet",t.FRAX_SEPOLIA="frax-sepolia",t.POLYNOMIAL_MAINNET="polynomial-mainnet",t.POLYNOMIAL_SEPOLIA="polynomial-sepolia",t.CROSSFI_MAINNET="crossfi-mainnet",t.CROSSFI_TESTNET="crossfi-testnet",t.APECHAIN_MAINNET="apechain-mainnet",t.APECHAIN_CURTIS="apechain-curtis",t.LENS_MAINNET="lens-mainnet",t.LENS_SEPOLIA="lens-sepolia",t.GEIST_MAINNET="geist-mainnet",t.GEIST_POLTER="geist-polter",t.LUMIA_PRISM="lumia-prism",t.LUMIA_TESTNET="lumia-testnet",t.UNICHAIN_MAINNET="unichain-mainnet",t.UNICHAIN_SEPOLIA="unichain-sepolia",t.SONIC_MAINNET="sonic-mainnet",t.SONIC_BLAZE="sonic-blaze",t.XMTP_TESTNET="xmtp-testnet",t.ABSTRACT_MAINNET="abstract-mainnet",t.ABSTRACT_TESTNET="abstract-testnet",t.DEGEN_MAINNET="degen-mainnet",t.INK_MAINNET="ink-mainnet",t.INK_SEPOLIA="ink-sepolia",t.SEI_MAINNET="sei-mainnet",t.SEI_TESTNET="sei-testnet",t.RONIN_MAINNET="ronin-mainnet",t.RONIN_SAIGON="ronin-saigon",t.MONAD_TESTNET="monad-testnet",t.SETTLUS_SEPTESTNET="settlus-septestnet",t.SETTLUS_MAINNET="settlus-mainnet",t.SOLANA_MAINNET="solana-mainnet",t.SOLANA_DEVNET="solana-devnet",t.GENSYN_TESTNET="gensyn-testnet",t.SUPERSEED_MAINNET="superseed-mainnet",t.SUPERSEED_SEPOLIA="superseed-sepolia",t.TEA_SEPOLIA="tea-sepolia",t.ANIME_MAINNET="anime-mainnet",t.ANIME_SEPOLIA="anime-sepolia",t.STORY_MAINNET="story-mainnet",t.STORY_AENEID="story-aeneid",t.MEGAETH_TESTNET="megaeth-testnet"})(ke||(ke={}));var Qh;(function(t){t.DEFAULT_TOKENS="DEFAULT_TOKENS",t.ERC20="erc20"})(Qh||(Qh={}));var vo;(function(t){t.EXTERNAL="external",t.INTERNAL="internal",t.ERC20="erc20",t.ERC721="erc721",t.ERC1155="erc1155",t.SPECIALNFT="specialnft"})(vo||(vo={}));var i2;(function(t){t.TO="TO",t.FROM="FROM"})(i2||(i2={}));var $I;(function(t){t.ASCENDING="asc",t.DESCENDING="desc"})($I||($I={}));var o2;(function(t){t.VERIFIED="verified",t.APPROVED="approved",t.REQUESTED="requested",t.NOT_REQUESTED="not_requested"})(o2||(o2={}));var Il;(function(t){t.PENDING_TRANSACTIONS="alchemy_pendingTransactions",t.MINED_TRANSACTIONS="alchemy_minedTransactions"})(Il||(Il={}));var qI;(function(t){t.NATIVE="NATIVE",t.ERC20="ERC20",t.ERC721="ERC721",t.ERC1155="ERC1155",t.SPECIAL_NFT="SPECIAL_NFT"})(qI||(qI={}));var QI;(function(t){t.APPROVE="APPROVE",t.TRANSFER="TRANSFER"})(QI||(QI={}));var KI;(function(t){t.ETHERSCAN="ETHERSCAN"})(KI||(KI={}));var XI;(function(t){t.CREATE="CREATE",t.CALL="CALL",t.STATICCALL="STATICCALL",t.DELEGATECALL="DELEGATECALL"})(XI||(XI={}));var YI;(function(t){t.UNSPECIFIED="TRANSACTION_JOB_STATUS_UNSPECIFIED",t.IN_PROGRESS="IN_PROGRESS",t.COMPLETE="COMPLETE",t.ABANDONED="ABANDONED"})(YI||(YI={}));var JI;(function(t){t.V1="V1",t.V2="V2"})(JI||(JI={}));var hs;(function(t){t.MINED_TRANSACTION="MINED_TRANSACTION",t.DROPPED_TRANSACTION="DROPPED_TRANSACTION",t.ADDRESS_ACTIVITY="ADDRESS_ACTIVITY",t.NFT_ACTIVITY="NFT_ACTIVITY",t.NFT_METADATA_UPDATE="NFT_METADATA_UPDATE",t.GRAPHQL="GRAPHQL"})(hs||(hs={}));var ZI;(function(t){t.PENDING="pending",t.LATEST="latest",t.SAFE="safe",t.FINALIZED="finalized",t.EARLIEST="earliest"})(ZI||(ZI={}));var eR;(function(t){t.CALL_TRACER="callTracer",t.PRESTATE_TRACER="prestateTracer"})(eR||(eR={}));var Gi;(function(t){t.ERC721="ERC721",t.ERC1155="ERC1155",t.NO_SUPPORTED_NFT_STANDARD="NO_SUPPORTED_NFT_STANDARD",t.NOT_A_CONTRACT="NOT_A_CONTRACT",t.UNKNOWN="UNKNOWN"})(Gi||(Gi={}));var nv;(function(t){t.Erc721TooManyOwners="Erc721TooManyOwners",t.Erc721TooManyTokens="Erc721TooManyTokens",t.Erc721DishonestTotalSupply="Erc721DishonestTotalSupply",t.MostlyHoneyPotOwners="MostlyHoneyPotOwners",t.OwnedByMostHoneyPots="OwnedByMostHoneyPots",t.LowDistinctOwnersPercent="LowDistinctOwnersPercent",t.HighHoneyPotOwnerPercent="HighHoneyPotOwnerPercent",t.HighHoneyPotPercent="HighHoneyPotPercent",t.HoneyPotsOwnMultipleTokens="HoneyPotsOwnMultipleTokens",t.NoSalesActivity="NoSalesActivity",t.HighAirdropPercent="HighAirdropPercent",t.Unknown="Unknown"})(nv||(nv={}));var tR;(function(t){t.SPAM="SPAM",t.AIRDROPS="AIRDROPS"})(tR||(tR={}));var nR;(function(t){t.TRANSFERTIME="TRANSFERTIME"})(nR||(nR={}));var Xs;(function(t){t.SEAPORT="seaport",t.LOOKSRARE="looksrare",t.X2Y2="x2y2",t.WYVERN="wyvern",t.CRYPTOPUNKS="cryptopunks",t.BLUR="blur",t.UNKNOWN="unknown"})(Xs||(Xs={}));var rv;(function(t){t.BUYER="buyer",t.SELLER="seller"})(rv||(rv={}));var nl;(function(t){t.DOES_NOT_EXIST="does_not_exist",t.ALREADY_QUEUED="already_queued",t.IN_PROGRESS="in_progress",t.FINISHED="finished",t.QUEUED="queued",t.QUEUE_FAILED="queue_failed"})(nl||(nl={}));var s2;(function(t){t.OPENSEA="OpenSea"})(s2||(s2={}));var rR;(function(t){t.FIVE_MINUTE="5m",t.ONE_HOUR="1h",t.ONE_DAY="1d"})(rR||(rR={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Oe(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function iR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jo(t){return this instanceof Jo?(this.v=t,this):new Jo(t)}function iT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,m){o.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{l(r[f](h))}catch(p){d(o[0][3],p)}}function l(f){f.value instanceof Jo?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function XU(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof iR=="function"?iR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}const Tse="demo",Mse=ke.ETH_MAINNET,Ise=5,Rse=0;function Pse(t,e){return`https://${t}.g.alchemy.com/v2/${e}`}function Nse(t,e){return`https://${t}.g.alchemy.com/nft/v3/${e}`}function _Ee(t,e){return`wss://${t}.g.alchemy.com/v2/${e}`}function kse(){return"https://dashboard.alchemy.com/api"}function Fse(t){return`https://api.g.alchemy.com/prices/v1/${t}`}function Bse(t){return`https://api.g.alchemy.com/data/v1/${t}`}var Lt;(function(t){t[t.BASE=0]="BASE",t[t.NFT=1]="NFT",t[t.WEBHOOK=2]="WEBHOOK",t[t.PRICES=3]="PRICES",t[t.PORTFOLIO=4]="PORTFOLIO"})(Lt||(Lt={}));const SEe={[ke.ETH_MAINNET]:"mainnet",[ke.ETH_GOERLI]:"goerli",[ke.ETH_SEPOLIA]:"sepolia",[ke.ETH_HOLESKY]:"holesky",[ke.ETH_HOODI]:"hoodi",[ke.OPT_MAINNET]:"opt-mainnet",[ke.OPT_GOERLI]:"optimism-goerli",[ke.OPT_SEPOLIA]:"optimism-sepolia",[ke.ARB_MAINNET]:"arbitrum",[ke.ARB_GOERLI]:"arbitrum-goerli",[ke.ARB_SEPOLIA]:"arbitrum-sepolia",[ke.MATIC_MAINNET]:"matic",[ke.MATIC_MUMBAI]:"maticmum",[ke.MATIC_AMOY]:"maticamoy",[ke.SOLANA_MAINNET]:null,[ke.SOLANA_DEVNET]:null,[ke.ASTAR_MAINNET]:"astar-mainnet",[ke.POLYGONZKEVM_MAINNET]:"polygonzkevm-mainnet",[ke.POLYGONZKEVM_TESTNET]:"polygonzkevm-testnet",[ke.POLYGONZKEVM_CARDONA]:"polygonzkevm-cardona",[ke.BASE_MAINNET]:"base-mainnet",[ke.BASE_GOERLI]:"base-goerli",[ke.BASE_SEPOLIA]:"base-sepolia",[ke.ZKSYNC_MAINNET]:"zksync-mainnet",[ke.ZKSYNC_SEPOLIA]:"zksync-sepolia",[ke.SHAPE_MAINNET]:"shape-mainnet",[ke.SHAPE_SEPOLIA]:"shape-sepolia",[ke.LINEA_MAINNET]:"linea-mainnet",[ke.LINEA_SEPOLIA]:"linea-sepolia",[ke.FANTOM_MAINNET]:"fantom-mainnet",[ke.FANTOM_TESTNET]:"fantom-testnet",[ke.ZETACHAIN_MAINNET]:"zetachain-mainnet",[ke.ZETACHAIN_TESTNET]:"zetachain-testnet",[ke.ARBNOVA_MAINNET]:"arbnova-mainnet",[ke.BLAST_MAINNET]:"blast-mainnet",[ke.BLAST_SEPOLIA]:"blast-sepolia",[ke.MANTLE_MAINNET]:"mantle-mainnet",[ke.MANTLE_SEPOLIA]:"mantle-sepolia",[ke.SCROLL_MAINNET]:"scroll-mainnet",[ke.SCROLL_SEPOLIA]:"scroll-sepolia",[ke.GNOSIS_MAINNET]:"gnosis-mainnet",[ke.GNOSIS_CHIADO]:"gnosis-chiado",[ke.BNB_MAINNET]:"bnb-mainnet",[ke.BNB_TESTNET]:"bnb-testnet",[ke.AVAX_MAINNET]:"avax-mainnet",[ke.AVAX_FUJI]:"avax-fuji",[ke.CELO_MAINNET]:"celo-mainnet",[ke.CELO_ALFAJORES]:"celo-alfajores",[ke.CELO_BAKLAVA]:"celo-baklava",[ke.METIS_MAINNET]:"metis-mainnet",[ke.OPBNB_MAINNET]:"opbnb-mainnet",[ke.OPBNB_TESTNET]:"opbnb-testnet",[ke.BERACHAIN_BARTIO]:"berachain-bartio",[ke.BERACHAIN_MAINNET]:"berachain-mainnet",[ke.BERACHAIN_BEPOLIA]:"berachain-bepolia",[ke.SONEIUM_MAINNET]:"soneium-mainnet",[ke.SONEIUM_MINATO]:"soneium-minato",[ke.WORLDCHAIN_MAINNET]:"worldchain-mainnet",[ke.WORLDCHAIN_SEPOLIA]:"worldchain-sepolia",[ke.ROOTSTOCK_MAINNET]:"rootstock-mainnet",[ke.ROOTSTOCK_TESTNET]:"rootstock-testnet",[ke.FLOW_MAINNET]:"flow-mainnet",[ke.FLOW_TESTNET]:"flow-testnet",[ke.ZORA_MAINNET]:"zora-mainnet",[ke.ZORA_SEPOLIA]:"zora-sepolia",[ke.FRAX_MAINNET]:"frax-mainnet",[ke.FRAX_SEPOLIA]:"frax-sepolia",[ke.POLYNOMIAL_MAINNET]:"polynomial-mainnet",[ke.POLYNOMIAL_SEPOLIA]:"polynomial-sepolia",[ke.CROSSFI_MAINNET]:"crossfi-mainnet",[ke.CROSSFI_TESTNET]:"crossfi-testnet",[ke.APECHAIN_MAINNET]:"apechain-mainnet",[ke.APECHAIN_CURTIS]:"apechain-curtis",[ke.LENS_MAINNET]:"lens-mainnet",[ke.LENS_SEPOLIA]:"lens-sepolia",[ke.GEIST_MAINNET]:"geist-mainnet",[ke.GEIST_POLTER]:"geist-polter",[ke.LUMIA_PRISM]:"lumia-prism",[ke.LUMIA_TESTNET]:"lumia-testnet",[ke.UNICHAIN_MAINNET]:"unichain-mainnet",[ke.UNICHAIN_SEPOLIA]:"unichain-sepolia",[ke.SONIC_MAINNET]:"sonic-mainnet",[ke.SONIC_BLAZE]:"sonic-blaze",[ke.XMTP_TESTNET]:"xmtp-testnet",[ke.ABSTRACT_MAINNET]:"abstract-mainnet",[ke.ABSTRACT_TESTNET]:"abstract-testnet",[ke.DEGEN_MAINNET]:"degen-mainnet",[ke.INK_MAINNET]:"ink-mainnet",[ke.INK_SEPOLIA]:"ink-sepolia",[ke.SEI_MAINNET]:"sei-mainnet",[ke.SEI_TESTNET]:"sei-testnet",[ke.RONIN_MAINNET]:"ronin-mainnet",[ke.RONIN_SAIGON]:"ronin-saigon",[ke.MONAD_TESTNET]:"monad-testnet",[ke.SETTLUS_MAINNET]:"settlus-mainnet",[ke.SETTLUS_SEPTESTNET]:"settlus-septestnet",[ke.GENSYN_TESTNET]:"gensyn-testnet",[ke.SUPERSEED_MAINNET]:"superseed-mainnet",[ke.SUPERSEED_SEPOLIA]:"superseed-sepolia",[ke.TEA_SEPOLIA]:"tea-sepolia",[ke.ANIME_MAINNET]:"anime-mainnet",[ke.ANIME_SEPOLIA]:"anime-sepolia",[ke.STORY_MAINNET]:"story-mainnet",[ke.STORY_AENEID]:"story-aeneid",[ke.MEGAETH_TESTNET]:"megaeth-testnet"},CEe={"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},"astar-mainnet":{chainId:592,name:"astar-mainnet"},sepolia:{chainId:11155111,name:"sepolia"},holesky:{chainId:17e3,name:"holesky"},hoodi:{chainId:560048,name:"hoodi"},"opt-mainnet":{chainId:10,name:"opt-mainnet"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},"polygonzkevm-mainnet":{chainId:1101,name:"polygonzkevm-mainnet"},"polygonzkevm-testnet":{chainId:1442,name:"polygonzkevm-testnet"},"polygonzkevm-cardona":{chainId:2442,name:"polygonzkevm-cardona"},"base-mainnet":{chainId:8453,name:"base-mainnet"},"base-goerli":{chainId:84531,name:"base-goerli"},"base-sepolia":{chainId:84532,name:"base-sepolia"},maticamoy:{chainId:80002,name:"maticamoy"},"zksync-mainnet":{chainId:324,name:"zksync-mainnet"},"zksync-sepolia":{chainId:300,name:"zksync-sepolia"},"shape-mainnet":{chainId:360,name:"shape-mainnet"},"shape-sepolia":{chainId:11011,name:"shape-sepolia"},"linea-mainnet":{chainId:59144,name:"linea-mainnet"},"linea-sepolia":{chainId:59141,name:"linea-sepolia"},"fantom-mainnet":{chainId:250,name:"fantom-mainnet"},"fantom-testnet":{chainId:4002,name:"fantom-testnet"},"zetachain-mainnet":{chainId:7e3,name:"zetachain-mainnet"},"zetachain-testnet":{chainId:7001,name:"zetachain-testnet"},"arbnova-mainnet":{chainId:42170,name:"arbnova-mainnet"},"blast-mainnet":{chainId:81457,name:"blast-mainnet"},"blast-sepolia":{chainId:168587773,name:"blast-sepolia"},"mantle-mainnet":{chainId:5e3,name:"mantle-mainnet"},"mantle-sepolia":{chainId:5003,name:"mantle-sepolia"},"scroll-mainnet":{chainId:534352,name:"scroll-mainnet"},"scroll-sepolia":{chainId:534351,name:"scroll-sepolia"},"gnosis-mainnet":{chainId:100,name:"gnosis-mainnet"},"gnosis-chiado":{chainId:10200,name:"gnosis-chiado"},"bnb-mainnet":{chainId:56,name:"bnb-mainnet"},"bnb-testnet":{chainId:97,name:"bnb-testnet"},"avax-mainnet":{chainId:43114,name:"avax-mainnet"},"avax-fuji":{chainId:43113,name:"avax-fuji"},"celo-mainnet":{chainId:42220,name:"celo-mainnet"},"celo-alfajores":{chainId:44787,name:"celo-alfajores"},"celo-baklava":{chainId:62320,name:"celo-baklava"},"metis-mainnet":{chainId:1088,name:"metis-mainnet"},"opbnb-mainnet":{chainId:204,name:"opbnb-mainnet"},"opbnb-testnet":{chainId:5611,name:"opbnb-testnet"},"berachain-bartio":{chainId:80084,name:"berachain-bartio"},"berachain-mainnet":{chainId:80094,name:"berachain-mainnet"},"berachain-bepolia":{chainId:80069,name:"berachain-bepolia"},"soneium-mainnet":{chainId:1868,name:"soneium-mainnet"},"soneium-minato":{chainId:1946,name:"soneium-minato"},"worldchain-mainnet":{chainId:480,name:"worldchain-mainnet"},"worldchain-sepolia":{chainId:4801,name:"worldchain-sepolia"},"rootstock-mainnet":{chainId:30,name:"rootstock-mainnet"},"rootstock-testnet":{chainId:31,name:"rootstock-testnet"},"flow-mainnet":{chainId:747,name:"flow-mainnet"},"flow-testnet":{chainId:545,name:"flow-testnet"},"zora-mainnet":{chainId:7777777,name:"zora-mainnet"},"zora-sepolia":{chainId:999999999,name:"zora-sepolia"},"frax-mainnet":{chainId:252,name:"frax-mainnet"},"frax-sepolia":{chainId:2522,name:"frax-sepolia"},"polynomial-mainnet":{chainId:8008,name:"polynomial-mainnet"},"polynomial-sepolia":{chainId:8009,name:"polynomial-sepolia"},"crossfi-mainnet":{chainId:4158,name:"crossfi-mainnet"},"crossfi-testnet":{chainId:4157,name:"crossfi-testnet"},"apechain-mainnet":{chainId:33139,name:"apechain-mainnet"},"apechain-curtis":{chainId:33111,name:"apechain-curtis"},"lens-mainnet":{chainId:232,name:"lens-mainnet"},"lens-sepolia":{chainId:37111,name:"lens-sepolia"},"geist-mainnet":{chainId:63157,name:"geist-mainnet"},"geist-polter":{chainId:631571,name:"geist-polter"},"lumia-prism":{chainId:994873017,name:"lumia-prism"},"lumia-testnet":{chainId:1952959480,name:"lumia-testnet"},"unichain-mainnet":{chainId:130,name:"unichain-mainnet"},"unichain-sepolia":{chainId:1301,name:"unichain-sepolia"},"sonic-mainnet":{chainId:146,name:"sonic-mainnet"},"sonic-blaze":{chainId:57054,name:"sonic-blaze"},"xmtp-testnet":{chainId:241320161,name:"xmtp-testnet"},"abstract-mainnet":{chainId:2741,name:"abstract-mainnet"},"abstract-testnet":{chainId:11124,name:"abstract-testnet"},"degen-mainnet":{chainId:666666666,name:"degen-mainnet"},"ink-mainnet":{chainId:57073,name:"ink-mainnet"},"ink-sepolia":{chainId:763373,name:"ink-sepolia"},"sei-mainnet":{chainId:1329,name:"sei-mainnet"},"sei-testnet":{chainId:1328,name:"sei-testnet"},"ronin-mainnet":{chainId:2020,name:"ronin-mainnet"},"ronin-saigon":{chainId:2021,name:"ronin-saigon"},"monad-testnet":{chainId:10143,name:"monad-testnet"},"settlus-mainnet":{chainId:5371,name:"settlus-mainnet"},"settlus-septestnet":{chainId:5373,name:"settlus-septestnet"},"gensyn-testnet":{chainId:685685,name:"gensyn-testnet"},"superseed-mainnet":{chainId:5330,name:"superseed-mainnet"},"superseed-sepolia":{chainId:53302,name:"superseed-sepolia"},"tea-sepolia":{chainId:10218,name:"tea-sepolia"},"anime-mainnet":{chainId:69e3,name:"anime-mainnet"},"anime-sepolia":{chainId:6900,name:"anime-sepolia"},"story-mainnet":{chainId:1514,name:"story-mainnet"},"story-aeneid":{chainId:1315,name:"story-aeneid"},"megaeth-testnet":{chainId:6342,name:"megaeth-testnet"}};function TEe(){}const YU="0x",Ose="0x0000000000000000000000000000000000000000";class Lse{constructor(e){this.apiKey=e?.apiKey||Tse,this.network=e?.network||Mse,this.maxRetries=e?.maxRetries||Ise,this.url=e?.url,this.authToken=e?.authToken,this.batchRequests=e?.batchRequests||!1,this.requestTimeout=e?.requestTimeout||Rse,this.connectionInfoOverrides=e?.connectionInfoOverrides}_getRequestUrl(e){return this.url!==void 0?this.url:e===Lt.NFT?Nse(this.network,this.apiKey):e===Lt.WEBHOOK?kse():e===Lt.PRICES?Fse(this.apiKey):e===Lt.PORTFOLIO?Bse(this.apiKey):Pse(this.network,this.apiKey)}getProvider(){return this._baseAlchemyProvider||(this._baseAlchemyProvider=Oe(this,void 0,void 0,function*(){const{AlchemyProvider:e}=yield qe(()=>import("./alchemy-provider-0066b792-DIirk4_b.js").then(n=>n.a),__vite__mapDeps([8,3]));return new e(this)})),this._baseAlchemyProvider}getWebSocketProvider(){return this._baseAlchemyWssProvider||(this._baseAlchemyWssProvider=Oe(this,void 0,void 0,function*(){const{AlchemyWebSocketProvider:e}=yield qe(()=>import("./alchemy-websocket-provider-98da5bb0-XUA_lTO8.js"),__vite__mapDeps([9,8,3]));return new e(this)})),this._baseAlchemyWssProvider}}const Dse="logger/5.7.0";let oR=!1,sR=!1;const Kg={debug:1,default:2,info:2,warning:3,error:4,off:5};let aR=Kg.default,Gb=null;function Use(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const lR=Use();var a2;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(a2||(a2={}));var Lo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Lo||(Lo={}));const cR="0123456789abcdef";class In{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();Kg[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(aR>Kg[r])&&console.log.apply(console,n)}debug(...e){this._log(In.levels.DEBUG,e)}info(...e){this._log(In.levels.INFO,e)}warn(...e){this._log(In.levels.WARNING,e)}makeError(e,n,r){if(sR)return this.makeError("censored error",n,{});n||(n=In.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let u="";for(let d=0;d<c.length;d++)u+=cR[c[d]>>4],u+=cR[c[d]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const o=e;let s="";switch(n){case Lo.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Lo.CALL_EXCEPTION:case Lo.INSUFFICIENT_FUNDS:case Lo.MISSING_NEW:case Lo.NONCE_EXPIRED:case Lo.REPLACEMENT_UNDERPRICED:case Lo.TRANSACTION_REPLACED:case Lo.UNPREDICTABLE_GAS_LIMIT:s=n;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=n,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,In.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){lR&&this.throwError("platform missing String.prototype.normalize",In.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:lR})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,In.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,In.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,In.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,In.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",In.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",In.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",In.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return Gb||(Gb=new In(Dse)),Gb}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",In.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),oR){if(!e)return;this.globalLogger().throwError("error censorship permanent",In.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}sR=!!e,oR=!!n}static setLogLevel(e){const n=Kg[e.toLowerCase()];if(n==null){In.globalLogger().warn("invalid log level - "+e);return}aR=n}static from(e){return new In(e)}}In.errors=Lo;In.levels=a2;const zse="properties/5.7.0";var jse=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})};const JU=new In(zse);function Hse(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function ZU(t){return jse(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const i=t[r];return Promise.resolve(i).then(o=>({key:r,value:o}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}const Gse={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function e8(t){if(t==null||Gse[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!e8(r))return!1}return!0}return JU.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Wse(t){if(e8(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>uR(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&Hse(e,n,uR(r))}return e}return JU.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function uR(t){return Wse(t)}function Vse(t){return Ht.from(t).toNumber()}function $w(t){return Ht.from(t).toHexString()}function dR(t){return typeof t=="string"?t:Number.isInteger(t)?$w(t):t.toString()}function t8(t,e){return Object.values(e).includes(t)?t:null}function $se(t){return rn(Object.assign(Object.assign({},Fm(t)),{spamClassifications:t.spamClassifications.map(Zse)}))}function qse(t){return rn(Object.assign(Object.assign({},Fm(t)),{displayNft:t.displayNft,image:t.image,totalBalance:t.totalBalance,numDistinctTokensOwned:t.numDistinctTokensOwned,isSpam:t.isSpam}))}function Fm(t){var e;return rn(Object.assign(Object.assign({},t),{tokenType:n8(t.tokenType),openSeaMetadata:Object.assign(Object.assign({},t.openSeaMetadata),{safelistRequestStatus:!((e=t.openSeaMetadata)===null||e===void 0)&&e.safelistRequestStatus?t8(t.openSeaMetadata.safelistRequestStatus,o2):null})}))}function Qse(t){return rn(Object.assign(Object.assign({},t),{floorPrice:Object.assign(Object.assign({},t.floorPrice),{marketplace:Yse(t.floorPrice.marketplace)})}))}function qw(t,e){return{contractAddress:e||t.contractAddress,tokenId:t.tokenId}}function yu(t){return rn(Object.assign(Object.assign({},t),{contract:$se(t.contract),tokenType:n8(t.tokenType),acquiredAt:t.acquiredAt,collection:t.collection,mint:t.mint}))}function Kse(t){return rn({nftSales:t.nftSales.map(e=>Object.assign(Object.assign({},e),{marketplace:Xse(e.marketplace),taker:Jse(e.taker)})),validAt:t.validAt,pageKey:t.pageKey})}function Xse(t){switch(t){case"looksrare":return Xs.LOOKSRARE;case"seaport":return Xs.SEAPORT;case"x2y2":return Xs.X2Y2;case"wyvern":return Xs.WYVERN;case"cryptopunks":return Xs.CRYPTOPUNKS;case"blur":return Xs.BLUR;default:return Xs.UNKNOWN}}function Yse(t){switch(t){case"OpenSea":return s2.OPENSEA;default:return}}function Jse(t){switch(t.toLowerCase()){case"buyer":return rv.BUYER;case"seller":return rv.SELLER;default:throw new Error(`Unsupported NftSaleTakerType ${t}`)}}function Zse(t){const e=t8(t,nv);return e??nv.Unknown}function n8(t){switch(t){case"erc721":case"ERC721":return Gi.ERC721;case"erc1155":case"ERC1155":return Gi.ERC1155;case"no_supported_nft_standard":case"NO_SUPPORTED_NFT_STANDARD":return Gi.NO_SUPPORTED_NFT_STANDARD;case"not_a_contract":case"NOT_A_CONTRACT":return Gi.NOT_A_CONTRACT;default:return Gi.UNKNOWN}}const eae=typeof window<"u"&&window!==null;function rn(t){if(t!=null){if(t.constructor.name==="Object"||Array.isArray(t))for(const e in t)t[e]=rn(t[e]);return t}}function Qw(t,e,n="getAssetTransfers"){return Oe(this,void 0,void 0,function*(){const r=yield t.getProvider();return e.fromAddress&&(e.fromAddress=yield r._getAddress(e.fromAddress)),e.toAddress&&(e.toAddress=yield r._getAddress(e.toAddress)),r._send("alchemy_getAssetTransfers",[Object.assign(Object.assign({},e),{fromBlock:e.fromBlock!=null?dR(e.fromBlock):void 0,toBlock:e.toBlock!=null?dR(e.toBlock):void 0,maxCount:e.maxCount!=null?$w(e.maxCount):void 0})],n)})}function fR(t,e,n="getTransactionReceipts"){return Oe(this,void 0,void 0,function*(){return(yield t.getProvider())._send("alchemy_getTransactionReceipts",[e],n)})}function tae(t,e){return Oe(this,void 0,void 0,function*(){const n=yield t.getProvider();yield n.getNetwork();const r=yield ZU({filter:nae(t,e)}),i=yield n.send("eth_getLogs",[r.filter]);return i.forEach(o=>{o.removed==null&&(o.removed=!1)}),rae(n.formatter.filterLog.bind(n.formatter))(i)})}function nae(t,e){return Oe(this,void 0,void 0,function*(){const n=yield t.getProvider(),r=yield e;let i={};return["blockHash","topics"].forEach(o=>{r[o]!=null&&(i[o]=r[o])}),["fromBlock","toBlock"].forEach(o=>{r[o]!=null&&(i[o]=n._getBlockTag(r[o]))}),i=n.formatter.filter(yield ZU(i)),Array.isArray(r.address)?i.address=yield Promise.all(r.address.map(o=>Oe(this,void 0,void 0,function*(){return n._getAddress(o)}))):r.address!=null&&(i.address=yield n._getAddress(r.address)),i})}function rae(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const n=[];return e.forEach(r=>{n.push(t(r))}),n}}class iae{constructor(e){this.config=e}getBalance(e,n){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBalance(e,n)})}isContractAddress(e){return Oe(this,void 0,void 0,function*(){return(yield(yield this.config.getProvider()).getCode(e))!=="0x"})}getCode(e,n){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getCode(e,n)})}getStorageAt(e,n,r){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getStorageAt(e,n,r)})}getTransactionCount(e,n){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionCount(e,n)})}getBlock(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlock(e)})}getBlockWithTransactions(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockWithTransactions(e)})}getNetwork(){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getNetwork()})}getBlockNumber(){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockNumber()})}getGasPrice(){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getGasPrice()})}getFeeData(){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getFeeData()})}ready(){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).ready})}call(e,n){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).call(e,n)})}estimateGas(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getTransaction(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}getTransactionReceipt(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionReceipt(e)})}sendTransaction(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}waitForTransaction(e,n,r){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,n,r)})}getLogs(e){return Oe(this,void 0,void 0,function*(){return tae(this.config,e)})}send(e,n){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).send(e,n)})}findContractDeployer(e){var n;return Oe(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=yield r.getBlockNumber();if((yield r.getCode(e,i))===YU)throw new Error(`Contract '${e}' does not exist`);const o=yield l2(0,i+1,e,this.config),a=(n=(yield fR(this.config,{blockNumber:$w(o)},"findContractDeployer")).receipts)===null||n===void 0?void 0:n.find(l=>l.contractAddress===e.toLowerCase());return{deployerAddress:a?.from,blockNumber:o}})}getTokenBalances(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=yield r._getAddress(e);if(Array.isArray(n)){if(n.length>1500)throw new Error("You cannot pass in more than 1500 contract addresses to getTokenBalances()");if(n.length===0)throw new Error("getTokenBalances() requires at least one contractAddress when using an array");return r._send("alchemy_getTokenBalances",[i,n],"getTokenBalances")}else{const o=n===void 0?Qh.ERC20:n.type,s=[i,o];return n?.type===Qh.ERC20&&n.pageKey&&s.push({pageKey:n.pageKey}),r._send("alchemy_getTokenBalances",s,"getTokenBalances")}})}getTokensForOwner(e,n){var r;return Oe(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),s=[yield i._getAddress(e),(r=n?.contractAddresses)!==null&&r!==void 0?r:Qh.ERC20];n?.pageKey&&s.push({pageKey:n.pageKey});const a=yield i._send("alchemy_getTokenBalances",s,"getTokensForOwner"),l=a.tokenBalances.map(f=>({contractAddress:f.contractAddress,rawBalance:Ht.from(f.tokenBalance).toString()})),u=(yield Promise.allSettled(a.tokenBalances.map(f=>i._send("alchemy_getTokenMetadata",[f.contractAddress],"getTokensForOwner")))).map(f=>f.status==="fulfilled"?f.value:{name:null,symbol:null,decimals:null,logo:null});return{tokens:l.map((f,h)=>Object.assign(Object.assign(Object.assign({},f),u[h]),{balance:u[h].decimals!==null?Xie(f.rawBalance,u[h].decimals):void 0})).map(f=>rn(f)),pageKey:a.pageKey}})}getTokenMetadata(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getTokenMetadata",[e],"getTokenMetadata")})}getAssetTransfers(e){return Oe(this,void 0,void 0,function*(){return Qw(this.config,e)})}getTransactionReceipts(e){return Oe(this,void 0,void 0,function*(){return fR(this.config,e)})}resolveName(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).resolveName(e)})}lookupAddress(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).lookupAddress(e)})}}function l2(t,e,n,r){return Oe(this,void 0,void 0,function*(){if(t>=e)return e;const i=Math.floor((t+e)/2);return(yield(yield r.getProvider()).getCode(n,i))===YU?l2(i+1,e,n,r):l2(t,i,n,r)})}class oae{constructor(e){this.config=e}traceCall(e,n,r){return Oe(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=[e,n,C0(r)];return i._send("debug_traceCall",o,"traceCall")})}traceTransaction(e,n,r){return Oe(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=[e,C0(n,r)];return i._send("debug_traceTransaction",o,"traceTransaction")})}traceBlock(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getProvider();let i,o;return Si(e,32)?(i="debug_traceBlockByHash",o=[e,C0(n)]):(i="debug_traceBlockByNumber",o=[typeof e=="number"?bU(Wie(e)):e,C0(n)]),r._send(i,o,"traceBlock")})}}function C0(t,e){return Object.assign({tracer:t.type},t.onlyTopCall!==void 0&&{tracerConfig:{onlyTopCall:t.onlyTopCall,timeout:e}})}function sae(t){if(t===Gi.ERC1155||t===Gi.ERC721)return t}var Sr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t[t.SILENT=4]="SILENT"})(Sr||(Sr={}));Sr.DEBUG,Sr.INFO,Sr.WARN,Sr.ERROR,Sr.SILENT;const aae={[Sr.DEBUG]:"log",[Sr.INFO]:"info",[Sr.WARN]:"warn",[Sr.ERROR]:"error"},lae=Sr.INFO;function r8(t,...e){oT.debug(t,e)}function hR(t,...e){oT.info(t,e)}function MEe(t,...e){oT.warn(t,e)}class cae{constructor(){this._logLevel=lae}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Sr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}debug(...e){this._log(Sr.DEBUG,...e)}info(...e){this._log(Sr.INFO,...e)}warn(...e){this._log(Sr.WARN,...e)}error(...e){this._log(Sr.ERROR,...e)}_log(e,...n){if(e<this._logLevel)return;const r=new Date().toISOString(),i=aae[e];if(i)console[i](`[${r}] Alchemy:`,...n.map(uae));else throw new Error(`Logger received an invalid logLevel (value: ${e})`)}}function uae(t){if(typeof t=="string")return t;try{return JSON.stringify(t)}catch{return t}}const oT=new cae,dae="3.6.0";function fae(t,e,n,r,i){var o;const s=t+"/"+e,a=Object.assign(Object.assign({},i),{headers:Object.assign(Object.assign(Object.assign({},i?.headers),!eae&&{"Accept-Encoding":"gzip"}),{"Alchemy-Ethers-Sdk-Version":dae,"Alchemy-Ethers-Sdk-Method":n}),method:(o=i?.method)!==null&&o!==void 0?o:"GET",url:s,params:r});return Un(a)}const hae=1e3,pae=1.5,mae=30*1e3,gae=5;class yae{constructor(e=gae){this.maxAttempts=e,this.initialDelayMs=hae,this.backoffMultiplier=pae,this.maxDelayMs=mae,this.numAttempts=0,this.currentDelayMs=0,this.isInBackoff=!1}backoff(){if(this.numAttempts>=this.maxAttempts)return Promise.reject(new Error(`Exceeded maximum number of attempts: ${this.maxAttempts}`));if(this.isInBackoff)return Promise.reject(new Error("A backoff operation is already in progress"));const e=this.withJitterMs(this.currentDelayMs);return e>0&&r8("ExponentialBackoff.backoff",`Backing off for ${e}ms`),this.currentDelayMs*=this.backoffMultiplier,this.currentDelayMs=Math.max(this.currentDelayMs,this.initialDelayMs),this.currentDelayMs=Math.min(this.currentDelayMs,this.maxDelayMs),this.numAttempts+=1,new Promise(n=>{this.isInBackoff=!0,setTimeout(()=>{this.isInBackoff=!1,n()},e)})}withJitterMs(e){return Math.min(e+(Math.random()-.5)*e,this.maxDelayMs)}}function Zt(t,e,n,r,i,o){return Oe(this,void 0,void 0,function*(){let s;const a=new yae(t.maxRetries);for(let l=0;l<t.maxRetries+1;l++)try{s!==void 0&&hR("requestHttp",`Retrying after error: ${s.message}`);try{yield a.backoff()}catch{break}const c=yield fae(t._getRequestUrl(e),n,r,i,Object.assign(Object.assign({},o),{timeout:t.requestTimeout}));if(c.status===200)return r8(n,`Successful request: ${n}`),c.data;hR(n,`Request failed: ${n}, ${c.status}, ${c.data}`),s=new Error(c.status+": "+c.data)}catch(c){if(!Un.isAxiosError(c)||c.response===void 0)throw c;if(s=new Error(c.response.status+": "+JSON.stringify(c.response.data)),!vae(c,e))break}return Promise.reject(s)})}function vae(t,e){const n=e===Lt.WEBHOOK?[429,500]:[429];return t.response!==void 0&&n.includes(t.response.status)}function i8(t,e,n,r,i,o,s){return iT(this,arguments,function*(){let l=!0;const c=Object.assign({},s);for(;l;){const u=yield Jo(Zt(t,e,n,r,c));yield yield Jo(u),u[o]!==null?c[i]=u[o]:l=!1}})}function o8(t,e,n,r,i="getNftMetadata"){return Oe(this,void 0,void 0,function*(){const o=yield Zt(t,Lt.NFT,"getNFTMetadata",i,{contractAddress:e,tokenId:Ht.from(n).toString(),tokenType:sae(r?.tokenType),tokenUriTimeoutInMs:r?.tokenUriTimeoutInMs,refreshCache:r?.refreshCache});return yu(o)})}function s8(t,e,n){return Oe(this,void 0,void 0,function*(){const r={tokens:e,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs,refreshCache:n?.refreshCache};return{nfts:(yield Zt(t,Lt.NFT,"getNFTMetadataBatch","getNftMetadataBatch",{},{method:"POST",data:r})).nfts.map(o=>yu(o))}})}function wae(t,e,n="getContractMetadata"){return Oe(this,void 0,void 0,function*(){const r=yield Zt(t,Lt.NFT,"getContractMetadata",n,{contractAddress:e});return Fm(r)})}function bae(t,e){return Oe(this,void 0,void 0,function*(){return{contracts:(yield Zt(t,Lt.NFT,"getContractMetadataBatch","getContractMetadataBatch",{},{method:"POST",data:{contractAddresses:e}})).contracts.map(Fm)}})}function xae(t,e,n="getCollectionMetadata"){return Oe(this,void 0,void 0,function*(){const r=yield Zt(t,Lt.NFT,"getCollectionMetadata",n,{collectionSlug:e});return Qse(r)})}function Eae(t,e,n,r="getNftsForOwnerIterator"){return iT(this,arguments,function*(){var o,s;const a=Kw(n?.omitMetadata);try{for(var l=XU(i8(t,Lt.NFT,"getNFTsForOwner",r,"pageKey","pageKey",{contractAddresses:n?.contractAddresses,pageKey:n?.pageKey,excludeFilters:n?.excludeFilters,includeFilters:n?.includeFilters,owner:e,withMetadata:a,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs,orderBy:n?.orderBy})),c;c=yield Jo(l.next()),!c.done;){const u=c.value;for(const d of u.ownedNfts)yield yield Jo(Object.assign(Object.assign({},Vae(d)),{balance:d.balance}))}}catch(u){o={error:u}}finally{try{c&&!c.done&&(s=l.return)&&(yield Jo(s.call(l)))}finally{if(o)throw o.error}}})}function c2(t,e,n,r="getNftsForOwner"){return Oe(this,void 0,void 0,function*(){const i=Kw(n?.omitMetadata),o=yield Zt(t,Lt.NFT,"getNFTsForOwner",r,{contractAddresses:n?.contractAddresses,pageKey:n?.pageKey,excludeFilters:n?.excludeFilters,includeFilters:n?.includeFilters,owner:e,pageSize:n?.pageSize,withMetadata:i,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs,orderBy:n?.orderBy});return rn(i?{ownedNfts:o.ownedNfts.map(s=>Object.assign(Object.assign({},yu(s)),{balance:s.balance})),pageKey:o.pageKey,totalCount:o.totalCount,validAt:o.validAt}:{ownedNfts:o.ownedNfts.map(s=>Object.assign(Object.assign({},qw(s)),{balance:s.balance})),pageKey:o.pageKey,totalCount:o.totalCount,validAt:o.validAt})})}function Aae(t,e,n,r="getNftsForContract"){var i;return Oe(this,void 0,void 0,function*(){const o=Kw(n?.omitMetadata),s=yield Zt(t,Lt.NFT,"getNFTsForContract",r,{contractAddress:e,pageKey:n?.pageKey,withMetadata:o,limit:(i=n?.pageSize)!==null&&i!==void 0?i:void 0,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs});return rn(o?{nfts:s.nfts.map(a=>yu(a)),pageKey:s.pageKey}:{nfts:s.nfts.map(a=>qw(a,e)),pageKey:s.pageKey})})}function _ae(t,e,n,r="getNftsForContractIterator"){return iT(this,arguments,function*(){var o,s;const a=Kw(n?.omitMetadata);try{for(var l=XU(i8(t,Lt.NFT,"getNFTsForContract",r,"pageKey","pageKey",{contractAddress:e,pageKey:n?.pageKey,withMetadata:a})),c;c=yield Jo(l.next()),!c.done;){const u=c.value;for(const d of u.nfts)yield yield Jo($ae(d,e))}}catch(u){o={error:u}}finally{try{c&&!c.done&&(s=l.return)&&(yield Jo(s.call(l)))}finally{if(o)throw o.error}}})}function Sae(t,e,n,r="getOwnersForContract"){return Oe(this,void 0,void 0,function*(){const i=yield Zt(t,Lt.NFT,"getOwnersForContract",r,Object.assign(Object.assign({},n),{contractAddress:e}));return n?.withTokenBalances?rn({owners:i.owners,pageKey:i.pageKey}):rn({owners:i.owners,pageKey:i.pageKey})})}function Cae(t,e,n,r="getContractsForOwner"){return Oe(this,void 0,void 0,function*(){const i=yield Zt(t,Lt.NFT,"getContractsForOwner",r,{owner:e,excludeFilters:n?.excludeFilters,includeFilters:n?.includeFilters,pageKey:n?.pageKey,pageSize:n?.pageSize,orderBy:n?.orderBy});return rn({contracts:i.contracts.map(qse),pageKey:i.pageKey,totalCount:i.totalCount})})}function Tae(t,e,n,r,i="getOwnersForNft"){return Oe(this,void 0,void 0,function*(){return Zt(t,Lt.NFT,"getOwnersForNFT",i,Object.assign({contractAddress:e,tokenId:Ht.from(n).toString()},r))})}function Mae(t,e,n){return Oe(this,void 0,void 0,function*(){const i=yield(yield t.getProvider())._getAddress(e),o=a8(n?.tokenType),s={fromBlock:"0x0",fromAddress:Ose,toAddress:i,excludeZeroValue:!0,contractAddresses:n?.contractAddresses,category:o,maxCount:100,pageKey:n?.pageKey},a=yield Qw(t,s,"getMintedNfts");return sT(t,a)})}function Iae(t,e,n,r){return Oe(this,void 0,void 0,function*(){const o=yield(yield t.getProvider())._getAddress(e),s=a8(r?.tokenType),a={fromBlock:"0x0",excludeZeroValue:!0,contractAddresses:r?.contractAddresses,category:s,maxCount:100,pageKey:r?.pageKey};n===i2.TO?a.toAddress=o:a.fromAddress=o;const l=yield Qw(t,a,"getTransfersForOwner");return sT(t,l)})}function Rae(t,e,n){return Oe(this,void 0,void 0,function*(){const r=[vo.ERC721,vo.ERC1155,vo.SPECIALNFT],i=yield t.getProvider(),o=n?.fromBlock?i.formatter.blockTag(yield i._getBlockTag(n.fromBlock)):"0x0",s=n?.toBlock?i.formatter.blockTag(yield i._getBlockTag(n.toBlock)):void 0,a={fromBlock:o,toBlock:s,excludeZeroValue:!0,contractAddresses:[e],order:n?.order,category:r,maxCount:100,pageKey:n?.pageKey},l=yield Qw(t,a,"getTransfersForContract");return sT(t,l)})}function a8(t){switch(t){case Gi.ERC721:return[vo.ERC721];case Gi.ERC1155:return[vo.ERC1155];default:return[vo.ERC721,vo.ERC1155,vo.SPECIALNFT]}}function Pae(t){return t.erc1155Metadata.map(e=>({contractAddress:t.rawContract.address,tokenId:e.tokenId,tokenType:Gi.ERC1155}))}function Nae(t,e,n,r="verifyNftOwnership"){return Oe(this,void 0,void 0,function*(){if(typeof n=="string")return(yield c2(t,e,{contractAddresses:[n],omitMetadata:!0},r)).ownedNfts.length>0;{if(n.length===0)throw new Error("Must provide at least one contract address");const i=yield c2(t,e,{contractAddresses:n,omitMetadata:!0},r),o=n.reduce((s,a)=>(s[a]=!1,s),{});for(const s of i.ownedNfts)o[s.contractAddress]=!0;return o}})}function kae(t,e,n="isSpamContract"){return Oe(this,void 0,void 0,function*(){return Zt(t,Lt.NFT,"isSpamContract",n,{contractAddress:e})})}function Fae(t,e="getSpamContracts"){return Oe(this,void 0,void 0,function*(){return Zt(t,Lt.NFT,"getSpamContracts",e,void 0)})}function Bae(t,e,n="reportSpam"){return Oe(this,void 0,void 0,function*(){Zt(t,Lt.NFT,"reportSpam",n,{contractAddress:e})})}function Oae(t,e,n,r="isAirdropNft"){return Oe(this,void 0,void 0,function*(){return Zt(t,Lt.NFT,"isAirdropNFT",r,{contractAddress:e,tokenId:n})})}function Lae(t,e,n="getFloorPrice"){return Oe(this,void 0,void 0,function*(){const r=yield Zt(t,Lt.NFT,"getFloorPrice",n,{contractAddress:e});return rn(r)})}function Dae(t,e={},n="getNftSales"){return Oe(this,void 0,void 0,function*(){const r=Object.assign({},e),i=yield Zt(t,Lt.NFT,"getNFTSales",n,{fromBlock:r?.fromBlock,toBlock:r?.toBlock,order:r?.order,marketplace:r?.marketplace,contractAddress:r?.contractAddress,tokenId:r?.tokenId?Ht.from(r?.tokenId).toString():void 0,sellerAddress:r?.sellerAddress,buyerAddress:r?.buyerAddress,taker:r?.taker,limit:r?.limit,pageKey:r?.pageKey});return Kse(i)})}function Uae(t,e,n,r="computeRarity"){return Oe(this,void 0,void 0,function*(){const i=yield Zt(t,Lt.NFT,"computeRarity",r,{contractAddress:e,tokenId:Ht.from(n).toString()});return rn(i)})}function zae(t,e,n="searchContractMetadata"){return Oe(this,void 0,void 0,function*(){return{contracts:(yield Zt(t,Lt.NFT,"searchContractMetadata",n,{query:e})).contracts.map(Fm)}})}function jae(t,e,n="summarizeNftAttributes"){return Oe(this,void 0,void 0,function*(){return Zt(t,Lt.NFT,"summarizeNFTAttributes",n,{contractAddress:e})})}function Hae(t,e,n,r="refreshNftMetadata"){return Oe(this,void 0,void 0,function*(){const i=Ht.from(n).toString(),o=yield o8(t,e,i,void 0,r),s=yield Wae(t,e,i,r);return o.timeLastUpdated!==s.timeLastUpdated})}function Gae(t,e,n="refreshContract"){return Oe(this,void 0,void 0,function*(){const r=yield Zt(t,Lt.NFT,"reingestContract",n,{contractAddress:e});return{contractAddress:r.contractAddress,refreshState:Qae(r.reingestionState),progress:r.progress}})}function Wae(t,e,n,r){return Oe(this,void 0,void 0,function*(){const i=yield Zt(t,Lt.NFT,"getNFTMetadata",r,{contractAddress:e,tokenId:Ht.from(n).toString(),refreshCache:!0});return yu(i)})}function Vae(t){return l8(t)?yu(t):qw(t)}function $ae(t,e){return l8(t)?yu(t):qw(t,e)}function l8(t){return t.name!==void 0}function sT(t,e){return Oe(this,void 0,void 0,function*(){const n=e.transfers.filter(c=>c.rawContract.address!==null).flatMap(c=>{var u;const d=qae(c),f={from:c.from,to:(u=c.to)!==null&&u!==void 0?u:void 0,transactionHash:c.hash,blockNumber:c.blockNum};return d.map(h=>({metadata:f,token:h}))});if(n.length===0)return{nfts:[]};const r=100,i=[];for(let c=0;c<n.length;c+=r)i.push(n.slice(c,c+r));const s=(yield Promise.all(i.map(c=>s8(t,c.map(u=>u.token))))).map(c=>c.nfts).flat(),a=new Map;return s.forEach(c=>{const u=`${c.contract.address.toLowerCase()}-${Ht.from(c.tokenId).toString()}`;a.set(u,c)}),{nfts:n.map(c=>{const u=`${c.token.contractAddress.toLowerCase()}-${Ht.from(c.token.tokenId).toString()}`;return Object.assign(Object.assign({},a.get(u)),c.metadata)}),pageKey:e.pageKey}})}function qae(t){return t.category===vo.ERC1155?Pae(t):[{contractAddress:t.rawContract.address,tokenId:t.tokenId,tokenType:t.category===vo.ERC721?Gi.ERC721:void 0}]}function Kw(t){return t===void 0?!0:!t}function Qae(t){switch(t){case"does_not_exist":return nl.DOES_NOT_EXIST;case"already_queued":return nl.ALREADY_QUEUED;case"in_progress":return nl.IN_PROGRESS;case"finished":return nl.FINISHED;case"queued":return nl.QUEUED;case"queue_failed":return nl.QUEUE_FAILED;default:throw new Error("Unknown reingestion state: "+t)}}class Kae{constructor(e){this.config=e}getNftMetadata(e,n,r,i){let o;return typeof r=="object"?o={tokenType:r.tokenType,tokenUriTimeoutInMs:r.tokenUriTimeoutInMs,refreshCache:r.refreshCache}:o={tokenType:r,tokenUriTimeoutInMs:i},o8(this.config,e,n,o)}getNftMetadataBatch(e,n){return s8(this.config,e,n)}getContractMetadata(e){return wae(this.config,e)}getContractMetadataBatch(e){return bae(this.config,e)}getCollectionMetadata(e){return xae(this.config,e)}getNftsForOwnerIterator(e,n){return Eae(this.config,e,n)}getNftsForOwner(e,n){return c2(this.config,e,n)}getNftsForContract(e,n){return Aae(this.config,e,n)}getNftsForContractIterator(e,n){return _ae(this.config,e,n)}getOwnersForContract(e,n){return Sae(this.config,e,n)}getOwnersForNft(e,n,r){return Tae(this.config,e,n,r)}getContractsForOwner(e,n){return Cae(this.config,e,n)}getTransfersForOwner(e,n,r){return Iae(this.config,e,n,r)}getTransfersForContract(e,n){return Rae(this.config,e,n)}getMintedNfts(e,n){return Oe(this,void 0,void 0,function*(){return Mae(this.config,e,n)})}verifyNftOwnership(e,n){return Nae(this.config,e,n)}isSpamContract(e){return kae(this.config,e)}getSpamContracts(){return Fae(this.config)}reportSpam(e){return Bae(this.config,e)}isAirdropNft(e,n){return Oae(this.config,e,n)}getFloorPrice(e){return Lae(this.config,e)}getNftSales(e){return Dae(this.config,e)}computeRarity(e,n){return Uae(this.config,e,n)}searchContractMetadata(e){return zae(this.config,e)}summarizeNftAttributes(e){return jae(this.config,e)}refreshNftMetadata(e,n){return Hae(this.config,e,n)}refreshContract(e){return Gae(this.config,e)}}class Xae{constructor(e){this.config=e}getAllWebhooks(){return Oe(this,void 0,void 0,function*(){this.verifyConfig();const e=yield this.sendWebhookRequest("team-webhooks","getAllWebhooks",{});return{webhooks:Yae(e),totalCount:e.data.length}})}getAddresses(e,n){return Oe(this,void 0,void 0,function*(){this.verifyConfig();const r=typeof e=="string"?e:e.id,i=yield this.sendWebhookRequest("webhook-addresses","getAddresses",{webhook_id:r,limit:n?.limit,after:n?.pageKey});return Jae(i)})}getGraphqlQuery(e){return Oe(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof e=="string"?e:e.id,r=yield this.sendWebhookRequest("dashboard-webhook-graphql-query","getGraphqlQuery",{webhook_id:n});return Zae(r)})}getNftFilters(e,n){return Oe(this,void 0,void 0,function*(){this.verifyConfig();const r=typeof e=="string"?e:e.id,i=yield this.sendWebhookRequest("webhook-nft-filters","getNftFilters",{webhook_id:r,limit:n?.limit,after:n?.pageKey});return ele(i)})}updateWebhook(e,n){return Oe(this,void 0,void 0,function*(){const r=typeof e=="string"?e:e.id;let i,o,s,a;if("isActive"in n)i="update-webhook",o="updateWebhook",s="PUT",a={webhook_id:r,is_active:n.isActive};else if("addFilters"in n||"removeFilters"in n)i="update-webhook-nft-filters",o="updateWebhookNftFilters",s="PATCH",a={webhook_id:r,nft_filters_to_add:n.addFilters?n.addFilters.map(M0):[],nft_filters_to_remove:n.removeFilters?n.removeFilters.map(M0):[]};else if("addMetadataFilters"in n||"removeMetadataFilters"in n)i="update-webhook-nft-metadata-filters",o="updateWebhookNftMetadataFilters",s="PATCH",a={webhook_id:r,nft_metadata_filters_to_add:n.addMetadataFilters?n.addMetadataFilters.map(M0):[],nft_metadata_filters_to_remove:n.removeMetadataFilters?n.removeMetadataFilters.map(M0):[]};else if("addAddresses"in n||"removeAddresses"in n)i="update-webhook-addresses",o="webhook:updateWebhookAddresses",s="PATCH",a={webhook_id:r,addresses_to_add:yield this.resolveAddresses(n.addAddresses),addresses_to_remove:yield this.resolveAddresses(n.removeAddresses)};else if("newAddresses"in n)i="update-webhook-addresses",o="webhook:updateWebhookAddress",s="PUT",a={webhook_id:r,addresses:yield this.resolveAddresses(n.newAddresses)};else throw new Error("Invalid `update` param passed into `updateWebhook`");yield this.sendWebhookRequest(i,o,{},{method:s,data:a})})}createWebhook(e,n,r){return Oe(this,void 0,void 0,function*(){let i;if(n===hs.MINED_TRANSACTION||n===hs.DROPPED_TRANSACTION||n===hs.GRAPHQL){if(!("appId"in r))throw new Error("Transaction and GraphQL Webhooks require an app id.");i=r.appId}let o=T0.get(this.config.network),s,a,l,c;if(n===hs.NFT_ACTIVITY||n===hs.NFT_METADATA_UPDATE){if(!("filters"in r)||r.filters.length===0)throw new Error("Nft Activity Webhooks require a non-empty array input.");o=r.network?T0.get(r.network):o;const f=r.filters.map(h=>h.tokenId?{contract_address:h.contractAddress,token_id:Ht.from(h.tokenId).toString()}:{contract_address:h.contractAddress});s=n===hs.NFT_ACTIVITY?{nft_filters:f}:{nft_metadata_filters:f}}else if(n===hs.ADDRESS_ACTIVITY){if(r===void 0||!("addresses"in r)||r.addresses.length===0)throw new Error("Address Activity Webhooks require a non-empty array input.");o=r.network?T0.get(r.network):o,a=yield this.resolveAddresses(r.addresses)}else if(n==hs.GRAPHQL){if(r===void 0||!("graphqlQuery"in r)||r.graphqlQuery.length===0)throw new Error("Custom Webhooks require a non-empty graphql query.");o=r.network?T0.get(r.network):o,l=r.graphqlQuery,c=r.skipEmptyMessages}const u=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({network:o,webhook_type:n,webhook_url:e},i&&{app_id:i}),r.name&&{name:r.name}),s),a&&{addresses:a}),l&&{graphql_query:{query:l,skip_empty_messages:!!c}}),d=yield this.sendWebhookRequest("create-webhook","createWebhook",{},{method:"POST",data:u});return c8(d.data)})}deleteWebhook(e){return Oe(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof e=="string"?e:e.id;if("message"in(yield this.sendWebhookRequest("delete-webhook","deleteWebhook",{webhook_id:n},{method:"DELETE"})))throw new Error(`Webhook not found. Failed to delete webhook: ${n}`)})}verifyConfig(){if(this.config.authToken===void 0)throw new Error("Using the Notify API requires setting the Alchemy Auth Token in the settings object when initializing Alchemy.")}sendWebhookRequest(e,n,r,i){return Zt(this.config,Lt.WEBHOOK,e,n,r,Object.assign(Object.assign({},i),{headers:Object.assign({"X-Alchemy-Token":this.config.authToken},i?.headers)}))}resolveAddresses(e){return Oe(this,void 0,void 0,function*(){if(e===void 0)return[];const n=[],r=yield this.config.getProvider();for(const i of e){const o=yield r.resolveName(i);if(o===null)throw new Error(`Unable to resolve the ENS address: ${i}`);n.push(o)}return n})}}const u2=Object.fromEntries(Object.entries(ke)),T0=Object.keys(ke).reduce((t,e)=>(e in u2&&t.set(u2[e],e),t),new Map);function Yae(t){return t.data.map(c8)}function c8(t){return Object.assign(Object.assign({id:t.id,network:u2[t.network],type:t.webhook_type,url:t.webhook_url,isActive:t.is_active,timeCreated:new Date(t.time_created).toISOString(),signingKey:t.signing_key,version:t.version},t.app_id!==void 0&&{appId:t.app_id}),t.name!==void 0&&{name:t.name})}function Jae(t){return{addresses:t.data,totalCount:t.pagination.total_count,pageKey:t.pagination.cursors.after}}function Zae(t){return{graphqlQuery:t.data.graphql_query}}function ele(t){return{filters:t.data.map(e=>e.token_id?{contractAddress:e.contract_address,tokenId:Ht.from(e.token_id).toString()}:{contractAddress:e.contract_address}),totalCount:t.pagination.total_count,pageKey:t.pagination.cursors.after}}function M0(t){return t.tokenId?{contract_address:t.contractAddress,token_id:Ht.from(t.tokenId).toString()}:{contract_address:t.contractAddress}}function tle(t,e,n=!0,r=!0,i=!0,o="getTokensByWallet"){return Oe(this,void 0,void 0,function*(){const s={addresses:e,withMetadata:n,withPrices:r,includeNativeTokens:i},a=yield Zt(t,Lt.PORTFOLIO,"assets/tokens/by-address",o,{},{data:s,method:"POST"});return rn(a)})}function nle(t,e,n=!0,r="getTokenBalancesByWallet"){return Oe(this,void 0,void 0,function*(){const i={addresses:e,includeNativeTokens:n},o=yield Zt(t,Lt.PORTFOLIO,"assets/tokens/balances/by-address",r,{},{method:"POST",data:i});return rn(o)})}function rle(t,e,n=!0,r=void 0,i=void 0,o="getNftsByWallet"){return Oe(this,void 0,void 0,function*(){const s={addresses:e,withMetadata:n,pageKey:r,pageSize:i},a=yield Zt(t,Lt.PORTFOLIO,"assets/nfts/by-address",o,{},{method:"POST",data:s});return rn(a)})}function ile(t,e,n=!0,r=void 0,i=void 0,o="getNftCollectionsByWallet"){return Oe(this,void 0,void 0,function*(){const s={addresses:e,pageKey:r,pageSize:i,withMetadata:n},a=yield Zt(t,Lt.PORTFOLIO,"assets/nfts/contracts/by-address",o,{},{method:"POST",data:s});return rn(a)})}function ole(t,e,n=void 0,r=void 0,i=void 0,o="getTransactionsByWallet"){return Oe(this,void 0,void 0,function*(){const s={addresses:e,before:n,after:r,limit:i},a=yield Zt(t,Lt.PORTFOLIO,"transactions/history/by-address",o,{},{method:"POST",data:s});return rn(a)})}class sle{constructor(e){this.config=e}getTokensByWallet(e,n=!0,r=!0,i=!0){return tle(this.config,e,n,r,i)}getTokenBalancesByWallet(e,n=!0){return nle(this.config,e,n)}getNftsByWallet(e,n=!0,r,i){return rle(this.config,e,n,r,i)}getNftCollectionsByWallet(e,n=!0,r,i){return ile(this.config,e,n,r,i)}getTransactionsByWallet(e,n,r,i){return ole(this.config,e,n,r,i)}}function ale(t,e,n="getTokenPriceByAddress"){return Oe(this,void 0,void 0,function*(){const r=yield Zt(t,Lt.PRICES,"tokens/by-address",n,{},{method:"POST",data:{addresses:e}});return rn(r)})}function lle(t,e,n="getTokenPriceBySymbol"){return Oe(this,void 0,void 0,function*(){const r=yield Zt(t,Lt.PRICES,"tokens/by-symbol",n,{symbols:e},{paramsSerializer:i=>{const o=new URLSearchParams;return Object.entries(i).forEach(([s,a])=>{a.forEach(l=>o.append(s,l))}),o.toString()}});return rn(r)})}function cle(t,e,n,r,i,o="getHistoricalPriceBySymbol"){return Oe(this,void 0,void 0,function*(){const s=yield Zt(t,Lt.PRICES,"tokens/historical",o,{},{method:"POST",data:{symbol:e,startTime:n,endTime:r,interval:i}});return rn(s)})}function ule(t,e,n,r,i,o,s="getHistoricalPriceByAddress"){return Oe(this,void 0,void 0,function*(){const a=yield Zt(t,Lt.PRICES,"tokens/historical",s,{},{method:"POST",data:{network:e,address:n,startTime:r,endTime:i,interval:o}});return rn(a)})}class dle{constructor(e){this.config=e}getTokenPriceByAddress(e){return ale(this.config,e)}getTokenPriceBySymbol(e){return lle(this.config,e)}getHistoricalPriceBySymbol(e,n,r,i){return cle(this.config,e,n,r,i)}getHistoricalPriceByAddress(e,n,r,i,o){return ule(this.config,e,n,r,i,o)}}const fle=[.9,1,1.1,1.2,1.3];class hle{constructor(e){this.config=e}sendPrivateTransaction(e,n,r){return Oe(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=n?$w(n):void 0;return i._send("eth_sendPrivateTransaction",[{tx:e,maxBlockNumber:o,preferences:r}],"sendPrivateTransaction")})}cancelPrivateTransaction(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("eth_cancelPrivateTransaction",[{txHash:e}],"cancelPrivateTransaction")})}simulateAssetChangesBundle(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=yield r._send("alchemy_simulateAssetChangesBundle",i,"simulateAssetChangesBundle");return rn(o)})}simulateAssetChanges(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=yield r._send("alchemy_simulateAssetChanges",i,"simulateAssetChanges");return rn(o)})}simulateExecutionBundle(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=r._send("alchemy_simulateExecutionBundle",i,"simulateExecutionBundle");return rn(o)})}simulateExecution(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=r._send("alchemy_simulateExecution",i,"simulateExecution");return rn(o)})}getTransaction(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}sendTransaction(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}estimateGas(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getMaxPriorityFeePerGas(){return Oe(this,void 0,void 0,function*(){const n=yield(yield this.config.getProvider())._send("eth_maxPriorityFeePerGas",[],"getMaxPriorityFeePerGas");return Vse(n)})}waitForTransaction(e,n,r){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,n,r)})}sendGasOptimizedTransaction(e,n){return Oe(this,void 0,void 0,function*(){if(Array.isArray(e))return this._sendGasOptimizedTransaction(e,"sendGasOptimizedTransactionPreSigned");let r,i,o;const s=yield this.config.getProvider();try{r=yield this.estimateGas(e),i=yield this.getMaxPriorityFeePerGas(),o=(yield s.getBlock("latest")).baseFeePerGas.toNumber()}catch(c){throw new Error(`Failed to estimate gas for transaction: ${c}`)}const a=ple(e,r.toNumber(),o,i),l=yield Promise.all(a.map(c=>n.signTransaction(c)));return this._sendGasOptimizedTransaction(l,"sendGasOptimizedTransactionGenerated")})}getGasOptimizedTransactionStatus(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getGasOptimizedTransactionStatus",[e],"getGasOptimizedTransactionStatus")})}_sendGasOptimizedTransaction(e,n){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_sendGasOptimizedTransaction",[{rawTransactions:e}],n)})}}function ple(t,e,n,r){return fle.map(i=>Object.assign(Object.assign({},t),{gasLimit:e,maxFeePerGas:Math.round(n*i+r*i),maxPriorityFeePerGas:Math.round(i*r)}))}const iv="alchemy-pending-transactions",ov="alchemy-mined-transactions",mle=[iv,ov];let gle=class{constructor(e,n,r){this.listener=n,this.tag=e,this.once=r,this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter;default:return this.tag}}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");if(e[0]!=="tx")throw new Error("Not a transaction event");return e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")throw new Error("Not a transaction event");const n=e[1],r=ble(e[2]),i={};return r.length>0&&(i.topics=r),n&&n!=="*"&&(i.address=n),i}pollable(){const e=["block","network","pending","poll"];return this.tag.indexOf(":")>=0||e.indexOf(this.tag)>=0}};class REe extends gle{get fromAddress(){const e=this.tag.split(":");if(e[0]===iv&&e[1]&&e[1]!=="*")return pR(e[1])}get toAddress(){const e=this.tag.split(":");if(e[0]===iv&&e[2]&&e[2]!=="*")return pR(e[2])}get hashesOnly(){const e=this.tag.split(":");if(mle.includes(e[0])&&e[3]&&e[3]!=="*")return e[3]==="true"}get includeRemoved(){const e=this.tag.split(":");if(e[0]===ov&&e[2]&&e[2]!=="*")return e[2]==="true"}get addresses(){const e=this.tag.split(":");if(e[0]===ov&&e[1]&&e[1]!=="*")return xle(e[1])}}function u8(t){return typeof t=="object"&&"method"in t}function PEe(t){if(!u8(t))throw new Error("Event tag requires AlchemyEventType");if(t.method===Il.PENDING_TRANSACTIONS)return yle(t);if(t.method===Il.MINED_TRANSACTIONS)return vle(t);throw new Error(`Unrecognized AlchemyFilterEvent: ${t}`)}function NEe(t){if(!Object.values(Il).includes(t.method))throw new Error(`Invalid method name ${t.method}. Accepted method names: ${Object.values(Il)}`)}function yle(t){const e=sv(t.fromAddress),n=sv(t.toAddress),r=d2(t.hashesOnly);return iv+":"+e+":"+n+":"+r}function vle(t){const e=wle(t.addresses),n=d2(t.includeRemoved),r=d2(t.hashesOnly);return ov+":"+e+":"+n+":"+r}function wle(t){return t===void 0?"*":t.map(e=>sv(e.to)+","+sv(e.from)).join("|")}function sv(t){return t===void 0?"*":Array.isArray(t)?t.join("|"):t}function d2(t){return t===void 0?"*":t.toString()}function ble(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function pR(t){if(t==="")return;const e=t.split("|");return e.length===1?e[0]:e}function xle(t){if(t!=="")return t.split("|").map(e=>e.split(",")).map(e=>Object.assign(Object.assign({},e[0]!=="*"&&{to:e[0]}),e[1]!=="*"&&{from:e[1]}))}class Ele{constructor(e){this.config=e}on(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);r.on(i,n)}),this}once(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);r.once(i,n)}),this}off(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);return r.off(i,n)}),this}removeAllListeners(e){return Oe(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;n.removeAllListeners(r)}),this}listenerCount(e){return Oe(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return n.listenerCount(r)})}listeners(e){return Oe(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return n.listeners(r)})}_resolveEnsAlchemyEvent(e){return Oe(this,void 0,void 0,function*(){if(!u8(e))return e;if(e.method===Il.MINED_TRANSACTIONS&&e.addresses){const n=[];for(const r of e.addresses)r.to&&(r.to=yield this._resolveNameOrError(r.to)),r.from&&(r.from=yield this._resolveNameOrError(r.from)),n.push(r);e.addresses=n}else e.method===Il.PENDING_TRANSACTIONS&&(e.fromAddress&&(typeof e.fromAddress=="string"?e.fromAddress=yield this._resolveNameOrError(e.fromAddress):e.fromAddress=yield Promise.all(e.fromAddress.map(n=>this._resolveNameOrError(n)))),e.toAddress&&(typeof e.toAddress=="string"?e.toAddress=yield this._resolveNameOrError(e.toAddress):e.toAddress=yield Promise.all(e.toAddress.map(n=>this._resolveNameOrError(n)))));return e})}_resolveNameOrError(e){return Oe(this,void 0,void 0,function*(){const r=yield(yield this.config.getProvider()).resolveName(e);if(r===null)throw new Error(`Unable to resolve the ENS address: ${e}`);return r})}}class Ale{constructor(e){this.config=new Lse(e),this.core=new iae(this.config),this.nft=new Kae(this.config),this.ws=new Ele(this.config),this.transact=new hle(this.config),this.notify=new Xae(this.config),this.debug=new oae(this.config),this.prices=new dle(this.config),this.portfolio=new sle(this.config)}}const _le="6.14.4";function Sle(t,e,n){const r=e.split("|").map(o=>o.trim());for(let o=0;o<r.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function qr(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,o)=>(r[e[o]]=i,r),{})}function Rt(t,e,n){for(let r in e){let i=e[r];const o=n?n[r]:null;o&&Sle(i,o,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function ld(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>ld(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return ld(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${ld(r,e)}: ${ld(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Cr(t,e){return t&&t.code===e}function aT(t){return Cr(t,"CALL_EXCEPTION")}function xn(t,e,n){let r=t;{const o=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${ld(n)}`);for(const s in n){if(s==="shortMessage")continue;const a=n[s];o.push(s+"="+ld(a))}}o.push(`code=${e}`),o.push(`version=${_le}`),o.length&&(t+=" ("+o.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Rt(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&Rt(i,{shortMessage:r}),i}function ze(t,e,n,r){if(!t)throw xn(e,n,r)}function fe(t,e,n,r){ze(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function d8(t,e,n){n==null&&(n=""),n&&(n=": "+n),ze(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),ze(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function Xw(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),ze(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function f8(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let o=0;o<r.length;o++)r[o]=parseInt(t.substring(i,i+2),16),i+=2;return r}fe(!1,"invalid BytesLike value",e||"value",t)}function Dt(t,e){return f8(t,e,!1)}function Jr(t,e){return f8(t,e,!0)}function mn(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function lT(t){return mn(t,!0)||t instanceof Uint8Array}const mR="0123456789abcdef";function ct(t){const e=Dt(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=mR[(i&240)>>4]+mR[i&15]}return n}function On(t){return"0x"+t.map(e=>ct(e).substring(2)).join("")}function _d(t){return mn(t,!0)?(t.length-2)/2:Dt(t).length}function Pn(t,e,n){const r=Dt(t);return n!=null&&n>r.length&&ze(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),ct(r.slice(e??0,n??r.length))}function h8(t,e,n){const r=Dt(t);ze(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),ct(i)}function _a(t,e){return h8(t,e,!0)}function Cle(t,e){return h8(t,e,!1)}const Yw=BigInt(0),$o=BigInt(1),cd=9007199254740991;function Tle(t,e){const n=Jw(t,"value"),r=BigInt(Ut(e,"width"));if(ze(n>>r===Yw,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-$o){const i=($o<<r)-$o;return-((~n&i)+$o)}return n}function p8(t,e){let n=xt(t,"value");const r=BigInt(Ut(e,"width")),i=$o<<r-$o;if(n<Yw){n=-n,ze(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const o=($o<<r)-$o;return(~n&o)+$o}else ze(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Sh(t,e){const n=Jw(t,"value"),r=BigInt(Ut(e,"bits"));return n&($o<<r)-$o}function xt(t,e){switch(typeof t){case"bigint":return t;case"number":return fe(Number.isInteger(t),"underflow",e||"value",t),fe(t>=-cd&&t<=cd,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){fe(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}fe(!1,"invalid BigNumberish value",e||"value",t)}function Jw(t,e){const n=xt(t,e);return ze(n>=Yw,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const gR="0123456789abcdef";function cT(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=gR[n>>4],e+=gR[n&15];return BigInt(e)}return xt(t)}function Ut(t,e){switch(typeof t){case"bigint":return fe(t>=-cd&&t<=cd,"overflow",e||"value",t),Number(t);case"number":return fe(Number.isInteger(t),"underflow",e||"value",t),fe(t>=-cd&&t<=cd,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Ut(BigInt(t),e)}catch(n){fe(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}fe(!1,"invalid numeric value",e||"value",t)}function Mle(t){return Ut(cT(t))}function Rl(t,e){let r=Jw(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=Ut(e,"width");for(ze(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function or(t){const e=Jw(t,"value");if(e===Yw)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const o=i*2;r[i]=parseInt(n.substring(o,o+2),16)}return r}function Wo(t){let e=ct(lT(t)?t:or(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const yR="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const vR=BigInt(58);function Ile(t){const e=Dt(t);let n=cT(e),r="";for(;n;)r=yR[Number(n%vR)]+r,n/=vR;for(let i=0;i<e.length&&!e[i];i++)r=yR[0]+r;return r}function Rle(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return Dt(e)}function Ple(t){const e=Dt(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}class m8{filter;emitter;#e;constructor(e,n,r){this.#e=n,Rt(this,{emitter:e,filter:r})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function Nle(t,e,n,r,i){fe(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function g8(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let o=0;for(let s=e+1;s<n.length&&n[s]>>6===2;s++)o++;return o}return t==="OVERRUN"?n.length-e-1:0}function kle(t,e,n,r,i){return t==="OVERLONG"?(fe(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),g8(t,e,n))}const Fle=Object.freeze({error:Nle,ignore:g8,replace:kle});function Ble(t,e){e==null&&(e=Fle.error);const n=Dt(t,"bytes"),r=[];let i=0;for(;i<n.length;){const o=n[i++];if(!(o>>7)){r.push(o);continue}let s=null,a=null;if((o&224)===192)s=1,a=127;else if((o&240)===224)s=2,a=2047;else if((o&248)===240)s=3,a=65535;else{(o&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+s>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let l=o&(1<<8-s-1)-1;for(let c=0;c<s;c++){let u=n[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),l=null;break}l=l<<6|u&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-s,n,r,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-s,n,r,l);continue}if(l<=a){i+=e("OVERLONG",i-1-s,n,r,l);continue}r.push(l)}}return r}function ha(t,e){fe(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const o=t.charCodeAt(r);fe(r<t.length&&(o&64512)===56320,"invalid surrogate pair","str",t);const s=65536+((i&1023)<<10)+(o&1023);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function Ole(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function av(t,e){return Ole(Ble(t,e))}function y8(t){async function e(n,r){ze(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();ze(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),ze(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o=null;const s=new AbortController,a=setTimeout(()=>{o=xn("request timeout","TIMEOUT"),s.abort()},n.timeout);r&&r.addListener(()=>{o=xn("request cancelled","CANCELLED"),s.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:s.signal});let c;try{c=await fetch(n.url,l)}catch(h){throw clearTimeout(a),o||h}clearTimeout(a);const u={};c.headers.forEach((h,p)=>{u[p.toLowerCase()]=h});const d=await c.arrayBuffer(),f=d==null?null:new Uint8Array(d);return{statusCode:c.status,statusMessage:c.statusText,headers:u,body:f}}return e}const Lle=12,Dle=250;let wR=y8();const Ule=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),zle=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Wb=!1;async function v8(t,e){try{const n=t.match(Ule);if(!n)throw new Error("invalid data");return new El(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?Rle(n[3]):Hle(n[3]))}catch{return new El(599,"BAD REQUEST (invalid data: URI)",{},null,new Sa(t))}}function w8(t){async function e(n,r){try{const i=n.match(zle);if(!i)throw new Error("invalid link");return new Sa(`${t}${i[2]}`)}catch{return new El(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Sa(n))}}return e}const I0={data:v8,ipfs:w8("https://gateway.ipfs.io/ipfs/")},b8=new WeakMap;class jle{#e;#t;constructor(e){this.#e=[],this.#t=!1,b8.set(e,()=>{if(!this.#t){this.#t=!0;for(const n of this.#e)setTimeout(()=>{n()},0);this.#e=[]}})}addListener(e){ze(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){ze(!this.cancelled,"cancelled","CANCELLED",{})}}function R0(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class Sa{#e;#t;#n;#r;#i;#s;#o;#a;#p;#u;#m;#h;#l;#c;#d;get url(){return this.#s}set url(e){this.#s=String(e)}get body(){return this.#o==null?null:new Uint8Array(this.#o)}set body(e){if(e==null)this.#o=void 0,this.#a=void 0;else if(typeof e=="string")this.#o=ha(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#o=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#o=ha(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#o!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#r=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#n);return this.#p&&(e.authorization=`Basic ${Ple(ha(this.#p))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){this.#n[String(e).toLowerCase()]=String(n)}clearHeaders(){this.#n={}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#p||null}setCredentials(e,n){fe(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#p=`${e}:${n}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#i}set timeout(e){fe(e>=0,"timeout must be non-zero","timeout",e),this.#i=e}get preflightFunc(){return this.#u||null}set preflightFunc(e){this.#u=e}get processFunc(){return this.#m||null}set processFunc(e){this.#m=e}get retryFunc(){return this.#h||null}set retryFunc(e){this.#h=e}get getUrlFunc(){return this.#d||wR}set getUrlFunc(e){this.#d=e}constructor(e){this.#s=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#i=3e5,this.#c={slotInterval:Dle,maxAttempts:Lle},this.#d=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#o?ct(this.#o):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#c.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#c.maxAttempts=e.maxAttempts)}async#f(e,n,r,i,o){if(e>=this.#c.maxAttempts)return o.makeServerError("exceeded maximum retry limit");ze(bR()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await Gle(r);let s=this.clone();const a=(s.url.split(":")[0]||"").toLowerCase();if(a in I0){const u=await I0[a](s.url,R0(i.#l));if(u instanceof El){let d=u;if(this.processFunc){R0(i.#l);try{d=await this.processFunc(s,d)}catch(f){(f.throttle==null||typeof f.stall!="number")&&d.makeServerError("error in post-processing function",f).assertOk()}}return d}s=u}this.preflightFunc&&(s=await this.preflightFunc(s));const l=await this.getUrlFunc(s,R0(i.#l));let c=new El(l.statusCode,l.statusMessage,l.headers,l.body,i);if(c.statusCode===301||c.statusCode===302){try{const u=c.headers.location||"";return s.redirect(u).#f(e+1,n,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(s,c,e))){const u=c.headers["retry-after"];let d=this.#c.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof u=="string"&&u.match(/^[1-9][0-9]*$/)&&(d=parseInt(u)),s.clone().#f(e+1,n,d,i,c)}if(this.processFunc){R0(i.#l);try{c=await this.processFunc(s,c)}catch(u){(u.throttle==null||typeof u.stall!="number")&&c.makeServerError("error in post-processing function",u).assertOk();let d=this.#c.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(d=u.stall),s.clone().#f(e+1,n,d,i,c)}}return c}send(){return ze(this.#l==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#l=new jle(this),this.#f(0,bR()+this.timeout,0,this,new El(0,"",{},null,this))}cancel(){ze(this.#l!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=b8.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();ze(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new Sa(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#n=Object.assign({},this.#n),this.#o&&(i.#o=new Uint8Array(this.#o)),i.#a=this.#a,i}clone(){const e=new Sa(this.url);return e.#r=this.#r,this.#o&&(e.#o=this.#o),e.#a=this.#a,e.#n=Object.assign({},this.#n),e.#p=this.#p,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#u=this.#u,e.#m=this.#m,e.#h=this.#h,e.#c=Object.assign({},this.#c),e.#d=this.#d,e}static lockConfig(){Wb=!0}static getGateway(e){return I0[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Wb)throw new Error("gateways locked");I0[e]=n}static registerGetUrl(e){if(Wb)throw new Error("gateways locked");wR=e}static createGetUrlFunc(e){return y8(e)}static createDataGateway(){return v8}static createIpfsGatewayFunc(e){return w8(e)}}class El{#e;#t;#n;#r;#i;#s;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?ct(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":av(this.#r)}catch{ze(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{ze(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,n,r,i,o){this.#e=e,this.#t=n,this.#n=Object.keys(r).reduce((s,a)=>(s[a.toLowerCase()]=String(r[a]),s),{}),this.#r=i==null?null:new Uint8Array(i),this.#i=o||null,this.#s={message:""}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new El(599,r,this.headers,this.body,this.#i||void 0);return i.#s={message:e,error:n},i}throwThrottleError(e,n){n==null?n=-1:fe(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw Rt(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#i}ok(){return this.#s.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=this.#s;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{this.#r&&(i=av(this.#r))}catch{}ze(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function bR(){return new Date().getTime()}function Hle(t){return ha(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function Gle(t){return new Promise(e=>setTimeout(e,t))}function Wle(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function xR(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function ER(t,e,n,r){const i=[];for(;n<e+1+r;){const o=x8(t,n);i.push(o.result),n+=o.consumed,ze(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function x8(t,e){ze(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{ze(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=xR(t,e+1,r);return n(e+1+r+i),ER(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),ER(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=xR(t,e+1,r);n(e+1+r+i);const o=ct(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:o}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=ct(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:Wle(t[e])}}function Bm(t){const e=Dt(t,"data"),n=x8(e,0);return fe(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function AR(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function E8(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(o){r=r.concat(E8(o))}),r.length<=55)return r.unshift(192+r.length),r;const i=AR(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(Dt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=AR(e.length);return n.unshift(183+n.length),n.concat(e)}const _R="0123456789abcdef";function Pl(t){let e="0x";for(const n of E8(t))e+=_R[n>>4],e+=_R[n&15];return e}const Zr=32,f2=new Uint8Array(Zr),Vle=["then"],P0={},A8=new WeakMap;function ic(t){return A8.get(t)}function SR(t,e){A8.set(t,e)}function oh(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function h2(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof aa?h2(ic(r),r,n):r):t.reduce((r,i,o)=>{let s=e.getValue(i);return i in r||(n&&s instanceof aa&&(s=h2(ic(s),s,n)),r[i]=s),r},{})}class aa extends Array{#e;constructor(...e){const n=e[0];let r=e[1],i=(e[2]||[]).slice(),o=!0;n!==P0&&(r=e,i=[],o=!1),super(r.length),r.forEach((l,c)=>{this[c]=l});const s=i.reduce((l,c)=>(typeof c=="string"&&l.set(c,(l.get(c)||0)+1),l),new Map);if(SR(this,Object.freeze(r.map((l,c)=>{const u=i[c];return u!=null&&s.get(u)===1?u:null}))),this.#e=[],this.#e==null&&this.#e,!o)return;Object.freeze(this);const a=new Proxy(this,{get:(l,c,u)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const f=Ut(c,"%index");if(f<0||f>=this.length)throw new RangeError("out of result range");const h=l[f];return h instanceof Error&&oh(`index ${f}`,h),h}if(Vle.indexOf(c)>=0)return Reflect.get(l,c,u);const d=l[c];if(d instanceof Function)return function(...f){return d.apply(this===u?l:this,f)};if(!(c in l))return l.getValue.apply(this===u?l:this,[c])}return Reflect.get(l,c,u)}});return SR(a,ic(this)),a}toArray(e){const n=[];return this.forEach((r,i)=>{r instanceof Error&&oh(`index ${i}`,r),e&&r instanceof aa&&(r=r.toArray(e)),n.push(r)}),n}toObject(e){const n=ic(this);return n.reduce((r,i,o)=>(ze(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),h2(n,this,e)),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const r=ic(this),i=[],o=[];for(let s=e;s<n;s++)i.push(this[s]),o.push(r[s]);return new aa(P0,i,o)}filter(e,n){const r=ic(this),i=[],o=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&oh(`index ${s}`,a),e.call(n,a,s,this)&&(i.push(a),o.push(r[s]))}return new aa(P0,i,o)}map(e,n){const r=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&oh(`index ${i}`,o),r.push(e.call(n,o,i,this))}return r}getValue(e){const n=ic(this).indexOf(e);if(n===-1)return;const r=this[n];return r instanceof Error&&oh(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,n){return new aa(P0,e,n)}}function CR(t){let e=or(t);return ze(e.length<=Zr,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Zr,offset:e.length}),e.length!==Zr&&(e=Jr(On([f2.slice(e.length%Zr),e]))),e}class Na{name;type;localName;dynamic;constructor(e,n,r,i){Rt(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){fe(!1,e,this.localName,n)}}class p2{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return On(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(Jr(e.data))}writeBytes(e){let n=Jr(e);const r=n.length%Zr;return r&&(n=Jr(On([n,f2.slice(r)]))),this.#n(n)}writeValue(e){return this.#n(CR(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(f2),this.#t+=Zr,n=>{this.#e[e]=CR(n)}}}class uT{allowLoose;#e;#t;#n;#r;#i;constructor(e,n,r){Rt(this,{allowLoose:!!n}),this.#e=Jr(e),this.#n=0,this.#r=null,this.#i=r??1024,this.#t=0}get data(){return ct(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#s(e){if(this.#r)return this.#r.#s(e);this.#n+=e,ze(this.#i<1||this.#n<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Jr(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#o(e,n,r){let i=Math.ceil(n/Zr)*Zr;return this.#t+i>this.#e.length&&(this.allowLoose&&r&&this.#t+n<=this.#e.length?i=n:ze(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Jr(this.#e),length:this.#e.length,offset:this.#t+i})),this.#e.slice(this.#t,this.#t+i)}subReader(e){const n=new uT(this.#e.slice(this.#t+e),this.allowLoose,this.#i);return n.#r=this,n}readBytes(e,n){let r=this.#o(0,e,!!n);return this.#s(e),this.#t+=r.length,r.slice(0,e)}readValue(){return cT(this.readBytes(Zr))}readIndex(){return Mle(this.readBytes(Zr))}}function lv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function dT(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function $le(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");lv(t.outputLen),lv(t.blockLen)}function Jd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function _8(t,e){dT(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Vb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const S8=t=>t instanceof Uint8Array,qle=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),$b=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ds=(t,e)=>t<<32-e|t>>>e,Qle=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Qle)throw new Error("Non little-endian hardware is not supported");function Kle(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Zw(t){if(typeof t=="string"&&(t=Kle(t)),!S8(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Xle(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!S8(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class fT{clone(){return this._cloneInto()}}function hT(t){const e=r=>t().update(Zw(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Yle(t=32){if(Vb&&typeof Vb.getRandomValues=="function")return Vb.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class C8 extends fT{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,$le(e);const r=Zw(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Jd(this),this.iHash.update(e),this}digestInto(e){Jd(this),dT(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const T8=(t,e,n)=>new C8(t,e).update(n).digest();T8.create=(t,e)=>new C8(t,e);function Jle(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}class M8 extends fT{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=$b(this.buffer)}update(e){Jd(this);const{view:n,buffer:r,blockLen:i}=this;e=Zw(e);const o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=$b(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Jd(this),_8(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let d=s;d<i;d++)n[d]=0;Jle(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=$b(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%n&&e.buffer.set(r),e}}const Zle=(t,e,n)=>t&e^~t&n,ece=(t,e,n)=>t&e^t&n^e&n,tce=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ja=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ha=new Uint32Array(64);class nce extends M8{constructor(){super(64,32,8,!1),this.A=ja[0]|0,this.B=ja[1]|0,this.C=ja[2]|0,this.D=ja[3]|0,this.E=ja[4]|0,this.F=ja[5]|0,this.G=ja[6]|0,this.H=ja[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)Ha[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=Ha[d-15],h=Ha[d-2],p=ds(f,7)^ds(f,18)^f>>>3,m=ds(h,17)^ds(h,19)^h>>>10;Ha[d]=m+Ha[d-7]+p+Ha[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const f=ds(a,6)^ds(a,11)^ds(a,25),h=u+f+Zle(a,l,c)+tce[d]+Ha[d]|0,m=(ds(r,2)^ds(r,13)^ds(r,22))+ece(r,i,o)|0;u=c,c=l,l=a,a=s+h|0,s=o,o=i,i=r,r=h+m|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,l,c,u)}roundClean(){Ha.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const I8=hT(()=>new nce),N0=BigInt(2**32-1),m2=BigInt(32);function R8(t,e=!1){return e?{h:Number(t&N0),l:Number(t>>m2&N0)}:{h:Number(t>>m2&N0)|0,l:Number(t&N0)|0}}function P8(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:s}=R8(t[i],e);[n[i],r[i]]=[o,s]}return[n,r]}const rce=(t,e)=>BigInt(t>>>0)<<m2|BigInt(e>>>0),ice=(t,e,n)=>t>>>n,oce=(t,e,n)=>t<<32-n|e>>>n,sce=(t,e,n)=>t>>>n|e<<32-n,ace=(t,e,n)=>t<<32-n|e>>>n,lce=(t,e,n)=>t<<64-n|e>>>n-32,cce=(t,e,n)=>t>>>n-32|e<<64-n,uce=(t,e)=>e,dce=(t,e)=>t,N8=(t,e,n)=>t<<n|e>>>32-n,k8=(t,e,n)=>e<<n|t>>>32-n,F8=(t,e,n)=>e<<n-32|t>>>64-n,B8=(t,e,n)=>t<<n-32|e>>>64-n;function fce(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const hce=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),pce=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,mce=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),gce=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,yce=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),vce=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,Bt={fromBig:R8,split:P8,toBig:rce,shrSH:ice,shrSL:oce,rotrSH:sce,rotrSL:ace,rotrBH:lce,rotrBL:cce,rotr32H:uce,rotr32L:dce,rotlSH:N8,rotlSL:k8,rotlBH:F8,rotlBL:B8,add:fce,add3L:hce,add3H:pce,add4L:mce,add4H:gce,add5H:vce,add5L:yce},[wce,bce]=Bt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ga=new Uint32Array(80),Wa=new Uint32Array(80);class xce extends M8{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:f,Gh:h,Gl:p,Hh:m,Hl:y}=this;return[e,n,r,i,o,s,a,l,c,u,d,f,h,p,m,y]}set(e,n,r,i,o,s,a,l,c,u,d,f,h,p,m,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)Ga[b]=e.getUint32(n),Wa[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const x=Ga[b-15]|0,P=Wa[b-15]|0,N=Bt.rotrSH(x,P,1)^Bt.rotrSH(x,P,8)^Bt.shrSH(x,P,7),_=Bt.rotrSL(x,P,1)^Bt.rotrSL(x,P,8)^Bt.shrSL(x,P,7),D=Ga[b-2]|0,T=Wa[b-2]|0,E=Bt.rotrSH(D,T,19)^Bt.rotrBH(D,T,61)^Bt.shrSH(D,T,6),z=Bt.rotrSL(D,T,19)^Bt.rotrBL(D,T,61)^Bt.shrSL(D,T,6),W=Bt.add4L(_,z,Wa[b-7],Wa[b-16]),B=Bt.add4H(W,N,E,Ga[b-7],Ga[b-16]);Ga[b]=B|0,Wa[b]=W|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:f,Fh:h,Fl:p,Gh:m,Gl:y,Hh:g,Hl:v}=this;for(let b=0;b<80;b++){const x=Bt.rotrSH(d,f,14)^Bt.rotrSH(d,f,18)^Bt.rotrBH(d,f,41),P=Bt.rotrSL(d,f,14)^Bt.rotrSL(d,f,18)^Bt.rotrBL(d,f,41),N=d&h^~d&m,_=f&p^~f&y,D=Bt.add5L(v,P,_,bce[b],Wa[b]),T=Bt.add5H(D,g,x,N,wce[b],Ga[b]),E=D|0,z=Bt.rotrSH(r,i,28)^Bt.rotrBH(r,i,34)^Bt.rotrBH(r,i,39),W=Bt.rotrSL(r,i,28)^Bt.rotrBL(r,i,34)^Bt.rotrBL(r,i,39),B=r&o^r&a^o&a,w=i&s^i&l^s&l;g=m|0,v=y|0,m=h|0,y=p|0,h=d|0,p=f|0,{h:d,l:f}=Bt.add(c|0,u|0,T|0,E|0),c=a|0,u=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const A=Bt.add3L(E,W,w);r=Bt.add3H(A,T,z,B),i=A|0}({h:r,l:i}=Bt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Bt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Bt.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Bt.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:f}=Bt.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=Bt.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:m,l:y}=Bt.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:g,l:v}=Bt.add(this.Hh|0,this.Hl|0,g|0,v|0),this.set(r,i,o,s,a,l,c,u,d,f,h,p,m,y,g,v)}roundClean(){Ga.fill(0),Wa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Ece=hT(()=>new xce);function Ace(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const TR=Ace();TR.crypto||TR.msCrypto;function _ce(t){switch(t){case"sha256":return I8.create();case"sha512":return Ece.create()}fe(!1,"invalid hashing algorithm name","algorithm",t)}const[O8,L8,D8]=[[],[],[]],Sce=BigInt(0),sh=BigInt(1),Cce=BigInt(2),Tce=BigInt(7),Mce=BigInt(256),Ice=BigInt(113);for(let t=0,e=sh,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],O8.push(2*(5*r+n)),L8.push((t+1)*(t+2)/2%64);let i=Sce;for(let o=0;o<7;o++)e=(e<<sh^(e>>Tce)*Ice)%Mce,e&Cce&&(i^=sh<<(sh<<BigInt(o))-sh);D8.push(i)}const[Rce,Pce]=P8(D8,!0),MR=(t,e,n)=>n>32?F8(t,e,n):N8(t,e,n),IR=(t,e,n)=>n>32?B8(t,e,n):k8(t,e,n);function Nce(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],u=n[l+1],d=MR(c,u,1)^n[a],f=IR(c,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[s+h]^=d,t[s+h+1]^=f}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=L8[s],l=MR(i,o,a),c=IR(i,o,a),u=O8[s];i=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Rce[r],t[1]^=Pce[r]}n.fill(0)}class pT extends fT{constructor(e,n,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,lv(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=qle(this.state)}keccak(){Nce(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Jd(this);const{blockLen:n,state:r}=this;e=Zw(e);const i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Jd(this,!1),dT(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return lv(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(_8(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new pT(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const kce=(t,e,n)=>hT(()=>new pT(e,t,n)),Fce=kce(1,136,256/8);let U8=!1;const z8=function(t){return Fce(t)};let j8=z8;function Kn(t){const e=Dt(t,"data");return ct(j8(e))}Kn._=z8;Kn.lock=function(){U8=!0};Kn.register=function(t){if(U8)throw new TypeError("keccak256 is locked");j8=t};Object.freeze(Kn);const H8=function(t){return _ce("sha256").update(t).digest()};let G8=H8,W8=!1;function Nf(t){const e=Dt(t,"data");return ct(G8(e))}Nf._=H8;Nf.lock=function(){W8=!0};Nf.register=function(t){if(W8)throw new Error("sha256 is locked");G8=t};Object.freeze(Nf);Object.freeze(Nf);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const V8=BigInt(0),e1=BigInt(1),Bce=BigInt(2),t1=t=>t instanceof Uint8Array,Oce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Zd(t){if(!t1(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=Oce[t[n]];return e}function $8(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function mT(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ef(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function kc(t){return mT(Zd(t))}function gT(t){if(!t1(t))throw new Error("Uint8Array expected");return mT(Zd(Uint8Array.from(t).reverse()))}function tf(t,e){return ef(t.toString(16).padStart(e*2,"0"))}function yT(t,e){return tf(t,e).reverse()}function Lce(t){return ef($8(t))}function Do(t,e,n){let r;if(typeof e=="string")try{r=ef(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(t1(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function qp(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!t1(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function Dce(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Uce(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function zce(t){let e;for(e=0;t>V8;t>>=e1,e+=1);return e}function jce(t,e){return t>>BigInt(e)&e1}const Hce=(t,e,n)=>t|(n?e1:V8)<<BigInt(e),vT=t=>(Bce<<BigInt(t-1))-e1,qb=t=>new Uint8Array(t),RR=t=>Uint8Array.from(t);function q8(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=qb(t),i=qb(t),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...d)=>n(i,r,...d),l=(d=qb())=>{i=a(RR([0]),d),r=a(),d.length!==0&&(i=a(RR([1]),d),r=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){r=a();const h=r.slice();f.push(h),d+=r.length}return qp(...f)};return(d,f)=>{s(),l(d);let h;for(;!(h=f(c()));)l();return s(),h}}const Gce={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Om(t,e,n={}){const r=(i,o,s)=>{const a=Gce[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=t[i];if(!(s&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const Wce=Object.freeze(Object.defineProperty({__proto__:null,bitGet:jce,bitLen:zce,bitMask:vT,bitSet:Hce,bytesToHex:Zd,bytesToNumberBE:kc,bytesToNumberLE:gT,concatBytes:qp,createHmacDrbg:q8,ensureBytes:Do,equalBytes:Dce,hexToBytes:ef,hexToNumber:mT,numberToBytesBE:tf,numberToBytesLE:yT,numberToHexUnpadded:$8,numberToVarBytesBE:Lce,utf8ToBytes:Uce,validateObject:Om},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gr=BigInt(0),Hn=BigInt(1),oc=BigInt(2),Vce=BigInt(3),g2=BigInt(4),PR=BigInt(5),NR=BigInt(8);BigInt(9);BigInt(16);function fi(t,e){const n=t%e;return n>=gr?n:e+n}function $ce(t,e,n){if(n<=gr||e<gr)throw new Error("Expected power/modulo > 0");if(n===Hn)return gr;let r=Hn;for(;e>gr;)e&Hn&&(r=r*t%n),t=t*t%n,e>>=Hn;return r}function so(t,e,n){let r=t;for(;e-- >gr;)r*=r,r%=n;return r}function y2(t,e){if(t===gr||e<=gr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=fi(t,e),r=e,i=gr,o=Hn;for(;n!==gr;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==Hn)throw new Error("invert: does not exist");return fi(i,e)}function qce(t){const e=(t-Hn)/oc;let n,r,i;for(n=t-Hn,r=0;n%oc===gr;n/=oc,r++);for(i=oc;i<t&&$ce(i,e,t)!==t-Hn;i++);if(r===1){const s=(t+Hn)/g2;return function(l,c){const u=l.pow(c,s);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const o=(n+Hn)/oc;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),d=a.pow(l,o),f=a.pow(l,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let m=a.sqr(f);h<c&&!a.eql(m,a.ONE);h++)m=a.sqr(m);const p=a.pow(u,Hn<<BigInt(c-h-1));u=a.sqr(p),d=a.mul(d,p),f=a.mul(f,u),c=h}return d}}function Qce(t){if(t%g2===Vce){const e=(t+Hn)/g2;return function(r,i){const o=r.pow(i,e);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%NR===PR){const e=(t-PR)/NR;return function(r,i){const o=r.mul(i,oc),s=r.pow(o,e),a=r.mul(i,s),l=r.mul(r.mul(a,oc),s),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return qce(t)}const Kce=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Xce(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Kce.reduce((r,i)=>(r[i]="function",r),e);return Om(t,n)}function Yce(t,e,n){if(n<gr)throw new Error("Expected power > 0");if(n===gr)return t.ONE;if(n===Hn)return e;let r=t.ONE,i=e;for(;n>gr;)n&Hn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Hn;return r}function Jce(t,e){const n=new Array(e.length),r=e.reduce((o,s,a)=>t.is0(s)?o:(n[a]=o,t.mul(o,s)),t.ONE),i=t.inv(r);return e.reduceRight((o,s,a)=>t.is0(s)?o:(n[a]=t.mul(o,n[a]),t.mul(o,s)),i),n}function Q8(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Zce(t,e,n=!1,r={}){if(t<=gr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=Q8(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Qce(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:vT(i),ZERO:gr,ONE:Hn,create:l=>fi(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return gr<=l&&l<t},is0:l=>l===gr,isOdd:l=>(l&Hn)===Hn,neg:l=>fi(-l,t),eql:(l,c)=>l===c,sqr:l=>fi(l*l,t),add:(l,c)=>fi(l+c,t),sub:(l,c)=>fi(l-c,t),mul:(l,c)=>fi(l*c,t),pow:(l,c)=>Yce(a,l,c),div:(l,c)=>fi(l*y2(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>y2(l,t),sqrt:r.sqrt||(l=>s(a,l)),invertBatch:l=>Jce(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?yT(l,o):tf(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?gT(l):kc(l)}});return Object.freeze(a)}function K8(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function X8(t){const e=K8(t);return e+Math.ceil(e/2)}function eue(t,e,n=!1){const r=t.length,i=K8(e),o=X8(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=n?kc(t):gT(t),a=fi(s,e-Hn)+Hn;return n?yT(a,i):tf(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tue=BigInt(0),Qb=BigInt(1);function nue(t,e){const n=(i,o)=>{const s=o.negate();return i?s:o},r=i=>{const o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:n,unsafeLadder(i,o){let s=t.ZERO,a=i;for(;o>tue;)o&Qb&&(s=s.add(a)),a=a.double(),o>>=Qb;return s},precomputeWindow(i,o){const{windows:s,windowSize:a}=r(o),l=[];let c=i,u=c;for(let d=0;d<s;d++){u=c,l.push(u);for(let f=1;f<a;f++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,o,s){const{windows:a,windowSize:l}=r(i);let c=t.ZERO,u=t.BASE;const d=BigInt(2**i-1),f=2**i,h=BigInt(i);for(let p=0;p<a;p++){const m=p*l;let y=Number(s&d);s>>=h,y>l&&(y-=f,s+=Qb);const g=m,v=m+Math.abs(y)-1,b=p%2!==0,x=y<0;y===0?u=u.add(n(b,o[g])):c=c.add(n(x,o[v]))}return{p:c,f:u}},wNAFCached(i,o,s,a){const l=i._WINDOW_SIZE||1;let c=o.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&o.set(i,a(c))),this.wNAF(l,c,s)}}}function Y8(t){return Xce(t.Fp),Om(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Q8(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rue(t){const e=Y8(t);Om(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:iue,hexToBytes:oue}=Wce,Ec={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Ec;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:iue(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Ec,n=typeof t=="string"?oue(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=Ec._parseInt(n.subarray(2)),{d:s,l:a}=Ec._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),o=r.length/2,s=i.length/2,a=n(o),l=n(s);return`30${n(s+o+4)}02${l}${i}02${a}${r}`}},ta=BigInt(0),uo=BigInt(1);BigInt(2);const kR=BigInt(3);BigInt(4);function sue(t){const e=rue(t),{Fp:n}=e,r=e.toBytes||((p,m,y)=>{const g=m.toAffine();return qp(Uint8Array.from([4]),n.toBytes(g.x),n.toBytes(g.y))}),i=e.fromBytes||(p=>{const m=p.subarray(1),y=n.fromBytes(m.subarray(0,n.BYTES)),g=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:y,y:g}});function o(p){const{a:m,b:y}=e,g=n.sqr(p),v=n.mul(g,p);return n.add(n.add(v,n.mul(p,m)),y)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(p){return typeof p=="bigint"&&ta<p&&p<e.n}function a(p){if(!s(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(p){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:g,n:v}=e;if(m&&typeof p!="bigint"){if(p instanceof Uint8Array&&(p=Zd(p)),typeof p!="string"||!m.includes(p.length))throw new Error("Invalid key");p=p.padStart(y*2,"0")}let b;try{b=typeof p=="bigint"?p:kc(Do("private key",p,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof p}`)}return g&&(b=fi(b,v)),a(b),b}const c=new Map;function u(p){if(!(p instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(m,y,g){if(this.px=m,this.py=y,this.pz=g,m==null||!n.isValid(m))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(g==null||!n.isValid(g))throw new Error("z required")}static fromAffine(m){const{x:y,y:g}=m||{};if(!m||!n.isValid(y)||!n.isValid(g))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");const v=b=>n.eql(b,n.ZERO);return v(y)&&v(g)?d.ZERO:new d(y,g,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=n.invertBatch(m.map(g=>g.pz));return m.map((g,v)=>g.toAffine(y[v])).map(d.fromAffine)}static fromHex(m){const y=d.fromAffine(i(Do("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return d.BASE.multiply(l(m))}_setWindowSize(m){this._WINDOW_SIZE=m,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=this.toAffine();if(!n.isValid(m)||!n.isValid(y))throw new Error("bad point: x or y not FE");const g=n.sqr(y),v=o(m);if(!n.eql(g,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){u(m);const{px:y,py:g,pz:v}=this,{px:b,py:x,pz:P}=m,N=n.eql(n.mul(y,P),n.mul(b,v)),_=n.eql(n.mul(g,P),n.mul(x,v));return N&&_}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:y}=e,g=n.mul(y,kR),{px:v,py:b,pz:x}=this;let P=n.ZERO,N=n.ZERO,_=n.ZERO,D=n.mul(v,v),T=n.mul(b,b),E=n.mul(x,x),z=n.mul(v,b);return z=n.add(z,z),_=n.mul(v,x),_=n.add(_,_),P=n.mul(m,_),N=n.mul(g,E),N=n.add(P,N),P=n.sub(T,N),N=n.add(T,N),N=n.mul(P,N),P=n.mul(z,P),_=n.mul(g,_),E=n.mul(m,E),z=n.sub(D,E),z=n.mul(m,z),z=n.add(z,_),_=n.add(D,D),D=n.add(_,D),D=n.add(D,E),D=n.mul(D,z),N=n.add(N,D),E=n.mul(b,x),E=n.add(E,E),D=n.mul(E,z),P=n.sub(P,D),_=n.mul(E,T),_=n.add(_,_),_=n.add(_,_),new d(P,N,_)}add(m){u(m);const{px:y,py:g,pz:v}=this,{px:b,py:x,pz:P}=m;let N=n.ZERO,_=n.ZERO,D=n.ZERO;const T=e.a,E=n.mul(e.b,kR);let z=n.mul(y,b),W=n.mul(g,x),B=n.mul(v,P),w=n.add(y,g),A=n.add(b,x);w=n.mul(w,A),A=n.add(z,W),w=n.sub(w,A),A=n.add(y,v);let C=n.add(b,P);return A=n.mul(A,C),C=n.add(z,B),A=n.sub(A,C),C=n.add(g,v),N=n.add(x,P),C=n.mul(C,N),N=n.add(W,B),C=n.sub(C,N),D=n.mul(T,A),N=n.mul(E,B),D=n.add(N,D),N=n.sub(W,D),D=n.add(W,D),_=n.mul(N,D),W=n.add(z,z),W=n.add(W,z),B=n.mul(T,B),A=n.mul(E,A),W=n.add(W,B),B=n.sub(z,B),B=n.mul(T,B),A=n.add(A,B),z=n.mul(W,A),_=n.add(_,z),z=n.mul(C,A),N=n.mul(w,N),N=n.sub(N,z),z=n.mul(w,W),D=n.mul(C,D),D=n.add(D,z),new d(N,_,D)}subtract(m){return this.add(m.negate())}is0(){return this.equals(d.ZERO)}wNAF(m){return h.wNAFCached(this,c,m,y=>{const g=n.invertBatch(y.map(v=>v.pz));return y.map((v,b)=>v.toAffine(g[b])).map(d.fromAffine)})}multiplyUnsafe(m){const y=d.ZERO;if(m===ta)return y;if(a(m),m===uo)return this;const{endo:g}=e;if(!g)return h.unsafeLadder(this,m);let{k1neg:v,k1:b,k2neg:x,k2:P}=g.splitScalar(m),N=y,_=y,D=this;for(;b>ta||P>ta;)b&uo&&(N=N.add(D)),P&uo&&(_=_.add(D)),D=D.double(),b>>=uo,P>>=uo;return v&&(N=N.negate()),x&&(_=_.negate()),_=new d(n.mul(_.px,g.beta),_.py,_.pz),N.add(_)}multiply(m){a(m);let y=m,g,v;const{endo:b}=e;if(b){const{k1neg:x,k1:P,k2neg:N,k2:_}=b.splitScalar(y);let{p:D,f:T}=this.wNAF(P),{p:E,f:z}=this.wNAF(_);D=h.constTimeNegate(x,D),E=h.constTimeNegate(N,E),E=new d(n.mul(E.px,b.beta),E.py,E.pz),g=D.add(E),v=T.add(z)}else{const{p:x,f:P}=this.wNAF(y);g=x,v=P}return d.normalizeZ([g,v])[0]}multiplyAndAddUnsafe(m,y,g){const v=d.BASE,b=(P,N)=>N===ta||N===uo||!P.equals(v)?P.multiplyUnsafe(N):P.multiply(N),x=b(this,y).add(b(m,g));return x.is0()?void 0:x}toAffine(m){const{px:y,py:g,pz:v}=this,b=this.is0();m==null&&(m=b?n.ONE:n.inv(v));const x=n.mul(y,m),P=n.mul(g,m),N=n.mul(v,m);if(b)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x,y:P}}isTorsionFree(){const{h:m,isTorsionFree:y}=e;if(m===uo)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=e;return m===uo?this:y?y(d,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),r(d,this,m)}toHex(m=!0){return Zd(this.toRawBytes(m))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,h=nue(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function aue(t){const e=Y8(t);return Om(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function lue(t){const e=aue(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function s(A){return ta<A&&A<n.ORDER}function a(A){return fi(A,r)}function l(A){return y2(A,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=sue({...e,toBytes(A,C,k){const I=C.toAffine(),H=n.toBytes(I.x),G=qp;return k?G(Uint8Array.from([C.hasEvenY()?2:3]),H):G(Uint8Array.from([4]),H,n.toBytes(I.y))},fromBytes(A){const C=A.length,k=A[0],I=A.subarray(1);if(C===i&&(k===2||k===3)){const H=kc(I);if(!s(H))throw new Error("Point is not on curve");const G=d(H);let L=n.sqrt(G);const M=(L&uo)===uo;return(k&1)===1!==M&&(L=n.neg(L)),{x:H,y:L}}else if(C===o&&k===4){const H=n.fromBytes(I.subarray(0,n.BYTES)),G=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:H,y:G}}else throw new Error(`Point of length ${C} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),h=A=>Zd(tf(A,e.nByteLength));function p(A){const C=r>>uo;return A>C}function m(A){return p(A)?a(-A):A}const y=(A,C,k)=>kc(A.slice(C,k));class g{constructor(C,k,I){this.r=C,this.s=k,this.recovery=I,this.assertValidity()}static fromCompact(C){const k=e.nByteLength;return C=Do("compactSignature",C,k*2),new g(y(C,0,k),y(C,k,2*k))}static fromDER(C){const{r:k,s:I}=Ec.toSig(Do("DER",C));return new g(k,I)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(C){return new g(this.r,this.s,C)}recoverPublicKey(C){const{r:k,s:I,recovery:H}=this,G=_(Do("msgHash",C));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const L=H===2||H===3?k+e.n:k;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=H&1?"03":"02",$=c.fromHex(M+h(L)),J=l(L),te=a(-G*J),oe=a(I*J),le=c.BASE.multiplyAndAddUnsafe($,te,oe);if(!le)throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ef(this.toDERHex())}toDERHex(){return Ec.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ef(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const v={isValidPrivateKey(A){try{return u(A),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const A=X8(e.n);return eue(e.randomBytes(A),e.n)},precompute(A=8,C=c.BASE){return C._setWindowSize(A),C.multiply(BigInt(3)),C}};function b(A,C=!0){return c.fromPrivateKey(A).toRawBytes(C)}function x(A){const C=A instanceof Uint8Array,k=typeof A=="string",I=(C||k)&&A.length;return C?I===i||I===o:k?I===2*i||I===2*o:A instanceof c}function P(A,C,k=!0){if(x(A))throw new Error("first arg must be private key");if(!x(C))throw new Error("second arg must be public key");return c.fromHex(C).multiply(u(A)).toRawBytes(k)}const N=e.bits2int||function(A){const C=kc(A),k=A.length*8-e.nBitLength;return k>0?C>>BigInt(k):C},_=e.bits2int_modN||function(A){return a(N(A))},D=vT(e.nBitLength);function T(A){if(typeof A!="bigint")throw new Error("bigint expected");if(!(ta<=A&&A<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return tf(A,e.nByteLength)}function E(A,C,k=z){if(["recovered","canonical"].some(Ne=>Ne in k))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:H}=e;let{lowS:G,prehash:L,extraEntropy:M}=k;G==null&&(G=!0),A=Do("msgHash",A),L&&(A=Do("prehashed msgHash",I(A)));const $=_(A),J=u(C),te=[T(J),T($)];if(M!=null){const Ne=M===!0?H(n.BYTES):M;te.push(Do("extraEntropy",Ne))}const oe=qp(...te),le=$;function Te(Ne){const Ae=N(Ne);if(!f(Ae))return;const Be=l(Ae),Re=c.BASE.multiply(Ae).toAffine(),ut=a(Re.x);if(ut===ta)return;const ee=a(Be*a(le+ut*J));if(ee===ta)return;let _t=(Re.x===ut?0:2)|Number(Re.y&uo),Et=ee;return G&&p(ee)&&(Et=m(ee),_t^=1),new g(ut,Et,_t)}return{seed:oe,k2sig:Te}}const z={lowS:e.lowS,prehash:!1},W={lowS:e.lowS,prehash:!1};function B(A,C,k=z){const{seed:I,k2sig:H}=E(A,C,k),G=e;return q8(G.hash.outputLen,G.nByteLength,G.hmac)(I,H)}c.BASE._setWindowSize(8);function w(A,C,k,I=W){const H=A;if(C=Do("msgHash",C),k=Do("publicKey",k),"strict"in I)throw new Error("options.strict was renamed to lowS");const{lowS:G,prehash:L}=I;let M,$;try{if(typeof H=="string"||H instanceof Uint8Array)try{M=g.fromDER(H)}catch(Re){if(!(Re instanceof Ec.Err))throw Re;M=g.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:Re,s:ut}=H;M=new g(Re,ut)}else throw new Error("PARSE");$=c.fromHex(k)}catch(Re){if(Re.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(G&&M.hasHighS())return!1;L&&(C=e.hash(C));const{r:J,s:te}=M,oe=_(C),le=l(te),Te=a(oe*le),Ne=a(J*le),Ae=c.BASE.multiplyAndAddUnsafe($,Te,Ne)?.toAffine();return Ae?a(Ae.x)===J:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:P,sign:B,verify:w,ProjectivePoint:c,Signature:g,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cue(t){return{hash:t,hmac:(e,...n)=>T8(t,e,Xle(...n)),randomBytes:Yle}}function uue(t,e){const n=r=>lue({...t,...cue(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J8=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),FR=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),due=BigInt(1),v2=BigInt(2),BR=(t,e)=>(t+e/v2)/e;function fue(t){const e=J8,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,d=so(u,n,e)*u%e,f=so(d,n,e)*u%e,h=so(f,v2,e)*c%e,p=so(h,i,e)*h%e,m=so(p,o,e)*p%e,y=so(m,a,e)*m%e,g=so(y,l,e)*y%e,v=so(g,a,e)*m%e,b=so(v,n,e)*u%e,x=so(b,s,e)*p%e,P=so(x,r,e)*c%e,N=so(P,v2,e);if(!w2.eql(w2.sqr(N),t))throw new Error("Cannot find square root");return N}const w2=Zce(J8,void 0,void 0,{sqrt:fue}),Ja=uue({a:BigInt(0),b:BigInt(7),Fp:w2,n:FR,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=FR,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-due*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=BR(o*t,e),l=BR(-r*t,e);let c=fi(t-a*n-l*i,e),u=fi(-a*r-l*o,e);const d=c>s,f=u>s;if(d&&(c=e-c),f&&(u=e-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:f,k2:u}}}},I8);BigInt(0);Ja.ProjectivePoint;const Qp="0x0000000000000000000000000000000000000000",OR="0x0000000000000000000000000000000000000000000000000000000000000000",LR=BigInt(0),DR=BigInt(1),UR=BigInt(2),zR=BigInt(27),jR=BigInt(28),k0=BigInt(35),Iu={};function HR(t){return _a(or(t),32)}class kn{#e;#t;#n;#r;get r(){return this.#e}set r(e){fe(_d(e)===32,"invalid r","value",e),this.#e=ct(e)}get s(){return this.#t}set s(e){fe(_d(e)===32,"invalid s","value",e);const n=ct(e);fe(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),this.#t=n}get v(){return this.#n}set v(e){const n=Ut(e,"value");fe(n===27||n===28,"invalid v","v",e),this.#n=n}get networkV(){return this.#r}get legacyChainId(){const e=this.networkV;return e==null?null:kn.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Dt(this.s);return this.yParity&&(e[0]|=128),ct(e)}get compactSerialized(){return On([this.r,this.yParityAndS])}get serialized(){return On([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,n,r,i){Xw(e,Iu,"Signature"),this.#e=n,this.#t=r,this.#n=i,this.#r=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new kn(Iu,this.r,this.s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=xt(e,"v");return n==zR||n==jR?LR:(fe(n>=k0,"invalid EIP-155 v","v",e),(n-k0)/UR)}static getChainIdV(e,n){return xt(e)*UR+BigInt(35+n-27)}static getNormalizedV(e){const n=xt(e);return n===LR||n===zR?27:n===DR||n===jR?28:(fe(n>=k0,"invalid v","v",e),n&DR?27:28)}static from(e){function n(c,u){fe(c,u,"signature",e)}if(e==null)return new kn(Iu,OR,OR,27);if(typeof e=="string"){const c=Dt(e,"signature");if(c.length===64){const u=ct(c.slice(0,32)),d=c.slice(32,64),f=d[0]&128?28:27;return d[0]&=127,new kn(Iu,u,ct(d),f)}if(c.length===65){const u=ct(c.slice(0,32)),d=c.slice(32,64);n((d[0]&128)===0,"non-canonical s");const f=kn.getNormalizedV(c[64]);return new kn(Iu,u,ct(d),f)}n(!1,"invalid raw signature length")}if(e instanceof kn)return e.clone();const r=e.r;n(r!=null,"missing r");const i=HR(r),o=function(c,u){if(c!=null)return HR(c);if(u!=null){n(mn(u,32),"invalid yParityAndS");const d=Dt(u);return d[0]&=127,ct(d)}n(!1,"missing s")}(e.s,e.yParityAndS);n((Dt(o)[0]&128)==0,"non-canonical s");const{networkV:s,v:a}=function(c,u,d){if(c!=null){const f=xt(c);return{networkV:f>=k0?f:void 0,v:kn.getNormalizedV(f)}}if(u!=null)return n(mn(u,32),"invalid yParityAndS"),{v:Dt(u)[0]&128?28:27};if(d!=null){switch(Ut(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new kn(Iu,i,o,a);return s&&(l.#r=s),n(e.yParity==null||Ut(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}}class na{#e;constructor(e){fe(_d(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=ct(e)}get privateKey(){return this.#e}get publicKey(){return na.computePublicKey(this.#e)}get compressedPublicKey(){return na.computePublicKey(this.#e,!0)}sign(e){fe(_d(e)===32,"invalid digest length","digest",e);const n=Ja.sign(Jr(e),Jr(this.#e),{lowS:!0});return kn.from({r:Rl(n.r,32),s:Rl(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=na.computePublicKey(e);return ct(Ja.getSharedSecret(Jr(this.#e),Dt(n),!1))}static computePublicKey(e,n){let r=Dt(e,"key");if(r.length===32){const o=Ja.getPublicKey(r,!!n);return ct(o)}if(r.length===64){const o=new Uint8Array(65);o[0]=4,o.set(r,1),r=o}const i=Ja.ProjectivePoint.fromHex(r);return ct(i.toRawBytes(n))}static recoverPublicKey(e,n){fe(_d(e)===32,"invalid digest length","digest",e);const r=kn.from(n);let i=Ja.Signature.fromCompact(Jr(On([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const o=i.recoverPublicKey(Jr(e));return fe(o!=null,"invalid signature for digest","signature",n),"0x"+o.toHex(!1)}static addPoints(e,n,r){const i=Ja.ProjectivePoint.fromHex(na.computePublicKey(e).substring(2)),o=Ja.ProjectivePoint.fromHex(na.computePublicKey(n).substring(2));return"0x"+i.add(o).toHex(!!r)}}const hue=BigInt(0),pue=BigInt(36);function GR(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=Dt(Kn(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const wT={};for(let t=0;t<10;t++)wT[String(t)]=String(t);for(let t=0;t<26;t++)wT[String.fromCharCode(65+t)]=String(10+t);const WR=15;function mue(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>wT[r]).join("");for(;e.length>=WR;){let r=e.substring(0,WR);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const gue=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function yue(t){t=t.toLowerCase();let e=hue;for(let n=0;n<t.length;n++)e=e*pue+gue[t[n]];return e}function on(t){if(fe(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=GR(t);return fe(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){fe(t.substring(2,4)===mue(t),"bad icap checksum","address",t);let e=yue(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return GR("0x"+e)}fe(!1,"invalid address","address",t)}function vue(t){const e=on(t.from);let r=xt(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,on(Pn(Kn(Pl([e,r])),12))}function Z8(t){return t&&typeof t.getAddress=="function"}async function Kb(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(ze(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),fe(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),on(n)}function ei(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?on(t):(ze(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Kb(t,e.resolveName(t)));if(Z8(t))return Kb(t,t.getAddress());if(t&&typeof t.then=="function")return Kb(t,t);fe(!1,"unsupported addressable value","target",t)}const Ys={};function vt(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new Fn(Ys,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Yt(t,e){return new Fn(Ys,`bytes${e||""}`,t,{size:e})}const VR=Symbol.for("_ethers_typed");class Fn{type;value;#e;_typedSymbol;constructor(e,n,r,i){i==null&&(i=null),Xw(Ys,e,"Typed"),Rt(this,{_typedSymbol:VR,type:n,value:r}),this.#e=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,n){return new Fn(Ys,e,n)}static uint8(e){return vt(e,8)}static uint16(e){return vt(e,16)}static uint24(e){return vt(e,24)}static uint32(e){return vt(e,32)}static uint40(e){return vt(e,40)}static uint48(e){return vt(e,48)}static uint56(e){return vt(e,56)}static uint64(e){return vt(e,64)}static uint72(e){return vt(e,72)}static uint80(e){return vt(e,80)}static uint88(e){return vt(e,88)}static uint96(e){return vt(e,96)}static uint104(e){return vt(e,104)}static uint112(e){return vt(e,112)}static uint120(e){return vt(e,120)}static uint128(e){return vt(e,128)}static uint136(e){return vt(e,136)}static uint144(e){return vt(e,144)}static uint152(e){return vt(e,152)}static uint160(e){return vt(e,160)}static uint168(e){return vt(e,168)}static uint176(e){return vt(e,176)}static uint184(e){return vt(e,184)}static uint192(e){return vt(e,192)}static uint200(e){return vt(e,200)}static uint208(e){return vt(e,208)}static uint216(e){return vt(e,216)}static uint224(e){return vt(e,224)}static uint232(e){return vt(e,232)}static uint240(e){return vt(e,240)}static uint248(e){return vt(e,248)}static uint256(e){return vt(e,256)}static uint(e){return vt(e,256)}static int8(e){return vt(e,-8)}static int16(e){return vt(e,-16)}static int24(e){return vt(e,-24)}static int32(e){return vt(e,-32)}static int40(e){return vt(e,-40)}static int48(e){return vt(e,-48)}static int56(e){return vt(e,-56)}static int64(e){return vt(e,-64)}static int72(e){return vt(e,-72)}static int80(e){return vt(e,-80)}static int88(e){return vt(e,-88)}static int96(e){return vt(e,-96)}static int104(e){return vt(e,-104)}static int112(e){return vt(e,-112)}static int120(e){return vt(e,-120)}static int128(e){return vt(e,-128)}static int136(e){return vt(e,-136)}static int144(e){return vt(e,-144)}static int152(e){return vt(e,-152)}static int160(e){return vt(e,-160)}static int168(e){return vt(e,-168)}static int176(e){return vt(e,-176)}static int184(e){return vt(e,-184)}static int192(e){return vt(e,-192)}static int200(e){return vt(e,-200)}static int208(e){return vt(e,-208)}static int216(e){return vt(e,-216)}static int224(e){return vt(e,-224)}static int232(e){return vt(e,-232)}static int240(e){return vt(e,-240)}static int248(e){return vt(e,-248)}static int256(e){return vt(e,-256)}static int(e){return vt(e,-256)}static bytes1(e){return Yt(e,1)}static bytes2(e){return Yt(e,2)}static bytes3(e){return Yt(e,3)}static bytes4(e){return Yt(e,4)}static bytes5(e){return Yt(e,5)}static bytes6(e){return Yt(e,6)}static bytes7(e){return Yt(e,7)}static bytes8(e){return Yt(e,8)}static bytes9(e){return Yt(e,9)}static bytes10(e){return Yt(e,10)}static bytes11(e){return Yt(e,11)}static bytes12(e){return Yt(e,12)}static bytes13(e){return Yt(e,13)}static bytes14(e){return Yt(e,14)}static bytes15(e){return Yt(e,15)}static bytes16(e){return Yt(e,16)}static bytes17(e){return Yt(e,17)}static bytes18(e){return Yt(e,18)}static bytes19(e){return Yt(e,19)}static bytes20(e){return Yt(e,20)}static bytes21(e){return Yt(e,21)}static bytes22(e){return Yt(e,22)}static bytes23(e){return Yt(e,23)}static bytes24(e){return Yt(e,24)}static bytes25(e){return Yt(e,25)}static bytes26(e){return Yt(e,26)}static bytes27(e){return Yt(e,27)}static bytes28(e){return Yt(e,28)}static bytes29(e){return Yt(e,29)}static bytes30(e){return Yt(e,30)}static bytes31(e){return Yt(e,31)}static bytes32(e){return Yt(e,32)}static address(e){return new Fn(Ys,"address",e)}static bool(e){return new Fn(Ys,"bool",!!e)}static bytes(e){return new Fn(Ys,"bytes",e)}static string(e){return new Fn(Ys,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new Fn(Ys,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===VR}static dereference(e,n){if(Fn.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}}class wue extends Na{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=Fn.dereference(n,"string");try{r=on(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return on(Rl(e.readValue(),20))}}class bue extends Na{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}function e7(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(c=>{const u=c.localName;return ze(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),ze(!l[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),l[u]=!0,n[u]})}else fe(!1,"invalid tuple value","tuple",n);fe(e.length===r.length,"types/value length mismatch","tuple",n);let i=new p2,o=new p2,s=[];e.forEach((l,c)=>{let u=r[c];if(l.dynamic){let d=o.length;l.encode(o,u);let f=i.writeUpdatableValue();s.push(h=>{f(h+d)})}else l.encode(i,u)}),s.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function t7(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(o=>{let s=null;if(o.dynamic){let a=t.readIndex(),l=i.subReader(a);try{s=o.decode(l)}catch(c){if(Cr(c,"BUFFER_OVERRUN"))throw c;s=c,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(t)}catch(a){if(Cr(a,"BUFFER_OVERRUN"))throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}if(s==null)throw new Error("investigate");n.push(s),r.push(o.localName||null)}),aa.fromItems(n,r)}class xue extends Na{coder;length;constructor(e,n,r){const i=e.type+"["+(n>=0?n:"")+"]",o=n===-1||e.dynamic;super("array",i,r,o),Rt(this,{coder:e,length:n})}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){const r=Fn.dereference(n,"array");Array.isArray(r)||this._throwError("expected array value",r);let i=this.length;i===-1&&(i=r.length,e.writeValue(r.length)),d8(r.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let s=0;s<r.length;s++)o.push(this.coder);return e7(e,o,r)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),ze(n*Zr<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*Zr,length:e.dataLength}));let r=[];for(let i=0;i<n;i++)r.push(new bue(this.coder));return t7(e,r)}}class Eue extends Na{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=Fn.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class n7 extends Na{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Jr(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class Aue extends n7{constructor(e){super("bytes",e)}decode(e){return ct(super.decode(e))}}class _ue extends Na{size;constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),Rt(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=Jr(Fn.dereference(n,this.type));return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return ct(e.readBytes(this.size))}}const Sue=new Uint8Array([]);class Cue extends Na{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(Sue)}decode(e){return e.readBytes(0),null}}const Tue=BigInt(0),Mue=BigInt(1),Iue=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Rue extends Na{size;signed;constructor(e,n,r){const i=(n?"int":"uint")+e*8;super(i,i,r,!1),Rt(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let r=xt(Fn.dereference(n,this.type)),i=Sh(Iue,Zr*8);if(this.signed){let o=Sh(i,this.size*8-1);(r>o||r<-(o+Mue))&&this._throwError("value out-of-bounds",n),r=p8(r,8*Zr)}else(r<Tue||r>Sh(i,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(r)}decode(e){let n=Sh(e.readValue(),this.size*8);return this.signed&&(n=Tle(n,this.size*8)),n}}class Pue extends n7{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,ha(Fn.dereference(n,"string")))}decode(e){return av(super.decode(e))}}class F0 extends Na{coders;constructor(e,n){let r=!1;const i=[];e.forEach(s=>{s.dynamic&&(r=!0),i.push(s.type)});const o="tuple("+i.join(",")+")";super("tuple",o,n,r),Rt(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const n=this.coders.reduce((r,i)=>{const o=i.localName;return o&&(r[o]||(r[o]=0),r[o]++),r},{});return this.coders.forEach((r,i)=>{let o=r.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,n){const r=Fn.dereference(n,"tuple");return e7(e,this.coders,r)}decode(e){return t7(e,this.coders)}}function Xb(t,e){return{address:on(t),storageKeys:e.map((n,r)=>(fe(mn(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function vu(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(fe(n.length===2,"invalid slot set",`value[${r}]`,n),Xb(n[0],n[1])):(fe(n!=null&&typeof n=="object","invalid address-slot set","value",t),Xb(n.address,n.storageKeys)));fe(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,o)=>(i[o]=!0,i),{});return Xb(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function r7(t){return{address:on(t.address),nonce:xt(t.nonce!=null?t.nonce:0),chainId:xt(t.chainId!=null?t.chainId:0),signature:kn.from(t.signature)}}function Nue(t){let e;return typeof t=="string"?e=na.computePublicKey(t,!1):e=t.publicKey,on(Kn("0x"+e.substring(4)).substring(26))}function kue(t,e){return Nue(na.recoverPublicKey(t,e))}const hr=BigInt(0),Fue=BigInt(2),Bue=BigInt(27),Oue=BigInt(28),Lue=BigInt(35),Due=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Yb=4096*32;function Uue(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Dt(t.blobToKzgCommitment(ct(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Dt(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Dt(t.blobToKZGCommitment(ct(r)));fe(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Dt(t.computeBlobProof(ct(r),ct(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Dt(t.computeBlobKZGProof(ct(r),ct(i)));fe(!1,"unsupported KZG library","kzg",t)}}}function $R(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=Nf(e).substring(4),"0x"+n}function kf(t){return t==="0x"?null:on(t)}function n1(t,e){try{return vu(t)}catch(n){fe(!1,n.message,e,t)}}function zue(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:kf(i[1]),nonce:dn(i[2],"nonce"),chainId:dn(i[0],"chainId"),signature:kn.from({yParity:wu(i[3],"yParity"),r:_a(i[4],32),s:_a(i[5],32)})})}return n}catch(n){fe(!1,n.message,e,t)}}function wu(t,e){return t==="0x"?0:Ut(t,e)}function dn(t,e){if(t==="0x")return hr;const n=xt(t,e);return fe(n<=Due,"value exceeds uint size",e,n),n}function $t(t,e){const n=xt(t,"value"),r=or(n);return fe(r.length<=32,"value too large",`tx.${e}`,n),r}function r1(t){return vu(t).map(e=>[e.address,e.storageKeys])}function jue(t){return t.map(e=>[$t(e.chainId,"chainId"),e.address,$t(e.nonce,"nonce"),$t(e.signature.yParity,"yParity"),or(e.signature.r),or(e.signature.s)])}function Hue(t,e){fe(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)fe(mn(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function Gue(t){const e=Bm(t);fe(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:wu(e[0],"nonce"),gasPrice:dn(e[1],"gasPrice"),gasLimit:dn(e[2],"gasLimit"),to:kf(e[3]),value:dn(e[4],"value"),data:ct(e[5]),chainId:hr};if(e.length===6)return n;const r=dn(e[6],"v"),i=dn(e[7],"r"),o=dn(e[8],"s");if(i===hr&&o===hr)n.chainId=r;else{let s=(r-Lue)/Fue;s<hr&&(s=hr),n.chainId=s,fe(s!==hr||r===Bue||r===Oue,"non-canonical legacy v","v",e[6]),n.signature=kn.from({r:_a(e[7],32),s:_a(e[8],32),v:r})}return n}function Wue(t,e){const n=[$t(t.nonce,"nonce"),$t(t.gasPrice||0,"gasPrice"),$t(t.gasLimit,"gasLimit"),t.to||"0x",$t(t.value,"value"),t.data];let r=hr;if(t.chainId!=hr)r=xt(t.chainId,"tx.chainId"),fe(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const o=t.signature.legacyChainId;o!=null&&(r=o)}if(!e)return r!==hr&&(n.push(or(r)),n.push("0x"),n.push("0x")),Pl(n);let i=BigInt(27+e.yParity);return r!==hr?i=kn.getChainIdV(r,e.v):BigInt(e.v)!==i&&fe(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(or(i)),n.push(or(e.r)),n.push(or(e.s)),Pl(n)}function i1(t,e){let n;try{if(n=wu(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{fe(!1,"invalid yParity","yParity",e[0])}const r=_a(e[1],32),i=_a(e[2],32),o=kn.from({r,s:i,yParity:n});t.signature=o}function Vue(t){const e=Bm(Dt(t).slice(1));fe(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ct(t));const n={type:2,chainId:dn(e[0],"chainId"),nonce:wu(e[1],"nonce"),maxPriorityFeePerGas:dn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:dn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:dn(e[4],"gasLimit"),to:kf(e[5]),value:dn(e[6],"value"),data:ct(e[7]),accessList:n1(e[8],"accessList")};return e.length===9||i1(n,e.slice(9)),n}function $ue(t,e){const n=[$t(t.chainId,"chainId"),$t(t.nonce,"nonce"),$t(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),$t(t.maxFeePerGas||0,"maxFeePerGas"),$t(t.gasLimit,"gasLimit"),t.to||"0x",$t(t.value,"value"),t.data,r1(t.accessList||[])];return e&&(n.push($t(e.yParity,"yParity")),n.push(or(e.r)),n.push(or(e.s))),On(["0x02",Pl(n)])}function que(t){const e=Bm(Dt(t).slice(1));fe(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ct(t));const n={type:1,chainId:dn(e[0],"chainId"),nonce:wu(e[1],"nonce"),gasPrice:dn(e[2],"gasPrice"),gasLimit:dn(e[3],"gasLimit"),to:kf(e[4]),value:dn(e[5],"value"),data:ct(e[6]),accessList:n1(e[7],"accessList")};return e.length===8||i1(n,e.slice(8)),n}function Que(t,e){const n=[$t(t.chainId,"chainId"),$t(t.nonce,"nonce"),$t(t.gasPrice||0,"gasPrice"),$t(t.gasLimit,"gasLimit"),t.to||"0x",$t(t.value,"value"),t.data,r1(t.accessList||[])];return e&&(n.push($t(e.yParity,"recoveryParam")),n.push(or(e.r)),n.push(or(e.s))),On(["0x01",Pl(n)])}function Kue(t){let e=Bm(Dt(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const o=e[1],s=e[2],a=e[3];fe(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),fe(Array.isArray(s),"invalid network format: commitments not an array","fields[2]",s),fe(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),fe(o.length===s.length,"invalid network format: blobs/commitments length mismatch","fields",e),fe(o.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let l=0;l<e[1].length;l++)r.push({data:o[l],commitment:s[l],proof:a[l]});e=e[0]}fe(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",ct(t));const i={type:3,chainId:dn(e[0],"chainId"),nonce:wu(e[1],"nonce"),maxPriorityFeePerGas:dn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:dn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:dn(e[4],"gasLimit"),to:kf(e[5]),value:dn(e[6],"value"),data:ct(e[7]),accessList:n1(e[8],"accessList"),maxFeePerBlobGas:dn(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),fe(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),fe(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let o=0;o<i.blobVersionedHashes.length;o++)fe(mn(i.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",t);return e.length===11||i1(i,e.slice(11)),i}function Xue(t,e,n){const r=[$t(t.chainId,"chainId"),$t(t.nonce,"nonce"),$t(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),$t(t.maxFeePerGas||0,"maxFeePerGas"),$t(t.gasLimit,"gasLimit"),t.to||Qp,$t(t.value,"value"),t.data,r1(t.accessList||[]),$t(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Hue(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push($t(e.yParity,"yParity")),r.push(or(e.r)),r.push(or(e.s)),n)?On(["0x03",Pl([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):On(["0x03",Pl(r)])}function Yue(t){const e=Bm(Dt(t).slice(1));fe(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",ct(t));const n={type:4,chainId:dn(e[0],"chainId"),nonce:wu(e[1],"nonce"),maxPriorityFeePerGas:dn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:dn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:dn(e[4],"gasLimit"),to:kf(e[5]),value:dn(e[6],"value"),data:ct(e[7]),accessList:n1(e[8],"accessList"),authorizationList:zue(e[9],"authorizationList")};return e.length===10||i1(n,e.slice(10)),n}function Jue(t,e){const n=[$t(t.chainId,"chainId"),$t(t.nonce,"nonce"),$t(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),$t(t.maxFeePerGas||0,"maxFeePerGas"),$t(t.gasLimit,"gasLimit"),t.to||"0x",$t(t.value,"value"),t.data,r1(t.accessList||[]),jue(t.authorizationList||[])];return e&&(n.push($t(e.yParity,"yParity")),n.push(or(e.r)),n.push(or(e.s))),On(["0x04",Pl(n)])}class Uo{#e;#t;#n;#r;#i;#s;#o;#a;#p;#u;#m;#h;#l;#c;#d;#f;#y;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:fe(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#t;return e==null&&this.type===3?Qp:e}set to(e){this.#t=e==null?null:on(e)}get nonce(){return this.#r}set nonce(e){this.#r=Ut(e,"value")}get gasLimit(){return this.#i}set gasLimit(e){this.#i=xt(e)}get gasPrice(){const e=this.#s;return e==null&&(this.type===0||this.type===1)?hr:e}set gasPrice(e){this.#s=e==null?null:xt(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#o;return e??(this.type===2||this.type===3?hr:null)}set maxPriorityFeePerGas(e){this.#o=e==null?null:xt(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#a;return e??(this.type===2||this.type===3?hr:null)}set maxFeePerGas(e){this.#a=e==null?null:xt(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=ct(e)}get value(){return this.#p}set value(e){this.#p=xt(e,"value")}get chainId(){return this.#u}set chainId(e){this.#u=xt(e)}get signature(){return this.#m||null}set signature(e){this.#m=e==null?null:kn.from(e)}get accessList(){const e=this.#h||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#h=e==null?null:vu(e)}get authorizationList(){const e=this.#y||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#y=e==null?null:e.map(n=>r7(n))}get maxFeePerBlobGas(){const e=this.#l;return e==null&&this.type===3?hr:e}set maxFeePerBlobGas(e){this.#l=e==null?null:xt(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#c;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){fe(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)fe(mn(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}this.#c=e}get blobs(){return this.#f==null?null:this.#f.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#f=null;return}const n=[],r=[];for(let i=0;i<e.length;i++){const o=e[i];if(lT(o)){ze(this.#d,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let s=Dt(o);if(fe(s.length<=Yb,"blob is too large",`blobs[${i}]`,o),s.length!==Yb){const c=new Uint8Array(Yb);c.set(s),s=c}const a=this.#d.blobToKzgCommitment(s),l=ct(this.#d.computeBlobKzgProof(s,a));n.push({data:ct(s),commitment:ct(a),proof:l}),r.push($R(1,a))}else{const s=ct(o.commitment);n.push({data:ct(o.data),commitment:s,proof:ct(o.proof)}),r.push($R(1,s))}}this.#f=n,this.#c=r}get kzg(){return this.#d}set kzg(e){e==null?this.#d=null:this.#d=Uue(e)}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#i=hr,this.#s=null,this.#o=null,this.#a=null,this.#n="0x",this.#p=hr,this.#u=hr,this.#m=null,this.#h=null,this.#l=null,this.#c=null,this.#d=null,this.#f=null,this.#y=null}get hash(){return this.signature==null?null:Kn(this.#g(!0,!1))}get unsignedHash(){return Kn(this.unsignedSerialized)}get from(){return this.signature==null?null:kue(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:na.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#g(e,n){ze(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return Wue(this,r);case 1:return Que(this,r);case 2:return $ue(this,r);case 3:return Xue(this,r,n?this.blobs:null);case 4:return Jue(this,r)}ze(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#g(!0,!0)}get unsignedSerialized(){return this.#g(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=this.#l!=null||this.#c;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&ze(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),ze(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),ze(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):n?o.push(2):e?(o.push(1),r||o.push(0)):r?(o.push(1),o.push(2)):(i&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Uo.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Uo;if(typeof e=="string"){const r=Dt(e);if(r[0]>=127)return Uo.from(Gue(r));switch(r[0]){case 1:return Uo.from(que(r));case 2:return Uo.from(Vue(r));case 3:return Uo.from(Kue(r));case 4:return Uo.from(Yue(r))}ze(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Uo;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=kn.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(fe(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),fe(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(fe(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),fe(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}}function Zc(t){return Kn(ha(t))}var Zue="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const qR=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),QR=4;function ede(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,o=[0,1];for(let P=1;P<r;P++)o.push(i+=n());let s=n(),a=e;e+=s;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const d=31,f=2**d,h=f>>>1,p=h>>1,m=f-1;let y=0;for(let P=0;P<d;P++)y=y<<1|u();let g=[],v=0,b=f;for(;;){let P=Math.floor(((y-v+1)*i-1)/b),N=0,_=r;for(;_-N>1;){let E=N+_>>>1;P<o[E]?_=E:N=E}if(N==0)break;g.push(N);let D=v+Math.floor(b*o[N]/i),T=v+Math.floor(b*o[N+1]/i)-1;for(;!((D^T)&h);)y=y<<1&m|u(),D=D<<1&m,T=T<<1&m|1;for(;D&~T&p;)y=y&h|y<<1&m>>>1|u(),D=D<<1^h,T=(T^h)<<1|h|1;v=D,b=1+T-D}let x=r-4;return g.map(P=>{switch(P-x){case 3:return x+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return x+256+(t[a++]<<8|t[a++]);case 1:return x+t[a++];default:return P-1}})}function tde(t){let e=0;return()=>t[e++]}function i7(t){return tde(ede(nde(t)))}function nde(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,o=0,s=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],s+=6,s>=8&&(r[o++]=a>>(s-=8));return r}function rde(t){return t&1?~t>>1:t>>1}function ide(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=rde(e());return n}function Kp(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let o=0;o<i;o++)n.push(e+o);e+=i+1}return n}function o7(t){return Xp(()=>{let e=Kp(t);if(e.length)return e})}function s7(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(ode(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(sde(n,t))}return e.flat()}function Xp(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function a7(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)ide(t,n).forEach((o,s)=>r[s].push(o));return r}function ode(t,e){let n=1+e(),r=e(),i=Xp(e);return a7(i.length,1+t,e).flatMap((s,a)=>{let[l,...c]=s;return Array(i[a]).fill().map((u,d)=>{let f=d*r;return[l+d*n,c.map(h=>h+f)]})})}function sde(t,e){let n=1+e();return a7(n,1+t,e).map(i=>[i[0],i.slice(1)])}function ade(t){let e=[],n=Kp(t);return i(r([]),[]),e;function r(o){let s=t(),a=Xp(()=>{let l=Kp(t).map(c=>n[c]);if(l.length)return r(l)});return{S:s,B:a,Q:o}}function i({S:o,B:s},a,l){if(!(o&4&&l===a[a.length-1])){o&2&&(l=a[a.length-1]),o&1&&e.push(a);for(let c of s)for(let u of c.Q)i(c,[...a,u],l)}}}function lde(t){return t.toString(16).toUpperCase().padStart(2,"0")}function l7(t){return`{${lde(t)}}`}function cde(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function nf(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function ude(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var dde="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Yp=44032,cv=4352,uv=4449,dv=4519,c7=19,u7=21,rf=28,fv=u7*rf,fde=c7*fv,hde=Yp+fde,pde=cv+c7,mde=uv+u7,gde=dv+rf;function Ch(t){return t>>24&255}function d7(t){return t&16777215}let b2,KR,x2,Xg;function yde(){let t=i7(dde);b2=new Map(o7(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),KR=new Set(Kp(t)),x2=new Map,Xg=new Map;for(let[e,n]of s7(t)){if(!KR.has(e)&&n.length==2){let[r,i]=n,o=Xg.get(r);o||(o=new Map,Xg.set(r,o)),o.set(i,e)}x2.set(e,n.reverse())}}function f7(t){return t>=Yp&&t<hde}function vde(t,e){if(t>=cv&&t<pde&&e>=uv&&e<mde)return Yp+(t-cv)*fv+(e-uv)*rf;if(f7(t)&&e>dv&&e<gde&&(t-Yp)%rf==0)return t+(e-dv);{let n=Xg.get(t);return n&&(n=n.get(e),n)?n:-1}}function h7(t){b2||yde();let e=[],n=[],r=!1;function i(o){let s=b2.get(o);s&&(r=!0,o|=s),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(f7(o)){let s=o-Yp,a=s/fv|0,l=s%fv/rf|0,c=s%rf;i(cv+a),i(uv+l),c>0&&i(dv+c)}else{let s=x2.get(o);s?n.push(...s):i(o)}if(!n.length)break;o=n.pop()}if(r&&e.length>1){let o=Ch(e[0]);for(let s=1;s<e.length;s++){let a=Ch(e[s]);if(a==0||o<=a){o=a;continue}let l=s-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(o=Ch(e[--l]),o<=a))break}o=Ch(e[s])}}return e}function wde(t){let e=[],n=[],r=-1,i=0;for(let o of t){let s=Ch(o),a=d7(o);if(r==-1)s==0?r=a:e.push(a);else if(i>0&&i>=s)s==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=s;else{let l=vde(r,a);l>=0?r=l:i==0&&s==0?(e.push(r),r=a):(n.push(a),i=s)}}return r>=0&&e.push(r,...n),e}function p7(t){return h7(t).map(d7)}function bde(t){return wde(h7(t))}const XR=45,m7=".",g7=65039,y7=1,hv=t=>Array.from(t);function Jp(t,e){return t.P.has(e)||t.Q.has(e)}class xde extends Array{get is_emoji(){return!0}}let E2,v7,Ac,A2,w7,Sd,Jb,qu,tc,YR,_2;function bT(){if(E2)return;let t=i7(Zue);const e=()=>Kp(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(f=>u.add(f));E2=new Map(s7(t)),v7=n(),Ac=e(),A2=new Set(e().map(u=>Ac[u])),Ac=new Set(Ac),w7=n(),n();let i=o7(t),o=t();const s=()=>{let u=new Set;return e().forEach(d=>r(u,i[d])),r(u,e()),u};Sd=Xp(u=>{let d=Xp(t).map(f=>f+96);if(d.length){let f=u>=o;d[0]-=32,d=nf(d),f&&(d=`Restricted[${d}]`);let h=s(),p=s(),m=!t();return{N:d,P:h,Q:p,M:m,R:f}}}),Jb=n(),qu=new Map;let a=e().concat(hv(Jb)).sort((u,d)=>u-d);a.forEach((u,d)=>{let f=t(),h=a[d]=f?a[d-f]:{V:[],M:new Map};h.V.push(u),Jb.has(u)||qu.set(u,h)});for(let{V:u,M:d}of new Set(qu.values())){let f=[];for(let p of u){let m=Sd.filter(g=>Jp(g,p)),y=f.find(({G:g})=>m.some(v=>g.has(v)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(p),r(y.G,m)}let h=f.flatMap(p=>hv(p.G));for(let{G:p,V:m}of f){let y=new Set(h.filter(g=>!p.has(g)));for(let g of m)d.set(g,y)}}tc=new Set;let l=new Set;const c=u=>tc.has(u)?l.add(u):tc.add(u);for(let u of Sd){for(let d of u.P)c(d);for(let d of u.Q)c(d)}for(let u of tc)!qu.has(u)&&!l.has(u)&&qu.set(u,y7);r(tc,p7(tc)),YR=ade(t).map(u=>xde.from(u)).sort(ude),_2=new Map;for(let u of YR){let d=[_2];for(let f of u){let h=d.map(p=>{let m=p.get(f);return m||(m=new Map,p.set(f,m)),m});f===g7?d.push(...h):d=h}for(let f of d)f.V=u}}function xT(t){return(b7(t)?"":`${ET(o1([t]))} `)+l7(t)}function ET(t){return`"${t}"`}function Ede(t){if(t.length>=4&&t[2]==XR&&t[3]==XR)throw new Error(`invalid label extension: "${nf(t.slice(0,4))}"`)}function Ade(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function _de(t){let e=t[0],n=qR.get(e);if(n)throw Kh(`leading ${n}`);let r=t.length,i=-1;for(let o=1;o<r;o++){e=t[o];let s=qR.get(e);if(s){if(i==o)throw Kh(`${n} + ${s}`);i=o+1,n=s}}if(i==r)throw Kh(`trailing ${n}`)}function o1(t,e=1/0,n=l7){let r=[];Sde(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let s=0;s<o;s++){let a=t[s];b7(a)&&(r.push(nf(t.slice(i,s))),r.push(n(a)),i=s+1)}return r.push(nf(t.slice(i,o))),r.join("")}function Sde(t){return bT(),Ac.has(t)}function b7(t){return bT(),w7.has(t)}function Cde(t){return Rde(Tde(t,bde,kde))}function Tde(t,e,n){if(!t)return[];bT();let r=0;return t.split(m7).map(i=>{let o=cde(i),s={input:o,offset:r};r+=o.length+1;try{let a=s.tokens=Nde(o,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=s.output=a.flat();if(Ade(u),!(s.emoji=l>1||a[0].is_emoji)&&u.every(f=>f<128))Ede(u),c="ASCII";else{let f=a.flatMap(h=>h.is_emoji?[]:h);if(!f.length)c="Emoji";else{if(Ac.has(u[0]))throw Kh("leading combining mark");for(let m=1;m<l;m++){let y=a[m];if(!y.is_emoji&&Ac.has(y[0]))throw Kh(`emoji + combining mark: "${nf(a[m-1])} + ${o1([y[0]])}"`)}_de(u);let h=hv(new Set(f)),[p]=Ide(h);Pde(p,f),Mde(p,h),c=p.N}}s.type=c}catch(a){s.error=a}return s})}function Mde(t,e){let n,r=[];for(let i of e){let o=qu.get(i);if(o===y7)return;if(o){let s=o.M.get(i);if(n=n?n.filter(a=>s.has(a)):hv(s),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(o=>Jp(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function Ide(t){let e=Sd;for(let n of t){let r=e.filter(i=>Jp(i,n));if(!r.length)throw Sd.some(i=>Jp(i,n))?E7(e[0],n):x7(n);if(e=r,r.length==1)break}return e}function Rde(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${ET(o1(e,63))}: ${i}`)}return nf(r)}).join(m7)}function x7(t){return new Error(`disallowed character: ${xT(t)}`)}function E7(t,e){let n=xT(e),r=Sd.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Kh(t){return new Error(`illegal placement: ${t}`)}function Pde(t,e){for(let n of e)if(!Jp(t,n))throw E7(t,n);if(t.M){let n=p7(e);for(let r=1,i=n.length;r<i;r++)if(A2.has(n[r])){let o=r+1;for(let s;o<i&&A2.has(s=n[o]);o++)for(let a=r;a<o;a++)if(n[a]==s)throw new Error(`duplicate non-spacing marks: ${xT(s)}`);if(o-r>QR)throw new Error(`excessive non-spacing marks: ${ET(o1(n.slice(r-1,o)))} (${o-r}/${QR})`);r=o}}}function Nde(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let o=Fde(t);if(o)i.length&&(r.push(e(i)),i=[]),r.push(n(o));else{let s=t.pop();if(tc.has(s))i.push(s);else{let a=E2.get(s);if(a)i.push(...a);else if(!v7.has(s))throw x7(s)}}}return i.length&&r.push(e(i)),r}function kde(t){return t.filter(e=>e!=g7)}function Fde(t,e){let n=_2,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:o}=n;o&&(r=o,t.length=i)}return r}const A7=new Uint8Array(32);A7.fill(0);function JR(t){return fe(t.length!==0,"invalid ENS name; empty component","comp",t),t}function _7(t){const e=ha(Bde(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(JR(e.slice(r,i))),r=i+1);return fe(r<e.length,"invalid ENS name; empty component","name",t),n.push(JR(e.slice(r))),n}function Bde(t){try{if(t.length===0)throw new Error("empty label");return Cde(t)}catch(e){fe(!1,`invalid ENS name (${e.message})`,"name",t)}}function S2(t){fe(typeof t=="string","invalid ENS name; not a string","name",t),fe(t.length,"invalid ENS name (empty label)","name",t);let e=A7;const n=_7(t);for(;n.length;)e=Kn(On([e,Kn(n.pop())]));return ct(e)}function Ode(t,e){const n=e;return fe(n<=255,"DNS encoded label cannot exceed 255","length",n),ct(On(_7(t).map(r=>{fe(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const S7=new Uint8Array(32);S7.fill(0);const Lde=BigInt(-1),C7=BigInt(0),T7=BigInt(1),Dde=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Ude(t){const e=Dt(t),n=e.length%32;return n?On([e,S7.slice(n)]):ct(e)}const zde=Rl(T7,32),jde=Rl(C7,32),ZR={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Zb=["name","version","chainId","verifyingContract","salt"];function eP(t){return function(e){return fe(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Hde={name:eP("name"),version:eP("version"),chainId:function(t){const e=xt(t,"domain.chainId");return fe(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Wo(e)},verifyingContract:function(t){try{return on(t).toLowerCase()}catch{}fe(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Dt(t,"domain.salt");return fe(e.length===32,'invalid domain value "salt"',"domain.salt",t),ct(e)}};function ex(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);fe(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=Sh(Dde,n?r-1:r),o=n?(i+T7)*Lde:C7;return function(s){const a=xt(s,"value");return fe(a>=o&&a<=i,`value out-of-bounds for ${t}`,"value",a),Rl(n?p8(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return fe(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=Dt(r);return fe(i.length===n,`invalid length for ${t}`,"value",r),Ude(r)}}}switch(t){case"address":return function(e){return _a(on(e),32)};case"bool":return function(e){return e?zde:jde};case"bytes":return function(e){return Kn(e)};case"string":return function(e){return Zc(e)}}return null}function tP(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function B0(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}class Oi{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;const n=new Map,r=new Map,i=new Map,o={};Object.keys(e).forEach(l=>{o[l]=e[l].map(({name:c,type:u})=>{let{base:d,index:f}=B0(u);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:c,type:d+(f||"")}}),n.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),this.#e=JSON.stringify(o);for(const l in o){const c=new Set;for(const u of o[l]){fe(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",e),c.add(u.name);const d=B0(u.type).base;fe(d!==l,`circular type reference to ${JSON.stringify(d)}`,"types",e),!ex(d)&&(fe(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(l),n.get(l).add(d))}}const s=Array.from(r.keys()).filter(l=>r.get(l).length===0);fe(s.length!==0,"missing primary type","types",e),fe(s.length===1,`ambiguous primary types or unused types: ${s.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),Rt(this,{primaryType:s[0]});function a(l,c){fe(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const u of n.get(l))if(r.has(u)){a(u,c);for(const d of c)i.get(d).add(u)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of i){const u=Array.from(c);u.sort(),this.#t.set(l,tP(l,o[l])+u.map(d=>tP(d,o[d])).join(""))}}getEncoder(e){let n=this.#n.get(e);return n||(n=this.#r(e),this.#n.set(e,n)),n}#r(e){{const i=ex(e);if(i)return i}const n=B0(e).array;if(n){const i=n.prefix,o=this.getEncoder(i);return s=>{fe(n.count===-1||n.count===s.length,`array length mismatch; expected length ${n.count}`,"value",s);let a=s.map(o);return this.#t.has(i)&&(a=a.map(Kn)),Kn(On(a))}}const r=this.types[e];if(r){const i=Zc(this.#t.get(e));return o=>{const s=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(o[a]);return this.#t.has(l)?Kn(c):c});return s.unshift(i),On(s)}}fe(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const n=this.#t.get(e);return fe(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Kn(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(ex(e))return r(e,n);const i=B0(e).array;if(i)return fe(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(s=>this._visit(i.prefix,s,r));const o=this.types[e];if(o)return o.reduce((s,{name:a,type:l})=>(s[a]=this._visit(l,n[a],r),s),{});fe(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Oi(e)}static getPrimaryType(e){return Oi.from(e).primaryType}static hashStruct(e,n,r){return Oi.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=ZR[r];fe(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>Zb.indexOf(r.name)-Zb.indexOf(i.name)),Oi.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return On(["0x1901",Oi.hashDomain(e),Oi.from(n).hash(r)])}static hash(e,n,r){return Kn(Oi.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const o={};e.verifyingContract&&!mn(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const s=Oi.from(n);s.visit(r,(a,l)=>(a==="address"&&!mn(l,20)&&(o[l]="0x"),l));for(const a in o)o[a]=await i(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),r=s.visit(r,(a,l)=>a==="address"&&o[l]?o[l]:l),{domain:e,value:r}}static getPayload(e,n,r){Oi.hashDomain(e);const i={},o=[];Zb.forEach(l=>{const c=e[l];c!=null&&(i[l]=Hde[l](c),o.push({name:l,type:ZR[l]}))});const s=Oi.from(n);n=s.types;const a=Object.assign({},n);return fe(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=o,s.encode(r),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return ct(Dt(c));if(l.match(/^u?int/))return xt(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return fe(typeof c=="string","invalid string","value",c),c}fe(!1,"unsupported type","type",l)})}}}function ti(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const Gde="external public payable override",Wde=ti(Gde.split(" ")),M7="constant external internal payable private public pure view override",Vde=ti(M7.split(" ")),I7="constructor error event fallback function receive struct",R7=ti(I7.split(" ")),P7="calldata memory storage payable indexed",$de=ti(P7.split(" ")),qde="tuple returns",Qde=[I7,P7,qde,M7].join(" "),Kde=ti(Qde.split(" ")),Xde={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Yde=new RegExp("^(\\s*)"),Jde=new RegExp("^([0-9]+)"),Zde=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),N7=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),k7=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class To{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new To(this.#t)}reset(){this.#e=0}#n(e=0,n=0){return new To(this.#t.slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;this.#e<e.match-1;){const r=this.peek().linkNext;n.push(this.#n(this.#e+1,r)),this.#e=r}return this.#e=e.match+1,n}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let n=this.#e;n<this.#t.length;n++){const r=this.#t[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function Ul(t){const e=[],n=s=>{const a=o<t.length?JSON.stringify(t[o]):"$EOI";throw new Error(`invalid token ${a} at ${o}: ${s}`)};let r=[],i=[],o=0;for(;o<t.length;){let s=t.substring(o),a=s.match(Yde);a&&(o+=a[1].length,s=t.substring(o));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(l);let c=Xde[s[0]]||"";if(c){if(l.type=c,l.text=s[0],o++,c==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(c==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;u=d+u,e[e.length-1].value=Ut(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=s.match(Zde),a){if(l.text=a[1],o+=l.text.length,Kde.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(k7)){l.type="TYPE";continue}l.type="ID";continue}if(a=s.match(Jde),a){l.text=a[1],l.type="NUMBER",o+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(s[0])} at position ${o}`)}return new To(e.map(s=>Object.freeze(s)))}function nP(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function s1(t,e){if(e.peekKeyword(R7)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Ca(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function F7(t){let e=Ca(t,Vde);return nP(e,ti("constant payable nonpayable".split(" "))),nP(e,ti("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function pa(t,e){return t.popParams().map(n=>hn.from(n,e))}function B7(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return xt(t.pop().text);throw new Error("invalid gas")}return null}function eu(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const efe=new RegExp(/^(.*)\[([0-9]*)\]$/);function rP(t){const e=t.match(k7);if(fe(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);fe(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);fe(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const Sn={},Ri=Symbol.for("_ethers_internal"),iP="_ParamTypeInternal",oP="_ErrorInternal",sP="_EventInternal",aP="_ConstructorInternal",lP="_FallbackInternal",cP="_FunctionInternal",uP="_StructInternal";class hn{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,n,r,i,o,s,a,l){if(Xw(e,Sn,"ParamType"),Object.defineProperty(this,Ri,{value:iP}),s&&(s=Object.freeze(s.slice())),i==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(i==="tuple"){if(s==null)throw new Error("")}else if(s!=null)throw new Error("");Rt(this,{name:n,type:r,baseType:i,indexed:o,components:s,arrayLength:a,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const o=JSON.parse(this.arrayChildren.format("json"));return o.name=r,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,o)=>r.components[o].walk(i,n))}return n(this.type,e)}#e(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,a=n.slice();a.forEach((l,c)=>{s.#e(e,l,r,u=>{a[c]=u})}),i(a);return}if(this.isTuple()){const s=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=s.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=>{s[c].#e(e,l,r,u=>{a[c]=u})}),i(a);return}const o=r(this.type,n);o.then?e.push(async function(){i(await o)}()):i(o)}async walkAsync(e,n){const r=[],i=[e];return this.#e(r,e,n,o=>{i[0]=o}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(hn.isParamType(e))return e;if(typeof e=="string")try{return hn.from(Ul(e),n)}catch{fe(!1,"invalid param type","obj",e)}else if(e instanceof To){let a="",l="",c=null;Ca(e,ti(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",c=e.popParams().map(m=>hn.from(m)),a=`tuple(${c.map(m=>m.format()).join(",")})`):(a=rP(e.popType("TYPE")),l=a);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){const m=e.pop();u=new hn(Sn,"",a,l,null,c,d,u),d=m.value,a+=m.text,l="array",c=null}let f=null;if(Ca(e,$de).has("indexed")){if(!n)throw new Error("");f=!0}const p=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new hn(Sn,p,a,l,f,c,d,u)}const r=e.name;fe(!r||typeof r=="string"&&r.match(N7),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(fe(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let o=e.type,s=o.match(efe);if(s){const a=parseInt(s[2]||"-1"),l=hn.from({type:s[1],components:e.components});return new hn(Sn,r||"",o,"array",i,null,a,l)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){const a=e.components!=null?e.components.map(c=>hn.from(c)):null;return new hn(Sn,r||"",o,"tuple",i,a,null,null)}return o=rP(e.type),new hn(Sn,r||"",o,o,i,null,null,null)}static isParamType(e){return e&&e[Ri]===iP}}class tu{type;inputs;constructor(e,n,r){Xw(e,Sn,"Fragment"),r=Object.freeze(r.slice()),Rt(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{tu.from(JSON.parse(e))}catch{}return tu.from(Ul(e))}if(e instanceof To)switch(e.peekKeyword(R7)){case"constructor":return la.from(e);case"error":return pi.from(e);case"event":return xs.from(e);case"fallback":case"receive":return ea.from(e);case"function":return Es.from(e);case"struct":return Fc.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return la.from(e);case"error":return pi.from(e);case"event":return xs.from(e);case"fallback":case"receive":return ea.from(e);case"function":return Es.from(e);case"struct":return Fc.from(e)}ze(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}fe(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return la.isFragment(e)}static isError(e){return pi.isFragment(e)}static isEvent(e){return xs.isFragment(e)}static isFunction(e){return Es.isFragment(e)}static isStruct(e){return Fc.isFragment(e)}}class a1 extends tu{name;constructor(e,n,r,i){super(e,n,i),fe(typeof r=="string"&&r.match(N7),"invalid identifier","name",r),i=Object.freeze(i.slice()),Rt(this,{name:r})}}function Zp(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class pi extends a1{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Ri,{value:oP})}get selector(){return Zc(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+Zp(e,this.inputs)),n.join(" ")}static from(e){if(pi.isFragment(e))return e;if(typeof e=="string")return pi.from(Ul(e));if(e instanceof To){const n=s1("error",e),r=pa(e);return eu(e),new pi(Sn,n,r)}return new pi(Sn,e.name,e.inputs?e.inputs.map(hn.from):[])}static isFragment(e){return e&&e[Ri]===oP}}class xs extends a1{anonymous;constructor(e,n,r,i){super(e,"event",n,r),Object.defineProperty(this,Ri,{value:sP}),Rt(this,{anonymous:i})}get topicHash(){return Zc(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+Zp(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(i=>hn.from(i)),new xs(Sn,e,n,!1).topicHash}static from(e){if(xs.isFragment(e))return e;if(typeof e=="string")try{return xs.from(Ul(e))}catch{fe(!1,"invalid event fragment","obj",e)}else if(e instanceof To){const n=s1("event",e),r=pa(e,!0),i=!!Ca(e,ti(["anonymous"])).has("anonymous");return eu(e),new xs(Sn,n,r,i)}return new xs(Sn,e.name,e.inputs?e.inputs.map(n=>hn.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Ri]===sP}}class la extends tu{payable;gas;constructor(e,n,r,i,o){super(e,n,r),Object.defineProperty(this,Ri,{value:aP}),Rt(this,{payable:i,gas:o})}format(e){if(ze(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[`constructor${Zp(e,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(la.isFragment(e))return e;if(typeof e=="string")try{return la.from(Ul(e))}catch{fe(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof To){Ca(e,ti(["constructor"]));const n=pa(e),r=!!Ca(e,Wde).has("payable"),i=B7(e);return eu(e),new la(Sn,"constructor",n,r,i)}return new la(Sn,"constructor",e.inputs?e.inputs.map(hn.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Ri]===aP}}class ea extends tu{payable;constructor(e,n,r){super(e,"fallback",n),Object.defineProperty(this,Ri,{value:lP}),Rt(this,{payable:r})}format(e){const n=this.inputs.length===0?"receive":"fallback";if(e==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:r})}return`${n}()${this.payable?" payable":""}`}static from(e){if(ea.isFragment(e))return e;if(typeof e=="string")try{return ea.from(Ul(e))}catch{fe(!1,"invalid fallback fragment","obj",e)}else if(e instanceof To){const n=e.toString(),r=e.peekKeyword(ti(["fallback","receive"]));if(fe(r,"type must be fallback or receive","obj",n),e.popKeyword(ti(["fallback","receive"]))==="receive"){const a=pa(e);return fe(a.length===0,"receive cannot have arguments","obj.inputs",a),Ca(e,ti(["payable"])),eu(e),new ea(Sn,[],!0)}let o=pa(e);o.length?fe(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(a=>a.format("minimal")).join(", ")):o=[hn.from("bytes")];const s=F7(e);if(fe(s==="nonpayable"||s==="payable","fallback cannot be constants","obj.stateMutability",s),Ca(e,ti(["returns"])).has("returns")){const a=pa(e);fe(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(l=>l.format("minimal")).join(", "))}return eu(e),new ea(Sn,o,s==="payable")}if(e.type==="receive")return new ea(Sn,[],!0);if(e.type==="fallback"){const n=[hn.from("bytes")],r=e.stateMutability==="payable";return new ea(Sn,n,r)}fe(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Ri]===lP}}class Es extends a1{constant;outputs;stateMutability;payable;gas;constructor(e,n,r,i,o,s){super(e,"function",n,i),Object.defineProperty(this,Ri,{value:cP}),o=Object.freeze(o.slice()),Rt(this,{constant:r==="view"||r==="pure",gas:s,outputs:o,payable:r==="payable",stateMutability:r})}get selector(){return Zc(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+Zp(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Zp(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(i=>hn.from(i)),new Es(Sn,e,"view",n,[],null).selector}static from(e){if(Es.isFragment(e))return e;if(typeof e=="string")try{return Es.from(Ul(e))}catch{fe(!1,"invalid function fragment","obj",e)}else if(e instanceof To){const r=s1("function",e),i=pa(e),o=F7(e);let s=[];Ca(e,ti(["returns"])).has("returns")&&(s=pa(e));const a=B7(e);return eu(e),new Es(Sn,r,o,i,s,a)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new Es(Sn,e.name,n,e.inputs?e.inputs.map(hn.from):[],e.outputs?e.outputs.map(hn.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Ri]===cP}}class Fc extends a1{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Ri,{value:uP})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Fc.from(Ul(e))}catch{fe(!1,"invalid struct fragment","obj",e)}else if(e instanceof To){const n=s1("struct",e),r=pa(e);return eu(e),new Fc(Sn,n,r)}return new Fc(Sn,e.name,e.inputs?e.inputs.map(hn.from):[])}static isFragment(e){return e&&e[Ri]===uP}}const os=new Map;os.set(0,"GENERIC_PANIC");os.set(1,"ASSERT_FALSE");os.set(17,"OVERFLOW");os.set(18,"DIVIDE_BY_ZERO");os.set(33,"ENUM_RANGE_ERROR");os.set(34,"BAD_STORAGE_DATA");os.set(49,"STACK_UNDERFLOW");os.set(50,"ARRAY_RANGE_ERROR");os.set(65,"OUT_OF_MEMORY");os.set(81,"UNINITIALIZED_FUNCTION_CALL");const tfe=new RegExp(/^bytes([0-9]*)$/),nfe=new RegExp(/^(u?int)([0-9]*)$/);let tx=null,dP=1024;function rfe(t,e,n,r){let i="missing revert data",o=null;const s=null;let a=null;if(n){i="execution reverted";const c=Dt(n);if(n=ct(n),c.length===0)i+=" (no data present; likely require(false) occurred",o="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(ct(c.slice(0,4))==="0x08c379a0")try{o=r.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[o]},i+=`: ${JSON.stringify(o)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(ct(c.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},o=`Panic due to ${os.get(u)||"UNKNOWN"}(${u})`,i+=`: ${o}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?on(e.to):null,data:e.data||"0x"};return e.from&&(l.from=on(e.from)),xn(i,"CALL_EXCEPTION",{action:t,data:n,reason:o,transaction:l,invocation:s,revert:a})}class of{#e(e){if(e.isArray())return new xue(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new F0(e.components.map(r=>this.#e(r)),e.name);switch(e.baseType){case"address":return new wue(e.name);case"bool":return new Eue(e.name);case"string":return new Pue(e.name);case"bytes":return new Aue(e.name);case"":return new Cue(e.name)}let n=e.type.match(nfe);if(n){let r=parseInt(n[2]||"256");return fe(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new Rue(r/8,n[1]==="int",e.name)}if(n=e.type.match(tfe),n){let r=parseInt(n[1]);return fe(r!==0&&r<=32,"invalid bytes length","param",e),new _ue(r,e.name)}fe(!1,"invalid type","type",e.type)}getDefaultValue(e){const n=e.map(i=>this.#e(hn.from(i)));return new F0(n,"_").defaultValue()}encode(e,n){d8(n.length,e.length,"types/values length mismatch");const r=e.map(s=>this.#e(hn.from(s))),i=new F0(r,"_"),o=new p2;return i.encode(o,n),o.data}decode(e,n,r){const i=e.map(s=>this.#e(hn.from(s)));return new F0(i,"_").decode(new uT(n,r,dP))}static _setDefaultMaxInflation(e){fe(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),dP=e}static defaultAbiCoder(){return tx==null&&(tx=new of),tx}static getBuiltinCallException(e,n,r){return rfe(e,n,r,of.defaultAbiCoder())}}class ife{fragment;name;signature;topic;args;constructor(e,n,r){const i=e.name,o=e.format();Rt(this,{fragment:e,name:i,signature:o,topic:n,args:r})}}class ofe{fragment;name;args;signature;selector;value;constructor(e,n,r,i){const o=e.name,s=e.format();Rt(this,{fragment:e,name:o,args:r,signature:s,selector:n,value:i})}}class sfe{fragment;name;args;signature;selector;constructor(e,n,r){const i=e.name,o=e.format();Rt(this,{fragment:e,name:i,args:r,signature:o,selector:n})}}class fP{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){Rt(this,{hash:e,_isIndexed:!0})}}const hP={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},pP={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&hP[t.toString()]&&(e=hP[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class sc{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;const r=[];for(const s of n)try{r.push(tu.from(s))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(s)}:`,a.message)}Rt(this,{fragments:Object.freeze(r)});let i=null,o=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((s,a)=>{let l;switch(s.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Rt(this,{deploy:s});return;case"fallback":s.inputs.length===0?o=!0:(fe(!i||s.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,s),i=s,o=i.payable);return;case"function":l=this.#n;break;case"event":l=this.#t;break;case"error":l=this.#e;break;default:return}const c=s.format();l.has(c)||l.set(c,s)}),this.deploy||Rt(this,{deploy:la.from("constructor()")}),Rt(this,{fallback:i,receive:o})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return of.defaultAbiCoder()}#i(e,n,r){if(mn(e)){const o=e.toLowerCase();for(const s of this.#n.values())if(o===s.selector)return s;return null}if(e.indexOf("(")===-1){const o=[];for(const[s,a]of this.#n)s.split("(")[0]===e&&o.push(a);if(n){const s=n.length>0?n[n.length-1]:null;let a=n.length,l=!0;Fn.isTyped(s)&&s.type==="overrides"&&(l=!1,a--);for(let c=o.length-1;c>=0;c--){const u=o[c].inputs.length;u!==a&&(!l||u!==a-1)&&o.splice(c,1)}for(let c=o.length-1;c>=0;c--){const u=o[c].inputs;for(let d=0;d<n.length;d++)if(Fn.isTyped(n[d])){if(d>=u.length){if(n[d].type==="overrides")continue;o.splice(c,1);break}if(n[d].type!==u[d].baseType){o.splice(c,1);break}}}}if(o.length===1&&n&&n.length!==o[0].inputs.length){const s=n[n.length-1];(s==null||Array.isArray(s)||typeof s!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&r){const s=o.map(a=>JSON.stringify(a.format())).join(", ");fe(!1,`ambiguous function description (i.e. matches ${s})`,"key",e)}return o[0]}const i=this.#n.get(Es.from(e).format());return i||null}getFunctionName(e){const n=this.#i(e,null,!1);return fe(n,"no matching function","key",e),n.name}hasFunction(e){return!!this.#i(e,null,!1)}getFunction(e,n){return this.#i(e,n||null,!0)}forEachFunction(e){const n=Array.from(this.#n.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#n.get(i),r)}}#s(e,n,r){if(mn(e)){const o=e.toLowerCase();for(const s of this.#t.values())if(o===s.topicHash)return s;return null}if(e.indexOf("(")===-1){const o=[];for(const[s,a]of this.#t)s.split("(")[0]===e&&o.push(a);if(n){for(let s=o.length-1;s>=0;s--)o[s].inputs.length<n.length&&o.splice(s,1);for(let s=o.length-1;s>=0;s--){const a=o[s].inputs;for(let l=0;l<n.length;l++)if(Fn.isTyped(n[l])&&n[l].type!==a[l].baseType){o.splice(s,1);break}}}if(o.length===0)return null;if(o.length>1&&r){const s=o.map(a=>JSON.stringify(a.format())).join(", ");fe(!1,`ambiguous event description (i.e. matches ${s})`,"key",e)}return o[0]}const i=this.#t.get(xs.from(e).format());return i||null}getEventName(e){const n=this.#s(e,null,!1);return fe(n,"no matching event","key",e),n.name}hasEvent(e){return!!this.#s(e,null,!1)}getEvent(e,n){return this.#s(e,n||null,!0)}forEachEvent(e){const n=Array.from(this.#t.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#t.get(i),r)}}getError(e,n){if(mn(e)){const i=e.toLowerCase();if(pP[i])return pi.from(pP[i].signature);for(const o of this.#e.values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,s]of this.#e)o.split("(")[0]===e&&i.push(s);if(i.length===0)return e==="Error"?pi.from("error Error(string)"):e==="Panic"?pi.from("error Panic(uint256)"):null;if(i.length>1){const o=i.map(s=>JSON.stringify(s.format())).join(", ");fe(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return i[0]}if(e=pi.from(e).format(),e==="Error(string)")return pi.from("error Error(string)");if(e==="Panic(uint256)")return pi.from("error Panic(uint256)");const r=this.#e.get(e);return r||null}forEachError(e){const n=Array.from(this.#e.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#e.get(i),r)}}_decodeParams(e,n){return this.#r.decode(e,n)}_encodeParams(e,n){return this.#r.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);fe(r,"unknown error","fragment",e),e=r}return fe(Pn(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Pn(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);fe(r,"unknown error","fragment",e),e=r}return On([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);fe(r,"unknown function","fragment",e),e=r}return fe(Pn(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Pn(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);fe(r,"unknown function","fragment",e),e=r}return On([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const o=this.getFunction(e);fe(o,"unknown function","fragment",e),e=o}let r="invalid length for result data";const i=Jr(n);if(i.length%32===0)try{return this.#r.decode(e.outputs,i)}catch{r="could not decode result data"}ze(!1,r,"BAD_DATA",{value:ct(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=Dt(e,"data"),i=of.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=ct(r.slice(0,4)),l=this.getError(a);if(l)try{const c=this.#r.decode(l.inputs,r.slice(4));i.revert={name:l.name,signature:l.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(n);return s&&(i.invocation={method:s.name,signature:s.signature,args:s.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);fe(r,"unknown function","fragment",e),e=r}return ct(this.#r.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const o=this.getEvent(e);fe(o,"unknown event","eventFragment",e),e=o}ze(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(o,s)=>o.type==="string"?Zc(s):o.type==="bytes"?Kn(ct(s)):(o.type==="bool"&&typeof s=="boolean"?s=s?"0x01":"0x00":o.type.match(/^u?int/)?s=Rl(s):o.type.match(/^bytes/)?s=Cle(s,32):o.type==="address"&&this.#r.encode(["address"],[s]),_a(ct(s),32));for(n.forEach((o,s)=>{const a=e.inputs[s];if(!a.indexed){fe(o==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?fe(!1,"filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?r.push(o.map(l=>i(a,l))):r.push(i(a,o))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const s=this.getEvent(e);fe(s,"unknown event","eventFragment",e),e=s}const r=[],i=[],o=[];return e.anonymous||r.push(e.topicHash),fe(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((s,a)=>{const l=n[a];if(s.indexed)if(s.type==="string")r.push(Zc(l));else if(s.type==="bytes")r.push(Kn(l));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");r.push(this.#r.encode([s.type],[l]))}else i.push(s),o.push(l)}),{data:this.#r.encode(i,o),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const h=this.getEvent(e);fe(h,"unknown event","eventFragment",e),e=h}if(r!=null&&!e.anonymous){const h=e.topicHash;fe(mn(r[0],32)&&r[0].toLowerCase()===h,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],o=[],s=[];e.inputs.forEach((h,p)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(i.push(hn.from({type:"bytes32",name:h.name})),s.push(!0)):(i.push(h),s.push(!1)):(o.push(h),s.push(!1))});const a=r!=null?this.#r.decode(i,On(r)):null,l=this.#r.decode(o,n,!0),c=[],u=[];let d=0,f=0;return e.inputs.forEach((h,p)=>{let m=null;if(h.indexed)if(a==null)m=new fP(null);else if(s[p])m=new fP(a[f++]);else try{m=a[f++]}catch(y){m=y}else try{m=l[d++]}catch(y){m=y}c.push(m),u.push(h.name||null)}),aa.fromItems(c,u)}parseTransaction(e){const n=Dt(e.data,"tx.data"),r=xt(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(ct(n.slice(0,4)));if(!i)return null;const o=this.#r.decode(i.inputs,n.slice(4));return new ofe(i,i.selector,o,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new ife(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=ct(e),r=this.getError(Pn(n,0,4));if(!r)return null;const i=this.#r.decode(r.inputs,Pn(n,4));return new sfe(r,r.selector,i)}static from(e){return e instanceof sc?e:typeof e=="string"?new sc(JSON.parse(e)):typeof e.formatJson=="function"?new sc(e.formatJson()):typeof e.format=="function"?new sc(e.format("json")):new sc(e)}}const O7=BigInt(0);function Cd(t){return t??null}function zn(t){return t==null?null:t.toString()}class mP{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,n,r){Rt(this,{gasPrice:Cd(e),maxFeePerGas:Cd(n),maxPriorityFeePerGas:Cd(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:zn(e),maxFeePerGas:zn(n),maxPriorityFeePerGas:zn(r)}}}function pv(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=ct(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=xt(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=Ut(t[i],`request.${i}`));return t.accessList&&(e.accessList=vu(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>lT(i)?ct(i):Object.assign({},i))),e}class afe{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,n){this.#e=e.transactions.map(r=>typeof r!="string"?new Dm(r,n):r),Rt(this,{provider:n,hash:Cd(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Cd(e.prevRandao),extraData:e.extraData,baseFeePerGas:Cd(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:(ze(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:o,hash:s,miner:a,prevRandao:l,nonce:c,number:u,parentHash:d,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:p,timestamp:m,transactions:y}=this;return{_type:"Block",baseFeePerGas:zn(e),difficulty:zn(n),extraData:r,gasLimit:zn(i),gasUsed:zn(o),blobGasUsed:zn(this.blobGasUsed),excessBlobGas:zn(this.excessBlobGas),hash:s,miner:a,prevRandao:l,nonce:c,number:u,parentHash:d,timestamp:m,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:p,transactions:y}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=this.#e[e];else{const r=e.toLowerCase();for(const i of this.#e)if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;fe(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return lfe(this)}}class Lm{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,n){this.provider=n;const r=Object.freeze(e.topics.slice());Rt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:o,removed:s,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:o,removed:s,topics:a,transactionHash:l,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return ze(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return ze(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return ze(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return cfe(this)}}class L7{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,n){this.#e=Object.freeze(e.logs.map(i=>new Lm(i,n)));let r=O7;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Rt(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:o,blockHash:s,blockNumber:a,logsBloom:l,logs:c,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:a,contractAddress:r,cumulativeGasUsed:zn(this.cumulativeGasUsed),from:n,gasPrice:zn(this.gasPrice),blobGasUsed:zn(this.blobGasUsed),blobGasPrice:zn(this.blobGasPrice),gasUsed:zn(this.gasUsed),hash:i,index:o,logs:c,logsBloom:l,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return U7(this)}reorderedEvent(e){return ze(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),D7(this,e)}}class Dm{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,n){this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:o,to:s,from:a,nonce:l,data:c,signature:u,accessList:d,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:n,blobVersionedHashes:f,chainId:zn(this.chainId),data:c,from:a,gasLimit:zn(this.gasLimit),gasPrice:zn(this.gasPrice),hash:i,maxFeePerGas:zn(this.maxFeePerGas),maxPriorityFeePerGas:zn(this.maxPriorityFeePerGas),maxFeePerBlobGas:zn(this.maxFeePerBlobGas),nonce:l,signature:u,to:s,index:r,type:o,value:zn(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await qr({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let o=this.#e,s=-1,a=o===-1;const l=async()=>{if(a)return null;const{blockNumber:f,nonce:h}=await qr({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(h<this.nonce){o=f;return}if(a)return null;const p=await this.getTransaction();if(!(p&&p.blockNumber!=null))for(s===-1&&(s=o-3,s<this.#e&&(s=this.#e));s<=f;){if(a)return null;const m=await this.provider.getBlock(s,!0);if(m==null)return;for(const y of m)if(y===this.hash)return;for(let y=0;y<m.length;y++){const g=await m.getTransaction(y);if(g.from===this.from&&g.nonce===this.nonce){if(a)return null;const v=await this.provider.getTransactionReceipt(g.hash);if(v==null||f-v.blockNumber+1<r)return;let b="replaced";g.data===this.data&&g.to===this.to&&g.value===this.value?b="repriced":g.data==="0x"&&g.from===g.to&&g.value===O7&&(b="cancelled"),ze(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:b==="replaced"||b==="cancelled",reason:b,replacement:g.replaceableTransaction(o),hash:g.hash,receipt:v})}}s++}},c=f=>{if(f==null||f.status!==0)return f;ze(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(u);if(u){if(r===1||await u.confirmations()>=r)return c(u)}else if(await l(),r===0)return null;return await new Promise((f,h)=>{const p=[],m=()=>{p.forEach(g=>g())};if(p.push(()=>{a=!0}),i>0){const g=setTimeout(()=>{m(),h(xn("wait for transaction timeout","TIMEOUT"))},i);p.push(()=>{clearTimeout(g)})}const y=async g=>{if(await g.confirmations()>=r){m();try{f(c(g))}catch(v){h(v)}}};if(p.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),o>=0){const g=async()=>{try{await l()}catch(v){if(Cr(v,"TRANSACTION_REPLACED")){m(),h(v);return}}a||this.provider.once("block",g)};p.push(()=>{this.provider.off("block",g)}),this.provider.once("block",g)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return ze(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),U7(this)}reorderedEvent(e){return ze(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ze(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),D7(this,e)}replaceableTransaction(e){fe(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new Dm(this,this.provider);return n.#e=e,n}}function lfe(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function D7(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function U7(t){return{orphan:"drop-transaction",tx:t}}function cfe(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class AT extends Lm{interface;fragment;args;constructor(e,n,r){super(e,e.provider);const i=n.decodeEventLog(r,e.data,e.topics);Rt(this,{args:i,fragment:r,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class z7 extends Lm{error;constructor(e,n){super(e,e.provider),Rt(this,{error:n})}}class ufe extends L7{#e;constructor(e,n,r){super(r,n),this.#e=e}get logs(){return super.logs.map(e=>{const n=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(n)try{return new AT(e,this.#e,n)}catch(r){return new z7(e,r)}return e})}}class _T extends Dm{#e;constructor(e,n,r){super(r,n),this.#e=e}async wait(e,n){const r=await super.wait(e,n);return r==null?null:new ufe(this.#e,this.provider,r)}}class j7 extends m8{log;constructor(e,n,r,i){super(e,n,r),Rt(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class dfe extends j7{constructor(e,n,r,i,o){super(e,n,r,new AT(o,e.interface,i));const s=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Rt(this,{args:s,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const gP=BigInt(0);function H7(t){return t&&typeof t.call=="function"}function G7(t){return t&&typeof t.estimateGas=="function"}function l1(t){return t&&typeof t.resolveName=="function"}function W7(t){return t&&typeof t.sendTransaction=="function"}function V7(t){if(t!=null){if(l1(t))return t;if(t.provider)return t.provider}}class ffe{#e;fragment;constructor(e,n,r){if(Rt(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=nu(e.runner,"resolveName"),o=l1(i)?i:null;this.#e=async function(){const s=await Promise.all(n.inputs.map((a,l)=>r[l]==null?null:a.walkAsync(r[l],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(f=>ei(f,o))):ei(d,o):d)));return e.interface.encodeFilterTopics(n,s)}()}getTopicFilter(){return this.#e}}function nu(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function _c(t){return t==null?null:t.provider||null}async function $7(t,e){const n=Fn.dereference(t,"overrides");fe(typeof n=="object","invalid overrides parameter","overrides",t);const r=pv(n);return fe(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),fe(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function hfe(t,e,n){const r=nu(t,"resolveName"),i=l1(r)?r:null;return await Promise.all(e.map((o,s)=>o.walkAsync(n[s],(a,l)=>(l=Fn.dereference(l,a),a==="address"?ei(l,i):l))))}function pfe(t){const e=async function(s){const a=await $7(s,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await ei(a.from,V7(t.runner)));const l=t.interface,c=xt(a.value||gP,"overrides.value")===gP,u=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!u&&!c&&fe(!1,"cannot send data to receive or send value to non-payable fallback","overrides",s),fe(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const d=l.receive||l.fallback&&l.fallback.payable;return fe(d||c,"cannot send value to non-payable fallback","overrides.value",a.value),fe(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(s){const a=nu(t.runner,"call");ze(H7(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(s);try{return await a.call(l)}catch(c){throw aT(c)&&c.data?t.interface.makeError(c.data,l):c}},r=async function(s){const a=t.runner;ze(W7(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await e(s)),c=_c(t.runner);return new _T(t.interface,c,l)},i=async function(s){const a=nu(t.runner,"estimateGas");return ze(G7(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(s))},o=async s=>await r(s);return Rt(o,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),o}function mfe(t,e){const n=function(...c){const u=t.interface.getFunction(e,c);return ze(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),u},r=async function(...c){const u=n(...c);let d={};if(u.inputs.length+1===c.length&&(d=await $7(c.pop()),d.from&&(d.from=await ei(d.from,V7(t.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const f=await hfe(t.runner,u.inputs,c);return Object.assign({},d,await qr({to:t.getAddress(),data:t.interface.encodeFunctionData(u,f)}))},i=async function(...c){const u=await a(...c);return u.length===1?u[0]:u},o=async function(...c){const u=t.runner;ze(W7(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await u.sendTransaction(await r(...c)),f=_c(t.runner);return new _T(t.interface,f,d)},s=async function(...c){const u=nu(t.runner,"estimateGas");return ze(G7(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...c))},a=async function(...c){const u=nu(t.runner,"call");ze(H7(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await r(...c);let f="0x";try{f=await u.call(d)}catch(p){throw aT(p)&&p.data?t.interface.makeError(p.data,d):p}const h=n(...c);return t.interface.decodeFunctionResult(h,f)},l=async(...c)=>n(...c).constant?await i(...c):await o(...c);return Rt(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:s,populateTransaction:r,send:o,staticCall:i,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return ze(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),l}function gfe(t,e){const n=function(...i){const o=t.interface.getEvent(e,i);return ze(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),o},r=function(...i){return new ffe(t,n(...i),i)};return Rt(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return ze(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const mv=Symbol.for("_ethersInternal_contract"),q7=new WeakMap;function yfe(t,e){q7.set(t[mv],e)}function Li(t){return q7.get(t[mv])}function vfe(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function ST(t,e){let n,r=null;if(Array.isArray(e)){const o=function(s){if(mn(s,32))return s;const a=t.interface.getEvent(s);return fe(a,"unknown fragment","name",s),a.topicHash};n=e.map(s=>s==null?null:Array.isArray(s)?s.map(o):o(s))}else e==="*"?n=[null]:typeof e=="string"?mn(e,32)?n=[e]:(r=t.interface.getEvent(e),fe(r,"unknown fragment","event",e),n=[r.topicHash]):vfe(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):fe(!1,"unknown event name","event",e);n=n.map(o=>{if(o==null)return null;if(Array.isArray(o)){const s=Array.from(new Set(o.map(a=>a.toLowerCase())).values());return s.length===1?s[0]:(s.sort(),s)}return o.toLowerCase()});const i=n.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:r,tag:i,topics:n}}async function Th(t,e){const{subs:n}=Li(t);return n.get((await ST(t,e)).tag)||null}async function yP(t,e,n){const r=_c(t.runner);ze(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:o,topics:s}=await ST(t,n),{addr:a,subs:l}=Li(t);let c=l.get(o);if(!c){const d={address:a||t,topics:s},f=y=>{let g=i;if(g==null)try{g=t.interface.getEvent(y.topics[0])}catch{}if(g){const v=g,b=i?t.interface.decodeEventLog(i,y.data,y.topics):[];T2(t,n,b,x=>new dfe(t,x,n,v,y))}else T2(t,n,[],v=>new j7(t,v,n,y))};let h=[];c={tag:o,listeners:[],start:()=>{h.length||h.push(r.on(d,f))},stop:async()=>{if(h.length==0)return;let y=h;h=[],await Promise.all(y),r.off(d,f)}},l.set(o,c)}return c}let C2=Promise.resolve();async function wfe(t,e,n,r){await C2;const i=await Th(t,e);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:s,once:a})=>{const l=Array.from(n);r&&l.push(r(a?null:s));try{s.call(t,...l)}catch{}return!a}),i.listeners.length===0&&(i.stop(),Li(t).subs.delete(i.tag)),o>0}async function T2(t,e,n,r){try{await C2}catch{}const i=wfe(t,e,n,r);return C2=i,await i}const O0=["then"];class Xh{target;interface;runner;filters;[mv];fallback;constructor(e,n,r,i){fe(typeof e=="string"||Z8(e),"invalid value for Contract target","target",e),r==null&&(r=null);const o=sc.from(n);Rt(this,{target:e,runner:r,interface:o}),Object.defineProperty(this,mv,{value:{}});let s,a=null,l=null;if(i){const d=_c(r);l=new _T(this.interface,d,i)}let c=new Map;if(typeof e=="string")if(mn(e))a=e,s=Promise.resolve(e);else{const d=nu(r,"resolveName");if(!l1(d))throw xn("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=d.resolveName(e).then(f=>{if(f==null)throw xn("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Li(this).addr=f,f})}else s=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return Li(this).addr=d,d});yfe(this,{addrPromise:s,addr:a,deployTx:l,subs:c});const u=new Proxy({},{get:(d,f,h)=>{if(typeof f=="symbol"||O0.indexOf(f)>=0)return Reflect.get(d,f,h);try{return this.getEvent(f)}catch(p){if(!Cr(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(d,f)=>O0.indexOf(f)>=0?Reflect.has(d,f):Reflect.has(d,f)||this.interface.hasEvent(String(f))});return Rt(this,{filters:u}),Rt(this,{fallback:o.receive||o.fallback?pfe(this):null}),new Proxy(this,{get:(d,f,h)=>{if(typeof f=="symbol"||f in d||O0.indexOf(f)>=0)return Reflect.get(d,f,h);try{return d.getFunction(f)}catch(p){if(!Cr(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(d,f)=>typeof f=="symbol"||f in d||O0.indexOf(f)>=0?Reflect.has(d,f):d.interface.hasFunction(f)})}connect(e){return new Xh(this.target,this.interface,e)}attach(e){return new Xh(e,this.interface,this.runner)}async getAddress(){return await Li(this).addrPromise}async getDeployedCode(){const e=_c(this.runner);ze(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=_c(this.runner);return ze(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,o)=>{const s=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",s)}catch(a){o(a)}};s()})}deploymentTransaction(){return Li(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),mfe(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),gfe(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:o}=Li(this),s=i||await o,{fragment:a,topics:l}=await ST(this,e),c={address:s,topics:l,fromBlock:n,toBlock:r},u=_c(this.runner);return ze(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(d=>{let f=a;if(f==null)try{f=this.interface.getEvent(d.topics[0])}catch{}if(f)try{return new AT(d,this.interface,f)}catch(h){return new z7(d,h)}return new Lm(d,u)})}async on(e,n){const r=await yP(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await yP(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await T2(this,e,n,null)}async listenerCount(e){if(e){const i=await Th(this,e);return i?i.listeners.length:0}const{subs:n}=Li(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await Th(this,e);return i?i.listeners.map(({listener:o})=>o):[]}const{subs:n}=Li(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:o})=>o));return r}async off(e,n){const r=await Th(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:o})=>o).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Li(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await Th(this,e);if(!n)return this;n.stop(),Li(this).subs.delete(n.tag)}else{const{subs:n}=Li(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends Xh{constructor(i,o=null){super(i,e,o)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}}function bfe(){return Xh}class Td extends bfe(){}function nx(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):fe(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class xfe{name;constructor(e){Rt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const Q7=new RegExp("^(ipfs)://(.*)$","i"),vP=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Q7,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Md{provider;address;name;#e;#t;constructor(e,n,r){Rt(this,{provider:e,address:n,name:r}),this.#e=null,this.#t=new Td(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(Cr(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,n){n=(n||[]).slice();const r=this.#t.interface;n.unshift(S2(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),ze(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[Ode(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const o=await this.#t[e](...n);return i?r.decodeFunctionResult(i,o)[0]:o}catch(o){if(!Cr(o,"CALL_EXCEPTION"))throw o}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const o=await this.#n("addr(bytes32)");return o==null||o===Qp?null:o}catch(o){if(Cr(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648;const s=await this.#n("addr(bytes32,uint)",[o]);if(mn(s,20))return on(s)}let n=null;for(const o of this.provider.plugins)if(o instanceof xfe&&o.supportsCoinType(e)){n=o;break}if(n==null)return null;const r=await this.#n("addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;ze(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await this.#n("text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",o=parseInt(n[4],16);if(n[5].length===o*2)return`${i}://${Ile("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;ze(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<vP.length;r++){const i=n.match(vP[r]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const s=nx(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:s}),{linkage:e,url:s}}case"erc721":case"erc1155":{const s=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(i[2]||"").split("/");if(l.length!==2)return e.push({type:`!${o}caip`,value:i[2]||""}),{url:null,linkage:e};const c=l[1],u=new Td(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){const m=await u.ownerOf(c);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(o==="erc1155"){const m=await u.balanceOf(a,c);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let d=await u[s](c);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),o==="erc1155"&&(d=d.replace("{id}",Rl(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=nx(d)),e.push({type:"metadata-url",value:d});let f={};const h=await new Sa(d).send();h.assertOk();try{f=h.bodyJson}catch{try{e.push({type:"!metadata",value:h.bodyText})}catch{const g=h.body;return g&&e.push({type:"!metadata",value:ct(g)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let p=f.image;if(typeof p!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!p.match(/^(https:\/\/|data:)/i)){if(p.match(Q7)==null)return e.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:p}),p=nx(p)}return e.push({type:"url",value:p}),{linkage:e,url:p}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return ze(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async#r(e,n){const r=await Md.getEnsAddress(e);try{const o=await new Td(r,["function resolver(bytes32) view returns (address)"],e).resolver(S2(n),{enableCcipRead:!0});return o===Qp?null:o}catch(i){throw i}return null}static async fromName(e,n){let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const i=await Md.#r(e,r);if(i!=null){const o=new Md(e,i,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}}const wP=BigInt(0);function Vt(t,e){return function(n){return n==null?e:t(n)}}function em(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function Um(t,e){return n=>{const r={};for(const i in t){let o=i;if(e&&i in e&&!(o in n)){for(const s of e[i])if(s in n){o=s;break}}try{const s=t[i](n[o]);s!==void 0&&(r[i]=s)}catch(s){const a=s instanceof Error?s.message:"not-an-error";ze(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r}}function Efe(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}fe(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function sf(t){return fe(mn(t,!0),"invalid data","value",t),t}function _r(t){return fe(mn(t,32),"invalid hash","value",t),t}const Afe=Um({address:on,blockHash:_r,blockNumber:Ut,data:sf,index:Ut,removed:Vt(Efe,!1),topics:em(_r),transactionHash:_r,transactionIndex:Ut},{index:["logIndex"]});function _fe(t){return Afe(t)}const Sfe=Um({hash:Vt(_r),parentHash:_r,parentBeaconBlockRoot:Vt(_r,null),number:Ut,timestamp:Ut,nonce:Vt(sf),difficulty:xt,gasLimit:xt,gasUsed:xt,stateRoot:Vt(_r,null),receiptsRoot:Vt(_r,null),blobGasUsed:Vt(xt,null),excessBlobGas:Vt(xt,null),miner:Vt(on),prevRandao:Vt(_r,null),extraData:sf,baseFeePerGas:Vt(xt)},{prevRandao:["mixHash"]});function Cfe(t){const e=Sfe(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:K7(n)),e}const Tfe=Um({transactionIndex:Ut,blockNumber:Ut,transactionHash:_r,address:on,topics:em(_r),data:sf,index:Ut,blockHash:_r},{index:["logIndex"]});function Mfe(t){return Tfe(t)}const Ife=Um({to:Vt(on,null),from:Vt(on,null),contractAddress:Vt(on,null),index:Ut,root:Vt(ct),gasUsed:xt,blobGasUsed:Vt(xt,null),logsBloom:Vt(sf),blockHash:_r,hash:_r,logs:em(Mfe),blockNumber:Ut,cumulativeGasUsed:xt,effectiveGasPrice:Vt(xt),blobGasPrice:Vt(xt,null),status:Vt(Ut),type:Vt(Ut,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Rfe(t){return Ife(t)}function K7(t){t.to&&xt(t.to)===wP&&(t.to="0x0000000000000000000000000000000000000000");const e=Um({hash:_r,index:Vt(Ut,void 0),type:n=>n==="0x"||n==null?0:Ut(n),accessList:Vt(vu,null),blobVersionedHashes:Vt(em(_r,!0),null),authorizationList:Vt(em(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:on(n.address),chainId:xt(n.chainId),nonce:xt(n.nonce),signature:kn.from(r)}},!1),null),blockHash:Vt(_r,null),blockNumber:Vt(Ut,null),transactionIndex:Vt(Ut,null),from:on,gasPrice:Vt(xt),maxPriorityFeePerGas:Vt(xt),maxFeePerGas:Vt(xt),maxFeePerBlobGas:Vt(xt,null),gasLimit:xt,to:Vt(on,null),value:xt,nonce:Ut,data:sf,creates:Vt(on,null),chainId:Vt(xt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=vue(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=kn.from(t.signature):e.signature=kn.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&xt(e.blockHash)===wP&&(e.blockHash=null),e}const Pfe="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class zm{name;constructor(e){Rt(this,{name:e})}clone(){return new zm(this.name)}}class c1 extends zm{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,n){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function i(o,s){let a=(n||{})[o];a==null&&(a=s),fe(typeof a=="number",`invalud value for ${o}`,"costs",n),r[o]=a}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),Rt(this,r)}clone(){return new c1(this.effectiveBlock,this)}}class u1 extends zm{address;targetNetwork;constructor(e,n){super("org.ethers.plugins.network.Ens"),Rt(this,{address:e||Pfe,targetNetwork:n??1})}clone(){return new u1(this.address,this.targetNetwork)}}class Nfe extends zm{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=n}clone(){return this}}const rx=new Map;class qi{#e;#t;#n;constructor(e,n){this.#e=e,this.#t=xt(n),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=xt(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===xt(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===xt(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===xt(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new qi(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new c1;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=vu(e.accessList);for(const o in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[o].storageKeys.length}return r}static from(e){if(kfe(),e==null)return qi.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=rx.get(e);if(n)return n();if(typeof e=="bigint")return new qi("unknown",e);fe(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){fe(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new qi(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new u1(e.ensAddress,e.ensNetwork)),n}fe(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=rx.get(e);r&&fe(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),rx.set(e,n)}}function bP(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function xP(t){return new Nfe(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[o,s]=await Promise.all([r.send(),e()]);i=o;const a=i.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:bP(a.maxFee,9),maxPriorityFeePerGas:bP(a.maxPriorityFee,9)}}catch(o){ze(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:o})}})}let EP=!1;function kfe(){if(EP)return;EP=!0;function t(e,n,r){const i=function(){const o=new qi(e,n);return r.ensNetwork!=null&&o.attachPlugin(new u1(null,r.ensNetwork)),o.attachPlugin(new c1),(r.plugins||[]).forEach(s=>{o.attachPlugin(s)}),o};qi.register(e,i),qi.register(n,i),r.altNames&&r.altNames.forEach(o=>{qi.register(o,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[xP("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[xP("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function M2(t){return JSON.parse(JSON.stringify(t))}class Ffe{#e;#t;#n;#r;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#i(){try{const e=await this.#e.getBlockNumber();if(this.#r===-2){this.#r=e;return}if(e!==this.#r){for(let n=this.#r+1;n<=e;n++){if(this.#t==null)return;await this.#e.emit("block",n)}this.#r=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}}class CT{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=n=>{this._poll(n,this.#e)}}async _poll(e,n){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class Bfe extends CT{#e;#t;constructor(e,n){super(e),this.#e=n,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,n){const r=await n.getBlock(this.#e);r!=null&&(this.#t===-2?this.#t=r.number:r.number>this.#t&&(n.emit(this.#e,r.number),this.#t=r.number))}}class Ofe extends CT{#e;constructor(e,n){super(e),this.#e=M2(n)}async _poll(e,n){throw new Error("@TODO")}}class Lfe extends CT{#e;constructor(e,n){super(e),this.#e=n}async _poll(e,n){const r=await n.getTransactionReceipt(this.#e);r&&n.emit(this.#e,r)}}class TT{#e;#t;#n;#r;#i;constructor(e,n){this.#e=e,this.#t=M2(n),this.#n=this.#s.bind(this),this.#r=!1,this.#i=-2}async#s(e){if(this.#i===-2)return;const n=M2(this.#t);n.fromBlock=this.#i+1,n.toBlock=e;const r=await this.#e.getLogs(n);if(r.length===0){this.#i<e-60&&(this.#i=e-60);return}for(const i of r)this.#e.emit(this.#t,i),this.#i=i.blockNumber}start(){this.#r||(this.#r=!0,this.#i===-2&&this.#e.getBlockNumber().then(e=>{this.#i=e}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#i=-2)}resume(){this.start()}}const Dfe=BigInt(2),Ufe=10;function L0(t){return t&&typeof t.then=="function"}function Yg(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((o,s)=>(o[s]=r[s],o),{})}return r})}class X7{name;constructor(e){Rt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function zfe(t){return JSON.parse(JSON.stringify(t))}function I2(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function ix(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(mn(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:Yg("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:Yg("orphan",n),filter:zfe(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?I2(i.map(o=>o.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],o=[],s=a=>{mn(a)?i.push(a):o.push((async()=>{i.push(await ei(a,e))})())};Array.isArray(n.address)?n.address.forEach(s):s(n.address),o.length&&await Promise.all(o),r.address=I2(i.map(a=>a.toLowerCase()))}return{filter:r,tag:Yg("event",r),type:"event"}}fe(!1,"unknown ProviderEvent","event",t)}function ox(){return new Date().getTime()}const jfe={cacheTimeout:250,pollingInterval:4e3};class Hfe{#e;#t;#n;#r;#i;#s;#o;#a;#p;#u;#m;#h;constructor(e,n){if(this.#h=Object.assign({},jfe,n||{}),e==="any")this.#s=!0,this.#i=null;else if(e){const r=qi.from(e);this.#s=!1,this.#i=Promise.resolve(r),setTimeout(()=>{this.emit("network",r,null)},0)}else this.#s=!1,this.#i=null;this.#a=-1,this.#o=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#p=1,this.#u=new Map,this.#m=!1}get pollingInterval(){return this.#h.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#m}set disableCcipRead(e){this.#m=!!e}async#l(e){const n=this.#h.cacheTimeout;if(n<0)return await this._perform(e);const r=Yg(e.method,e);let i=this.#o.get(r);return i||(i=this._perform(e),this.#o.set(r,i),setTimeout(()=>{this.#o.get(r)===i&&this.#o.delete(r)},n)),await i}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),o=n.toLowerCase(),s=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",o),u=new Sa(c);l.indexOf("{data}")===-1&&(u.body={data:o,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let d="unknown error",f;try{f=await u.send()}catch(h){s.push(h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:h}});continue}try{const h=f.bodyJson;if(h.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:h}),h.data;h.message&&(d=h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:h})}catch{}ze(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:d}}),s.push(d)}ze(!1,`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:s}})}_wrapBlock(e,n){return new afe(Cfe(e),this)}_wrapLog(e,n){return new Lm(_fe(e),this)}_wrapTransactionReceipt(e,n){return new L7(Rfe(e),this)}_wrapTransactionResponse(e,n){return new Dm(K7(e),this)}_detectNetwork(){ze(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){ze(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Ut(await this.#l({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return ei(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(mn(e))return mn(e,32)?e:Wo(e);if(typeof e=="bigint"&&(e=Ut(e,"blockTag")),typeof e=="number")return e>=0?Wo(e):this.#a>=0?Wo(this.#a+e):this.getBlockNumber().then(n=>Wo(n+e));fe(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?I2(l.map(c=>c.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(l,c,u)=>{let d;switch(l.length){case 0:break;case 1:d=l[0];break;default:l.sort(),d=l}if(r&&(c!=null||u!=null))throw new Error("invalid filter");const f={};return d&&(f.address=d),n.length&&(f.topics=n),c&&(f.fromBlock=c),u&&(f.toBlock=u),r&&(f.blockHash=r),f};let o=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)o.push(this._getAddress(l));else o.push(this._getAddress(e.address));let s;"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),o.filter(l=>typeof l!="string").length||s!=null&&typeof s!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(o),s,a]).then(l=>i(l[0],l[1],l[2])):i(o,s,a)}_getTransactionRequest(e){const n=pv(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const o=ei(n[i],this);L0(o)?r.push(async function(){n[i]=await o}()):n[i]=o}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);L0(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(this.#i==null){const i=(async()=>{try{const o=await this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw this.#i===i&&(this.#i=null),o}})();return this.#i=i,(await i).clone()}const e=this.#i,[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(this.#s?(this.emit("network",r,n),this.#i===e&&(this.#i=Promise.resolve(r))):ze(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:o,priorityFee:s}=await qr({_block:this.#y("latest",!1),gasPrice:(async()=>{try{const u=await this.#l({method:"getGasPrice"});return xt(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await this.#l({method:"getPriorityFee"});return xt(u,"%response")}catch{}return null})()});let a=null,l=null;const c=this._wrapBlock(i,e);return c&&c.baseFeePerGas&&(l=s??BigInt("1000000000"),a=c.baseFeePerGas*Dfe+l),new mP(o,a,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new Sa(r.url),o=await r.processFunc(n,this,i);return new mP(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return L0(n)&&(n=await n),xt(await this.#l({method:"estimateGas",transaction:n}),"%response")}async#c(e,n,r){ze(r<Ufe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=pv(e);try{return ct(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(o){if(!this.disableCcipRead&&aT(o)&&o.data&&r>=0&&n==="latest"&&i.to!=null&&Pn(o.data,0,4)==="0x556f1830"){const s=o.data,a=await ei(i.to,this);let l;try{l=qfe(Pn(o.data,4))}catch(d){ze(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:s}})}ze(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(i,l.calldata,l.urls);ze(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:o.data,errorArgs:l.errorArgs}});const u={to:a,data:On([l.selector,$fe([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const d=await this.#c(u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw o}}async#d(e){const{value:n}=await qr({network:this.getNetwork(),value:e});return n}async call(e){const{tx:n,blockTag:r}=await qr({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#d(this.#c(n,r,e.enableCcipRead?0:-1))}async#f(e,n,r){let i=this._getAddress(n),o=this._getBlockTag(r);return(typeof i!="string"||typeof o!="string")&&([i,o]=await Promise.all([i,o])),await this.#d(this.#l(Object.assign(e,{address:i,blockTag:o})))}async getBalance(e,n){return xt(await this.#f({method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Ut(await this.#f({method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return ct(await this.#f({method:"getCode"},e,n))}async getStorage(e,n,r){const i=xt(n,"position");return ct(await this.#f({method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await qr({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=Uo.from(e);if(o.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,i).replaceableTransaction(n)}async#y(e,n){if(mn(e,32))return await this.#l({method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await this.#l({method:"getBlock",blockTag:r,includeTransactions:n})}async getBlock(e,n){const{network:r,params:i}=await qr({network:this.getNetwork(),params:this.#y(e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await qr({network:this.getNetwork(),params:this.#l({method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await qr({network:this.getNetwork(),params:this.#l({method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await this.#l({method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await qr({network:this.getNetwork(),result:this.#l({method:"getTransactionResult",hash:e})});return n==null?null:ct(n)}async getLogs(e){let n=this._getFilter(e);L0(n)&&(n=await n);const{network:r,params:i}=await qr({network:this.getNetwork(),params:this.#l({method:"getLogs",filter:n})});return i.map(o=>this._wrapLog(o,r))}_getProvider(e){ze(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Md.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=on(e);const n=S2(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await Md.getEnsAddress(this),o=await new Td(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(o==null||o===Qp)return null;const a=await new Td(o,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(Cr(r,"BAD_DATA")&&r.value==="0x"||Cr(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(o,s)=>{let a=null;const l=async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=i){o(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",l)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),s(xn("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){ze(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=this.#u.get(e);n&&(n.timer&&clearTimeout(n.timer),this.#u.delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=this.#p++,i=()=>{this.#u.delete(r),e()};if(this.paused)this.#u.set(r,{timer:null,func:i,time:n});else{const o=setTimeout(i,n);this.#u.set(r,{timer:o,func:i,time:ox()})}return r}_forEachSubscriber(e){for(const n of this.#e.values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new X7(e.type);case"block":{const n=new Ffe(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new Bfe(this,e.type);case"event":return new TT(this,e.filter);case"transaction":return new Lfe(this,e.hash);case"orphan":return new Ofe(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of this.#e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),this.#n!=null&&n.pause(this.#n);break}}async#g(e,n){let r=await ix(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await ix({orphan:"drop-log",log:n[0]},this)),this.#e.get(r.tag)||null}async#v(e){const n=await ix(e,this),r=n.tag;let i=this.#e.get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(r,i)),i}async on(e,n){const r=await this.#v(e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async once(e,n){const r=await this.#v(e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async emit(e,...n){const r=await this.#g(e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:o,once:s})=>{const a=new m8(this,s?null:o,e);try{o.call(this,...n,a)}catch{}return!s}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await this.#g(e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of this.#e.values())n+=r.length;return n}async listeners(e){if(e){const r=await this.#g(e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of this.#e.values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await this.#g(e);if(!r)return this;if(n){const i=r.listeners.map(({listener:o})=>o).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await this.#v(e);r&&i.stop(),this.#e.delete(n)}else for(const[n,{started:r,subscriber:i}]of this.#e)r&&i.stop(),this.#e.delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(const e of this.#u.keys())this._clearTimeout(e);this.#r=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#n!=null){if(this.#n==!!e)return;ze(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),this.#n=!!e;for(const n of this.#u.values())n.timer&&clearTimeout(n.timer),n.time=ox()-n.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(const e of this.#u.values()){let n=e.time;n<0&&(n=0),e.time=ox(),setTimeout(e.func,n)}}}}function Gfe(t,e){try{const n=R2(t,e);if(n)return av(n)}catch{}return null}function R2(t,e){if(t==="0x")return null;try{const n=Ut(Pn(t,e,e+32)),r=Ut(Pn(t,n,n+32));return Pn(t,n+32,n+32+r)}catch{}return null}function AP(t){const e=or(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function Wfe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const Vfe=new Uint8Array([]);function $fe(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(Vfe),n+=32;for(let r=0;r<t.length;r++){const i=Dt(t[r]);e[r]=AP(n),e.push(AP(i.length)),e.push(Wfe(i)),n+=32+Math.ceil(i.length/32)*32}return On(e)}const _P="0x0000000000000000000000000000000000000000000000000000000000000000";function qfe(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};ze(_d(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Pn(t,0,32);ze(Pn(n,0,12)===Pn(_P,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Pn(n,12);try{const r=[],i=Ut(Pn(t,32,64)),o=Ut(Pn(t,i,i+32)),s=Pn(t,i+32);for(let a=0;a<o;a++){const l=Gfe(s,a*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{ze(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=R2(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{ze(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}ze(Pn(t,100,128)===Pn(_P,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Pn(t,96,100);try{const r=R2(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{ze(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Vl(t,e){if(t.provider)return t.provider;ze(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function SP(t,e){let n=pv(e);if(n.to!=null&&(n.to=ei(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),ei(r,t)]).then(([i,o])=>(fe(i.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),i))}else n.from=t.getAddress();return await qr(n)}class Qfe{provider;constructor(e){Rt(this,{provider:e||null})}async getNonce(e){return Vl(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await SP(this,e)}async populateTransaction(e){const n=Vl(this,"populateTransaction"),r=await SP(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const s=xt(r.chainId);fe(s===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const o=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||o)?fe(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&o&&fe(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const s=await n.getFeeData();ze(s.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice)}else{const s=await n.getFeeData();if(r.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(ze(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice),r.type=0):ze(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return await qr(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await Vl(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return Vl(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Vl(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Vl(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Vl(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=Uo.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){ze(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function Kfe(t){return JSON.parse(JSON.stringify(t))}class Y7{#e;#t;#n;#r;#i;#s;constructor(e){this.#e=e,this.#t=null,this.#n=this.#o.bind(this),this.#r=!1,this.#i=null,this.#s=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#o(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let n=null;try{n=await this.#t}catch(o){if(!Cr(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(n==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const r=await this.#e.getNetwork();if(this.#i||(this.#i=r),this.#i.chainId!==r.chainId)throw new Error("chaid changed");if(this.#s)return;const i=await this.#e.send("eth_getFilterChanges",[n]);await this._emitResults(this.#e,i)}catch(n){console.log("@TODO",n)}this.#e.once("block",this.#n)}#a(){const e=this.#t;e&&(this.#t=null,e.then(n=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[n])}))}start(){this.#r||(this.#r=!0,this.#o(-2))}stop(){this.#r&&(this.#r=!1,this.#s=!0,this.#a(),this.#e.off("block",this.#n))}pause(e){e&&this.#a(),this.#e.off("block",this.#n)}resume(){this.start()}}class Xfe extends Y7{#e;constructor(e,n){super(e),this.#e=Kfe(n)}_recover(e){return new TT(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,n){for(const r of n)e.emit(this.#e,e._wrapLog(r,e._network))}}class Yfe extends Y7{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const Jfe="bigint,boolean,function,number,string,symbol".split(/,/g);function Jg(t){if(t==null||Jfe.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Jg);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function Zfe(t){return new Promise(e=>{setTimeout(e,t)})}function Ru(t){return t&&t.toLowerCase()}function CP(t){return t&&typeof t.pollingInterval=="number"}const J7={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class sx extends Qfe{address;constructor(e,n){super(e),n=on(n),Rt(this,{address:n})}connect(e){ze(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const n=Jg(e),r=[];if(n.from){const o=n.from;r.push((async()=>{const s=await ei(o,this.provider);fe(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=s})())}else n.from=this.address;if(n.gasLimit==null&&r.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;r.push((async()=>{n.to=await ei(o,this.provider)})())}r.length&&await Promise.all(r);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const n=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((i,o)=>{const s=[1e3,100];let a=0;const l=async()=>{try{const c=await this.provider.getTransaction(r);if(c!=null){i(c.replaceableTransaction(n));return}}catch(c){if(Cr(c,"CANCELLED")||Cr(c,"BAD_DATA")||Cr(c,"NETWORK_ERROR")||Cr(c,"UNSUPPORTED_OPERATION")){c.info==null&&(c.info={}),c.info.sendTransactionHash=r,o(c);return}if(Cr(c,"INVALID_ARGUMENT")&&(a++,c.info==null&&(c.info={}),c.info.sendTransactionHash=r,a>10)){o(c);return}this.provider.emit("error",xn("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:c}))}this.provider._setTimeout(()=>{l()},s.pop()||4e3)};l()})}async signTransaction(e){const n=Jg(e);if(n.from){const i=await ei(n.from,this.provider);fe(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=i}else n.from=this.address;const r=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const n=typeof e=="string"?ha(e):e;return await this.provider.send("personal_sign",[ct(n),this.address.toLowerCase()])}async signTypedData(e,n,r){const i=Jg(r),o=await Oi.resolveNames(e,n,i,async s=>{const a=await ei(s);return fe(a!=null,"TypedData does not support null address","value",s),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Oi.getPayload(o.domain,n,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const n=typeof e=="string"?ha(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ct(n)])}}class ehe extends Hfe{#e;#t;#n;#r;#i;#s;#o;#a(){if(this.#r)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;const n=this.#n;for(this.#n=[];n.length;){const r=[n.shift()];for(;n.length&&r.length!==this.#e.batchMaxCount;)if(r.push(n.shift()),JSON.stringify(r.map(o=>o.payload)).length>this.#e.batchMaxSize){n.unshift(r.pop());break}(async()=>{const i=r.length===1?r[0].payload:r.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:s,reject:a,payload:l}of r){if(this.destroyed){a(xn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const c=o.filter(u=>u.id===l.id)[0];if(c==null){const u=xn("missing response for request","BAD_DATA",{value:o,info:{payload:l}});this.emit("error",u),a(u);continue}if("error"in c){a(this.getRpcError(l,c));continue}s(c.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:s}of r)s(o)}})()}},e)}constructor(e,n){super(e,n),this.#t=1,this.#e=Object.assign({},J7,n||{}),this.#n=[],this.#r=null,this.#s=null,this.#o=null;{let i=null;const o=new Promise(s=>{i=s});this.#i={promise:o,resolve:i}}const r=this._getOption("staticNetwork");typeof r=="boolean"?(fe(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",n),r&&e!=null&&(this.#s=qi.from(e))):r&&(fe(e==null||r.matches(e),"staticNetwork MUST match network object","options",n),this.#s=r)}_getOption(e){return this.#e[e]}get _network(){return ze(this.#s,"network is not available yet","NETWORK_ERROR"),this.#s}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&xt(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}const n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#s)return this.#s}else return e;return this.#o?await this.#o:this.ready?(this.#o=(async()=>{try{const n=qi.from(xt(await this.send("eth_chainId",[])));return this.#o=null,n}catch(n){throw this.#o=null,n}})(),await this.#o):(this.#o=(async()=>{const n={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let r;try{r=(await this._send(n))[0],this.#o=null}catch(i){throw this.#o=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return qi.from(xt(r.result));throw this.getRpcError(n,r)})(),await this.#o)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#s==null&&!this.destroyed;)try{this.#s=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",xn("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Zfe(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(e){return e.type==="pending"?new Yfe(this):e.type==="event"?this._getOption("polling")?new TT(this,e.filter):new Xfe(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new X7("orphan"):super._getSubscriber(e)}get ready(){return this.#i==null}getRpcTransaction(e){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let i=r;r==="gasLimit"&&(i="gas"),n[i]=Wo(xt(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(n[r]=ct(e[r]))}),e.accessList&&(n.accessList=vu(e.accessList)),e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes.map(r=>r.toLowerCase())),e.authorizationList&&(n.authorizationList=e.authorizationList.map(r=>{const i=r7(r);return{address:i.address,nonce:Wo(i.nonce),chainId:Wo(i.chainId),yParity:Wo(i.signature.yParity),r:Wo(i.signature.r),s:Wo(i.signature.s)}})),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ru(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ru(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ru(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ru(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Ru):e.filter.address=Ru(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){const{method:r}=e,{error:i}=n;if(r==="eth_estimateGas"&&i.message){const a=i.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return xn("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return xn("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if(r==="eth_call"||r==="eth_estimateGas"){const a=P2(i),l=of.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return l.info={error:i,payload:e},l}const o=JSON.stringify(nhe(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return xn("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){const a=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return xn("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return xn("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return xn("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:i}});if(o.match(/only replay-protected/i))return xn("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:a,info:{error:i}}})}let s=!!o.match(/the method .* does not exist/i);return s||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(s=!0),s?xn("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):xn("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(xn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#t++,i=new Promise((o,s)=>{this.#n.push({resolve:o,reject:s,payload:{method:e,params:n,id:r,jsonrpc:"2.0"}})});return this.#a(),i}async getSigner(e){e==null&&(e=0);const n=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await n;if(e>=i.length)throw new Error("no such account");return new sx(this,i[e])}const{accounts:r}=await qr({network:this.getNetwork(),accounts:n});e=on(e);for(const i of r)if(on(i)===e)return new sx(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new sx(this,n))}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(const{payload:e,reject:n}of this.#n)n(xn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}}class the extends ehe{#e;constructor(e,n){super(e,n);let r=this._getOption("pollingInterval");r==null&&(r=J7.pollingInterval),this.#e=r}_getSubscriber(e){const n=super._getSubscriber(e);return CP(n)&&(n.pollingInterval=this.#e),n}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(n=>{CP(n)&&(n.pollingInterval=this.#e)})}}function P2(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&mn(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=P2(t[e]);if(n)return n}return null}if(typeof t=="string")try{return P2(JSON.parse(t))}catch{}return null}function N2(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)N2(t[n],e);if(typeof t=="string")try{return N2(JSON.parse(t),e)}catch{}}}function nhe(t){const e=[];return N2(t,e),e}class ac extends the{#e;#t;constructor(e,n,r){const i=Object.assign({},r??{},{batchMaxCount:1});fe(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(n,i),this.#t=null,r&&r.providerInfo&&(this.#t=r.providerInfo),this.#e=async(o,s)=>{const a={method:o,params:s};this.emit("debug",{action:"sendEip1193Request",payload:a});try{const l=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){const c=new Error(l.message);throw c.code=l.code,c.data=l.data,c.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:c}),c}}}get providerInfo(){return this.#t}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){fe(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const n=await this.#e(e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);const n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(n){const r=n.payload;throw this.getRpcError(r,{id:r.id,error:n})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new ac(e.provider);const n=e.window?e.window:typeof window<"u"?window:null;if(n==null)return null;const r=e.anyProvider;if(r&&n.ethereum)return new ac(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const i=e.timeout?e.timeout:300;return i===0?null:await new Promise((o,s)=>{let a=[];const l=d=>{a.push(d.detail),r&&c()},c=()=>{if(clearTimeout(u),a.length)if(e&&e.filter){const d=e.filter(a.map(f=>Object.assign({},f.info)));if(d==null)o(null);else if(d instanceof ac)o(d);else{let f=null;if(d.uuid&&(f=a.filter(p=>d.uuid===p.info.uuid)[0]),f){const{provider:h,info:p}=f;o(new ac(h,void 0,{providerInfo:p}))}else s(xn("filter returned unknown info","UNSUPPORTED_OPERATION",{value:d}))}}else{const{provider:d,info:f}=a[0];o(new ac(d,void 0,{providerInfo:f}))}else o(null);n.removeEventListener("eip6963:announceProvider",l)},u=setTimeout(()=>{c()},i);n.addEventListener("eip6963:announceProvider",l),n.dispatchEvent(new Event("eip6963:requestProvider"))})}}const Z7=U.createContext(),Ni=()=>{const t=U.useContext(Z7);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},rhe=({children:t})=>{const{showSuccess:e,showError:n,showInfo:r}=Ls(),{address:i,isConnected:o,isConnecting:s}=Rr(),a=Tm(),{switchChain:l}=pL(),{data:c}=mL(),u=MC(),[d,f]=U.useState([]),[h,p]=U.useState(!1),m={1:{name:"Ethereum",symbol:"ETH",network:ke.ETH_MAINNET},137:{name:"Polygon",symbol:"MATIC",network:ke.MATIC_MAINNET},8453:{name:"Base",symbol:"ETH",network:ke.BASE_MAINNET},42161:{name:"Arbitrum",symbol:"ETH",network:ke.ARB_MAINNET},10:{name:"Optimism",symbol:"ETH",network:ke.OPT_MAINNET},56:{name:"BSC",symbol:"BNB",network:ke.BSC_MAINNET},43114:{name:"Avalanche",symbol:"AVAX",network:ke.AVAX_MAINNET}},y=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),g=async()=>{try{await l({chainId:8453}),e("Switched to Base network")}catch(P){console.error("Network switch error:",P),n("Failed to switch to Base network")}},v=async()=>{if(i){p(!0);try{const P=m[a];if(!P)throw new Error("Unsupported network");const N="hoaKpKFy40ibWtxftFZbJNUk5NQoL0R3";console.log("Using Alchemy API key:",N);const _=new Ale({apiKey:N,network:P.network});console.log(" Loading NFTs for:",{address:i,chain:P.name,network:P.network});let D=[],T=null;do{const z=await _.nft.getNftsForOwner(i,{omitMetadata:!1,pageKey:T});console.log(" Raw NFTs from Alchemy:",{count:z.ownedNfts.length,pageKey:z.pageKey,totalCount:z.totalCount}),D=[...D,...z.ownedNfts],T=z.pageKey}while(T);console.log(" Total NFTs found:",D.length);const E=await Promise.all(D.map(async z=>({contractAddress:z.contract.address,tokenId:z.tokenId,name:z.title||z.name||`#${z.tokenId}`,collection:z.contract.name||"Unknown Collection",image:z.media?.[0]?.gateway||z.media?.[0]?.raw||z.image?.originalUrl||z.image?.cachedUrl||"",chain:P.name,description:z.description||"",animationUrl:z.media?.[0]?.format==="mp4"?z.media[0].gateway:z.animation_url||""})));console.log(" Loaded NFTs:",{count:E.length,nfts:E}),f(E)}catch(P){console.error(" Error loading NFTs:",P),n("Failed to load NFTs: "+P.message)}finally{p(!1)}}};U.useEffect(()=>{i?v():f([])},[i,a]),U.useEffect(()=>{o&&i&&e(`Connected to ${i.slice(0,6)}...${i.slice(-4)}`)},[o,i]),U.useEffect(()=>{console.log(" WalletContext state:",{isConnected:o,address:i,chainId:a,hasWalletClient:!!c,hasPublicClient:!!u,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)})},[o,i,a,c,u]);const b=()=>{if(c&&c.transport)try{return{getSigner:()=>(console.warn("getSigner() is deprecated. Use walletClient directly for transactions."),null)}}catch(P){console.error("Failed to create provider wrapper:",P)}if(window.ethereum)try{return new ac(window.ethereum)}catch(P){console.error("Failed to create ethers provider:",P)}return null},x={isConnected:o,isConnecting:s,loading:h,address:i,chainId:a,chain:m[a]||{name:"Unknown",symbol:"ETH"},chains:m,switchChain:l,switchToBase:g,nfts:d,loadNFTs:v,isMobile:y,walletClient:c,publicClient:u,provider:b()};return F(Z7.Provider,{value:x,children:t})},e9=U.createContext(),d1=()=>{const t=U.useContext(e9);if(!t)throw new Error("useProfile must be used within a ProfileProvider");return t},ihe=({children:t})=>{const{address:e}=Ni(),[n,r]=U.useState({});U.useEffect(()=>{const h=localStorage.getItem("userProfiles");h&&r(JSON.parse(h))},[]),U.useEffect(()=>{localStorage.setItem("userProfiles",JSON.stringify(n))},[n]);const f={getPlayerName:async h=>n[h]?.name||"",setPlayerName:async(h,p)=>{r(m=>({...m,[h]:{...m[h],name:p}}))},getProfilePicture:async h=>n[h]?.image||"",setProfilePicture:async(h,p)=>{r(m=>({...m,[h]:{...m[h],image:p}}))},getCoinHeadsImage:async h=>n[h]?.coinHeadsImage||null,setCoinHeadsImage:async(h,p)=>{r(m=>({...m,[h]:{...m[h],coinHeadsImage:p}}))},getCoinTailsImage:async h=>n[h]?.coinTailsImage||null,setCoinTailsImage:async(h,p)=>{r(m=>({...m,[h]:{...m[h],coinTailsImage:p}}))}};return F(e9.Provider,{value:f,children:t})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function En(){return En=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},En.apply(this,arguments)}var $n;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($n||($n={}));const TP="popstate";function ohe(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return tm("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ru(i)}return ahe(e,n,null,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function af(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function she(){return Math.random().toString(36).substr(2,8)}function MP(t,e){return{usr:t.state,key:t.key,idx:e}}function tm(t,e,n,r){return n===void 0&&(n=null),En({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zl(e):e,{state:n,key:e&&e.key||r||she()})}function ru(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ahe(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=$n.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(En({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=$n.Pop;let y=u(),g=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:g})}function f(y,g){a=$n.Push;let v=tm(m.location,y,g);c=u()+1;let b=MP(v,c),x=m.createHref(v);try{s.pushState(b,"",x)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(x)}o&&l&&l({action:a,location:m.location,delta:1})}function h(y,g){a=$n.Replace;let v=tm(m.location,y,g);c=u();let b=MP(v,c),x=m.createHref(v);s.replaceState(b,"",x),o&&l&&l({action:a,location:m.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:ru(y);return v=v.replace(/ $/,"%20"),Gt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return a},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(TP,d),l=y,()=>{i.removeEventListener(TP,d),l=null}},createHref(y){return e(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(y){return s.go(y)}};return m}var an;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(an||(an={}));const lhe=new Set(["lazy","caseSensitive","path","id","index","children"]);function che(t){return t.index===!0}function gv(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],a=typeof i.id=="string"?i.id:s.join("-");if(Gt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Gt(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),che(i)){let l=En({},i,e(i),{id:a});return r[a]=l,l}else{let l=En({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=gv(i.children,e,s,r)),l}})}function lc(t,e,n){return n===void 0&&(n="/"),Zg(t,e,n,!1)}function Zg(t,e,n,r){let i=typeof e=="string"?zl(e):e,o=Ff(i.pathname||"/",n);if(o==null)return null;let s=t9(t);dhe(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=Ehe(o);a=bhe(s[l],c,r)}return a}function uhe(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function t9(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Gt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ma([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Gt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),t9(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:vhe(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of n9(o.path))i(o,s,l)}),e}function n9(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=n9(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function dhe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:whe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fhe=/^:[\w-]+$/,hhe=3,phe=2,mhe=1,ghe=10,yhe=-2,IP=t=>t==="*";function vhe(t,e){let n=t.split("/"),r=n.length;return n.some(IP)&&(r+=yhe),e&&(r+=phe),n.filter(i=>!IP(i)).reduce((i,o)=>i+(fhe.test(o)?hhe:o===""?mhe:ghe),r)}function whe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bhe(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=RP({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=RP({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:ma([o,d.pathname]),pathnameBase:She(ma([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=ma([o,d.pathnameBase]))}return s}function RP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xhe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let m=a[d]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return h&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function xhe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),af(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ehe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return af(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ff(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ahe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zl(t):t;return{pathname:n?n.startsWith("/")?n:_he(n,e):e,search:Che(r),hash:The(i)}}function _he(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ax(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function r9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function MT(t,e){let n=r9(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function IT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zl(t):(i=En({},t),Gt(!i.pathname||!i.pathname.includes("?"),ax("?","pathname","search",i)),Gt(!i.pathname||!i.pathname.includes("#"),ax("#","pathname","hash",i)),Gt(!i.search||!i.search.includes("#"),ax("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Ahe(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ma=t=>t.join("/").replace(/\/\/+/g,"/"),She=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Che=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,The=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class yv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function nm(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const i9=["post","put","patch","delete"],Mhe=new Set(i9),Ihe=["get",...i9],Rhe=new Set(Ihe),Phe=new Set([301,302,303,307,308]),Nhe=new Set([307,308]),lx={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},khe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ah={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},RT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fhe=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),o9="remix-router-transitions";function Bhe(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Gt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let ie=t.detectErrorBoundary;i=he=>({hasErrorBoundary:ie(he)})}else i=Fhe;let o={},s=gv(t.routes,i,void 0,o),a,l=t.basename||"/",c=t.dataStrategy||Uhe,u=t.patchRoutesOnNavigation,d=En({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,h=new Set,p=null,m=null,y=null,g=t.hydrationData!=null,v=lc(s,t.history.location,l),b=!1,x=null;if(v==null&&!u){let ie=di(404,{pathname:t.history.location.pathname}),{matches:he,route:me}=jP(s);v=he,x={[me.id]:ie}}v&&!t.hydrationData&&Pt(v,s,t.history.location.pathname).active&&(v=null);let P;if(v)if(v.some(ie=>ie.route.lazy))P=!1;else if(!v.some(ie=>ie.route.loader))P=!0;else if(d.v7_partialHydration){let ie=t.hydrationData?t.hydrationData.loaderData:null,he=t.hydrationData?t.hydrationData.errors:null;if(he){let me=v.findIndex(Ce=>he[Ce.route.id]!==void 0);P=v.slice(0,me+1).every(Ce=>!F2(Ce.route,ie,he))}else P=v.every(me=>!F2(me.route,ie,he))}else P=t.hydrationData!=null;else if(P=!1,v=[],d.v7_partialHydration){let ie=Pt(null,s,t.history.location.pathname);ie.active&&ie.matches&&(b=!0,v=ie.matches)}let N,_={historyAction:t.history.action,location:t.history.location,matches:v,initialized:P,navigation:lx,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},D=$n.Pop,T=!1,E,z=!1,W=new Map,B=null,w=!1,A=!1,C=[],k=new Set,I=new Map,H=0,G=-1,L=new Map,M=new Set,$=new Map,J=new Map,te=new Set,oe=new Map,le=new Map,Te;function Ne(){if(f=t.history.listen(ie=>{let{action:he,location:me,delta:Ce}=ie;if(Te){Te(),Te=void 0;return}af(le.size===0||Ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let nt=it({currentLocation:_.location,nextLocation:me,historyAction:he});if(nt&&Ce!=null){let Ze=new Promise(at=>{Te=at});t.history.go(Ce*-1),ae(nt,{state:"blocked",location:me,proceed(){ae(nt,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),Ze.then(()=>t.history.go(Ce))},reset(){let at=new Map(_.blockers);at.set(nt,ah),Re({blockers:at})}});return}return Et(he,me)}),n){Zhe(e,W);let ie=()=>epe(e,W);e.addEventListener("pagehide",ie),B=()=>e.removeEventListener("pagehide",ie)}return _.initialized||Et($n.Pop,_.location,{initialHydration:!0}),N}function Ae(){f&&f(),B&&B(),h.clear(),E&&E.abort(),_.fetchers.forEach((ie,he)=>Y(he)),_.blockers.forEach((ie,he)=>rt(he))}function Be(ie){return h.add(ie),()=>h.delete(ie)}function Re(ie,he){he===void 0&&(he={}),_=En({},_,ie);let me=[],Ce=[];d.v7_fetcherPersist&&_.fetchers.forEach((nt,Ze)=>{nt.state==="idle"&&(te.has(Ze)?Ce.push(Ze):me.push(Ze))}),te.forEach(nt=>{!_.fetchers.has(nt)&&!I.has(nt)&&Ce.push(nt)}),[...h].forEach(nt=>nt(_,{deletedFetchers:Ce,viewTransitionOpts:he.viewTransitionOpts,flushSync:he.flushSync===!0})),d.v7_fetcherPersist?(me.forEach(nt=>_.fetchers.delete(nt)),Ce.forEach(nt=>Y(nt))):Ce.forEach(nt=>te.delete(nt))}function ut(ie,he,me){var Ce,nt;let{flushSync:Ze}=me===void 0?{}:me,at=_.actionData!=null&&_.navigation.formMethod!=null&&jo(_.navigation.formMethod)&&_.navigation.state==="loading"&&((Ce=ie.state)==null?void 0:Ce._isRedirect)!==!0,ht;he.actionData?Object.keys(he.actionData).length>0?ht=he.actionData:ht=null:at?ht=_.actionData:ht=null;let Qe=he.loaderData?UP(_.loaderData,he.loaderData,he.matches||[],he.errors):_.loaderData,Ve=_.blockers;Ve.size>0&&(Ve=new Map(Ve),Ve.forEach((Ct,gn)=>Ve.set(gn,ah)));let gt=T===!0||_.navigation.formMethod!=null&&jo(_.navigation.formMethod)&&((nt=ie.state)==null?void 0:nt._isRedirect)!==!0;a&&(s=a,a=void 0),w||D===$n.Pop||(D===$n.Push?t.history.push(ie,ie.state):D===$n.Replace&&t.history.replace(ie,ie.state));let yt;if(D===$n.Pop){let Ct=W.get(_.location.pathname);Ct&&Ct.has(ie.pathname)?yt={currentLocation:_.location,nextLocation:ie}:W.has(ie.pathname)&&(yt={currentLocation:ie,nextLocation:_.location})}else if(z){let Ct=W.get(_.location.pathname);Ct?Ct.add(ie.pathname):(Ct=new Set([ie.pathname]),W.set(_.location.pathname,Ct)),yt={currentLocation:_.location,nextLocation:ie}}Re(En({},he,{actionData:ht,loaderData:Qe,historyAction:D,location:ie,initialized:!0,navigation:lx,revalidation:"idle",restoreScrollPosition:sn(ie,he.matches||_.matches),preventScrollReset:gt,blockers:Ve}),{viewTransitionOpts:yt,flushSync:Ze===!0}),D=$n.Pop,T=!1,z=!1,w=!1,A=!1,C=[]}async function ee(ie,he){if(typeof ie=="number"){t.history.go(ie);return}let me=k2(_.location,_.matches,l,d.v7_prependBasename,ie,d.v7_relativeSplatPath,he?.fromRouteId,he?.relative),{path:Ce,submission:nt,error:Ze}=PP(d.v7_normalizeFormMethod,!1,me,he),at=_.location,ht=tm(_.location,Ce,he&&he.state);ht=En({},ht,t.history.encodeLocation(ht));let Qe=he&&he.replace!=null?he.replace:void 0,Ve=$n.Push;Qe===!0?Ve=$n.Replace:Qe===!1||nt!=null&&jo(nt.formMethod)&&nt.formAction===_.location.pathname+_.location.search&&(Ve=$n.Replace);let gt=he&&"preventScrollReset"in he?he.preventScrollReset===!0:void 0,yt=(he&&he.flushSync)===!0,Ct=it({currentLocation:at,nextLocation:ht,historyAction:Ve});if(Ct){ae(Ct,{state:"blocked",location:ht,proceed(){ae(Ct,{state:"proceeding",proceed:void 0,reset:void 0,location:ht}),ee(ie,he)},reset(){let gn=new Map(_.blockers);gn.set(Ct,ah),Re({blockers:gn})}});return}return await Et(Ve,ht,{submission:nt,pendingError:Ze,preventScrollReset:gt,replace:he&&he.replace,enableViewTransition:he&&he.viewTransition,flushSync:yt})}function _t(){if(j(),Re({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){Et(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}Et(D||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:z===!0})}}async function Et(ie,he,me){E&&E.abort(),E=null,D=ie,w=(me&&me.startUninterruptedRevalidation)===!0,bt(_.location,_.matches),T=(me&&me.preventScrollReset)===!0,z=(me&&me.enableViewTransition)===!0;let Ce=a||s,nt=me&&me.overrideNavigation,Ze=me!=null&&me.initialHydration&&_.matches&&_.matches.length>0&&!b?_.matches:lc(Ce,he,l),at=(me&&me.flushSync)===!0;if(Ze&&_.initialized&&!A&&Vhe(_.location,he)&&!(me&&me.submission&&jo(me.submission.formMethod))){ut(he,{matches:Ze},{flushSync:at});return}let ht=Pt(Ze,Ce,he.pathname);if(ht.active&&ht.matches&&(Ze=ht.matches),!Ze){let{error:q,notFoundMatches:se,route:ge}=ye(he.pathname);ut(he,{matches:se,loaderData:{},errors:{[ge.id]:q}},{flushSync:at});return}E=new AbortController;let Qe=Pu(t.history,he,E.signal,me&&me.submission),Ve;if(me&&me.pendingError)Ve=[cc(Ze).route.id,{type:an.error,error:me.pendingError}];else if(me&&me.submission&&jo(me.submission.formMethod)){let q=await dt(Qe,he,me.submission,Ze,ht.active,{replace:me.replace,flushSync:at});if(q.shortCircuited)return;if(q.pendingActionResult){let[se,ge]=q.pendingActionResult;if(ji(ge)&&nm(ge.error)&&ge.error.status===404){E=null,ut(he,{matches:q.matches,loaderData:{},errors:{[se]:ge.error}});return}}Ze=q.matches||Ze,Ve=q.pendingActionResult,nt=cx(he,me.submission),at=!1,ht.active=!1,Qe=Pu(t.history,Qe.url,Qe.signal)}let{shortCircuited:gt,matches:yt,loaderData:Ct,errors:gn}=await Ye(Qe,he,Ze,ht.active,nt,me&&me.submission,me&&me.fetcherSubmission,me&&me.replace,me&&me.initialHydration===!0,at,Ve);gt||(E=null,ut(he,En({matches:yt||Ze},zP(Ve),{loaderData:Ct,errors:gn})))}async function dt(ie,he,me,Ce,nt,Ze){Ze===void 0&&(Ze={}),j();let at=Yhe(he,me);if(Re({navigation:at},{flushSync:Ze.flushSync===!0}),nt){let Ve=await St(Ce,he.pathname,ie.signal);if(Ve.type==="aborted")return{shortCircuited:!0};if(Ve.type==="error"){let gt=cc(Ve.partialMatches).route.id;return{matches:Ve.partialMatches,pendingActionResult:[gt,{type:an.error,error:Ve.error}]}}else if(Ve.matches)Ce=Ve.matches;else{let{notFoundMatches:gt,error:yt,route:Ct}=ye(he.pathname);return{matches:gt,pendingActionResult:[Ct.id,{type:an.error,error:yt}]}}}let ht,Qe=Mh(Ce,he);if(!Qe.route.action&&!Qe.route.lazy)ht={type:an.error,error:di(405,{method:ie.method,pathname:he.pathname,routeId:Qe.route.id})};else if(ht=(await Ie("action",_,ie,[Qe],Ce,null))[Qe.route.id],ie.signal.aborted)return{shortCircuited:!0};if(Sc(ht)){let Ve;return Ze&&Ze.replace!=null?Ve=Ze.replace:Ve=OP(ht.response.headers.get("Location"),new URL(ie.url),l)===_.location.pathname+_.location.search,await we(ie,ht,!0,{submission:me,replace:Ve}),{shortCircuited:!0}}if(ll(ht))throw di(400,{type:"defer-action"});if(ji(ht)){let Ve=cc(Ce,Qe.route.id);return(Ze&&Ze.replace)!==!0&&(D=$n.Push),{matches:Ce,pendingActionResult:[Ve.route.id,ht]}}return{matches:Ce,pendingActionResult:[Qe.route.id,ht]}}async function Ye(ie,he,me,Ce,nt,Ze,at,ht,Qe,Ve,gt){let yt=nt||cx(he,Ze),Ct=Ze||at||GP(yt),gn=!w&&(!d.v7_partialHydration||!Qe);if(Ce){if(gn){let lt=Nt(gt);Re(En({navigation:yt},lt!==void 0?{actionData:lt}:{}),{flushSync:Ve})}let Xe=await St(me,he.pathname,ie.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){let lt=cc(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,loaderData:{},errors:{[lt]:Xe.error}}}else if(Xe.matches)me=Xe.matches;else{let{error:lt,notFoundMatches:It,route:$e}=ye(he.pathname);return{matches:It,loaderData:{},errors:{[$e.id]:lt}}}}let q=a||s,[se,ge]=kP(t.history,_,me,Ct,he,d.v7_partialHydration&&Qe===!0,d.v7_skipActionErrorRevalidation,A,C,k,te,$,M,q,l,gt);if(_e(Xe=>!(me&&me.some(lt=>lt.route.id===Xe))||se&&se.some(lt=>lt.route.id===Xe)),G=++H,se.length===0&&ge.length===0){let Xe=Pe();return ut(he,En({matches:me,loaderData:{},errors:gt&&ji(gt[1])?{[gt[0]]:gt[1].error}:null},zP(gt),Xe?{fetchers:new Map(_.fetchers)}:{}),{flushSync:Ve}),{shortCircuited:!0}}if(gn){let Xe={};if(!Ce){Xe.navigation=yt;let lt=Nt(gt);lt!==void 0&&(Xe.actionData=lt)}ge.length>0&&(Xe.fetchers=et(ge)),Re(Xe,{flushSync:Ve})}ge.forEach(Xe=>{ne(Xe.key),Xe.controller&&I.set(Xe.key,Xe.controller)});let ve=()=>ge.forEach(Xe=>ne(Xe.key));E&&E.signal.addEventListener("abort",ve);let{loaderResults:de,fetcherResults:Ue}=await pe(_,me,se,ge,ie);if(ie.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",ve),ge.forEach(Xe=>I.delete(Xe.key));let Je=D0(de);if(Je)return await we(ie,Je.result,!0,{replace:ht}),{shortCircuited:!0};if(Je=D0(Ue),Je)return M.add(Je.key),await we(ie,Je.result,!0,{replace:ht}),{shortCircuited:!0};let{loaderData:ue,errors:Me}=DP(_,me,de,gt,ge,Ue,oe);oe.forEach((Xe,lt)=>{Xe.subscribe(It=>{(It||Xe.done)&&oe.delete(lt)})}),d.v7_partialHydration&&Qe&&_.errors&&(Me=En({},_.errors,Me));let be=Pe(),Ge=Ke(G),He=be||Ge||ge.length>0;return En({matches:me,loaderData:ue,errors:Me},He?{fetchers:new Map(_.fetchers)}:{})}function Nt(ie){if(ie&&!ji(ie[1]))return{[ie[0]]:ie[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function et(ie){return ie.forEach(he=>{let me=_.fetchers.get(he.key),Ce=lh(void 0,me?me.data:void 0);_.fetchers.set(he.key,Ce)}),new Map(_.fetchers)}function X(ie,he,me,Ce){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ne(ie);let nt=(Ce&&Ce.flushSync)===!0,Ze=a||s,at=k2(_.location,_.matches,l,d.v7_prependBasename,me,d.v7_relativeSplatPath,he,Ce?.relative),ht=lc(Ze,at,l),Qe=Pt(ht,Ze,at);if(Qe.active&&Qe.matches&&(ht=Qe.matches),!ht){R(ie,he,di(404,{pathname:at}),{flushSync:nt});return}let{path:Ve,submission:gt,error:yt}=PP(d.v7_normalizeFormMethod,!0,at,Ce);if(yt){R(ie,he,yt,{flushSync:nt});return}let Ct=Mh(ht,Ve),gn=(Ce&&Ce.preventScrollReset)===!0;if(gt&&jo(gt.formMethod)){V(ie,he,Ve,Ct,ht,Qe.active,nt,gn,gt);return}$.set(ie,{routeId:he,path:Ve}),ce(ie,he,Ve,Ct,ht,Qe.active,nt,gn,gt)}async function V(ie,he,me,Ce,nt,Ze,at,ht,Qe){j(),$.delete(ie);function Ve(Tt){if(!Tt.route.action&&!Tt.route.lazy){let pt=di(405,{method:Qe.formMethod,pathname:me,routeId:he});return R(ie,he,pt,{flushSync:at}),!0}return!1}if(!Ze&&Ve(Ce))return;let gt=_.fetchers.get(ie);S(ie,Jhe(Qe,gt),{flushSync:at});let yt=new AbortController,Ct=Pu(t.history,me,yt.signal,Qe);if(Ze){let Tt=await St(nt,new URL(Ct.url).pathname,Ct.signal,ie);if(Tt.type==="aborted")return;if(Tt.type==="error"){R(ie,he,Tt.error,{flushSync:at});return}else if(Tt.matches){if(nt=Tt.matches,Ce=Mh(nt,me),Ve(Ce))return}else{R(ie,he,di(404,{pathname:me}),{flushSync:at});return}}I.set(ie,yt);let gn=H,se=(await Ie("action",_,Ct,[Ce],nt,ie))[Ce.route.id];if(Ct.signal.aborted){I.get(ie)===yt&&I.delete(ie);return}if(d.v7_fetcherPersist&&te.has(ie)){if(Sc(se)||ji(se)){S(ie,Za(void 0));return}}else{if(Sc(se))if(I.delete(ie),G>gn){S(ie,Za(void 0));return}else return M.add(ie),S(ie,lh(Qe)),we(Ct,se,!1,{fetcherSubmission:Qe,preventScrollReset:ht});if(ji(se)){R(ie,he,se.error);return}}if(ll(se))throw di(400,{type:"defer-action"});let ge=_.navigation.location||_.location,ve=Pu(t.history,ge,yt.signal),de=a||s,Ue=_.navigation.state!=="idle"?lc(de,_.navigation.location,l):_.matches;Gt(Ue,"Didn't find any matches after fetcher action");let Je=++H;L.set(ie,Je);let ue=lh(Qe,se.data);_.fetchers.set(ie,ue);let[Me,be]=kP(t.history,_,Ue,Qe,ge,!1,d.v7_skipActionErrorRevalidation,A,C,k,te,$,M,de,l,[Ce.route.id,se]);be.filter(Tt=>Tt.key!==ie).forEach(Tt=>{let pt=Tt.key,no=_.fetchers.get(pt),Xt=lh(void 0,no?no.data:void 0);_.fetchers.set(pt,Xt),ne(pt),Tt.controller&&I.set(pt,Tt.controller)}),Re({fetchers:new Map(_.fetchers)});let Ge=()=>be.forEach(Tt=>ne(Tt.key));yt.signal.addEventListener("abort",Ge);let{loaderResults:He,fetcherResults:Xe}=await pe(_,Ue,Me,be,ve);if(yt.signal.aborted)return;yt.signal.removeEventListener("abort",Ge),L.delete(ie),I.delete(ie),be.forEach(Tt=>I.delete(Tt.key));let lt=D0(He);if(lt)return we(ve,lt.result,!1,{preventScrollReset:ht});if(lt=D0(Xe),lt)return M.add(lt.key),we(ve,lt.result,!1,{preventScrollReset:ht});let{loaderData:It,errors:$e}=DP(_,Ue,He,void 0,be,Xe,oe);if(_.fetchers.has(ie)){let Tt=Za(se.data);_.fetchers.set(ie,Tt)}Ke(Je),_.navigation.state==="loading"&&Je>G?(Gt(D,"Expected pending action"),E&&E.abort(),ut(_.navigation.location,{matches:Ue,loaderData:It,errors:$e,fetchers:new Map(_.fetchers)})):(Re({errors:$e,loaderData:UP(_.loaderData,It,Ue,$e),fetchers:new Map(_.fetchers)}),A=!1)}async function ce(ie,he,me,Ce,nt,Ze,at,ht,Qe){let Ve=_.fetchers.get(ie);S(ie,lh(Qe,Ve?Ve.data:void 0),{flushSync:at});let gt=new AbortController,yt=Pu(t.history,me,gt.signal);if(Ze){let se=await St(nt,new URL(yt.url).pathname,yt.signal,ie);if(se.type==="aborted")return;if(se.type==="error"){R(ie,he,se.error,{flushSync:at});return}else if(se.matches)nt=se.matches,Ce=Mh(nt,me);else{R(ie,he,di(404,{pathname:me}),{flushSync:at});return}}I.set(ie,gt);let Ct=H,q=(await Ie("loader",_,yt,[Ce],nt,ie))[Ce.route.id];if(ll(q)&&(q=await PT(q,yt.signal,!0)||q),I.get(ie)===gt&&I.delete(ie),!yt.signal.aborted){if(te.has(ie)){S(ie,Za(void 0));return}if(Sc(q))if(G>Ct){S(ie,Za(void 0));return}else{M.add(ie),await we(yt,q,!1,{preventScrollReset:ht});return}if(ji(q)){R(ie,he,q.error);return}Gt(!ll(q),"Unhandled fetcher deferred data"),S(ie,Za(q.data))}}async function we(ie,he,me,Ce){let{submission:nt,fetcherSubmission:Ze,preventScrollReset:at,replace:ht}=Ce===void 0?{}:Ce;he.response.headers.has("X-Remix-Revalidate")&&(A=!0);let Qe=he.response.headers.get("Location");Gt(Qe,"Expected a Location header on the redirect Response"),Qe=OP(Qe,new URL(ie.url),l);let Ve=tm(_.location,Qe,{_isRedirect:!0});if(n){let se=!1;if(he.response.headers.has("X-Remix-Reload-Document"))se=!0;else if(RT.test(Qe)){const ge=t.history.createURL(Qe);se=ge.origin!==e.location.origin||Ff(ge.pathname,l)==null}if(se){ht?e.location.replace(Qe):e.location.assign(Qe);return}}E=null;let gt=ht===!0||he.response.headers.has("X-Remix-Replace")?$n.Replace:$n.Push,{formMethod:yt,formAction:Ct,formEncType:gn}=_.navigation;!nt&&!Ze&&yt&&Ct&&gn&&(nt=GP(_.navigation));let q=nt||Ze;if(Nhe.has(he.response.status)&&q&&jo(q.formMethod))await Et(gt,Ve,{submission:En({},q,{formAction:Qe}),preventScrollReset:at||T,enableViewTransition:me?z:void 0});else{let se=cx(Ve,nt);await Et(gt,Ve,{overrideNavigation:se,fetcherSubmission:Ze,preventScrollReset:at||T,enableViewTransition:me?z:void 0})}}async function Ie(ie,he,me,Ce,nt,Ze){let at,ht={};try{at=await zhe(c,ie,he,me,Ce,nt,Ze,o,i)}catch(Qe){return Ce.forEach(Ve=>{ht[Ve.route.id]={type:an.error,error:Qe}}),ht}for(let[Qe,Ve]of Object.entries(at))if($he(Ve)){let gt=Ve.result;ht[Qe]={type:an.redirect,response:Ghe(gt,me,Qe,nt,l,d.v7_relativeSplatPath)}}else ht[Qe]=await Hhe(Ve);return ht}async function pe(ie,he,me,Ce,nt){let Ze=ie.matches,at=Ie("loader",ie,nt,me,he,null),ht=Promise.all(Ce.map(async gt=>{if(gt.matches&&gt.match&&gt.controller){let Ct=(await Ie("loader",ie,Pu(t.history,gt.path,gt.controller.signal),[gt.match],gt.matches,gt.key))[gt.match.route.id];return{[gt.key]:Ct}}else return Promise.resolve({[gt.key]:{type:an.error,error:di(404,{pathname:gt.path})}})})),Qe=await at,Ve=(await ht).reduce((gt,yt)=>Object.assign(gt,yt),{});return await Promise.all([Khe(he,Qe,nt.signal,Ze,ie.loaderData),Xhe(he,Ve,Ce)]),{loaderResults:Qe,fetcherResults:Ve}}function j(){A=!0,C.push(..._e()),$.forEach((ie,he)=>{I.has(he)&&k.add(he),ne(he)})}function S(ie,he,me){me===void 0&&(me={}),_.fetchers.set(ie,he),Re({fetchers:new Map(_.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function R(ie,he,me,Ce){Ce===void 0&&(Ce={});let nt=cc(_.matches,he);Y(ie),Re({errors:{[nt.route.id]:me},fetchers:new Map(_.fetchers)},{flushSync:(Ce&&Ce.flushSync)===!0})}function Q(ie){return J.set(ie,(J.get(ie)||0)+1),te.has(ie)&&te.delete(ie),_.fetchers.get(ie)||khe}function Y(ie){let he=_.fetchers.get(ie);I.has(ie)&&!(he&&he.state==="loading"&&L.has(ie))&&ne(ie),$.delete(ie),L.delete(ie),M.delete(ie),d.v7_fetcherPersist&&te.delete(ie),k.delete(ie),_.fetchers.delete(ie)}function Z(ie){let he=(J.get(ie)||0)-1;he<=0?(J.delete(ie),te.add(ie),d.v7_fetcherPersist||Y(ie)):J.set(ie,he),Re({fetchers:new Map(_.fetchers)})}function ne(ie){let he=I.get(ie);he&&(he.abort(),I.delete(ie))}function De(ie){for(let he of ie){let me=Q(he),Ce=Za(me.data);_.fetchers.set(he,Ce)}}function Pe(){let ie=[],he=!1;for(let me of M){let Ce=_.fetchers.get(me);Gt(Ce,"Expected fetcher: "+me),Ce.state==="loading"&&(M.delete(me),ie.push(me),he=!0)}return De(ie),he}function Ke(ie){let he=[];for(let[me,Ce]of L)if(Ce<ie){let nt=_.fetchers.get(me);Gt(nt,"Expected fetcher: "+me),nt.state==="loading"&&(ne(me),L.delete(me),he.push(me))}return De(he),he.length>0}function ft(ie,he){let me=_.blockers.get(ie)||ah;return le.get(ie)!==he&&le.set(ie,he),me}function rt(ie){_.blockers.delete(ie),le.delete(ie)}function ae(ie,he){let me=_.blockers.get(ie)||ah;Gt(me.state==="unblocked"&&he.state==="blocked"||me.state==="blocked"&&he.state==="blocked"||me.state==="blocked"&&he.state==="proceeding"||me.state==="blocked"&&he.state==="unblocked"||me.state==="proceeding"&&he.state==="unblocked","Invalid blocker state transition: "+me.state+" -> "+he.state);let Ce=new Map(_.blockers);Ce.set(ie,he),Re({blockers:Ce})}function it(ie){let{currentLocation:he,nextLocation:me,historyAction:Ce}=ie;if(le.size===0)return;le.size>1&&af(!1,"A router only supports one blocker at a time");let nt=Array.from(le.entries()),[Ze,at]=nt[nt.length-1],ht=_.blockers.get(Ze);if(!(ht&&ht.state==="proceeding")&&at({currentLocation:he,nextLocation:me,historyAction:Ce}))return Ze}function ye(ie){let he=di(404,{pathname:ie}),me=a||s,{matches:Ce,route:nt}=jP(me);return _e(),{notFoundMatches:Ce,route:nt,error:he}}function _e(ie){let he=[];return oe.forEach((me,Ce)=>{(!ie||ie(Ce))&&(me.cancel(),he.push(Ce),oe.delete(Ce))}),he}function ot(ie,he,me){if(p=ie,y=he,m=me||null,!g&&_.navigation===lx){g=!0;let Ce=sn(_.location,_.matches);Ce!=null&&Re({restoreScrollPosition:Ce})}return()=>{p=null,y=null,m=null}}function Le(ie,he){return m&&m(ie,he.map(Ce=>uhe(Ce,_.loaderData)))||ie.key}function bt(ie,he){if(p&&y){let me=Le(ie,he);p[me]=y()}}function sn(ie,he){if(p){let me=Le(ie,he),Ce=p[me];if(typeof Ce=="number")return Ce}return null}function Pt(ie,he,me){if(u)if(ie){if(Object.keys(ie[0].params).length>0)return{active:!0,matches:Zg(he,me,l,!0)}}else return{active:!0,matches:Zg(he,me,l,!0)||[]};return{active:!1,matches:null}}async function St(ie,he,me,Ce){if(!u)return{type:"success",matches:ie};let nt=ie;for(;;){let Ze=a==null,at=a||s,ht=o;try{await u({signal:me,path:he,matches:nt,fetcherKey:Ce,patch:(gt,yt)=>{me.aborted||BP(gt,yt,at,ht,i)}})}catch(gt){return{type:"error",error:gt,partialMatches:nt}}finally{Ze&&!me.aborted&&(s=[...s])}if(me.aborted)return{type:"aborted"};let Qe=lc(at,he,l);if(Qe)return{type:"success",matches:Qe};let Ve=Zg(at,he,l,!0);if(!Ve||nt.length===Ve.length&&nt.every((gt,yt)=>gt.route.id===Ve[yt].route.id))return{type:"success",matches:null};nt=Ve}}function er(ie){o={},a=gv(ie,i,void 0,o)}function qt(ie,he){let me=a==null;BP(ie,he,a||s,o,i),me&&(s=[...s],Re({}))}return N={get basename(){return l},get future(){return d},get state(){return _},get routes(){return s},get window(){return e},initialize:Ne,subscribe:Be,enableScrollRestoration:ot,navigate:ee,fetch:X,revalidate:_t,createHref:ie=>t.history.createHref(ie),encodeLocation:ie=>t.history.encodeLocation(ie),getFetcher:Q,deleteFetcher:Z,dispose:Ae,getBlocker:ft,deleteBlocker:rt,patchRoutes:qt,_internalFetchControllers:I,_internalActiveDeferreds:oe,_internalSetRoutes:er},N}function Ohe(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function k2(t,e,n,r,i,o,s,a){let l,c;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){c=d;break}}else l=e,c=e[e.length-1];let u=IT(i||".",MT(l,o),Ff(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let d=NT(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let f=new URLSearchParams(u.search),h=f.getAll("index");f.delete("index"),h.filter(m=>m).forEach(m=>f.append("index",m));let p=f.toString();u.search=p?"?"+p:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ma([n,u.pathname])),ru(u)}function PP(t,e,n,r){if(!r||!Ohe(r))return{path:n};if(r.formMethod&&!Qhe(r.formMethod))return{path:n,error:di(405,{method:r.formMethod})};let i=()=>({path:n,error:di(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=l9(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!jo(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,p)=>{let[m,y]=p;return""+h+m+"="+y+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!jo(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Gt(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=B2(r.formData),c=r.formData;else if(r.body instanceof FormData)l=B2(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=LP(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=LP(l)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(jo(u.formMethod))return{path:n,submission:u};let d=zl(n);return e&&d.search&&NT(d.search)&&l.append("index",""),d.search="?"+l,{path:ru(d),submission:u}}function NP(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function kP(t,e,n,r,i,o,s,a,l,c,u,d,f,h,p,m){let y=m?ji(m[1])?m[1].error:m[1].data:void 0,g=t.createURL(e.location),v=t.createURL(i),b=n;o&&e.errors?b=NP(n,Object.keys(e.errors)[0],!0):m&&ji(m[1])&&(b=NP(n,m[0]));let x=m?m[1].statusCode:void 0,P=s&&x&&x>=400,N=b.filter((D,T)=>{let{route:E}=D;if(E.lazy)return!0;if(E.loader==null)return!1;if(o)return F2(E,e.loaderData,e.errors);if(Lhe(e.loaderData,e.matches[T],D)||l.some(B=>B===D.route.id))return!0;let z=e.matches[T],W=D;return FP(D,En({currentUrl:g,currentParams:z.params,nextUrl:v,nextParams:W.params},r,{actionResult:y,actionStatus:x,defaultShouldRevalidate:P?!1:a||g.pathname+g.search===v.pathname+v.search||g.search!==v.search||s9(z,W)}))}),_=[];return d.forEach((D,T)=>{if(o||!n.some(w=>w.route.id===D.routeId)||u.has(T))return;let E=lc(h,D.path,p);if(!E){_.push({key:T,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let z=e.fetchers.get(T),W=Mh(E,D.path),B=!1;f.has(T)?B=!1:c.has(T)?(c.delete(T),B=!0):z&&z.state!=="idle"&&z.data===void 0?B=a:B=FP(W,En({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:y,actionStatus:x,defaultShouldRevalidate:P?!1:a})),B&&_.push({key:T,routeId:D.routeId,path:D.path,matches:E,match:W,controller:new AbortController})}),[N,_]}function F2(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function Lhe(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function s9(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function FP(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function BP(t,e,n,r,i){var o;let s;if(t){let c=r[t];Gt(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),s=c.children}else s=n;let a=e.filter(c=>!s.some(u=>a9(c,u))),l=gv(a,i,[t||"_","patch",String(((o=s)==null?void 0:o.length)||"0")],r);s.push(...l)}function a9(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>a9(n,o))}):!1}async function Dhe(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Gt(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";af(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!lhe.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,En({},e(i),{lazy:void 0}))}async function Uhe(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function zhe(t,e,n,r,i,o,s,a,l,c){let u=o.map(h=>h.route.lazy?Dhe(h.route,l,a):void 0),d=o.map((h,p)=>{let m=u[p],y=i.some(v=>v.route.id===h.route.id);return En({},h,{shouldLoad:y,resolve:async v=>(v&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(y=!0),y?jhe(e,r,h,m,v,c):Promise.resolve({type:an.data,result:void 0}))})}),f=await t({matches:d,request:r,params:o[0].params,fetcherKey:s,context:c});try{await Promise.all(u)}catch{}return f}async function jhe(t,e,n,r,i,o){let s,a,l=c=>{let u,d=new Promise((p,m)=>u=m);a=()=>u(),e.signal.addEventListener("abort",a);let f=p=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:o},...p!==void 0?[p]:[]),h=(async()=>{try{return{type:"data",result:await(i?i(m=>f(m)):f())}}catch(p){return{type:"error",result:p}}})();return Promise.race([h,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;s=d}else if(await r,c=n.route[t],c)s=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw di(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:an.data,result:void 0};else if(c)s=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw di(404,{pathname:d})}Gt(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:an.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return s}async function Hhe(t){let{result:e,type:n}=t;if(c9(e)){let d;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(f){return{type:an.error,error:f}}return n===an.error?{type:an.error,error:new yv(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:an.data,data:d,statusCode:e.status,headers:e.headers}}if(n===an.error){if(HP(e)){var r,i;if(e.data instanceof Error){var o,s;return{type:an.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:an.error,error:new yv(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:nm(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:an.error,error:e,statusCode:nm(e)?e.status:void 0}}if(qhe(e)){var a,l;return{type:an.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(HP(e)){var c,u;return{type:an.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:an.data,data:e}}function Ghe(t,e,n,r,i,o){let s=t.headers.get("Location");if(Gt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!RT.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=k2(new URL(e.url),a,i,!0,s,o),t.headers.set("Location",s)}return t}function OP(t,e,n){if(RT.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Ff(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Pu(t,e,n,r){let i=t.createURL(l9(e)).toString(),o={signal:n};if(r&&jo(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=B2(r.formData):o.body=r.formData}return new Request(i,o)}function B2(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function LP(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Whe(t,e,n,r,i){let o={},s=null,a,l=!1,c={},u=n&&ji(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,h=e[f];if(Gt(!Sc(h),"Cannot handle redirect results in processLoaderData"),ji(h)){let p=h.error;u!==void 0&&(p=u,u=void 0),s=s||{};{let m=cc(t,f);s[m.route.id]==null&&(s[m.route.id]=p)}o[f]=void 0,l||(l=!0,a=nm(h.error)?h.error.status:500),h.headers&&(c[f]=h.headers)}else ll(h)?(r.set(f,h.deferredData),o[f]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers)):(o[f]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers))}),u!==void 0&&n&&(s={[n[0]]:u},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function DP(t,e,n,r,i,o,s){let{loaderData:a,errors:l}=Whe(e,n,r,s);return i.forEach(c=>{let{key:u,match:d,controller:f}=c,h=o[u];if(Gt(h,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(ji(h)){let p=cc(t.matches,d?.route.id);l&&l[p.route.id]||(l=En({},l,{[p.route.id]:h.error})),t.fetchers.delete(u)}else if(Sc(h))Gt(!1,"Unhandled fetcher revalidation redirect");else if(ll(h))Gt(!1,"Unhandled fetcher deferred data");else{let p=Za(h.data);t.fetchers.set(u,p)}}),{loaderData:a,errors:l}}function UP(t,e,n,r){let i=En({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function zP(t){return t?ji(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function cc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function jP(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function di(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new yv(t||500,a,new Error(l),!0)}function D0(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Sc(i))return{key:r,result:i}}}function l9(t){let e=typeof t=="string"?zl(t):t;return ru(En({},e,{hash:""}))}function Vhe(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function $he(t){return c9(t.result)&&Phe.has(t.result.status)}function ll(t){return t.type===an.deferred}function ji(t){return t.type===an.error}function Sc(t){return(t&&t.type)===an.redirect}function HP(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function qhe(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function c9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Qhe(t){return Rhe.has(t.toLowerCase())}function jo(t){return Mhe.has(t.toLowerCase())}async function Khe(t,e,n,r,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[a,l]=o[s],c=t.find(f=>f?.route.id===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!s9(u,c)&&(i&&i[c.route.id])!==void 0;ll(l)&&d&&await PT(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function Xhe(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],a=e[i];t.find(c=>c?.route.id===o)&&ll(a)&&(Gt(s,"Expected an AbortController for revalidating fetcher deferred result"),await PT(a,s.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function PT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:an.data,data:t.deferredData.unwrappedData}}catch(i){return{type:an.error,error:i}}return{type:an.data,data:t.deferredData.data}}}function NT(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Mh(t,e){let n=typeof e=="string"?zl(e).search:e.search;if(t[t.length-1].route.index&&NT(n||""))return t[t.length-1];let r=r9(t);return r[r.length-1]}function GP(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function cx(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Yhe(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function lh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Jhe(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Za(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Zhe(t,e){try{let n=t.sessionStorage.getItem(o9);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function epe(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(o9,JSON.stringify(n))}catch(r){af(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vv(){return vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vv.apply(this,arguments)}const f1=U.createContext(null),u9=U.createContext(null),bu=U.createContext(null),kT=U.createContext(null),ka=U.createContext({outlet:null,matches:[],isDataRoute:!1}),d9=U.createContext(null);function tpe(t,e){let{relative:n}=e===void 0?{}:e;jm()||Gt(!1);let{basename:r,navigator:i}=U.useContext(bu),{hash:o,pathname:s,search:a}=p9(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ma([r,s])),i.createHref({pathname:l,search:a,hash:o})}function jm(){return U.useContext(kT)!=null}function h1(){return jm()||Gt(!1),U.useContext(kT).location}function f9(t){U.useContext(bu).static||U.useLayoutEffect(t)}function Bf(){let{isDataRoute:t}=U.useContext(ka);return t?mpe():npe()}function npe(){jm()||Gt(!1);let t=U.useContext(f1),{basename:e,future:n,navigator:r}=U.useContext(bu),{matches:i}=U.useContext(ka),{pathname:o}=h1(),s=JSON.stringify(MT(i,n.v7_relativeSplatPath)),a=U.useRef(!1);return f9(()=>{a.current=!0}),U.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=IT(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ma([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,t])}const rpe=U.createContext(null);function ipe(t){let e=U.useContext(ka).outlet;return e&&U.createElement(rpe.Provider,{value:t},e)}function h9(){let{matches:t}=U.useContext(ka),e=t[t.length-1];return e?e.params:{}}function p9(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(bu),{matches:i}=U.useContext(ka),{pathname:o}=h1(),s=JSON.stringify(MT(i,r.v7_relativeSplatPath));return U.useMemo(()=>IT(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function ope(t,e,n,r){jm()||Gt(!1);let{navigator:i}=U.useContext(bu),{matches:o}=U.useContext(ka),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=h1(),u;u=c;let d=u.pathname||"/",f=d;if(l!=="/"){let m=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(m.length).join("/")}let h=lc(t,{pathname:f});return upe(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:ma([l,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:ma([l,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r)}function spe(){let t=ppe(),e=nm(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const ape=U.createElement(spe,null);class lpe extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(ka.Provider,{value:this.props.routeContext},U.createElement(d9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cpe(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(f1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(ka.Provider,{value:e},r)}function upe(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);u>=0||Gt(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let h,p=!1,m=null,y=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||ape,l&&(c<0&&f===0?(gpe("route-fallback"),p=!0,y=null):c===f&&(p=!0,y=d.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,f+1)),v=()=>{let b;return h?b=m:p?b=y:d.route.Component?b=U.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,U.createElement(cpe,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?U.createElement(lpe,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var m9=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(m9||{}),g9=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(g9||{});function dpe(t){let e=U.useContext(f1);return e||Gt(!1),e}function fpe(t){let e=U.useContext(u9);return e||Gt(!1),e}function hpe(t){let e=U.useContext(ka);return e||Gt(!1),e}function y9(t){let e=hpe(),n=e.matches[e.matches.length-1];return n.route.id||Gt(!1),n.route.id}function ppe(){var t;let e=U.useContext(d9),n=fpe(g9.UseRouteError),r=y9();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function mpe(){let{router:t}=dpe(m9.UseNavigateStable),e=y9(),n=U.useRef(!1);return f9(()=>{n.current=!0}),U.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,vv({fromRouteId:e},o)))},[t,e])}const WP={};function gpe(t,e,n){WP[t]||(WP[t]=!0)}function ype(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function vpe(t){return ipe(t.context)}function wpe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=$n.Pop,navigator:o,static:s=!1,future:a}=t;jm()&&Gt(!1);let l=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:o,static:s,future:vv({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=zl(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=r,m=U.useMemo(()=>{let y=Ff(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:p},navigationType:i}},[l,u,d,f,h,p,i]);return m==null?null:U.createElement(bu.Provider,{value:c},U.createElement(kT.Provider,{children:n,value:m}))}new Promise(()=>{});function bpe(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:U.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:U.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:U.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rm.apply(this,arguments)}function xpe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Epe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ape(t,e){return t.button===0&&(!e||e==="_self")&&!Epe(t)}const _pe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Spe="6";try{window.__reactRouterVersion=Spe}catch{}function Cpe(t,e){return Bhe({basename:void 0,future:rm({},void 0,{v7_prependBasename:!0}),history:ohe({window:void 0}),hydrationData:Tpe(),routes:t,mapRouteProperties:bpe,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Tpe(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=rm({},e,{errors:Mpe(e.errors)})),e}function Mpe(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new yv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const Ipe=U.createContext({isTransitioning:!1}),Rpe=U.createContext(new Map),Ppe="startTransition",VP=Jx[Ppe],Npe="flushSync",$P=$G[Npe];function kpe(t){VP?VP(t):t()}function ch(t){$P?$P(t):t()}class Fpe{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Bpe(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=U.useState(n.state),[s,a]=U.useState(),[l,c]=U.useState({isTransitioning:!1}),[u,d]=U.useState(),[f,h]=U.useState(),[p,m]=U.useState(),y=U.useRef(new Map),{v7_startTransition:g}=r||{},v=U.useCallback(D=>{g?kpe(D):D()},[g]),b=U.useCallback((D,T)=>{let{deletedFetchers:E,flushSync:z,viewTransitionOpts:W}=T;D.fetchers.forEach((w,A)=>{w.data!==void 0&&y.current.set(A,w.data)}),E.forEach(w=>y.current.delete(w));let B=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!W||B){z?ch(()=>o(D)):v(()=>o(D));return}if(z){ch(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:W.currentLocation,nextLocation:W.nextLocation})});let w=n.window.document.startViewTransition(()=>{ch(()=>o(D))});w.finished.finally(()=>{ch(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})})}),ch(()=>h(w));return}f?(u&&u.resolve(),f.skipTransition(),m({state:D,currentLocation:W.currentLocation,nextLocation:W.nextLocation})):(a(D),c({isTransitioning:!0,flushSync:!1,currentLocation:W.currentLocation,nextLocation:W.nextLocation}))},[n.window,f,u,y,v]);U.useLayoutEffect(()=>n.subscribe(b),[n,b]),U.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new Fpe)},[l]),U.useEffect(()=>{if(u&&s&&n.window){let D=s,T=u.promise,E=n.window.document.startViewTransition(async()=>{v(()=>o(D)),await T});E.finished.finally(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})}),h(E)}},[v,s,u,n.window]),U.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,f,i.location,s]),U.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[l.isTransitioning,p]),U.useEffect(()=>{},[]);let x=U.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:D=>n.navigate(D),push:(D,T,E)=>n.navigate(D,{state:T,preventScrollReset:E?.preventScrollReset}),replace:(D,T,E)=>n.navigate(D,{replace:!0,state:T,preventScrollReset:E?.preventScrollReset})}),[n]),P=n.basename||"/",N=U.useMemo(()=>({router:n,navigator:x,static:!1,basename:P}),[n,x,P]),_=U.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return U.useEffect(()=>ype(r,n.future),[r,n.future]),U.createElement(U.Fragment,null,U.createElement(f1.Provider,{value:N},U.createElement(u9.Provider,{value:i},U.createElement(Rpe.Provider,{value:y.current},U.createElement(Ipe.Provider,{value:l},U.createElement(wpe,{basename:P,location:i.location,navigationType:i.historyAction,navigator:x,future:_},i.initialized||n.future.v7_partialHydration?U.createElement(Ope,{routes:n.routes,future:n.future,state:i}):e))))),null)}const Ope=U.memo(Lpe);function Lpe(t){let{routes:e,future:n,state:r}=t;return ope(e,void 0,r,n)}const Dpe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Upe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Of=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=xpe(e,_pe),{basename:h}=U.useContext(bu),p,m=!1;if(typeof c=="string"&&Upe.test(c)&&(p=c,Dpe))try{let b=new URL(window.location.href),x=c.startsWith("//")?new URL(b.protocol+c):new URL(c),P=Ff(x.pathname,h);x.origin===b.origin&&P!=null?c=P+x.search+x.hash:m=!0}catch{}let y=tpe(c,{relative:i}),g=zpe(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function v(b){r&&r(b),b.defaultPrevented||g(b)}return U.createElement("a",rm({},f,{href:p||y,onClick:m||o?r:v,ref:n,target:l}))});var qP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qP||(qP={}));var QP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QP||(QP={}));function zpe(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=Bf(),c=h1(),u=p9(t,{relative:s});return U.useCallback(d=>{if(Ape(d,n)){d.preventDefault();let f=r!==void 0?r:ru(c)===ru(u);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}var KP=function(e,n){var r=arguments;if(n==null||!cm.call(n,"css"))return U.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=z_,o[1]=U_(e,n);for(var s=2;s<i;s++)o[s]=r[s];return U.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(KP||(KP={}));function jpe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return D_(e)}function Hpe(){var t=jpe.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Gpe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Wpe=GN(function(t){return Gpe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Vpe=Wpe,$pe=function(e){return e!=="theme"},XP=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Vpe:$pe},YP=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},qpe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return L_(n,r,i),JN(function(){return XN(n,r,i)}),null},Ee=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=YP(e,n,r),l=a||XP(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var f=u[0];d.push(f[0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],f[p])}var m=ek(function(y,g,v){var b=c&&y.as||i,x="",P=[],N=y;if(y.theme==null){N={};for(var _ in y)N[_]=y[_];N.theme=U.useContext(uy)}typeof y.className=="string"?x=KN(g.registered,P,y.className):y.className!=null&&(x=y.className+" ");var D=D_(d.concat(P),g.registered,N);x+=g.key+"-"+D.name,s!==void 0&&(x+=" "+s);var T=c&&a===void 0?XP(b):l,E={};for(var z in y)c&&z==="as"||T(z)&&(E[z]=y[z]);return E.className=x,v&&(E.ref=v),U.createElement(U.Fragment,null,U.createElement(qpe,{cache:g,serialized:D,isStringTag:typeof b=="string"}),U.createElement(b,E))});return m.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+s}}),m.withComponent=function(y,g){var v=t(y,cy({},n,g,{shouldForwardProp:YP(m,g,!0)}));return v.apply(void 0,d)},m}};const tt={colors:{bgDark:"#0a0a1a",neonPink:"#00ff9d",neonGreen:"#00FF41",neonBlue:"#00bfff",neonPurple:"#b026ff",neonYellow:"#ffde03",neonOrange:"#ff6b00",textPrimary:"#ffffff",textSecondary:"rgba(255, 255, 255, 0.7)",textTertiary:"rgba(255, 255, 255, 0.5)",statusSuccess:"#00FF41",statusWarning:"#ffde03",statusError:"#ff1493"},shadows:{neon:"0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41",neonGreen:"0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41",neonBlue:"0 0 5px #00bfff, 0 0 10px #00bfff, 0 0 20px #00bfff, 0 0 40px #00bfff",neonPurple:"0 0 5px #b026ff, 0 0 10px #b026ff, 0 0 20px #b026ff, 0 0 40px #b026ff",glass:"0 8px 32px rgba(0, 0, 0, 0.2)"},animations:{neonPulse:`
      @keyframes neonPulse {
        0%, 100% {
          text-shadow: 0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41;
        }
        50% {
          text-shadow: 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41, 0 0 80px #00FF41;
        }
      }
    `,neonBorder:`
      @keyframes neonBorder {
        0%, 100% {
          box-shadow: 0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41;
        }
        50% {
          box-shadow: 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41, 0 0 80px #00FF41;
        }
      }
    `,neonRotate:`
      @keyframes neonRotate {
        0% { filter: hue-rotate(0deg); }
        100% { filter: hue-rotate(360deg); }
      }
    `,neonFloat:`
      @keyframes neonFloat {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }
    `,neonGlow:`
      @keyframes neonGlow {
        0%, 100% {
          opacity: 1;
          filter: brightness(1);
        }
        50% {
          opacity: 0.8;
          filter: brightness(1.5);
        }
      }
    `,psychedelicBg:`
      @keyframes psychedelicBg {
        0% {
          background: radial-gradient(circle at 50% 50%, rgba(0, 255, 65, 0.1) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        25% {
          background: radial-gradient(circle at 75% 25%, rgba(0, 255, 65, 0.15) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        50% {
          background: radial-gradient(circle at 50% 50%, rgba(0, 255, 65, 0.2) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        75% {
          background: radial-gradient(circle at 25% 75%, rgba(0, 255, 65, 0.15) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        100% {
          background: radial-gradient(circle at 50% 50%, rgba(0, 255, 65, 0.1) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
      }
    `},transitions:{default:"200ms cubic-bezier(0.4, 0, 0.2, 1)",fast:"150ms cubic-bezier(0.4, 0, 0.2, 1)",slow:"300ms cubic-bezier(0.4, 0, 0.2, 1)"}},ey="/assets/haze-z9wVEcTU.webm";class ux{static ETH_PRICE_USD=2500;static FEE_RECIPIENT="0xE1E3dFa98C39Ba5b6C643348420420aBC3556416";static LISTING_FEE_USD=.1;static async calculateETHAmount(e,n=this.ETH_PRICE_USD){try{const r=e/n,i=Math.round(r*1e8)/1e8,o=Math.max(i,1e-6);return console.log(` Payment calculation: $${e} USD = ${o} ETH (price: $${n}/ETH)`),{success:!0,ethAmount:parseFloat(o.toFixed(8)),weiAmount:Ua(o.toFixed(18))}}catch(r){return console.error("Payment calculation error:",r),{success:!1,error:r.message,ethAmount:0,weiAmount:0n}}}static async buildTransaction(e,n,r){try{console.log(" Building transaction for Base network...");const o=await r.estimateGas({to:e,value:n})*120n/100n;return console.log(" Transaction config ready:",{to:e,value:wm(n),gasLimit:o.toString()}),{success:!0,txConfig:{to:e,value:n,gas:o}}}catch(i){return console.error(" Error building transaction:",i),{success:!1,error:i.message}}}static getListingFeeUSD(){return this.LISTING_FEE_USD}static getFeeRecipient(){return this.FEE_RECIPIENT}static calculateETHFee(e){try{const n=e/this.ETH_PRICE_USD,r=Math.round(n*1e8)/1e8,i=Math.max(r,1e-6);return{success:!0,ethAmount:parseFloat(i.toFixed(8)),usdAmount:e,ethPriceUsed:this.ETH_PRICE_USD}}catch(n){return console.error("Error calculating ETH fee:",n),{success:!1,error:n.message,ethAmount:1e-6}}}static async sendTransaction(e,n,r){if(!e)throw new Error("Wallet client not available");try{console.log(" Sending transaction:",{to:n,value:r.toString(),valueInWei:Ua(r.toString()).toString(),from:e.account.address});let i;try{i=await e.estimateFeesPerGas(),console.log(" Raw fee estimation from network:",i)}catch(u){console.warn(" Failed to estimate fees, using fallback:",u),i={maxFeePerGas:Ua("0.000000002"),maxPriorityFeePerGas:Ua("0.000000001")}}const o=Ua("0.000000002"),s=Ua("0.000000001"),a=i.maxFeePerGas&&i.maxFeePerGas>o?i.maxFeePerGas:o,l=i.maxPriorityFeePerGas&&i.maxPriorityFeePerGas>s?i.maxPriorityFeePerGas:s;console.log(" Final gas fees being used:",{maxFeePerGas:a.toString()+" wei ("+(Number(a)/1e9).toFixed(2)+" gwei)",maxPriorityFeePerGas:l.toString()+" wei ("+(Number(l)/1e9).toFixed(2)+" gwei)",originalEstimation:i});let c;try{console.log(" Attempting direct transaction..."),c=await e.sendTransaction({to:n,value:Ua(r.toString()),gas:21000n,maxFeePerGas:a,maxPriorityFeePerGas:l}),console.log(" Direct transaction succeeded!")}catch(u){console.warn(" Direct transaction failed, trying with prepareTransactionRequest:",u.message);const d=await e.prepareTransactionRequest({to:n,value:Ua(r.toString()),chain:e.chain,account:e.account,maxFeePerGas:a,maxPriorityFeePerGas:l});c=await e.sendTransaction(d)}return console.log(" Transaction sent:",c),{success:!0,hash:c}}catch(i){return console.error("Transaction failed:",i),{success:!1,error:i.message}}}}const Wi=Ee("div",{target:"eyxi51559"})("min-height:100vh;background-color:transparent;color:",t=>t.theme.colors.textPrimary,";padding:2rem;"),Vi=Ee("div",{target:"eyxi51558"})({name:"tyoysd",styles:"max-width:1200px;margin:0 auto;padding:1rem;@media (max-width: 768px){padding:0.5rem;}"}),iu=Ee("div",{target:"eyxi51557"})("background:rgba(255, 255, 0, 0.1);backdrop-filter:blur(10px);border:1px solid rgba(255, 255, 0, 0.2);border-radius:1rem;padding:1.5rem;transition:",t=>t.theme.transitions.default,";&:hover{transform:translateY(-4px);box-shadow:",t=>t.theme.shadows.glass,";border-color:rgba(255, 255, 0, 0.3);}"),As=Ee("h3",{target:"eyxi51556"})("color:",t=>t.theme.colors.neonPink,";animation:neonPulse 2s infinite;",t=>t.theme.animations.neonPulse,";"),dr=Ee("button",{target:"eyxi51554"})("background:linear-gradient(45deg, ",t=>t.theme.colors.neonPink,", ",t=>t.theme.colors.neonBlue,");color:white;border:none;border-radius:0.75rem;padding:0.75rem 1.5rem;font-weight:500;cursor:pointer;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);box-shadow:",t=>t.theme.shadows.neon,";&::before{transform:translateX(100%);}}"),Qpe=Ee("div",{target:"eyxi51553"})({name:"2ojh76",styles:"display:grid;grid-template-columns:repeat(5, 1fr);gap:1rem;padding:1rem;@media (max-width: 1400px){grid-template-columns:repeat(4, 1fr);}@media (max-width: 1200px){grid-template-columns:repeat(3, 1fr);}@media (max-width: 768px){grid-template-columns:repeat(1, 1fr);gap:0.75rem;padding:0.5rem;}"}),Kpe=Ee("div",{target:"eyxi51552"})({name:"zp4fuo",styles:"background:rgba(0, 0, 0, 0.3);border:1px solid rgba(255, 255, 255, 0.1);border-radius:1rem;overflow:hidden;transition:all 0.3s ease;position:relative;@media (max-width: 768px){margin-bottom:0.75rem;border-radius:0.75rem;}&:hover{transform:translateY(-2px);box-shadow:0 0 20px rgba(0, 255, 65, 0.2);}"}),O2=Ee("img",{target:"eyxi51551"})({name:"18zqpt0",styles:"width:100%;height:100%;object-fit:cover;object-position:center;@media (max-width: 768px){height:180px;}"}),p1=Ee("div",{target:"eyxi51543"})("display:inline-block;width:2rem;height:2rem;border:3px solid ",t=>t.theme.colors.neonPink,";border-radius:50%;border-top-color:transparent;animation:spin 1s linear infinite;@keyframes spin{to{transform:rotate(360deg);}}"),Xpe=Ee("div",{target:"eyxi51542"})({name:"1ict2wg",styles:"max-width:2xl;margin:0 auto;padding:2rem"}),Ype=Ee(As,{target:"eyxi51541"})({name:"1e9obx1",styles:"font-size:2rem;margin-bottom:2rem"}),uh=Ee(iu,{target:"eyxi51540"})({name:"1da3ewm",styles:"padding:1.5rem;margin-bottom:1.5rem"}),dh=Ee("h2",{target:"eyxi51539"})("color:",t=>t.theme.colors.neonPink,";font-size:1.25rem;font-weight:600;margin-bottom:1rem;"),Jpe=Ee("div",{target:"eyxi51538"})({name:"w5cb7o",styles:"display:flex;align-items:center;gap:1rem;padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:0.75rem;border:1px solid rgba(255, 255, 255, 0.1)"}),Zpe=Ee("img",{target:"eyxi51537"})({name:"1bmg8cs",styles:"width:5rem;height:5rem;border-radius:0.5rem;object-fit:cover"}),eme=Ee("div",{target:"eyxi51536"})({name:"82a6rk",styles:"flex:1"}),tme=Ee("h3",{target:"eyxi51535"})("color:",t=>t.theme.colors.textPrimary,";font-weight:600;margin-bottom:0.25rem;"),nme=Ee("p",{target:"eyxi51534"})("color:",t=>t.theme.colors.textSecondary,";font-size:0.875rem;"),rme=Ee("button",{target:"eyxi51533"})("width:100%;padding:1.5rem;border:2px dashed rgba(255, 255, 255, 0.2);border-radius:0.75rem;background:transparent;color:",t=>t.theme.colors.textSecondary,";font-size:1rem;cursor:pointer;transition:",t=>t.theme.transitions.default,";&:hover{border-color:",t=>t.theme.colors.neonPink,";color:",t=>t.theme.colors.neonPink,";background:rgba(255, 255, 255, 0.05);}"),ime=Ee("div",{target:"eyxi51532"})({name:"bjn8wh",styles:"position:relative"}),ome=Ee("input",{target:"eyxi51531"})("width:100%;padding:0.75rem 1rem;background:rgba(255, 255, 255, 0.05);border:1px solid rgba(255, 255, 255, 0.1);border-radius:0.5rem;color:",t=>t.theme.colors.textPrimary,";font-size:1rem;transition:",t=>t.theme.transitions.default,";&:focus{outline:none;border-color:",t=>t.theme.colors.neonPink,";box-shadow:",t=>t.theme.shadows.neon,";}&::placeholder{color:",t=>t.theme.colors.textTertiary,";}"),sme=Ee("div",{target:"eyxi51530"})("position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:",t=>t.theme.colors.textSecondary,";font-size:0.875rem;"),ame=Ee(dr,{target:"eyxi51527"})({name:"bz05c1",styles:"width:100%;padding:1rem;font-size:1.125rem;&:disabled{opacity:0.5;cursor:not-allowed;}"}),v9=Ee("div",{target:"eyxi51526"})({name:"1e06wu4",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;padding:2rem;text-align:center;background:rgba(0, 0, 0, 0.3);border-radius:1rem;margin:2rem 0;[data-rk]{width:100%;max-width:300px;}"}),w9=Ee(As,{target:"eyxi51525"})({name:"s9j5gk",styles:"font-size:2rem;margin-bottom:1rem"}),b9=Ee("p",{target:"eyxi51524"})("color:",t=>t.theme.colors.textSecondary,";margin-bottom:2rem;"),L2=Ee("div",{target:"eyxi51523"})({name:"1iwin9z",styles:"background:rgba(255, 0, 0, 0.1);border:1px solid rgba(255, 0, 0, 0.2);color:#ff4444;padding:1rem;border-radius:0.5rem;margin-bottom:1.5rem;font-size:0.875rem;animation:fadeIn 0.3s ease-in-out;@keyframes fadeIn{from{opacity:0;transform:translateY(-10px);}to{opacity:1;transform:translateY(0);}}"}),JP=Ee("div",{target:"eyxi51522"})({name:"kkm2ff",styles:"text-align:center;padding:3rem 2rem;background:rgba(255, 0, 0, 0.1);border:1px solid rgba(255, 0, 0, 0.3);border-radius:1rem;margin:2rem 0"}),ZP=Ee("h2",{target:"eyxi51521"})("color:",t=>t.theme.colors.error||"#ff4444",";margin-bottom:1rem;font-size:1.5rem;"),lme=Ee("div",{target:"eyxi51520"})({name:"3gaqqa",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 2rem;text-align:center"}),cme=Ee("div",{target:"eyxi51519"})({name:"b2i4m4",styles:"width:100%;max-width:1200px;margin:0 auto"}),ume=Ee("div",{target:"eyxi51510"})({name:"1qj36wb",styles:"padding:0.75rem;display:flex;flex-direction:column;gap:0.5rem"}),dme=Ee("h3",{target:"eyxi5159"})({name:"1w69tks",styles:"font-size:1rem;font-weight:700;color:white;margin:0"}),fme=Ee("p",{target:"eyxi5158"})("color:",t=>t.theme.colors.textSecondary,";font-size:0.75rem;margin:0;"),hme=Ee("div",{target:"eyxi5157"})({name:"1fq4wdl",styles:"display:flex;flex-wrap:wrap;gap:0.25rem;margin-top:0.25rem"}),fh=Ee("div",{target:"eyxi5156"})("background:rgba(255, 255, 255, 0.1);padding:0.15rem 0.5rem;border-radius:1rem;font-size:0.75rem;color:",t=>t.theme.colors.textSecondary,";"),pme=Ee("div",{target:"eyxi5153"})("background:transparent;backdrop-filter:blur(10px);border:1px solid ",t=>t.theme.colors.neonGreen,";border-radius:1rem;padding:1rem;transition:",t=>t.theme.transitions.default,";margin-bottom:2rem;"),mme=t=>t&&{ethereum:"https://etherscan.io",polygon:"https://polygonscan.com",base:"https://basescan.org",arbitrum:"https://arbiscan.io",optimism:"https://optimistic.etherscan.io"}[t.toLowerCase()]||"https://etherscan.io",gme=t=>t&&{ethereum:"https://opensea.io/assets/ethereum",polygon:"https://opensea.io/assets/matic",base:"https://opensea.io/assets/base",arbitrum:"https://opensea.io/assets/arbitrum",optimism:"https://opensea.io/assets/optimism"}[t.toLowerCase()]||"https://opensea.io/assets/ethereum",dx=Ee("video",{target:"e1tha5qy5"})({name:"nal8u7",styles:"position:fixed;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1;opacity:0.7"}),yme=Ee("div",{target:"e1tha5qy4"})({name:"1av86fp",styles:"display:flex;gap:0.5rem;flex-wrap:wrap;align-items:center;@media (max-width: 768px){flex-wrap:nowrap;gap:0.25rem;}"}),vme=Ee("div",{target:"e1tha5qy3"})({name:"1fxxqiq",styles:"display:flex;gap:0.5rem;flex-wrap:wrap;@media (max-width: 768px){display:none;}"}),wme=Ee(dr,{target:"e1tha5qy2"})("background:",t=>t.active?t.theme.colors.neonGreen:"transparent",";border:1px solid ",t=>t.theme.colors.neonGreen,";padding:0.5rem 1rem;color:",t=>t.active?"#000B1A":t.theme.colors.textPrimary,";white-space:nowrap;@media (max-width: 768px){padding:0.5rem;font-size:0.9rem;}"),bme=Ee("select",{target:"e1tha5qy1"})("display:none;background:transparent;border:1px solid ",t=>t.theme.colors.neonGreen,";color:",t=>t.theme.colors.textPrimary,";padding:0.5rem;border-radius:0.5rem;cursor:pointer;font-size:0.9rem;width:100%;max-width:200px;@media (max-width: 768px){display:block;}option{background:",t=>t.theme.colors.bgDark,";color:",t=>t.theme.colors.textPrimary,";}"),xme=Ee("input",{target:"e1tha5qy0"})("background:rgba(255, 255, 255, 0.05);border:1px solid ",t=>t.theme.colors.neonBlue,";color:",t=>t.theme.colors.textPrimary,";padding:0.5rem 1rem;border-radius:0.5rem;font-size:0.9rem;width:100%;max-width:300px;transition:all 0.3s ease;&:focus{outline:none;border-color:",t=>t.theme.colors.neonPink,";box-shadow:0 0 10px ",t=>t.theme.colors.neonPink,";}&::placeholder{color:",t=>t.theme.colors.textSecondary,";}@media (max-width: 768px){max-width:100%;margin-bottom:0.5rem;}"),Eme=()=>{const t=Bf(),{showSuccess:e,showError:n,showInfo:r}=Ls(),{isConnected:i,address:o,chain:s,walletClient:a,publicClient:l}=Ni(),[c,u]=U.useState("all"),[d,f]=U.useState(""),[h,p]=U.useState([]),[m,y]=U.useState(!1),[g,v]=U.useState(null),[b,x]=U.useState(""),P="https://cryptoflipz2-production.up.railway.app";U.useEffect(()=>{console.log(" Home Debug:",{isConnected:i,address:o,chain:s,hasWalletClient:!!a,hasPublicClient:!!l})},[i,o,s,a,l]);const N=async()=>{try{y(!0),x(null);const T=await fetch(`${P}/api/games`);if(!T.ok)throw new Error("Failed to fetch games");const E=await T.json();console.log(" Fetched games from database:",E);const z=E.map(W=>({id:W.id,nft:{name:W.nft_name||"Unknown NFT",image:W.nft_image||"https://picsum.photos/300/300?random="+W.id,collection:W.nft_collection||"Unknown Collection",contractAddress:W.nft_contract,tokenId:W.nft_token_id,chain:W.nft_chain||"base"},gameType:W.game_type||"nft-vs-crypto",price:W.price_usd,priceUSD:W.price_usd,currency:W.game_type==="nft-vs-nft"?"NFT":"USD",chain:W.nft_chain||"base",creator:W.creator,joiner:W.joiner,rounds:W.rounds,status:W.status,createdAt:W.created_at,winner:W.winner,creatorWins:W.creator_wins||0,joinerWins:W.joiner_wins||0,challengerNFT:W.challenger_nft_name?{name:W.challenger_nft_name,image:W.challenger_nft_image,collection:W.challenger_nft_collection,contractAddress:W.challenger_nft_contract,tokenId:W.challenger_nft_token_id}:null,description:W.game_type==="nft-vs-nft"?`NFT Battle: ${W.nft_name} vs ${W.challenger_nft_name||"Waiting for challenger"}`:`${W.nft_name} from ${W.nft_collection} - Ready for battle!`}));console.log(" Processed flips:",z),p(z),z.length>0&&v(z[0])}catch(T){console.error(" Error fetching games:",T),x("Failed to load games. Please try again.")}finally{y(!1)}};U.useEffect(()=>{N();const T=setInterval(N,1e4);return()=>clearInterval(T)},[]);const _=h.filter(T=>{const E=c==="all"||(c==="nft-vs-crypto"||c==="nft-vs-nft"?T.gameType===c:T.chain===c),z=d.toLowerCase(),W=!d||T.nft.name.toLowerCase().includes(z)||T.nft.collection.toLowerCase().includes(z)||T.description.toLowerCase().includes(z);return E&&W}),D=[{key:"all",name:"ALL",icon:""},{key:"nft-vs-crypto",name:"NFT VS CRYPTO",icon:""},{key:"nft-vs-nft",name:"NFT VS NFT",icon:""},{key:"ethereum",name:"ETH",icon:""},{key:"base",name:"BASE",icon:""},{key:"bnb",name:"BNB",icon:""},{key:"avalanche",name:"AVAX",icon:""},{key:"polygon",name:"POLY",icon:""},{key:"arbitrum",name:"ARB",icon:""},{key:"optimism",name:"OPT",icon:""}];return m?K(Dr,{theme:tt,children:[F(dx,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:F("source",{src:ey,type:"video/webm"})}),F(Wi,{children:F(Vi,{children:K("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:[F(p1,{}),F("span",{style:{marginLeft:"1rem",color:tt.colors.textSecondary},children:"Loading games from database..."})]})})})]}):b?K(Dr,{theme:tt,children:[F(dx,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:F("source",{src:ey,type:"video/webm"})}),F(Wi,{children:F(Vi,{children:K(iu,{style:{textAlign:"center",padding:"3rem"},children:[F(As,{style:{fontSize:"2rem",marginBottom:"1rem",color:tt.colors.statusError},children:"Error Loading Games"}),F("p",{style:{color:tt.colors.textSecondary,marginBottom:"2rem"},children:b}),F(dr,{onClick:N,style:{background:tt.colors.neonPink},children:"Retry"})]})})})]}):K(Dr,{theme:tt,children:[F(dx,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:F("source",{src:ey,type:"video/webm"})}),F(Wi,{children:K(Vi,{children:[F(pme,{style:{background:tt.colors.bgDark},children:K(yme,{children:[F(vme,{children:D.map(T=>K(wme,{onClick:()=>u(T.key),active:c===T.key,children:[T.icon," ",T.name]},T.key))}),F(bme,{value:c,onChange:T=>u(T.target.value),children:D.map(T=>K("option",{value:T.key,children:[T.icon," ",T.name]},T.key))})]})}),_.length===0?K(iu,{style:{textAlign:"center",padding:"3rem",border:`2px solid ${tt.colors.neonPink}`},children:[F(As,{style:{fontSize:"2rem",marginBottom:"1rem"},children:"No Active Flips"}),F("p",{style:{color:tt.colors.textSecondary,marginBottom:"2rem"},children:"Be the first to create a flip game!"}),F(dr,{as:Of,to:"/create",style:{background:tt.colors.neonPink},children:"Create Flip"})]}):K("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"240px 1fr",gap:"1.5rem",marginTop:"2rem"},children:[F("div",{style:{order:window.innerWidth<=768?1:0,width:window.innerWidth<=768?"100%":"240px"},children:g&&K("div",{style:{background:"rgba(0, 0, 0, 0.8)",borderRadius:"1rem",padding:window.innerWidth<=768?"1.25rem":"1.5rem",border:`2px solid ${g.gameType==="nft-vs-nft"?tt.colors.neonGreen:tt.colors.neonPink}`,maxWidth:window.innerWidth<=768?"100%":"240px"},children:[F("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:tt.colors.neonBlue,borderBottom:`2px solid ${tt.colors.neonBlue}`,paddingBottom:"0.5rem",marginBottom:"1rem",textShadow:`0 0 10px ${tt.colors.neonBlue}`},children:"Current Flip"}),K("div",{style:{display:"flex",flexDirection:window.innerWidth<=768?"row":"column",gap:(window.innerWidth<=768,"1rem"),alignItems:window.innerWidth<=768?"flex-start":"stretch"},children:[K("div",{style:{position:"relative",aspectRatio:"1",borderRadius:"0.75rem",overflow:"hidden",width:window.innerWidth<=768?"60%":"100%",flexShrink:0},children:[F(O2,{src:g.nft.image,alt:g.nft.name}),F("div",{style:{position:"absolute",bottom:"0.5rem",right:"0.5rem",background:g.gameType==="nft-vs-nft"?"linear-gradient(45deg, #00FF41, #39FF14)":"linear-gradient(45deg, #FF1493, #FF69B4)",color:g.gameType==="nft-vs-nft"?"#000":"#fff",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",fontWeight:"bold"},children:g.gameType==="nft-vs-nft"?" NFT BATTLE":" CRYPTO"})]}),window.innerWidth<=768&&K("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",flex:1},children:[K("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[F("div",{style:{fontSize:"0.7rem",color:tt.colors.textSecondary},children:"Price"}),K("div",{style:{fontSize:"1rem",fontWeight:"bold"},children:["$",g.priceUSD.toFixed(2)]})]}),K("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[F("div",{style:{fontSize:"0.7rem",color:tt.colors.textSecondary},children:"Type"}),F("div",{style:{fontSize:"0.9rem",fontWeight:"bold",color:g.gameType==="nft-vs-nft"?tt.colors.neonGreen:tt.colors.neonPink},children:g.gameType==="nft-vs-nft"?"NFT Battle":"NFT vs Crypto"})]})]})]}),K(ume,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[K("div",{children:[F(dme,{style:{fontSize:"1.2rem",marginBottom:"0.5rem"},children:g.nft.name}),F(fme,{style:{fontSize:"0.9rem"},children:g.nft.collection})]}),window.innerWidth>768&&F(hme,{style:{display:"grid",gridTemplateColumns:"1fr",gap:"0.75rem"},children:g.gameType==="nft-vs-nft"?K(ya,{children:[K(fh,{children:[F("span",{children:"Type"}),F("div",{style:{color:tt.colors.neonGreen},children:"NFT Battle"})]}),K(fh,{children:[F("span",{children:"Stakes"}),F("div",{children:"Winner Takes All"})]}),g.challengerNFT&&K(fh,{children:[F("span",{children:"VS"}),F("div",{style:{color:tt.colors.neonYellow},children:g.challengerNFT.name})]})]}):K(ya,{children:[K(fh,{children:[F("span",{children:"Price"}),K("div",{children:["$",g.priceUSD.toFixed(2)]})]}),K(fh,{children:[F("span",{children:"Type"}),F("div",{style:{color:tt.colors.neonPink},children:"NFT vs Crypto"})]})]})}),K("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[F("a",{href:`${mme(g.nft.chain)}/token/${g.nft.contractAddress}?a=${g.nft.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:" Explorer"}),K("a",{href:`${gme(g.nft.chain)}/${g.nft.contractAddress}/${g.nft.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:[F("img",{src:"images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain"}}),"OpenSea"]})]}),K("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[F(dr,{onClick:()=>t(`/game/${g.id}`),style:{flex:2,background:"linear-gradient(45deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",textShadow:"0 0 10px rgba(255, 20, 147, 0.5)",boxShadow:"0 0 20px rgba(255, 20, 147, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:T=>{T.currentTarget.style.transform="scale(1.05)",T.currentTarget.style.boxShadow="0 0 30px rgba(255, 20, 147, 0.5)"},onMouseLeave:T=>{T.currentTarget.style.transform="scale(1)",T.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.3)"},children:"View Flip"}),g.gameType==="nft-vs-nft"&&!g.challengerNFT&&K(dr,{onClick:()=>t(`/flip/${g.id}/join`),style:{flex:1,background:"linear-gradient(45deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",textShadow:"0 0 10px rgba(255, 20, 147, 0.5)",boxShadow:"0 0 20px rgba(255, 20, 147, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:T=>{T.currentTarget.style.transform="scale(1.05)",T.currentTarget.style.boxShadow="0 0 30px rgba(255, 20, 147, 0.5)"},onMouseLeave:T=>{T.currentTarget.style.transform="scale(1)",T.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.3)"},children:[F("span",{children:""})," Join Battle"]})]})]})]})}),K("div",{style:{background:"rgba(0, 0, 20, 0.95)",borderRadius:"1rem",padding:window.innerWidth<=768?"0.75rem":"1rem",border:`1px solid ${tt.colors.neonBlue}`,maxHeight:window.innerWidth<=768?"none":"600px",overflowY:"auto",order:window.innerWidth<=768?2:0},children:[K("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:tt.colors.neonBlue,marginBottom:"1rem",padding:"0.5rem",borderBottom:`1px solid ${tt.colors.neonBlue}`,textShadow:"0 0 10px rgba(0, 150, 255, 0.5)"},children:["Available Flips (",_.filter(T=>T.status==="waiting").length,")"]}),F("div",{style:{marginBottom:"1rem"},children:F(xme,{type:"text",placeholder:"Search NFTs or collections...",value:d,onChange:T=>f(T.target.value)})}),F("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"repeat(2, 1fr)":"repeat(5, 1fr)",gap:window.innerWidth<=768?"0.25rem":"0.75rem",margin:"1rem 0",width:"100%",overflowX:"hidden",padding:window.innerWidth<=768?"0 0.25rem":"0",gridAutoRows:"minmax(auto, auto)",gridAutoFlow:"row"},children:_.map(T=>K("div",{onClick:()=>v(T),style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:window.innerWidth<=768?"0.5rem":"0.75rem",padding:window.innerWidth<=768?"0.25rem":"0.5rem",cursor:"pointer",transition:"all 0.2s ease",border:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",flexDirection:"column",gap:window.innerWidth<=768?"0.15rem":"0.25rem",height:window.innerWidth<=768?"auto":"210px",width:"100%"},onMouseEnter:E=>{E.currentTarget.style.transform="scale(1.02)",E.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},onMouseLeave:E=>{E.currentTarget.style.transform="scale(1)",E.currentTarget.style.background="rgba(255, 255, 255, 0.05)"},children:[K("div",{style:{position:"relative",aspectRatio:"1",borderRadius:window.innerWidth<=768?"0.25rem":"0.5rem",overflow:"hidden",width:"100%",height:window.innerWidth<=768?"auto":"135px",minHeight:window.innerWidth<=768?"80px":"135px"},children:[F(O2,{src:T.nft.image,alt:T.nft.name,style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),F("div",{style:{position:"absolute",bottom:"0.25rem",right:"0.25rem",background:T.gameType==="nft-vs-nft"?"linear-gradient(45deg, #00FF41, #39FF14)":"linear-gradient(45deg, #FF1493, #FF69B4)",color:T.gameType==="nft-vs-nft"?"#000":"#fff",padding:window.innerWidth<=768?"0.1rem 0.25rem":"0.15rem 0.35rem",borderRadius:window.innerWidth<=768?"0.15rem":"0.25rem",fontSize:window.innerWidth<=768?"0.5rem":"0.6rem",fontWeight:"bold"},children:T.gameType==="nft-vs-nft"?" NFT BATTLE":" CRYPTO"})]}),K("div",{style:{display:"flex",flexDirection:"column",gap:window.innerWidth<=768?"0.1rem":"0.25rem",padding:window.innerWidth<=768?"0.1rem":"0.25rem",height:window.innerWidth<=768?"auto":"60px",justifyContent:"space-between"},children:[F("div",{style:{fontSize:window.innerWidth<=768?"0.6rem":"0.7rem",fontWeight:"bold",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:T.nft.name}),F("div",{style:{fontSize:window.innerWidth<=768?"0.5rem":"0.6rem",color:tt.colors.textSecondary,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:T.nft.collection}),K("div",{style:{fontSize:window.innerWidth<=768?"0.6rem":"0.7rem",fontWeight:"bold",color:tt.colors.neonBlue},children:["$",T.priceUSD.toFixed(2)]})]})]},T.id))})]})]})]})})]})},m1=()=>{const{address:t,isConnected:e,connector:n}=Rr(),{data:r}=mL(),i=MC(),{showError:o}=Ls(),[s,a]=U.useState(!1),[l,c]=U.useState(null);return U.useEffect(()=>{const u=async()=>{try{c(null);const d=!!t,f=!!r,h=!!i,p=e;if(console.log(" Wallet connection check:",{hasAddress:d,hasWalletClient:f,hasPublicClient:h,isWagmiConnected:p,connector:n?.name,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}),p&&d&&(!f||!h)){console.log(" Waiting for clients to initialize..."),setTimeout(()=>{u()},1e3);return}const m=d&&f&&h&&p;a(m),!m&&p&&(c("Wallet connection incomplete. Please reconnect your wallet."),console.error(" Incomplete wallet connection:",{hasAddress:d,hasWalletClient:f,hasPublicClient:h,isWagmiConnected:p}))}catch(d){console.error(" Error checking wallet connection:",d),c(d.message),a(!1)}};u()},[t,r,i,e,n]),{isFullyConnected:s,connectionError:l,address:t,walletClient:r,publicClient:i,connector:n}},Ame=({isOpen:t,onClose:e,onSelect:n,nfts:r=[],loading:i=!1})=>{const{chain:o,chains:s}=Ni();return t?F(Dr,{theme:tt,children:F("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,padding:"1rem"},children:K(iu,{style:{width:"100%",maxWidth:"1200px",maxHeight:"90vh",display:"flex",flexDirection:"column",gap:"1.5rem"},children:[K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[K("div",{children:[F(As,{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:"Select NFT"}),K("p",{style:{color:tt.colors.textSecondary},children:["Choose an NFT from your ",s[o]?.name||"wallet"]})]}),F(dr,{onClick:e,style:{padding:"0.5rem"},children:""})]}),F("div",{style:{flex:1,overflowY:"auto",paddingRight:"0.5rem"},children:i?F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1rem"},children:[...Array(6)].map((a,l)=>K(iu,{style:{padding:"1rem"},children:[F("div",{style:{width:"100%",height:"200px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",marginBottom:"1rem"}}),K("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[F("div",{style:{height:"1rem",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.25rem",width:"75%"}}),F("div",{style:{height:"1rem",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.25rem",width:"50%"}})]})]},l))}):!r||r.length===0?F("div",{style:{textAlign:"center",padding:"3rem 0",color:tt.colors.textSecondary},children:K("p",{style:{fontSize:"1.125rem"},children:["No NFTs found in your ",s[o]?.name||"wallet"]})}):F(Qpe,{children:r.map(a=>K(Kpe,{onClick:()=>{n(a),e()},style:{cursor:"pointer"},children:[F(O2,{src:a.image,alt:a.name,onError:l=>{console.error(" Image failed to load:",a.image),l.target.src="/placeholder-nft.svg"},onLoad:()=>{console.log(" Image loaded successfully:",a.image)}}),K("div",{style:{padding:"1rem"},children:[F("h3",{style:{color:tt.colors.textPrimary,fontWeight:600,marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.name}),F("p",{style:{color:tt.colors.textSecondary,fontSize:"0.875rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.collection}),K("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",color:tt.colors.textSecondary},children:[F("span",{children:"Token ID:"}),K("span",{style:{color:tt.colors.textPrimary},children:["#",a.tokenId]})]})]})]},`${a.contractAddress}-${a.tokenId}`))})})]})})}):null},_me=({onCoinSelect:t,selectedCoin:e=null,showCustomOption:n=!0})=>{const{address:r}=Ni(),{getCoinHeadsImage:i,getCoinTailsImage:o}=d1(),[s,a]=U.useState(null),[l,c]=U.useState(null),[u,d]=U.useState(e?.type||null),f=[{id:"plain",type:"default",name:"Classic",headsImage:"/coins/plainh.png",tailsImage:"/coins/plaint.png"},{id:"skull",type:"default",name:"Skull",headsImage:"/coins/skullh.png",tailsImage:"/coins/skullt.png"},{id:"trump",type:"default",name:"Trump",headsImage:"/coins/trumpheads.webp",tailsImage:"/coins/trumptails.webp"},{id:"mario",type:"default",name:"Mario Bros",headsImage:"/coins/mario.png",tailsImage:"/coins/luigi.png"}];U.useEffect(()=>{(async()=>{if(r)try{const y=await i(r),g=await o(r);a(y),c(g)}catch(y){console.error("Error loading custom coin:",y)}})()},[r,i,o]);const h=m=>{if(d(m.id),m.type==="default"){const y={id:m.id,type:m.type,name:m.name,headsImage:m.headsImage,tailsImage:m.tailsImage};t(y)}else t(m)},p=s&&l;return K("div",{style:{background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem",padding:"2rem",width:"100%",maxWidth:"1200px",margin:"0 auto"},children:[F("h3",{style:{color:"#FFD700",textAlign:"center",marginBottom:"1.5rem",fontSize:"1.5rem",fontWeight:"bold"},children:"Choose Your Coin Design"}),F("p",{style:{color:"#fff",textAlign:"center",marginBottom:"2rem",fontSize:"0.9rem",opacity:.8},children:"Both players will see this coin design during the game"}),F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1.5rem",marginBottom:n&&p?"2rem":"0"},children:f.map(m=>K("div",{onClick:()=>h(m),style:{background:u===m.id?"rgba(255, 215, 0, 0.2)":"rgba(255, 255, 255, 0.05)",border:u===m.id?"2px solid #FFD700":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"1rem",padding:"1rem",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},children:[K("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginBottom:"1.5rem"},children:[F("div",{style:{width:"70px",height:"70px",borderRadius:"50%",backgroundImage:`url(${m.headsImage})`,backgroundSize:"cover",backgroundPosition:"center",border:"3px solid #FFD700",position:"relative"},children:F("div",{style:{position:"absolute",bottom:"-25px",left:"50%",transform:"translateX(-50%)",fontSize:"0.8rem",color:"#FFD700",fontWeight:"bold"},children:"H"})}),F("div",{style:{width:"70px",height:"70px",borderRadius:"50%",backgroundImage:`url(${m.tailsImage})`,backgroundSize:"cover",backgroundPosition:"center",border:"3px solid #FFD700",position:"relative"},children:F("div",{style:{position:"absolute",bottom:"-25px",left:"50%",transform:"translateX(-50%)",fontSize:"0.8rem",color:"#FFD700",fontWeight:"bold"},children:"T"})})]}),F("div",{style:{color:"#fff",fontSize:"1.1rem",fontWeight:"bold",textAlign:"center"},children:m.name})]},m.id))}),n&&p&&K(ya,{children:[F("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), transparent)",margin:"2rem 0"}}),K("div",{onClick:()=>h({id:"custom",type:"custom",name:"Your Custom Coin",headsImage:s,tailsImage:l,description:"Your personal coin design"}),style:{background:u==="custom"?"rgba(255, 215, 0, 0.2)":"rgba(255, 255, 255, 0.05)",border:u==="custom"?"2px solid #FFD700":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"1rem",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},children:[K("div",{style:{display:"flex",justifyContent:"center",gap:"1.5rem",marginBottom:"1.5rem"},children:[F("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundImage:`url(${s})`,backgroundSize:"cover",backgroundPosition:"center",border:"4px solid #FFD700",position:"relative"},children:F("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",fontSize:"0.9rem",color:"#FFD700",fontWeight:"bold"},children:"HEADS"})}),F("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundImage:`url(${l})`,backgroundSize:"cover",backgroundPosition:"center",border:"4px solid #FFD700",position:"relative"},children:F("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",fontSize:"0.9rem",color:"#FFD700",fontWeight:"bold"},children:"TAILS"})})]}),F("div",{style:{color:"#FFD700",fontSize:"1.1rem",fontWeight:"bold",marginBottom:"0.5rem"},children:" Your Custom Coin"}),F("div",{style:{color:"#fff",fontSize:"0.8rem",opacity:.8},children:"Use your personalized coin design"})]})]}),n&&!p&&K(ya,{children:[F("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), transparent)",margin:"2rem 0"}}),K("div",{style:{padding:"1.5rem",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem",textAlign:"center"},children:[F("div",{style:{color:"#FFD700",fontSize:"1rem",fontWeight:"bold",marginBottom:"0.5rem"},children:" Want to use a custom coin?"}),F("div",{style:{color:"#fff",fontSize:"0.9rem",opacity:.8},children:"Go to your profile and upload custom heads & tails images to unlock this option!"})]})]})]})},e6={base:{chain:Iw,contractAddress:"0xBFD8912ded5830e43E008CCCEA822A6B0174C480",usdcAddress:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",ethPriceFeed:"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70",usdcPriceFeed:"0x7e860098F58bBFC8648a4311b374B1D669a2bc6B",blockExplorer:"https://basescan.org"},ethereum:{chain:pu,contractAddress:"0x...",usdcAddress:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",ethPriceFeed:"0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419",usdcPriceFeed:"0x8fFfFfd4AfB6115b954Bd326cbe7B4BA576818f6",blockExplorer:"https://etherscan.io"},bnb:{chain:Rw,contractAddress:"0x...",usdcAddress:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",ethPriceFeed:"0x9ef1B8c0E4F7dc8bF5719Ea496883DC6401d5b2e",usdcPriceFeed:"0x51597f405303C4377E36123cBc172b13269EA163",blockExplorer:"https://bscscan.com"},avalanche:{chain:Mw,contractAddress:"0x...",usdcAddress:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",ethPriceFeed:"0x976B3D034E162d8bD72D6b9C989d545b839003b0",usdcPriceFeed:"0xF096872672F44d6EBA71458D74fe67F9a77a23B9",blockExplorer:"https://snowtrace.io"},polygon:{chain:Pw,contractAddress:"0x...",usdcAddress:"0x3c499c542cEF5E3811e1192ce70d8cC03d5c3359",ethPriceFeed:"0xF9680D99D6C9589e2a93a78A04A279e509205945",usdcPriceFeed:"0xfE4A8cc5b5B2366C1B58Bea3858e81843581b2F7",blockExplorer:"https://polygonscan.com"}},ci=[{name:"createGame",type:"function",stateMutability:"payable",inputs:[{name:"params",type:"tuple",components:[{name:"nftContract",type:"address"},{name:"tokenId",type:"uint256"},{name:"priceUSD",type:"uint256"},{name:"acceptedToken",type:"uint8"},{name:"maxRounds",type:"uint8"},{name:"gameType",type:"uint8"},{name:"authInfo",type:"string"}]}],outputs:[]},{name:"joinGame",type:"function",stateMutability:"payable",inputs:[{name:"params",type:"tuple",components:[{name:"gameId",type:"uint256"},{name:"coinChoice",type:"uint8"},{name:"roleChoice",type:"uint8"},{name:"paymentToken",type:"uint8"},{name:"challengerNFTContract",type:"address"},{name:"challengerTokenId",type:"uint256"}]}],outputs:[]},"function flipCoin(uint256 gameId, uint8 power)","function cancelGame(uint256 gameId)","function withdrawRewards()","function withdrawNFT(address nftContract, uint256 tokenId)","function withdrawAllNFTs()","function getGameDetails(uint256 gameId) view returns (tuple(uint256 gameId, address creator, address joiner, address nftContract, uint256 tokenId, uint8 state, uint8 gameType, uint8 creatorRole, uint8 joinerRole, uint8 joinerChoice), tuple(uint256 priceUSD, uint8 acceptedToken, uint256 totalPaid, uint8 paymentTokenUsed, uint256 listingFeePaid, uint256 platformFeeCollected), tuple(uint256 createdAt, uint256 expiresAt, uint8 maxRounds, uint8 currentRound, uint8 creatorWins, uint8 joinerWins, address winner, uint256 lastActionTime, uint256 countdownEndTime))","function getGameBasic(uint256 gameId) view returns (uint256 gameId, address creator, address joiner, address nftContract, uint256 tokenId, uint256 priceUSD, uint8 acceptedToken, uint8 state, string memory authInfo)","function getGameProgress(uint256 gameId) view returns (uint256 createdAt, uint256 expiresAt, uint8 maxRounds, uint8 currentRound, uint8 creatorWins, uint8 joinerWins, address winner, uint256 lastActionTime, uint256 countdownEndTime)","function getUserActiveGames(address user) view returns (uint256[])","function getUserUnclaimedNFTs(address user, address nftContract) view returns (uint256[])","function unclaimedETH(address user) view returns (uint256)","function unclaimedUSDC(address user) view returns (uint256)","function listingFeeUSD() view returns (uint256)","function platformFeePercent() view returns (uint256)","function getETHAmount(uint256 usdAmount) view returns (uint256)","function getRequiredPaymentAmount(uint256 gameId, uint8 token) view returns (uint256)"];class FT{constructor(){this.contracts={},this.clients={},this.currentChain=null}async init(e,n,r){if(!e6[e])throw new Error(`Unsupported chain: ${e}`);const i=e6[e];this.clients[e]={wallet:n,public:r},this.contracts[e]={address:i.contractAddress,config:i},this.currentChain=e;const o=await r.getBytecode({address:i.contractAddress});if(!o||o==="0x")throw new Error(`No contract deployed on ${e}`);console.log(` Connected to ${e} contract at ${i.contractAddress}`)}switchChain(e){if(!this.contracts[e])throw new Error(`Chain ${e} not initialized`);this.currentChain=e}getCurrentConfig(){if(!this.currentChain)throw new Error("No chain selected");return this.contracts[this.currentChain]}isInitialized(){return this.currentChain&&this.clients[this.currentChain]&&this.contracts[this.currentChain]}getCurrentClients(){if(!this.currentChain)throw new Error("No chain selected. Please initialize the contract service first.");const e=this.clients[this.currentChain];if(!e||!e.wallet||!e.public)throw new Error("Clients not properly initialized. Please reconnect your wallet.");return e}async createGame(e){try{const{walletClient:n,publicClient:r}=this.getCurrentClients(),i=this.getCurrentConfig(),o={nftContract:e.nftContract,tokenId:e.tokenId,priceUSD:Math.round(e.priceUSD*1e6),acceptedToken:e.acceptedToken||0,maxRounds:e.maxRounds||5,gameType:e.gameType||0,authInfo:e.authInfo||""},s=await this.getETHAmount(i.listingFeeUSD),{request:a}=await r.simulateContract({address:i.contractAddress,abi:ci,functionName:"createGame",args:[o],value:s,account:await n.account.address}),l=await n.writeContract(a),c=await r.waitForTransactionReceipt({hash:l});return{success:!0,gameId:this.extractGameIdFromReceipt(c),transactionHash:l,receipt:c}}catch(n){return console.error("Error creating game:",n),{success:!1,error:n.message}}}async joinGame(e){try{const{walletClient:n,publicClient:r}=this.getCurrentClients(),i=this.getCurrentConfig(),o=await this.getRequiredPaymentAmount(e.gameId,e.paymentToken),s={gameId:e.gameId,coinChoice:e.coinChoice,roleChoice:e.roleChoice,paymentToken:e.paymentToken,challengerNFTContract:e.challengerNFTContract||"0x0000000000000000000000000000000000000000",challengerTokenId:e.challengerTokenId||0},{request:a}=await r.simulateContract({address:i.contractAddress,abi:ci,functionName:"joinGame",args:[s],value:o,account:await n.account.address}),l=await n.writeContract(a),c=await r.waitForTransactionReceipt({hash:l});return{success:!0,transactionHash:l,receipt:c}}catch(n){return console.error("Error joining game:",n),{success:!1,error:n.message}}}async flipCoin(e,n){try{const{walletClient:r,publicClient:i}=this.getCurrentClients(),o=this.getCurrentConfig(),{request:s}=await i.simulateContract({address:o.contractAddress,abi:ci,functionName:"flip",args:[e,n],account:await r.account.address}),a=await r.writeContract(s),l=await i.waitForTransactionReceipt({hash:a});return{success:!0,transactionHash:a,receipt:l}}catch(r){return console.error("Error flipping coin:",r),{success:!1,error:r.message}}}async withdrawRewards(){try{const{walletClient:e,publicClient:n}=this.getCurrentClients(),r=this.getCurrentConfig(),{request:i}=await n.simulateContract({address:r.contractAddress,abi:ci,functionName:"withdrawRewards",account:await e.account.address}),o=await e.writeContract(i),s=await n.waitForTransactionReceipt({hash:o});return{success:!0,transactionHash:o,receipt:s}}catch(e){return console.error("Error withdrawing rewards:",e),{success:!1,error:e.message}}}async withdrawNFT(e,n){try{const{walletClient:r,publicClient:i}=this.getCurrentClients(),o=this.getCurrentConfig(),{request:s}=await i.simulateContract({address:o.contractAddress,abi:ci,functionName:"withdrawNFT",args:[e,n],account:await r.account.address}),a=await r.writeContract(s),l=await i.waitForTransactionReceipt({hash:a});return{success:!0,transactionHash:a,receipt:l}}catch(r){return console.error("Error withdrawing NFT:",r),{success:!1,error:r.message}}}async getETHAmount(e){try{const{publicClient:n}=this.getCurrentClients(),r=this.getCurrentConfig();return await n.readContract({address:r.contractAddress,abi:ci,functionName:"getETHAmount",args:[Math.round(e*1e6)]})}catch(n){throw console.error("Error getting ETH amount:",n),n}}async getRequiredPaymentAmount(e,n){try{const{publicClient:r}=this.getCurrentClients(),i=this.getCurrentConfig();return await r.readContract({address:i.contractAddress,abi:ci,functionName:"getRequiredPaymentAmount",args:[e,n]})}catch(r){throw console.error("Error getting required payment amount:",r),r}}async getGameDetails(e){try{const{publicClient:n}=this.getCurrentClients(),r=this.getCurrentConfig(),i=await n.readContract({address:r.contractAddress,abi:ci,functionName:"getGameDetails",args:[e]});return{success:!0,core:i[0],financials:i[1],progress:i[2]}}catch(n){return console.error("Error getting game details:",n),{success:!1,error:n.message}}}async getUserActiveGames(e){try{const{publicClient:n}=this.getCurrentClients(),r=this.getCurrentConfig();return{success:!0,games:(await n.readContract({address:r.contractAddress,abi:ci,functionName:"getUserActiveGames",args:[e]})).map(o=>o.toString())}}catch(n){return console.error("Error getting user active games:",n),{success:!1,error:n.message,games:[]}}}async getUnclaimedRewards(e){try{const{publicClient:n}=this.getCurrentClients(),r=this.getCurrentConfig(),[i,o]=await Promise.all([n.readContract({address:r.contractAddress,abi:ci,functionName:"unclaimedETH",args:[e]}),n.readContract({address:r.contractAddress,abi:ci,functionName:"unclaimedUSDC",args:[e]})]);return{success:!0,eth:wm(i),usdc:ym(o,6)}}catch(n){return console.error("Error getting unclaimed rewards:",n),{success:!1,error:n.message,eth:"0",usdc:"0"}}}async getUserUnclaimedNFTs(e,n){try{const{publicClient:r}=this.getCurrentClients(),i=this.getCurrentConfig();return{success:!0,nfts:(await r.readContract({address:i.contractAddress,abi:ci,functionName:"getUserUnclaimedNFTs",args:[e,n]})).map(s=>s.toString())}}catch(r){return console.error("Error getting user unclaimed NFTs:",r),{success:!1,error:r.message,nfts:[]}}}async getGame(e){try{const{publicClient:n}=this.getCurrentClients(),r=this.getCurrentConfig(),i=await n.readContract({address:r.contractAddress,abi:ci,functionName:"getGameBasic",args:[e]}),o=await n.readContract({address:r.contractAddress,abi:ci,functionName:"getGameProgress",args:[e]});return{success:!0,game:{gameId:i[0],creator:i[1],joiner:i[2],nftContract:i[3],tokenId:i[4],priceUSD:i[5],acceptedToken:i[6],state:i[7],authInfo:i[8],createdAt:o[0],expiresAt:o[1],maxRounds:o[2],currentRound:o[3],creatorWins:o[4],joinerWins:o[5],winner:o[6],lastActionTime:o[7],countdownEndTime:o[8]}}}catch(n){return console.error("Error getting game:",n),{success:!1,error:n.message}}}extractGameIdFromReceipt(e){const n=e.logs.find(r=>{const i=mr(jr("GameCreated(uint256,address,uint8)"));return r.topics[0]===i});if(n)return BigInt(n.topics[1]).toString();throw new Error("Game ID not found in receipt")}getExplorerLink(e,n="tx"){const i=this.getCurrentConfig().config.blockExplorer;switch(n){case"tx":return`${i}/tx/${e}`;case"address":return`${i}/address/${e}`;case"token":return`${i}/token/${e}`;default:return i}}}const Sme=()=>{const t=Bf(),{nfts:e,loading:n,chain:r}=Ni(),{showSuccess:i,showError:o,showInfo:s}=Ls(),{isFullyConnected:a,connectionError:l,address:c,walletClient:u,publicClient:d}=m1(),[f,h]=U.useState(null),[p,m]=U.useState(!1),[y,g]=U.useState(""),[v,b]=U.useState(""),[x,P]=U.useState(null),[N,_]=U.useState(""),[D,T]=U.useState(!1),[E]=U.useState(()=>new FT);if(U.useEffect(()=>{console.log(" CreateFlip - Wallet state:",{isFullyConnected:a,connectionError:l,address:c,hasWalletClient:!!u,chain:r?.name})},[a,l,c,u,r]),U.useEffect(()=>{l&&_(l)},[l]),U.useEffect(()=>{if(a&&u&&d&&r){const B=r.name.toLowerCase();E.init(B,u,d).then(()=>{console.log(" Contract service initialized for chain:",B)}).catch(w=>{console.error(" Failed to initialize contract service:",w),_("Failed to connect to smart contract")})}},[a,u,d,r,E]),!a||!c)return F(Dr,{theme:tt,children:F(Wi,{children:F(Vi,{children:K(v9,{children:[F(w9,{children:"Connect Your Wallet"}),F(b9,{children:l||"Please connect your wallet to create a new flip game."}),F(Mf,{}),l&&F("div",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#FF6B6B"},children:l})]})})})});const z=async B=>{B.preventDefault(),_(""),T(!0);try{if(!f)throw new Error("Please select an NFT");if(!v)throw new Error("Please select a game type");if(!x)throw new Error("Please select a coin design");if(v==="nft-vs-crypto"&&(!y||isNaN(y)||parseFloat(y)<=0))throw new Error("Please enter a valid price in USD");if(!u||!c)throw new Error("Wallet not connected properly. Please reconnect your wallet.");s("Preparing game creation...");const w={nftContract:f.contract,tokenId:f.tokenId,priceUSD:v==="nft-vs-crypto"?parseFloat(y):0,acceptedToken:0,maxRounds:5,gameType:v==="nft-vs-nft"?1:0,authInfo:JSON.stringify({coinDesign:x,gameType:v,creator:c})};console.log(" Creating game with smart contract:",w);const A=await E.createGame(w);if(!A.success)throw new Error("Failed to create game: "+A.error);i("Game created successfully!"),console.log(" Game created on blockchain:",A);const C=await W({id:A.gameId.toString(),creator:c,nft_contract:f.contract,token_id:f.tokenId,price_usd:v==="nft-vs-crypto"?parseFloat(y):0,game_type:v,status:"created",contract_game_id:A.gameId.toString(),transaction_hash:A.transactionHash});C.success?t(`/game/${A.gameId}`):(console.warn(" Game created on blockchain but failed to save to database:",C.error),t(`/game/${A.gameId}`))}catch(w){console.error(" Error creating game:",w),_(w.message),o("Failed to create game: "+w.message)}finally{T(!1)}},W=async B=>{try{console.log(" Saving game to database:",B);const A=await fetch("https://cryptoflipz2-production.up.railway.app/api/games",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)});if(!A.ok)throw new Error("Failed to save game to database");const C=await A.json();return console.log(" Game saved to database:",C),{success:!0,gameId:C.id}}catch(w){return console.error(" Error saving game to database:",w),{success:!1,error:w.message}}};return F(Dr,{theme:tt,children:K(Wi,{children:[F(Vi,{children:K(Xpe,{children:[F(Ype,{children:"Create New Flip"}),N&&F(L2,{children:N}),K("form",{onSubmit:z,children:[K(uh,{children:[F(dh,{children:"Choose Game Type"}),K("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[K("button",{type:"button",onClick:()=>b("nft-vs-crypto"),style:{width:"100%",padding:"1.5rem",background:v==="nft-vs-crypto"?"linear-gradient(45deg, #FF1493, #FF69B4)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${v==="nft-vs-crypto"?"#FF1493":"rgba(255, 255, 255, 0.1)"}`,borderRadius:"1rem",color:"white",cursor:"pointer",transition:"all 0.3s ease"},children:[F("div",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:" vs "}),F("div",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"NFT vs Crypto"}),F("div",{style:{fontSize:"0.8rem",opacity:.8},children:"Your NFT vs opponent's crypto bet"}),F("div",{style:{fontSize:"0.7rem",color:"#FFD700",marginTop:"0.5rem"},children:"Listing fee: $0.10"})]}),K("button",{type:"button",onClick:()=>b("nft-vs-nft"),style:{width:"100%",padding:"1.5rem",background:v==="nft-vs-nft"?"linear-gradient(45deg, #00FF41, #39FF14)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${v==="nft-vs-nft"?"#00FF41":"rgba(255, 255, 255, 0.1)"}`,borderRadius:"1rem",color:v==="nft-vs-nft"?"#000":"white",cursor:"pointer",transition:"all 0.3s ease"},children:[F("div",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:" vs "}),F("div",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"NFT vs NFT"}),F("div",{style:{fontSize:"0.8rem",opacity:.8},children:"Your NFT vs opponent's NFT - Winner takes both!"}),F("div",{style:{fontSize:"0.7rem",color:"#FFD700",marginTop:"0.5rem"},children:"Listing fee: $0.50"})]})]})]}),K(uh,{children:[F(dh,{children:"Select Your NFT"}),f?K(Jpe,{children:[F(Zpe,{src:f.image,alt:f.name}),K(eme,{children:[F(tme,{children:f.name}),F(nme,{children:f.collection})]}),F(dr,{type:"button",onClick:()=>h(null),children:"Change"})]}):F(rme,{type:"button",onClick:()=>m(!0),children:"Select NFT to Flip"})]}),v==="nft-vs-crypto"&&K(uh,{children:[F(dh,{children:"Set Price"}),K(ime,{children:[F(ome,{type:"number",step:"0.01",min:"0",placeholder:"Enter price in USD",value:y,onChange:B=>g(B.target.value),required:!0}),F(sme,{children:"USD"})]})]}),v==="nft-vs-nft"&&K(uh,{children:[F(dh,{children:"NFT vs NFT Battle"}),K("div",{style:{padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"1px solid rgba(0, 255, 65, 0.3)",borderRadius:"0.5rem"},children:[K("p",{style:{margin:0,color:"white"},children:[" ",F("strong",{children:"Ultimate NFT Battle!"})]}),K("p",{style:{margin:"0.5rem 0",fontSize:"0.9rem",opacity:.8},children:[" Other players can offer their NFTs to challenge you",F("br",{})," You choose which NFT to battle against",F("br",{})," Winner takes both NFTs!",F("br",{})," Best of 5 rounds determines the victor"]})]})]}),K(uh,{children:[F(dh,{children:"Choose Coin Design"}),F(_me,{onCoinSelect:P,selectedCoin:x,showCustomOption:!0}),x&&K("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"1px solid rgba(0, 255, 65, 0.3)",borderRadius:"0.5rem",textAlign:"center"},children:[K("div",{style:{color:"#00FF41",fontWeight:"bold",marginBottom:"0.5rem"},children:[" Selected: ",x.name]}),F("div",{style:{color:"#fff",fontSize:"0.9rem",opacity:.8},children:"This coin design will be used for both players in the game"})]})]}),F(ame,{type:"submit",disabled:D||!v||!x,style:{color:"#000",background:"linear-gradient(45deg, #00FF41, #39FF14)",border:"none",fontWeight:"bold"},children:D?K(ya,{children:[F(p1,{})," Creating ",v==="nft-vs-nft"?"NFT Battle":"Flip","..."]}):`Create ${v==="nft-vs-nft"?"NFT Battle":"Flip"}`})]})]})}),F(Ame,{isOpen:p,onClose:()=>m(!1),onSelect:h,nfts:e||[],loading:n,selectedNFT:f})]})})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const BT="170",Cme=0,t6=1,Tme=2,x9=1,Mme=2,qs=3,Nl=0,Mi=1,ra=2,Al=0,Id=1,n6=2,r6=3,i6=4,Ime=5,uc=100,Rme=101,Pme=102,Nme=103,kme=104,Fme=200,Bme=201,Ome=202,Lme=203,D2=204,U2=205,Dme=206,Ume=207,zme=208,jme=209,Hme=210,Gme=211,Wme=212,Vme=213,$me=214,z2=0,j2=1,H2=2,lf=3,G2=4,W2=5,V2=6,$2=7,OT=0,qme=1,Qme=2,_l=0,Kme=1,Xme=2,Yme=3,Jme=4,Zme=5,e0e=6,t0e=7,E9=300,cf=301,uf=302,q2=303,Q2=304,g1=306,K2=1e3,Cc=1001,X2=1002,Zo=1003,n0e=1004,U0=1005,wi=1006,fx=1007,Tc=1008,Ta=1009,A9=1010,_9=1011,im=1012,LT=1013,ou=1014,ca=1015,Hm=1016,DT=1017,UT=1018,df=1020,S9=35902,C9=1021,T9=1022,Qo=1023,M9=1024,I9=1025,Rd=1026,ff=1027,R9=1028,zT=1029,P9=1030,jT=1031,HT=1033,ty=33776,ny=33777,ry=33778,iy=33779,Y2=35840,J2=35841,Z2=35842,e_=35843,t_=36196,n_=37492,r_=37496,i_=37808,o_=37809,s_=37810,a_=37811,l_=37812,c_=37813,u_=37814,d_=37815,f_=37816,h_=37817,p_=37818,m_=37819,g_=37820,y_=37821,oy=36492,v_=36494,w_=36495,N9=36283,b_=36284,x_=36285,E_=36286,r0e=3200,i0e=3201,k9=0,o0e=1,ol="",Or="srgb",Lf="srgb-linear",y1="linear",un="srgb",Nu=7680,o6=519,s0e=512,a0e=513,l0e=514,F9=515,c0e=516,u0e=517,d0e=518,f0e=519,s6=35044,a6="300 es",ua=2e3,wv=2001;class Df{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const kr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],hx=Math.PI/180,A_=180/Math.PI;function Gm(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(kr[t&255]+kr[t>>8&255]+kr[t>>16&255]+kr[t>>24&255]+"-"+kr[e&255]+kr[e>>8&255]+"-"+kr[e>>16&15|64]+kr[e>>24&255]+"-"+kr[n&63|128]+kr[n>>8&255]+"-"+kr[n>>16&255]+kr[n>>24&255]+kr[r&255]+kr[r>>8&255]+kr[r>>16&255]+kr[r>>24&255]).toLowerCase()}function mi(t,e,n){return Math.max(e,Math.min(n,t))}function h0e(t,e){return(t%e+e)%e}function px(t,e,n){return(1-n)*t+n*e}function hh(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function ui(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class nn{constructor(e=0,n=0){nn.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(mi(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ft{constructor(e,n,r,i,o,s,a,l,c){Ft.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c)}set(e,n,r,i,o,s,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],p=r[8],m=i[0],y=i[3],g=i[6],v=i[1],b=i[4],x=i[7],P=i[2],N=i[5],_=i[8];return o[0]=s*m+a*v+l*P,o[3]=s*y+a*b+l*N,o[6]=s*g+a*x+l*_,o[1]=c*m+u*v+d*P,o[4]=c*y+u*b+d*N,o[7]=c*g+u*x+d*_,o[2]=f*m+h*v+p*P,o[5]=f*y+h*b+p*N,o[8]=f*g+h*x+p*_,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*s*u-n*a*c-r*o*u+r*a*l+i*o*c-i*s*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*s-a*c,f=a*l-u*o,h=c*o-s*l,p=n*d+r*f+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=d*m,e[1]=(i*c-u*r)*m,e[2]=(a*r-i*s)*m,e[3]=f*m,e[4]=(u*n-i*l)*m,e[5]=(i*o-a*n)*m,e[6]=h*m,e[7]=(r*l-c*n)*m,e[8]=(s*n-r*o)*m,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,s,a){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*s+c*a)+s+e,-i*c,i*l,-i*(-c*s+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(mx.makeScale(e,n)),this}rotate(e){return this.premultiply(mx.makeRotation(-e)),this}translate(e,n){return this.premultiply(mx.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const mx=new Ft;function B9(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function om(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function p0e(){const t=om("canvas");return t.style.display="block",t}const l6={};function Ih(t){t in l6||(l6[t]=!0,console.warn(t))}function m0e(t,e,n){return new Promise(function(r,i){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}function g0e(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function y0e(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const Qt={enabled:!0,workingColorSpace:Lf,spaces:{},convert:function(t,e,n){return this.enabled===!1||e===n||!e||!n||(this.spaces[e].transfer===un&&(t.r=ga(t.r),t.g=ga(t.g),t.b=ga(t.b)),this.spaces[e].primaries!==this.spaces[n].primaries&&(t.applyMatrix3(this.spaces[e].toXYZ),t.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===un&&(t.r=Pd(t.r),t.g=Pd(t.g),t.b=Pd(t.b))),t},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===ol?y1:this.spaces[t].transfer},getLuminanceCoefficients:function(t,e=this.workingColorSpace){return t.fromArray(this.spaces[e].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},_getMatrix:function(t,e,n){return t.copy(this.spaces[e].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace}};function ga(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Pd(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const c6=[.64,.33,.3,.6,.15,.06],u6=[.2126,.7152,.0722],d6=[.3127,.329],f6=new Ft().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),h6=new Ft().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);Qt.define({[Lf]:{primaries:c6,whitePoint:d6,transfer:y1,toXYZ:f6,fromXYZ:h6,luminanceCoefficients:u6,workingColorSpaceConfig:{unpackColorSpace:Or},outputColorSpaceConfig:{drawingBufferColorSpace:Or}},[Or]:{primaries:c6,whitePoint:d6,transfer:un,toXYZ:f6,fromXYZ:h6,luminanceCoefficients:u6,outputColorSpaceConfig:{drawingBufferColorSpace:Or}}});let ku;class v0e{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{ku===void 0&&(ku=om("canvas")),ku.width=e.width,ku.height=e.height;const r=ku.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=ku}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=om("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=ga(o[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(ga(n[r]/255)*255):n[r]=ga(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let w0e=0;class O9{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:w0e++}),this.uuid=Gm(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(gx(i[s].image)):o.push(gx(i[s]))}else o=gx(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function gx(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?v0e.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let b0e=0;class Hr extends Df{constructor(e=Hr.DEFAULT_IMAGE,n=Hr.DEFAULT_MAPPING,r=Cc,i=Cc,o=wi,s=Tc,a=Qo,l=Ta,c=Hr.DEFAULT_ANISOTROPY,u=ol){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:b0e++}),this.uuid=Gm(),this.name="",this.source=new O9(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new nn(0,0),this.repeat=new nn(1,1),this.center=new nn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ft,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==E9)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case K2:e.x=e.x-Math.floor(e.x);break;case Cc:e.x=e.x<0?0:1;break;case X2:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case K2:e.y=e.y-Math.floor(e.y);break;case Cc:e.y=e.y<0?0:1;break;case X2:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Hr.DEFAULT_IMAGE=null;Hr.DEFAULT_MAPPING=E9;Hr.DEFAULT_ANISOTROPY=1;class Bn{constructor(e=0,n=0,r=0,i=1){Bn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],p=l[9],m=l[2],y=l[6],g=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(p-y)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(p+y)<.1&&Math.abs(c+h+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,x=(h+1)/2,P=(g+1)/2,N=(u+f)/4,_=(d+m)/4,D=(p+y)/4;return b>x&&b>P?b<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(b),i=N/r,o=_/r):x>P?x<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(x),r=N/i,o=D/i):P<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(P),r=_/o,i=D/o),this.set(r,i,o,n),this}let v=Math.sqrt((y-p)*(y-p)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(v)<.001&&(v=1),this.x=(y-p)/v,this.y=(d-m)/v,this.z=(f-u)/v,this.w=Math.acos((c+h+g-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class x0e extends Df{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Bn(0,0,e,n),this.scissorTest=!1,this.viewport=new Bn(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:wi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new Hr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const s=r.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new O9(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class su extends x0e{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class L9 extends Hr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Zo,this.minFilter=Zo,this.wrapR=Cc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class E0e extends Hr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Zo,this.minFilter=Zo,this.wrapR=Cc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Wm{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,s,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=o[s+0],h=o[s+1],p=o[s+2],m=o[s+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=h,e[n+2]=p,e[n+3]=m;return}if(d!==m||l!==f||c!==h||u!==p){let y=1-a;const g=l*f+c*h+u*p+d*m,v=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const P=Math.sqrt(b),N=Math.atan2(P,g*v);y=Math.sin(y*N)/P,a=Math.sin(a*N)/P}const x=a*v;if(l=l*y+f*x,c=c*y+h*x,u=u*y+p*x,d=d*y+m*x,y===1-a){const P=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=P,c*=P,u*=P,d*=P}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,o,s){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=o[s],f=o[s+1],h=o[s+2],p=o[s+3];return e[n]=a*p+u*d+l*h-c*f,e[n+1]=l*p+u*f+c*d-a*h,e[n+2]=c*p+u*h+a*f-l*d,e[n+3]=u*p-a*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(o/2),f=l(r/2),h=l(i/2),p=l(o/2);switch(s){case"XYZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"YXZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"ZXY":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"ZYX":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"YZX":this._x=f*u*d+c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d-f*h*p;break;case"XZY":this._x=f*u*d-c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],s=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=r+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(o-c)*h,this._z=(s-i)*h}else if(r>a&&r>d){const h=2*Math.sqrt(1+r-a-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(o+c)/h}else if(a>d){const h=2*Math.sqrt(1+a-r-d);this._w=(o-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-a);this._w=(s-i)/h,this._x=(o+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(mi(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,s=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+s*a+i*c-o*l,this._y=i*u+s*l+o*a-r*c,this._z=o*u+s*c+r*l-i*a,this._w=s*u-r*a-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-n;return this._w=h*s+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=s*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=o*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class xe{constructor(e=0,n=0,r=0){xe.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(p6.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(p6.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,c=2*(s*i-a*r),u=2*(a*n-o*i),d=2*(o*r-s*n);return this.x=n+l*c+s*d-a*u,this.y=r+l*u+a*c-o*d,this.z=i+l*d+o*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,s=n.x,a=n.y,l=n.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return yx.copy(this).projectOnVector(e),this.sub(yx)}reflect(e){return this.sub(yx.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(mi(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const yx=new xe,p6=new Wm;class Vm{constructor(e=new xe(1/0,1/0,1/0),n=new xe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(No.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(No.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=No.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)e.isMesh===!0?e.getVertexPosition(s,No):No.fromBufferAttribute(o,s),No.applyMatrix4(e.matrixWorld),this.expandByPoint(No);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),z0.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),z0.copy(r.boundingBox)),z0.applyMatrix4(e.matrixWorld),this.union(z0)}const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,No),No.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ph),j0.subVectors(this.max,ph),Fu.subVectors(e.a,ph),Bu.subVectors(e.b,ph),Ou.subVectors(e.c,ph),Va.subVectors(Bu,Fu),$a.subVectors(Ou,Bu),$l.subVectors(Fu,Ou);let n=[0,-Va.z,Va.y,0,-$a.z,$a.y,0,-$l.z,$l.y,Va.z,0,-Va.x,$a.z,0,-$a.x,$l.z,0,-$l.x,-Va.y,Va.x,0,-$a.y,$a.x,0,-$l.y,$l.x,0];return!vx(n,Fu,Bu,Ou,j0)||(n=[1,0,0,0,1,0,0,0,1],!vx(n,Fu,Bu,Ou,j0))?!1:(H0.crossVectors(Va,$a),n=[H0.x,H0.y,H0.z],vx(n,Fu,Bu,Ou,j0))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,No).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(No).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Hs[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Hs[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Hs[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Hs[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Hs[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Hs[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Hs[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Hs[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Hs),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Hs=[new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe],No=new xe,z0=new Vm,Fu=new xe,Bu=new xe,Ou=new xe,Va=new xe,$a=new xe,$l=new xe,ph=new xe,j0=new xe,H0=new xe,ql=new xe;function vx(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){ql.fromArray(t,o);const a=i.x*Math.abs(ql.x)+i.y*Math.abs(ql.y)+i.z*Math.abs(ql.z),l=e.dot(ql),c=n.dot(ql),u=r.dot(ql);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const A0e=new Vm,mh=new xe,wx=new xe;class GT{constructor(e=new xe,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):A0e.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;mh.subVectors(e,this.center);const n=mh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(mh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(wx.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(mh.copy(e.center).add(wx)),this.expandByPoint(mh.copy(e.center).sub(wx))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Gs=new xe,bx=new xe,G0=new xe,qa=new xe,xx=new xe,W0=new xe,Ex=new xe;class _0e{constructor(e=new xe,n=new xe(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Gs)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Gs.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Gs.copy(this.origin).addScaledVector(this.direction,n),Gs.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){bx.copy(e).add(n).multiplyScalar(.5),G0.copy(n).sub(e).normalize(),qa.copy(this.origin).sub(bx);const o=e.distanceTo(n)*.5,s=-this.direction.dot(G0),a=qa.dot(this.direction),l=-qa.dot(G0),c=qa.lengthSq(),u=Math.abs(1-s*s);let d,f,h,p;if(u>0)if(d=s*l-a,f=s*a-l,p=o*u,d>=0)if(f>=-p)if(f<=p){const m=1/u;d*=m,f*=m,h=d*(d+s*f+2*a)+f*(s*d+f+2*l)+c}else f=o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;else f=-o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;else f<=-p?(d=Math.max(0,-(-s*o+a)),f=d>0?-o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c):f<=p?(d=0,f=Math.min(Math.max(-o,-l),o),h=f*(f+2*l)+c):(d=Math.max(0,-(s*o+a)),f=d>0?o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c);else f=s>0?-o:o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(bx).addScaledVector(G0,f),h}intersectSphere(e,n){Gs.subVectors(e.center,this.origin);const r=Gs.dot(this.direction),i=Gs.dot(Gs)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,l=r+s;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,s,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(o=(e.min.y-f.y)*u,s=(e.max.y-f.y)*u):(o=(e.max.y-f.y)*u,s=(e.min.y-f.y)*u),r>s||o>i||((o>r||isNaN(r))&&(r=o),(s<i||isNaN(i))&&(i=s),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Gs)!==null}intersectTriangle(e,n,r,i,o){xx.subVectors(n,e),W0.subVectors(r,e),Ex.crossVectors(xx,W0);let s=this.direction.dot(Ex),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;qa.subVectors(this.origin,e);const l=a*this.direction.dot(W0.crossVectors(qa,W0));if(l<0)return null;const c=a*this.direction.dot(xx.cross(qa));if(c<0||l+c>s)return null;const u=-a*qa.dot(Ex);return u<0?null:this.at(u/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ln{constructor(e,n,r,i,o,s,a,l,c,u,d,f,h,p,m,y){Ln.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c,u,d,f,h,p,m,y)}set(e,n,r,i,o,s,a,l,c,u,d,f,h,p,m,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=o,g[5]=s,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=f,g[3]=h,g[7]=p,g[11]=m,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ln().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Lu.setFromMatrixColumn(e,0).length(),o=1/Lu.setFromMatrixColumn(e,1).length(),s=1/Lu.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const f=s*u,h=s*d,p=a*u,m=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=h+p*c,n[5]=f-m*c,n[9]=-a*l,n[2]=m-f*c,n[6]=p+h*c,n[10]=s*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,p=c*u,m=c*d;n[0]=f+m*a,n[4]=p*a-h,n[8]=s*c,n[1]=s*d,n[5]=s*u,n[9]=-a,n[2]=h*a-p,n[6]=m+f*a,n[10]=s*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,p=c*u,m=c*d;n[0]=f-m*a,n[4]=-s*d,n[8]=p+h*a,n[1]=h+p*a,n[5]=s*u,n[9]=m-f*a,n[2]=-s*c,n[6]=a,n[10]=s*l}else if(e.order==="ZYX"){const f=s*u,h=s*d,p=a*u,m=a*d;n[0]=l*u,n[4]=p*c-h,n[8]=f*c+m,n[1]=l*d,n[5]=m*c+f,n[9]=h*c-p,n[2]=-c,n[6]=a*l,n[10]=s*l}else if(e.order==="YZX"){const f=s*l,h=s*c,p=a*l,m=a*c;n[0]=l*u,n[4]=m-f*d,n[8]=p*d+h,n[1]=d,n[5]=s*u,n[9]=-a*u,n[2]=-c*u,n[6]=h*d+p,n[10]=f-m*d}else if(e.order==="XZY"){const f=s*l,h=s*c,p=a*l,m=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+m,n[5]=s*u,n[9]=h*d-p,n[2]=p*d-h,n[6]=a*u,n[10]=m*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(S0e,e,C0e)}lookAt(e,n,r){const i=this.elements;return Fi.subVectors(e,n),Fi.lengthSq()===0&&(Fi.z=1),Fi.normalize(),Qa.crossVectors(r,Fi),Qa.lengthSq()===0&&(Math.abs(r.z)===1?Fi.x+=1e-4:Fi.z+=1e-4,Fi.normalize(),Qa.crossVectors(r,Fi)),Qa.normalize(),V0.crossVectors(Fi,Qa),i[0]=Qa.x,i[4]=V0.x,i[8]=Fi.x,i[1]=Qa.y,i[5]=V0.y,i[9]=Fi.y,i[2]=Qa.z,i[6]=V0.z,i[10]=Fi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],p=r[2],m=r[6],y=r[10],g=r[14],v=r[3],b=r[7],x=r[11],P=r[15],N=i[0],_=i[4],D=i[8],T=i[12],E=i[1],z=i[5],W=i[9],B=i[13],w=i[2],A=i[6],C=i[10],k=i[14],I=i[3],H=i[7],G=i[11],L=i[15];return o[0]=s*N+a*E+l*w+c*I,o[4]=s*_+a*z+l*A+c*H,o[8]=s*D+a*W+l*C+c*G,o[12]=s*T+a*B+l*k+c*L,o[1]=u*N+d*E+f*w+h*I,o[5]=u*_+d*z+f*A+h*H,o[9]=u*D+d*W+f*C+h*G,o[13]=u*T+d*B+f*k+h*L,o[2]=p*N+m*E+y*w+g*I,o[6]=p*_+m*z+y*A+g*H,o[10]=p*D+m*W+y*C+g*G,o[14]=p*T+m*B+y*k+g*L,o[3]=v*N+b*E+x*w+P*I,o[7]=v*_+b*z+x*A+P*H,o[11]=v*D+b*W+x*C+P*G,o[15]=v*T+b*B+x*k+P*L,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],p=e[3],m=e[7],y=e[11],g=e[15];return p*(+o*l*d-i*c*d-o*a*f+r*c*f+i*a*h-r*l*h)+m*(+n*l*h-n*c*f+o*s*f-i*s*h+i*c*u-o*l*u)+y*(+n*c*d-n*a*h-o*s*d+r*s*h+o*a*u-r*c*u)+g*(-i*a*u-n*l*d+n*a*f+i*s*d-r*s*f+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],m=e[13],y=e[14],g=e[15],v=d*y*c-m*f*c+m*l*h-a*y*h-d*l*g+a*f*g,b=p*f*c-u*y*c-p*l*h+s*y*h+u*l*g-s*f*g,x=u*m*c-p*d*c+p*a*h-s*m*h-u*a*g+s*d*g,P=p*d*l-u*m*l-p*a*f+s*m*f+u*a*y-s*d*y,N=n*v+r*b+i*x+o*P;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/N;return e[0]=v*_,e[1]=(m*f*o-d*y*o-m*i*h+r*y*h+d*i*g-r*f*g)*_,e[2]=(a*y*o-m*l*o+m*i*c-r*y*c-a*i*g+r*l*g)*_,e[3]=(d*l*o-a*f*o-d*i*c+r*f*c+a*i*h-r*l*h)*_,e[4]=b*_,e[5]=(u*y*o-p*f*o+p*i*h-n*y*h-u*i*g+n*f*g)*_,e[6]=(p*l*o-s*y*o-p*i*c+n*y*c+s*i*g-n*l*g)*_,e[7]=(s*f*o-u*l*o+u*i*c-n*f*c-s*i*h+n*l*h)*_,e[8]=x*_,e[9]=(p*d*o-u*m*o-p*r*h+n*m*h+u*r*g-n*d*g)*_,e[10]=(s*m*o-p*a*o+p*r*c-n*m*c-s*r*g+n*a*g)*_,e[11]=(u*a*o-s*d*o-u*r*c+n*d*c+s*r*h-n*a*h)*_,e[12]=P*_,e[13]=(u*m*i-p*d*i+p*r*f-n*m*f-u*r*y+n*d*y)*_,e[14]=(p*a*i-s*m*i-p*r*l+n*m*l+s*r*y-n*a*y)*_,e[15]=(s*d*i-u*a*i+u*r*l-n*d*l-s*r*f+n*a*f)*_,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,s=e.x,a=e.y,l=e.z,c=o*s,u=o*a;return this.set(c*s+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*s,0,c*l-i*a,u*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,s=n._y,a=n._z,l=n._w,c=o+o,u=s+s,d=a+a,f=o*c,h=o*u,p=o*d,m=s*u,y=s*d,g=a*d,v=l*c,b=l*u,x=l*d,P=r.x,N=r.y,_=r.z;return i[0]=(1-(m+g))*P,i[1]=(h+x)*P,i[2]=(p-b)*P,i[3]=0,i[4]=(h-x)*N,i[5]=(1-(f+g))*N,i[6]=(y+v)*N,i[7]=0,i[8]=(p+b)*_,i[9]=(y-v)*_,i[10]=(1-(f+m))*_,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=Lu.set(i[0],i[1],i[2]).length();const s=Lu.set(i[4],i[5],i[6]).length(),a=Lu.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],ko.copy(this);const c=1/o,u=1/s,d=1/a;return ko.elements[0]*=c,ko.elements[1]*=c,ko.elements[2]*=c,ko.elements[4]*=u,ko.elements[5]*=u,ko.elements[6]*=u,ko.elements[8]*=d,ko.elements[9]*=d,ko.elements[10]*=d,n.setFromRotationMatrix(ko),r.x=o,r.y=s,r.z=a,this}makePerspective(e,n,r,i,o,s,a=ua){const l=this.elements,c=2*o/(n-e),u=2*o/(r-i),d=(n+e)/(n-e),f=(r+i)/(r-i);let h,p;if(a===ua)h=-(s+o)/(s-o),p=-2*s*o/(s-o);else if(a===wv)h=-s/(s-o),p=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,s,a=ua){const l=this.elements,c=1/(n-e),u=1/(r-i),d=1/(s-o),f=(n+e)*c,h=(r+i)*u;let p,m;if(a===ua)p=(s+o)*d,m=-2*d;else if(a===wv)p=o*d,m=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=m,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Lu=new xe,ko=new Ln,S0e=new xe(0,0,0),C0e=new xe(1,1,1),Qa=new xe,V0=new xe,Fi=new xe,m6=new Ln,g6=new Wm;class Os{constructor(e=0,n=0,r=0,i=Os.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(mi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-mi(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(mi(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-mi(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(mi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-mi(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return m6.makeRotationFromQuaternion(e),this.setFromRotationMatrix(m6,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return g6.setFromEuler(this),this.setFromQuaternion(g6,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Os.DEFAULT_ORDER="XYZ";class D9{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let T0e=0;const y6=new xe,Du=new Wm,Ws=new Ln,$0=new xe,gh=new xe,M0e=new xe,I0e=new Wm,v6=new xe(1,0,0),w6=new xe(0,1,0),b6=new xe(0,0,1),x6={type:"added"},R0e={type:"removed"},Uu={type:"childadded",child:null},Ax={type:"childremoved",child:null};class Gr extends Df{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:T0e++}),this.uuid=Gm(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Gr.DEFAULT_UP.clone();const e=new xe,n=new Os,r=new Wm,i=new xe(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ln},normalMatrix:{value:new Ft}}),this.matrix=new Ln,this.matrixWorld=new Ln,this.matrixAutoUpdate=Gr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Gr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new D9,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Du.setFromAxisAngle(e,n),this.quaternion.multiply(Du),this}rotateOnWorldAxis(e,n){return Du.setFromAxisAngle(e,n),this.quaternion.premultiply(Du),this}rotateX(e){return this.rotateOnAxis(v6,e)}rotateY(e){return this.rotateOnAxis(w6,e)}rotateZ(e){return this.rotateOnAxis(b6,e)}translateOnAxis(e,n){return y6.copy(e).applyQuaternion(this.quaternion),this.position.add(y6.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(v6,e)}translateY(e){return this.translateOnAxis(w6,e)}translateZ(e){return this.translateOnAxis(b6,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ws.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?$0.copy(e):$0.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),gh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ws.lookAt(gh,$0,this.up):Ws.lookAt($0,gh,this.up),this.quaternion.setFromRotationMatrix(Ws),i&&(Ws.extractRotation(i.matrixWorld),Du.setFromRotationMatrix(Ws),this.quaternion.premultiply(Du.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(x6),Uu.child=e,this.dispatchEvent(Uu),Uu.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(R0e),Ax.child=e,this.dispatchEvent(Ax),Ax.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ws.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ws.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ws),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(x6),Uu.child=e,this.dispatchEvent(Uu),Uu.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gh,e,M0e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gh,I0e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(o(e.animations,l))}}if(n){const a=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),f=s(e.skeletons),h=s(e.animations),p=s(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function s(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Gr.DEFAULT_UP=new xe(0,1,0);Gr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Gr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Fo=new xe,Vs=new xe,_x=new xe,$s=new xe,zu=new xe,ju=new xe,E6=new xe,Sx=new xe,Cx=new xe,Tx=new xe,Mx=new Bn,Ix=new Bn,Rx=new Bn;class qo{constructor(e=new xe,n=new xe,r=new xe){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Fo.subVectors(e,n),i.cross(Fo);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Fo.subVectors(i,n),Vs.subVectors(r,n),_x.subVectors(e,n);const s=Fo.dot(Fo),a=Fo.dot(Vs),l=Fo.dot(_x),c=Vs.dot(Vs),u=Vs.dot(_x),d=s*c-a*a;if(d===0)return o.set(0,0,0),null;const f=1/d,h=(c*l-a*u)*f,p=(s*u-a*l)*f;return o.set(1-h-p,p,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,$s)===null?!1:$s.x>=0&&$s.y>=0&&$s.x+$s.y<=1}static getInterpolation(e,n,r,i,o,s,a,l){return this.getBarycoord(e,n,r,i,$s)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,$s.x),l.addScaledVector(s,$s.y),l.addScaledVector(a,$s.z),l)}static getInterpolatedAttribute(e,n,r,i,o,s){return Mx.setScalar(0),Ix.setScalar(0),Rx.setScalar(0),Mx.fromBufferAttribute(e,n),Ix.fromBufferAttribute(e,r),Rx.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(Mx,o.x),s.addScaledVector(Ix,o.y),s.addScaledVector(Rx,o.z),s}static isFrontFacing(e,n,r,i){return Fo.subVectors(r,n),Vs.subVectors(e,n),Fo.cross(Vs).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Fo.subVectors(this.c,this.b),Vs.subVectors(this.a,this.b),Fo.cross(Vs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return qo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return qo.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return qo.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return qo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return qo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let s,a;zu.subVectors(i,r),ju.subVectors(o,r),Sx.subVectors(e,r);const l=zu.dot(Sx),c=ju.dot(Sx);if(l<=0&&c<=0)return n.copy(r);Cx.subVectors(e,i);const u=zu.dot(Cx),d=ju.dot(Cx);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return s=l/(l-u),n.copy(r).addScaledVector(zu,s);Tx.subVectors(e,o);const h=zu.dot(Tx),p=ju.dot(Tx);if(p>=0&&h<=p)return n.copy(o);const m=h*c-l*p;if(m<=0&&c>=0&&p<=0)return a=c/(c-p),n.copy(r).addScaledVector(ju,a);const y=u*p-h*d;if(y<=0&&d-u>=0&&h-p>=0)return E6.subVectors(o,i),a=(d-u)/(d-u+(h-p)),n.copy(i).addScaledVector(E6,a);const g=1/(y+m+f);return s=m*g,a=f*g,n.copy(r).addScaledVector(zu,s).addScaledVector(ju,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const U9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ka={h:0,s:0,l:0},q0={h:0,s:0,l:0};function Px(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Jt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Or){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Qt.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Qt.workingColorSpace){return this.r=e,this.g=n,this.b=r,Qt.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Qt.workingColorSpace){if(e=h0e(e,1),n=mi(n,0,1),r=mi(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=Px(s,o,e+1/3),this.g=Px(s,o,e),this.b=Px(s,o,e-1/3)}return Qt.toWorkingColorSpace(this,i),this}setStyle(e,n=Or){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Or){const r=U9[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ga(e.r),this.g=ga(e.g),this.b=ga(e.b),this}copyLinearToSRGB(e){return this.r=Pd(e.r),this.g=Pd(e.g),this.b=Pd(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Or){return Qt.fromWorkingColorSpace(Fr.copy(this),e),Math.round(mi(Fr.r*255,0,255))*65536+Math.round(mi(Fr.g*255,0,255))*256+Math.round(mi(Fr.b*255,0,255))}getHexString(e=Or){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Qt.workingColorSpace){Qt.fromWorkingColorSpace(Fr.copy(this),n);const r=Fr.r,i=Fr.g,o=Fr.b,s=Math.max(r,i,o),a=Math.min(r,i,o);let l,c;const u=(a+s)/2;if(a===s)l=0,c=0;else{const d=s-a;switch(c=u<=.5?d/(s+a):d/(2-s-a),s){case r:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-r)/d+2;break;case o:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Qt.workingColorSpace){return Qt.fromWorkingColorSpace(Fr.copy(this),n),e.r=Fr.r,e.g=Fr.g,e.b=Fr.b,e}getStyle(e=Or){Qt.fromWorkingColorSpace(Fr.copy(this),e);const n=Fr.r,r=Fr.g,i=Fr.b;return e!==Or?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Ka),this.setHSL(Ka.h+e,Ka.s+n,Ka.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ka),e.getHSL(q0);const r=px(Ka.h,q0.h,n),i=px(Ka.s,q0.s,n),o=px(Ka.l,q0.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Fr=new Jt;Jt.NAMES=U9;let P0e=0;class $m extends Df{static get type(){return"Material"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:P0e++}),this.uuid=Gm(),this.name="",this.blending=Id,this.side=Nl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=D2,this.blendDst=U2,this.blendEquation=uc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Jt(0,0,0),this.blendAlpha=0,this.depthFunc=lf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=o6,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Nu,this.stencilZFail=Nu,this.stencilZPass=Nu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Id&&(r.blending=this.blending),this.side!==Nl&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==D2&&(r.blendSrc=this.blendSrc),this.blendDst!==U2&&(r.blendDst=this.blendDst),this.blendEquation!==uc&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==lf&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==o6&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Nu&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Nu&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Nu&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(n){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class z9 extends $m{static get type(){return"MeshBasicMaterial"}constructor(e){super(),this.isMeshBasicMaterial=!0,this.color=new Jt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Os,this.combine=OT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Vn=new xe,Q0=new nn;class Is{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=s6,this.updateRanges=[],this.gpuType=ca,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Q0.fromBufferAttribute(this,n),Q0.applyMatrix3(e),this.setXY(n,Q0.x,Q0.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Vn.fromBufferAttribute(this,n),Vn.applyMatrix3(e),this.setXYZ(n,Vn.x,Vn.y,Vn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Vn.fromBufferAttribute(this,n),Vn.applyMatrix4(e),this.setXYZ(n,Vn.x,Vn.y,Vn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Vn.fromBufferAttribute(this,n),Vn.applyNormalMatrix(e),this.setXYZ(n,Vn.x,Vn.y,Vn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Vn.fromBufferAttribute(this,n),Vn.transformDirection(e),this.setXYZ(n,Vn.x,Vn.y,Vn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=hh(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=ui(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=hh(n,this.array)),n}setX(e,n){return this.normalized&&(n=ui(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=hh(n,this.array)),n}setY(e,n){return this.normalized&&(n=ui(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=hh(n,this.array)),n}setZ(e,n){return this.normalized&&(n=ui(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=hh(n,this.array)),n}setW(e,n){return this.normalized&&(n=ui(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=ui(n,this.array),r=ui(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=ui(n,this.array),r=ui(r,this.array),i=ui(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=ui(n,this.array),r=ui(r,this.array),i=ui(i,this.array),o=ui(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==s6&&(e.usage=this.usage),e}}class j9 extends Is{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class H9 extends Is{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Rs extends Is{constructor(e,n,r){super(new Float32Array(e),n,r)}}let N0e=0;const ao=new Ln,Nx=new Gr,Hu=new xe,Bi=new Vm,yh=new Vm,ur=new xe;class jl extends Df{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:N0e++}),this.uuid=Gm(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(B9(e)?H9:j9)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Ft().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ao.makeRotationFromQuaternion(e),this.applyMatrix4(ao),this}rotateX(e){return ao.makeRotationX(e),this.applyMatrix4(ao),this}rotateY(e){return ao.makeRotationY(e),this.applyMatrix4(ao),this}rotateZ(e){return ao.makeRotationZ(e),this.applyMatrix4(ao),this}translate(e,n,r){return ao.makeTranslation(e,n,r),this.applyMatrix4(ao),this}scale(e,n,r){return ao.makeScale(e,n,r),this.applyMatrix4(ao),this}lookAt(e){return Nx.lookAt(e),Nx.updateMatrix(),this.applyMatrix4(Nx.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hu).negate(),this.translate(Hu.x,Hu.y,Hu.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,o=e.length;i<o;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Rs(r,3))}else{for(let r=0,i=n.count;r<i;r++){const o=e[r];n.setXYZ(r,o.x,o.y,o.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Vm);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new xe(-1/0,-1/0,-1/0),new xe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Bi.setFromBufferAttribute(o),this.morphTargetsRelative?(ur.addVectors(this.boundingBox.min,Bi.min),this.boundingBox.expandByPoint(ur),ur.addVectors(this.boundingBox.max,Bi.max),this.boundingBox.expandByPoint(ur)):(this.boundingBox.expandByPoint(Bi.min),this.boundingBox.expandByPoint(Bi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new GT);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new xe,1/0);return}if(e){const r=this.boundingSphere.center;if(Bi.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const a=n[o];yh.setFromBufferAttribute(a),this.morphTargetsRelative?(ur.addVectors(Bi.min,yh.min),Bi.expandByPoint(ur),ur.addVectors(Bi.max,yh.max),Bi.expandByPoint(ur)):(Bi.expandByPoint(yh.min),Bi.expandByPoint(yh.max))}Bi.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)ur.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(ur));if(n)for(let o=0,s=n.length;o<s;o++){const a=n[o],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)ur.fromBufferAttribute(a,c),l&&(Hu.fromBufferAttribute(e,c),ur.add(Hu)),i=Math.max(i,r.distanceToSquared(ur))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Is(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),a=[],l=[];for(let D=0;D<r.count;D++)a[D]=new xe,l[D]=new xe;const c=new xe,u=new xe,d=new xe,f=new nn,h=new nn,p=new nn,m=new xe,y=new xe;function g(D,T,E){c.fromBufferAttribute(r,D),u.fromBufferAttribute(r,T),d.fromBufferAttribute(r,E),f.fromBufferAttribute(o,D),h.fromBufferAttribute(o,T),p.fromBufferAttribute(o,E),u.sub(c),d.sub(c),h.sub(f),p.sub(f);const z=1/(h.x*p.y-p.x*h.y);isFinite(z)&&(m.copy(u).multiplyScalar(p.y).addScaledVector(d,-h.y).multiplyScalar(z),y.copy(d).multiplyScalar(h.x).addScaledVector(u,-p.x).multiplyScalar(z),a[D].add(m),a[T].add(m),a[E].add(m),l[D].add(y),l[T].add(y),l[E].add(y))}let v=this.groups;v.length===0&&(v=[{start:0,count:e.count}]);for(let D=0,T=v.length;D<T;++D){const E=v[D],z=E.start,W=E.count;for(let B=z,w=z+W;B<w;B+=3)g(e.getX(B+0),e.getX(B+1),e.getX(B+2))}const b=new xe,x=new xe,P=new xe,N=new xe;function _(D){P.fromBufferAttribute(i,D),N.copy(P);const T=a[D];b.copy(T),b.sub(P.multiplyScalar(P.dot(T))).normalize(),x.crossVectors(N,T);const z=x.dot(l[D])<0?-1:1;s.setXYZW(D,b.x,b.y,b.z,z)}for(let D=0,T=v.length;D<T;++D){const E=v[D],z=E.start,W=E.count;for(let B=z,w=z+W;B<w;B+=3)_(e.getX(B+0)),_(e.getX(B+1)),_(e.getX(B+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Is(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new xe,o=new xe,s=new xe,a=new xe,l=new xe,c=new xe,u=new xe,d=new xe;if(e)for(let f=0,h=e.count;f<h;f+=3){const p=e.getX(f+0),m=e.getX(f+1),y=e.getX(f+2);i.fromBufferAttribute(n,p),o.fromBufferAttribute(n,m),s.fromBufferAttribute(n,y),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),a.fromBufferAttribute(r,p),l.fromBufferAttribute(r,m),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(p,a.x,a.y,a.z),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let f=0,h=n.count;f<h;f+=3)i.fromBufferAttribute(n,f+0),o.fromBufferAttribute(n,f+1),s.fromBufferAttribute(n,f+2),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ur.fromBufferAttribute(e,n),ur.normalize(),e.setXYZ(n,ur.x,ur.y,ur.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let h=0,p=0;for(let m=0,y=l.length;m<y;m++){a.isInterleavedBufferAttribute?h=l[m]*a.data.stride+a.offset:h=l[m]*u;for(let g=0;g<u;g++)f[p++]=c[h++]}return new Is(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new jl,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const l=[],c=o[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,r);l.push(h)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const c=s[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],d=o[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const A6=new Ln,Ql=new _0e,K0=new GT,_6=new xe,X0=new xe,Y0=new xe,J0=new xe,kx=new xe,Z0=new xe,S6=new xe,eg=new xe;class Ko extends Gr{constructor(e=new jl,n=new z9){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(o&&a){Z0.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=a[l],d=o[l];u!==0&&(kx.fromBufferAttribute(d,e),s?Z0.addScaledVector(kx,u):Z0.addScaledVector(kx.sub(n),u))}n.add(Z0)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),K0.copy(r.boundingSphere),K0.applyMatrix4(o),Ql.copy(e.ray).recast(e.near),!(K0.containsPoint(Ql.origin)===!1&&(Ql.intersectSphere(K0,_6)===null||Ql.origin.distanceToSquared(_6)>(e.far-e.near)**2))&&(A6.copy(o).invert(),Ql.copy(e.ray).applyMatrix4(A6),!(r.boundingBox!==null&&Ql.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Ql)))}_computeIntersections(e,n,r){let i;const o=this.geometry,s=this.material,a=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,d=o.attributes.normal,f=o.groups,h=o.drawRange;if(a!==null)if(Array.isArray(s))for(let p=0,m=f.length;p<m;p++){const y=f[p],g=s[y.materialIndex],v=Math.max(y.start,h.start),b=Math.min(a.count,Math.min(y.start+y.count,h.start+h.count));for(let x=v,P=b;x<P;x+=3){const N=a.getX(x),_=a.getX(x+1),D=a.getX(x+2);i=tg(this,g,e,r,c,u,d,N,_,D),i&&(i.faceIndex=Math.floor(x/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),m=Math.min(a.count,h.start+h.count);for(let y=p,g=m;y<g;y+=3){const v=a.getX(y),b=a.getX(y+1),x=a.getX(y+2);i=tg(this,s,e,r,c,u,d,v,b,x),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let p=0,m=f.length;p<m;p++){const y=f[p],g=s[y.materialIndex],v=Math.max(y.start,h.start),b=Math.min(l.count,Math.min(y.start+y.count,h.start+h.count));for(let x=v,P=b;x<P;x+=3){const N=x,_=x+1,D=x+2;i=tg(this,g,e,r,c,u,d,N,_,D),i&&(i.faceIndex=Math.floor(x/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),m=Math.min(l.count,h.start+h.count);for(let y=p,g=m;y<g;y+=3){const v=y,b=y+1,x=y+2;i=tg(this,s,e,r,c,u,d,v,b,x),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function k0e(t,e,n,r,i,o,s,a){let l;if(e.side===Mi?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side===Nl,a),l===null)return null;eg.copy(a),eg.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(eg);return c<n.near||c>n.far?null:{distance:c,point:eg.clone(),object:t}}function tg(t,e,n,r,i,o,s,a,l,c){t.getVertexPosition(a,X0),t.getVertexPosition(l,Y0),t.getVertexPosition(c,J0);const u=k0e(t,e,n,r,X0,Y0,J0,S6);if(u){const d=new xe;qo.getBarycoord(S6,X0,Y0,J0,d),i&&(u.uv=qo.getInterpolatedAttribute(i,a,l,c,d,new nn)),o&&(u.uv1=qo.getInterpolatedAttribute(o,a,l,c,d,new nn)),s&&(u.normal=qo.getInterpolatedAttribute(s,a,l,c,d,new xe),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new xe,materialIndex:0};qo.getNormal(X0,Y0,J0,f.normal),u.face=f,u.barycoord=d}return u}class qm extends jl{constructor(e=1,n=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const l=[],c=[],u=[],d=[];let f=0,h=0;p("z","y","x",-1,-1,r,n,e,s,o,0),p("z","y","x",1,-1,r,n,-e,s,o,1),p("x","z","y",1,1,e,r,n,i,s,2),p("x","z","y",1,-1,e,r,-n,i,s,3),p("x","y","z",1,-1,e,n,r,i,o,4),p("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Rs(c,3)),this.setAttribute("normal",new Rs(u,3)),this.setAttribute("uv",new Rs(d,2));function p(m,y,g,v,b,x,P,N,_,D,T){const E=x/_,z=P/D,W=x/2,B=P/2,w=N/2,A=_+1,C=D+1;let k=0,I=0;const H=new xe;for(let G=0;G<C;G++){const L=G*z-B;for(let M=0;M<A;M++){const $=M*E-W;H[m]=$*v,H[y]=L*b,H[g]=w,c.push(H.x,H.y,H.z),H[m]=0,H[y]=0,H[g]=N>0?1:-1,u.push(H.x,H.y,H.z),d.push(M/_),d.push(1-G/D),k+=1}}for(let G=0;G<D;G++)for(let L=0;L<_;L++){const M=f+L+A*G,$=f+L+A*(G+1),J=f+(L+1)+A*(G+1),te=f+(L+1)+A*G;l.push(M,$,te),l.push($,J,te),I+=6}a.addGroup(h,I,T),h+=I,f+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qm(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function hf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Vr(t){const e={};for(let n=0;n<t.length;n++){const r=hf(t[n]);for(const i in r)e[i]=r[i]}return e}function F0e(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function G9(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Qt.workingColorSpace}const B0e={clone:hf,merge:Vr};var O0e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,L0e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class kl extends $m{static get type(){return"ShaderMaterial"}constructor(e){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=O0e,this.fragmentShader=L0e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=hf(e.uniforms),this.uniformsGroups=F0e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class W9 extends Gr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ln,this.projectionMatrix=new Ln,this.projectionMatrixInverse=new Ln,this.coordinateSystem=ua}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Xa=new xe,C6=new nn,T6=new nn;class Hi extends W9{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=A_*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(hx*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return A_*2*Math.atan(Math.tan(hx*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Xa.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Xa.x,Xa.y).multiplyScalar(-e/Xa.z),Xa.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Xa.x,Xa.y).multiplyScalar(-e/Xa.z)}getViewSize(e,n){return this.getViewBounds(e,C6,T6),n.subVectors(T6,C6)}setViewOffset(e,n,r,i,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(hx*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/l,n-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Gu=-90,Wu=1;class D0e extends Gr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Hi(Gu,Wu,e,n);i.layers=this.layers,this.add(i);const o=new Hi(Gu,Wu,e,n);o.layers=this.layers,this.add(o);const s=new Hi(Gu,Wu,e,n);s.layers=this.layers,this.add(s);const a=new Hi(Gu,Wu,e,n);a.layers=this.layers,this.add(a);const l=new Hi(Gu,Wu,e,n);l.layers=this.layers,this.add(l);const c=new Hi(Gu,Wu,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,s,a,l]=n;for(const c of n)this.remove(c);if(e===ua)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===wv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,s,a,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,s),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=m,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(d,f,h),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class V9 extends Hr{constructor(e,n,r,i,o,s,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:cf,super(e,n,r,i,o,s,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class U0e extends su{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new V9(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:wi}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new qm(5,5,5),o=new kl({name:"CubemapFromEquirect",uniforms:hf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Mi,blending:Al});o.uniforms.tEquirect.value=n;const s=new Ko(i,o),a=n.minFilter;return n.minFilter===Tc&&(n.minFilter=wi),new D0e(1,10,this).update(e,s),n.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(o)}}const Fx=new xe,z0e=new xe,j0e=new Ft;class nc{constructor(e=new xe(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=Fx.subVectors(r,n).cross(z0e.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(Fx),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||j0e.getNormalMatrix(e),i=this.coplanarPoint(Fx).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Kl=new GT,ng=new xe;class WT{constructor(e=new nc,n=new nc,r=new nc,i=new nc,o=new nc,s=new nc){this.planes=[e,n,r,i,o,s]}set(e,n,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=ua){const r=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],h=i[8],p=i[9],m=i[10],y=i[11],g=i[12],v=i[13],b=i[14],x=i[15];if(r[0].setComponents(l-o,f-c,y-h,x-g).normalize(),r[1].setComponents(l+o,f+c,y+h,x+g).normalize(),r[2].setComponents(l+s,f+u,y+p,x+v).normalize(),r[3].setComponents(l-s,f-u,y-p,x-v).normalize(),r[4].setComponents(l-a,f-d,y-m,x-b).normalize(),n===ua)r[5].setComponents(l+a,f+d,y+m,x+b).normalize();else if(n===wv)r[5].setComponents(a,d,m,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Kl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Kl.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Kl)}intersectsSprite(e){return Kl.center.set(0,0,0),Kl.radius=.7071067811865476,Kl.applyMatrix4(e.matrixWorld),this.intersectsSphere(Kl)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(ng.x=i.normal.x>0?e.max.x:e.min.x,ng.y=i.normal.y>0?e.max.y:e.min.y,ng.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(ng)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function $9(){let t=null,e=!1,n=null,r=null;function i(o,s){n(o,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function H0e(t){const e=new WeakMap;function n(a,l){const c=a.array,u=a.usage,d=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,u),a.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function r(a,l,c){const u=l.array,d=l.updateRanges;if(t.bindBuffer(c,a),d.length===0)t.bufferSubData(c,0,u);else{d.sort((h,p)=>h.start-p.start);let f=0;for(let h=1;h<d.length;h++){const p=d[f],m=d[h];m.start<=p.start+p.count+1?p.count=Math.max(p.count,m.start+m.count-p.start):(++f,d[f]=m)}d.length=f+1;for(let h=0,p=d.length;h<p;h++){const m=d[h];t.bufferSubData(c,m.start*u.BYTES_PER_ELEMENT,u,m.start,m.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function s(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:o,update:s}}class v1 extends jl{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,s=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,f=n/l,h=[],p=[],m=[],y=[];for(let g=0;g<u;g++){const v=g*f-s;for(let b=0;b<c;b++){const x=b*d-o;p.push(x,-v,0),m.push(0,0,1),y.push(b/a),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let v=0;v<a;v++){const b=v+c*g,x=v+c*(g+1),P=v+1+c*(g+1),N=v+1+c*g;h.push(b,x,N),h.push(x,P,N)}this.setIndex(h),this.setAttribute("position",new Rs(p,3)),this.setAttribute("normal",new Rs(m,3)),this.setAttribute("uv",new Rs(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new v1(e.width,e.height,e.widthSegments,e.heightSegments)}}var G0e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,W0e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,V0e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,$0e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,q0e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Q0e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,K0e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,X0e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Y0e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,J0e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Z0e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,ege=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,tge=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,nge=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,rge=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ige=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,oge=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,sge=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,age=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,lge=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,cge=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,uge=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,dge=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,fge=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,hge=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,pge=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,mge=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,gge=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,yge=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,vge=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,wge="gl_FragColor = linearToOutputTexel( gl_FragColor );",bge=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,xge=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Ege=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Age=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,_ge=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Sge=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Cge=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Tge=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Mge=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Ige=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Rge=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Pge=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Nge=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,kge=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Fge=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Bge=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Oge=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Lge=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Dge=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Uge=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,zge=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,jge=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Hge=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Gge=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Wge=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Vge=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,$ge=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,qge=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Qge=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Kge=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Xge=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Yge=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Jge=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Zge=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,eye=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,tye=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,nye=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,rye=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,iye=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,oye=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,sye=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,aye=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,lye=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cye=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uye=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,dye=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,fye=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,hye=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,pye=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,mye=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,gye=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,yye=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,vye=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,wye=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,bye=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,xye=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Eye=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Aye=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,_ye=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Sye=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Cye=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Tye=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Mye=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Iye=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Rye=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Pye=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Nye=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,kye=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Fye=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Bye=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Oye=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Lye=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Dye=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Uye=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,zye=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,jye=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Hye=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Gye=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Wye=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Vye=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$ye=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,qye=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Qye=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Kye=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Xye=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Yye=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Jye=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Zye=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,eve=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tve=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nve=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,rve=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ive=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ove=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sve=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ave=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lve=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,cve=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,uve=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dve=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fve=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,hve=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pve=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mve=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gve=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,yve=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vve=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wve=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,bve=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,xve=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ot={alphahash_fragment:G0e,alphahash_pars_fragment:W0e,alphamap_fragment:V0e,alphamap_pars_fragment:$0e,alphatest_fragment:q0e,alphatest_pars_fragment:Q0e,aomap_fragment:K0e,aomap_pars_fragment:X0e,batching_pars_vertex:Y0e,batching_vertex:J0e,begin_vertex:Z0e,beginnormal_vertex:ege,bsdfs:tge,iridescence_fragment:nge,bumpmap_pars_fragment:rge,clipping_planes_fragment:ige,clipping_planes_pars_fragment:oge,clipping_planes_pars_vertex:sge,clipping_planes_vertex:age,color_fragment:lge,color_pars_fragment:cge,color_pars_vertex:uge,color_vertex:dge,common:fge,cube_uv_reflection_fragment:hge,defaultnormal_vertex:pge,displacementmap_pars_vertex:mge,displacementmap_vertex:gge,emissivemap_fragment:yge,emissivemap_pars_fragment:vge,colorspace_fragment:wge,colorspace_pars_fragment:bge,envmap_fragment:xge,envmap_common_pars_fragment:Ege,envmap_pars_fragment:Age,envmap_pars_vertex:_ge,envmap_physical_pars_fragment:Bge,envmap_vertex:Sge,fog_vertex:Cge,fog_pars_vertex:Tge,fog_fragment:Mge,fog_pars_fragment:Ige,gradientmap_pars_fragment:Rge,lightmap_pars_fragment:Pge,lights_lambert_fragment:Nge,lights_lambert_pars_fragment:kge,lights_pars_begin:Fge,lights_toon_fragment:Oge,lights_toon_pars_fragment:Lge,lights_phong_fragment:Dge,lights_phong_pars_fragment:Uge,lights_physical_fragment:zge,lights_physical_pars_fragment:jge,lights_fragment_begin:Hge,lights_fragment_maps:Gge,lights_fragment_end:Wge,logdepthbuf_fragment:Vge,logdepthbuf_pars_fragment:$ge,logdepthbuf_pars_vertex:qge,logdepthbuf_vertex:Qge,map_fragment:Kge,map_pars_fragment:Xge,map_particle_fragment:Yge,map_particle_pars_fragment:Jge,metalnessmap_fragment:Zge,metalnessmap_pars_fragment:eye,morphinstance_vertex:tye,morphcolor_vertex:nye,morphnormal_vertex:rye,morphtarget_pars_vertex:iye,morphtarget_vertex:oye,normal_fragment_begin:sye,normal_fragment_maps:aye,normal_pars_fragment:lye,normal_pars_vertex:cye,normal_vertex:uye,normalmap_pars_fragment:dye,clearcoat_normal_fragment_begin:fye,clearcoat_normal_fragment_maps:hye,clearcoat_pars_fragment:pye,iridescence_pars_fragment:mye,opaque_fragment:gye,packing:yye,premultiplied_alpha_fragment:vye,project_vertex:wye,dithering_fragment:bye,dithering_pars_fragment:xye,roughnessmap_fragment:Eye,roughnessmap_pars_fragment:Aye,shadowmap_pars_fragment:_ye,shadowmap_pars_vertex:Sye,shadowmap_vertex:Cye,shadowmask_pars_fragment:Tye,skinbase_vertex:Mye,skinning_pars_vertex:Iye,skinning_vertex:Rye,skinnormal_vertex:Pye,specularmap_fragment:Nye,specularmap_pars_fragment:kye,tonemapping_fragment:Fye,tonemapping_pars_fragment:Bye,transmission_fragment:Oye,transmission_pars_fragment:Lye,uv_pars_fragment:Dye,uv_pars_vertex:Uye,uv_vertex:zye,worldpos_vertex:jye,background_vert:Hye,background_frag:Gye,backgroundCube_vert:Wye,backgroundCube_frag:Vye,cube_vert:$ye,cube_frag:qye,depth_vert:Qye,depth_frag:Kye,distanceRGBA_vert:Xye,distanceRGBA_frag:Yye,equirect_vert:Jye,equirect_frag:Zye,linedashed_vert:eve,linedashed_frag:tve,meshbasic_vert:nve,meshbasic_frag:rve,meshlambert_vert:ive,meshlambert_frag:ove,meshmatcap_vert:sve,meshmatcap_frag:ave,meshnormal_vert:lve,meshnormal_frag:cve,meshphong_vert:uve,meshphong_frag:dve,meshphysical_vert:fve,meshphysical_frag:hve,meshtoon_vert:pve,meshtoon_frag:mve,points_vert:gve,points_frag:yve,shadow_vert:vve,shadow_frag:wve,sprite_vert:bve,sprite_frag:xve},st={common:{diffuse:{value:new Jt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ft},alphaMap:{value:null},alphaMapTransform:{value:new Ft},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ft}},envmap:{envMap:{value:null},envMapRotation:{value:new Ft},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ft}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ft}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ft},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ft},normalScale:{value:new nn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ft},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ft}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ft}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ft}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Jt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Jt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ft},alphaTest:{value:0},uvTransform:{value:new Ft}},sprite:{diffuse:{value:new Jt(16777215)},opacity:{value:1},center:{value:new nn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ft},alphaMap:{value:null},alphaMapTransform:{value:new Ft},alphaTest:{value:0}}},vs={basic:{uniforms:Vr([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.fog]),vertexShader:Ot.meshbasic_vert,fragmentShader:Ot.meshbasic_frag},lambert:{uniforms:Vr([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new Jt(0)}}]),vertexShader:Ot.meshlambert_vert,fragmentShader:Ot.meshlambert_frag},phong:{uniforms:Vr([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new Jt(0)},specular:{value:new Jt(1118481)},shininess:{value:30}}]),vertexShader:Ot.meshphong_vert,fragmentShader:Ot.meshphong_frag},standard:{uniforms:Vr([st.common,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.roughnessmap,st.metalnessmap,st.fog,st.lights,{emissive:{value:new Jt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ot.meshphysical_vert,fragmentShader:Ot.meshphysical_frag},toon:{uniforms:Vr([st.common,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.gradientmap,st.fog,st.lights,{emissive:{value:new Jt(0)}}]),vertexShader:Ot.meshtoon_vert,fragmentShader:Ot.meshtoon_frag},matcap:{uniforms:Vr([st.common,st.bumpmap,st.normalmap,st.displacementmap,st.fog,{matcap:{value:null}}]),vertexShader:Ot.meshmatcap_vert,fragmentShader:Ot.meshmatcap_frag},points:{uniforms:Vr([st.points,st.fog]),vertexShader:Ot.points_vert,fragmentShader:Ot.points_frag},dashed:{uniforms:Vr([st.common,st.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ot.linedashed_vert,fragmentShader:Ot.linedashed_frag},depth:{uniforms:Vr([st.common,st.displacementmap]),vertexShader:Ot.depth_vert,fragmentShader:Ot.depth_frag},normal:{uniforms:Vr([st.common,st.bumpmap,st.normalmap,st.displacementmap,{opacity:{value:1}}]),vertexShader:Ot.meshnormal_vert,fragmentShader:Ot.meshnormal_frag},sprite:{uniforms:Vr([st.sprite,st.fog]),vertexShader:Ot.sprite_vert,fragmentShader:Ot.sprite_frag},background:{uniforms:{uvTransform:{value:new Ft},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ot.background_vert,fragmentShader:Ot.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ft}},vertexShader:Ot.backgroundCube_vert,fragmentShader:Ot.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ot.cube_vert,fragmentShader:Ot.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ot.equirect_vert,fragmentShader:Ot.equirect_frag},distanceRGBA:{uniforms:Vr([st.common,st.displacementmap,{referencePosition:{value:new xe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ot.distanceRGBA_vert,fragmentShader:Ot.distanceRGBA_frag},shadow:{uniforms:Vr([st.lights,st.fog,{color:{value:new Jt(0)},opacity:{value:1}}]),vertexShader:Ot.shadow_vert,fragmentShader:Ot.shadow_frag}};vs.physical={uniforms:Vr([vs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ft},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ft},clearcoatNormalScale:{value:new nn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ft},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ft},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ft},sheen:{value:0},sheenColor:{value:new Jt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ft},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ft},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ft},transmissionSamplerSize:{value:new nn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ft},attenuationDistance:{value:0},attenuationColor:{value:new Jt(0)},specularColor:{value:new Jt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ft},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ft},anisotropyVector:{value:new nn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ft}}]),vertexShader:Ot.meshphysical_vert,fragmentShader:Ot.meshphysical_frag};const rg={r:0,b:0,g:0},Xl=new Os,Eve=new Ln;function Ave(t,e,n,r,i,o,s){const a=new Jt(0);let l=o===!0?0:1,c,u,d=null,f=0,h=null;function p(v){let b=v.isScene===!0?v.background:null;return b&&b.isTexture&&(b=(v.backgroundBlurriness>0?n:e).get(b)),b}function m(v){let b=!1;const x=p(v);x===null?g(a,l):x&&x.isColor&&(g(x,1),b=!0);const P=t.xr.getEnvironmentBlendMode();P==="additive"?r.buffers.color.setClear(0,0,0,1,s):P==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||b)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(v,b){const x=p(b);x&&(x.isCubeTexture||x.mapping===g1)?(u===void 0&&(u=new Ko(new qm(1,1,1),new kl({name:"BackgroundCubeMaterial",uniforms:hf(vs.backgroundCube.uniforms),vertexShader:vs.backgroundCube.vertexShader,fragmentShader:vs.backgroundCube.fragmentShader,side:Mi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(P,N,_){this.matrixWorld.copyPosition(_.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),Xl.copy(b.backgroundRotation),Xl.x*=-1,Xl.y*=-1,Xl.z*=-1,x.isCubeTexture&&x.isRenderTargetTexture===!1&&(Xl.y*=-1,Xl.z*=-1),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Eve.makeRotationFromEuler(Xl)),u.material.toneMapped=Qt.getTransfer(x.colorSpace)!==un,(d!==x||f!==x.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,d=x,f=x.version,h=t.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(c===void 0&&(c=new Ko(new v1(2,2),new kl({name:"BackgroundMaterial",uniforms:hf(vs.background.uniforms),vertexShader:vs.background.vertexShader,fragmentShader:vs.background.fragmentShader,side:Nl,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=x,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=Qt.getTransfer(x.colorSpace)!==un,x.matrixAutoUpdate===!0&&x.updateMatrix(),c.material.uniforms.uvTransform.value.copy(x.matrix),(d!==x||f!==x.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,d=x,f=x.version,h=t.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}function g(v,b){v.getRGB(rg,G9(t)),r.buffers.color.setClear(rg.r,rg.g,rg.b,b,s)}return{getClearColor:function(){return a},setClearColor:function(v,b=1){a.set(v),l=b,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,g(a,l)},render:m,addToRenderList:y}}function _ve(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let o=i,s=!1;function a(E,z,W,B,w){let A=!1;const C=d(B,W,z);o!==C&&(o=C,c(o.object)),A=h(E,B,W,w),A&&p(E,B,W,w),w!==null&&e.update(w,t.ELEMENT_ARRAY_BUFFER),(A||s)&&(s=!1,x(E,z,W,B),w!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(w).buffer))}function l(){return t.createVertexArray()}function c(E){return t.bindVertexArray(E)}function u(E){return t.deleteVertexArray(E)}function d(E,z,W){const B=W.wireframe===!0;let w=r[E.id];w===void 0&&(w={},r[E.id]=w);let A=w[z.id];A===void 0&&(A={},w[z.id]=A);let C=A[B];return C===void 0&&(C=f(l()),A[B]=C),C}function f(E){const z=[],W=[],B=[];for(let w=0;w<n;w++)z[w]=0,W[w]=0,B[w]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:z,enabledAttributes:W,attributeDivisors:B,object:E,attributes:{},index:null}}function h(E,z,W,B){const w=o.attributes,A=z.attributes;let C=0;const k=W.getAttributes();for(const I in k)if(k[I].location>=0){const G=w[I];let L=A[I];if(L===void 0&&(I==="instanceMatrix"&&E.instanceMatrix&&(L=E.instanceMatrix),I==="instanceColor"&&E.instanceColor&&(L=E.instanceColor)),G===void 0||G.attribute!==L||L&&G.data!==L.data)return!0;C++}return o.attributesNum!==C||o.index!==B}function p(E,z,W,B){const w={},A=z.attributes;let C=0;const k=W.getAttributes();for(const I in k)if(k[I].location>=0){let G=A[I];G===void 0&&(I==="instanceMatrix"&&E.instanceMatrix&&(G=E.instanceMatrix),I==="instanceColor"&&E.instanceColor&&(G=E.instanceColor));const L={};L.attribute=G,G&&G.data&&(L.data=G.data),w[I]=L,C++}o.attributes=w,o.attributesNum=C,o.index=B}function m(){const E=o.newAttributes;for(let z=0,W=E.length;z<W;z++)E[z]=0}function y(E){g(E,0)}function g(E,z){const W=o.newAttributes,B=o.enabledAttributes,w=o.attributeDivisors;W[E]=1,B[E]===0&&(t.enableVertexAttribArray(E),B[E]=1),w[E]!==z&&(t.vertexAttribDivisor(E,z),w[E]=z)}function v(){const E=o.newAttributes,z=o.enabledAttributes;for(let W=0,B=z.length;W<B;W++)z[W]!==E[W]&&(t.disableVertexAttribArray(W),z[W]=0)}function b(E,z,W,B,w,A,C){C===!0?t.vertexAttribIPointer(E,z,W,w,A):t.vertexAttribPointer(E,z,W,B,w,A)}function x(E,z,W,B){m();const w=B.attributes,A=W.getAttributes(),C=z.defaultAttributeValues;for(const k in A){const I=A[k];if(I.location>=0){let H=w[k];if(H===void 0&&(k==="instanceMatrix"&&E.instanceMatrix&&(H=E.instanceMatrix),k==="instanceColor"&&E.instanceColor&&(H=E.instanceColor)),H!==void 0){const G=H.normalized,L=H.itemSize,M=e.get(H);if(M===void 0)continue;const $=M.buffer,J=M.type,te=M.bytesPerElement,oe=J===t.INT||J===t.UNSIGNED_INT||H.gpuType===LT;if(H.isInterleavedBufferAttribute){const le=H.data,Te=le.stride,Ne=H.offset;if(le.isInstancedInterleavedBuffer){for(let Ae=0;Ae<I.locationSize;Ae++)g(I.location+Ae,le.meshPerAttribute);E.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let Ae=0;Ae<I.locationSize;Ae++)y(I.location+Ae);t.bindBuffer(t.ARRAY_BUFFER,$);for(let Ae=0;Ae<I.locationSize;Ae++)b(I.location+Ae,L/I.locationSize,J,G,Te*te,(Ne+L/I.locationSize*Ae)*te,oe)}else{if(H.isInstancedBufferAttribute){for(let le=0;le<I.locationSize;le++)g(I.location+le,H.meshPerAttribute);E.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=H.meshPerAttribute*H.count)}else for(let le=0;le<I.locationSize;le++)y(I.location+le);t.bindBuffer(t.ARRAY_BUFFER,$);for(let le=0;le<I.locationSize;le++)b(I.location+le,L/I.locationSize,J,G,L*te,L/I.locationSize*le*te,oe)}}else if(C!==void 0){const G=C[k];if(G!==void 0)switch(G.length){case 2:t.vertexAttrib2fv(I.location,G);break;case 3:t.vertexAttrib3fv(I.location,G);break;case 4:t.vertexAttrib4fv(I.location,G);break;default:t.vertexAttrib1fv(I.location,G)}}}}v()}function P(){D();for(const E in r){const z=r[E];for(const W in z){const B=z[W];for(const w in B)u(B[w].object),delete B[w];delete z[W]}delete r[E]}}function N(E){if(r[E.id]===void 0)return;const z=r[E.id];for(const W in z){const B=z[W];for(const w in B)u(B[w].object),delete B[w];delete z[W]}delete r[E.id]}function _(E){for(const z in r){const W=r[z];if(W[E.id]===void 0)continue;const B=W[E.id];for(const w in B)u(B[w].object),delete B[w];delete W[E.id]}}function D(){T(),s=!0,o!==i&&(o=i,c(o.object))}function T(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:D,resetDefaultState:T,dispose:P,releaseStatesOfGeometry:N,releaseStatesOfProgram:_,initAttributes:m,enableAttribute:y,disableUnusedAttributes:v}}function Sve(t,e,n){let r;function i(c){r=c}function o(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function s(c,u,d){d!==0&&(t.drawArraysInstanced(r,c,u,d),n.update(u,r,d))}function a(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,d);let h=0;for(let p=0;p<d;p++)h+=u[p];n.update(h,r,1)}function l(c,u,d,f){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<c.length;p++)s(c[p],u[p],f[p]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,f,0,d);let p=0;for(let m=0;m<d;m++)p+=u[m]*f[m];n.update(p,r,1)}}this.setMode=i,this.render=o,this.renderInstances=s,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function Cve(t,e,n,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const _=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(_.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(_){return!(_!==Qo&&r.convert(_)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(_){const D=_===Hm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(_!==Ta&&r.convert(_)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&_!==ca&&!D)}function l(_){if(_==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";_="mediump"}return _==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,f=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),v=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),x=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),P=p>0,N=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:v,maxVaryings:b,maxFragmentUniforms:x,vertexTextures:P,maxSamples:N}}function Tve(t){const e=this;let n=null,r=0,i=!1,o=!1;const s=new nc,a=new Ft,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=d.length!==0||f||r!==0||i;return i=f,r=d.length,h},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,h){const p=d.clippingPlanes,m=d.clipIntersection,y=d.clipShadows,g=t.get(d);if(!i||p===null||p.length===0||o&&!y)o?u(null):c();else{const v=o?0:r,b=v*4;let x=g.clippingState||null;l.value=x,x=u(p,f,b,h);for(let P=0;P!==b;++P)x[P]=n[P];g.clippingState=x,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=v}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,h,p){const m=d!==null?d.length:0;let y=null;if(m!==0){if(y=l.value,p!==!0||y===null){const g=h+m*4,v=f.matrixWorldInverse;a.getNormalMatrix(v),(y===null||y.length<g)&&(y=new Float32Array(g));for(let b=0,x=h;b!==m;++b,x+=4)s.copy(d[b]).applyMatrix4(v,a),s.normal.toArray(y,x),y[x+3]=s.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,y}}function Mve(t){let e=new WeakMap;function n(s,a){return a===q2?s.mapping=cf:a===Q2&&(s.mapping=uf),s}function r(s){if(s&&s.isTexture){const a=s.mapping;if(a===q2||a===Q2)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new U0e(l.height);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",i),n(c.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class q9 extends W9{constructor(e=-1,n=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const ud=4,M6=[.125,.215,.35,.446,.526,.582],dc=20,Bx=new q9,I6=new Jt;let Ox=null,Lx=0,Dx=0,Ux=!1;const rc=(1+Math.sqrt(5))/2,Vu=1/rc,R6=[new xe(-rc,Vu,0),new xe(rc,Vu,0),new xe(-Vu,0,rc),new xe(Vu,0,rc),new xe(0,rc,-Vu),new xe(0,rc,Vu),new xe(-1,1,-1),new xe(1,1,-1),new xe(-1,1,1),new xe(1,1,1)];class P6{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){Ox=this._renderer.getRenderTarget(),Lx=this._renderer.getActiveCubeFace(),Dx=this._renderer.getActiveMipmapLevel(),Ux=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=F6(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=k6(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Ox,Lx,Dx),this._renderer.xr.enabled=Ux,e.scissorTest=!1,ig(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===cf||e.mapping===uf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ox=this._renderer.getRenderTarget(),Lx=this._renderer.getActiveCubeFace(),Dx=this._renderer.getActiveMipmapLevel(),Ux=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:wi,minFilter:wi,generateMipmaps:!1,type:Hm,format:Qo,colorSpace:Lf,depthBuffer:!1},i=N6(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=N6(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Ive(o)),this._blurMaterial=Rve(o,e,n)}return i}_compileMaterial(e){const n=new Ko(this._lodPlanes[0],e);this._renderer.compile(n,Bx)}_sceneToCubeUV(e,n,r,i){const a=new Hi(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(I6),u.toneMapping=_l,u.autoClear=!1;const h=new z9({name:"PMREM.Background",side:Mi,depthWrite:!1,depthTest:!1}),p=new Ko(new qm,h);let m=!1;const y=e.background;y?y.isColor&&(h.color.copy(y),e.background=null,m=!0):(h.color.copy(I6),m=!0);for(let g=0;g<6;g++){const v=g%3;v===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):v===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const b=this._cubeSize;ig(i,v*b,g>2?b:0,b,b),u.setRenderTarget(i),m&&u.render(p,a),u.render(e,a)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===cf||e.mapping===uf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=F6()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=k6());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new Ko(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const l=this._cubeSize;ig(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,Bx)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let o=1;o<i;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),a=R6[(i-o-1)%R6.length];this._blur(e,o-1,o,s,a)}n.autoClear=r}_blur(e,n,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,s,a){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Ko(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,p=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*dc-1),m=o/p,y=isFinite(o)?1+Math.floor(u*m):dc;y>dc&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${dc}`);const g=[];let v=0;for(let _=0;_<dc;++_){const D=_/m,T=Math.exp(-D*D/2);g.push(T),_===0?v+=T:_<y&&(v+=2*T)}for(let _=0;_<g.length;_++)g[_]=g[_]/v;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=g,f.latitudinal.value=s==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:b}=this;f.dTheta.value=p,f.mipInt.value=b-r;const x=this._sizeLods[i],P=3*x*(i>b-ud?i-b+ud:0),N=4*(this._cubeSize-x);ig(n,P,N,3*x,2*x),l.setRenderTarget(n),l.render(d,Bx)}}function Ive(t){const e=[],n=[],r=[];let i=t;const o=t-ud+1+M6.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);n.push(a);let l=1/a;s>t-ud?l=M6[s-t+ud-1]:s===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,m=3,y=2,g=1,v=new Float32Array(m*p*h),b=new Float32Array(y*p*h),x=new Float32Array(g*p*h);for(let N=0;N<h;N++){const _=N%3*2/3-1,D=N>2?0:-1,T=[_,D,0,_+2/3,D,0,_+2/3,D+1,0,_,D,0,_+2/3,D+1,0,_,D+1,0];v.set(T,m*p*N),b.set(f,y*p*N);const E=[N,N,N,N,N,N];x.set(E,g*p*N)}const P=new jl;P.setAttribute("position",new Is(v,m)),P.setAttribute("uv",new Is(b,y)),P.setAttribute("faceIndex",new Is(x,g)),e.push(P),i>ud&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function N6(t,e,n){const r=new su(t,e,n);return r.texture.mapping=g1,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function ig(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Rve(t,e,n){const r=new Float32Array(dc),i=new xe(0,1,0);return new kl({name:"SphericalGaussianBlur",defines:{n:dc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:VT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Al,depthTest:!1,depthWrite:!1})}function k6(){return new kl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:VT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Al,depthTest:!1,depthWrite:!1})}function F6(){return new kl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:VT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Al,depthTest:!1,depthWrite:!1})}function VT(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Pve(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===q2||l===Q2,u=l===cf||l===uf;if(c||u){let d=e.get(a);const f=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return n===null&&(n=new P6(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const h=a.image;return c&&h&&h.height>0||u&&h&&i(h)?(n===null&&(n=new P6(t)),d=c?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",o),d.texture):null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function o(a){const l=a.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function Nve(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Ih("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function kve(t,e,n,r){const i={},o=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const p in f.attributes)e.remove(f.attributes[p]);for(const p in f.morphAttributes){const m=f.morphAttributes[p];for(let y=0,g=m.length;y<g;y++)e.remove(m[y])}f.removeEventListener("dispose",s),delete i[f.id];const h=o.get(f);h&&(e.remove(h),o.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",s),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const p in f)e.update(f[p],t.ARRAY_BUFFER);const h=d.morphAttributes;for(const p in h){const m=h[p];for(let y=0,g=m.length;y<g;y++)e.update(m[y],t.ARRAY_BUFFER)}}function c(d){const f=[],h=d.index,p=d.attributes.position;let m=0;if(h!==null){const v=h.array;m=h.version;for(let b=0,x=v.length;b<x;b+=3){const P=v[b+0],N=v[b+1],_=v[b+2];f.push(P,N,N,_,_,P)}}else if(p!==void 0){const v=p.array;m=p.version;for(let b=0,x=v.length/3-1;b<x;b+=3){const P=b+0,N=b+1,_=b+2;f.push(P,N,N,_,_,P)}}else return;const y=new(B9(f)?H9:j9)(f,1);y.version=m;const g=o.get(d);g&&e.remove(g),o.set(d,y)}function u(d){const f=o.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return o.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function Fve(t,e,n){let r;function i(f){r=f}let o,s;function a(f){o=f.type,s=f.bytesPerElement}function l(f,h){t.drawElements(r,h,o,f*s),n.update(h,r,1)}function c(f,h,p){p!==0&&(t.drawElementsInstanced(r,h,o,f*s,p),n.update(h,r,p))}function u(f,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,o,f,0,p);let y=0;for(let g=0;g<p;g++)y+=h[g];n.update(y,r,1)}function d(f,h,p,m){if(p===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<f.length;g++)c(f[g]/s,h[g],m[g]);else{y.multiDrawElementsInstancedWEBGL(r,h,0,o,f,0,m,0,p);let g=0;for(let v=0;v<p;v++)g+=h[v]*m[v];n.update(g,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function Bve(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=a*(o/3);break;case t.LINES:n.lines+=a*(o/2);break;case t.LINE_STRIP:n.lines+=a*(o-1);break;case t.LINE_LOOP:n.lines+=a*o;break;case t.POINTS:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Ove(t,e,n){const r=new WeakMap,i=new Bn;function o(s,a,l){const c=s.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=u!==void 0?u.length:0;let f=r.get(a);if(f===void 0||f.count!==d){let h=function(){D.dispose(),r.delete(a),a.removeEventListener("dispose",h)};f!==void 0&&f.texture.dispose();const p=a.morphAttributes.position!==void 0,m=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],v=a.morphAttributes.normal||[],b=a.morphAttributes.color||[];let x=0;p===!0&&(x=1),m===!0&&(x=2),y===!0&&(x=3);let P=a.attributes.position.count*x,N=1;P>e.maxTextureSize&&(N=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const _=new Float32Array(P*N*4*d),D=new L9(_,P,N,d);D.type=ca,D.needsUpdate=!0;const T=x*4;for(let E=0;E<d;E++){const z=g[E],W=v[E],B=b[E],w=P*N*4*E;for(let A=0;A<z.count;A++){const C=A*T;p===!0&&(i.fromBufferAttribute(z,A),_[w+C+0]=i.x,_[w+C+1]=i.y,_[w+C+2]=i.z,_[w+C+3]=0),m===!0&&(i.fromBufferAttribute(W,A),_[w+C+4]=i.x,_[w+C+5]=i.y,_[w+C+6]=i.z,_[w+C+7]=0),y===!0&&(i.fromBufferAttribute(B,A),_[w+C+8]=i.x,_[w+C+9]=i.y,_[w+C+10]=i.z,_[w+C+11]=B.itemSize===4?i.w:1)}}f={count:d,texture:D,size:new nn(P,N)},r.set(a,f),a.addEventListener("dispose",h)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let h=0;for(let m=0;m<c.length;m++)h+=c[m];const p=a.morphTargetsRelative?1:1-h;l.getUniforms().setValue(t,"morphTargetBaseInfluence",p),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:o}}function Lve(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function s(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:s}}class Q9 extends Hr{constructor(e,n,r,i,o,s,a,l,c,u=Rd){if(u!==Rd&&u!==ff)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Rd&&(r=ou),r===void 0&&u===ff&&(r=df),super(null,i,o,s,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Zo,this.minFilter=l!==void 0?l:Zo,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const K9=new Hr,B6=new Q9(1,1),X9=new L9,Y9=new E0e,J9=new V9,O6=[],L6=[],D6=new Float32Array(16),U6=new Float32Array(9),z6=new Float32Array(4);function Uf(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=O6[i];if(o===void 0&&(o=new Float32Array(i),O6[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function ar(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function lr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function w1(t,e){let n=L6[e];n===void 0&&(n=new Int32Array(e),L6[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Dve(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Uve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ar(n,e))return;t.uniform2fv(this.addr,e),lr(n,e)}}function zve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ar(n,e))return;t.uniform3fv(this.addr,e),lr(n,e)}}function jve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ar(n,e))return;t.uniform4fv(this.addr,e),lr(n,e)}}function Hve(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ar(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),lr(n,e)}else{if(ar(n,r))return;z6.set(r),t.uniformMatrix2fv(this.addr,!1,z6),lr(n,r)}}function Gve(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ar(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),lr(n,e)}else{if(ar(n,r))return;U6.set(r),t.uniformMatrix3fv(this.addr,!1,U6),lr(n,r)}}function Wve(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ar(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),lr(n,e)}else{if(ar(n,r))return;D6.set(r),t.uniformMatrix4fv(this.addr,!1,D6),lr(n,r)}}function Vve(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function $ve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ar(n,e))return;t.uniform2iv(this.addr,e),lr(n,e)}}function qve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ar(n,e))return;t.uniform3iv(this.addr,e),lr(n,e)}}function Qve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ar(n,e))return;t.uniform4iv(this.addr,e),lr(n,e)}}function Kve(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Xve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ar(n,e))return;t.uniform2uiv(this.addr,e),lr(n,e)}}function Yve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ar(n,e))return;t.uniform3uiv(this.addr,e),lr(n,e)}}function Jve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ar(n,e))return;t.uniform4uiv(this.addr,e),lr(n,e)}}function Zve(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let o;this.type===t.SAMPLER_2D_SHADOW?(B6.compareFunction=F9,o=B6):o=K9,n.setTexture2D(e||o,i)}function ewe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Y9,i)}function twe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||J9,i)}function nwe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||X9,i)}function rwe(t){switch(t){case 5126:return Dve;case 35664:return Uve;case 35665:return zve;case 35666:return jve;case 35674:return Hve;case 35675:return Gve;case 35676:return Wve;case 5124:case 35670:return Vve;case 35667:case 35671:return $ve;case 35668:case 35672:return qve;case 35669:case 35673:return Qve;case 5125:return Kve;case 36294:return Xve;case 36295:return Yve;case 36296:return Jve;case 35678:case 36198:case 36298:case 36306:case 35682:return Zve;case 35679:case 36299:case 36307:return ewe;case 35680:case 36300:case 36308:case 36293:return twe;case 36289:case 36303:case 36311:case 36292:return nwe}}function iwe(t,e){t.uniform1fv(this.addr,e)}function owe(t,e){const n=Uf(e,this.size,2);t.uniform2fv(this.addr,n)}function swe(t,e){const n=Uf(e,this.size,3);t.uniform3fv(this.addr,n)}function awe(t,e){const n=Uf(e,this.size,4);t.uniform4fv(this.addr,n)}function lwe(t,e){const n=Uf(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function cwe(t,e){const n=Uf(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function uwe(t,e){const n=Uf(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function dwe(t,e){t.uniform1iv(this.addr,e)}function fwe(t,e){t.uniform2iv(this.addr,e)}function hwe(t,e){t.uniform3iv(this.addr,e)}function pwe(t,e){t.uniform4iv(this.addr,e)}function mwe(t,e){t.uniform1uiv(this.addr,e)}function gwe(t,e){t.uniform2uiv(this.addr,e)}function ywe(t,e){t.uniform3uiv(this.addr,e)}function vwe(t,e){t.uniform4uiv(this.addr,e)}function wwe(t,e,n){const r=this.cache,i=e.length,o=w1(n,i);ar(r,o)||(t.uniform1iv(this.addr,o),lr(r,o));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||K9,o[s])}function bwe(t,e,n){const r=this.cache,i=e.length,o=w1(n,i);ar(r,o)||(t.uniform1iv(this.addr,o),lr(r,o));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||Y9,o[s])}function xwe(t,e,n){const r=this.cache,i=e.length,o=w1(n,i);ar(r,o)||(t.uniform1iv(this.addr,o),lr(r,o));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||J9,o[s])}function Ewe(t,e,n){const r=this.cache,i=e.length,o=w1(n,i);ar(r,o)||(t.uniform1iv(this.addr,o),lr(r,o));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||X9,o[s])}function Awe(t){switch(t){case 5126:return iwe;case 35664:return owe;case 35665:return swe;case 35666:return awe;case 35674:return lwe;case 35675:return cwe;case 35676:return uwe;case 5124:case 35670:return dwe;case 35667:case 35671:return fwe;case 35668:case 35672:return hwe;case 35669:case 35673:return pwe;case 5125:return mwe;case 36294:return gwe;case 36295:return ywe;case 36296:return vwe;case 35678:case 36198:case 36298:case 36306:case 35682:return wwe;case 35679:case 36299:case 36307:return bwe;case 35680:case 36300:case 36308:case 36293:return xwe;case 36289:case 36303:case 36311:case 36292:return Ewe}}class _we{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=rwe(n.type)}}class Swe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Awe(n.type)}}class Cwe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,n[a.id],r)}}}const zx=/(\w+)(\])?(\[|\.)?/g;function j6(t,e){t.seq.push(e),t.map[e.id]=e}function Twe(t,e,n){const r=t.name,i=r.length;for(zx.lastIndex=0;;){const o=zx.exec(r),s=zx.lastIndex;let a=o[1];const l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===i){j6(n,c===void 0?new _we(a,t,e):new Swe(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new Cwe(a),j6(n,d)),n=d}}}class sy{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),s=e.getUniformLocation(n,o.name);Twe(o,s,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,s=n.length;o!==s;++o){const a=n[o],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function H6(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Mwe=37297;let Iwe=0;function Rwe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${n[s]}`)}return r.join(`
`)}const G6=new Ft;function Pwe(t){Qt._getMatrix(G6,Qt.workingColorSpace,t);const e=`mat3( ${G6.elements.map(n=>n.toFixed(4))} )`;switch(Qt.getTransfer(t)){case y1:return[e,"LinearTransferOETF"];case un:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function W6(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+Rwe(t.getShaderSource(e),s)}else return i}function Nwe(t,e){const n=Pwe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function kwe(t,e){let n;switch(e){case Kme:n="Linear";break;case Xme:n="Reinhard";break;case Yme:n="Cineon";break;case Jme:n="ACESFilmic";break;case e0e:n="AgX";break;case t0e:n="Neutral";break;case Zme:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const og=new xe;function Fwe(){Qt.getLuminanceCoefficients(og);const t=og.x.toFixed(4),e=og.y.toFixed(4),n=og.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Bwe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Rh).join(`
`)}function Owe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Lwe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),s=o.name;let a=1;o.type===t.FLOAT_MAT2&&(a=2),o.type===t.FLOAT_MAT3&&(a=3),o.type===t.FLOAT_MAT4&&(a=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:a}}return n}function Rh(t){return t!==""}function V6(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function $6(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Dwe=/^[ \t]*#include +<([\w\d./]+)>/gm;function __(t){return t.replace(Dwe,zwe)}const Uwe=new Map;function zwe(t,e){let n=Ot[e];if(n===void 0){const r=Uwe.get(e);if(r!==void 0)n=Ot[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return __(n)}const jwe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function q6(t){return t.replace(jwe,Hwe)}function Hwe(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function Q6(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Gwe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===x9?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Mme?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===qs&&(e="SHADOWMAP_TYPE_VSM"),e}function Wwe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case cf:case uf:e="ENVMAP_TYPE_CUBE";break;case g1:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Vwe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case uf:e="ENVMAP_MODE_REFRACTION";break}return e}function $we(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case OT:e="ENVMAP_BLENDING_MULTIPLY";break;case qme:e="ENVMAP_BLENDING_MIX";break;case Qme:e="ENVMAP_BLENDING_ADD";break}return e}function qwe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Qwe(t,e,n,r){const i=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=Gwe(n),c=Wwe(n),u=Vwe(n),d=$we(n),f=qwe(n),h=Bwe(n),p=Owe(o),m=i.createProgram();let y,g,v=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Rh).join(`
`),y.length>0&&(y+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Rh).join(`
`),g.length>0&&(g+=`
`)):(y=[Q6(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Rh).join(`
`),g=[Q6(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==_l?"#define TONE_MAPPING":"",n.toneMapping!==_l?Ot.tonemapping_pars_fragment:"",n.toneMapping!==_l?kwe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ot.colorspace_pars_fragment,Nwe("linearToOutputTexel",n.outputColorSpace),Fwe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Rh).join(`
`)),s=__(s),s=V6(s,n),s=$6(s,n),a=__(a),a=V6(a,n),a=$6(a,n),s=q6(s),a=q6(a),n.isRawShaderMaterial!==!0&&(v=`#version 300 es
`,y=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,g=["#define varying in",n.glslVersion===a6?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===a6?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=v+y+s,x=v+g+a,P=H6(i,i.VERTEX_SHADER,b),N=H6(i,i.FRAGMENT_SHADER,x);i.attachShader(m,P),i.attachShader(m,N),n.index0AttributeName!==void 0?i.bindAttribLocation(m,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m);function _(z){if(t.debug.checkShaderErrors){const W=i.getProgramInfoLog(m).trim(),B=i.getShaderInfoLog(P).trim(),w=i.getShaderInfoLog(N).trim();let A=!0,C=!0;if(i.getProgramParameter(m,i.LINK_STATUS)===!1)if(A=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,m,P,N);else{const k=W6(i,P,"vertex"),I=W6(i,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+`

Material Name: `+z.name+`
Material Type: `+z.type+`

Program Info Log: `+W+`
`+k+`
`+I)}else W!==""?console.warn("THREE.WebGLProgram: Program Info Log:",W):(B===""||w==="")&&(C=!1);C&&(z.diagnostics={runnable:A,programLog:W,vertexShader:{log:B,prefix:y},fragmentShader:{log:w,prefix:g}})}i.deleteShader(P),i.deleteShader(N),D=new sy(i,m),T=Lwe(i,m)}let D;this.getUniforms=function(){return D===void 0&&_(this),D};let T;this.getAttributes=function(){return T===void 0&&_(this),T};let E=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return E===!1&&(E=i.getProgramParameter(m,Mwe)),E},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Iwe++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=P,this.fragmentShader=N,this}let Kwe=0;class Xwe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Ywe(e),n.set(e,r)),r}}class Ywe{constructor(e){this.id=Kwe++,this.code=e,this.usedTimes=0}}function Jwe(t,e,n,r,i,o,s){const a=new D9,l=new Xwe,c=new Set,u=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(T){return c.add(T),T===0?"uv":`uv${T}`}function y(T,E,z,W,B){const w=W.fog,A=B.geometry,C=T.isMeshStandardMaterial?W.environment:null,k=(T.isMeshStandardMaterial?n:e).get(T.envMap||C),I=k&&k.mapping===g1?k.image.height:null,H=p[T.type];T.precision!==null&&(h=i.getMaxPrecision(T.precision),h!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",h,"instead."));const G=A.morphAttributes.position||A.morphAttributes.normal||A.morphAttributes.color,L=G!==void 0?G.length:0;let M=0;A.morphAttributes.position!==void 0&&(M=1),A.morphAttributes.normal!==void 0&&(M=2),A.morphAttributes.color!==void 0&&(M=3);let $,J,te,oe;if(H){const St=vs[H];$=St.vertexShader,J=St.fragmentShader}else $=T.vertexShader,J=T.fragmentShader,l.update(T),te=l.getVertexShaderID(T),oe=l.getFragmentShaderID(T);const le=t.getRenderTarget(),Te=t.state.buffers.depth.getReversed(),Ne=B.isInstancedMesh===!0,Ae=B.isBatchedMesh===!0,Be=!!T.map,Re=!!T.matcap,ut=!!k,ee=!!T.aoMap,_t=!!T.lightMap,Et=!!T.bumpMap,dt=!!T.normalMap,Ye=!!T.displacementMap,Nt=!!T.emissiveMap,et=!!T.metalnessMap,X=!!T.roughnessMap,V=T.anisotropy>0,ce=T.clearcoat>0,we=T.dispersion>0,Ie=T.iridescence>0,pe=T.sheen>0,j=T.transmission>0,S=V&&!!T.anisotropyMap,R=ce&&!!T.clearcoatMap,Q=ce&&!!T.clearcoatNormalMap,Y=ce&&!!T.clearcoatRoughnessMap,Z=Ie&&!!T.iridescenceMap,ne=Ie&&!!T.iridescenceThicknessMap,De=pe&&!!T.sheenColorMap,Pe=pe&&!!T.sheenRoughnessMap,Ke=!!T.specularMap,ft=!!T.specularColorMap,rt=!!T.specularIntensityMap,ae=j&&!!T.transmissionMap,it=j&&!!T.thicknessMap,ye=!!T.gradientMap,_e=!!T.alphaMap,ot=T.alphaTest>0,Le=!!T.alphaHash,bt=!!T.extensions;let sn=_l;T.toneMapped&&(le===null||le.isXRRenderTarget===!0)&&(sn=t.toneMapping);const Pt={shaderID:H,shaderType:T.type,shaderName:T.name,vertexShader:$,fragmentShader:J,defines:T.defines,customVertexShaderID:te,customFragmentShaderID:oe,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:h,batching:Ae,batchingColor:Ae&&B._colorsTexture!==null,instancing:Ne,instancingColor:Ne&&B.instanceColor!==null,instancingMorph:Ne&&B.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:le===null?t.outputColorSpace:le.isXRRenderTarget===!0?le.texture.colorSpace:Lf,alphaToCoverage:!!T.alphaToCoverage,map:Be,matcap:Re,envMap:ut,envMapMode:ut&&k.mapping,envMapCubeUVHeight:I,aoMap:ee,lightMap:_t,bumpMap:Et,normalMap:dt,displacementMap:f&&Ye,emissiveMap:Nt,normalMapObjectSpace:dt&&T.normalMapType===o0e,normalMapTangentSpace:dt&&T.normalMapType===k9,metalnessMap:et,roughnessMap:X,anisotropy:V,anisotropyMap:S,clearcoat:ce,clearcoatMap:R,clearcoatNormalMap:Q,clearcoatRoughnessMap:Y,dispersion:we,iridescence:Ie,iridescenceMap:Z,iridescenceThicknessMap:ne,sheen:pe,sheenColorMap:De,sheenRoughnessMap:Pe,specularMap:Ke,specularColorMap:ft,specularIntensityMap:rt,transmission:j,transmissionMap:ae,thicknessMap:it,gradientMap:ye,opaque:T.transparent===!1&&T.blending===Id&&T.alphaToCoverage===!1,alphaMap:_e,alphaTest:ot,alphaHash:Le,combine:T.combine,mapUv:Be&&m(T.map.channel),aoMapUv:ee&&m(T.aoMap.channel),lightMapUv:_t&&m(T.lightMap.channel),bumpMapUv:Et&&m(T.bumpMap.channel),normalMapUv:dt&&m(T.normalMap.channel),displacementMapUv:Ye&&m(T.displacementMap.channel),emissiveMapUv:Nt&&m(T.emissiveMap.channel),metalnessMapUv:et&&m(T.metalnessMap.channel),roughnessMapUv:X&&m(T.roughnessMap.channel),anisotropyMapUv:S&&m(T.anisotropyMap.channel),clearcoatMapUv:R&&m(T.clearcoatMap.channel),clearcoatNormalMapUv:Q&&m(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Y&&m(T.clearcoatRoughnessMap.channel),iridescenceMapUv:Z&&m(T.iridescenceMap.channel),iridescenceThicknessMapUv:ne&&m(T.iridescenceThicknessMap.channel),sheenColorMapUv:De&&m(T.sheenColorMap.channel),sheenRoughnessMapUv:Pe&&m(T.sheenRoughnessMap.channel),specularMapUv:Ke&&m(T.specularMap.channel),specularColorMapUv:ft&&m(T.specularColorMap.channel),specularIntensityMapUv:rt&&m(T.specularIntensityMap.channel),transmissionMapUv:ae&&m(T.transmissionMap.channel),thicknessMapUv:it&&m(T.thicknessMap.channel),alphaMapUv:_e&&m(T.alphaMap.channel),vertexTangents:!!A.attributes.tangent&&(dt||V),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!A.attributes.color&&A.attributes.color.itemSize===4,pointsUvs:B.isPoints===!0&&!!A.attributes.uv&&(Be||_e),fog:!!w,useFog:T.fog===!0,fogExp2:!!w&&w.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:Te,skinning:B.isSkinnedMesh===!0,morphTargets:A.morphAttributes.position!==void 0,morphNormals:A.morphAttributes.normal!==void 0,morphColors:A.morphAttributes.color!==void 0,morphTargetsCount:L,morphTextureStride:M,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,numSpotLightMaps:E.spotLightMap.length,numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numSpotLightShadowsWithMaps:E.numSpotLightShadowsWithMaps,numLightProbes:E.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:T.dithering,shadowMapEnabled:t.shadowMap.enabled&&z.length>0,shadowMapType:t.shadowMap.type,toneMapping:sn,decodeVideoTexture:Be&&T.map.isVideoTexture===!0&&Qt.getTransfer(T.map.colorSpace)===un,decodeVideoTextureEmissive:Nt&&T.emissiveMap.isVideoTexture===!0&&Qt.getTransfer(T.emissiveMap.colorSpace)===un,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===ra,flipSided:T.side===Mi,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionClipCullDistance:bt&&T.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(bt&&T.extensions.multiDraw===!0||Ae)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()};return Pt.vertexUv1s=c.has(1),Pt.vertexUv2s=c.has(2),Pt.vertexUv3s=c.has(3),c.clear(),Pt}function g(T){const E=[];if(T.shaderID?E.push(T.shaderID):(E.push(T.customVertexShaderID),E.push(T.customFragmentShaderID)),T.defines!==void 0)for(const z in T.defines)E.push(z),E.push(T.defines[z]);return T.isRawShaderMaterial===!1&&(v(E,T),b(E,T),E.push(t.outputColorSpace)),E.push(T.customProgramCacheKey),E.join()}function v(T,E){T.push(E.precision),T.push(E.outputColorSpace),T.push(E.envMapMode),T.push(E.envMapCubeUVHeight),T.push(E.mapUv),T.push(E.alphaMapUv),T.push(E.lightMapUv),T.push(E.aoMapUv),T.push(E.bumpMapUv),T.push(E.normalMapUv),T.push(E.displacementMapUv),T.push(E.emissiveMapUv),T.push(E.metalnessMapUv),T.push(E.roughnessMapUv),T.push(E.anisotropyMapUv),T.push(E.clearcoatMapUv),T.push(E.clearcoatNormalMapUv),T.push(E.clearcoatRoughnessMapUv),T.push(E.iridescenceMapUv),T.push(E.iridescenceThicknessMapUv),T.push(E.sheenColorMapUv),T.push(E.sheenRoughnessMapUv),T.push(E.specularMapUv),T.push(E.specularColorMapUv),T.push(E.specularIntensityMapUv),T.push(E.transmissionMapUv),T.push(E.thicknessMapUv),T.push(E.combine),T.push(E.fogExp2),T.push(E.sizeAttenuation),T.push(E.morphTargetsCount),T.push(E.morphAttributeCount),T.push(E.numDirLights),T.push(E.numPointLights),T.push(E.numSpotLights),T.push(E.numSpotLightMaps),T.push(E.numHemiLights),T.push(E.numRectAreaLights),T.push(E.numDirLightShadows),T.push(E.numPointLightShadows),T.push(E.numSpotLightShadows),T.push(E.numSpotLightShadowsWithMaps),T.push(E.numLightProbes),T.push(E.shadowMapType),T.push(E.toneMapping),T.push(E.numClippingPlanes),T.push(E.numClipIntersection),T.push(E.depthPacking)}function b(T,E){a.disableAll(),E.supportsVertexTextures&&a.enable(0),E.instancing&&a.enable(1),E.instancingColor&&a.enable(2),E.instancingMorph&&a.enable(3),E.matcap&&a.enable(4),E.envMap&&a.enable(5),E.normalMapObjectSpace&&a.enable(6),E.normalMapTangentSpace&&a.enable(7),E.clearcoat&&a.enable(8),E.iridescence&&a.enable(9),E.alphaTest&&a.enable(10),E.vertexColors&&a.enable(11),E.vertexAlphas&&a.enable(12),E.vertexUv1s&&a.enable(13),E.vertexUv2s&&a.enable(14),E.vertexUv3s&&a.enable(15),E.vertexTangents&&a.enable(16),E.anisotropy&&a.enable(17),E.alphaHash&&a.enable(18),E.batching&&a.enable(19),E.dispersion&&a.enable(20),E.batchingColor&&a.enable(21),T.push(a.mask),a.disableAll(),E.fog&&a.enable(0),E.useFog&&a.enable(1),E.flatShading&&a.enable(2),E.logarithmicDepthBuffer&&a.enable(3),E.reverseDepthBuffer&&a.enable(4),E.skinning&&a.enable(5),E.morphTargets&&a.enable(6),E.morphNormals&&a.enable(7),E.morphColors&&a.enable(8),E.premultipliedAlpha&&a.enable(9),E.shadowMapEnabled&&a.enable(10),E.doubleSided&&a.enable(11),E.flipSided&&a.enable(12),E.useDepthPacking&&a.enable(13),E.dithering&&a.enable(14),E.transmission&&a.enable(15),E.sheen&&a.enable(16),E.opaque&&a.enable(17),E.pointsUvs&&a.enable(18),E.decodeVideoTexture&&a.enable(19),E.decodeVideoTextureEmissive&&a.enable(20),E.alphaToCoverage&&a.enable(21),T.push(a.mask)}function x(T){const E=p[T.type];let z;if(E){const W=vs[E];z=B0e.clone(W.uniforms)}else z=T.uniforms;return z}function P(T,E){let z;for(let W=0,B=u.length;W<B;W++){const w=u[W];if(w.cacheKey===E){z=w,++z.usedTimes;break}}return z===void 0&&(z=new Qwe(t,E,T,o),u.push(z)),z}function N(T){if(--T.usedTimes===0){const E=u.indexOf(T);u[E]=u[u.length-1],u.pop(),T.destroy()}}function _(T){l.remove(T)}function D(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:x,acquireProgram:P,releaseProgram:N,releaseShaderCache:_,programs:u,dispose:D}}function Zwe(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function r(s){t.delete(s)}function i(s,a,l){t.get(s)[a]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:o}}function e1e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function K6(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function X6(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function s(d,f,h,p,m,y){let g=t[e];return g===void 0?(g={id:d.id,object:d,geometry:f,material:h,groupOrder:p,renderOrder:d.renderOrder,z:m,group:y},t[e]=g):(g.id=d.id,g.object=d,g.geometry=f,g.material=h,g.groupOrder=p,g.renderOrder=d.renderOrder,g.z=m,g.group=y),e++,g}function a(d,f,h,p,m,y){const g=s(d,f,h,p,m,y);h.transmission>0?r.push(g):h.transparent===!0?i.push(g):n.push(g)}function l(d,f,h,p,m,y){const g=s(d,f,h,p,m,y);h.transmission>0?r.unshift(g):h.transparent===!0?i.unshift(g):n.unshift(g)}function c(d,f){n.length>1&&n.sort(d||e1e),r.length>1&&r.sort(f||K6),i.length>1&&i.sort(f||K6)}function u(){for(let d=e,f=t.length;d<f;d++){const h=t[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:a,unshift:l,finish:u,sort:c}}function t1e(){let t=new WeakMap;function e(r,i){const o=t.get(r);let s;return o===void 0?(s=new X6,t.set(r,[s])):i>=o.length?(s=new X6,o.push(s)):s=o[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function n1e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new xe,color:new Jt};break;case"SpotLight":n={position:new xe,direction:new xe,color:new Jt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new xe,color:new Jt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new xe,skyColor:new Jt,groundColor:new Jt};break;case"RectAreaLight":n={color:new Jt,position:new xe,halfWidth:new xe,halfHeight:new xe};break}return t[e.id]=n,n}}}function r1e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nn};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nn};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nn,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let i1e=0;function o1e(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function s1e(t){const e=new n1e,n=r1e(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new xe);const i=new xe,o=new Ln,s=new Ln;function a(c){let u=0,d=0,f=0;for(let T=0;T<9;T++)r.probe[T].set(0,0,0);let h=0,p=0,m=0,y=0,g=0,v=0,b=0,x=0,P=0,N=0,_=0;c.sort(o1e);for(let T=0,E=c.length;T<E;T++){const z=c[T],W=z.color,B=z.intensity,w=z.distance,A=z.shadow&&z.shadow.map?z.shadow.map.texture:null;if(z.isAmbientLight)u+=W.r*B,d+=W.g*B,f+=W.b*B;else if(z.isLightProbe){for(let C=0;C<9;C++)r.probe[C].addScaledVector(z.sh.coefficients[C],B);_++}else if(z.isDirectionalLight){const C=e.get(z);if(C.color.copy(z.color).multiplyScalar(z.intensity),z.castShadow){const k=z.shadow,I=n.get(z);I.shadowIntensity=k.intensity,I.shadowBias=k.bias,I.shadowNormalBias=k.normalBias,I.shadowRadius=k.radius,I.shadowMapSize=k.mapSize,r.directionalShadow[h]=I,r.directionalShadowMap[h]=A,r.directionalShadowMatrix[h]=z.shadow.matrix,v++}r.directional[h]=C,h++}else if(z.isSpotLight){const C=e.get(z);C.position.setFromMatrixPosition(z.matrixWorld),C.color.copy(W).multiplyScalar(B),C.distance=w,C.coneCos=Math.cos(z.angle),C.penumbraCos=Math.cos(z.angle*(1-z.penumbra)),C.decay=z.decay,r.spot[m]=C;const k=z.shadow;if(z.map&&(r.spotLightMap[P]=z.map,P++,k.updateMatrices(z),z.castShadow&&N++),r.spotLightMatrix[m]=k.matrix,z.castShadow){const I=n.get(z);I.shadowIntensity=k.intensity,I.shadowBias=k.bias,I.shadowNormalBias=k.normalBias,I.shadowRadius=k.radius,I.shadowMapSize=k.mapSize,r.spotShadow[m]=I,r.spotShadowMap[m]=A,x++}m++}else if(z.isRectAreaLight){const C=e.get(z);C.color.copy(W).multiplyScalar(B),C.halfWidth.set(z.width*.5,0,0),C.halfHeight.set(0,z.height*.5,0),r.rectArea[y]=C,y++}else if(z.isPointLight){const C=e.get(z);if(C.color.copy(z.color).multiplyScalar(z.intensity),C.distance=z.distance,C.decay=z.decay,z.castShadow){const k=z.shadow,I=n.get(z);I.shadowIntensity=k.intensity,I.shadowBias=k.bias,I.shadowNormalBias=k.normalBias,I.shadowRadius=k.radius,I.shadowMapSize=k.mapSize,I.shadowCameraNear=k.camera.near,I.shadowCameraFar=k.camera.far,r.pointShadow[p]=I,r.pointShadowMap[p]=A,r.pointShadowMatrix[p]=z.shadow.matrix,b++}r.point[p]=C,p++}else if(z.isHemisphereLight){const C=e.get(z);C.skyColor.copy(z.color).multiplyScalar(B),C.groundColor.copy(z.groundColor).multiplyScalar(B),r.hemi[g]=C,g++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=st.LTC_FLOAT_1,r.rectAreaLTC2=st.LTC_FLOAT_2):(r.rectAreaLTC1=st.LTC_HALF_1,r.rectAreaLTC2=st.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=d,r.ambient[2]=f;const D=r.hash;(D.directionalLength!==h||D.pointLength!==p||D.spotLength!==m||D.rectAreaLength!==y||D.hemiLength!==g||D.numDirectionalShadows!==v||D.numPointShadows!==b||D.numSpotShadows!==x||D.numSpotMaps!==P||D.numLightProbes!==_)&&(r.directional.length=h,r.spot.length=m,r.rectArea.length=y,r.point.length=p,r.hemi.length=g,r.directionalShadow.length=v,r.directionalShadowMap.length=v,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=x,r.spotShadowMap.length=x,r.directionalShadowMatrix.length=v,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=x+P-N,r.spotLightMap.length=P,r.numSpotLightShadowsWithMaps=N,r.numLightProbes=_,D.directionalLength=h,D.pointLength=p,D.spotLength=m,D.rectAreaLength=y,D.hemiLength=g,D.numDirectionalShadows=v,D.numPointShadows=b,D.numSpotShadows=x,D.numSpotMaps=P,D.numLightProbes=_,r.version=i1e++)}function l(c,u){let d=0,f=0,h=0,p=0,m=0;const y=u.matrixWorldInverse;for(let g=0,v=c.length;g<v;g++){const b=c[g];if(b.isDirectionalLight){const x=r.directional[d];x.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(i),x.direction.transformDirection(y),d++}else if(b.isSpotLight){const x=r.spot[h];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(y),x.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(i),x.direction.transformDirection(y),h++}else if(b.isRectAreaLight){const x=r.rectArea[p];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(y),s.identity(),o.copy(b.matrixWorld),o.premultiply(y),s.extractRotation(o),x.halfWidth.set(b.width*.5,0,0),x.halfHeight.set(0,b.height*.5,0),x.halfWidth.applyMatrix4(s),x.halfHeight.applyMatrix4(s),p++}else if(b.isPointLight){const x=r.point[f];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(y),f++}else if(b.isHemisphereLight){const x=r.hemi[m];x.direction.setFromMatrixPosition(b.matrixWorld),x.direction.transformDirection(y),m++}}}return{setup:a,setupView:l,state:r}}function Y6(t){const e=new s1e(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function o(u){n.push(u)}function s(u){r.push(u)}function a(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:o,pushShadow:s}}function a1e(t){let e=new WeakMap;function n(i,o=0){const s=e.get(i);let a;return s===void 0?(a=new Y6(t),e.set(i,[a])):o>=s.length?(a=new Y6(t),s.push(a)):a=s[o],a}function r(){e=new WeakMap}return{get:n,dispose:r}}class l1e extends $m{static get type(){return"MeshDepthMaterial"}constructor(e){super(),this.isMeshDepthMaterial=!0,this.depthPacking=r0e,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class c1e extends $m{static get type(){return"MeshDistanceMaterial"}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const u1e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,d1e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function f1e(t,e,n){let r=new WT;const i=new nn,o=new nn,s=new Bn,a=new l1e({depthPacking:i0e}),l=new c1e,c={},u=n.maxTextureSize,d={[Nl]:Mi,[Mi]:Nl,[ra]:ra},f=new kl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new nn},radius:{value:4}},vertexShader:u1e,fragmentShader:d1e}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new jl;p.setAttribute("position",new Is(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Ko(p,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=x9;let g=this.type;this.render=function(N,_,D){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||N.length===0)return;const T=t.getRenderTarget(),E=t.getActiveCubeFace(),z=t.getActiveMipmapLevel(),W=t.state;W.setBlending(Al),W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const B=g!==qs&&this.type===qs,w=g===qs&&this.type!==qs;for(let A=0,C=N.length;A<C;A++){const k=N[A],I=k.shadow;if(I===void 0){console.warn("THREE.WebGLShadowMap:",k,"has no shadow.");continue}if(I.autoUpdate===!1&&I.needsUpdate===!1)continue;i.copy(I.mapSize);const H=I.getFrameExtents();if(i.multiply(H),o.copy(I.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/H.x),i.x=o.x*H.x,I.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/H.y),i.y=o.y*H.y,I.mapSize.y=o.y)),I.map===null||B===!0||w===!0){const L=this.type!==qs?{minFilter:Zo,magFilter:Zo}:{};I.map!==null&&I.map.dispose(),I.map=new su(i.x,i.y,L),I.map.texture.name=k.name+".shadowMap",I.camera.updateProjectionMatrix()}t.setRenderTarget(I.map),t.clear();const G=I.getViewportCount();for(let L=0;L<G;L++){const M=I.getViewport(L);s.set(o.x*M.x,o.y*M.y,o.x*M.z,o.y*M.w),W.viewport(s),I.updateMatrices(k,L),r=I.getFrustum(),x(_,D,I.camera,k,this.type)}I.isPointLightShadow!==!0&&this.type===qs&&v(I,D),I.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(T,E,z)};function v(N,_){const D=e.update(m);f.defines.VSM_SAMPLES!==N.blurSamples&&(f.defines.VSM_SAMPLES=N.blurSamples,h.defines.VSM_SAMPLES=N.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new su(i.x,i.y)),f.uniforms.shadow_pass.value=N.map.texture,f.uniforms.resolution.value=N.mapSize,f.uniforms.radius.value=N.radius,t.setRenderTarget(N.mapPass),t.clear(),t.renderBufferDirect(_,null,D,f,m,null),h.uniforms.shadow_pass.value=N.mapPass.texture,h.uniforms.resolution.value=N.mapSize,h.uniforms.radius.value=N.radius,t.setRenderTarget(N.map),t.clear(),t.renderBufferDirect(_,null,D,h,m,null)}function b(N,_,D,T){let E=null;const z=D.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(z!==void 0)E=z;else if(E=D.isPointLight===!0?l:a,t.localClippingEnabled&&_.clipShadows===!0&&Array.isArray(_.clippingPlanes)&&_.clippingPlanes.length!==0||_.displacementMap&&_.displacementScale!==0||_.alphaMap&&_.alphaTest>0||_.map&&_.alphaTest>0){const W=E.uuid,B=_.uuid;let w=c[W];w===void 0&&(w={},c[W]=w);let A=w[B];A===void 0&&(A=E.clone(),w[B]=A,_.addEventListener("dispose",P)),E=A}if(E.visible=_.visible,E.wireframe=_.wireframe,T===qs?E.side=_.shadowSide!==null?_.shadowSide:_.side:E.side=_.shadowSide!==null?_.shadowSide:d[_.side],E.alphaMap=_.alphaMap,E.alphaTest=_.alphaTest,E.map=_.map,E.clipShadows=_.clipShadows,E.clippingPlanes=_.clippingPlanes,E.clipIntersection=_.clipIntersection,E.displacementMap=_.displacementMap,E.displacementScale=_.displacementScale,E.displacementBias=_.displacementBias,E.wireframeLinewidth=_.wireframeLinewidth,E.linewidth=_.linewidth,D.isPointLight===!0&&E.isMeshDistanceMaterial===!0){const W=t.properties.get(E);W.light=D}return E}function x(N,_,D,T,E){if(N.visible===!1)return;if(N.layers.test(_.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&E===qs)&&(!N.frustumCulled||r.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,N.matrixWorld);const B=e.update(N),w=N.material;if(Array.isArray(w)){const A=B.groups;for(let C=0,k=A.length;C<k;C++){const I=A[C],H=w[I.materialIndex];if(H&&H.visible){const G=b(N,H,T,E);N.onBeforeShadow(t,N,_,D,B,G,I),t.renderBufferDirect(D,null,B,G,N,I),N.onAfterShadow(t,N,_,D,B,G,I)}}}else if(w.visible){const A=b(N,w,T,E);N.onBeforeShadow(t,N,_,D,B,A,null),t.renderBufferDirect(D,null,B,A,N,null),N.onAfterShadow(t,N,_,D,B,A,null)}}const W=N.children;for(let B=0,w=W.length;B<w;B++)x(W[B],_,D,T,E)}function P(N){N.target.removeEventListener("dispose",P);for(const D in c){const T=c[D],E=N.target.uuid;E in T&&(T[E].dispose(),delete T[E])}}}const h1e={[z2]:j2,[H2]:V2,[G2]:$2,[lf]:W2,[j2]:z2,[V2]:H2,[$2]:G2,[W2]:lf};function p1e(t,e){function n(){let ae=!1;const it=new Bn;let ye=null;const _e=new Bn(0,0,0,0);return{setMask:function(ot){ye!==ot&&!ae&&(t.colorMask(ot,ot,ot,ot),ye=ot)},setLocked:function(ot){ae=ot},setClear:function(ot,Le,bt,sn,Pt){Pt===!0&&(ot*=sn,Le*=sn,bt*=sn),it.set(ot,Le,bt,sn),_e.equals(it)===!1&&(t.clearColor(ot,Le,bt,sn),_e.copy(it))},reset:function(){ae=!1,ye=null,_e.set(-1,0,0,0)}}}function r(){let ae=!1,it=!1,ye=null,_e=null,ot=null;return{setReversed:function(Le){if(it!==Le){const bt=e.get("EXT_clip_control");it?bt.clipControlEXT(bt.LOWER_LEFT_EXT,bt.ZERO_TO_ONE_EXT):bt.clipControlEXT(bt.LOWER_LEFT_EXT,bt.NEGATIVE_ONE_TO_ONE_EXT);const sn=ot;ot=null,this.setClear(sn)}it=Le},getReversed:function(){return it},setTest:function(Le){Le?le(t.DEPTH_TEST):Te(t.DEPTH_TEST)},setMask:function(Le){ye!==Le&&!ae&&(t.depthMask(Le),ye=Le)},setFunc:function(Le){if(it&&(Le=h1e[Le]),_e!==Le){switch(Le){case z2:t.depthFunc(t.NEVER);break;case j2:t.depthFunc(t.ALWAYS);break;case H2:t.depthFunc(t.LESS);break;case lf:t.depthFunc(t.LEQUAL);break;case G2:t.depthFunc(t.EQUAL);break;case W2:t.depthFunc(t.GEQUAL);break;case V2:t.depthFunc(t.GREATER);break;case $2:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}_e=Le}},setLocked:function(Le){ae=Le},setClear:function(Le){ot!==Le&&(it&&(Le=1-Le),t.clearDepth(Le),ot=Le)},reset:function(){ae=!1,ye=null,_e=null,ot=null,it=!1}}}function i(){let ae=!1,it=null,ye=null,_e=null,ot=null,Le=null,bt=null,sn=null,Pt=null;return{setTest:function(St){ae||(St?le(t.STENCIL_TEST):Te(t.STENCIL_TEST))},setMask:function(St){it!==St&&!ae&&(t.stencilMask(St),it=St)},setFunc:function(St,er,qt){(ye!==St||_e!==er||ot!==qt)&&(t.stencilFunc(St,er,qt),ye=St,_e=er,ot=qt)},setOp:function(St,er,qt){(Le!==St||bt!==er||sn!==qt)&&(t.stencilOp(St,er,qt),Le=St,bt=er,sn=qt)},setLocked:function(St){ae=St},setClear:function(St){Pt!==St&&(t.clearStencil(St),Pt=St)},reset:function(){ae=!1,it=null,ye=null,_e=null,ot=null,Le=null,bt=null,sn=null,Pt=null}}}const o=new n,s=new r,a=new i,l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,h=[],p=null,m=!1,y=null,g=null,v=null,b=null,x=null,P=null,N=null,_=new Jt(0,0,0),D=0,T=!1,E=null,z=null,W=null,B=null,w=null;const A=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let C=!1,k=0;const I=t.getParameter(t.VERSION);I.indexOf("WebGL")!==-1?(k=parseFloat(/^WebGL (\d)/.exec(I)[1]),C=k>=1):I.indexOf("OpenGL ES")!==-1&&(k=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),C=k>=2);let H=null,G={};const L=t.getParameter(t.SCISSOR_BOX),M=t.getParameter(t.VIEWPORT),$=new Bn().fromArray(L),J=new Bn().fromArray(M);function te(ae,it,ye,_e){const ot=new Uint8Array(4),Le=t.createTexture();t.bindTexture(ae,Le),t.texParameteri(ae,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ae,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let bt=0;bt<ye;bt++)ae===t.TEXTURE_3D||ae===t.TEXTURE_2D_ARRAY?t.texImage3D(it,0,t.RGBA,1,1,_e,0,t.RGBA,t.UNSIGNED_BYTE,ot):t.texImage2D(it+bt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ot);return Le}const oe={};oe[t.TEXTURE_2D]=te(t.TEXTURE_2D,t.TEXTURE_2D,1),oe[t.TEXTURE_CUBE_MAP]=te(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),oe[t.TEXTURE_2D_ARRAY]=te(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),oe[t.TEXTURE_3D]=te(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),s.setClear(1),a.setClear(0),le(t.DEPTH_TEST),s.setFunc(lf),Et(!1),dt(t6),le(t.CULL_FACE),ee(Al);function le(ae){u[ae]!==!0&&(t.enable(ae),u[ae]=!0)}function Te(ae){u[ae]!==!1&&(t.disable(ae),u[ae]=!1)}function Ne(ae,it){return d[ae]!==it?(t.bindFramebuffer(ae,it),d[ae]=it,ae===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=it),ae===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=it),!0):!1}function Ae(ae,it){let ye=h,_e=!1;if(ae){ye=f.get(it),ye===void 0&&(ye=[],f.set(it,ye));const ot=ae.textures;if(ye.length!==ot.length||ye[0]!==t.COLOR_ATTACHMENT0){for(let Le=0,bt=ot.length;Le<bt;Le++)ye[Le]=t.COLOR_ATTACHMENT0+Le;ye.length=ot.length,_e=!0}}else ye[0]!==t.BACK&&(ye[0]=t.BACK,_e=!0);_e&&t.drawBuffers(ye)}function Be(ae){return p!==ae?(t.useProgram(ae),p=ae,!0):!1}const Re={[uc]:t.FUNC_ADD,[Rme]:t.FUNC_SUBTRACT,[Pme]:t.FUNC_REVERSE_SUBTRACT};Re[Nme]=t.MIN,Re[kme]=t.MAX;const ut={[Fme]:t.ZERO,[Bme]:t.ONE,[Ome]:t.SRC_COLOR,[D2]:t.SRC_ALPHA,[Hme]:t.SRC_ALPHA_SATURATE,[zme]:t.DST_COLOR,[Dme]:t.DST_ALPHA,[Lme]:t.ONE_MINUS_SRC_COLOR,[U2]:t.ONE_MINUS_SRC_ALPHA,[jme]:t.ONE_MINUS_DST_COLOR,[Ume]:t.ONE_MINUS_DST_ALPHA,[Gme]:t.CONSTANT_COLOR,[Wme]:t.ONE_MINUS_CONSTANT_COLOR,[Vme]:t.CONSTANT_ALPHA,[$me]:t.ONE_MINUS_CONSTANT_ALPHA};function ee(ae,it,ye,_e,ot,Le,bt,sn,Pt,St){if(ae===Al){m===!0&&(Te(t.BLEND),m=!1);return}if(m===!1&&(le(t.BLEND),m=!0),ae!==Ime){if(ae!==y||St!==T){if((g!==uc||x!==uc)&&(t.blendEquation(t.FUNC_ADD),g=uc,x=uc),St)switch(ae){case Id:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case n6:t.blendFunc(t.ONE,t.ONE);break;case r6:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case i6:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}else switch(ae){case Id:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case n6:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case r6:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case i6:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}v=null,b=null,P=null,N=null,_.set(0,0,0),D=0,y=ae,T=St}return}ot=ot||it,Le=Le||ye,bt=bt||_e,(it!==g||ot!==x)&&(t.blendEquationSeparate(Re[it],Re[ot]),g=it,x=ot),(ye!==v||_e!==b||Le!==P||bt!==N)&&(t.blendFuncSeparate(ut[ye],ut[_e],ut[Le],ut[bt]),v=ye,b=_e,P=Le,N=bt),(sn.equals(_)===!1||Pt!==D)&&(t.blendColor(sn.r,sn.g,sn.b,Pt),_.copy(sn),D=Pt),y=ae,T=!1}function _t(ae,it){ae.side===ra?Te(t.CULL_FACE):le(t.CULL_FACE);let ye=ae.side===Mi;it&&(ye=!ye),Et(ye),ae.blending===Id&&ae.transparent===!1?ee(Al):ee(ae.blending,ae.blendEquation,ae.blendSrc,ae.blendDst,ae.blendEquationAlpha,ae.blendSrcAlpha,ae.blendDstAlpha,ae.blendColor,ae.blendAlpha,ae.premultipliedAlpha),s.setFunc(ae.depthFunc),s.setTest(ae.depthTest),s.setMask(ae.depthWrite),o.setMask(ae.colorWrite);const _e=ae.stencilWrite;a.setTest(_e),_e&&(a.setMask(ae.stencilWriteMask),a.setFunc(ae.stencilFunc,ae.stencilRef,ae.stencilFuncMask),a.setOp(ae.stencilFail,ae.stencilZFail,ae.stencilZPass)),Nt(ae.polygonOffset,ae.polygonOffsetFactor,ae.polygonOffsetUnits),ae.alphaToCoverage===!0?le(t.SAMPLE_ALPHA_TO_COVERAGE):Te(t.SAMPLE_ALPHA_TO_COVERAGE)}function Et(ae){E!==ae&&(ae?t.frontFace(t.CW):t.frontFace(t.CCW),E=ae)}function dt(ae){ae!==Cme?(le(t.CULL_FACE),ae!==z&&(ae===t6?t.cullFace(t.BACK):ae===Tme?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Te(t.CULL_FACE),z=ae}function Ye(ae){ae!==W&&(C&&t.lineWidth(ae),W=ae)}function Nt(ae,it,ye){ae?(le(t.POLYGON_OFFSET_FILL),(B!==it||w!==ye)&&(t.polygonOffset(it,ye),B=it,w=ye)):Te(t.POLYGON_OFFSET_FILL)}function et(ae){ae?le(t.SCISSOR_TEST):Te(t.SCISSOR_TEST)}function X(ae){ae===void 0&&(ae=t.TEXTURE0+A-1),H!==ae&&(t.activeTexture(ae),H=ae)}function V(ae,it,ye){ye===void 0&&(H===null?ye=t.TEXTURE0+A-1:ye=H);let _e=G[ye];_e===void 0&&(_e={type:void 0,texture:void 0},G[ye]=_e),(_e.type!==ae||_e.texture!==it)&&(H!==ye&&(t.activeTexture(ye),H=ye),t.bindTexture(ae,it||oe[ae]),_e.type=ae,_e.texture=it)}function ce(){const ae=G[H];ae!==void 0&&ae.type!==void 0&&(t.bindTexture(ae.type,null),ae.type=void 0,ae.texture=void 0)}function we(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Ie(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function pe(){try{t.texSubImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function j(){try{t.texSubImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function S(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function R(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Q(){try{t.texStorage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Y(){try{t.texStorage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Z(){try{t.texImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function ne(){try{t.texImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function De(ae){$.equals(ae)===!1&&(t.scissor(ae.x,ae.y,ae.z,ae.w),$.copy(ae))}function Pe(ae){J.equals(ae)===!1&&(t.viewport(ae.x,ae.y,ae.z,ae.w),J.copy(ae))}function Ke(ae,it){let ye=c.get(it);ye===void 0&&(ye=new WeakMap,c.set(it,ye));let _e=ye.get(ae);_e===void 0&&(_e=t.getUniformBlockIndex(it,ae.name),ye.set(ae,_e))}function ft(ae,it){const _e=c.get(it).get(ae);l.get(it)!==_e&&(t.uniformBlockBinding(it,_e,ae.__bindingPointIndex),l.set(it,_e))}function rt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},H=null,G={},d={},f=new WeakMap,h=[],p=null,m=!1,y=null,g=null,v=null,b=null,x=null,P=null,N=null,_=new Jt(0,0,0),D=0,T=!1,E=null,z=null,W=null,B=null,w=null,$.set(0,0,t.canvas.width,t.canvas.height),J.set(0,0,t.canvas.width,t.canvas.height),o.reset(),s.reset(),a.reset()}return{buffers:{color:o,depth:s,stencil:a},enable:le,disable:Te,bindFramebuffer:Ne,drawBuffers:Ae,useProgram:Be,setBlending:ee,setMaterial:_t,setFlipSided:Et,setCullFace:dt,setLineWidth:Ye,setPolygonOffset:Nt,setScissorTest:et,activeTexture:X,bindTexture:V,unbindTexture:ce,compressedTexImage2D:we,compressedTexImage3D:Ie,texImage2D:Z,texImage3D:ne,updateUBOMapping:Ke,uniformBlockBinding:ft,texStorage2D:Q,texStorage3D:Y,texSubImage2D:pe,texSubImage3D:j,compressedTexSubImage2D:S,compressedTexSubImage3D:R,scissor:De,viewport:Pe,reset:rt}}function J6(t,e,n,r){const i=m1e(r);switch(n){case C9:return t*e;case M9:return t*e;case I9:return t*e*2;case R9:return t*e/i.components*i.byteLength;case zT:return t*e/i.components*i.byteLength;case P9:return t*e*2/i.components*i.byteLength;case jT:return t*e*2/i.components*i.byteLength;case T9:return t*e*3/i.components*i.byteLength;case Qo:return t*e*4/i.components*i.byteLength;case HT:return t*e*4/i.components*i.byteLength;case ty:case ny:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case ry:case iy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case J2:case e_:return Math.max(t,16)*Math.max(e,8)/4;case Y2:case Z2:return Math.max(t,8)*Math.max(e,8)/2;case t_:case n_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case r_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case i_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case o_:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case s_:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case a_:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case l_:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case c_:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case u_:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case d_:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case f_:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case h_:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case p_:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case m_:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case g_:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case y_:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case oy:case v_:case w_:return Math.ceil(t/4)*Math.ceil(e/4)*16;case N9:case b_:return Math.ceil(t/4)*Math.ceil(e/4)*8;case x_:case E_:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function m1e(t){switch(t){case Ta:case A9:return{byteLength:1,components:1};case im:case _9:case Hm:return{byteLength:2,components:1};case DT:case UT:return{byteLength:2,components:4};case ou:case LT:case ca:return{byteLength:4,components:1};case S9:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}function g1e(t,e,n,r,i,o,s){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new nn,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(X,V){return h?new OffscreenCanvas(X,V):om("canvas")}function m(X,V,ce){let we=1;const Ie=et(X);if((Ie.width>ce||Ie.height>ce)&&(we=ce/Math.max(Ie.width,Ie.height)),we<1)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap||typeof VideoFrame<"u"&&X instanceof VideoFrame){const pe=Math.floor(we*Ie.width),j=Math.floor(we*Ie.height);d===void 0&&(d=p(pe,j));const S=V?p(pe,j):d;return S.width=pe,S.height=j,S.getContext("2d").drawImage(X,0,0,pe,j),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ie.width+"x"+Ie.height+") to ("+pe+"x"+j+")."),S}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ie.width+"x"+Ie.height+")."),X;return X}function y(X){return X.generateMipmaps}function g(X){t.generateMipmap(X)}function v(X){return X.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:X.isWebGL3DRenderTarget?t.TEXTURE_3D:X.isWebGLArrayRenderTarget||X.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(X,V,ce,we,Ie=!1){if(X!==null){if(t[X]!==void 0)return t[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let pe=V;if(V===t.RED&&(ce===t.FLOAT&&(pe=t.R32F),ce===t.HALF_FLOAT&&(pe=t.R16F),ce===t.UNSIGNED_BYTE&&(pe=t.R8)),V===t.RED_INTEGER&&(ce===t.UNSIGNED_BYTE&&(pe=t.R8UI),ce===t.UNSIGNED_SHORT&&(pe=t.R16UI),ce===t.UNSIGNED_INT&&(pe=t.R32UI),ce===t.BYTE&&(pe=t.R8I),ce===t.SHORT&&(pe=t.R16I),ce===t.INT&&(pe=t.R32I)),V===t.RG&&(ce===t.FLOAT&&(pe=t.RG32F),ce===t.HALF_FLOAT&&(pe=t.RG16F),ce===t.UNSIGNED_BYTE&&(pe=t.RG8)),V===t.RG_INTEGER&&(ce===t.UNSIGNED_BYTE&&(pe=t.RG8UI),ce===t.UNSIGNED_SHORT&&(pe=t.RG16UI),ce===t.UNSIGNED_INT&&(pe=t.RG32UI),ce===t.BYTE&&(pe=t.RG8I),ce===t.SHORT&&(pe=t.RG16I),ce===t.INT&&(pe=t.RG32I)),V===t.RGB_INTEGER&&(ce===t.UNSIGNED_BYTE&&(pe=t.RGB8UI),ce===t.UNSIGNED_SHORT&&(pe=t.RGB16UI),ce===t.UNSIGNED_INT&&(pe=t.RGB32UI),ce===t.BYTE&&(pe=t.RGB8I),ce===t.SHORT&&(pe=t.RGB16I),ce===t.INT&&(pe=t.RGB32I)),V===t.RGBA_INTEGER&&(ce===t.UNSIGNED_BYTE&&(pe=t.RGBA8UI),ce===t.UNSIGNED_SHORT&&(pe=t.RGBA16UI),ce===t.UNSIGNED_INT&&(pe=t.RGBA32UI),ce===t.BYTE&&(pe=t.RGBA8I),ce===t.SHORT&&(pe=t.RGBA16I),ce===t.INT&&(pe=t.RGBA32I)),V===t.RGB&&ce===t.UNSIGNED_INT_5_9_9_9_REV&&(pe=t.RGB9_E5),V===t.RGBA){const j=Ie?y1:Qt.getTransfer(we);ce===t.FLOAT&&(pe=t.RGBA32F),ce===t.HALF_FLOAT&&(pe=t.RGBA16F),ce===t.UNSIGNED_BYTE&&(pe=j===un?t.SRGB8_ALPHA8:t.RGBA8),ce===t.UNSIGNED_SHORT_4_4_4_4&&(pe=t.RGBA4),ce===t.UNSIGNED_SHORT_5_5_5_1&&(pe=t.RGB5_A1)}return(pe===t.R16F||pe===t.R32F||pe===t.RG16F||pe===t.RG32F||pe===t.RGBA16F||pe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),pe}function x(X,V){let ce;return X?V===null||V===ou||V===df?ce=t.DEPTH24_STENCIL8:V===ca?ce=t.DEPTH32F_STENCIL8:V===im&&(ce=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):V===null||V===ou||V===df?ce=t.DEPTH_COMPONENT24:V===ca?ce=t.DEPTH_COMPONENT32F:V===im&&(ce=t.DEPTH_COMPONENT16),ce}function P(X,V){return y(X)===!0||X.isFramebufferTexture&&X.minFilter!==Zo&&X.minFilter!==wi?Math.log2(Math.max(V.width,V.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?V.mipmaps.length:1}function N(X){const V=X.target;V.removeEventListener("dispose",N),D(V),V.isVideoTexture&&u.delete(V)}function _(X){const V=X.target;V.removeEventListener("dispose",_),E(V)}function D(X){const V=r.get(X);if(V.__webglInit===void 0)return;const ce=X.source,we=f.get(ce);if(we){const Ie=we[V.__cacheKey];Ie.usedTimes--,Ie.usedTimes===0&&T(X),Object.keys(we).length===0&&f.delete(ce)}r.remove(X)}function T(X){const V=r.get(X);t.deleteTexture(V.__webglTexture);const ce=X.source,we=f.get(ce);delete we[V.__cacheKey],s.memory.textures--}function E(X){const V=r.get(X);if(X.depthTexture&&(X.depthTexture.dispose(),r.remove(X.depthTexture)),X.isWebGLCubeRenderTarget)for(let we=0;we<6;we++){if(Array.isArray(V.__webglFramebuffer[we]))for(let Ie=0;Ie<V.__webglFramebuffer[we].length;Ie++)t.deleteFramebuffer(V.__webglFramebuffer[we][Ie]);else t.deleteFramebuffer(V.__webglFramebuffer[we]);V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer[we])}else{if(Array.isArray(V.__webglFramebuffer))for(let we=0;we<V.__webglFramebuffer.length;we++)t.deleteFramebuffer(V.__webglFramebuffer[we]);else t.deleteFramebuffer(V.__webglFramebuffer);if(V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&t.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let we=0;we<V.__webglColorRenderbuffer.length;we++)V.__webglColorRenderbuffer[we]&&t.deleteRenderbuffer(V.__webglColorRenderbuffer[we]);V.__webglDepthRenderbuffer&&t.deleteRenderbuffer(V.__webglDepthRenderbuffer)}const ce=X.textures;for(let we=0,Ie=ce.length;we<Ie;we++){const pe=r.get(ce[we]);pe.__webglTexture&&(t.deleteTexture(pe.__webglTexture),s.memory.textures--),r.remove(ce[we])}r.remove(X)}let z=0;function W(){z=0}function B(){const X=z;return X>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+i.maxTextures),z+=1,X}function w(X){const V=[];return V.push(X.wrapS),V.push(X.wrapT),V.push(X.wrapR||0),V.push(X.magFilter),V.push(X.minFilter),V.push(X.anisotropy),V.push(X.internalFormat),V.push(X.format),V.push(X.type),V.push(X.generateMipmaps),V.push(X.premultiplyAlpha),V.push(X.flipY),V.push(X.unpackAlignment),V.push(X.colorSpace),V.join()}function A(X,V){const ce=r.get(X);if(X.isVideoTexture&&Ye(X),X.isRenderTargetTexture===!1&&X.version>0&&ce.__version!==X.version){const we=X.image;if(we===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(we.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{J(ce,X,V);return}}n.bindTexture(t.TEXTURE_2D,ce.__webglTexture,t.TEXTURE0+V)}function C(X,V){const ce=r.get(X);if(X.version>0&&ce.__version!==X.version){J(ce,X,V);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ce.__webglTexture,t.TEXTURE0+V)}function k(X,V){const ce=r.get(X);if(X.version>0&&ce.__version!==X.version){J(ce,X,V);return}n.bindTexture(t.TEXTURE_3D,ce.__webglTexture,t.TEXTURE0+V)}function I(X,V){const ce=r.get(X);if(X.version>0&&ce.__version!==X.version){te(ce,X,V);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ce.__webglTexture,t.TEXTURE0+V)}const H={[K2]:t.REPEAT,[Cc]:t.CLAMP_TO_EDGE,[X2]:t.MIRRORED_REPEAT},G={[Zo]:t.NEAREST,[n0e]:t.NEAREST_MIPMAP_NEAREST,[U0]:t.NEAREST_MIPMAP_LINEAR,[wi]:t.LINEAR,[fx]:t.LINEAR_MIPMAP_NEAREST,[Tc]:t.LINEAR_MIPMAP_LINEAR},L={[s0e]:t.NEVER,[f0e]:t.ALWAYS,[a0e]:t.LESS,[F9]:t.LEQUAL,[l0e]:t.EQUAL,[d0e]:t.GEQUAL,[c0e]:t.GREATER,[u0e]:t.NOTEQUAL};function M(X,V){if(V.type===ca&&e.has("OES_texture_float_linear")===!1&&(V.magFilter===wi||V.magFilter===fx||V.magFilter===U0||V.magFilter===Tc||V.minFilter===wi||V.minFilter===fx||V.minFilter===U0||V.minFilter===Tc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(X,t.TEXTURE_WRAP_S,H[V.wrapS]),t.texParameteri(X,t.TEXTURE_WRAP_T,H[V.wrapT]),(X===t.TEXTURE_3D||X===t.TEXTURE_2D_ARRAY)&&t.texParameteri(X,t.TEXTURE_WRAP_R,H[V.wrapR]),t.texParameteri(X,t.TEXTURE_MAG_FILTER,G[V.magFilter]),t.texParameteri(X,t.TEXTURE_MIN_FILTER,G[V.minFilter]),V.compareFunction&&(t.texParameteri(X,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(X,t.TEXTURE_COMPARE_FUNC,L[V.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(V.magFilter===Zo||V.minFilter!==U0&&V.minFilter!==Tc||V.type===ca&&e.has("OES_texture_float_linear")===!1)return;if(V.anisotropy>1||r.get(V).__currentAnisotropy){const ce=e.get("EXT_texture_filter_anisotropic");t.texParameterf(X,ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,i.getMaxAnisotropy())),r.get(V).__currentAnisotropy=V.anisotropy}}}function $(X,V){let ce=!1;X.__webglInit===void 0&&(X.__webglInit=!0,V.addEventListener("dispose",N));const we=V.source;let Ie=f.get(we);Ie===void 0&&(Ie={},f.set(we,Ie));const pe=w(V);if(pe!==X.__cacheKey){Ie[pe]===void 0&&(Ie[pe]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,ce=!0),Ie[pe].usedTimes++;const j=Ie[X.__cacheKey];j!==void 0&&(Ie[X.__cacheKey].usedTimes--,j.usedTimes===0&&T(V)),X.__cacheKey=pe,X.__webglTexture=Ie[pe].texture}return ce}function J(X,V,ce){let we=t.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(we=t.TEXTURE_2D_ARRAY),V.isData3DTexture&&(we=t.TEXTURE_3D);const Ie=$(X,V),pe=V.source;n.bindTexture(we,X.__webglTexture,t.TEXTURE0+ce);const j=r.get(pe);if(pe.version!==j.__version||Ie===!0){n.activeTexture(t.TEXTURE0+ce);const S=Qt.getPrimaries(Qt.workingColorSpace),R=V.colorSpace===ol?null:Qt.getPrimaries(V.colorSpace),Q=V.colorSpace===ol||S===R?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,V.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,V.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Q);let Y=m(V.image,!1,i.maxTextureSize);Y=Nt(V,Y);const Z=o.convert(V.format,V.colorSpace),ne=o.convert(V.type);let De=b(V.internalFormat,Z,ne,V.colorSpace,V.isVideoTexture);M(we,V);let Pe;const Ke=V.mipmaps,ft=V.isVideoTexture!==!0,rt=j.__version===void 0||Ie===!0,ae=pe.dataReady,it=P(V,Y);if(V.isDepthTexture)De=x(V.format===ff,V.type),rt&&(ft?n.texStorage2D(t.TEXTURE_2D,1,De,Y.width,Y.height):n.texImage2D(t.TEXTURE_2D,0,De,Y.width,Y.height,0,Z,ne,null));else if(V.isDataTexture)if(Ke.length>0){ft&&rt&&n.texStorage2D(t.TEXTURE_2D,it,De,Ke[0].width,Ke[0].height);for(let ye=0,_e=Ke.length;ye<_e;ye++)Pe=Ke[ye],ft?ae&&n.texSubImage2D(t.TEXTURE_2D,ye,0,0,Pe.width,Pe.height,Z,ne,Pe.data):n.texImage2D(t.TEXTURE_2D,ye,De,Pe.width,Pe.height,0,Z,ne,Pe.data);V.generateMipmaps=!1}else ft?(rt&&n.texStorage2D(t.TEXTURE_2D,it,De,Y.width,Y.height),ae&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Y.width,Y.height,Z,ne,Y.data)):n.texImage2D(t.TEXTURE_2D,0,De,Y.width,Y.height,0,Z,ne,Y.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){ft&&rt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,it,De,Ke[0].width,Ke[0].height,Y.depth);for(let ye=0,_e=Ke.length;ye<_e;ye++)if(Pe=Ke[ye],V.format!==Qo)if(Z!==null)if(ft){if(ae)if(V.layerUpdates.size>0){const ot=J6(Pe.width,Pe.height,V.format,V.type);for(const Le of V.layerUpdates){const bt=Pe.data.subarray(Le*ot/Pe.data.BYTES_PER_ELEMENT,(Le+1)*ot/Pe.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ye,0,0,Le,Pe.width,Pe.height,1,Z,bt)}V.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ye,0,0,0,Pe.width,Pe.height,Y.depth,Z,Pe.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ye,De,Pe.width,Pe.height,Y.depth,0,Pe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ft?ae&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ye,0,0,0,Pe.width,Pe.height,Y.depth,Z,ne,Pe.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ye,De,Pe.width,Pe.height,Y.depth,0,Z,ne,Pe.data)}else{ft&&rt&&n.texStorage2D(t.TEXTURE_2D,it,De,Ke[0].width,Ke[0].height);for(let ye=0,_e=Ke.length;ye<_e;ye++)Pe=Ke[ye],V.format!==Qo?Z!==null?ft?ae&&n.compressedTexSubImage2D(t.TEXTURE_2D,ye,0,0,Pe.width,Pe.height,Z,Pe.data):n.compressedTexImage2D(t.TEXTURE_2D,ye,De,Pe.width,Pe.height,0,Pe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ft?ae&&n.texSubImage2D(t.TEXTURE_2D,ye,0,0,Pe.width,Pe.height,Z,ne,Pe.data):n.texImage2D(t.TEXTURE_2D,ye,De,Pe.width,Pe.height,0,Z,ne,Pe.data)}else if(V.isDataArrayTexture)if(ft){if(rt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,it,De,Y.width,Y.height,Y.depth),ae)if(V.layerUpdates.size>0){const ye=J6(Y.width,Y.height,V.format,V.type);for(const _e of V.layerUpdates){const ot=Y.data.subarray(_e*ye/Y.data.BYTES_PER_ELEMENT,(_e+1)*ye/Y.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,_e,Y.width,Y.height,1,Z,ne,ot)}V.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Y.width,Y.height,Y.depth,Z,ne,Y.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,De,Y.width,Y.height,Y.depth,0,Z,ne,Y.data);else if(V.isData3DTexture)ft?(rt&&n.texStorage3D(t.TEXTURE_3D,it,De,Y.width,Y.height,Y.depth),ae&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Y.width,Y.height,Y.depth,Z,ne,Y.data)):n.texImage3D(t.TEXTURE_3D,0,De,Y.width,Y.height,Y.depth,0,Z,ne,Y.data);else if(V.isFramebufferTexture){if(rt)if(ft)n.texStorage2D(t.TEXTURE_2D,it,De,Y.width,Y.height);else{let ye=Y.width,_e=Y.height;for(let ot=0;ot<it;ot++)n.texImage2D(t.TEXTURE_2D,ot,De,ye,_e,0,Z,ne,null),ye>>=1,_e>>=1}}else if(Ke.length>0){if(ft&&rt){const ye=et(Ke[0]);n.texStorage2D(t.TEXTURE_2D,it,De,ye.width,ye.height)}for(let ye=0,_e=Ke.length;ye<_e;ye++)Pe=Ke[ye],ft?ae&&n.texSubImage2D(t.TEXTURE_2D,ye,0,0,Z,ne,Pe):n.texImage2D(t.TEXTURE_2D,ye,De,Z,ne,Pe);V.generateMipmaps=!1}else if(ft){if(rt){const ye=et(Y);n.texStorage2D(t.TEXTURE_2D,it,De,ye.width,ye.height)}ae&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Z,ne,Y)}else n.texImage2D(t.TEXTURE_2D,0,De,Z,ne,Y);y(V)&&g(we),j.__version=pe.version,V.onUpdate&&V.onUpdate(V)}X.__version=V.version}function te(X,V,ce){if(V.image.length!==6)return;const we=$(X,V),Ie=V.source;n.bindTexture(t.TEXTURE_CUBE_MAP,X.__webglTexture,t.TEXTURE0+ce);const pe=r.get(Ie);if(Ie.version!==pe.__version||we===!0){n.activeTexture(t.TEXTURE0+ce);const j=Qt.getPrimaries(Qt.workingColorSpace),S=V.colorSpace===ol?null:Qt.getPrimaries(V.colorSpace),R=V.colorSpace===ol||j===S?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,V.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,V.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,R);const Q=V.isCompressedTexture||V.image[0].isCompressedTexture,Y=V.image[0]&&V.image[0].isDataTexture,Z=[];for(let _e=0;_e<6;_e++)!Q&&!Y?Z[_e]=m(V.image[_e],!0,i.maxCubemapSize):Z[_e]=Y?V.image[_e].image:V.image[_e],Z[_e]=Nt(V,Z[_e]);const ne=Z[0],De=o.convert(V.format,V.colorSpace),Pe=o.convert(V.type),Ke=b(V.internalFormat,De,Pe,V.colorSpace),ft=V.isVideoTexture!==!0,rt=pe.__version===void 0||we===!0,ae=Ie.dataReady;let it=P(V,ne);M(t.TEXTURE_CUBE_MAP,V);let ye;if(Q){ft&&rt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,it,Ke,ne.width,ne.height);for(let _e=0;_e<6;_e++){ye=Z[_e].mipmaps;for(let ot=0;ot<ye.length;ot++){const Le=ye[ot];V.format!==Qo?De!==null?ft?ae&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ot,0,0,Le.width,Le.height,De,Le.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ot,Ke,Le.width,Le.height,0,Le.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ft?ae&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ot,0,0,Le.width,Le.height,De,Pe,Le.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ot,Ke,Le.width,Le.height,0,De,Pe,Le.data)}}}else{if(ye=V.mipmaps,ft&&rt){ye.length>0&&it++;const _e=et(Z[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,it,Ke,_e.width,_e.height)}for(let _e=0;_e<6;_e++)if(Y){ft?ae&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,Z[_e].width,Z[_e].height,De,Pe,Z[_e].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,Ke,Z[_e].width,Z[_e].height,0,De,Pe,Z[_e].data);for(let ot=0;ot<ye.length;ot++){const bt=ye[ot].image[_e].image;ft?ae&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ot+1,0,0,bt.width,bt.height,De,Pe,bt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ot+1,Ke,bt.width,bt.height,0,De,Pe,bt.data)}}else{ft?ae&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,De,Pe,Z[_e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,Ke,De,Pe,Z[_e]);for(let ot=0;ot<ye.length;ot++){const Le=ye[ot];ft?ae&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ot+1,0,0,De,Pe,Le.image[_e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ot+1,Ke,De,Pe,Le.image[_e])}}}y(V)&&g(t.TEXTURE_CUBE_MAP),pe.__version=Ie.version,V.onUpdate&&V.onUpdate(V)}X.__version=V.version}function oe(X,V,ce,we,Ie,pe){const j=o.convert(ce.format,ce.colorSpace),S=o.convert(ce.type),R=b(ce.internalFormat,j,S,ce.colorSpace),Q=r.get(V),Y=r.get(ce);if(Y.__renderTarget=V,!Q.__hasExternalTextures){const Z=Math.max(1,V.width>>pe),ne=Math.max(1,V.height>>pe);Ie===t.TEXTURE_3D||Ie===t.TEXTURE_2D_ARRAY?n.texImage3D(Ie,pe,R,Z,ne,V.depth,0,j,S,null):n.texImage2D(Ie,pe,R,Z,ne,0,j,S,null)}n.bindFramebuffer(t.FRAMEBUFFER,X),dt(V)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,we,Ie,Y.__webglTexture,0,Et(V)):(Ie===t.TEXTURE_2D||Ie>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ie<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,we,Ie,Y.__webglTexture,pe),n.bindFramebuffer(t.FRAMEBUFFER,null)}function le(X,V,ce){if(t.bindRenderbuffer(t.RENDERBUFFER,X),V.depthBuffer){const we=V.depthTexture,Ie=we&&we.isDepthTexture?we.type:null,pe=x(V.stencilBuffer,Ie),j=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,S=Et(V);dt(V)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,S,pe,V.width,V.height):ce?t.renderbufferStorageMultisample(t.RENDERBUFFER,S,pe,V.width,V.height):t.renderbufferStorage(t.RENDERBUFFER,pe,V.width,V.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,j,t.RENDERBUFFER,X)}else{const we=V.textures;for(let Ie=0;Ie<we.length;Ie++){const pe=we[Ie],j=o.convert(pe.format,pe.colorSpace),S=o.convert(pe.type),R=b(pe.internalFormat,j,S,pe.colorSpace),Q=Et(V);ce&&dt(V)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Q,R,V.width,V.height):dt(V)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Q,R,V.width,V.height):t.renderbufferStorage(t.RENDERBUFFER,R,V.width,V.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Te(X,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,X),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const we=r.get(V.depthTexture);we.__renderTarget=V,(!we.__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),A(V.depthTexture,0);const Ie=we.__webglTexture,pe=Et(V);if(V.depthTexture.format===Rd)dt(V)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ie,0,pe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ie,0);else if(V.depthTexture.format===ff)dt(V)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ie,0,pe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ie,0);else throw new Error("Unknown depthTexture format")}function Ne(X){const V=r.get(X),ce=X.isWebGLCubeRenderTarget===!0;if(V.__boundDepthTexture!==X.depthTexture){const we=X.depthTexture;if(V.__depthDisposeCallback&&V.__depthDisposeCallback(),we){const Ie=()=>{delete V.__boundDepthTexture,delete V.__depthDisposeCallback,we.removeEventListener("dispose",Ie)};we.addEventListener("dispose",Ie),V.__depthDisposeCallback=Ie}V.__boundDepthTexture=we}if(X.depthTexture&&!V.__autoAllocateDepthBuffer){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");Te(V.__webglFramebuffer,X)}else if(ce){V.__webglDepthbuffer=[];for(let we=0;we<6;we++)if(n.bindFramebuffer(t.FRAMEBUFFER,V.__webglFramebuffer[we]),V.__webglDepthbuffer[we]===void 0)V.__webglDepthbuffer[we]=t.createRenderbuffer(),le(V.__webglDepthbuffer[we],X,!1);else{const Ie=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,pe=V.__webglDepthbuffer[we];t.bindRenderbuffer(t.RENDERBUFFER,pe),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ie,t.RENDERBUFFER,pe)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer===void 0)V.__webglDepthbuffer=t.createRenderbuffer(),le(V.__webglDepthbuffer,X,!1);else{const we=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ie=V.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Ie),t.framebufferRenderbuffer(t.FRAMEBUFFER,we,t.RENDERBUFFER,Ie)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ae(X,V,ce){const we=r.get(X);V!==void 0&&oe(we.__webglFramebuffer,X,X.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ce!==void 0&&Ne(X)}function Be(X){const V=X.texture,ce=r.get(X),we=r.get(V);X.addEventListener("dispose",_);const Ie=X.textures,pe=X.isWebGLCubeRenderTarget===!0,j=Ie.length>1;if(j||(we.__webglTexture===void 0&&(we.__webglTexture=t.createTexture()),we.__version=V.version,s.memory.textures++),pe){ce.__webglFramebuffer=[];for(let S=0;S<6;S++)if(V.mipmaps&&V.mipmaps.length>0){ce.__webglFramebuffer[S]=[];for(let R=0;R<V.mipmaps.length;R++)ce.__webglFramebuffer[S][R]=t.createFramebuffer()}else ce.__webglFramebuffer[S]=t.createFramebuffer()}else{if(V.mipmaps&&V.mipmaps.length>0){ce.__webglFramebuffer=[];for(let S=0;S<V.mipmaps.length;S++)ce.__webglFramebuffer[S]=t.createFramebuffer()}else ce.__webglFramebuffer=t.createFramebuffer();if(j)for(let S=0,R=Ie.length;S<R;S++){const Q=r.get(Ie[S]);Q.__webglTexture===void 0&&(Q.__webglTexture=t.createTexture(),s.memory.textures++)}if(X.samples>0&&dt(X)===!1){ce.__webglMultisampledFramebuffer=t.createFramebuffer(),ce.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ce.__webglMultisampledFramebuffer);for(let S=0;S<Ie.length;S++){const R=Ie[S];ce.__webglColorRenderbuffer[S]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ce.__webglColorRenderbuffer[S]);const Q=o.convert(R.format,R.colorSpace),Y=o.convert(R.type),Z=b(R.internalFormat,Q,Y,R.colorSpace,X.isXRRenderTarget===!0),ne=Et(X);t.renderbufferStorageMultisample(t.RENDERBUFFER,ne,Z,X.width,X.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+S,t.RENDERBUFFER,ce.__webglColorRenderbuffer[S])}t.bindRenderbuffer(t.RENDERBUFFER,null),X.depthBuffer&&(ce.__webglDepthRenderbuffer=t.createRenderbuffer(),le(ce.__webglDepthRenderbuffer,X,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(pe){n.bindTexture(t.TEXTURE_CUBE_MAP,we.__webglTexture),M(t.TEXTURE_CUBE_MAP,V);for(let S=0;S<6;S++)if(V.mipmaps&&V.mipmaps.length>0)for(let R=0;R<V.mipmaps.length;R++)oe(ce.__webglFramebuffer[S][R],X,V,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+S,R);else oe(ce.__webglFramebuffer[S],X,V,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+S,0);y(V)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(j){for(let S=0,R=Ie.length;S<R;S++){const Q=Ie[S],Y=r.get(Q);n.bindTexture(t.TEXTURE_2D,Y.__webglTexture),M(t.TEXTURE_2D,Q),oe(ce.__webglFramebuffer,X,Q,t.COLOR_ATTACHMENT0+S,t.TEXTURE_2D,0),y(Q)&&g(t.TEXTURE_2D)}n.unbindTexture()}else{let S=t.TEXTURE_2D;if((X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(S=X.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(S,we.__webglTexture),M(S,V),V.mipmaps&&V.mipmaps.length>0)for(let R=0;R<V.mipmaps.length;R++)oe(ce.__webglFramebuffer[R],X,V,t.COLOR_ATTACHMENT0,S,R);else oe(ce.__webglFramebuffer,X,V,t.COLOR_ATTACHMENT0,S,0);y(V)&&g(S),n.unbindTexture()}X.depthBuffer&&Ne(X)}function Re(X){const V=X.textures;for(let ce=0,we=V.length;ce<we;ce++){const Ie=V[ce];if(y(Ie)){const pe=v(X),j=r.get(Ie).__webglTexture;n.bindTexture(pe,j),g(pe),n.unbindTexture()}}}const ut=[],ee=[];function _t(X){if(X.samples>0){if(dt(X)===!1){const V=X.textures,ce=X.width,we=X.height;let Ie=t.COLOR_BUFFER_BIT;const pe=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,j=r.get(X),S=V.length>1;if(S)for(let R=0;R<V.length;R++)n.bindFramebuffer(t.FRAMEBUFFER,j.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+R,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+R,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,j.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,j.__webglFramebuffer);for(let R=0;R<V.length;R++){if(X.resolveDepthBuffer&&(X.depthBuffer&&(Ie|=t.DEPTH_BUFFER_BIT),X.stencilBuffer&&X.resolveStencilBuffer&&(Ie|=t.STENCIL_BUFFER_BIT)),S){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,j.__webglColorRenderbuffer[R]);const Q=r.get(V[R]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Q,0)}t.blitFramebuffer(0,0,ce,we,0,0,ce,we,Ie,t.NEAREST),l===!0&&(ut.length=0,ee.length=0,ut.push(t.COLOR_ATTACHMENT0+R),X.depthBuffer&&X.resolveDepthBuffer===!1&&(ut.push(pe),ee.push(pe),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,ee)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,ut))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),S)for(let R=0;R<V.length;R++){n.bindFramebuffer(t.FRAMEBUFFER,j.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+R,t.RENDERBUFFER,j.__webglColorRenderbuffer[R]);const Q=r.get(V[R]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+R,t.TEXTURE_2D,Q,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,j.__webglMultisampledFramebuffer)}else if(X.depthBuffer&&X.resolveDepthBuffer===!1&&l){const V=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[V])}}}function Et(X){return Math.min(i.maxSamples,X.samples)}function dt(X){const V=r.get(X);return X.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function Ye(X){const V=s.render.frame;u.get(X)!==V&&(u.set(X,V),X.update())}function Nt(X,V){const ce=X.colorSpace,we=X.format,Ie=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||ce!==Lf&&ce!==ol&&(Qt.getTransfer(ce)===un?(we!==Qo||Ie!==Ta)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ce)),V}function et(X){return typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement?(c.width=X.naturalWidth||X.width,c.height=X.naturalHeight||X.height):typeof VideoFrame<"u"&&X instanceof VideoFrame?(c.width=X.displayWidth,c.height=X.displayHeight):(c.width=X.width,c.height=X.height),c}this.allocateTextureUnit=B,this.resetTextureUnits=W,this.setTexture2D=A,this.setTexture2DArray=C,this.setTexture3D=k,this.setTextureCube=I,this.rebindTextures=Ae,this.setupRenderTarget=Be,this.updateRenderTargetMipmap=Re,this.updateMultisampleRenderTarget=_t,this.setupDepthRenderbuffer=Ne,this.setupFrameBufferTexture=oe,this.useMultisampledRTT=dt}function y1e(t,e){function n(r,i=ol){let o;const s=Qt.getTransfer(i);if(r===Ta)return t.UNSIGNED_BYTE;if(r===DT)return t.UNSIGNED_SHORT_4_4_4_4;if(r===UT)return t.UNSIGNED_SHORT_5_5_5_1;if(r===S9)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===A9)return t.BYTE;if(r===_9)return t.SHORT;if(r===im)return t.UNSIGNED_SHORT;if(r===LT)return t.INT;if(r===ou)return t.UNSIGNED_INT;if(r===ca)return t.FLOAT;if(r===Hm)return t.HALF_FLOAT;if(r===C9)return t.ALPHA;if(r===T9)return t.RGB;if(r===Qo)return t.RGBA;if(r===M9)return t.LUMINANCE;if(r===I9)return t.LUMINANCE_ALPHA;if(r===Rd)return t.DEPTH_COMPONENT;if(r===ff)return t.DEPTH_STENCIL;if(r===R9)return t.RED;if(r===zT)return t.RED_INTEGER;if(r===P9)return t.RG;if(r===jT)return t.RG_INTEGER;if(r===HT)return t.RGBA_INTEGER;if(r===ty||r===ny||r===ry||r===iy)if(s===un)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===ty)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===ny)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===ry)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===iy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===ty)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===ny)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===ry)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===iy)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===Y2||r===J2||r===Z2||r===e_)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===Y2)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===J2)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Z2)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===e_)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===t_||r===n_||r===r_)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===t_||r===n_)return s===un?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===r_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===i_||r===o_||r===s_||r===a_||r===l_||r===c_||r===u_||r===d_||r===f_||r===h_||r===p_||r===m_||r===g_||r===y_)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===i_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===o_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===s_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===a_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===l_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===c_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===u_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===d_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===f_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===h_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===p_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===m_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===g_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===y_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===oy||r===v_||r===w_)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===oy)return s===un?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===v_)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===w_)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===N9||r===b_||r===x_||r===E_)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===oy)return o.COMPRESSED_RED_RGTC1_EXT;if(r===b_)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===x_)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===E_)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===df?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class v1e extends Hi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class sg extends Gr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const w1e={type:"move"};class jx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new sg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new sg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new xe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new xe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new sg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new xe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new xe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,s=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const m of e.hand.values()){const y=n.getJointPose(m,r),g=this._getHandJoint(c,m);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,p=.005;c.inputState.pinching&&f>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(w1e)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new sg;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const b1e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,x1e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class E1e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Hr,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new kl({vertexShader:b1e,fragmentShader:x1e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Ko(new v1(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class A1e extends Df{constructor(e,n){super();const r=this;let i=null,o=1,s=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,p=null;const m=new E1e,y=n.getContextAttributes();let g=null,v=null;const b=[],x=[],P=new nn;let N=null;const _=new Hi;_.viewport=new Bn;const D=new Hi;D.viewport=new Bn;const T=[_,D],E=new v1e;let z=null,W=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let te=b[J];return te===void 0&&(te=new jx,b[J]=te),te.getTargetRaySpace()},this.getControllerGrip=function(J){let te=b[J];return te===void 0&&(te=new jx,b[J]=te),te.getGripSpace()},this.getHand=function(J){let te=b[J];return te===void 0&&(te=new jx,b[J]=te),te.getHandSpace()};function B(J){const te=x.indexOf(J.inputSource);if(te===-1)return;const oe=b[te];oe!==void 0&&(oe.update(J.inputSource,J.frame,c||s),oe.dispatchEvent({type:J.type,data:J.inputSource}))}function w(){i.removeEventListener("select",B),i.removeEventListener("selectstart",B),i.removeEventListener("selectend",B),i.removeEventListener("squeeze",B),i.removeEventListener("squeezestart",B),i.removeEventListener("squeezeend",B),i.removeEventListener("end",w),i.removeEventListener("inputsourceschange",A);for(let J=0;J<b.length;J++){const te=x[J];te!==null&&(x[J]=null,b[J].disconnect(te))}z=null,W=null,m.reset(),e.setRenderTarget(g),h=null,f=null,d=null,i=null,v=null,$.stop(),r.isPresenting=!1,e.setPixelRatio(N),e.setSize(P.width,P.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){o=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){a=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(J){c=J},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(J){if(i=J,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",B),i.addEventListener("selectstart",B),i.addEventListener("selectend",B),i.addEventListener("squeeze",B),i.addEventListener("squeezestart",B),i.addEventListener("squeezeend",B),i.addEventListener("end",w),i.addEventListener("inputsourceschange",A),y.xrCompatible!==!0&&await n.makeXRCompatible(),N=e.getPixelRatio(),e.getSize(P),i.renderState.layers===void 0){const te={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,n,te),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),v=new su(h.framebufferWidth,h.framebufferHeight,{format:Qo,type:Ta,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let te=null,oe=null,le=null;y.depth&&(le=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,te=y.stencil?ff:Rd,oe=y.stencil?df:ou);const Te={colorFormat:n.RGBA8,depthFormat:le,scaleFactor:o};d=new XRWebGLBinding(i,n),f=d.createProjectionLayer(Te),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),v=new su(f.textureWidth,f.textureHeight,{format:Qo,type:Ta,depthTexture:new Q9(f.textureWidth,f.textureHeight,oe,void 0,void 0,void 0,void 0,void 0,void 0,te),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(a),$.setContext(i),$.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};function A(J){for(let te=0;te<J.removed.length;te++){const oe=J.removed[te],le=x.indexOf(oe);le>=0&&(x[le]=null,b[le].disconnect(oe))}for(let te=0;te<J.added.length;te++){const oe=J.added[te];let le=x.indexOf(oe);if(le===-1){for(let Ne=0;Ne<b.length;Ne++)if(Ne>=x.length){x.push(oe),le=Ne;break}else if(x[Ne]===null){x[Ne]=oe,le=Ne;break}if(le===-1)break}const Te=b[le];Te&&Te.connect(oe)}}const C=new xe,k=new xe;function I(J,te,oe){C.setFromMatrixPosition(te.matrixWorld),k.setFromMatrixPosition(oe.matrixWorld);const le=C.distanceTo(k),Te=te.projectionMatrix.elements,Ne=oe.projectionMatrix.elements,Ae=Te[14]/(Te[10]-1),Be=Te[14]/(Te[10]+1),Re=(Te[9]+1)/Te[5],ut=(Te[9]-1)/Te[5],ee=(Te[8]-1)/Te[0],_t=(Ne[8]+1)/Ne[0],Et=Ae*ee,dt=Ae*_t,Ye=le/(-ee+_t),Nt=Ye*-ee;if(te.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(Nt),J.translateZ(Ye),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert(),Te[10]===-1)J.projectionMatrix.copy(te.projectionMatrix),J.projectionMatrixInverse.copy(te.projectionMatrixInverse);else{const et=Ae+Ye,X=Be+Ye,V=Et-Nt,ce=dt+(le-Nt),we=Re*Be/X*et,Ie=ut*Be/X*et;J.projectionMatrix.makePerspective(V,ce,we,Ie,et,X),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}}function H(J,te){te===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(te.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(i===null)return;let te=J.near,oe=J.far;m.texture!==null&&(m.depthNear>0&&(te=m.depthNear),m.depthFar>0&&(oe=m.depthFar)),E.near=D.near=_.near=te,E.far=D.far=_.far=oe,(z!==E.near||W!==E.far)&&(i.updateRenderState({depthNear:E.near,depthFar:E.far}),z=E.near,W=E.far),_.layers.mask=J.layers.mask|2,D.layers.mask=J.layers.mask|4,E.layers.mask=_.layers.mask|D.layers.mask;const le=J.parent,Te=E.cameras;H(E,le);for(let Ne=0;Ne<Te.length;Ne++)H(Te[Ne],le);Te.length===2?I(E,_,D):E.projectionMatrix.copy(_.projectionMatrix),G(J,E,le)};function G(J,te,oe){oe===null?J.matrix.copy(te.matrixWorld):(J.matrix.copy(oe.matrixWorld),J.matrix.invert(),J.matrix.multiply(te.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(te.projectionMatrix),J.projectionMatrixInverse.copy(te.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=A_*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return E},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(J){l=J,f!==null&&(f.fixedFoveation=J),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=J)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(E)};let L=null;function M(J,te){if(u=te.getViewerPose(c||s),p=te,u!==null){const oe=u.views;h!==null&&(e.setRenderTargetFramebuffer(v,h.framebuffer),e.setRenderTarget(v));let le=!1;oe.length!==E.cameras.length&&(E.cameras.length=0,le=!0);for(let Ne=0;Ne<oe.length;Ne++){const Ae=oe[Ne];let Be=null;if(h!==null)Be=h.getViewport(Ae);else{const ut=d.getViewSubImage(f,Ae);Be=ut.viewport,Ne===0&&(e.setRenderTargetTextures(v,ut.colorTexture,f.ignoreDepthValues?void 0:ut.depthStencilTexture),e.setRenderTarget(v))}let Re=T[Ne];Re===void 0&&(Re=new Hi,Re.layers.enable(Ne),Re.viewport=new Bn,T[Ne]=Re),Re.matrix.fromArray(Ae.transform.matrix),Re.matrix.decompose(Re.position,Re.quaternion,Re.scale),Re.projectionMatrix.fromArray(Ae.projectionMatrix),Re.projectionMatrixInverse.copy(Re.projectionMatrix).invert(),Re.viewport.set(Be.x,Be.y,Be.width,Be.height),Ne===0&&(E.matrix.copy(Re.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),le===!0&&E.cameras.push(Re)}const Te=i.enabledFeatures;if(Te&&Te.includes("depth-sensing")){const Ne=d.getDepthInformation(oe[0]);Ne&&Ne.isValid&&Ne.texture&&m.init(e,Ne,i.renderState)}}for(let oe=0;oe<b.length;oe++){const le=x[oe],Te=b[oe];le!==null&&Te!==void 0&&Te.update(le,te,c||s)}L&&L(J,te),te.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:te}),p=null}const $=new $9;$.setAnimationLoop(M),this.setAnimationLoop=function(J){L=J},this.dispose=function(){}}}const Yl=new Os,_1e=new Ln;function S1e(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,G9(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,v,b,x){g.isMeshBasicMaterial||g.isMeshLambertMaterial?o(y,g):g.isMeshToonMaterial?(o(y,g),d(y,g)):g.isMeshPhongMaterial?(o(y,g),u(y,g)):g.isMeshStandardMaterial?(o(y,g),f(y,g),g.isMeshPhysicalMaterial&&h(y,g,x)):g.isMeshMatcapMaterial?(o(y,g),p(y,g)):g.isMeshDepthMaterial?o(y,g):g.isMeshDistanceMaterial?(o(y,g),m(y,g)):g.isMeshNormalMaterial?o(y,g):g.isLineBasicMaterial?(s(y,g),g.isLineDashedMaterial&&a(y,g)):g.isPointsMaterial?l(y,g,v,b):g.isSpriteMaterial?c(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function o(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===Mi&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===Mi&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const v=e.get(g),b=v.envMap,x=v.envMapRotation;b&&(y.envMap.value=b,Yl.copy(x),Yl.x*=-1,Yl.y*=-1,Yl.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(Yl.y*=-1,Yl.z*=-1),y.envMapRotation.value.setFromMatrix4(_1e.makeRotationFromEuler(Yl)),y.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap&&(y.lightMap.value=g.lightMap,y.lightMapIntensity.value=g.lightMapIntensity,n(g.lightMap,y.lightMapTransform)),g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function s(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function a(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,v,b){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*v,y.scale.value=b*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function d(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function f(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),g.envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function h(y,g,v){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Mi&&y.clearcoatNormalScale.value.negate())),g.dispersion>0&&(y.dispersion.value=g.dispersion),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=v.texture,y.transmissionSamplerSize.value.set(v.width,v.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function p(y,g){g.matcap&&(y.matcap.value=g.matcap)}function m(y,g){const v=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(v.matrixWorld),y.nearDistance.value=v.shadow.camera.near,y.farDistance.value=v.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function C1e(t,e,n,r){let i={},o={},s=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(v,b){const x=b.program;r.uniformBlockBinding(v,x)}function c(v,b){let x=i[v.id];x===void 0&&(p(v),x=u(v),i[v.id]=x,v.addEventListener("dispose",y));const P=b.program;r.updateUBOMapping(v,P);const N=e.render.frame;o[v.id]!==N&&(f(v),o[v.id]=N)}function u(v){const b=d();v.__bindingPointIndex=b;const x=t.createBuffer(),P=v.__size,N=v.usage;return t.bindBuffer(t.UNIFORM_BUFFER,x),t.bufferData(t.UNIFORM_BUFFER,P,N),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,x),x}function d(){for(let v=0;v<a;v++)if(s.indexOf(v)===-1)return s.push(v),v;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(v){const b=i[v.id],x=v.uniforms,P=v.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let N=0,_=x.length;N<_;N++){const D=Array.isArray(x[N])?x[N]:[x[N]];for(let T=0,E=D.length;T<E;T++){const z=D[T];if(h(z,N,T,P)===!0){const W=z.__offset,B=Array.isArray(z.value)?z.value:[z.value];let w=0;for(let A=0;A<B.length;A++){const C=B[A],k=m(C);typeof C=="number"||typeof C=="boolean"?(z.__data[0]=C,t.bufferSubData(t.UNIFORM_BUFFER,W+w,z.__data)):C.isMatrix3?(z.__data[0]=C.elements[0],z.__data[1]=C.elements[1],z.__data[2]=C.elements[2],z.__data[3]=0,z.__data[4]=C.elements[3],z.__data[5]=C.elements[4],z.__data[6]=C.elements[5],z.__data[7]=0,z.__data[8]=C.elements[6],z.__data[9]=C.elements[7],z.__data[10]=C.elements[8],z.__data[11]=0):(C.toArray(z.__data,w),w+=k.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,W,z.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(v,b,x,P){const N=v.value,_=b+"_"+x;if(P[_]===void 0)return typeof N=="number"||typeof N=="boolean"?P[_]=N:P[_]=N.clone(),!0;{const D=P[_];if(typeof N=="number"||typeof N=="boolean"){if(D!==N)return P[_]=N,!0}else if(D.equals(N)===!1)return D.copy(N),!0}return!1}function p(v){const b=v.uniforms;let x=0;const P=16;for(let _=0,D=b.length;_<D;_++){const T=Array.isArray(b[_])?b[_]:[b[_]];for(let E=0,z=T.length;E<z;E++){const W=T[E],B=Array.isArray(W.value)?W.value:[W.value];for(let w=0,A=B.length;w<A;w++){const C=B[w],k=m(C),I=x%P,H=I%k.boundary,G=I+H;x+=H,G!==0&&P-G<k.storage&&(x+=P-G),W.__data=new Float32Array(k.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=x,x+=k.storage}}}const N=x%P;return N>0&&(x+=P-N),v.__size=x,v.__cache={},this}function m(v){const b={boundary:0,storage:0};return typeof v=="number"||typeof v=="boolean"?(b.boundary=4,b.storage=4):v.isVector2?(b.boundary=8,b.storage=8):v.isVector3||v.isColor?(b.boundary=16,b.storage=12):v.isVector4?(b.boundary=16,b.storage=16):v.isMatrix3?(b.boundary=48,b.storage=48):v.isMatrix4?(b.boundary=64,b.storage=64):v.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",v),b}function y(v){const b=v.target;b.removeEventListener("dispose",y);const x=s.indexOf(b.__bindingPointIndex);s.splice(x,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete o[b.id]}function g(){for(const v in i)t.deleteBuffer(i[v]);s=[],i={},o={}}return{bind:l,update:c,dispose:g}}class Z9{constructor(e={}){const{canvas:n=p0e(),context:r=null,depth:i=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=s;const p=new Uint32Array(4),m=new Int32Array(4);let y=null,g=null;const v=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Or,this.toneMapping=_l,this.toneMappingExposure=1;const x=this;let P=!1,N=0,_=0,D=null,T=-1,E=null;const z=new Bn,W=new Bn;let B=null;const w=new Jt(0);let A=0,C=n.width,k=n.height,I=1,H=null,G=null;const L=new Bn(0,0,C,k),M=new Bn(0,0,C,k);let $=!1;const J=new WT;let te=!1,oe=!1;const le=new Ln,Te=new Ln,Ne=new xe,Ae=new Bn,Be={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Re=!1;function ut(){return D===null?I:1}let ee=r;function _t(q,se){return n.getContext(q,se)}try{const q={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${BT}`),n.addEventListener("webglcontextlost",_e,!1),n.addEventListener("webglcontextrestored",ot,!1),n.addEventListener("webglcontextcreationerror",Le,!1),ee===null){const se="webgl2";if(ee=_t(se,q),ee===null)throw _t(se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(q){throw console.error("THREE.WebGLRenderer: "+q.message),q}let Et,dt,Ye,Nt,et,X,V,ce,we,Ie,pe,j,S,R,Q,Y,Z,ne,De,Pe,Ke,ft,rt,ae;function it(){Et=new Nve(ee),Et.init(),ft=new y1e(ee,Et),dt=new Cve(ee,Et,e,ft),Ye=new p1e(ee,Et),dt.reverseDepthBuffer&&f&&Ye.buffers.depth.setReversed(!0),Nt=new Bve(ee),et=new Zwe,X=new g1e(ee,Et,Ye,et,dt,ft,Nt),V=new Mve(x),ce=new Pve(x),we=new H0e(ee),rt=new _ve(ee,we),Ie=new kve(ee,we,Nt,rt),pe=new Lve(ee,Ie,we,Nt),De=new Ove(ee,dt,X),Y=new Tve(et),j=new Jwe(x,V,ce,Et,dt,rt,Y),S=new S1e(x,et),R=new t1e,Q=new a1e(Et),ne=new Ave(x,V,ce,Ye,pe,h,l),Z=new f1e(x,pe,dt),ae=new C1e(ee,Nt,dt,Ye),Pe=new Sve(ee,Et,Nt),Ke=new Fve(ee,Et,Nt),Nt.programs=j.programs,x.capabilities=dt,x.extensions=Et,x.properties=et,x.renderLists=R,x.shadowMap=Z,x.state=Ye,x.info=Nt}it();const ye=new A1e(x,ee);this.xr=ye,this.getContext=function(){return ee},this.getContextAttributes=function(){return ee.getContextAttributes()},this.forceContextLoss=function(){const q=Et.get("WEBGL_lose_context");q&&q.loseContext()},this.forceContextRestore=function(){const q=Et.get("WEBGL_lose_context");q&&q.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(q){q!==void 0&&(I=q,this.setSize(C,k,!1))},this.getSize=function(q){return q.set(C,k)},this.setSize=function(q,se,ge=!0){if(ye.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}C=q,k=se,n.width=Math.floor(q*I),n.height=Math.floor(se*I),ge===!0&&(n.style.width=q+"px",n.style.height=se+"px"),this.setViewport(0,0,q,se)},this.getDrawingBufferSize=function(q){return q.set(C*I,k*I).floor()},this.setDrawingBufferSize=function(q,se,ge){C=q,k=se,I=ge,n.width=Math.floor(q*ge),n.height=Math.floor(se*ge),this.setViewport(0,0,q,se)},this.getCurrentViewport=function(q){return q.copy(z)},this.getViewport=function(q){return q.copy(L)},this.setViewport=function(q,se,ge,ve){q.isVector4?L.set(q.x,q.y,q.z,q.w):L.set(q,se,ge,ve),Ye.viewport(z.copy(L).multiplyScalar(I).round())},this.getScissor=function(q){return q.copy(M)},this.setScissor=function(q,se,ge,ve){q.isVector4?M.set(q.x,q.y,q.z,q.w):M.set(q,se,ge,ve),Ye.scissor(W.copy(M).multiplyScalar(I).round())},this.getScissorTest=function(){return $},this.setScissorTest=function(q){Ye.setScissorTest($=q)},this.setOpaqueSort=function(q){H=q},this.setTransparentSort=function(q){G=q},this.getClearColor=function(q){return q.copy(ne.getClearColor())},this.setClearColor=function(){ne.setClearColor.apply(ne,arguments)},this.getClearAlpha=function(){return ne.getClearAlpha()},this.setClearAlpha=function(){ne.setClearAlpha.apply(ne,arguments)},this.clear=function(q=!0,se=!0,ge=!0){let ve=0;if(q){let de=!1;if(D!==null){const Ue=D.texture.format;de=Ue===HT||Ue===jT||Ue===zT}if(de){const Ue=D.texture.type,Je=Ue===Ta||Ue===ou||Ue===im||Ue===df||Ue===DT||Ue===UT,ue=ne.getClearColor(),Me=ne.getClearAlpha(),be=ue.r,Ge=ue.g,He=ue.b;Je?(p[0]=be,p[1]=Ge,p[2]=He,p[3]=Me,ee.clearBufferuiv(ee.COLOR,0,p)):(m[0]=be,m[1]=Ge,m[2]=He,m[3]=Me,ee.clearBufferiv(ee.COLOR,0,m))}else ve|=ee.COLOR_BUFFER_BIT}se&&(ve|=ee.DEPTH_BUFFER_BIT),ge&&(ve|=ee.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ee.clear(ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",_e,!1),n.removeEventListener("webglcontextrestored",ot,!1),n.removeEventListener("webglcontextcreationerror",Le,!1),R.dispose(),Q.dispose(),et.dispose(),V.dispose(),ce.dispose(),pe.dispose(),rt.dispose(),ae.dispose(),j.dispose(),ye.dispose(),ye.removeEventListener("sessionstart",ie),ye.removeEventListener("sessionend",he),me.stop()};function _e(q){q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function ot(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1;const q=Nt.autoReset,se=Z.enabled,ge=Z.autoUpdate,ve=Z.needsUpdate,de=Z.type;it(),Nt.autoReset=q,Z.enabled=se,Z.autoUpdate=ge,Z.needsUpdate=ve,Z.type=de}function Le(q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",q.statusMessage)}function bt(q){const se=q.target;se.removeEventListener("dispose",bt),sn(se)}function sn(q){Pt(q),et.remove(q)}function Pt(q){const se=et.get(q).programs;se!==void 0&&(se.forEach(function(ge){j.releaseProgram(ge)}),q.isShaderMaterial&&j.releaseShaderCache(q))}this.renderBufferDirect=function(q,se,ge,ve,de,Ue){se===null&&(se=Be);const Je=de.isMesh&&de.matrixWorld.determinant()<0,ue=yt(q,se,ge,ve,de);Ye.setMaterial(ve,Je);let Me=ge.index,be=1;if(ve.wireframe===!0){if(Me=Ie.getWireframeAttribute(ge),Me===void 0)return;be=2}const Ge=ge.drawRange,He=ge.attributes.position;let Xe=Ge.start*be,lt=(Ge.start+Ge.count)*be;Ue!==null&&(Xe=Math.max(Xe,Ue.start*be),lt=Math.min(lt,(Ue.start+Ue.count)*be)),Me!==null?(Xe=Math.max(Xe,0),lt=Math.min(lt,Me.count)):He!=null&&(Xe=Math.max(Xe,0),lt=Math.min(lt,He.count));const It=lt-Xe;if(It<0||It===1/0)return;rt.setup(de,ve,ue,ge,Me);let $e,Tt=Pe;if(Me!==null&&($e=we.get(Me),Tt=Ke,Tt.setIndex($e)),de.isMesh)ve.wireframe===!0?(Ye.setLineWidth(ve.wireframeLinewidth*ut()),Tt.setMode(ee.LINES)):Tt.setMode(ee.TRIANGLES);else if(de.isLine){let pt=ve.linewidth;pt===void 0&&(pt=1),Ye.setLineWidth(pt*ut()),de.isLineSegments?Tt.setMode(ee.LINES):de.isLineLoop?Tt.setMode(ee.LINE_LOOP):Tt.setMode(ee.LINE_STRIP)}else de.isPoints?Tt.setMode(ee.POINTS):de.isSprite&&Tt.setMode(ee.TRIANGLES);if(de.isBatchedMesh)if(de._multiDrawInstances!==null)Tt.renderMultiDrawInstances(de._multiDrawStarts,de._multiDrawCounts,de._multiDrawCount,de._multiDrawInstances);else if(Et.get("WEBGL_multi_draw"))Tt.renderMultiDraw(de._multiDrawStarts,de._multiDrawCounts,de._multiDrawCount);else{const pt=de._multiDrawStarts,no=de._multiDrawCounts,Xt=de._multiDrawCount,Ro=Me?we.get(Me).bytesPerElement:1,xu=et.get(ve).currentProgram.getUniforms();for(let ki=0;ki<Xt;ki++)xu.setValue(ee,"_gl_DrawID",ki),Tt.render(pt[ki]/Ro,no[ki])}else if(de.isInstancedMesh)Tt.renderInstances(Xe,It,de.count);else if(ge.isInstancedBufferGeometry){const pt=ge._maxInstanceCount!==void 0?ge._maxInstanceCount:1/0,no=Math.min(ge.instanceCount,pt);Tt.renderInstances(Xe,It,no)}else Tt.render(Xe,It)};function St(q,se,ge){q.transparent===!0&&q.side===ra&&q.forceSinglePass===!1?(q.side=Mi,q.needsUpdate=!0,Qe(q,se,ge),q.side=Nl,q.needsUpdate=!0,Qe(q,se,ge),q.side=ra):Qe(q,se,ge)}this.compile=function(q,se,ge=null){ge===null&&(ge=q),g=Q.get(ge),g.init(se),b.push(g),ge.traverseVisible(function(de){de.isLight&&de.layers.test(se.layers)&&(g.pushLight(de),de.castShadow&&g.pushShadow(de))}),q!==ge&&q.traverseVisible(function(de){de.isLight&&de.layers.test(se.layers)&&(g.pushLight(de),de.castShadow&&g.pushShadow(de))}),g.setupLights();const ve=new Set;return q.traverse(function(de){if(!(de.isMesh||de.isPoints||de.isLine||de.isSprite))return;const Ue=de.material;if(Ue)if(Array.isArray(Ue))for(let Je=0;Je<Ue.length;Je++){const ue=Ue[Je];St(ue,ge,de),ve.add(ue)}else St(Ue,ge,de),ve.add(Ue)}),b.pop(),g=null,ve},this.compileAsync=function(q,se,ge=null){const ve=this.compile(q,se,ge);return new Promise(de=>{function Ue(){if(ve.forEach(function(Je){et.get(Je).currentProgram.isReady()&&ve.delete(Je)}),ve.size===0){de(q);return}setTimeout(Ue,10)}Et.get("KHR_parallel_shader_compile")!==null?Ue():setTimeout(Ue,10)})};let er=null;function qt(q){er&&er(q)}function ie(){me.stop()}function he(){me.start()}const me=new $9;me.setAnimationLoop(qt),typeof self<"u"&&me.setContext(self),this.setAnimationLoop=function(q){er=q,ye.setAnimationLoop(q),q===null?me.stop():me.start()},ye.addEventListener("sessionstart",ie),ye.addEventListener("sessionend",he),this.render=function(q,se){if(se!==void 0&&se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;if(q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),se.parent===null&&se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),ye.enabled===!0&&ye.isPresenting===!0&&(ye.cameraAutoUpdate===!0&&ye.updateCamera(se),se=ye.getCamera()),q.isScene===!0&&q.onBeforeRender(x,q,se,D),g=Q.get(q,b.length),g.init(se),b.push(g),Te.multiplyMatrices(se.projectionMatrix,se.matrixWorldInverse),J.setFromProjectionMatrix(Te),oe=this.localClippingEnabled,te=Y.init(this.clippingPlanes,oe),y=R.get(q,v.length),y.init(),v.push(y),ye.enabled===!0&&ye.isPresenting===!0){const Ue=x.xr.getDepthSensingMesh();Ue!==null&&Ce(Ue,se,-1/0,x.sortObjects)}Ce(q,se,0,x.sortObjects),y.finish(),x.sortObjects===!0&&y.sort(H,G),Re=ye.enabled===!1||ye.isPresenting===!1||ye.hasDepthSensing()===!1,Re&&ne.addToRenderList(y,q),this.info.render.frame++,te===!0&&Y.beginShadows();const ge=g.state.shadowsArray;Z.render(ge,q,se),te===!0&&Y.endShadows(),this.info.autoReset===!0&&this.info.reset();const ve=y.opaque,de=y.transmissive;if(g.setupLights(),se.isArrayCamera){const Ue=se.cameras;if(de.length>0)for(let Je=0,ue=Ue.length;Je<ue;Je++){const Me=Ue[Je];Ze(ve,de,q,Me)}Re&&ne.render(q);for(let Je=0,ue=Ue.length;Je<ue;Je++){const Me=Ue[Je];nt(y,q,Me,Me.viewport)}}else de.length>0&&Ze(ve,de,q,se),Re&&ne.render(q),nt(y,q,se);D!==null&&(X.updateMultisampleRenderTarget(D),X.updateRenderTargetMipmap(D)),q.isScene===!0&&q.onAfterRender(x,q,se),rt.resetDefaultState(),T=-1,E=null,b.pop(),b.length>0?(g=b[b.length-1],te===!0&&Y.setGlobalState(x.clippingPlanes,g.state.camera)):g=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function Ce(q,se,ge,ve){if(q.visible===!1)return;if(q.layers.test(se.layers)){if(q.isGroup)ge=q.renderOrder;else if(q.isLOD)q.autoUpdate===!0&&q.update(se);else if(q.isLight)g.pushLight(q),q.castShadow&&g.pushShadow(q);else if(q.isSprite){if(!q.frustumCulled||J.intersectsSprite(q)){ve&&Ae.setFromMatrixPosition(q.matrixWorld).applyMatrix4(Te);const Je=pe.update(q),ue=q.material;ue.visible&&y.push(q,Je,ue,ge,Ae.z,null)}}else if((q.isMesh||q.isLine||q.isPoints)&&(!q.frustumCulled||J.intersectsObject(q))){const Je=pe.update(q),ue=q.material;if(ve&&(q.boundingSphere!==void 0?(q.boundingSphere===null&&q.computeBoundingSphere(),Ae.copy(q.boundingSphere.center)):(Je.boundingSphere===null&&Je.computeBoundingSphere(),Ae.copy(Je.boundingSphere.center)),Ae.applyMatrix4(q.matrixWorld).applyMatrix4(Te)),Array.isArray(ue)){const Me=Je.groups;for(let be=0,Ge=Me.length;be<Ge;be++){const He=Me[be],Xe=ue[He.materialIndex];Xe&&Xe.visible&&y.push(q,Je,Xe,ge,Ae.z,He)}}else ue.visible&&y.push(q,Je,ue,ge,Ae.z,null)}}const Ue=q.children;for(let Je=0,ue=Ue.length;Je<ue;Je++)Ce(Ue[Je],se,ge,ve)}function nt(q,se,ge,ve){const de=q.opaque,Ue=q.transmissive,Je=q.transparent;g.setupLightsView(ge),te===!0&&Y.setGlobalState(x.clippingPlanes,ge),ve&&Ye.viewport(z.copy(ve)),de.length>0&&at(de,se,ge),Ue.length>0&&at(Ue,se,ge),Je.length>0&&at(Je,se,ge),Ye.buffers.depth.setTest(!0),Ye.buffers.depth.setMask(!0),Ye.buffers.color.setMask(!0),Ye.setPolygonOffset(!1)}function Ze(q,se,ge,ve){if((ge.isScene===!0?ge.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[ve.id]===void 0&&(g.state.transmissionRenderTarget[ve.id]=new su(1,1,{generateMipmaps:!0,type:Et.has("EXT_color_buffer_half_float")||Et.has("EXT_color_buffer_float")?Hm:Ta,minFilter:Tc,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Qt.workingColorSpace}));const Ue=g.state.transmissionRenderTarget[ve.id],Je=ve.viewport||z;Ue.setSize(Je.z,Je.w);const ue=x.getRenderTarget();x.setRenderTarget(Ue),x.getClearColor(w),A=x.getClearAlpha(),A<1&&x.setClearColor(16777215,.5),x.clear(),Re&&ne.render(ge);const Me=x.toneMapping;x.toneMapping=_l;const be=ve.viewport;if(ve.viewport!==void 0&&(ve.viewport=void 0),g.setupLightsView(ve),te===!0&&Y.setGlobalState(x.clippingPlanes,ve),at(q,ge,ve),X.updateMultisampleRenderTarget(Ue),X.updateRenderTargetMipmap(Ue),Et.has("WEBGL_multisampled_render_to_texture")===!1){let Ge=!1;for(let He=0,Xe=se.length;He<Xe;He++){const lt=se[He],It=lt.object,$e=lt.geometry,Tt=lt.material,pt=lt.group;if(Tt.side===ra&&It.layers.test(ve.layers)){const no=Tt.side;Tt.side=Mi,Tt.needsUpdate=!0,ht(It,ge,ve,$e,Tt,pt),Tt.side=no,Tt.needsUpdate=!0,Ge=!0}}Ge===!0&&(X.updateMultisampleRenderTarget(Ue),X.updateRenderTargetMipmap(Ue))}x.setRenderTarget(ue),x.setClearColor(w,A),be!==void 0&&(ve.viewport=be),x.toneMapping=Me}function at(q,se,ge){const ve=se.isScene===!0?se.overrideMaterial:null;for(let de=0,Ue=q.length;de<Ue;de++){const Je=q[de],ue=Je.object,Me=Je.geometry,be=ve===null?Je.material:ve,Ge=Je.group;ue.layers.test(ge.layers)&&ht(ue,se,ge,Me,be,Ge)}}function ht(q,se,ge,ve,de,Ue){q.onBeforeRender(x,se,ge,ve,de,Ue),q.modelViewMatrix.multiplyMatrices(ge.matrixWorldInverse,q.matrixWorld),q.normalMatrix.getNormalMatrix(q.modelViewMatrix),de.onBeforeRender(x,se,ge,ve,q,Ue),de.transparent===!0&&de.side===ra&&de.forceSinglePass===!1?(de.side=Mi,de.needsUpdate=!0,x.renderBufferDirect(ge,se,ve,de,q,Ue),de.side=Nl,de.needsUpdate=!0,x.renderBufferDirect(ge,se,ve,de,q,Ue),de.side=ra):x.renderBufferDirect(ge,se,ve,de,q,Ue),q.onAfterRender(x,se,ge,ve,de,Ue)}function Qe(q,se,ge){se.isScene!==!0&&(se=Be);const ve=et.get(q),de=g.state.lights,Ue=g.state.shadowsArray,Je=de.state.version,ue=j.getParameters(q,de.state,Ue,se,ge),Me=j.getProgramCacheKey(ue);let be=ve.programs;ve.environment=q.isMeshStandardMaterial?se.environment:null,ve.fog=se.fog,ve.envMap=(q.isMeshStandardMaterial?ce:V).get(q.envMap||ve.environment),ve.envMapRotation=ve.environment!==null&&q.envMap===null?se.environmentRotation:q.envMapRotation,be===void 0&&(q.addEventListener("dispose",bt),be=new Map,ve.programs=be);let Ge=be.get(Me);if(Ge!==void 0){if(ve.currentProgram===Ge&&ve.lightsStateVersion===Je)return gt(q,ue),Ge}else ue.uniforms=j.getUniforms(q),q.onBeforeCompile(ue,x),Ge=j.acquireProgram(ue,Me),be.set(Me,Ge),ve.uniforms=ue.uniforms;const He=ve.uniforms;return(!q.isShaderMaterial&&!q.isRawShaderMaterial||q.clipping===!0)&&(He.clippingPlanes=Y.uniform),gt(q,ue),ve.needsLights=gn(q),ve.lightsStateVersion=Je,ve.needsLights&&(He.ambientLightColor.value=de.state.ambient,He.lightProbe.value=de.state.probe,He.directionalLights.value=de.state.directional,He.directionalLightShadows.value=de.state.directionalShadow,He.spotLights.value=de.state.spot,He.spotLightShadows.value=de.state.spotShadow,He.rectAreaLights.value=de.state.rectArea,He.ltc_1.value=de.state.rectAreaLTC1,He.ltc_2.value=de.state.rectAreaLTC2,He.pointLights.value=de.state.point,He.pointLightShadows.value=de.state.pointShadow,He.hemisphereLights.value=de.state.hemi,He.directionalShadowMap.value=de.state.directionalShadowMap,He.directionalShadowMatrix.value=de.state.directionalShadowMatrix,He.spotShadowMap.value=de.state.spotShadowMap,He.spotLightMatrix.value=de.state.spotLightMatrix,He.spotLightMap.value=de.state.spotLightMap,He.pointShadowMap.value=de.state.pointShadowMap,He.pointShadowMatrix.value=de.state.pointShadowMatrix),ve.currentProgram=Ge,ve.uniformsList=null,Ge}function Ve(q){if(q.uniformsList===null){const se=q.currentProgram.getUniforms();q.uniformsList=sy.seqWithValue(se.seq,q.uniforms)}return q.uniformsList}function gt(q,se){const ge=et.get(q);ge.outputColorSpace=se.outputColorSpace,ge.batching=se.batching,ge.batchingColor=se.batchingColor,ge.instancing=se.instancing,ge.instancingColor=se.instancingColor,ge.instancingMorph=se.instancingMorph,ge.skinning=se.skinning,ge.morphTargets=se.morphTargets,ge.morphNormals=se.morphNormals,ge.morphColors=se.morphColors,ge.morphTargetsCount=se.morphTargetsCount,ge.numClippingPlanes=se.numClippingPlanes,ge.numIntersection=se.numClipIntersection,ge.vertexAlphas=se.vertexAlphas,ge.vertexTangents=se.vertexTangents,ge.toneMapping=se.toneMapping}function yt(q,se,ge,ve,de){se.isScene!==!0&&(se=Be),X.resetTextureUnits();const Ue=se.fog,Je=ve.isMeshStandardMaterial?se.environment:null,ue=D===null?x.outputColorSpace:D.isXRRenderTarget===!0?D.texture.colorSpace:Lf,Me=(ve.isMeshStandardMaterial?ce:V).get(ve.envMap||Je),be=ve.vertexColors===!0&&!!ge.attributes.color&&ge.attributes.color.itemSize===4,Ge=!!ge.attributes.tangent&&(!!ve.normalMap||ve.anisotropy>0),He=!!ge.morphAttributes.position,Xe=!!ge.morphAttributes.normal,lt=!!ge.morphAttributes.color;let It=_l;ve.toneMapped&&(D===null||D.isXRRenderTarget===!0)&&(It=x.toneMapping);const $e=ge.morphAttributes.position||ge.morphAttributes.normal||ge.morphAttributes.color,Tt=$e!==void 0?$e.length:0,pt=et.get(ve),no=g.state.lights;if(te===!0&&(oe===!0||q!==E)){const ro=q===E&&ve.id===T;Y.setState(ve,q,ro)}let Xt=!1;ve.version===pt.__version?(pt.needsLights&&pt.lightsStateVersion!==no.state.version||pt.outputColorSpace!==ue||de.isBatchedMesh&&pt.batching===!1||!de.isBatchedMesh&&pt.batching===!0||de.isBatchedMesh&&pt.batchingColor===!0&&de.colorTexture===null||de.isBatchedMesh&&pt.batchingColor===!1&&de.colorTexture!==null||de.isInstancedMesh&&pt.instancing===!1||!de.isInstancedMesh&&pt.instancing===!0||de.isSkinnedMesh&&pt.skinning===!1||!de.isSkinnedMesh&&pt.skinning===!0||de.isInstancedMesh&&pt.instancingColor===!0&&de.instanceColor===null||de.isInstancedMesh&&pt.instancingColor===!1&&de.instanceColor!==null||de.isInstancedMesh&&pt.instancingMorph===!0&&de.morphTexture===null||de.isInstancedMesh&&pt.instancingMorph===!1&&de.morphTexture!==null||pt.envMap!==Me||ve.fog===!0&&pt.fog!==Ue||pt.numClippingPlanes!==void 0&&(pt.numClippingPlanes!==Y.numPlanes||pt.numIntersection!==Y.numIntersection)||pt.vertexAlphas!==be||pt.vertexTangents!==Ge||pt.morphTargets!==He||pt.morphNormals!==Xe||pt.morphColors!==lt||pt.toneMapping!==It||pt.morphTargetsCount!==Tt)&&(Xt=!0):(Xt=!0,pt.__version=ve.version);let Ro=pt.currentProgram;Xt===!0&&(Ro=Qe(ve,se,de));let xu=!1,ki=!1,zf=!1;const yn=Ro.getUniforms(),ss=pt.uniforms;if(Ye.useProgram(Ro.program)&&(xu=!0,ki=!0,zf=!0),ve.id!==T&&(T=ve.id,ki=!0),xu||E!==q){Ye.buffers.depth.getReversed()?(le.copy(q.projectionMatrix),g0e(le),y0e(le),yn.setValue(ee,"projectionMatrix",le)):yn.setValue(ee,"projectionMatrix",q.projectionMatrix),yn.setValue(ee,"viewMatrix",q.matrixWorldInverse);const Fa=yn.map.cameraPosition;Fa!==void 0&&Fa.setValue(ee,Ne.setFromMatrixPosition(q.matrixWorld)),dt.logarithmicDepthBuffer&&yn.setValue(ee,"logDepthBufFC",2/(Math.log(q.far+1)/Math.LN2)),(ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshLambertMaterial||ve.isMeshBasicMaterial||ve.isMeshStandardMaterial||ve.isShaderMaterial)&&yn.setValue(ee,"isOrthographic",q.isOrthographicCamera===!0),E!==q&&(E=q,ki=!0,zf=!0)}if(de.isSkinnedMesh){yn.setOptional(ee,de,"bindMatrix"),yn.setOptional(ee,de,"bindMatrixInverse");const ro=de.skeleton;ro&&(ro.boneTexture===null&&ro.computeBoneTexture(),yn.setValue(ee,"boneTexture",ro.boneTexture,X))}de.isBatchedMesh&&(yn.setOptional(ee,de,"batchingTexture"),yn.setValue(ee,"batchingTexture",de._matricesTexture,X),yn.setOptional(ee,de,"batchingIdTexture"),yn.setValue(ee,"batchingIdTexture",de._indirectTexture,X),yn.setOptional(ee,de,"batchingColorTexture"),de._colorsTexture!==null&&yn.setValue(ee,"batchingColorTexture",de._colorsTexture,X));const jf=ge.morphAttributes;if((jf.position!==void 0||jf.normal!==void 0||jf.color!==void 0)&&De.update(de,ge,Ro),(ki||pt.receiveShadow!==de.receiveShadow)&&(pt.receiveShadow=de.receiveShadow,yn.setValue(ee,"receiveShadow",de.receiveShadow)),ve.isMeshGouraudMaterial&&ve.envMap!==null&&(ss.envMap.value=Me,ss.flipEnvMap.value=Me.isCubeTexture&&Me.isRenderTargetTexture===!1?-1:1),ve.isMeshStandardMaterial&&ve.envMap===null&&se.environment!==null&&(ss.envMapIntensity.value=se.environmentIntensity),ki&&(yn.setValue(ee,"toneMappingExposure",x.toneMappingExposure),pt.needsLights&&Ct(ss,zf),Ue&&ve.fog===!0&&S.refreshFogUniforms(ss,Ue),S.refreshMaterialUniforms(ss,ve,I,k,g.state.transmissionRenderTarget[q.id]),sy.upload(ee,Ve(pt),ss,X)),ve.isShaderMaterial&&ve.uniformsNeedUpdate===!0&&(sy.upload(ee,Ve(pt),ss,X),ve.uniformsNeedUpdate=!1),ve.isSpriteMaterial&&yn.setValue(ee,"center",de.center),yn.setValue(ee,"modelViewMatrix",de.modelViewMatrix),yn.setValue(ee,"normalMatrix",de.normalMatrix),yn.setValue(ee,"modelMatrix",de.matrixWorld),ve.isShaderMaterial||ve.isRawShaderMaterial){const ro=ve.uniformsGroups;for(let Fa=0,Ba=ro.length;Fa<Ba;Fa++){const KT=ro[Fa];ae.update(KT,Ro),ae.bind(KT,Ro)}}return Ro}function Ct(q,se){q.ambientLightColor.needsUpdate=se,q.lightProbe.needsUpdate=se,q.directionalLights.needsUpdate=se,q.directionalLightShadows.needsUpdate=se,q.pointLights.needsUpdate=se,q.pointLightShadows.needsUpdate=se,q.spotLights.needsUpdate=se,q.spotLightShadows.needsUpdate=se,q.rectAreaLights.needsUpdate=se,q.hemisphereLights.needsUpdate=se}function gn(q){return q.isMeshLambertMaterial||q.isMeshToonMaterial||q.isMeshPhongMaterial||q.isMeshStandardMaterial||q.isShadowMaterial||q.isShaderMaterial&&q.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(q,se,ge){et.get(q.texture).__webglTexture=se,et.get(q.depthTexture).__webglTexture=ge;const ve=et.get(q);ve.__hasExternalTextures=!0,ve.__autoAllocateDepthBuffer=ge===void 0,ve.__autoAllocateDepthBuffer||Et.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ve.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(q,se){const ge=et.get(q);ge.__webglFramebuffer=se,ge.__useDefaultFramebuffer=se===void 0},this.setRenderTarget=function(q,se=0,ge=0){D=q,N=se,_=ge;let ve=!0,de=null,Ue=!1,Je=!1;if(q){const Me=et.get(q);if(Me.__useDefaultFramebuffer!==void 0)Ye.bindFramebuffer(ee.FRAMEBUFFER,null),ve=!1;else if(Me.__webglFramebuffer===void 0)X.setupRenderTarget(q);else if(Me.__hasExternalTextures)X.rebindTextures(q,et.get(q.texture).__webglTexture,et.get(q.depthTexture).__webglTexture);else if(q.depthBuffer){const He=q.depthTexture;if(Me.__boundDepthTexture!==He){if(He!==null&&et.has(He)&&(q.width!==He.image.width||q.height!==He.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");X.setupDepthRenderbuffer(q)}}const be=q.texture;(be.isData3DTexture||be.isDataArrayTexture||be.isCompressedArrayTexture)&&(Je=!0);const Ge=et.get(q).__webglFramebuffer;q.isWebGLCubeRenderTarget?(Array.isArray(Ge[se])?de=Ge[se][ge]:de=Ge[se],Ue=!0):q.samples>0&&X.useMultisampledRTT(q)===!1?de=et.get(q).__webglMultisampledFramebuffer:Array.isArray(Ge)?de=Ge[ge]:de=Ge,z.copy(q.viewport),W.copy(q.scissor),B=q.scissorTest}else z.copy(L).multiplyScalar(I).floor(),W.copy(M).multiplyScalar(I).floor(),B=$;if(Ye.bindFramebuffer(ee.FRAMEBUFFER,de)&&ve&&Ye.drawBuffers(q,de),Ye.viewport(z),Ye.scissor(W),Ye.setScissorTest(B),Ue){const Me=et.get(q.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+se,Me.__webglTexture,ge)}else if(Je){const Me=et.get(q.texture),be=se||0;ee.framebufferTextureLayer(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,Me.__webglTexture,ge||0,be)}T=-1},this.readRenderTargetPixels=function(q,se,ge,ve,de,Ue,Je){if(!(q&&q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ue=et.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&Je!==void 0&&(ue=ue[Je]),ue){Ye.bindFramebuffer(ee.FRAMEBUFFER,ue);try{const Me=q.texture,be=Me.format,Ge=Me.type;if(!dt.textureFormatReadable(be)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!dt.textureTypeReadable(Ge)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}se>=0&&se<=q.width-ve&&ge>=0&&ge<=q.height-de&&ee.readPixels(se,ge,ve,de,ft.convert(be),ft.convert(Ge),Ue)}finally{const Me=D!==null?et.get(D).__webglFramebuffer:null;Ye.bindFramebuffer(ee.FRAMEBUFFER,Me)}}},this.readRenderTargetPixelsAsync=async function(q,se,ge,ve,de,Ue,Je){if(!(q&&q.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ue=et.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&Je!==void 0&&(ue=ue[Je]),ue){const Me=q.texture,be=Me.format,Ge=Me.type;if(!dt.textureFormatReadable(be))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!dt.textureTypeReadable(Ge))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(se>=0&&se<=q.width-ve&&ge>=0&&ge<=q.height-de){Ye.bindFramebuffer(ee.FRAMEBUFFER,ue);const He=ee.createBuffer();ee.bindBuffer(ee.PIXEL_PACK_BUFFER,He),ee.bufferData(ee.PIXEL_PACK_BUFFER,Ue.byteLength,ee.STREAM_READ),ee.readPixels(se,ge,ve,de,ft.convert(be),ft.convert(Ge),0);const Xe=D!==null?et.get(D).__webglFramebuffer:null;Ye.bindFramebuffer(ee.FRAMEBUFFER,Xe);const lt=ee.fenceSync(ee.SYNC_GPU_COMMANDS_COMPLETE,0);return ee.flush(),await m0e(ee,lt,4),ee.bindBuffer(ee.PIXEL_PACK_BUFFER,He),ee.getBufferSubData(ee.PIXEL_PACK_BUFFER,0,Ue),ee.deleteBuffer(He),ee.deleteSync(lt),Ue}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(q,se=null,ge=0){q.isTexture!==!0&&(Ih("WebGLRenderer: copyFramebufferToTexture function signature has changed."),se=arguments[0]||null,q=arguments[1]);const ve=Math.pow(2,-ge),de=Math.floor(q.image.width*ve),Ue=Math.floor(q.image.height*ve),Je=se!==null?se.x:0,ue=se!==null?se.y:0;X.setTexture2D(q,0),ee.copyTexSubImage2D(ee.TEXTURE_2D,ge,0,0,Je,ue,de,Ue),Ye.unbindTexture()},this.copyTextureToTexture=function(q,se,ge=null,ve=null,de=0){q.isTexture!==!0&&(Ih("WebGLRenderer: copyTextureToTexture function signature has changed."),ve=arguments[0]||null,q=arguments[1],se=arguments[2],de=arguments[3]||0,ge=null);let Ue,Je,ue,Me,be,Ge,He,Xe,lt;const It=q.isCompressedTexture?q.mipmaps[de]:q.image;ge!==null?(Ue=ge.max.x-ge.min.x,Je=ge.max.y-ge.min.y,ue=ge.isBox3?ge.max.z-ge.min.z:1,Me=ge.min.x,be=ge.min.y,Ge=ge.isBox3?ge.min.z:0):(Ue=It.width,Je=It.height,ue=It.depth||1,Me=0,be=0,Ge=0),ve!==null?(He=ve.x,Xe=ve.y,lt=ve.z):(He=0,Xe=0,lt=0);const $e=ft.convert(se.format),Tt=ft.convert(se.type);let pt;se.isData3DTexture?(X.setTexture3D(se,0),pt=ee.TEXTURE_3D):se.isDataArrayTexture||se.isCompressedArrayTexture?(X.setTexture2DArray(se,0),pt=ee.TEXTURE_2D_ARRAY):(X.setTexture2D(se,0),pt=ee.TEXTURE_2D),ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,se.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,se.unpackAlignment);const no=ee.getParameter(ee.UNPACK_ROW_LENGTH),Xt=ee.getParameter(ee.UNPACK_IMAGE_HEIGHT),Ro=ee.getParameter(ee.UNPACK_SKIP_PIXELS),xu=ee.getParameter(ee.UNPACK_SKIP_ROWS),ki=ee.getParameter(ee.UNPACK_SKIP_IMAGES);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,It.width),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,It.height),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Me),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,be),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,Ge);const zf=q.isDataArrayTexture||q.isData3DTexture,yn=se.isDataArrayTexture||se.isData3DTexture;if(q.isRenderTargetTexture||q.isDepthTexture){const ss=et.get(q),jf=et.get(se),ro=et.get(ss.__renderTarget),Fa=et.get(jf.__renderTarget);Ye.bindFramebuffer(ee.READ_FRAMEBUFFER,ro.__webglFramebuffer),Ye.bindFramebuffer(ee.DRAW_FRAMEBUFFER,Fa.__webglFramebuffer);for(let Ba=0;Ba<ue;Ba++)zf&&ee.framebufferTextureLayer(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,et.get(q).__webglTexture,de,Ge+Ba),q.isDepthTexture?(yn&&ee.framebufferTextureLayer(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,et.get(se).__webglTexture,de,lt+Ba),ee.blitFramebuffer(Me,be,Ue,Je,He,Xe,Ue,Je,ee.DEPTH_BUFFER_BIT,ee.NEAREST)):yn?ee.copyTexSubImage3D(pt,de,He,Xe,lt+Ba,Me,be,Ue,Je):ee.copyTexSubImage2D(pt,de,He,Xe,lt+Ba,Me,be,Ue,Je);Ye.bindFramebuffer(ee.READ_FRAMEBUFFER,null),Ye.bindFramebuffer(ee.DRAW_FRAMEBUFFER,null)}else yn?q.isDataTexture||q.isData3DTexture?ee.texSubImage3D(pt,de,He,Xe,lt,Ue,Je,ue,$e,Tt,It.data):se.isCompressedArrayTexture?ee.compressedTexSubImage3D(pt,de,He,Xe,lt,Ue,Je,ue,$e,It.data):ee.texSubImage3D(pt,de,He,Xe,lt,Ue,Je,ue,$e,Tt,It):q.isDataTexture?ee.texSubImage2D(ee.TEXTURE_2D,de,He,Xe,Ue,Je,$e,Tt,It.data):q.isCompressedTexture?ee.compressedTexSubImage2D(ee.TEXTURE_2D,de,He,Xe,It.width,It.height,$e,It.data):ee.texSubImage2D(ee.TEXTURE_2D,de,He,Xe,Ue,Je,$e,Tt,It);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,no),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Xt),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Ro),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,xu),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,ki),de===0&&se.generateMipmaps&&ee.generateMipmap(pt),Ye.unbindTexture()},this.copyTextureToTexture3D=function(q,se,ge=null,ve=null,de=0){return q.isTexture!==!0&&(Ih("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ge=arguments[0]||null,ve=arguments[1]||null,q=arguments[2],se=arguments[3],de=arguments[4]||0),Ih('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(q,se,ge,ve,de)},this.initRenderTarget=function(q){et.get(q).__webglFramebuffer===void 0&&X.setupRenderTarget(q)},this.initTexture=function(q){q.isCubeTexture?X.setTextureCube(q,0):q.isData3DTexture?X.setTexture3D(q,0):q.isDataArrayTexture||q.isCompressedArrayTexture?X.setTexture2DArray(q,0):X.setTexture2D(q,0),Ye.unbindTexture()},this.resetState=function(){N=0,_=0,D=null,Ye.reset(),rt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ua}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=Qt._getDrawingBufferColorSpace(e),n.unpackColorSpace=Qt._getUnpackColorSpace()}}class ez extends Gr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Os,this.environmentIntensity=1,this.environmentRotation=new Os,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class tz extends Hr{constructor(e,n,r,i,o,s,a,l,c){super(e,n,r,i,o,s,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class b1 extends jl{constructor(e=1,n=1,r=1,i=32,o=1,s=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],d=[],f=[],h=[];let p=0;const m=[],y=r/2;let g=0;v(),s===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new Rs(d,3)),this.setAttribute("normal",new Rs(f,3)),this.setAttribute("uv",new Rs(h,2));function v(){const x=new xe,P=new xe;let N=0;const _=(n-e)/r;for(let D=0;D<=o;D++){const T=[],E=D/o,z=E*(n-e)+e;for(let W=0;W<=i;W++){const B=W/i,w=B*l+a,A=Math.sin(w),C=Math.cos(w);P.x=z*A,P.y=-E*r+y,P.z=z*C,d.push(P.x,P.y,P.z),x.set(A,_,C).normalize(),f.push(x.x,x.y,x.z),h.push(B,1-E),T.push(p++)}m.push(T)}for(let D=0;D<i;D++)for(let T=0;T<o;T++){const E=m[T][D],z=m[T+1][D],W=m[T+1][D+1],B=m[T][D+1];(e>0||T!==0)&&(u.push(E,z,B),N+=3),(n>0||T!==o-1)&&(u.push(z,W,B),N+=3)}c.addGroup(g,N,0),g+=N}function b(x){const P=p,N=new nn,_=new xe;let D=0;const T=x===!0?e:n,E=x===!0?1:-1;for(let W=1;W<=i;W++)d.push(0,y*E,0),f.push(0,E,0),h.push(.5,.5),p++;const z=p;for(let W=0;W<=i;W++){const w=W/i*l+a,A=Math.cos(w),C=Math.sin(w);_.x=T*C,_.y=y*E,_.z=T*A,d.push(_.x,_.y,_.z),f.push(0,E,0),N.x=A*.5+.5,N.y=C*.5*E+.5,h.push(N.x,N.y),p++}for(let W=0;W<i;W++){const B=P+W,w=z+W;x===!0?u.push(w,w+1,B):u.push(w+1,w,B),D+=3}c.addGroup(g,D,x===!0?1:2),g+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new b1(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ay extends $m{static get type(){return"MeshPhongMaterial"}constructor(e){super(),this.isMeshPhongMaterial=!0,this.color=new Jt(16777215),this.specular=new Jt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=k9,this.normalScale=new nn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Os,this.combine=OT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}const Z6={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class T1e{constructor(e,n,r){const i=this;let o=!1,s=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,o===!1&&i.onStart!==void 0&&i.onStart(u,s,a),o=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],p=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null}}}const M1e=new T1e;class $T{constructor(e){this.manager=e!==void 0?e:M1e,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}$T.DEFAULT_MATERIAL_NAME="__DEFAULT";class I1e extends $T{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Z6.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a=om("img");function l(){u(),Z6.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(d){u(),i&&i(d),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class nz extends $T{constructor(e){super(e)}load(e,n,r,i){const o=new Hr,s=new I1e(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class rz extends Gr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Jt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}const Hx=new Ln,eN=new xe,tN=new xe;class R1e{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new nn(512,512),this.map=null,this.mapPass=null,this.matrix=new Ln,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new WT,this._frameExtents=new nn(1,1),this._viewportCount=1,this._viewports=[new Bn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;eN.setFromMatrixPosition(e.matrixWorld),n.position.copy(eN),tN.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(tN),n.updateMatrixWorld(),Hx.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Hx),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Hx)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class P1e extends R1e{constructor(){super(new q9(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class iz extends rz{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Gr.DEFAULT_UP),this.updateMatrix(),this.target=new Gr,this.shadow=new P1e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class oz extends rz{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:BT}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=BT);const N1e=[{minFlips:5,duration:2e3,speed:1},{minFlips:6,duration:3e3,speed:1.2},{minFlips:7,duration:4e3,speed:1.4},{minFlips:8,duration:5e3,speed:1.6},{minFlips:9,duration:6e3,speed:1.8},{minFlips:10,duration:7e3,speed:2},{minFlips:12,duration:8e3,speed:2.3},{minFlips:14,duration:1e4,speed:2.6},{minFlips:16,duration:12e3,speed:3},{minFlips:20,duration:15e3,speed:3.5}],k1e=({isFlipping:t=!1,flipResult:e=null,flipDuration:n=2e3,isPlayerTurn:r=!1,onPowerCharge:i,onPowerRelease:o,chargingPlayer:s=null,isCharging:a=!1,creatorPower:l=0,joinerPower:c=0,size:u=300,creatorChoice:d=null,joinerChoice:f=null,isCreator:h=!1,customHeadsImage:p=null,customTailsImage:m=null})=>{console.log(" OptimizedGoldCoin rendering with size:",u,"props:",{isFlipping:t,flipResult:e,isPlayerTurn:r}),console.log(" Component timestamp:",Date.now());const y=U.useRef(null),g=U.useRef(null),v=U.useRef(null),b=U.useRef(null),x=U.useRef({}),P=U.useRef(null),N=U.useRef(!1),_=U.useRef({level:"high",fps:60}),D=U.useRef(0),T=U.useRef(performance.now()),E=()=>{const k=_.current.fps;return k<30?"low":k<50?"medium":"high"},z=()=>{D.current++;const k=performance.now(),I=k-T.current;I>=1e3&&(_.current.fps=Math.round(D.current*1e3/I),_.current.level=E(),D.current=0,T.current=k)},W=()=>{const k=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),I=_.current.level;if(k)return I==="low"?24:32;switch(I){case"low":return 32;case"medium":return 48;case"high":return 64;default:return 48}},B=(k,I=null)=>{const H=`${k}-${I||"default"}`;if(x.current[H])return x.current[H];if(I){const te=new nz().load(I);return te.colorSpace=Or,x.current[H]=te,te}const G=_.current.level==="low"?256:512,L=document.createElement("canvas");L.width=G,L.height=G;const M=L.getContext("2d");if(k==="heads"||k==="tails"){const J=M.createRadialGradient(G/2,G/2,0,G/2,G/2,G/2);J.addColorStop(0,"#FFFFFF"),J.addColorStop(.7,"#F0F0F0"),J.addColorStop(1,"#E0E0E0"),M.fillStyle=J,M.fillRect(0,0,G,G),M.fillStyle="#333333",M.font=`bold ${G*.3}px Arial`,M.textAlign="center",M.textBaseline="middle",M.fillText(k.toUpperCase(),G/2,G/2),(k==="heads"&&d==="heads"||k==="tails"&&d==="tails")&&(M.strokeStyle="#FF1493",M.lineWidth=G*.02,M.beginPath(),M.arc(G/2,G/2,G*.45,0,Math.PI*2),M.stroke()),(k==="heads"&&f==="heads"||k==="tails"&&f==="tails")&&(M.strokeStyle="#00CED1",M.lineWidth=G*.02,M.beginPath(),M.arc(G/2,G/2,G*.4,0,Math.PI*2),M.stroke())}else k==="edge"&&(M.fillStyle="#F5F5F5",M.fillRect(0,0,G,G));const $=new tz(L);return $.colorSpace=Or,x.current[H]=$,$};U.useEffect(()=>{if(!y.current||g.current)return;console.log(" Creating new Three.js scene for OptimizedGoldCoin with size:",u);const k=new ez,I=new Hi(50,1,.1,1e3);I.position.set(0,3,10),I.lookAt(0,0,0);const H=new Z9({antialias:_.current.level!=="low",alpha:!0,powerPreference:"high-performance"});H.setSize(u,u),H.setClearColor(0,0),H.setPixelRatio(Math.min(window.devicePixelRatio,2)),H.domElement.style.display="block",H.domElement.style.margin="0 auto",H.domElement.style.position="relative",H.domElement.style.left="50%",H.domElement.style.transform="translateX(-50%)",y.current.appendChild(H.domElement),g.current=k,v.current=H;const G=new oz(16777215,1.2);k.add(G);const L=new iz(16777215,1);L.position.set(5,5,5),k.add(L),console.log(" Creating materials at:",Date.now());const M=[new ay({map:B("edge"),color:16777215,shininess:80,specular:4473924}),new ay({map:B("heads",p),color:16777215,shininess:80,specular:4473924}),new ay({map:B("tails",m),color:16777215,shininess:80,specular:4473924})],$=W(),J=new b1(3,3,.4,$),te=new Ko(J,M);te.scale.y=1.5,k.add(te),b.current=te,te.rotation.x=0,te.rotation.y=Math.PI/2,te.rotation.z=0;const oe=()=>{if(!b.current||!v.current)return;z();const le=b.current,Te=Date.now()*.001,Ne=_.current.level;if(!N.current)if(a&&!N.current){const Ae=Math.min(1,(l+c)/20);if(Ne!=="low"){const Be=1+Math.sin(Te*10)*.05*Ae;le.scale.set(Be,Be,Be),le.position.y=Math.sin(Te*5)*.05*Ae}le.rotation.x+=.01*(1+Ae*.5)}else Ne!=="low"&&(le.rotation.x+=.003,le.position.y=Math.sin(Te*2)*.01),le.scale.set(1,1,1),le.position.x=0,le.position.z=0;H.render(k,I),P.current=requestAnimationFrame(oe)};if(_.current.level==="low"){let le=0;const Ne=1e3/30,Ae=Be=>{Be-le>=Ne&&(oe(),le=Be),P.current=requestAnimationFrame(Ae)};Ae(0)}else oe();return()=>{P.current&&cancelAnimationFrame(P.current),console.log(" Cleaning up OptimizedGoldCoin Three.js scene"),M.forEach(le=>{le.map&&le.map.dispose(),le.dispose()}),J.dispose(),H.dispose(),Object.values(x.current).forEach(le=>{le.dispose()}),x.current={},g.current=null,v.current=null}},[u,p,m]),U.useEffect(()=>{if(!b.current)return;const k=b.current;Object.values(x.current).forEach(I=>{I.dispose()}),x.current={},k.material[1]&&(k.material[1].map&&k.material[1].map.dispose(),k.material[1].map=B("heads",p),k.material[1].needsUpdate=!0),k.material[2]&&(k.material[2].map&&k.material[2].map.dispose(),k.material[2].map=B("tails",m),k.material[2].needsUpdate=!0),k.material[0]&&(k.material[0].map&&k.material[0].map.dispose(),k.material[0].map=B("edge"),k.material[0].needsUpdate=!0)},[p,m,d,f]);const w=(k,I)=>{if(!b.current)return;const H=200,G=Date.now(),L=b.current,M={x:L.rotation.x,y:L.rotation.y,z:L.rotation.z},J=Math.floor(M.x/(Math.PI*2))*Math.PI*2+k,te=()=>{const oe=Date.now()-G,le=Math.min(oe/H,1),Te=le<.5?2*le*le:1-Math.pow(-2*le+2,2)/2;L.rotation.x=M.x+(J-M.x)*Te,L.rotation.y=Math.PI/2,L.rotation.z=0,L.position.y=0,le<.3&&(L.position.y=Math.sin(le*10)*.1*(1-le*3)),le<1?requestAnimationFrame(te):(L.rotation.x=J,L.rotation.y=Math.PI/2,L.rotation.z=0,N.current=!1,console.log(" Desktop coin animation fully complete - winner should be announced now"))};te()};U.useEffect(()=>!t||!e||!b.current?void 0:((()=>{if(N.current)return;N.current=!0;const I=b.current,H=(l||0)+(c||0),G=Math.max(1,Math.min(10,Math.ceil(H))),L=N1e[Math.max(0,G-1)],{minFlips:M,duration:$,speed:J}=L,te=Math.PI*2,oe=M*te,le=Math.random()*Math.PI*4,Te=oe+le,Ae=e==="heads"?0:Math.PI,Be=Date.now(),Re={x:I.rotation.x,y:I.rotation.y,z:I.rotation.z},ut=(5+G*.5)/2,ee=J,_t=()=>{const Et=Date.now()-Be,dt=Math.min(Et/$,1),Ye=1-Math.pow(1-dt,3),Nt=Math.sin(dt*Math.PI);I.position.y=Nt*ut,I.rotation.x=Re.x+Te*Ye*ee,I.rotation.y=Math.PI/2,I.rotation.z=0,dt<1?requestAnimationFrame(_t):w(Ae)};_t()})(),()=>{N.current=!1}),[t,e,n,l,c]);const A=k=>{!r||!i||(k.preventDefault(),i(k))},C=k=>{!r||!o||(k.preventDefault(),o(k))};return F("div",{ref:y,onMouseDown:r?A:void 0,onMouseUp:r?C:void 0,onMouseLeave:r?C:void 0,onTouchStart:r?A:void 0,onTouchEnd:r?C:void 0,style:{width:u,height:u,cursor:r?"pointer":"default",userSelect:"none",touchAction:"none",position:"relative",margin:"0 auto",display:"block",background:a?"radial-gradient(circle, rgba(255,20,147,0.1) 0%, transparent 70%)":"transparent",transition:"background 0.3s ease",borderRadius:"50%"}})},F1e=[{minFlips:5,duration:2e3,speed:1},{minFlips:6,duration:3e3,speed:1.2},{minFlips:7,duration:4e3,speed:1.4},{minFlips:8,duration:5e3,speed:1.6},{minFlips:9,duration:6e3,speed:1.8},{minFlips:10,duration:7e3,speed:2},{minFlips:12,duration:8e3,speed:2.3},{minFlips:14,duration:1e4,speed:2.6},{minFlips:16,duration:12e3,speed:3},{minFlips:20,duration:15e3,speed:3.5}],B1e=({isFlipping:t,flipResult:e,flipDuration:n=3e3,onPowerCharge:r,onPowerRelease:i,isPlayerTurn:o,isCharging:s=!1,chargingPlayer:a,creatorPower:l=0,joinerPower:c=0,creatorChoice:u=null,joinerChoice:d=null,isCreator:f=!1,customHeadsImage:h=null,customTailsImage:p=null,size:m=187})=>{const y=U.useRef(null),g=U.useRef(null),v=U.useRef(null),b=U.useRef(null),x=U.useRef(null),P=U.useRef(!1),N=U.useRef("heads"),_=U.useRef({}),D=U.useRef({}),T=U.useRef(0),E=U.useRef(Date.now()),[z,W]=U.useState(!1),B=(k,I=null)=>{const H=`${k}-${I||"default"}-${u}-${d}`;if(_.current[H])return _.current[H];if(I){const J=new nz().load(I);return J.colorSpace=Or,J.generateMipmaps=!1,J.minFilter=wi,J.magFilter=wi,_.current[H]=J,J}const G=document.createElement("canvas");G.width=256,G.height=256;const L=G.getContext("2d");if(k==="heads"){const $=L.createRadialGradient(128,128,0,128,128,128);$.addColorStop(0,"#FFFFFF"),$.addColorStop(.3,"#FFD700"),$.addColorStop(.7,"#FFA500"),$.addColorStop(1,"#CD853F"),L.fillStyle=$,L.fillRect(0,0,256,256),L.fillStyle="#2C1810",L.font="bold 64px serif",L.textAlign="center",L.textBaseline="middle",L.fillText("",128,108),u==="heads"&&f||d==="heads"&&!f?(L.fillStyle="#00FF00",L.shadowColor="#00FF00",L.shadowBlur=8):u==="heads"&&!f||d==="heads"&&f?(L.fillStyle="#FF0000",L.shadowColor="#FF0000",L.shadowBlur=8):(L.fillStyle="#2C1810",L.shadowBlur=0),L.font="bold 32px Arial",L.fillText("HEADS",128,148),L.shadowBlur=0,L.strokeStyle="#8B4513",L.lineWidth=4,L.beginPath(),L.arc(128,128,120,0,Math.PI*2),L.stroke()}else if(k==="tails"){const $=L.createRadialGradient(128,128,0,128,128,128);$.addColorStop(0,"#FFFFFF"),$.addColorStop(.3,"#FFD700"),$.addColorStop(.7,"#FFA500"),$.addColorStop(1,"#CD853F"),L.fillStyle=$,L.fillRect(0,0,256,256),L.fillStyle="#2C1810",L.font="bold 64px serif",L.textAlign="center",L.textBaseline="middle",L.fillText("",128,108),u==="tails"&&f||d==="tails"&&!f?(L.fillStyle="#00FF00",L.shadowColor="#00FF00",L.shadowBlur=8):u==="tails"&&!f||d==="tails"&&f?(L.fillStyle="#FF0000",L.shadowColor="#FF0000",L.shadowBlur=8):(L.fillStyle="#2C1810",L.shadowBlur=0),L.font="bold 32px Arial",L.fillText("TAILS",128,148),L.shadowBlur=0,L.strokeStyle="#8B4513",L.lineWidth=4,L.beginPath(),L.arc(128,128,120,0,Math.PI*2),L.stroke()}else if(k==="edge"){L.fillStyle="#DAA520",L.fillRect(0,0,256,256),L.strokeStyle="#B8860B",L.lineWidth=2;for(let $=0;$<256;$+=8)L.beginPath(),L.moveTo($,0),L.lineTo($,256),L.stroke()}const M=new tz(G);return M.colorSpace=Or,M.generateMipmaps=!1,M.minFilter=wi,M.magFilter=wi,_.current[H]=M,M},w=(k,I=null)=>{const H=`material-${k}-${I||"default"}-${u}-${d}`;if(D.current[H])return D.current[H];const G=new ay({map:B(k,I),color:16777215,shininess:60,specular:3355443});return D.current[H]=G,G},A=(k,I)=>{if(!g.current)return;const H=150,G=Date.now(),L=g.current,M=L.rotation.x,J=Math.floor(M/(Math.PI*2))*Math.PI*2+k,te=()=>{const oe=Date.now()-G,le=Math.min(oe/H,1),Te=1-Math.pow(1-le,2);L.rotation.x=M+(J-M)*Te,L.position.y=0,L.rotation.y=Math.PI/2,L.rotation.z=0,le<1?requestAnimationFrame(te):(L.rotation.x=J,L.rotation.y=Math.PI/2,L.rotation.z=0,N.current=I?"heads":"tails",P.current=!1,console.log(" Mobile coin animation fully complete - winner should be announced now"))};te()},C=k=>{if(!g.current){console.warn(" No coin ref available for flip");return}if(P.current){console.log(" Flip already in progress, skipping");return}console.log(" Mobile 3D flip starting with power mechanics:",{result:k,testMode:z,isFlipping:t,currentSide:N.current,coinVisible:g.current?.visible!==!1}),P.current=!0;const I=g.current;I.visible=!0,I.visible||(console.warn(" Mobile coin became invisible during flip - forcing visible"),I.visible=!0);const H=(l||0)+(c||0)||5,G=Math.max(1,Math.min(10,Math.ceil(H))),L=F1e[Math.max(0,G-1)],{minFlips:M,duration:$,speed:J}=L,te=Math.PI*2,oe=M*te+Math.random()*Math.PI*2,le=k==="heads",Te=le?0:Math.PI,Ne=Date.now(),Ae=I.rotation.x,Be=(4+G*.3)/2,Re=()=>{if(!g.current){console.warn(" Coin disappeared during animation"),P.current=!1;return}if(!P.current){console.log(" Animation stopped externally");return}const ut=Date.now()-Ne,ee=Math.min(ut/$,1),_t=1-Math.pow(1-ee,2);I.position.y=Math.sin(ee*Math.PI)*Be,I.rotation.x=Ae+oe*_t*J,ee<1?requestAnimationFrame(Re):A(Te,le)};Re()};return U.useEffect(()=>{if(!y.current||v.current)return;console.log(" Creating mobile optimized 3D coin");const k=new ez,I=new Hi(45,1,.1,1e3);I.position.set(0,3,10),I.lookAt(0,0,0);const H=new Z9({antialias:!1,alpha:!0,powerPreference:"high-performance"});H.setSize(m,m),H.setClearColor(0,0),H.setPixelRatio(Math.min(window.devicePixelRatio,2)),H.domElement.style.display="block",H.domElement.style.margin="0 auto",y.current.appendChild(H.domElement),v.current=k,b.current=H;const G=new oz(16777215,1);k.add(G);const L=new iz(16777215,.8);L.position.set(3,3,5),k.add(L);const M=[w("edge"),w("heads",h),w("tails",p)],$=new b1(3,3,.4,32),J=new Ko($,M);J.scale.y=1.5,k.add(J),g.current=J,J.rotation.x=0,J.rotation.y=Math.PI/2,J.rotation.z=0,J.visible=!0,N.current="heads",console.log(" Mobile coin initialized:",{position:J.position,rotation:J.rotation,visible:J.visible,scale:J.scale});const te=()=>{if(!g.current||!b.current){console.warn(" Missing refs in animation loop:",{coin:!!g.current,renderer:!!b.current});return}const oe=g.current,le=Date.now()*.001;if(oe.visible=!0,oe.visible||(console.warn(" Mobile coin visibility issue detected - forcing visible"),oe.visible=!0),!P.current)if(s){const Te=(l+c)/20;oe.position.y=Math.sin(le*6)*.1*Te,oe.scale.set(1+Te*.05,1+Te*.05,1+Te*.05)}else oe.scale.set(1,1,1),oe.position.set(0,0,0),oe.position.y=Math.sin(le*2)*.02;T.current++,Date.now()-E.current>1e3&&(console.log(` Mobile 3D FPS: ${T.current} | Coin visible: ${oe.visible} | Test: ${z}`),T.current=0,E.current=Date.now()),b.current.render(k,I),x.current=requestAnimationFrame(te)};return te(),()=>{x.current&&cancelAnimationFrame(x.current),y.current&&H.domElement&&y.current.removeChild(H.domElement),$.dispose(),M.forEach(oe=>oe.dispose()),H.dispose()}},[m]),U.useEffect(()=>{if(!g.current)return;console.log(" Updating mobile coin textures:",{creatorChoice:u,joinerChoice:d});const k=g.current;k.visible=!0;try{if(k.material&&k.material[1]){const I=B("heads",h);k.material[1].map=I,k.material[1].needsUpdate=!0}if(k.material&&k.material[2]){const I=B("tails",p);k.material[2].map=I,k.material[2].needsUpdate=!0}}catch(I){console.warn("Error updating mobile coin textures:",I)}k.visible=!0},[u,d,h,p]),U.useEffect(()=>{!t||!e||z||C(e)},[t,e,l,c]),F("div",{style:{position:"relative"},children:F("div",{ref:y,style:{width:m,height:m,margin:"0 auto",cursor:o?"pointer":"default"},onTouchStart:z?void 0:r,onTouchEnd:z?void 0:i})})},nN=({creatorPower:t=0,joinerPower:e=0,currentPlayer:n=null,creator:r=null,joiner:i=null,chargingPlayer:o=null,gamePhase:s=null,isMyTurn:a=!1,playerChoice:l=null,onChoiceSelect:c=null,isMobile:u=!1})=>{const d=t+e,f=10,h=s==="choosing"&&a&&!l&&c;console.log(" PowerDisplay Debug:",{gamePhase:s,isMyTurn:a,playerChoice:l,currentPlayer:n,creator:r,joiner:i,showChoiceButtons:h,hasOnChoiceSelect:!!c});const p=s==="round_active"||l;if(!h&&!p&&s!=="choosing")return null;const m=u?{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)",width:"100%"}:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(25, 20, 0, 0.8) 100%)",padding:"1.5rem",borderRadius:"1rem",border:"2px solid #FFD700",backdropFilter:"blur(10px)",maxWidth:"550px",margin:"0 auto",boxShadow:"0 0 20px rgba(255, 215, 0, 0.3), inset 0 0 20px rgba(255, 215, 0, 0.1)"},y=u?{color:tt.colors.neonYellow,fontSize:"1rem",fontWeight:"bold",textAlign:"center",marginBottom:"1rem"}:{color:"#FFD700",fontSize:"1.1rem",fontWeight:"bold",textAlign:"center",marginBottom:"1.2rem",textShadow:"0 0 10px rgba(255, 215, 0, 0.5)",letterSpacing:"1px"},g=u?{width:"100%",padding:"1rem",fontSize:"1rem",minHeight:"50px"}:{flex:1,padding:"1.5rem",fontSize:"1.2rem"};return K("div",{style:m,children:[F("div",{style:y,children:" POWER LEVEL "}),h&&K("div",{style:{marginBottom:u?"1rem":"1.5rem"},children:[F("div",{style:{color:u?tt.colors.neonYellow:"#FFD700",fontSize:u?"0.9rem":"1rem",fontWeight:"bold",marginBottom:u?"0.75rem":"1rem",textAlign:"center"},children:" CHOOSE YOUR SIDE"}),K("div",{style:{display:"flex",gap:u?"0.75rem":"1rem",flexDirection:u?"column":"row"},children:[F("button",{onClick:()=>{console.log(" HEADS clicked by:",n,"gamePhase:",s),c?c("heads"):console.error(" onChoiceSelect is null!")},style:{...g,background:"linear-gradient(45deg, #00FF41, #00CC33)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:u?"0.75rem":"1rem",color:"#000000",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 0 20px rgba(0, 255, 65, 0.5)",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)",position:"relative",overflow:"hidden",animation:"colorPulse 2s ease infinite"},children:"HEADS"}),F("button",{onClick:()=>{console.log(" TAILS clicked by:",n,"gamePhase:",s),c?c("tails"):console.error(" onChoiceSelect is null!")},style:{...g,background:"#FF1493",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:u?"0.75rem":"1rem",color:"white",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 0 20px rgba(255, 20, 147, 0.5)",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)",position:"relative",overflow:"hidden",animation:"colorPulse 2s ease infinite"},children:"TAILS"})]})]}),(p||!h)&&K("div",{children:[K("div",{style:{marginBottom:u?"1rem":"1.2rem"},children:[K("div",{style:{color:u?tt.colors.neonYellow:"#FFD700",fontSize:u?"0.85rem":"0.95rem",fontWeight:"bold",marginBottom:u?"0.5rem":"0.6rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("span",{children:"Total Power"}),K("span",{style:{color:u?tt.colors.neonYellow:"#FFD700",textShadow:u?"none":"0 0 5px rgba(255, 215, 0, 0.8)"},children:[d.toFixed(1),"/10"]})]}),K("div",{style:{height:u?"16px":"24px",background:"linear-gradient(90deg, rgba(0, 0, 0, 0.8) 0%, rgba(40, 30, 0, 0.6) 100%)",borderRadius:u?"8px":"12px",overflow:"hidden",border:u?"2px solid #FFD700":"3px solid #FFD700",position:"relative",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.5)"},children:[F("div",{style:{height:"100%",width:`${d/f*100}%`,background:o?"linear-gradient(90deg, #FFD700 0%, #FFA500 30%, #FF6B00 60%, #FF1493 100%)":"linear-gradient(90deg, #FFD700 0%, #FFA500 50%, #FF6B00 100%)",borderRadius:u?"6px":"9px",transition:"width 0.15s ease-out",backgroundSize:"200% 100%",animation:o?"powerCharge 0.6s linear infinite":"none",boxShadow:o?"0 0 15px rgba(255, 215, 0, 0.8), inset 0 0 10px rgba(255, 255, 255, 0.3)":"0 0 8px rgba(255, 215, 0, 0.6)"}}),F("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 0.5rem"},children:[2,4,6,8].map(v=>F("div",{style:{width:"2px",height:"70%",background:"rgba(255, 255, 255, 0.4)",opacity:d>=v?1:.3}},v))})]})]}),o&&F("div",{style:{padding:u?"0.5rem":"0.6rem",background:"linear-gradient(90deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 165, 0, 0.1) 100%)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:u?"0.5rem":"0.75rem",textAlign:"center"},children:K("div",{style:{color:u?tt.colors.neonYellow:"#FFD700",fontSize:u?"0.8rem":"0.9rem",fontWeight:"bold",animation:"powerPulse 0.4s ease-in-out infinite",textShadow:u?"none":"0 0 10px rgba(255, 215, 0, 0.8)"},children:[" ",o===r?"PLAYER 1":"PLAYER 2"," CHARGING "]})})]})]})},sz=Ee("div",{target:"ev7jjqq2"})("position:relative;width:",t=>t.size,"px;height:",t=>t.size,"px;border-radius:",t=>t.style?.borderRadius||"50%",";overflow:hidden;cursor:",t=>t.isClickable?"pointer":"default",";border:",t=>t.style?.border||"2px solid rgba(255, 255, 255, 0.2)",";background:rgba(0, 0, 0, 0.3);display:flex;align-items:center;justify-content:center;transition:all 0.3s ease;&:hover{border-color:",t=>t.isClickable?"rgba(255, 20, 147, 0.5)":t.style?.border,";box-shadow:",t=>t.isClickable?"0 0 15px rgba(255, 20, 147, 0.3)":"none",";}"),O1e=Ee("img",{target:"ev7jjqq1"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"}),L1e=Ee("div",{target:"ev7jjqq0"})("position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:white;font-size:1.5rem;opacity:0;transition:opacity 0.3s ease;pointer-events:none;",sz,":hover &{opacity:1;}"),bv=({address:t,size:e=40,isClickable:n=!1,showUploadIcon:r=!1,profileData:i=null,style:o={}})=>{const{getProfilePicture:s,setProfilePicture:a}=d1(),{address:l}=Ni(),[c,u]=U.useState(i?.imageUrl||null),[d,f]=U.useState(!0);return U.useEffect(()=>{if(i?.imageUrl){u(i.imageUrl),f(!1);return}(async()=>{if(t)try{f(!0);const m=await s(t);u(m)}catch(m){console.error("Error loading profile picture:",m)}finally{f(!1)}})()},[t,i,s]),K(sz,{size:e,isClickable:n,onClick:async p=>{if(!n)return;const m=document.createElement("input");m.type="file",m.accept="image/*",m.onchange=async y=>{const g=y.target.files[0];if(g){if(g.size>5*1024*1024){alert("Image size must be less than 5MB");return}const v=new FileReader;v.onload=async b=>{try{const x=b.target.result;await a(t,x),u(x)}catch(x){console.error("Error uploading profile picture:",x)}},v.readAsDataURL(g)}},m.click()},style:o,children:[c?F(O1e,{src:c,alt:"Profile"}):F("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:`${e*.4}px`},children:t?.slice(0,2).toUpperCase()}),r&&n&&F(L1e,{children:""})]})},D1e="/assets/mobile-DNcTw2U2.webm",az=Ee("div",{target:"e12jjgri4"})("position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);width:",t=>t.isMobile?"320px":"400px",";background:rgba(0, 0, 0, 0.9);border-radius:1.5rem;z-index:1000;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;padding:1rem;backdrop-filter:blur(10px);"),U1e=Ee(az,{target:"e12jjgri3"})(""),rN=Ee("div",{target:"e12jjgri2"})("position:relative;width:",t=>t.isMobile?"280px":"360px",";height:",t=>t.isMobile?"280px":"360px",";border-radius:1rem;overflow:hidden;border:",t=>t.isWinner?"3px solid #00FF41":"3px solid #FF1493",";box-shadow:",t=>t.isWinner?"0 0 30px rgba(0, 255, 65, 0.6), 0 0 60px rgba(0, 255, 65, 0.3)":"0 0 30px rgba(255, 20, 147, 0.6), 0 0 60px rgba(255, 20, 147, 0.3)",";animation:",t=>t.isWinner?"winnerGlow":"loserGlow"," 2s ease-in-out infinite alternate;@keyframes winnerGlow{0%{box-shadow:0 0 30px rgba(0, 255, 65, 0.4),0 0 60px rgba(0, 255, 65, 0.2);}100%{box-shadow:0 0 40px rgba(0, 255, 65, 0.6),0 0 80px rgba(0, 255, 65, 0.3);}}@keyframes loserGlow{0%{box-shadow:0 0 30px rgba(255, 20, 147, 0.4),0 0 60px rgba(255, 20, 147, 0.2);}100%{box-shadow:0 0 40px rgba(255, 20, 147, 0.6),0 0 80px rgba(255, 20, 147, 0.3);}}"),iN=Ee("div",{target:"e12jjgri1"})("width:100%;display:flex;flex-direction:column;gap:1rem;align-items:center;padding:1rem;background:rgba(0, 0, 0, 0.8);border-radius:1rem;border:2px solid ",t=>t.isWinner?"#00FF41":"#FF1493",";backdrop-filter:blur(10px);animation:buttonFlash 2s ease-in-out infinite;@keyframes buttonFlash{0%,100%{border-color:",t=>t.isWinner?"rgba(0, 255, 65, 0.6)":"rgba(255, 20, 147, 0.6)",";box-shadow:0 0 20px ",t=>t.isWinner?"rgba(0, 255, 65, 0.3)":"rgba(255, 20, 147, 0.3)",";}50%{border-color:",t=>t.isWinner?"rgba(0, 255, 65, 1)":"rgba(255, 20, 147, 1)",";box-shadow:0 0 30px ",t=>t.isWinner?"rgba(0, 255, 65, 0.6)":"rgba(255, 20, 147, 0.6)",";}}"),lz=({isVisible:t,isWinner:e,flipResult:n,playerChoice:r,onClose:i,onClaimWinnings:o,gameData:s=null})=>{const a=Bf(),l=window.innerWidth<=768;if(!t)return null;const c=()=>{a("/")};return K("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(10px)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",animation:"fadeIn 0.3s ease-in-out"},children:[e&&K(az,{isMobile:l,children:[F(rN,{isMobile:l,isWinner:!0,children:F("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"},src:"/images/video/LoseWin/final lose win/endwin.webm",onError:d=>{console.error("Video playback error:",d),console.log("Video source:",d.target.src);const f=["/images/video/LoseWin/final lose win/endwin.webm","images/video/LoseWin/final lose win/endwin.webm","./images/video/LoseWin/final lose win/endwin.webm"],p=(f.indexOf(d.target.src)+1)%f.length;d.target.src=f[p]},onLoadedData:d=>{console.log("Video loaded successfully"),d.target.play().catch(f=>console.error("Play error:",f))}},"win")}),K(iN,{isWinner:!0,children:[F("h2",{style:{color:"#00FF41",textShadow:"0 0 10px #00FF41",marginBottom:"0.5rem",fontSize:"1.4rem",textAlign:"center"},children:" You Won!"}),F("p",{style:{fontSize:"1rem",marginBottom:"1rem",color:"white",textAlign:"center"},children:"Congratulations!"}),K("div",{style:{display:"flex",gap:"0.75rem",width:"100%"},children:[F("button",{onClick:()=>{o&&o()},style:{flex:1,background:"linear-gradient(135deg, #00FF41, #39FF14)",color:"#000",border:"none",padding:"1rem 0.75rem",borderRadius:"0.75rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(0, 255, 65, 0.5)",transition:"all 0.3s ease",textTransform:"uppercase",animation:"collectFlash 1.5s ease-in-out infinite"},onMouseOver:d=>{d.currentTarget.style.transform="scale(1.05)",d.currentTarget.style.boxShadow="0 0 25px rgba(0, 255, 65, 0.7)"},onMouseOut:d=>{d.currentTarget.style.transform="scale(1)",d.currentTarget.style.boxShadow="0 0 20px rgba(0, 255, 65, 0.5)"},children:" COLLECT"}),F("button",{onClick:c,style:{flex:1,background:"linear-gradient(135deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"1rem 0.75rem",borderRadius:"0.75rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(255, 20, 147, 0.5)",transition:"all 0.3s ease",textTransform:"uppercase"},onMouseOver:d=>{d.currentTarget.style.transform="scale(1.05)",d.currentTarget.style.boxShadow="0 0 25px rgba(255, 20, 147, 0.7)"},onMouseOut:d=>{d.currentTarget.style.transform="scale(1)",d.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.5)"},children:" HOME"})]})]})]}),!e&&K(U1e,{isMobile:l,children:[F(rN,{isMobile:l,isWinner:!1,children:F("video",{autoPlay:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"},src:"/images/video/LoseWin/final lose win/endlose.webm",onError:d=>{console.error("Video playback error:",d),console.log("Video source:",d.target.src);const f=["/images/video/LoseWin/final lose win/endlose.webm","images/video/LoseWin/final lose win/endlose.webm","./images/video/LoseWin/final lose win/endlose.webm"],p=(f.indexOf(d.target.src)+1)%f.length;d.target.src=f[p]},onLoadedData:d=>{console.log("Video loaded successfully"),d.target.play().catch(f=>console.error("Play error:",f))}},"lose")}),K(iN,{isWinner:!1,children:[F("h2",{style:{color:"#FF1493",textShadow:"0 0 10px #FF1493",marginBottom:"0.5rem",fontSize:"1.4rem",textAlign:"center"},children:" You Lost"}),F("p",{style:{fontSize:"1rem",marginBottom:"1rem",color:"white",textAlign:"center"},children:"Better luck next time!"}),F("button",{onClick:c,style:{width:"100%",background:"linear-gradient(135deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"1rem",borderRadius:"0.75rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(255, 20, 147, 0.5)",transition:"all 0.3s ease",textTransform:"uppercase",animation:"homeFlash 1.5s ease-in-out infinite"},onMouseOver:d=>{d.currentTarget.style.transform="scale(1.05)",d.currentTarget.style.boxShadow="0 0 25px rgba(255, 20, 147, 0.7)"},onMouseOut:d=>{d.currentTarget.style.transform="scale(1)",d.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.5)"},children:" HOME"})]})]})]})},z1e=Ee("div",{target:"e1v3jcde7"})({name:"ugv07s",styles:"background:rgba(0, 0, 0, 0.7);border:1px solid rgba(255, 255, 255, 0.1);border-radius:1rem;padding:1rem;height:300px;display:flex;flex-direction:column"}),j1e=Ee("div",{target:"e1v3jcde6"})({name:"oasci9",styles:"flex:1;overflow-y:auto;margin-bottom:1rem;padding-right:0.5rem;&::-webkit-scrollbar{width:6px;}&::-webkit-scrollbar-track{background:rgba(255, 255, 255, 0.1);border-radius:3px;}&::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.2);border-radius:3px;}"}),H1e=Ee("div",{target:"e1v3jcde5"})("margin-bottom:0.5rem;padding:0.5rem;border-radius:0.5rem;background:",t=>t.isCurrentUser?"rgba(255, 20, 147, 0.2)":"rgba(255, 255, 255, 0.1)",";border:1px solid ",t=>t.isCurrentUser?"rgba(255, 20, 147, 0.3)":"rgba(255, 255, 255, 0.2)",";"),G1e=Ee("div",{target:"e1v3jcde4"})("display:flex;justify-content:space-between;margin-bottom:0.25rem;font-size:0.8rem;color:",t=>t.isCurrentUser?"#FF1493":"#00BFFF",";"),W1e=Ee("div",{target:"e1v3jcde3"})({name:"l6ov4n",styles:"color:#fff;word-break:break-word"}),V1e=Ee("form",{target:"e1v3jcde2"})({name:"aj6rbz",styles:"display:flex;gap:0.5rem"}),$1e=Ee("input",{target:"e1v3jcde1"})({name:"d6ulw3",styles:"flex:1;background:rgba(255, 255, 255, 0.1);border:1px solid rgba(255, 255, 255, 0.2);border-radius:0.5rem;padding:0.5rem;color:#fff;font-size:0.9rem;&:focus{outline:none;border-color:rgba(255, 20, 147, 0.5);box-shadow:0 0 10px rgba(255, 20, 147, 0.2);}"}),q1e=Ee("button",{target:"e1v3jcde0"})({name:"10wre2a",styles:"background:linear-gradient(45deg, #FF1493, #FF69B4);border:none;border-radius:0.5rem;padding:0.5rem 1rem;color:#fff;font-weight:bold;cursor:pointer;transition:all 0.3s ease;&:hover{transform:scale(1.05);box-shadow:0 0 15px rgba(255, 20, 147, 0.4);}&:disabled{opacity:0.5;cursor:not-allowed;transform:none;}"}),Gx=({gameId:t,socket:e,connected:n})=>{const{address:r,isConnected:i}=Ni(),{getPlayerName:o,setPlayerName:s}=d1(),{showError:a}=Ls(),[l,c]=U.useState([]),[u,d]=U.useState(""),[f,h]=U.useState(!1),[p,m]=U.useState(""),[y,g]=U.useState(""),[v,b]=U.useState(!0),[x,P]=U.useState(0),[N,_]=U.useState({}),D=U.useRef(null),T=U.useRef(null);U.useEffect(()=>{r&&i&&(async()=>{const k=await o(r);g(k||"")})()},[r,i,o]),U.useEffect(()=>{D.current?.scrollIntoView({behavior:"smooth"})},[l]),U.useEffect(()=>{if(!e)return;const C=k=>{try{const I=JSON.parse(k.data);I.type==="chat_message"&&c(H=>[...H,{id:I.id,address:I.address,name:I.name,message:I.message,timestamp:I.timestamp,isSystem:I.isSystem||!1}])}catch(I){console.error("Error parsing chat message:",I)}};return e.addEventListener("message",C),()=>e.removeEventListener("message",C)},[e]);const E=C=>!(!C||typeof C!="string"||C.trim().length===0||C.length>500||C.includes("<")||C.includes(">")||C.includes("javascript:")||C.includes("data:")),z=C=>!(!C||typeof C!="string"||C.trim().length===0||C.length>50||!/^[a-zA-Z0-9\s\-_.!@#$%^&*()]+$/.test(C)||C.includes("<")||C.includes(">")||C.includes("javascript:")||C.includes("data:")),W=async C=>{if(C.preventDefault(),!n||!e||!r||!i){a("Not connected to game");return}if(!y){h(!0);return}const k=u.trim();if(!E(k)){a("Invalid message. Keep it under 500 characters and avoid special characters.");return}try{const I={type:"chat_message",gameId:t,address:r,name:y,message:k,timestamp:new Date().toISOString()};e.send(JSON.stringify(I)),d(""),T.current?.focus()}catch(I){console.error("Error sending chat message:",I),a("Failed to send message")}},B=async()=>{if(!z(p)){a("Invalid name. Use 50 characters or less, alphanumeric and basic punctuation only.");return}try{await s(r,p.trim()),g(p.trim()),h(!1),m("")}catch(C){console.error("Error saving name:",C),a("Failed to save name")}},w=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),W(C))},A=C=>new Date(C).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return U.useEffect(()=>{(async()=>{const k={};for(const I of l)if(!k[I.address]){const H=await o(I.address);k[I.address]=H}_(k)})()},[l,o]),i?K(z1e,{children:[K("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"1px solid rgba(255, 215, 0, 0.3)"},children:[F("div",{style:{color:"#FFD700",fontWeight:"bold",fontSize:"1.2rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Chat"}),K("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[F("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:n?"#00FF00":"#FF0000",animation:n?"pulse 2s infinite":"none"}}),F("span",{style:{color:tt.colors.textSecondary,fontSize:"0.8rem"},children:n?"Connected":"Disconnected"})]})]}),K(j1e,{children:[l.map((C,k)=>{const I=C.address===r,H=N[C.address]||C.address.slice(0,6)+"..."+C.address.slice(-4);return K(H1e,{isCurrentUser:I,children:[K(G1e,{isCurrentUser:I,children:[F("span",{children:H}),F("span",{children:A(C.timestamp)})]}),F(W1e,{children:C.message})]},k)}),F("div",{ref:D})]}),K(V1e,{onSubmit:W,children:[F($1e,{ref:T,type:"text",value:u,onChange:C=>d(C.target.value),onKeyPress:w,placeholder:"Type your message...",disabled:!n,style:{flex:1,background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.75rem",color:"#fff",fontSize:"0.9rem"}}),F(q1e,{type:"submit",disabled:!n||!u.trim(),style:{background:"linear-gradient(45deg, #FF1493, #FF69B4)",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",color:"#fff",fontWeight:"bold",cursor:"pointer",fontSize:"0.9rem"},children:"Send"})]}),f&&F("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",zIndex:10001,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(5px)"},children:K("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(25, 20, 0, 0.9) 100%)",border:"2px solid #FFD700",borderRadius:"1rem",padding:"1.5rem",width:"90%",maxWidth:"400px",position:"relative"},children:[F("h3",{style:{color:"#FFD700",marginBottom:"1rem",fontSize:"1.2rem"},children:y?"Change Your Name":"Set Your Name"}),F("input",{type:"text",value:p,onChange:C=>m(C.target.value),placeholder:"Enter your name...",style:{width:"100%",padding:"0.75rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"0.5rem",color:"#fff",fontSize:"1rem",marginBottom:"1rem"}}),K("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[F("button",{onClick:()=>h(!1),style:{padding:"0.75rem 1.5rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.5rem",color:"#fff",fontSize:"0.9rem",cursor:"pointer"},children:"Cancel"}),F("button",{onClick:B,style:{padding:"0.75rem 1.5rem",background:"linear-gradient(45deg, #FFD700, #FFA500)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer"},children:"Save"})]})]})}),F("style",{children:`
          @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
          }
        `})]}):F("div",{style:{background:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"1rem",padding:"1rem",textAlign:"center"},children:F("div",{style:{color:tt.colors.textSecondary},children:"Connect your wallet to join the chat"})})},Q1e=({nftData:t,chainConfig:e})=>{if(!t)return F("div",{style:{color:"#888",textAlign:"center",padding:"1rem"},children:"NFT data not available"});const[n,r]=U.useState(!1),[i,o]=U.useState(""),s=(l,c)=>{navigator.clipboard.writeText(l),o(c),setTimeout(()=>o(""),2e3)},a=l=>l?`${(l*100).toFixed(2)}%`:"N/A";return K("div",{style:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"12px",padding:"16px",color:"#fff",fontFamily:"Inter, sans-serif"},children:[F("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:F("h3",{style:{margin:0,fontSize:"16px"},children:t.name||"Unnamed NFT"})}),K("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[K("div",{children:[F("div",{style:{fontSize:"14px",opacity:.8},children:"Collection"}),F("div",{style:{fontWeight:"bold"},children:t.collection||"Unknown"})]}),K("div",{children:[F("div",{style:{fontSize:"14px",opacity:.8},children:"Token ID"}),K("div",{style:{fontWeight:"bold"},children:["#",t.tokenId]})]})]}),K("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[F("a",{href:`${e.explorerUrl}/token/${t.contractAddress}?a=${t.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"4px"},children:" Explorer"}),F("a",{href:`${e.marketplaceUrl}/${t.contractAddress}/${t.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"4px"},children:" OpenSea"})]}),K("div",{children:[K("button",{onClick:()=>r(!n),style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"8px",width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[F("span",{children:"View Details"}),F("span",{children:n?"":""})]}),n&&K("div",{style:{marginTop:"12px",padding:"12px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:[K("div",{style:{marginBottom:"16px"},children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"4px"},children:"Contract Address"}),K("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",wordBreak:"break-all"},children:[F("span",{children:`${t.contractAddress.slice(0,6)}...${t.contractAddress.slice(-4)}`}),F("button",{onClick:()=>s(t.contractAddress,"contract"),style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"4px"},children:i==="contract"?"":""})]})]}),t.metadata?.description&&K("div",{style:{marginBottom:"16px"},children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"4px"},children:"Description"}),F("div",{style:{fontSize:"12px",lineHeight:"1.4"},children:t.metadata.description})]}),t.metadata?.attributes?.length>0&&K("div",{style:{marginBottom:"16px"},children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"8px"},children:"Attributes"}),F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"8px"},children:t.metadata.attributes.map((l,c)=>K("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"8px",borderRadius:"6px",fontSize:"12px"},children:[F("div",{style:{opacity:.8},children:l.trait_type}),F("div",{style:{fontWeight:"bold"},children:l.value}),l.rarity&&K("div",{style:{fontSize:"10px",opacity:.6},children:["Rarity: ",a(l.rarity)]})]},c))})]}),K("div",{children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"4px"},children:"Verification Status"}),K("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px"},children:[F("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:tt.colors.neonGreen}}),K("span",{children:["Verified on ",e.name]})]})]})]})]})]})},oN=({gameId:t,gameData:e,isCreator:n,socket:r,connected:i,offeredNFTs:o=[],onOfferSubmitted:s,onOfferAccepted:a})=>{const{isConnected:l,address:c,nfts:u,provider:d}=Ni(),{showSuccess:f,showError:h,showInfo:p}=Ls(),[m,y]=U.useState(null),[g,v]=U.useState(!1),[b,x]=U.useState(!1),P=async()=>{if(!(!m||!i||!r))try{v(!0),p("Submitting NFT offer...");const T={type:"nft_offer",gameId:t,offererAddress:c,nft:{contractAddress:m.contractAddress,tokenId:m.tokenId,name:m.name,image:m.image,collection:m.collection,chain:m.chain},timestamp:new Date().toISOString()};r.send(JSON.stringify(T)),f("NFT offer submitted! Waiting for creator to accept..."),y(null),x(!1),s&&s(T)}catch(T){console.error("Error submitting offer:",T),h("Failed to submit offer: "+T.message)}finally{v(!1)}},N=async T=>{if(!(!n||!i||!r))try{p("Accepting NFT challenge...");const E={type:"accept_nft_offer",gameId:t,creatorAddress:c,acceptedOffer:T,timestamp:new Date().toISOString()};r.send(JSON.stringify(E)),a&&a(T)}catch(E){console.error("Error accepting offer:",E),h("Failed to accept offer: "+E.message)}},_=T=>{const E={ethereum:"https://etherscan.io",base:"https://basescan.org",polygon:"https://polygonscan.com",arbitrum:"https://arbiscan.io"};return`${E[T.chain?.toLowerCase()]||E.ethereum}/token/${T.contractAddress}?a=${T.tokenId}`},D=T=>`https://opensea.io/assets/${{ethereum:"ethereum",base:"base",polygon:"matic",arbitrum:"arbitrum"}[T.chain?.toLowerCase()]||"ethereum"}/${T.contractAddress}/${T.tokenId}`;return n?K("div",{style:{background:"rgba(0, 255, 65, 0.1)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"1rem",padding:"1.5rem",marginTop:"1rem"},children:[K("h3",{style:{color:"#00FF41",fontSize:"1.2rem",marginBottom:"1rem",textAlign:"center"},children:[" NFT Battle Offers (",o.length,")"]}),o.length===0?K("div",{style:{textAlign:"center",padding:"2rem",color:"rgba(255, 255, 255, 0.7)"},children:[F("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),F("p",{children:"Waiting for players to offer their NFTs..."}),F("p",{style:{fontSize:"0.8rem",marginTop:"0.5rem"},children:"Share your game link to attract challengers!"})]}):F("div",{style:{display:"grid",gap:"1rem",maxHeight:"400px",overflowY:"auto"},children:o.map((T,E)=>K("div",{style:{background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.75rem",padding:"1rem",display:"flex",gap:"1rem",alignItems:"center"},children:[F("img",{src:T.nft.image,alt:T.nft.name,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover"}}),K("div",{style:{flex:1},children:[F("h4",{style:{color:"white",margin:"0 0 0.25rem 0",fontSize:"1rem"},children:T.nft.name}),F("p",{style:{color:"rgba(255, 255, 255, 0.7)",margin:"0 0 0.5rem 0",fontSize:"0.8rem"},children:T.nft.collection}),K("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"0.7rem",marginBottom:"0.5rem"},children:["From: ",T.offererAddress.slice(0,6),"...",T.offererAddress.slice(-4)]}),K("div",{style:{display:"flex",gap:"0.5rem"},children:[F("a",{href:_(T.nft),target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",color:"#00FF41",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",border:"1px solid rgba(0, 255, 65, 0.3)"},children:" Verify"}),F("a",{href:D(T.nft),target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",color:"#00BFFF",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",border:"1px solid rgba(0, 191, 255, 0.3)"},children:" OpenSea"})]})]}),F("button",{onClick:()=>N(T),style:{background:"linear-gradient(45deg, #00FF41, #39FF14)",color:"#000",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",fontWeight:"bold",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.3s ease"},onMouseOver:z=>{z.target.style.transform="scale(1.05)",z.target.style.boxShadow="0 0 15px rgba(0, 255, 65, 0.5)"},onMouseOut:z=>{z.target.style.transform="scale(1)",z.target.style.boxShadow="none"},children:" BATTLE!"})]},E))})]}):!n&&e?.gameType==="nft-vs-nft"&&e?.status==="waiting"?K("div",{style:{background:"rgba(255, 20, 147, 0.1)",border:"2px solid rgba(255, 20, 147, 0.3)",borderRadius:"1rem",padding:"1.5rem",marginTop:"1rem"},children:[F("h3",{style:{color:"#FF1493",fontSize:"1.2rem",marginBottom:"1rem",textAlign:"center"},children:" Challenge with Your NFT!"}),K("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.75rem",marginBottom:"1rem"},children:[F("h4",{style:{color:"white",margin:"0 0 0.5rem 0"},children:"Creator's NFT:"}),K("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[F("img",{src:e.nft.image,alt:e.nft.name,style:{width:"60px",height:"60px",borderRadius:"0.5rem",objectFit:"cover"}}),K("div",{children:[F("div",{style:{color:"white",fontWeight:"bold"},children:e.nft.name}),F("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem"},children:e.nft.collection})]})]})]}),m?K("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.75rem",marginBottom:"1rem"},children:[F("h4",{style:{color:"white",margin:"0 0 0.5rem 0"},children:"Your NFT:"}),K("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[F("img",{src:m.image,alt:m.name,style:{width:"60px",height:"60px",borderRadius:"0.5rem",objectFit:"cover"}}),K("div",{style:{flex:1},children:[F("div",{style:{color:"white",fontWeight:"bold"},children:m.name}),F("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem"},children:m.collection})]}),F("button",{onClick:()=>y(null),style:{background:"rgba(255, 0, 0, 0.2)",color:"white",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.25rem",padding:"0.25rem 0.5rem",cursor:"pointer",fontSize:"0.8rem"},children:"Change"})]})]}):F("button",{onClick:()=>x(!0),style:{width:"100%",padding:"1rem",background:"rgba(255, 255, 255, 0.1)",border:"2px dashed rgba(255, 20, 147, 0.5)",borderRadius:"0.75rem",color:"#FF1493",cursor:"pointer",marginBottom:"1rem"},children:"Select Your NFT to Battle"}),K("div",{style:{background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"0.5rem",padding:"0.75rem",marginBottom:"1rem",fontSize:"0.8rem"},children:[F("strong",{style:{color:"#FFD700"},children:" Battle Rules:"}),F("br",{})," Winner takes both NFTs",F("br",{})," You pay $0.50 only if your offer is accepted",F("br",{})," Best of 5 rounds"]}),F("button",{onClick:P,disabled:!m||g||!i,style:{width:"100%",padding:"1rem",background:m?"linear-gradient(45deg, #FF1493, #FF69B4)":"rgba(255, 255, 255, 0.1)",color:"white",border:"none",borderRadius:"0.75rem",fontWeight:"bold",cursor:m?"pointer":"not-allowed",fontSize:"1rem",opacity:m?1:.5,transition:"all 0.3s ease"},children:g?"Submitting Offer...":" Submit Battle Offer!"}),b&&F("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(5px)"},children:K("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(25, 20, 0, 0.9) 100%)",border:"2px solid #FF1493",borderRadius:"1rem",padding:"2rem",maxWidth:"600px",maxHeight:"80vh",overflowY:"auto",position:"relative"},children:[F("button",{onClick:()=>x(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"50%",width:"30px",height:"30px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:""}),F("h3",{style:{color:"#FF1493",marginBottom:"1rem"},children:"Select Your Battle NFT"}),F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},children:u?.map(T=>K("div",{onClick:()=>{y(T),x(!1)},style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.75rem",padding:"1rem",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},onMouseOver:E=>{E.currentTarget.style.transform="scale(1.05)",E.currentTarget.style.borderColor="#FF1493"},onMouseOut:E=>{E.currentTarget.style.transform="scale(1)",E.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},children:[F("img",{src:T.image,alt:T.name,style:{width:"100%",aspectRatio:"1",objectFit:"cover",borderRadius:"0.5rem",marginBottom:"0.5rem"}}),F("div",{style:{color:"white",fontWeight:"bold",fontSize:"0.9rem",marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:T.name}),F("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:T.collection})]},T.id))}),(!u||u.length===0)&&F("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.7)",padding:"2rem"},children:"No NFTs found in your wallet"})]})})]}):null},K1e=Ee("video",{target:"eua38od28"})({name:"5au173",styles:"position:fixed;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1;opacity:0.7;pointer-events:none;background:#000"}),X1e=Ee("div",{target:"eua38od27"})("position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);font-size:",t=>t.isMobile?"6rem":"10rem",";font-weight:900;color:",t=>t.color,";text-transform:uppercase;opacity:0;z-index:1000;pointer-events:none;animation:choiceAnimation 1s ease-out forwards;text-shadow:0 0 20px ",t=>t.color,";@keyframes choiceAnimation{0%{opacity:0;transform:translate(-50%, -50%) scale(0.2);}20%{opacity:1;transform:translate(-50%, -50%) scale(1.1);}80%{opacity:1;transform:translate(-50%, -50%) scale(1);}100%{opacity:0;transform:translate(-50%, -50%) scale(1.2);}}"),Y1e=Ee("div",{target:"eua38od26"})("position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);font-size:",t=>t.isMobile?"4rem":"6rem",";font-weight:900;color:#FFD700;text-transform:uppercase;opacity:0;z-index:1000;pointer-events:none;animation:autoFlipAnimation 2s ease-out forwards;text-shadow:0 0 30px #FFD700,0 0 60px #FFD700;text-align:center;line-height:1.2;@keyframes autoFlipAnimation{0%{opacity:0;transform:translate(-50%, -50%) scale(0.1) translateZ(-100px);}20%{opacity:1;transform:translate(-50%, -50%) scale(1.2) translateZ(50px);}60%{opacity:1;transform:translate(-50%, -50%) scale(1) translateZ(0px);}100%{opacity:0;transform:translate(-50%, -50%) scale(1.5) translateZ(100px);}}"),ag=Ee("div",{target:"eua38od25"})({name:"mlpn4u",styles:"position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.7);display:flex;align-items:center;justify-content:center;z-index:1000"}),lg=Ee(iu,{target:"eua38od24"})({name:"12nlpps",styles:"max-width:500px;width:90%;padding:2rem"}),cg=Ee("div",{target:"eua38od23"})({name:"1h026t7",styles:"margin-bottom:1.5rem"}),ug=Ee("div",{target:"eua38od22"})({name:"1h026t7",styles:"margin-bottom:1.5rem"}),sN=Ee("div",{target:"eua38od21"})({name:"wb501w",styles:"display:flex;justify-content:flex-end;gap:1rem"}),dg=Ee("button",{target:"eua38od20"})("position:absolute;top:1rem;right:1rem;background:none;border:none;color:",t=>t.theme.colors.textSecondary,";cursor:pointer;font-size:1.5rem;padding:0.5rem;&:hover{color:",t=>t.theme.colors.textPrimary,";}"),Wx=Ee("img",{target:"eua38od19"})({name:"1g591yl",styles:"width:100%;max-width:200px;height:auto;border-radius:1rem;margin:0.5rem 0"}),aN=Ee("a",{target:"eua38od18"})("color:",t=>t.theme.colors.neonBlue,";text-decoration:none;&:hover{text-decoration:underline;}"),J1e=Ee("div",{target:"eua38od17"})({name:"174mppy",styles:"display:none;@media (max-width: 768px){display:flex;flex-direction:column;gap:1rem;padding:0.5rem;width:100%;}"}),lN=Ee("div",{target:"eua38od16"})({name:"15n7w10",styles:"padding:0.75rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin-bottom:0.5rem"}),Z1e=Ee("div",{target:"eua38od15"})({name:"hgry52",styles:"padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0;display:flex;flex-direction:column;align-items:center;gap:0.5rem"}),ebe=Ee("div",{target:"eua38od14"})({name:"8ilj6n",styles:"width:100%;padding:0.75rem;background:rgba(0, 0, 0, 0.3);border-radius:0.5rem;margin-bottom:0.5rem"}),Vx=Ee("div",{target:"eua38od13"})({name:"1hqz8lq",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem;font-size:0.9rem;&:last-child{margin-bottom:0;}"}),$x=Ee("span",{target:"eua38od12"})("color:",t=>t.theme.colors.textSecondary,";"),qx=Ee("span",{target:"eua38od11"})("color:",t=>t.theme.colors.textPrimary,";font-family:monospace;"),tbe=Ee("div",{target:"eua38od9"})({name:"1y953wd",styles:"padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0"}),nbe=Ee("div",{target:"eua38od8"})({name:"zp1p6h",styles:"padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0;height:300px;overflow-y:auto"}),rbe=Ee("div",{target:"eua38od7"})({name:"1rvp68",styles:"display:grid;grid-template-columns:300px 1fr 300px;gap:2rem;margin-bottom:2rem;align-items:start;min-height:500px;@media (max-width: 768px){display:none;}"}),ibe=Ee("div",{target:"eua38od6"})({name:"1rx4431",styles:"display:flex;gap:0.5rem;width:100%;justify-content:center;padding:0.5rem"}),obe=Ee("div",{target:"eua38od5"})({name:"10o8xn0",styles:"position:fixed;bottom:0;left:0;right:0;display:flex;gap:0.25rem;padding:0.5rem;background:rgba(0, 0, 0, 0.9);backdrop-filter:blur(10px);border-top:1px solid rgba(255, 255, 255, 0.1);z-index:1000;@media (min-width: 769px){display:none;}"}),Qx=Ee("button",{target:"eua38od4"})("flex:",t=>t.isJoinButton?"2":"1",";padding:0.5rem;border-radius:0.5rem;border:2px solid rgba(0, 255, 65, 0.6);background:",t=>t.isJoinButton?"linear-gradient(45deg, #FF1493, #FF69B4)":"rgba(255, 255, 255, 0.05)",";color:white;font-weight:bold;display:flex;align-items:center;justify-content:center;gap:0.25rem;cursor:pointer;transition:all 0.2s ease;font-size:0.875rem;&:hover{transform:translateY(-2px);border-color:rgba(0, 255, 65, 0.8);box-shadow:",t=>t.isJoinButton?"0 0 20px rgba(255, 20, 147, 0.5)":"0 0 15px rgba(0, 255, 65, 0.3)",";}"),Kx=Ee("div",{target:"eua38od3"})({name:"18t8hgp",styles:"@media (max-width: 768px){display:none;}"}),cN=Ee("div",{target:"eua38od1"})("position:fixed;bottom:",t=>t.isOpen?"60px":"-100%",";left:0;right:0;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);padding:0.75rem;border-top:1px solid rgba(255, 255, 255, 0.1);transition:bottom 0.3s ease;z-index:999;max-height:70vh;overflow-y:auto;@media (min-width: 769px){display:none;}"),sbe=()=>{const{gameId:t}=h9(),e=Bf(),{publicClient:n,isMobile:r}=Ni(),{showSuccess:i,showError:o,showInfo:s}=Ls(),{isFullyConnected:a,connectionError:l,address:c,walletClient:u}=m1(),d="https://cryptoflipz2-production.up.railway.app",[f,h]=U.useState(null),[p,m]=U.useState(!0),[y,g]=U.useState(!1),[v,b]=U.useState(!1),[x,P]=U.useState(null),[N,_]=U.useState(null),[D,T]=U.useState(!1),[E,z]=U.useState(null),[W,B]=U.useState(null),[w,A]=U.useState(null),[C,k]=U.useState(null),[I,H]=U.useState(null),[G,L]=U.useState(null),[M,$]=U.useState(null),J=U.useRef(!1),te=U.useRef(null),oe=f?.creator===c,le=f?.joiner===c,Te=oe||le,Ne=E?.currentPlayer===c,[Ae,Be]=U.useState(!1),[Re,ut]=U.useState(null),[ee,_t]=U.useState(null),[Et,dt]=U.useState(!1),[Ye,Nt]=U.useState([]),[et,X]=U.useState(null),[V,ce]=U.useState(!1),[we,Ie]=U.useState(!1),[pe,j]=U.useState(!1),[S,R]=U.useState(""),[Q,Y]=U.useState("#00FF41"),[Z,ne]=U.useState(!1),[De,Pe]=U.useState(!1),[Ke,ft]=U.useState(!1),[rt,ae]=U.useState(!1),[it,ye]=U.useState(!1),[_e,ot]=U.useState(null),[Le,bt]=U.useState(null),[sn,Pt]=U.useState(null),St=()=>f?v||E?.joinInProgress?(x||E?.joiningPlayer)===c?{text:" Joining...",disabled:!0,color:"yellow"}:{text:" Player Joining...",disabled:!0,color:"blue"}:f.joiner||E?.joiner?{text:"Game Full",disabled:!0,color:"gray"}:f.creator===c?{text:"Your Game",disabled:!0,color:"gray"}:f.status!=="waiting"&&E?.phase!=="waiting"?{text:"In Progress",disabled:!0,color:"gray"}:y?{text:" Processing...",disabled:!0,color:"yellow"}:a?{text:"Join Flip",disabled:!1,color:"green"}:{text:"Connect Wallet",disabled:!0,color:"red"}:{text:"Loading...",disabled:!0,color:"gray"},er=U.useRef(null),[qt,ie]=U.useState(!1),[he,me]=U.useState(!1),[Ce,nt]=U.useState(!1),[Ze,at]=U.useState(!1);U.useEffect(()=>{console.log(" Coin useEffect triggered - gameState?.coin:",E?.coin),E?.coin?(console.log(" Using game creator's selected coin:",E.coin),$(E.coin),H(E.coin.headsImage),L(E.coin.tailsImage),console.log(" Set coin images to:",{heads:E.coin.headsImage,tails:E.coin.tailsImage,type:E.coin.type})):(console.log(" No game coin data - using default null (no fallback to profile)"),H(null),L(null))},[E?.coin]),U.useEffect(()=>{const ue=er.current;ue&&(async()=>{try{await ue.play()}catch(be){console.error("Video play error:",be),ie(!0)}})()},[]),U.useEffect(()=>{const ue=()=>{at(window.innerWidth<=768)};return ue(),window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue)},[]),U.useEffect(()=>{if(!t||!c){console.log(" Cannot connect - missing gameId or address:",{gameId:t,address:c});return}console.log(" Setting up WebSocket connection:",{gameId:t,address:c});let ue=0;const Me=5;let be;const Ge=()=>{const Xe="wss://cryptoflipz2-production.up.railway.app";console.log(" Connecting to WebSocket:",Xe);const lt=new WebSocket(Xe);return lt.onopen=()=>{console.log(" WebSocket connected"),T(!0),_(lt),ue=0;const It={type:"connect_to_game",gameId:t,address:c};console.log(" Sending join message:",It),lt.send(JSON.stringify(It))},lt.onmessage=It=>{try{const $e=JSON.parse(It.data);switch(console.log(" Received WebSocket message:",{type:$e.type,phase:$e.phase,currentPlayer:$e.currentPlayer,creatorChoice:$e.creatorChoice,joinerChoice:$e.joinerChoice,creator:$e.creator,joiner:$e.joiner}),$e.type){case"game_state":if(console.log(" Game state update:",{phase:$e.phase,currentRound:$e.currentRound,currentPlayer:$e.currentPlayer,creatorWins:$e.creatorWins,joinerWins:$e.joinerWins,isFlipInProgress:$e.isFlipInProgress,creatorChoice:$e.creatorChoice,joinerChoice:$e.joinerChoice,creator:$e.creator,joiner:$e.joiner,coin:$e.coin}),console.log(" Coin data in game state:",$e.coin),z($e),$e.phase==="round_active"&&(oe&&$e.joinerChoice||le&&$e.creatorChoice)){const pt=(oe?$e.joinerChoice:$e.creatorChoice)==="heads"?"tails":"heads";R(pt.toUpperCase()),Y("#FF1493"),j(!0),setTimeout(()=>{j(!1)},1e3)}break;case"flip_animation":console.log(" Flip animation received:",$e),console.log(" Flip animation details:",{result:$e.result,duration:$e.duration,playerChoice:$e.playerChoice,playerAddress:$e.playerAddress,power:$e.power}),B($e),A(null);break;case"round_result":console.log(" Round result received:",$e),console.log(" Round result details:",{result:$e.result,isWinner:$e.isWinner,playerAddress:$e.playerAddress,playerChoice:$e.playerChoice,actualWinner:$e.actualWinner,creatorWins:$e.creatorWins,joinerWins:$e.joinerWins,roundNumber:$e.roundNumber,myAddress:c,isCreator:oe,isJoiner:le,flipperWon:$e.flipperWon,creatorChoice:$e.creatorChoice,joinerChoice:$e.joinerChoice}),A($e),k($e.result),B(null),setTimeout(()=>A(null),4e3);break;case"error":console.log(" Error received:",$e.error),o($e.error);break}}catch($e){console.error(" Error parsing WebSocket message:",$e)}},lt.onclose=()=>{console.log(" WebSocket disconnected"),T(!1),_(null),ue<Me?(ue++,console.log(` Attempting to reconnect (${ue}/${Me})...`),be=setTimeout(()=>{Ge()},2e3*ue)):o("Lost connection to game server. Please refresh the page.")},lt.onerror=It=>{console.error(" WebSocket error:",It)},lt},He=Ge();return()=>{be&&clearTimeout(be),He&&He.readyState===WebSocket.OPEN&&He.close()}},[t,c]),U.useEffect(()=>{if(!E)return;const ue=E.turnTimeLeft,Me=te.current;Me!==null&&Me>0&&(ue===0||ue===void 0)&&E.phase==="round_active"&&(console.log(" Auto-flip detected! Showing animation..."),ne(!0),setTimeout(()=>{ne(!1)},2e3)),te.current=ue},[E?.turnTimeLeft,E?.phase]),U.useEffect(()=>{(async()=>{try{m(!0);const Me=await fetch(`${d}/api/games/${t}`);if(Me.ok){const be=await Me.json(),Ge={id:be.id,creator:be.creator,joiner:be.joiner,nft:{contractAddress:be.nft_contract,tokenId:be.nft_token_id,name:be.nft_name,image:be.nft_image||"https://picsum.photos/300/300?random="+be.id,collection:be.nft_collection,chain:be.nft_chain},price:be.price_usd,priceUSD:be.price_usd,rounds:be.rounds,status:be.status,coin:be.coin?typeof be.coin=="string"?JSON.parse(be.coin):be.coin:null};console.log(" Loaded game coin data:",Ge.coin),Ge.coin&&(console.log(" Setting coin data from database:",Ge.coin),$(Ge.coin),H(Ge.coin.headsImage),L(Ge.coin.tailsImage)),h(Ge)}else throw new Error("Game not found")}catch(Me){console.error(" Error loading game:",Me),o("Game not found"),e("/")}finally{m(!1)}})()},[t]),U.useEffect(()=>{t&&f&&abe(t)},[t,f]),U.useEffect(()=>{f&&!ee&&!Et&&(console.log(" Setting NFT data from gameData:",f.nft),_t({contractAddress:f.nft.contractAddress,tokenId:f.nft.tokenId,name:f.nft.name,image:f.nft.image,collection:f.nft.collection,chain:f.nft.chain,metadata:{description:f.nft.description||"",attributes:f.nft.attributes||[]}}))},[f,ee,Et]);const ht=()=>{if(console.log(" handlePowerChargeStart called:",{isMyTurn:Ne,hasSocket:!!N,isCharging:J.current,gamePhase:E?.phase,currentPlayer:E?.currentPlayer,myAddress:c}),!Ne||!N||J.current){console.log(" Cannot start charging:",{isMyTurn:Ne,hasSocket:!!N,isCharging:J.current});return}if(E?.phase!=="round_active"&&E?.phase!=="choosing"){console.log(" Wrong phase for charging:",E?.phase);return}if(!(oe?E?.creatorChoice:E?.joinerChoice)){o("You must choose heads or tails first!");return}J.current=!0,N.send(JSON.stringify({type:"start_charging",gameId:t,address:c}))},Qe=()=>{!N||!J.current||(J.current=!1,N.send(JSON.stringify({type:"stop_charging",gameId:t,address:c})))},Ve=ue=>{if(console.log(" handlePlayerChoice called:",{choice:ue,hasSocket:!!N,hasGameState:!!E,gamePhase:E?.phase,isMyTurn:E?.currentPlayer===c,currentPlayer:E?.currentPlayer,myAddress:c,isCreator:oe,isJoiner:le}),!N||!E){console.log(" Cannot make choice - missing socket or gameState"),o("Connection error - please refresh");return}if(E.phase!=="choosing"){console.log(" Cannot make choice - wrong phase:",E.phase),o("Not in choosing phase");return}if(!(E.currentPlayer===c)){console.log(" Not my turn:",{currentPlayer:E.currentPlayer,myAddress:c,isCreator:oe,isJoiner:le}),o("Not your turn");return}R(ue.toUpperCase()),Y("#00FF41"),j(!0),setTimeout(()=>{j(!1)},1e3),console.log(" Sending player choice to server:",ue),N.send(JSON.stringify({type:"player_choice",gameId:t,address:c,choice:ue}))},gt=async()=>{console.log(" Join game attempt:",{hasGameData:!!f,hasWalletClient:!!u,hasAddress:!!c,isJoining:y,isFullyConnected:a,joinInProgress:v,joiningPlayer:x});const ue=St();if(ue.disabled){console.log(" Cannot join game:",ue.text),o(ue.text);return}try{g(!0),console.log(" Step 1: Starting join process...");const Me=await fetch(`${d}/api/games/${f.id}/start-join`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerAddress:c})});if(!Me.ok){const $e=await Me.json();throw new Error($e.error||"Failed to start join process")}N&&N.send(JSON.stringify({type:"start_join_process",gameId:t,address:c})),console.log(" Join process started, now processing payment..."),s("Processing payment...");const be=await ux.calculateETHAmount(f.priceUSD),Ge=ux.getFeeRecipient(),He=await ux.sendTransaction(u,Ge,be.ethAmount.toString());if(!He.success)throw N&&N.send(JSON.stringify({type:"cancel_join_process",gameId:t,address:c})),new Error("Transaction failed: "+He.error);s("Confirming payment...");let Xe=null,lt=0;for(;!Xe&&lt<30;){await new Promise($e=>setTimeout($e,2e3));try{if(Xe=await n.getTransactionReceipt({hash:He.hash}),Xe){console.log(" Payment confirmed:",Xe.transactionHash);break}}catch{}lt++}if(!Xe)throw N&&N.send(JSON.stringify({type:"cancel_join_process",gameId:t,address:c})),new Error("Transaction confirmation timeout");console.log(" Step 4: Completing join process...");const It=await fetch(`${d}/api/games/${f.id}/simple-join`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({joinerAddress:c,paymentTxHash:Xe.transactionHash,paymentAmount:f.priceUSD})});if(!It.ok){const $e=await It.json();throw new Error($e.error||"Failed to complete join")}h($e=>({...$e,joiner:c,status:"joined"})),N&&N.send(JSON.stringify({type:"join_game",gameId:t,role:"joiner",address:c,entryFeeHash:Xe.transactionHash})),i("Successfully joined the game!")}catch(Me){console.error(" Failed to join game:",Me),o("Failed to join: "+Me.message)}finally{g(!1)}},yt=async()=>{try{s("Claiming winnings... (Contract integration coming soon)"),setTimeout(()=>{i("Winnings claimed successfully!"),Be(!1),e("/")},2e3)}catch(ue){o("Failed to claim winnings: "+ue.message)}};U.useEffect(()=>{if(E?.phase==="game_complete"){const ue=E.winner===c;ut({isWinner:ue,flipResult:null,playerChoice:null,gameData:f,finalScore:{creatorWins:E.creatorWins,joinerWins:E.joinerWins}}),Be(!0)}},[E?.phase,E?.winner,c,f]),U.useEffect(()=>{f&&Ie(f.gameType==="nft-vs-nft")},[f]),U.useEffect(()=>{if(!N)return;const ue=Me=>{try{const be=JSON.parse(Me.data);switch(console.log(" Received WebSocket message:",be),be.type){case"game_state":z(be),be.joinInProgress!==void 0&&(b(be.joinInProgress),P(be.joiningPlayer));break;case"game_info":b(be.joinInProgress||!1),P(be.joiningPlayer||null);break;case"join_state_update":b(be.joinInProgress||!1),P(be.joiningPlayer||null),be.joiner&&be.joiner!==f?.joiner&&h(Ge=>({...Ge,joiner:be.joiner}));break;case"join_process_response":be.success?s("Join process started - processing payment..."):(o(be.error||"Failed to start join process"),g(!1));break;case"flip_animation":console.log(" Flip animation received:",be),B(be),A(null);break;case"round_result":console.log(" Round result received:",be),A(be),k(be.result),B(null),setTimeout(()=>A(null),4e3);break;case"nft_offer_received":console.log(" NFT offer received:",be.offer),Nt(Ge=>[...Ge,be.offer]),oe||s(`New NFT battle offer: ${be.offer.nft.name}`);break;case"nft_offer_accepted":console.log(" NFT offer accepted:",be.acceptedOffer),X(be.acceptedOffer),be.acceptedOffer.offererAddress===c&&s("Your NFT offer was accepted! Please pay to join the battle.");break;case"challenger_payment_confirmed":console.log(" Challenger payment confirmed"),ce(!0),i("Payment confirmed! Game starting...");break;case"error":console.log(" Error received:",be.error),o(be.error),g(!1);break;case"chat_message":console.log(" Chat message received:",be);break}}catch(be){console.error(" Error parsing WebSocket message:",be)}};return N.addEventListener("message",ue),()=>N.removeEventListener("message",ue)},[N,c,f,oe,o,s,i]);const Ct=ue=>{console.log(" NFT offer submitted:",ue)},gn=async ue=>{try{if(s("Accepting NFT challenge..."),!(await fetch(`${d}/api/games/${t}/accept-nft-offer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({creatorAddress:c,acceptedOffer:ue})})).ok)throw new Error("Failed to accept offer");i(`Challenge accepted! Waiting for ${ue.offererAddress.slice(0,6)}... to pay.`),X(ue)}catch(Me){console.error(" Error accepting offer:",Me),o("Failed to accept offer: "+Me.message)}};U.useEffect(()=>{f?.gameType==="nft-vs-nft"&&(console.log(" NFT vs NFT game detected"),!oe&&!Ye?.length&&Pe(!0))},[f,oe,Ye]);const q=ue=>{console.log("NFT offer accepted:",ue),X(ue),Pe(!1),i("NFT offer accepted!")},se=()=>{console.log("NFT offer rejected"),Pe(!1),s("NFT offer rejected")},ge=ue=>{console.log("NFT verification complete:",ue),ot(ue),ft(!1),i("NFT verified successfully!")},ve=()=>De?F(ag,{children:K(lg,{children:[F(dg,{onClick:()=>Pe(!1),children:""}),F(cg,{children:F(As,{children:"NFT Offer"})}),F(ug,{children:F(oN,{gameId:t,onOfferAccepted:q,onOfferRejected:se})})]})}):null,de=()=>Ke?F(ag,{children:K(lg,{children:[F(dg,{onClick:()=>ft(!1),children:""}),F(cg,{children:F(As,{children:"NFT Verification"})}),F(ug,{children:F(Q1e,{nft:_e,onVerificationComplete:ge})})]})}):null,Ue=()=>!rt||!_e?null:F(ag,{children:K(lg,{children:[F(dg,{onClick:()=>ae(!1),children:""}),F(cg,{children:F(As,{children:"NFT Details"})}),K(ug,{children:[F(Wx,{src:_e.image,alt:_e.name}),K("div",{children:[F("h3",{children:_e.name}),K("p",{children:["Collection: ",_e.collection]}),K("p",{children:["Token ID: ",_e.tokenId]}),F(aN,{href:_e.openseaUrl,target:"_blank",rel:"noopener noreferrer",children:"View on OpenSea"})]})]}),F(sN,{children:F(dr,{onClick:()=>ae(!1),children:"Close"})})]})}),Je=()=>!it||!Le?null:F(ag,{children:K(lg,{children:[F(dg,{onClick:()=>ye(!1),children:""}),F(cg,{children:F(As,{children:"Review NFT Offer"})}),F(ug,{children:K("div",{children:[F("h3",{children:"NFT Details"}),F(Wx,{src:Le.image,alt:Le.name}),K("p",{children:["Name: ",Le.name]}),K("p",{children:["Collection: ",Le.collection]}),K("p",{children:["Token ID: ",Le.tokenId]}),F(aN,{href:Le.openseaUrl,target:"_blank",rel:"noopener noreferrer",children:"View on OpenSea"})]})}),K(sN,{children:[F(dr,{onClick:()=>{q(Le),ye(!1)},children:"Accept Offer"}),F(dr,{onClick:()=>{se(),ye(!1)},children:"Reject Offer"})]})]})});return a?p?F(Dr,{theme:tt,children:F(Wi,{children:F(Vi,{children:F("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:F(p1,{})})})})}):K(Dr,{theme:tt,children:[F(K1e,{ref:er,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",onError:ue=>{console.error("Video error:",ue),ie(!0)},children:F("source",{src:Ze?D1e:ey,type:"video/webm"})}),pe&&F(X1e,{color:Q,isMobile:Ze,children:S}),Z&&K(Y1e,{isMobile:Ze,children:["FINAL ROUND",F("br",{}),"AUTOFLIP"]}),F(Wi,{style:{position:"relative",minHeight:"100vh",background:"transparent !important",zIndex:1},children:K(Vi,{children:[console.log(" Screen size debug:",{isMobileScreen:Ze,windowWidth:window.innerWidth}),Ze?K(J1e,{children:[K(obe,{children:[K(Qx,{onClick:()=>me(!he),children:[F("span",{children:""})," Info"]}),K(Qx,{onClick:()=>nt(!Ce),children:[F("span",{children:""})," Chat"]}),!Te&&(()=>{const ue=St();return F(Qx,{isJoinButton:!0,onClick:gt,disabled:ue.disabled,style:{background:ue.disabled?"rgba(100, 100, 100, 0.5)":ue.color==="green"?"linear-gradient(45deg, #00FF41, #00BF31)":ue.color==="yellow"?"linear-gradient(45deg, #FFD700, #FFA500)":ue.color==="blue"?"linear-gradient(45deg, #00BFFF, #1E90FF)":"rgba(100, 100, 100, 0.5)",opacity:ue.disabled?.6:1},children:ue.text})})()]}),F(cN,{isOpen:he,children:K("div",{style:{marginBottom:"0.5rem"},children:[F("h3",{style:{color:tt.colors.neonYellow,marginBottom:"0.25rem",fontSize:"1rem"},children:"Game Info"}),K("div",{style:{color:tt.colors.textSecondary},children:[F("div",{style:{padding:"0.5rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",marginBottom:"0.5rem"},children:K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("span",{style:{fontSize:"0.875rem"},children:"Cost:"}),K("span",{style:{color:tt.colors.neonGreen,fontWeight:"bold",fontSize:"0.875rem"},children:["$",(f?.priceUSD||0).toFixed(2)]})]})}),F("div",{style:{padding:"0.5rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",marginBottom:"0.5rem"},children:K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("span",{style:{fontSize:"0.875rem"},children:"Contract:"}),F("span",{onClick:()=>{f?.nft?.contractAddress&&(navigator.clipboard.writeText(f.nft.contractAddress),i("Contract address copied to clipboard!"))},style:{color:tt.colors.textPrimary,fontFamily:"monospace",fontSize:"0.8rem",cursor:"pointer",padding:"0.25rem 0.5rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"0.25rem",transition:"all 0.2s ease"},onMouseOver:ue=>{ue.currentTarget.style.background="rgba(0, 0, 0, 0.4)",ue.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.2)"},onMouseOut:ue=>{ue.currentTarget.style.background="rgba(0, 0, 0, 0.3)",ue.currentTarget.style.border="none"},children:f?.nft?.contractAddress?`${f.nft.contractAddress.slice(0,6)}...${f.nft.contractAddress.slice(-4)}`:"Unknown"})]})}),f?.nft&&K(ya,{children:[K("div",{style:{margin:"0.5rem 0",padding:"0.5rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[F("img",{src:f.nft.image,alt:f.nft.name,style:{width:"100%",maxWidth:"120px",height:"auto",borderRadius:"0.25rem",margin:"0 auto",display:"block"}}),F("p",{style:{marginTop:"0.25rem",textAlign:"center",fontSize:"0.8rem",margin:"0.25rem 0"},children:f.nft.name}),K("p",{style:{fontSize:"0.75rem",opacity:.8,margin:"0.125rem 0"},children:["Collection: ",f.nft.collection]}),K("p",{style:{fontSize:"0.75rem",opacity:.8,margin:"0.125rem 0"},children:["Token ID: ",f.nft.tokenId]})]}),K("div",{style:{display:"flex",gap:"0.25rem",marginTop:"0.25rem",justifyContent:"center"},children:[K(dr,{onClick:()=>window.open(`https://opensea.io/assets/${f.nft.contract}/${f.nft.tokenId}`,"_blank"),style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.25rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:[F("img",{src:"/images/opensea.png",alt:"OpenSea",style:{width:"12px",height:"12px",objectFit:"contain"}}),"OpenSea"]}),K(dr,{onClick:()=>window.open(`https://etherscan.io/token/${f.nft.contract}?a=${f.nft.tokenId}`,"_blank"),style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.25rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:[F("span",{style:{fontSize:"0.8rem"},children:""}),"Etherscan"]})]})]})]})]})}),F(cN,{isOpen:Ce,children:K("div",{style:{marginBottom:"1rem"},children:[F("h3",{style:{color:tt.colors.neonYellow,marginBottom:"0.5rem"},children:"Game Chat"}),F(Gx,{gameId:t,socket:N,connected:D,isMobile:!0})]})}),F(lN,{style:{background:oe?"rgba(255, 20, 147, 0.1)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${oe?"#FF1493":"rgba(255, 255, 255, 0.1)"}`,padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"12px",height:"60px",width:"100%",animation:Ne&&oe&&(E?.phase==="choosing"||E?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:E?.creatorProfile?.profilePicture?`url(${E.creatorProfile.profilePicture})`:"linear-gradient(45deg, #FF1493, #FF69B4)",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgba(255, 255, 255, 0.3)",fontSize:"1rem",fontWeight:"bold",color:"#fff",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:!E?.creatorProfile?.profilePicture&&"P1"}),F("div",{style:{display:"flex",gap:"0.25rem"},children:[1,2,3,4,5].map(ue=>{const Me=ue,be=E?.currentRound||1;let Ge="pending";if(Me<be){const lt=E?.roundResults?.[Me-1];lt==="creator"?Ge="creator_won":lt==="joiner"&&(Ge="joiner_won")}else Me===be&&(Ge="current");const He=()=>{switch(Ge){case"current":return"#FFFF00";case"creator_won":return"#00FF41";case"joiner_won":return"#FF1493";default:return"rgba(255, 255, 255, 0.1)"}},Xe=()=>{switch(Ge){case"current":return"#000";case"creator_won":return"#000";case"joiner_won":return"#000";default:return"#666"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:He(),border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"bold",color:Xe(),boxShadow:Ge==="current"?"0 0 10px #FFFF00":Ge==="creator_won"?"0 0 8px #00FF41":Ge==="joiner_won"?"0 0 8px #FF1493":"none",transition:"all 0.3s ease",transform:Ge==="current"?"scale(1.1)":"scale(1)",animation:Ge==="current"?"pulse 2s infinite":"none"},children:ue},`p1-round-${ue}`)})})]})}),F("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"0.25rem auto",padding:"0.25rem",width:"100%",textAlign:"center"},children:F(B1e,{isFlipping:!!W,flipResult:W?W.result:w?.result||C,flipDuration:W?.duration,onPowerCharge:ht,onPowerRelease:Qe,isPlayerTurn:Ne,isCharging:E?.chargingPlayer===c,chargingPlayer:E?.chargingPlayer,creatorPower:E?.creatorPower||0,joinerPower:E?.joinerPower||0,creatorChoice:E?.creatorChoice,joinerChoice:E?.joinerChoice,isCreator:oe,size:187,customHeadsImage:I,customTailsImage:G})}),(()=>{const ue=E?.creatorChoice,Me=E?.joinerChoice;if(ue||Me){let be;return oe?be=ue:le&&(be=Me),be||(oe&&Me?be=Me==="heads"?"tails":"heads":le&&ue&&(be=ue==="heads"?"tails":"heads")),be?F("div",{style:{textAlign:"center",marginBottom:"1rem",padding:"0.5rem",background:"rgba(0, 255, 65, 0.1)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"0.75rem",animation:"pulse 2s ease-in-out infinite"},children:K("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#00FF41",textShadow:"0 0 10px rgba(0, 255, 65, 0.5)"},children:["You're ",be.toUpperCase()]})}):null}return null})(),F(lN,{style:{background:le?"rgba(0, 191, 255, 0.1)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${le?"#00BFFF":"rgba(255, 255, 255, 0.1)"}`,padding:"0.5rem",marginBottom:"0.5rem",marginTop:"-15px",borderRadius:"12px",height:"60px",width:"100%",animation:Ne&&le&&(E?.phase==="choosing"||E?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:E?.joinerProfile?.profilePicture?`url(${E.joinerProfile.profilePicture})`:"linear-gradient(45deg, #00BFFF, #87CEEB)",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgba(255, 255, 255, 0.3)",fontSize:"1rem",fontWeight:"bold",color:"#fff",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:!E?.joinerProfile?.profilePicture&&"P2"}),F("div",{style:{display:"flex",gap:"0.25rem"},children:[1,2,3,4,5].map(ue=>{const Me=ue,be=E?.currentRound||1;let Ge="pending";if(Me<be){const lt=E?.roundResults?.[Me-1];lt==="creator"?Ge="creator_won":lt==="joiner"&&(Ge="joiner_won")}else Me===be&&(Ge="current");const He=()=>{switch(Ge){case"current":return"#FFFF00";case"creator_won":return"#FF1493";case"joiner_won":return"#00FF41";default:return"rgba(255, 255, 255, 0.1)"}},Xe=()=>{switch(Ge){case"current":return"#000";case"creator_won":return"#000";case"joiner_won":return"#000";default:return"#666"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:He(),border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"bold",color:Xe(),boxShadow:Ge==="current"?"0 0 10px #FFFF00":Ge==="creator_won"?"0 0 8px #FF1493":Ge==="joiner_won"?"0 0 8px #00FF41":"none",transition:"all 0.3s ease",transform:Ge==="current"?"scale(1.1)":"scale(1)",animation:Ge==="current"?"pulse 2s infinite":"none"},children:ue},`p2-round-${ue}`)})})]})}),F("div",{style:{marginBottom:"1rem",padding:"0.5rem"},children:F(nN,{creatorPower:E?.creatorPower||0,joinerPower:E?.joinerPower||0,currentPlayer:E?.currentPlayer,creator:E?.creator,joiner:E?.joiner,chargingPlayer:E?.chargingPlayer,gamePhase:E?.phase,isMyTurn:Ne,playerChoice:oe?E?.creatorChoice:E?.joinerChoice,onChoiceSelect:Ve})}),F(Kx,{children:K(Z1e,{children:[f?.nftImage&&F(Wx,{src:f.nftImage,alt:"NFT"}),K(ebe,{children:[K(Vx,{children:[F($x,{children:"Collection:"}),F(qx,{children:f?.collectionName||"Unknown"})]}),K(Vx,{children:[F($x,{children:"Token ID:"}),F(qx,{children:f?.tokenId||"Unknown"})]}),K(Vx,{children:[F($x,{children:"Contract:"}),F(qx,{children:f?.contractAddress?`${f.contractAddress.slice(0,6)}...${f.contractAddress.slice(-4)}`:"Unknown"})]})]}),K(ibe,{children:[F(dr,{onClick:()=>window.open(uN(f?.chain),"_blank"),style:{flex:1},children:"View on Explorer"}),K(dr,{onClick:()=>window.open(dN(f?.chain),"_blank"),style:{flex:1},children:[F("img",{src:"/images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain",marginRight:"0.4rem"}}),"View on OpenSea"]})]})]})}),F(Kx,{children:F(tbe,{children:F("div",{style:{fontSize:"0.85rem",color:E?.currentPlayer===c?tt.colors.neonGreen:tt.colors.textSecondary,textAlign:"center",padding:"0.5rem",background:E?.currentPlayer===c?"rgba(0, 255, 65, 0.1)":"transparent",borderRadius:"0.5rem"},children:E?.currentPlayer===c?"Your Turn":E?.phase==="waiting"?"Waiting for opponent":"Waiting"})})}),F(Kx,{children:F(nbe,{children:F(Gx,{gameId:t})})})]}):K(rbe,{children:[K("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",position:"relative"},children:[K("div",{style:{marginBottom:"1rem",padding:"1rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[K("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",padding:"0.75rem",background:oe?"rgba(255, 20, 147, 0.1)":"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:`2px solid ${oe?tt.colors.neonPink:"rgba(255, 255, 255, 0.1)"}`,height:"60px",animation:Ne&&oe&&(E?.phase==="choosing"||E?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:[F(bv,{address:f?.creator,size:40,isClickable:oe,showUploadIcon:oe,profileData:E?.creatorProfile,style:{borderRadius:"12px",border:`2px solid ${tt.colors.neonPink}`}}),F("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center"},children:[...Array(f?.rounds||5)].map((ue,Me)=>{const be=Me+1,Ge=E?.currentRound||1;E?.creatorWins,E?.joinerWins;let He="pending";if(be<Ge){const $e=E?.roundResults?.[be-1];$e==="creator"?He="creator_won":$e==="joiner"&&(He="joiner_won")}else be===Ge&&(He="current");const Xe=()=>{switch(He){case"current":return"#FFFF00";case"creator_won":return"#00FF41";case"joiner_won":return"#FF1493";default:return"rgba(255, 255, 255, 0.2)"}},lt=()=>{switch(He){case"current":return"0 0 10px #FFFF00, 0 0 20px #FFFF00";case"creator_won":return"0 0 10px #00FF41, 0 0 20px #00FF41";case"joiner_won":return"0 0 10px #FF1493, 0 0 20px #FF1493";default:return"none"}},It=()=>{switch(He){case"current":return"#000000";case"creator_won":return"#000000";case"joiner_won":return"#000000";default:return"#ffffff"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:Xe(),opacity:1,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:It(),boxShadow:lt(),transition:"all 0.3s ease",transform:He==="current"?"scale(1.1)":"scale(1)",animation:He==="current"?"pulse 2s infinite":"none"},children:be},Me)})})]}),E?.turnTimeLeft!==void 0&&K("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, rgba(255, 255, 0, 0.2), rgba(255, 215, 0, 0.1))",borderRadius:"1rem",border:`2px solid ${E.turnTimeLeft<=5?"#FF1493":"#FFFF00"}`,textAlign:"center",marginBottom:"1rem",boxShadow:E.turnTimeLeft<=5?"0 0 30px rgba(255, 20, 147, 0.6), inset 0 0 20px rgba(255, 20, 147, 0.3)":"0 0 30px rgba(255, 255, 0, 0.6), inset 0 0 20px rgba(255, 255, 0, 0.3)",animation:E.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[F("div",{style:{color:E.turnTimeLeft<=5?"#FF1493":"#FFFF00",fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"2px"},children:"Turn Timer"}),K("div",{style:{fontSize:"3rem",fontWeight:"bold",color:E.turnTimeLeft<=5?"#FF1493":"#FFFF00",textShadow:E.turnTimeLeft<=5?"0 0 20px rgba(255, 20, 147, 0.8)":"0 0 20px rgba(255, 255, 0, 0.8)",fontFamily:"monospace"},children:[E.turnTimeLeft,"s"]}),E?.currentPlayer&&F("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.8)",marginTop:"0.5rem"},children:E.currentPlayer===c?"Your Turn":"Opponent's Turn"})]}),K("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",background:le?"rgba(0, 191, 255, 0.1)":"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:`2px solid ${le?tt.colors.neonBlue:"rgba(255, 255, 255, 0.1)"}`,height:"60px",animation:Ne&&le&&(E?.phase==="choosing"||E?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:[F(bv,{address:f?.joiner,size:40,isClickable:le,showUploadIcon:le,profileData:E?.joinerProfile,style:{borderRadius:"12px",border:`2px solid ${tt.colors.neonBlue}`}}),F("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center"},children:[...Array(f?.rounds||5)].map((ue,Me)=>{const be=Me+1,Ge=E?.currentRound||1;E?.creatorWins,E?.joinerWins;let He="pending";if(be<Ge){const $e=E?.roundResults?.[be-1];$e==="creator"?He="creator_won":$e==="joiner"&&(He="joiner_won")}else be===Ge&&(He="current");const Xe=()=>{switch(He){case"current":return"#FFFF00";case"creator_won":return"#FF1493";case"joiner_won":return"#00FF41";default:return"rgba(255, 255, 255, 0.2)"}},lt=()=>{switch(He){case"current":return"0 0 10px #FFFF00, 0 0 20px #FFFF00";case"creator_won":return"0 0 10px #FF1493, 0 0 20px #FF1493";case"joiner_won":return"0 0 10px #00FF41, 0 0 20px #00FF41";default:return"none"}},It=()=>{switch(He){case"current":return"#000000";case"creator_won":return"#000000";case"joiner_won":return"#000000";default:return"#ffffff"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:Xe(),opacity:1,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:It(),boxShadow:lt(),transition:"all 0.3s ease",transform:He==="current"?"scale(1.1)":"scale(1)",animation:He==="current"?"pulse 2s infinite":"none"},children:be},Me)})})]})]}),K("div",{style:{padding:"1rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",textAlign:"center"},children:[K("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{color:tt.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Game ID"}),K("div",{style:{color:tt.colors.textPrimary,fontWeight:"bold",fontSize:"1.125rem"},children:["#",f?.id?.slice(-6).toUpperCase()]})]}),K("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{color:tt.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Entry Fee"}),K("div",{style:{color:tt.colors.textPrimary,fontWeight:"bold",fontSize:"1.125rem"},children:["$",f?.priceUSD?.toFixed(2)]})]}),K("div",{children:[F("div",{style:{color:tt.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Rounds"}),K("div",{style:{color:tt.colors.textPrimary,fontWeight:"bold",fontSize:"1.125rem"},children:["Best of ",f?.rounds]})]})]}),F("div",{style:{marginTop:"2rem"},children:F(Gx,{gameId:t,socket:N,connected:D})})]}),K("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},children:[F("div",{id:"desktop-coin-container",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"440px",marginBottom:"2rem",marginLeft:"auto",marginRight:"auto",position:"relative",padding:"20px"},children:F(k1e,{isFlipping:!!W,flipResult:W?W.result:w?.result||C,flipDuration:W?.duration,onPowerCharge:ht,onPowerRelease:Qe,isPlayerTurn:Ne,isCharging:E?.chargingPlayer===c,chargingPlayer:E?.chargingPlayer,gamePhase:E?.phase,creatorPower:E?.creatorPower||0,joinerPower:E?.joinerPower||0,creatorChoice:E?.creatorChoice,joinerChoice:E?.joinerChoice,isCreator:oe,size:440,customHeadsImage:I,customTailsImage:G})}),(()=>{const ue=E?.creatorChoice,Me=E?.joinerChoice;if(ue||Me){let be;return oe?be=ue:le&&(be=Me),be||(oe&&Me?be=Me==="heads"?"tails":"heads":le&&ue&&(be=ue==="heads"?"tails":"heads")),be?F("div",{style:{textAlign:"center",marginBottom:"1.5rem",padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"1rem",animation:"pulse 2s ease-in-out infinite"},children:K("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#00FF41",textShadow:"0 0 15px rgba(0, 255, 65, 0.5)"},children:["You're ",be.toUpperCase()]})}):null}return null})(),F(nN,{creatorPower:E?.creatorPower||0,joinerPower:E?.joinerPower||0,currentPlayer:E?.currentPlayer,creator:E?.creator,joiner:E?.joiner,chargingPlayer:E?.chargingPlayer,gamePhase:E?.phase,isMyTurn:Ne,playerChoice:oe?E?.creatorChoice:E?.joinerChoice,onChoiceSelect:Ve})]}),K("div",{style:{position:"relative",width:"100%",maxWidth:"600px",margin:"0 auto",padding:"2rem",background:"linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(0, 0, 0, 0.3) 100%)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"1.5rem",backdropFilter:"blur(10px)"},children:[ee?.image&&F("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:F("img",{src:ee.image,alt:"NFT",style:{width:"200px",height:"200px",borderRadius:"1rem",objectFit:"cover",border:"4px solid rgba(0, 255, 65, 0.6)",boxShadow:"0 0 30px rgba(0, 255, 65, 0.5), inset 0 0 30px rgba(0, 255, 65, 0.3)",animation:"nftBananaGlow 2s ease-in-out infinite"}})}),K("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",padding:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"1.5rem"},children:[F("div",{style:{color:tt.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.75rem",textAlign:"center"},children:"Share"}),K("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[F("button",{onClick:()=>{const ue=window.location.href;window.open(`https://twitter.com/intent/tweet?text=Join my game of Crypto Flipz! ${ue}`,"_blank")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease"},children:F("span",{style:{fontSize:"1rem"},children:""})}),F("button",{onClick:()=>{const ue=window.location.href;window.open(`https://t.me/share/url?url=${encodeURIComponent(ue)}&text=Join my game of Crypto Flipz!`,"_blank")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease"},children:F("span",{style:{fontSize:"1rem"},children:""})}),F("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),i("Game link copied to clipboard!")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease"},children:F("span",{style:{fontSize:"1rem"},children:""})})]})]}),ee&&K("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[F("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"1rem",color:tt.colors.neonYellow},children:ee.name}),K("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Collection"}),F("div",{style:{fontWeight:"bold",fontSize:"1rem"},children:ee.collection})]}),K("div",{style:{marginBottom:"1.5rem"},children:[F("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Token ID"}),K("div",{style:{fontWeight:"bold",fontSize:"1rem"},children:["#",ee.tokenId]})]}),K("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[F("a",{href:`${uN(ee?.chain)}/token/${ee.contractAddress}?a=${ee.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease"},children:" Explorer"}),K("a",{href:`${dN(ee?.chain)}/${ee.contractAddress}/${ee.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease"},children:[F("img",{src:"/images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain"}}),"OpenSea"]})]}),K("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Contract Address"}),K("div",{onClick:()=>{navigator.clipboard.writeText(ee.contractAddress)},style:{fontSize:"0.9rem",fontFamily:"monospace",background:"rgba(0, 0, 0, 0.3)",padding:"0.5rem",borderRadius:"0.25rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease"},onMouseOver:ue=>{ue.currentTarget.style.background="rgba(0, 0, 0, 0.4)",ue.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.2)"},onMouseOut:ue=>{ue.currentTarget.style.background="rgba(0, 0, 0, 0.3)",ue.currentTarget.style.border="none"},children:[K("span",{children:[ee.contractAddress?.slice(0,6),"...",ee.contractAddress?.slice(-4)]}),F("span",{style:{opacity:.6},children:""})]})]})]}),!Te&&F("div",{style:{marginTop:"2rem",textAlign:"center"},children:(()=>{const ue=St(),Me=()=>{switch(ue.color){case"green":return"linear-gradient(45deg, #00FF41, #00BF31)";case"yellow":return"linear-gradient(45deg, #FFD700, #FFA500)";case"blue":return"linear-gradient(45deg, #00BFFF, #1E90FF)";case"red":return"linear-gradient(45deg, #FF4444, #CC0000)";default:return"rgba(100, 100, 100, 0.5)"}};return F("button",{onClick:gt,disabled:ue.disabled,style:{background:ue.disabled?"rgba(100, 100, 100, 0.5)":Me(),color:"#fff",border:"none",padding:"1.5rem 3rem",borderRadius:"1rem",fontSize:"1.3rem",fontWeight:"bold",cursor:ue.disabled?"not-allowed":"pointer",width:"100%",transition:"all 0.3s ease",opacity:ue.disabled?.6:1,boxShadow:ue.disabled?"none":"0 0 20px rgba(0, 255, 65, 0.3)"},children:ue.text})})()})]})]}),we&&E?.phase==="waiting"&&F("div",{style:{gridColumn:"1 / -1",marginTop:"2rem"},children:F(oN,{gameId:t,gameData:f,isCreator:oe,socket:N,connected:D,offeredNFTs:Ye,onOfferSubmitted:Ct,onOfferAccepted:gn})}),we&&et&&E?.phase==="waiting"&&K("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",textAlign:"center",padding:"1rem",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem"},children:[F("h3",{style:{color:"#FFD700",marginBottom:"0.5rem"},children:" BATTLE ACCEPTED!"}),K("p",{style:{color:"white",margin:0},children:["Waiting for ",et.offererAddress.slice(0,6),"...",et.offererAddress.slice(-4)," to complete payment..."]}),K("div",{style:{display:"flex",justifyContent:"center",gap:"2rem",marginTop:"1rem",alignItems:"center"},children:[K("div",{style:{textAlign:"center"},children:[F("img",{src:f.nft.image,alt:f.nft.name,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover",marginBottom:"0.5rem"}}),F("div",{style:{fontSize:"0.8rem",color:"white"},children:f.nft.name})]}),F("div",{style:{fontSize:"2rem",color:"#FFD700",animation:"pulse 2s infinite"},children:""}),K("div",{style:{textAlign:"center"},children:[F("img",{src:et.nft.image,alt:et.nft.name,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover",marginBottom:"0.5rem"}}),F("div",{style:{fontSize:"0.8rem",color:"white"},children:et.nft.name})]})]})]}),!Te&&E?.phase&&E.phase!=="waiting"&&K("div",{style:{marginTop:"2rem",textAlign:"center",padding:"1rem",background:"rgba(0, 191, 255, 0.1)",border:"1px solid rgba(0, 191, 255, 0.3)",borderRadius:"1rem"},children:[F("p",{style:{color:"#00BFFF",fontWeight:"bold",margin:0},children:" GAME IN PROGRESS"}),F("p",{style:{color:"#888",fontSize:"0.875rem",margin:"0.5rem 0 0 0"},children:"Join a game to see the action!"})]}),E?.phase==="choosing"&&F("div",{style:{textAlign:"center",marginBottom:"2rem"},children:Ne?K("div",{style:{padding:"1rem",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:tt.colors.textSecondary,marginTop:"0.5rem"},children:"Select heads or tails in your player box, then you can charge power and flip!"}),E.turnTimeLeft!==void 0&&K("div",{style:{color:E.turnTimeLeft<=5?tt.colors.statusError:tt.colors.neonYellow,fontWeight:"bold",fontSize:"1.2rem",marginTop:"0.5rem",animation:E.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[E.turnTimeLeft,"s to choose"]})]}):K("div",{style:{padding:"1rem",background:"rgba(255, 165, 0, 0.1)",border:"1px solid rgba(255, 165, 0, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:tt.colors.statusWarning,fontWeight:"bold",fontSize:"1.2rem"},children:" Opponent is Choosing"}),K("div",{style:{color:tt.colors.textSecondary,marginTop:"0.5rem"},children:["Waiting for ",oe?"Player 2":"Player 1"," to choose heads or tails"]}),E.turnTimeLeft!==void 0&&K("div",{style:{color:E.turnTimeLeft<=5?tt.colors.statusError:tt.colors.neonYellow,fontWeight:"bold",fontSize:"1.2rem",marginTop:"0.5rem",animation:E.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[E.turnTimeLeft,"s remaining"]})]})}),E?.phase==="round_active"&&F("div",{style:{textAlign:"center",marginBottom:"2rem"},children:Ne?K("div",{style:{padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"1px solid rgba(0, 255, 65, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:tt.colors.statusSuccess,fontWeight:"bold",fontSize:"1.2rem"},children:" YOUR TURN TO FLIP!"}),K("div",{style:{color:tt.colors.textSecondary,marginTop:"0.5rem"},children:["You chose ",oe?E.creatorChoice?.toUpperCase():E.joinerChoice?.toUpperCase()," - Hold coin to charge power, release to flip!"]})]}):K("div",{style:{padding:"1rem",background:"rgba(255, 165, 0, 0.1)",border:"1px solid rgba(255, 165, 0, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:tt.colors.statusWarning,fontWeight:"bold",fontSize:"1.2rem"},children:" Opponent's Turn"}),K("div",{style:{color:tt.colors.textSecondary,marginTop:"0.5rem"},children:["They chose ",oe?E.joinerChoice?.toUpperCase():E.creatorChoice?.toUpperCase()," and are charging power to flip"]})]})}),w&&K("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,background:"rgba(0, 0, 0, 0.95)",padding:"2rem",borderRadius:"2rem",border:`4px solid ${w.actualWinner===c?"#00FF41":"#FF1493"}`,textAlign:"center",width:"90%",maxWidth:"600px",pointerEvents:"none",boxShadow:`0 0 50px ${w.actualWinner===c?"rgba(0, 255, 65, 0.5)":"rgba(255, 20, 147, 0.5)"}`},children:[F("div",{style:{position:"relative",width:"100%",height:"200px",marginBottom:"1rem",borderRadius:"1rem",overflow:"hidden"},children:F("video",{autoPlay:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"1rem"},src:w.actualWinner===c?"images/video/LoseWin/final lose win/win.webm":"images/video/LoseWin/final lose win/lose.webm",onError:ue=>{console.error("Video playback error:",ue),console.log("Video source:",ue.target.src),ue.target.src=w.actualWinner===c?"/images/video/LoseWin/final lose win/win.webm":"/images/video/LoseWin/final lose win/lose.webm"},onLoadedData:ue=>{console.log("Video loaded successfully"),ue.target.play().catch(Me=>console.error("Play error:",Me))}},w.actualWinner===c?"win":"lose")}),F("div",{style:{fontSize:"2.5rem",color:"white",fontWeight:"bold",marginBottom:"1rem",pointerEvents:"auto",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)"},children:w.result==="heads"?" HEADS":" TAILS"}),K("div",{style:{fontSize:"1.2rem",color:"rgba(255, 255, 255, 0.9)",marginBottom:"1rem",pointerEvents:"auto",padding:"0.5rem 1rem",background:"rgba(255, 255, 255, 0.1)",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:["You chose: ",F("strong",{children:((oe?E?.creatorChoice:E?.joinerChoice)||w?.playerChoice)?.toUpperCase()||"UNKNOWN"})]}),F("div",{style:{fontSize:"1.8rem",color:(oe?E?.creatorChoice:E?.joinerChoice)===w.result?"#00FF41":"#FF1493",fontWeight:"bold",marginBottom:"1rem",pointerEvents:"auto",textShadow:`0 0 15px ${(oe?E?.creatorChoice:E?.joinerChoice)===w.result?"rgba(0, 255, 65, 0.7)":"rgba(255, 20, 147, 0.7)"}`,animation:"pulse 1s infinite"},children:(oe?E?.creatorChoice:E?.joinerChoice)===w.result?" YOU WON!":" YOU LOST!"})]}),F(lz,{isVisible:Ae&&E?.phase==="game_complete",isWinner:Re?.isWinner||!1,flipResult:Re?.flipResult,playerChoice:Re?.playerChoice,gameData:Re?.gameData,onClose:()=>Be(!1),onClaimWinnings:yt}),E?.winner&&F("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"2rem",backdropFilter:"blur(10px)"},children:K("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(25, 20, 0, 0.9) 100%)",border:"2px solid #FFD700",borderRadius:"1rem",padding:"2rem",textAlign:"center",maxWidth:Ze?"400px":"700px",width:Ze?"80%":"140%",boxShadow:"0 0 30px rgba(255, 215, 0, 0.3)"},children:[F("h2",{style:{color:"#FFD700",marginBottom:"1rem"},children:" You Won! "}),K("p",{style:{color:"#fff",marginBottom:"2rem"},children:["Congratulations! You've won ",E?.potAmount||0," ",E?.currency||"ETH"]}),K("div",{style:{display:"flex",gap:"1rem",width:"100%",marginBottom:"1rem"},children:[F("button",{onClick:yt,style:{flex:1,background:"linear-gradient(135deg, #00FF41, #39FF14)",color:"#000",border:"none",padding:"1rem",borderRadius:"0.8rem",fontSize:"1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(0, 255, 65, 0.4)",transition:"all 0.3s ease",textTransform:"uppercase"},onMouseOver:ue=>{ue.currentTarget.style.transform="scale(1.05)",ue.currentTarget.style.boxShadow="0 0 30px rgba(0, 255, 65, 0.6)"},onMouseOut:ue=>{ue.currentTarget.style.transform="scale(1)",ue.currentTarget.style.boxShadow="0 0 20px rgba(0, 255, 65, 0.4)"},children:" COLLECT"}),F("button",{onClick:()=>e("/"),style:{flex:1,background:"linear-gradient(135deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"1rem",borderRadius:"0.8rem",fontSize:"1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(255, 20, 147, 0.4)",transition:"all 0.3s ease",textTransform:"uppercase"},onMouseOver:ue=>{ue.currentTarget.style.transform="scale(1.05)",ue.currentTarget.style.boxShadow="0 0 30px rgba(255, 20, 147, 0.6)"},onMouseOut:ue=>{ue.currentTarget.style.transform="scale(1)",ue.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.4)"},children:" HOME"})]}),F("p",{style:{color:"#ff4444",fontSize:"0.9rem",marginTop:"1rem",border:"1px solid rgba(255, 68, 68, 0.3)",padding:"0.5rem",borderRadius:"0.5rem",background:"rgba(255, 68, 68, 0.1)"},children:" Warning: If you leave this screen without claiming, you will lose your winnings."})]})}),f?.gameType==="nft-vs-nft"&&!oe&&!Ye?.length&&F(dr,{colorScheme:"green",size:"lg",onClick:()=>Pe(!0),mb:4,children:"Offer NFT to Battle"}),f?.gameType==="nft-vs-nft"&&!oe&&offerStatus==="pending"&&F(Text,{color:"neonYellow",mb:4,children:"Your NFT offer is pending review..."}),f?.gameType==="nft-vs-nft"&&!oe&&offerStatus==="accepted"&&F(dr,{colorScheme:"green",size:"lg",onClick:gt,mb:4,children:"Join Battle"})]})}),F("style",{children:`
          @keyframes buttonPulse {
            0% {
              box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            }
            50% {
              box-shadow: 0 0 25px rgba(255, 215, 0, 0.6);
            }
            100% {
              box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            }
          }

          @keyframes nftBananaGlow {
            0% {
              box-shadow: 0 0 30px rgba(255, 255, 0, 0.5), inset 0 0 30px rgba(255, 255, 0, 0.3);
            }
            50% {
              box-shadow: 0 0 50px rgba(255, 255, 0, 0.7), inset 0 0 50px rgba(255, 255, 0, 0.4);
            }
            100% {
              box-shadow: 0 0 30px rgba(255, 255, 0, 0.5), inset 0 0 30px rgba(255, 255, 0, 0.3);
            }
          }
        `}),ve(),de(),Ue(),Je()]}):F(Dr,{theme:tt,children:F(Wi,{children:F(Vi,{children:K(iu,{style:{textAlign:"center",padding:"3rem"},children:[F(As,{children:"Connect Your Wallet"}),l&&F("p",{style:{color:"#FF6B6B",marginTop:"1rem"},children:l}),F(dr,{onClick:()=>e("/"),style:{marginTop:"1rem"},children:"Go Home"})]})})})})},uN=t=>t&&{ethereum:"https://etherscan.io",polygon:"https://polygonscan.com",base:"https://basescan.org",arbitrum:"https://arbiscan.io",optimism:"https://optimistic.etherscan.io"}[t.toLowerCase()]||"https://etherscan.io",dN=t=>t&&{ethereum:"https://opensea.io/assets/ethereum",polygon:"https://opensea.io/assets/matic",base:"https://opensea.io/assets/base",arbitrum:"https://opensea.io/assets/arbitrum",optimism:"https://opensea.io/assets/optimism"}[t.toLowerCase()]||"https://opensea.io/assets/ethereum",abe=async t=>{try{setIsLoadingNFT(!0),console.log(" Fetching NFT data for game:",t);const e=await fetch(`${API_URL}/api/games/${t}/nft`);if(!e.ok)throw new Error("Failed to fetch NFT data");const n=await e.json();console.log(" NFT data received:",n),setNftData(n)}catch(e){console.error(" Error fetching NFT data:",e),setNftData(null)}finally{setIsLoadingNFT(!1)}},lbe=()=>{const{gameId:t}=h9(),e=Bf(),{isFullyConnected:n,connectionError:r,address:i,walletClient:o,publicClient:s}=m1(),{chain:a}=Ni(),{showSuccess:l,showError:c,showInfo:u}=Ls(),[d,f]=U.useState(null),[h,p]=U.useState(!0),[m,y]=U.useState(""),[g,v]=U.useState(null),[b,x]=U.useState(!1),[P,N]=U.useState(!1),[_]=U.useState(()=>new FT);U.useEffect(()=>{if(n&&o&&s&&a){const C=a.name.toLowerCase();_.init(C,o,s).then(()=>{console.log(" Contract service initialized for chain:",C)}).catch(k=>{console.error(" Failed to initialize contract service:",k),y("Failed to connect to smart contract")})}},[n,o,s,a,_]),U.useEffect(()=>{t&&D()},[t]);const D=async()=>{try{if(p(!0),y(""),n&&_.isInitialized())try{const H=await _.getGame(t);if(H.success&&H.game){console.log(" Game loaded from smart contract:",H.game);const G=T(H.game);f(G),p(!1);return}}catch(H){console.warn(" Failed to load from contract, trying database:",H)}const k=await fetch(`https://cryptoflipz2-production.up.railway.app/api/games/${t}`);if(!k.ok)throw new Error("Game not found");const I=await k.json();console.log(" Game loaded from database:",I),f(I)}catch(C){console.error(" Error loading game:",C),y(C.message)}finally{p(!1)}},T=C=>({id:C.gameId.toString(),creator:C.creator,joiner:C.joiner,nft_contract:C.nftContract,token_id:C.tokenId.toString(),price_usd:parseFloat(C.priceUSD)/100,game_type:C.gameType===1?"nft-vs-nft":"nft-vs-crypto",status:E(C),current_round:C.currentRound,max_rounds:C.maxRounds,creator_score:C.creatorScore,joiner_score:C.joinerScore,auth_info:C.authInfo?JSON.parse(C.authInfo):{},created_at:new Date().toISOString(),contract_game_id:C.gameId.toString()}),E=C=>C.joiner==="0x0000000000000000000000000000000000000000"?"waiting":C.currentRound>=C.maxRounds?"completed":"active",z=async()=>{if(!n||!i){c("Please connect your wallet to join the game");return}if(!d){c("Game data not available");return}x(!0);try{u("Joining game...");const C={gameId:t,joiner:i,acceptedToken:0,authInfo:JSON.stringify({joiner:i,joinedAt:new Date().toISOString()})};console.log(" Joining game with smart contract:",C);const k=await _.joinGame(C);if(!k.success)throw new Error("Failed to join game: "+k.error);l("Successfully joined the game!"),console.log(" Joined game on blockchain:",k),f(I=>({...I,joiner:i,status:"active"})),await w({joiner:i,status:"active"})}catch(C){console.error(" Error joining game:",C),c("Failed to join game: "+C.message)}finally{x(!1)}},W=async()=>{if(!n||!i){c("Please connect your wallet to flip the coin");return}if(!d){c("Game data not available");return}N(!0);try{u("Flipping coin...");const C={gameId:t,player:i,authInfo:JSON.stringify({player:i,flippedAt:new Date().toISOString()})};console.log(" Flipping coin with smart contract:",C);const k=await _.flipCoin(C);if(!k.success)throw new Error("Failed to flip coin: "+k.error);console.log(" Coin flipped on blockchain:",k);const I=await B();I&&f(I),v({winner:k.winner,round:k.round,isFinal:k.isFinal,transactionHash:k.transactionHash}),k.isFinal?l(`Game completed! ${k.winner===i?"You won!":"You lost!"}`):l(`Round ${k.round} completed! ${k.winner===i?"You won this round!":"Opponent won this round!"}`)}catch(C){console.error(" Error flipping coin:",C),c("Failed to flip coin: "+C.message)}finally{N(!1)}},B=async()=>{try{const C=await _.getGame(t);if(C.success&&C.game)return T(C.game)}catch(C){console.error(" Error loading updated game from contract:",C)}return null},w=async C=>{try{if(!(await fetch(`https://cryptoflipz2-production.up.railway.app/api/games/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).ok)throw new Error("Failed to update game in database");console.log(" Game updated in database")}catch(k){console.error(" Error updating game in database:",k)}},A=async()=>{if(!n||!i){c("Please connect your wallet to withdraw rewards");return}try{u("Checking for unclaimed rewards...");const C=await _.getUnclaimedRewards(i);if(!C.success)throw new Error("Failed to check rewards: "+C.error);if(C.ethAmount>0||C.usdcAmount>0||C.nftCount>0){u("Withdrawing rewards...");const k=await _.withdrawRewards();if(!k.success)throw new Error("Failed to withdraw rewards: "+k.error);l("Rewards withdrawn successfully!"),console.log(" Rewards withdrawn:",k)}else u("No unclaimed rewards found")}catch(C){console.error(" Error withdrawing rewards:",C),c("Failed to withdraw rewards: "+C.message)}};return!n||!i?F(Dr,{theme:tt,children:F(Wi,{children:F(Vi,{children:K(v9,{children:[F(w9,{children:"Connect Your Wallet"}),F(b9,{children:r||"Please connect your wallet to play the game."}),F(Mf,{}),r&&F("div",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#FF6B6B"},children:r})]})})})}):h?F(Dr,{theme:tt,children:F(Wi,{children:F(Vi,{children:K(lme,{children:[F(p1,{}),F("div",{children:"Loading game..."})]})})})}):m?F(Dr,{theme:tt,children:F(Wi,{children:F(Vi,{children:K(JP,{children:[F(ZP,{children:"Error Loading Game"}),F(L2,{children:m}),F("button",{onClick:()=>e("/"),style:{marginTop:"1rem",padding:"0.75rem 1.5rem",background:"linear-gradient(45deg, #00FF41, #39FF14)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",cursor:"pointer"},children:"Go Home"})]})})})}):d?F(Dr,{theme:tt,children:K(Wi,{children:[F(Vi,{children:F(cme,{children:F(sbe,{game:d,currentPlayer:i,onJoinGame:z,onFlipCoin:W,onWithdrawRewards:A,isJoining:b,isFlipping:P,contractService:_,gameId:t,socket:null,connected:!1})})}),g&&F(lz,{result:g,onClose:()=>v(null),onPlayAgain:()=>{v(null),e("/create")}})]})}):F(Dr,{theme:tt,children:F(Wi,{children:F(Vi,{children:K(JP,{children:[F(ZP,{children:"Game Not Found"}),F(L2,{children:"This game doesn't exist or has been removed."}),F("button",{onClick:()=>e("/"),style:{marginTop:"1rem",padding:"0.75rem 1.5rem",background:"linear-gradient(45deg, #00FF41, #39FF14)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",cursor:"pointer"},children:"Go Home"})]})})})})},cbe="/assets/FLIPNOSIS-C0NSmved.webp",ube="/assets/mobile-DVZ6fP2r.webp",dbe=({onHeadsImageChange:t,onTailsImageChange:e,currentHeadsImage:n=null,currentTailsImage:r=null})=>{const[i,o]=U.useState(n),[s,a]=U.useState(r),[l,c]=U.useState("heads"),u=U.useRef(null),d=U.useRef(null),f=(p,m)=>{const y=p.target.files[0];if(!y)return;if(y.size>5*1024*1024){alert("Image size must be less than 5MB");return}if(!y.type.startsWith("image/")){alert("Please select an image file");return}const g=new FileReader;g.onload=v=>{const b=v.target.result,x=new Image;x.onload=()=>{const P=document.createElement("canvas"),N=P.getContext("2d"),_=512;let D=x.width,T=x.height;D>T?D>_&&(T=T*(_/D),D=_):T>_&&(D=D*(_/T),T=_),P.width=D,P.height=T,N.drawImage(x,0,0,D,T);const E=P.toDataURL("image/jpeg",.9);m==="heads"?(o(E),t(E)):(a(E),e(E))},x.src=b},g.readAsDataURL(y)},h=p=>{p==="heads"?(o(null),t(null)):(a(null),e(null))};return K("div",{style:{background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",margin:"0 auto"},children:[F("h3",{style:{color:"#FFD700",textAlign:"center",marginBottom:"1.5rem",fontSize:"1.5rem",fontWeight:"bold"},children:"Customize Your Coin"}),K("div",{style:{display:"flex",marginBottom:"2rem",borderBottom:"2px solid rgba(255, 215, 0, 0.3)"},children:[F("button",{onClick:()=>c("heads"),style:{flex:1,padding:"1rem",background:l==="heads"?"rgba(255, 215, 0, 0.2)":"transparent",border:"none",color:l==="heads"?"#FFD700":"#fff",fontSize:"1.1rem",fontWeight:l==="heads"?"bold":"normal",cursor:"pointer",transition:"all 0.3s ease",borderBottom:l==="heads"?"2px solid #FFD700":"none",marginBottom:"-2px"},children:"Heads"}),F("button",{onClick:()=>c("tails"),style:{flex:1,padding:"1rem",background:l==="tails"?"rgba(255, 215, 0, 0.2)":"transparent",border:"none",color:l==="tails"?"#FFD700":"#fff",fontSize:"1.1rem",fontWeight:l==="tails"?"bold":"normal",cursor:"pointer",transition:"all 0.3s ease",borderBottom:l==="tails"?"2px solid #FFD700":"none",marginBottom:"-2px"},children:"Tails"})]}),F("div",{style:{minHeight:"300px"},children:l==="heads"?K("div",{children:[F("div",{style:{width:"200px",height:"200px",margin:"0 auto 2rem",borderRadius:"50%",border:"3px solid #FFD700",overflow:"hidden",background:i?"transparent":"linear-gradient(45deg, #FFD700, #DAA520)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>u.current?.click(),children:i?F("img",{src:i,alt:"Heads",style:{width:"100%",height:"100%",objectFit:"cover"}}):K("div",{style:{textAlign:"center",color:"#8B4513"},children:[F("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:"+"}),F("div",{style:{fontSize:"1rem",fontWeight:"bold"},children:"Add Image"}),F("div",{style:{fontSize:"0.8rem"},children:"HEADS"})]})}),F("input",{ref:u,type:"file",accept:"image/*",onChange:p=>f(p,"heads"),style:{display:"none"}}),K("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[F("button",{onClick:()=>u.current?.click(),style:{padding:"0.75rem 2rem",background:"linear-gradient(45deg, #FFD700, #FFA500)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"},children:i?"Change Image":"Upload Image"}),i&&F("button",{onClick:()=>h("heads"),style:{padding:"0.75rem 2rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.5rem",color:"#ff6b6b",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"},children:"Remove"})]})]}):K("div",{children:[F("div",{style:{width:"200px",height:"200px",margin:"0 auto 2rem",borderRadius:"50%",border:"3px solid #FFD700",overflow:"hidden",background:s?"transparent":"linear-gradient(45deg, #FFD700, #DAA520)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>d.current?.click(),children:s?F("img",{src:s,alt:"Tails",style:{width:"100%",height:"100%",objectFit:"cover"}}):K("div",{style:{textAlign:"center",color:"#8B4513"},children:[F("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:"+"}),F("div",{style:{fontSize:"1rem",fontWeight:"bold"},children:"Add Image"}),F("div",{style:{fontSize:"0.8rem"},children:"TAILS"})]})}),F("input",{ref:d,type:"file",accept:"image/*",onChange:p=>f(p,"tails"),style:{display:"none"}}),K("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[F("button",{onClick:()=>d.current?.click(),style:{padding:"0.75rem 2rem",background:"linear-gradient(45deg, #FFD700, #FFA500)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"},children:s?"Change Image":"Upload Image"}),s&&F("button",{onClick:()=>h("tails"),style:{padding:"0.75rem 2rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.5rem",color:"#ff6b6b",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"},children:"Remove"})]})]})}),K("div",{style:{marginTop:"2rem",padding:"1rem",background:"rgba(255, 215, 0, 0.1)",borderRadius:"0.5rem",fontSize:"0.9rem",color:"#FFD700",textAlign:"center"},children:[K("p",{style:{margin:"0 0 0.5rem 0"},children:[" ",F("strong",{children:"Tip:"})," Square images work best. Images will be automatically resized and cropped to fit the coin."]}),F("p",{style:{margin:0,fontSize:"0.8rem",opacity:.8},children:"Maximum file size: 5MB  Supported formats: JPG, PNG, GIF"})]})]})},fbe=Ee("div",{target:"e17gqmei11"})({name:"1abnokh",styles:"display:flex;align-items:center;gap:0.75rem;z-index:100"}),hbe=Ee("div",{target:"e17gqmei10"})({name:"tz190x",styles:"position:fixed;top:1rem;right:1rem;display:flex;align-items:center;gap:1rem;z-index:1000"}),pbe=Ee("div",{target:"e17gqmei9"})({name:"15e7j3g",styles:"display:flex;align-items:center;gap:0.75rem;background:rgba(0, 0, 0, 0.7);border:1px solid rgba(255, 255, 255, 0.1);border-radius:1rem;padding:0.5rem 1rem;cursor:pointer;transition:all 0.3s ease;&:hover{background:rgba(0, 0, 0, 0.8);border-color:rgba(255, 20, 147, 0.3);box-shadow:0 0 15px rgba(255, 20, 147, 0.2);}"}),mbe=Ee("div",{target:"e17gqmei8"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),gbe=Ee("div",{target:"e17gqmei7"})({name:"1drlcdz",styles:"color:#fff;font-weight:bold;font-size:0.9rem"}),ybe=Ee("div",{target:"e17gqmei6"})({name:"12186il",styles:"position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.8);display:flex;align-items:center;justify-content:center;z-index:1100"}),vbe=Ee("div",{target:"e17gqmei5"})({name:"1hprs3i",styles:"background:rgba(0, 0, 0, 0.9);border:1px solid rgba(255, 20, 147, 0.3);border-radius:1rem;padding:2rem;width:90%;max-width:600px;max-height:90vh;overflow-y:auto;position:relative"}),wbe=Ee("button",{target:"e17gqmei4"})({name:"rpd1bl",styles:"position:absolute;top:1rem;right:1rem;background:none;border:none;color:rgba(255, 255, 255, 0.6);font-size:1.5rem;cursor:pointer;padding:0.5rem;&:hover{color:#fff;}"}),bbe=Ee("div",{target:"e17gqmei3"})({name:"16j8bo9",styles:"display:flex;margin-bottom:2rem;border-bottom:2px solid rgba(255, 20, 147, 0.3)"}),fN=Ee("button",{target:"e17gqmei2"})("flex:1;padding:1rem;background:",t=>t.active?"rgba(255, 20, 147, 0.2)":"transparent",";border:none;color:",t=>t.active?"#FF1493":"#fff",";font-size:1.1rem;font-weight:",t=>t.active?"bold":"normal",";cursor:pointer;transition:all 0.3s ease;border-bottom:",t=>t.active?"2px solid #FF1493":"none",";margin-bottom:-2px;&:hover{background:rgba(255, 20, 147, 0.1);}"),xbe=Ee("input",{target:"e17gqmei1"})({name:"orjgjc",styles:"width:100%;background:rgba(255, 255, 255, 0.1);border:1px solid rgba(255, 255, 255, 0.2);border-radius:0.5rem;padding:0.75rem;color:#fff;font-size:1rem;margin-bottom:1rem;&:focus{outline:none;border-color:rgba(255, 20, 147, 0.5);box-shadow:0 0 10px rgba(255, 20, 147, 0.2);}"}),Ebe=Ee("button",{target:"e17gqmei0"})({name:"14cvs0b",styles:"width:100%;background:linear-gradient(45deg, #FF1493, #FF69B4);border:none;border-radius:0.5rem;padding:0.75rem;color:#fff;font-weight:bold;cursor:pointer;transition:all 0.3s ease;&:hover{transform:scale(1.02);box-shadow:0 0 15px rgba(255, 20, 147, 0.4);}"}),cz=({isInHeader:t=!1})=>{const{address:e}=Ni(),{getPlayerName:n,setPlayerName:r,getProfilePicture:i,setProfilePicture:o,getCoinHeadsImage:s,setCoinHeadsImage:a,getCoinTailsImage:l,setCoinTailsImage:c}=d1(),{showSuccess:u,showError:d}=Ls(),[f,h]=U.useState(!1),[p,m]=U.useState("profile"),[y,g]=U.useState(""),[v,b]=U.useState(!0),[x,P]=U.useState(null),[N,_]=U.useState(null);U.useEffect(()=>{(async()=>{if(e)try{b(!0);const B=await n(e),w=await s(e),A=await l(e);g(B||""),P(w),_(A)}catch(B){console.error("Error loading user data:",B)}finally{b(!1)}})()},[e,n,s,l]);const D=async()=>{if(e)try{await r(e,y),u("Profile updated successfully!")}catch(W){console.error("Error saving profile:",W),d("Failed to update profile")}},T=async W=>{if(e)try{await a(e,W),P(W),u("Heads image updated!")}catch(B){console.error("Error saving heads image:",B),d("Failed to save heads image")}},E=async W=>{if(e)try{await c(e,W),_(W),u("Tails image updated!")}catch(B){console.error("Error saving tails image:",B),d("Failed to save tails image")}};return e?K(ya,{children:[F(t?fbe:hbe,{children:K(pbe,{onClick:()=>h(!0),children:[F(bv,{address:e,size:40,isClickable:!1,style:{borderRadius:"12px",border:"2px solid rgba(255, 20, 147, 0.5)"}}),F(mbe,{children:F(gbe,{children:v?"...":y||"Anonymous"})})]})}),f&&F(ybe,{children:K(vbe,{children:[F(wbe,{onClick:()=>h(!1),children:""}),K(bbe,{children:[F(fN,{active:p==="profile",onClick:()=>m("profile"),children:"Profile"}),F(fN,{active:p==="coin",onClick:()=>m("coin"),children:"Customize Coin"})]}),p==="profile"?K("div",{children:[F("h2",{style:{color:"#fff",marginBottom:"1.5rem"},children:"Edit Profile"}),F("div",{style:{marginBottom:"1.5rem"},children:F(bv,{address:e,size:100,isClickable:!0,showUploadIcon:!0,style:{borderRadius:"12px",border:"2px solid rgba(255, 20, 147, 0.5)"}})}),F(xbe,{type:"text",placeholder:"Enter your name",value:y,onChange:W=>g(W.target.value)}),F(Ebe,{onClick:D,children:"Save Profile"})]}):F("div",{children:F(dbe,{onHeadsImageChange:T,onTailsImageChange:E,currentHeadsImage:x,currentTailsImage:N})})]})})]}):null},Abe=Ee("div",{target:"etw64w16"})("position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.5);backdrop-filter:blur(5px);opacity:",t=>t.isOpen?1:0,";visibility:",t=>t.isOpen?"visible":"hidden",";transition:all 0.3s ease;z-index:999999;"),_be=Ee("div",{target:"etw64w15"})("position:fixed;top:0;right:0;width:70%;max-width:250px;height:100vh;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);padding:1.5rem;transform:translateX(",t=>t.isOpen?"0":"100%",");transition:transform 0.3s ease;z-index:1000000;display:flex;flex-direction:column;gap:0.75rem;overflow-y:auto;border-left:1px solid rgba(0, 255, 65, 0.2);box-shadow:-5px 0 20px rgba(0, 255, 65, 0.1);@media (min-width: 769px){display:none;}"),fg=Ee(Of,{target:"etw64w14"})("color:",t=>t.theme.colors.textPrimary,";text-decoration:none;padding:1rem;border-radius:0.5rem;transition:all 0.3s ease;background:rgba(0, 255, 65, 0.05);border:2px solid rgba(0, 255, 65, 0.6);margin-bottom:0.5rem;&:hover{background:rgba(0, 255, 65, 0.1);color:#00FF41;transform:translateY(-2px);box-shadow:0 0 15px rgba(0, 255, 65, 0.2);border-color:rgba(0, 255, 65, 0.8);}"),Sbe=Ee("div",{target:"etw64w13"})({name:"noie68",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid rgba(0, 255, 65, 0.2)"}),Cbe=Ee("h2",{target:"etw64w12"})({name:"15t7f0j",styles:"color:#00FF41;margin:0;font-size:2rem;text-shadow:0 0 10px rgba(0, 255, 65, 0.5);font-family:'Hyperwave',sans-serif;letter-spacing:2px"}),Tbe=Ee("div",{target:"etw64w11"})({name:"tk3n8a",styles:'margin:1rem 0;button{width:100%!important;background:transparent!important;color:#00FF41!important;border:1px solid rgba(0, 255, 65, 0.3)!important;border-radius:0.75rem!important;padding:0.75rem 1rem!important;font-weight:600!important;transition:all 0.3s ease!important;div[data-testid="rk-chain-button"]{display:none!important;}&:hover{transform:translateY(-2px)!important;border-color:rgba(0, 255, 65, 0.5)!important;box-shadow:0 0 20px rgba(0, 255, 65, 0.2)!important;}}'}),Mbe=Ee("div",{target:"etw64w10"})({name:"mb3gdk",styles:"margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(0, 255, 65, 0.2)"}),Ibe=({isOpen:t,onClose:e})=>{const{isConnected:n,address:r}=Ni(),o=n&&r&&r.toLowerCase()==="0x93277281Fd256D0601Ce86Cdb1D5c00a97b59839".toLowerCase();return t?a4.createPortal(K(ya,{children:[F(Abe,{isOpen:t,onClick:e}),K(_be,{isOpen:t,children:[F(Sbe,{children:F(Cbe,{children:"Menu"})}),F(fg,{to:"/",onClick:e,children:"Home"}),F(fg,{to:"/create",onClick:e,children:"Create Flip"}),o&&F(fg,{to:"/admin",onClick:e,children:"Admin Panel"}),F(fg,{to:"/test",onClick:e,children:"Contract Test"}),F(Tbe,{children:F(Mf,{showBalance:{smallScreen:!1,largeScreen:!0}})}),n&&F(Mbe,{children:F(cz,{isInHeader:!0})})]})]}),document.body):null},Rbe=Ee("header",{target:"e18h9zca23"})("background-color:",t=>t.theme.colors.bgDark,";padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;position:relative;z-index:100;width:100%;box-sizing:border-box;overflow-x:hidden;@media (max-width: 768px){padding:0.75rem 1rem;position:fixed;top:0;left:0;right:0;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);z-index:9998;}"),Pbe=Ee("div",{target:"e18h9zca22"})({name:"21q7ph",styles:"display:flex;align-items:center;gap:1rem;@media (max-width: 768px){gap:0.5rem;}"}),Nbe=Ee(Of,{target:"e18h9zca21"})("color:#00FF41;font-size:3rem;font-weight:700;text-decoration:none;letter-spacing:6px;font-family:'Hyperwave',sans-serif;animation:neonPulse 2s infinite;",t=>t.theme.animations.neonPulse,"@media (max-width: 768px){font-size:2.5rem;letter-spacing:4px;}"),kbe=Ee("div",{target:"e18h9zca20"})({name:"10imiyw",styles:"display:flex;gap:1rem;align-items:center;@media (max-width: 768px){display:none;}"}),Fbe=Ee(Of,{target:"e18h9zca19"})("background:linear-gradient(45deg, #00FF41, #39FF14);color:#000000;padding:0.5rem 1.5rem;border-radius:0.75rem;text-decoration:none;font-weight:600;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;border:2px solid #00FF41;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);&::before{transform:translateX(100%);}}"),Bbe=Ee(Of,{target:"e18h9zca18"})("background:linear-gradient(45deg, #FF6B35, #F7931E);color:#000000;padding:0.5rem 1.5rem;border-radius:0.75rem;text-decoration:none;font-weight:600;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;border:2px solid #FF6B35;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);&::before{transform:translateX(100%);}}"),Obe=Ee(Of,{target:"e18h9zca17"})("background:linear-gradient(45deg, #9B59B6, #8E44AD);color:#000000;padding:0.5rem 1.5rem;border-radius:0.75rem;text-decoration:none;font-weight:600;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;border:2px solid #9B59B6;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);&::before{transform:translateX(100%);}}"),Lbe=Ee("button",{target:"e18h9zca15"})({name:"191oh3x",styles:"display:none;background:none;border:none;color:#00FF41;font-size:1.5rem;cursor:pointer;padding:0.5rem;z-index:100000;@media (max-width: 768px){display:block;}"}),Dbe=Hpe`
  0%, 100% {
    box-shadow: 0 0 0px #00FF41, 0 0 0px #00FF41;
    border-color: #00FF41;
  }
  50% {
    box-shadow: 0 0 16px #00FF41, 0 0 32px #00FF41;
    border-color: #baffc9;
  }
`,Ube=Ee("button",{target:"e18h9zca6"})("background:rgba(0,255,65,0.12);border:2px solid #00FF41;color:#00FF41;border-radius:50%;width:2.5rem;height:2.5rem;font-size:1.5rem;font-weight:bold;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background 0.2s;animation:",Dbe," 1.2s infinite;&:hover{background:rgba(0,255,65,0.25);}@media (max-width: 768px){display:none;}"),zbe=Ee("div",{target:"e18h9zca4"})({name:"ohaszm",styles:"position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:9999;display:flex;align-items:center;justify-content:center"}),jbe=Ee("div",{target:"e18h9zca3"})({name:"6bvd8o",styles:"background:#181c1b;border-radius:1rem;padding:2rem;box-shadow:0 0 32px #00FF41;max-width:95vw;max-height:90vh;display:flex;flex-direction:column;align-items:center;width:90vw"}),Hbe=Ee("button",{target:"e18h9zca2"})({name:"3cl7o3",styles:"background:none;border:none;color:#00FF41;font-size:2rem;position:absolute;top:2rem;right:2rem;cursor:pointer"}),Gbe=Ee("div",{target:"e18h9zca1"})({name:"jl9pt",styles:"display:flex;justify-content:space-between;align-items:center;width:100%;margin-bottom:1rem"}),Wbe=Ee("div",{target:"e18h9zca0"})({name:"iya5c3",styles:"max-width:90vw;width:100%;height:100%;display:flex;justify-content:center;align-items:center;padding:1rem"}),Vbe=()=>{const{isConnected:t,address:e}=Ni(),{showInfo:n}=Ls(),[r,i]=U.useState(!1),[o,s]=U.useState(!1),l=t&&e&&e.toLowerCase()==="0x93277281Fd256D0601Ce86Cdb1D5c00a97b59839".toLowerCase(),c=()=>{window.innerWidth>768&&i(!1)};return O.useEffect(()=>(window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)),[]),F(Dr,{theme:tt,children:K(Rbe,{children:[F(Pbe,{children:F(Nbe,{to:"/",children:"FLIPNOSIS"})}),K(kbe,{children:[F(Fbe,{to:"/create",children:"Create Flip"}),l&&F(Bbe,{to:"/admin",children:"Admin"}),F(Obe,{to:"/test",children:"Test"}),F(Mf,{showBalance:{smallScreen:!1,largeScreen:!0}}),t&&F(cz,{isInHeader:!0})]}),F(Lbe,{onClick:()=>i(!r),children:r?"":""}),F(Ibe,{isOpen:r,onClose:()=>i(!1)}),F(Ube,{onClick:()=>s(!0),title:"About FLIPNOSIS",children:"i"}),o&&F(zbe,{onClick:()=>s(!1),children:K(jbe,{onClick:u=>u.stopPropagation(),children:[F(Hbe,{onClick:()=>s(!1),children:""}),F(Gbe,{children:F("h2",{style:{color:"#00FF41",margin:0},children:"About FLIPNOSIS"})}),F(Wbe,{children:F("img",{src:window.innerWidth<=768?ube:cbe,alt:"FLIPNOSIS Info",style:{maxWidth:"100%",height:"auto",borderRadius:"1rem",objectFit:"contain"}})})]})})]})})},$be=()=>K("div",{className:"min-h-screen bg-bg-primary",children:[F(Vbe,{}),F("main",{style:{paddingTop:window.innerWidth<=768?"80px":"0"},children:F(vpe,{})})]});var qbe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Qbe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kbe=(t,e)=>{const n=U.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>U.createElement("svg",{ref:c,...qbe,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${Qbe(t)}`,...l},[...e.map(([u,d])=>U.createElement(u,d)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n};var Hl=Kbe;const Xbe=Hl("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Ybe=Hl("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Jbe=Hl("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Zbe=Hl("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),hN=Hl("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),exe=Hl("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),txe=Hl("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),nxe=Hl("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),rxe=["function setPlatformFeePercent(uint256 _newPercent)","function setListingFee(uint256 _newFeeUSD)","function emergencyWithdrawNFT(address nftContract, uint256 tokenId, address to)","function emergencyWithdrawETH(address to, uint256 amount)","function emergencyWithdrawToken(address token, address to, uint256 amount)","function platformFeePercent() view returns (uint256)","function listingFeeUSD() view returns (uint256)","function getGameDetails(uint256 gameId) view returns (tuple(uint256 gameId, address creator, address joiner, address nftContract, uint256 tokenId, uint8 state, uint8 gameType, uint8 creatorRole, uint8 joinerRole, uint8 joinerChoice), tuple(uint256 priceUSD, uint8 acceptedToken, uint256 totalPaid, uint8 paymentTokenUsed, uint256 listingFeePaid, uint256 platformFeeCollected), tuple(uint256 createdAt, uint256 expiresAt, uint8 maxRounds, uint8 currentRound, uint8 creatorWins, uint8 joinerWins, address winner, uint256 lastActionTime, uint256 countdownEndTime))","function unclaimedETH(address) view returns (uint256)","function unclaimedUSDC(address) view returns (uint256)","function getUserUnclaimedNFTs(address user, address nftContract) view returns (uint256[])"],ixe={base:"0xBFD8912ded5830e43E008CCCEA822A6B0174C480",ethereum:"0x...",bnb:"0x...",avalanche:"0x...",polygon:"0x..."},pN={base:{id:8453,name:"Base",rpc:"https://mainnet.base.org",symbol:"ETH",color:"#0052FF"},ethereum:{id:1,name:"Ethereum",rpc:"https://eth.llamarpc.com",symbol:"ETH",color:"#627EEA"},bnb:{id:56,name:"BNB Chain",rpc:"https://bsc-dataseed.binance.org/",symbol:"BNB",color:"#F3BA2F"},avalanche:{id:43114,name:"Avalanche",rpc:"https://api.avax.network/ext/bc/C/rpc",symbol:"AVAX",color:"#E84142"},polygon:{id:137,name:"Polygon",rpc:"https://polygon-rpc.com/",symbol:"MATIC",color:"#8247E5"}},oxe="0x93277281Fd256D0601Ce86Cdb1D5c00a97b59839",sxe=Ee("div",{target:"e1at9ogk23"})({name:"18g9eba",styles:"min-height:100vh;background:linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0d0d0d 100%);color:#ffffff;padding:2rem;font-family:'Inter',sans-serif"}),axe=Ee("div",{target:"e1at9ogk22"})({name:"1u3n3gu",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:2rem;background:linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(255, 107, 53, 0.1) 100%);border-radius:20px;border:1px solid rgba(0, 255, 65, 0.2);backdrop-filter:blur(10px)"}),lxe=Ee("h1",{target:"e1at9ogk21"})({name:"qzr0p5",styles:"font-size:2.5rem;font-weight:700;background:linear-gradient(135deg, #00FF41 0%, #FF6B35 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0"}),cxe=Ee("button",{target:"e1at9ogk20"})({name:"1vecctv",styles:"background:linear-gradient(135deg, #00FF41 0%, #39FF14 100%);color:#000;border:none;padding:1rem 2rem;border-radius:12px;font-weight:600;font-size:1rem;cursor:pointer;transition:all 0.3s ease;box-shadow:0 4px 15px rgba(0, 255, 65, 0.3);&:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(0, 255, 65, 0.4);}&:disabled{background:#666;cursor:not-allowed;transform:none;}"}),uxe=Ee("div",{target:"e1at9ogk19"})({name:"10u2hu4",styles:"display:flex;gap:1rem;margin-bottom:2rem;background:rgba(255, 255, 255, 0.05);padding:0.5rem;border-radius:16px;backdrop-filter:blur(10px)"}),vh=Ee("button",{target:"e1at9ogk18"})("background:",t=>t.active?"linear-gradient(135deg, #00FF41 0%, #39FF14 100%)":"transparent",";color:",t=>t.active?"#000":"#fff",";border:none;padding:1rem 2rem;border-radius:12px;font-weight:600;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;gap:0.5rem;&:hover{background:",t=>t.active?"linear-gradient(135deg, #00FF41 0%, #39FF14 100%)":"rgba(0, 255, 65, 0.1)",";}"),mN=Ee("div",{target:"e1at9ogk17"})({name:"13t28xe",styles:"background:rgba(255, 255, 255, 0.05);border-radius:20px;padding:2rem;backdrop-filter:blur(10px);border:1px solid rgba(255, 255, 255, 0.1)"}),dxe=Ee("div",{target:"e1at9ogk16"})({name:"1bkibp1",styles:"display:grid;grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));gap:1.5rem;margin-bottom:2rem"}),hg=Ee("div",{target:"e1at9ogk15"})({name:"ov55uu",styles:"background:linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(255, 107, 53, 0.1) 100%);border-radius:16px;padding:1.5rem;border:1px solid rgba(0, 255, 65, 0.2);transition:all 0.3s ease;&:hover{transform:translateY(-4px);box-shadow:0 8px 25px rgba(0, 255, 65, 0.2);}"}),pg=Ee("div",{target:"e1at9ogk14"})({name:"16b97m6",styles:"display:flex;align-items:center;gap:1rem;margin-bottom:1rem"}),mg=Ee("div",{target:"e1at9ogk13"})({name:"gne3w0",styles:"width:50px;height:50px;border-radius:12px;background:linear-gradient(135deg, #00FF41 0%, #39FF14 100%);display:flex;align-items:center;justify-content:center;color:#000"}),gg=Ee("div",{target:"e1at9ogk12"})({name:"1nwd60l",styles:"font-size:2rem;font-weight:700;color:#00FF41"}),yg=Ee("div",{target:"e1at9ogk11"})({name:"cyrik3",styles:"color:#ccc;font-size:0.9rem;margin-top:0.5rem"}),fxe=Ee("div",{target:"e1at9ogk10"})({name:"19ym1g9",styles:"display:flex;gap:1rem;margin-bottom:2rem"}),hxe=Ee("input",{target:"e1at9ogk9"})({name:"19m5xhq",styles:"flex:1;background:rgba(255, 255, 255, 0.1);border:1px solid rgba(255, 255, 255, 0.2);border-radius:12px;padding:1rem;color:#fff;font-size:1rem;&::placeholder{color:#999;}&:focus{outline:none;border-color:#00FF41;box-shadow:0 0 0 2px rgba(0, 255, 65, 0.2);}"}),Xx=Ee("div",{target:"e1at9ogk8"})({name:"c55fph",styles:"background:rgba(255, 255, 255, 0.05);border-radius:16px;padding:1.5rem;margin-bottom:1rem;border:1px solid rgba(255, 255, 255, 0.1);transition:all 0.3s ease;&:hover{background:rgba(255, 255, 255, 0.08);transform:translateY(-2px);}"}),Yx=Ee("div",{target:"e1at9ogk7"})({name:"8r8ifa",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem"}),gN=Ee("span",{target:"e1at9ogk6"})("padding:0.5rem 1rem;border-radius:20px;font-size:0.8rem;font-weight:600;background:",t=>{switch(t.status){case"active":return"linear-gradient(135deg, #00FF41 0%, #39FF14 100%)";case"completed":return"linear-gradient(135deg, #FF6B35 0%, #F7931E 100%)";case"cancelled":return"linear-gradient(135deg, #FF4444 0%, #CC0000 100%)";default:return"rgba(255, 255, 255, 0.2)"}},";color:",t=>t.status==="active"||t.status==="completed"?"#000":"#fff",";"),pxe=Ee("form",{target:"e1at9ogk5"})({name:"1i3qy3r",styles:"display:grid;gap:1.5rem"}),yN=Ee("div",{target:"e1at9ogk4"})({name:"p5tmle",styles:"display:flex;flex-direction:column;gap:0.5rem"}),vN=Ee("label",{target:"e1at9ogk3"})({name:"1qzg6tw",styles:"font-weight:600;color:#ccc"}),wN=Ee("input",{target:"e1at9ogk2"})({name:"1aga977",styles:"background:rgba(255, 255, 255, 0.1);border:1px solid rgba(255, 255, 255, 0.2);border-radius:8px;padding:0.75rem;color:#fff;font-size:1rem;&:focus{outline:none;border-color:#00FF41;}"}),vg=Ee("button",{target:"e1at9ogk1"})({name:"1jwqxzp",styles:"background:linear-gradient(135deg, #00FF41 0%, #39FF14 100%);color:#000;border:none;padding:1rem 2rem;border-radius:12px;font-weight:600;cursor:pointer;transition:all 0.3s ease;&:hover{transform:translateY(-2px);box-shadow:0 4px 15px rgba(0, 255, 65, 0.3);}&:disabled{background:#666;cursor:not-allowed;}"}),mxe=Ee("div",{target:"e1at9ogk0"})("position:fixed;top:2rem;right:2rem;padding:1rem 2rem;border-radius:12px;color:#fff;font-weight:600;z-index:1000;animation:slideIn 0.3s ease;",t=>t.type==="success"&&`
    background: linear-gradient(135deg, #00FF41 0%, #39FF14 100%);
    color: #000;
  `," ",t=>t.type==="error"&&`
    background: linear-gradient(135deg, #FF4444 0%, #CC0000 100%);
  `,"@keyframes slideIn{from{transform:translateX(100%);opacity:0;}to{transform:translateX(0);opacity:1;}}");function gxe(){const[t,e]=U.useState(!1),[n,r]=U.useState(""),[i,o]=U.useState(!1),[s,a]=U.useState("overview"),[l,c]=U.useState("base"),[u,d]=U.useState(!1),[f,h]=U.useState(""),[p,m]=U.useState(null),[y,g]=U.useState(null),[v,b]=U.useState(null),[x,P]=U.useState({totalGames:0,activeGames:0,totalVolume:0,platformFees:0,monthlyFees:0,totalNFTsInContract:0,totalETHInContract:0,totalUSDCInContract:0}),[N,_]=U.useState([]),[D,T]=U.useState([]),[E,z]=U.useState([]),[W,B]=U.useState({platformFeePercent:3.5,listingFeeUSD:.2}),[w,A]=U.useState(null),[C,k]=U.useState([]),I="https://cryptoflipz2-production.up.railway.app",H=async()=>{try{if(!window.ethereum){alert("Please install MetaMask!");return}const Be=(await window.ethereum.request({method:"eth_requestAccounts"}))[0];if(Be.toLowerCase()!==oxe.toLowerCase()){alert("Unauthorized wallet. Admin access only.");return}r(Be),o(!0),e(!0);const Re=new(void 0).Web3Provider(window.ethereum),ut=Re.getSigner(),ee=ixe[l];if(ee&&ee!=="0x..."){const _t=new Td(ee,rxe,ut);g(Re),b(ut),m(_t)}await G()}catch(Ae){console.error("Connection error:",Ae),alert("Failed to connect wallet")}},G=async()=>{d(!0);try{const Be=await(await fetch(`${I}/api/admin/games`)).json();if(_(Be.games||[]),p){const[Re,ut]=await Promise.all([p.platformFeePercent(),p.listingFeeUSD()]);B({platformFeePercent:Re.toNumber()/100,listingFeeUSD:ut.toNumber()/1e6})}L(Be.games||[]),await M(Be.games||[])}catch(Ae){console.error("Error loading data:",Ae),oe("error","Failed to load data")}finally{d(!1)}},L=Ae=>{const Be=new Date,Re=new Date(Be.getFullYear(),Be.getMonth(),1);let ut=0,ee=0,_t=0;Ae.forEach(Et=>{(Et.status==="active"||Et.status==="joined")&&_t++,Et.price_usd&&(ut+=Et.price_usd,new Date(Et.created_at)>=Re&&(ee+=Et.price_usd))}),P({totalGames:Ae.length,activeGames:_t,totalVolume:ut,platformFees:ut*(W.platformFeePercent/100),monthlyFees:ee*(W.platformFeePercent/100),totalNFTsInContract:_t,totalETHInContract:0,totalUSDCInContract:0})},M=async Ae=>{const Be=new Map;Ae.forEach(Re=>{Be.has(Re.creator)||Be.set(Re.creator,{address:Re.creator,gamesCreated:0,gamesWon:0,totalVolume:0});const ut=Be.get(Re.creator);if(ut.gamesCreated++,ut.totalVolume+=Re.price_usd||0,Re.joiner&&!Be.has(Re.joiner)&&Be.set(Re.joiner,{address:Re.joiner,gamesCreated:0,gamesWon:0,totalVolume:0}),Re.joiner){const ee=Be.get(Re.joiner);ee.totalVolume+=Re.price_usd||0}}),z(Array.from(Be.values()))},$=async()=>{if(p)try{const Ae=Math.round(W.platformFeePercent*100);await(await p.setPlatformFeePercent(Ae)).wait(),oe("success","Platform fee updated successfully!"),await G()}catch(Ae){console.error("Error updating platform fee:",Ae),oe("error","Failed to update platform fee")}},J=async()=>{if(p)try{const Ae=Math.round(W.listingFeeUSD*1e6);await(await p.setListingFee(Ae)).wait(),oe("success","Listing fee updated successfully!"),await G()}catch(Ae){console.error("Error updating listing fee:",Ae),oe("error","Failed to update listing fee")}},te=async(Ae,Be)=>{if(p)try{await(await p.emergencyWithdrawETH(Be,(void 0).parseEther(Ae))).wait(),oe("success","ETH withdrawn successfully!"),await G()}catch(Re){console.error("Error withdrawing ETH:",Re),oe("error","Failed to withdraw ETH")}},oe=(Ae,Be)=>{const Re=Date.now();k(ut=>[...ut,{id:Re,type:Ae,message:Be}]),setTimeout(()=>{k(ut=>ut.filter(ee=>ee.id!==Re))},5e3)},le=Ae=>`${Ae.slice(0,6)}...${Ae.slice(-4)}`,Te=Ae=>new Date(Ae).toLocaleDateString();U.useEffect(()=>{const Ae=N.filter(Be=>Be.id.toString().includes(f)||Be.creator.toLowerCase().includes(f.toLowerCase())||Be.joiner&&Be.joiner.toLowerCase().includes(f.toLowerCase()));T(Ae)},[N,f]);const Ne=()=>F("select",{value:l,onChange:Ae=>c(Ae.target.value),style:{marginLeft:"1rem"},children:Object.keys(pN).map(Ae=>F("option",{value:Ae,children:pN[Ae].name},Ae))});return K(sxe,{children:[K(axe,{children:[F(lxe,{children:"Admin Dashboard"}),t?K("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[K("span",{children:["Connected: ",le(n)]}),F(Ne,{})]}):F(cxe,{onClick:H,children:"Connect Admin Wallet"})]}),t?K(ya,{children:[K(uxe,{children:[K(vh,{active:s==="overview",onClick:()=>a("overview"),children:[F(Ybe,{size:20}),"Overview"]}),K(vh,{active:s==="games",onClick:()=>a("games"),children:[F(hN,{size:20}),"Games"]}),K(vh,{active:s==="players",onClick:()=>a("players"),children:[F(nxe,{size:20}),"Players"]}),K(vh,{active:s==="settings",onClick:()=>a("settings"),children:[F(exe,{size:20}),"Settings"]}),K(vh,{active:s==="emergency",onClick:()=>a("emergency"),children:[F(txe,{size:20}),"Emergency"]})]}),K(mN,{children:[s==="overview"&&K("div",{children:[K(dxe,{children:[F(hg,{children:K(pg,{children:[F(mg,{children:F(hN,{size:24})}),K("div",{children:[F(gg,{children:x.totalGames}),F(yg,{children:"Total Games"})]})]})}),F(hg,{children:K(pg,{children:[F(mg,{children:F(Xbe,{size:24})}),K("div",{children:[F(gg,{children:x.activeGames}),F(yg,{children:"Active Games"})]})]})}),F(hg,{children:K(pg,{children:[F(mg,{children:F(Zbe,{size:24})}),K("div",{children:[K(gg,{children:["$",x.totalVolume.toFixed(2)]}),F(yg,{children:"Total Volume"})]})]})}),F(hg,{children:K(pg,{children:[F(mg,{children:F(Jbe,{size:24})}),K("div",{children:[K(gg,{children:["$",x.platformFees.toFixed(2)]}),F(yg,{children:"Platform Fees"})]})]})})]}),K("div",{style:{marginTop:"2rem"},children:[F("h3",{children:"Recent Activity"}),N.slice(0,5).map(Ae=>F(Xx,{children:K(Yx,{children:[K("div",{children:[K("strong",{children:["Game #",Ae.id]}),K("div",{style:{fontSize:"0.9rem",color:"#ccc"},children:["Created by ",le(Ae.creator)]})]}),F(gN,{status:Ae.status,children:Ae.status})]})},Ae.id))]})]}),s==="games"&&K("div",{children:[F(fxe,{children:F(hxe,{type:"text",placeholder:"Search games by ID, creator, or joiner...",value:f,onChange:Ae=>h(Ae.target.value)})}),D.map(Ae=>K(Xx,{children:[K(Yx,{children:[K("div",{children:[K("strong",{children:["Game #",Ae.id]}),K("div",{style:{fontSize:"0.9rem",color:"#ccc"},children:["Creator: ",le(Ae.creator),Ae.joiner&&` | Joiner: ${le(Ae.joiner)}`]})]}),F(gN,{status:Ae.status,children:Ae.status})]}),K("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[K("div",{children:[F("strong",{children:"Price:"})," $",Ae.price_usd||0]}),K("div",{children:[F("strong",{children:"Created:"})," ",Te(Ae.created_at)]})]})]},Ae.id))]}),s==="players"&&K("div",{children:[F("h3",{children:"Player Statistics"}),E.map(Ae=>K(Xx,{children:[F(Yx,{children:F("div",{children:F("strong",{children:le(Ae.address)})})}),K("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem"},children:[K("div",{children:[F("strong",{children:"Games Created:"})," ",Ae.gamesCreated]}),K("div",{children:[F("strong",{children:"Games Won:"})," ",Ae.gamesWon]}),K("div",{children:[F("strong",{children:"Total Volume:"})," $",Ae.totalVolume.toFixed(2)]})]})]},Ae.address))]}),s==="settings"&&K("div",{children:[F("h3",{children:"Platform Settings"}),K(pxe,{children:[K(yN,{children:[F(vN,{children:"Platform Fee Percentage"}),F(wN,{type:"number",step:"0.1",value:W.platformFeePercent,onChange:Ae=>B(Be=>({...Be,platformFeePercent:parseFloat(Ae.target.value)}))})]}),K(yN,{children:[F(vN,{children:"Listing Fee (USD)"}),F(wN,{type:"number",step:"0.01",value:W.listingFeeUSD,onChange:Ae=>B(Be=>({...Be,listingFeeUSD:parseFloat(Ae.target.value)}))})]}),F(vg,{onClick:$,disabled:!p,children:"Update Platform Fee"}),F(vg,{onClick:J,disabled:!p,children:"Update Listing Fee"})]})]}),s==="emergency"&&K("div",{children:[F("h3",{children:"Emergency Functions"}),F("p",{style:{color:"#ccc",marginBottom:"2rem"},children:"Use these functions only in emergency situations"}),K("div",{style:{display:"grid",gap:"1rem"},children:[F(vg,{onClick:()=>te("0.1",n),disabled:!p,style:{background:"linear-gradient(135deg, #FF4444 0%, #CC0000 100%)"},children:"Emergency Withdraw ETH"}),F(vg,{onClick:()=>alert("NFT withdrawal requires contract address and token ID"),disabled:!p,style:{background:"linear-gradient(135deg, #FF4444 0%, #CC0000 100%)"},children:"Emergency Withdraw NFT"})]})]})]})]}):F(mN,{children:K("div",{style:{textAlign:"center",padding:"4rem"},children:[F("h2",{children:"Connect your admin wallet to access the dashboard"}),F("p",{children:"Only authorized wallets can access this panel"})]})}),C.map(Ae=>F(mxe,{type:Ae.type,children:Ae.message},Ae.id))]})}const yxe=()=>{const{isFullyConnected:t,connectionError:e,address:n,walletClient:r,publicClient:i}=m1(),{chain:o}=Ni(),[s]=U.useState(()=>new FT),[a,l]=U.useState([]),[c,u]=U.useState(!1),d=(h,p="info")=>{l(m=>[...m,{message:h,type:p,timestamp:new Date().toISOString()}])};return K("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[F("h2",{children:"Contract Service Test"}),F("div",{style:{marginBottom:"20px"},children:F("button",{onClick:async()=>{u(!0),l([]);try{if(d(" Starting contract service tests...","info"),d(` Wallet connection: ${t?" Connected":" Not connected"}`,t?"success":"error"),!t){d(` Connection error: ${e}`,"error");return}if(d(` Wallet client: ${r?" Available":" Missing"}`,r?"success":"error"),d(` Public client: ${i?" Available":" Missing"}`,i?"success":"error"),d(` Chain: ${o?.name||"Unknown"}`,"info"),!r||!i||!o){d(" Missing required clients or chain info","error");return}try{const p=o.name.toLowerCase();d(` Initializing contract service for ${p}...`,"info"),await s.init(p,r,i),d(" Contract service initialized successfully","success")}catch(p){d(` Failed to initialize contract service: ${p.message}`,"error");return}const h=s.isInitialized();if(d(` Service initialized: ${h?" Yes":" No"}`,h?"success":"error"),!h){d(" Contract service not properly initialized","error");return}try{const p=s.getCurrentConfig();d(` Contract address: ${p.contractAddress}`,"info"),d(" Successfully retrieved contract config","success")}catch(p){d(` Failed to get contract config: ${p.message}`,"error")}try{const p=s.getCurrentClients();d(` Wallet client available: ${!!p.wallet}`,p.wallet?"success":"error"),d(` Public client available: ${!!p.public}`,p.public?"success":"error"),d(" Successfully retrieved clients","success")}catch(p){d(` Failed to get clients: ${p.message}`,"error")}try{d(" Testing getETHAmount function...","info");const p=await s.getETHAmount(1e6);d(` getETHAmount result: ${p} wei`,"success")}catch(p){d(` getETHAmount failed: ${p.message}`,"error")}d(" All tests completed!","success")}catch(h){d(` Test suite error: ${h.message}`,"error")}finally{u(!1)}},disabled:c,style:{padding:"10px 20px",background:c?"#666":"#00FF41",color:"black",border:"none",borderRadius:"5px",cursor:c?"not-allowed":"pointer",fontWeight:"bold"},children:c?"Running Tests...":"Run Tests"})}),K("div",{style:{marginBottom:"20px"},children:[F("h3",{children:"Current State:"}),K("ul",{children:[K("li",{children:["Wallet Connected: ",t?" Yes":" No"]}),K("li",{children:["Address: ",n||"Not connected"]}),K("li",{children:["Chain: ",o?.name||"Unknown"]}),K("li",{children:["Connection Error: ",e||"None"]})]})]}),K("div",{children:[F("h3",{children:"Test Results:"}),F("div",{style:{background:"#1a1a1a",padding:"15px",borderRadius:"5px",maxHeight:"400px",overflowY:"auto"},children:a.length===0?F("p",{style:{color:"#888"},children:'No tests run yet. Click "Run Tests" to start.'}):a.map((h,p)=>K("div",{style:{marginBottom:"5px",color:h.type==="error"?"#ff6b6b":h.type==="success"?"#00FF41":"#ffffff"},children:[K("span",{style:{color:"#888"},children:["[",new Date(h.timestamp).toLocaleTimeString(),"]"]})," ",h.message]},p))})]})]})},vxe=Cpe([{path:"/",element:F($be,{}),children:[{index:!0,element:F(Eme,{})},{path:"create",element:F(Sme,{})},{path:"game/:gameId",element:F(lbe,{})},{path:"admin",element:F(gxe,{})},{path:"test",element:F(yxe,{})}]}]);function uz(t){const e=typeof window<"u"?window:void 0;if(typeof e>"u"||typeof e.ethereum>"u")return;const n=e.ethereum.providers;return n?n.find(r=>r[t]):e.ethereum[t]?e.ethereum:void 0}function dz(t){const e=(n,r)=>{const[i,...o]=r.split("."),s=n[i];if(s)return o.length===0?s:e(s,o.join("."))};if(typeof window<"u")return e(window,t)}function S_({flag:t,namespace:e}){return!!(e&&typeof dz(e)<"u"||t&&typeof uz(t)<"u")}function wxe({flag:t,namespace:e}){const n=typeof window<"u"?window:void 0;if(typeof n>"u")return;if(e){const i=dz(e);if(i)return i}const r=n.ethereum?.providers;if(t){const i=uz(t);if(i)return i}return typeof r<"u"&&r.length>0?r[0]:n.ethereum}function bxe(t){return e=>{const n=t?{target:()=>({id:e.rkDetails.id,name:e.rkDetails.name,provider:t})}:{};return r=>({...Cm(n)(r),...e})}}function xv({flag:t,namespace:e,target:n}){const r=n||wxe({flag:t,namespace:e});return bxe(r)}var bN=new Map,xxe=({projectId:t,walletConnectParameters:e,rkDetailsShowQrModal:n,rkDetailsIsWalletConnectModalConnector:r})=>{let i={...e||{},projectId:t,showQrModal:!1};n&&(i={...i,showQrModal:!0}),"customStoragePrefix"in i||(i={...i,customStoragePrefix:r?"clientOne":"clientTwo"});const o=JSON.stringify(i),s=bN.get(o);if(s)return s;const a=Bw(i);return bN.set(o,a),a};function Exe({projectId:t,walletDetails:e,walletConnectParameters:n}){return r=>({...xxe({projectId:t,walletConnectParameters:n,rkDetailsShowQrModal:e.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:e.rkDetails.isWalletConnectModalConnector})(r),...e})}function qT({projectId:t,walletConnectParameters:e}){const n="21fef48091f12692cad574a6f7753643";if(!t||t==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return t==="YOUR_PROJECT_ID"&&(t=n),r=>Exe({projectId:t,walletDetails:r,walletConnectParameters:e})}function fz(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function Axe(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function _xe(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function QT(){return Axe()||_xe()}function xN(){return fz()||QT()}var Sxe=({projectId:t,walletConnectParameters:e})=>{const n=xN()?S_({flag:"isTrust"}):S_({flag:"isTrustWallet"}),r=!n,i=c=>`trust://wc?uri=${encodeURIComponent(c)}`,o=c=>c,s={getUri:r?i:void 0};let a;return r&&(a={getUri:o,instructions:{learnMoreUrl:"https://trustwallet.com/",steps:[{description:"wallet_connectors.trust.qr_code.step1.description",step:"install",title:"wallet_connectors.trust.qr_code.step1.title"},{description:"wallet_connectors.trust.qr_code.step2.description",step:"create",title:"wallet_connectors.trust.qr_code.step2.title"},{description:"wallet_connectors.trust.qr_code.step3.description",step:"scan",title:"wallet_connectors.trust.qr_code.step3.title"}]}}),{id:"trust",name:"Trust Wallet",rdns:"com.trustwallet.app",iconUrl:async()=>(await qe(async()=>{const{default:c}=await import("./trustWallet-42DZQQWY-B0DkYL5U.js");return{default:c}},[])).default,installed:n||void 0,iconAccent:"#3375BB",iconBackground:"#fff",downloadUrls:{android:"https://play.google.com/store/apps/details?id=com.wallet.crypto.trustapp",ios:"https://apps.apple.com/us/app/trust-crypto-bitcoin-wallet/id1288339409",mobile:"https://trustwallet.com/download",qrCode:"https://trustwallet.com/download",chrome:"https://chrome.google.com/webstore/detail/trust-wallet/egjidjbpglichdcondbcbdnbeeppgdph",browserExtension:"https://trustwallet.com/browser-extension"},mobile:s,qrCode:a,extension:{instructions:{learnMoreUrl:"https://trustwallet.com/browser-extension",steps:[{description:"wallet_connectors.trust.extension.step1.description",step:"install",title:"wallet_connectors.trust.extension.step1.title"},{description:"wallet_connectors.trust.extension.step2.description",step:"create",title:"wallet_connectors.trust.extension.step2.title"},{description:"wallet_connectors.trust.extension.step3.description",step:"refresh",title:"wallet_connectors.trust.extension.step3.title"}]}},createConnector:r?qT({projectId:t,walletConnectParameters:e}):xN()?xv({flag:"isTrust"}):xv({flag:"isTrustWallet"})}},Cxe=({projectId:t,options:e})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await qe(async()=>{const{default:r}=await import("./walletConnectWallet-YHWKVTDY-BcMJSWZw.js");return{default:r}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:r=>r},createConnector:qT({projectId:t,walletConnectParameters:e})}),Txe=({projectId:t,walletConnectParameters:e})=>{const n=S_({flag:"isRainbow"}),r=!n,i=o=>fz()?o:QT()?`rainbow://wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await qe(async()=>{const{default:o}=await import("./rainbowWallet-O26YNBMX-Cp7N6hKb.js");return{default:o}},[])).default,iconBackground:"#0c2f78",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:r?i:void 0},qrCode:r?{getUri:i,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:r?qT({projectId:t,walletConnectParameters:e}):xv({flag:"isRainbow"})}},Mxe=()=>({id:"injected",name:"Browser Wallet",iconUrl:async()=>(await qe(async()=>{const{default:t}=await import("./injectedWallet-AWJSZPMG-Df9x-YJA.js");return{default:t}},[])).default,iconBackground:"#fff",createConnector:xv({})}),hz=({appName:t,appIcon:e})=>{const n=i=>i,r=QT();return{id:"coinbase",name:"Coinbase Wallet",shortName:"Coinbase",rdns:"com.coinbase.wallet",iconUrl:async()=>(await qe(async()=>{const{default:i}=await import("./coinbaseWallet-OKXU3TRC-BmQqixYK.js");return{default:i}},[])).default,iconAccent:"#2c5ff6",iconBackground:"#2c5ff6",installed:!0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-store-crypto/id1278383455",mobile:"https://coinbase.com/wallet/downloads",qrCode:"https://coinbase-wallet.onelink.me/q5Sx/fdb9b250",chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",browserExtension:"https://coinbase.com/wallet"},...r?{}:{qrCode:{getUri:n,instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-mobile",steps:[{description:"wallet_connectors.coinbase.qr_code.step1.description",step:"install",title:"wallet_connectors.coinbase.qr_code.step1.title"},{description:"wallet_connectors.coinbase.qr_code.step2.description",step:"create",title:"wallet_connectors.coinbase.qr_code.step2.title"},{description:"wallet_connectors.coinbase.qr_code.step3.description",step:"scan",title:"wallet_connectors.coinbase.qr_code.step3.title"}]}},extension:{instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-extension",steps:[{description:"wallet_connectors.coinbase.extension.step1.description",step:"install",title:"wallet_connectors.coinbase.extension.step1.title"},{description:"wallet_connectors.coinbase.extension.step2.description",step:"create",title:"wallet_connectors.coinbase.extension.step2.title"},{description:"wallet_connectors.coinbase.extension.step3.description",step:"refresh",title:"wallet_connectors.coinbase.extension.step3.title"}]}}},createConnector:i=>{const{...o}=hz,s=Mm({appName:t,appLogoUrl:e,...o});return a=>({...s(a),...i})}}};console.log("Initializing Rainbow Kit with:",{projectId:"fd95ed98ecab7ef051bdcaa27f9d0547",chains:[Iw,pu,Pw,NC,kC,Rw,Mw]});const cl=[Iw,pu,Pw,NC,kC,Rw,Mw];if(!cl||!Array.isArray(cl)||cl.length===0)throw console.error(" Chains array is invalid:",cl),new Error("Chains configuration is invalid");cl.forEach((t,e)=>{if(!t||!t.id||!t.name)throw console.error(` Invalid chain at index ${e}:`,t),new Error(`Chain at index ${e} is invalid`)});console.log(" Chains validated successfully:",cl.map(t=>({id:t.id,name:t.name})));const EN="fd95ed98ecab7ef051bdcaa27f9d0547",Ixe=typeof window<"u"&&/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);let ul;if(Ixe){const t=fU([{groupName:"Popular",wallets:[Mxe,hz,Txe,Sxe,Cxe]}],{appName:"FLIPNOSIS",projectId:EN});ul=$O({chains:cl,connectors:t,transports:{[Iw.id]:Ya(),[pu.id]:Ya(),[Pw.id]:Ya(),[NC.id]:Ya(),[kC.id]:Ya(),[Rw.id]:Ya(),[Mw.id]:Ya()}})}else ul=Lie({appName:"FLIPNOSIS",projectId:EN,chains:cl,ssr:!1});console.log(" Rainbow Kit configuration created successfully");const Rxe=new MJ({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),{chains:C_}=ul;console.log("Rainbow Kit Config:",{chains:C_.map(t=>t.name),projectId:ul.projectId});class Pxe extends O.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n)}render(){return this.state.hasError?K("div",{style:{padding:"20px",color:"red",background:"#000",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"20px"},children:[F("h1",{children:"Something went wrong"}),F("pre",{children:this.state.error?.message}),F("pre",{children:this.state.error?.stack})]}):this.props.children}}function Nxe(){return console.log(" App.jsx - Config check:",{config:ul,hasChains:!!ul?.chains,chainsLength:ul?.chains?.length}),F(Pxe,{children:F(HY,{config:ul,children:F(qJ,{client:Rxe,children:F(sre,{theme:vL({accentColor:"#00FF41",accentColorForeground:"black",borderRadius:"large",fontStack:"system",overlayBlur:"small"}),modalSize:"compact",initialChain:C_[0],chains:C_,children:F(Die,{children:F(rhe,{children:F(ihe,{children:F(Dr,{theme:tt,children:F(Bpe,{router:vxe})})})})})})})})})}iE.createRoot(document.getElementById("root")).render(F(Nxe,{}));const AN=Object.freeze(Object.defineProperty({__proto__:null,default:zA},Symbol.toStringTag,{value:"Module"}));export{tEe as $,mle as A,Fe as B,CEe as C,Tse as D,SEe as E,hO as F,hK as G,zh as H,Wxe as I,wp as J,KV as K,vi as L,RY as M,Pc as N,Zxe as O,Kr as P,Hie as Q,oEe as R,eEe as S,nEe as T,Si as U,dae as V,rEe as W,Vh as X,$ie as Y,iEe as Z,Oe as _,HS as a,Wie as a0,Mse as a1,ke as a2,Pse as a3,_Ee as a4,eae as a5,MEe as a6,uR as a7,UO as a8,Cp as a9,wn as aa,sd as ab,CA as ac,ym as ad,Ya as ae,jr as af,Vie as ag,j_ as ah,Jxe as ai,$xe as b,mw as c,sq as d,Ns as e,Dl as f,sm as g,Ps as h,yw as i,kxe as j,Ht as k,_B as l,u8 as m,TEe as n,REe as o,PEe as p,iv as q,Il as r,sr as s,ov as t,Vse as u,NEe as v,$w as w,qe as x,SN as y,Io as z};
