const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CXql_XMW.js","assets/hooks.module-CuBEORbW.js","assets/index-CpGcGyah.js","assets/inherits_browser-BlmhoU4v.js","assets/events-DdBiz5Ed.js","assets/index-D5PLoGJR.js","assets/index-ruy-hOuG.js","assets/index.es-isN0VkCk.js","assets/alchemy-provider-0066b792-MXBDgWZZ.js","assets/alchemy-websocket-provider-98da5bb0-DHf4jzIX.js"])))=>i.map(i=>d[i]);
function nF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var rF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Om(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e_e(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var iF={exports:{}},lw={},oF={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm=Symbol.for("react.element"),mG=Symbol.for("react.portal"),gG=Symbol.for("react.fragment"),yG=Symbol.for("react.strict_mode"),vG=Symbol.for("react.profiler"),wG=Symbol.for("react.provider"),bG=Symbol.for("react.context"),xG=Symbol.for("react.forward_ref"),EG=Symbol.for("react.suspense"),AG=Symbol.for("react.memo"),_G=Symbol.for("react.lazy"),o3=Symbol.iterator;function SG(t){return t===null||typeof t!="object"?null:(t=o3&&t[o3]||t["@@iterator"],typeof t=="function"?t:null)}var sF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aF=Object.assign,lF={};function Uf(t,e,n){this.props=t,this.context=e,this.refs=lF,this.updater=n||sF}Uf.prototype.isReactComponent={};Uf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cF(){}cF.prototype=Uf.prototype;function RS(t,e,n){this.props=t,this.context=e,this.refs=lF,this.updater=n||sF}var PS=RS.prototype=new cF;PS.constructor=RS;aF(PS,Uf.prototype);PS.isPureReactComponent=!0;var s3=Array.isArray,uF=Object.prototype.hasOwnProperty,NS={current:null},dF={key:!0,ref:!0,__self:!0,__source:!0};function fF(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)uF.call(e,r)&&!dF.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Bm,type:t,key:o,ref:s,props:i,_owner:NS.current}}function CG(t,e){return{$$typeof:Bm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bm}function TG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var a3=/\/+/g;function fb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TG(""+t.key):e.toString(36)}function Yg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Bm:case mG:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+fb(s,0):r,s3(i)?(n="",t!=null&&(n=t.replace(a3,"$&/")+"/"),Yg(i,e,n,"",function(c){return c})):i!=null&&(kS(i)&&(i=CG(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(a3,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",s3(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+fb(o,a);s+=Yg(o,e,n,l,i)}else if(l=SG(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+fb(o,a++),s+=Yg(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function S0(t,e,n){if(t==null)return t;var r=[],i=0;return Yg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function MG(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yi={current:null},Jg={transition:null},IG={ReactCurrentDispatcher:yi,ReactCurrentBatchConfig:Jg,ReactCurrentOwner:NS};function hF(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:S0,forEach:function(t,e,n){S0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return S0(t,function(){e++}),e},toArray:function(t){return S0(t,function(e){return e})||[]},only:function(t){if(!kS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Wt.Component=Uf;Wt.Fragment=gG;Wt.Profiler=vG;Wt.PureComponent=RS;Wt.StrictMode=yG;Wt.Suspense=EG;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IG;Wt.act=hF;Wt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=aF({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=NS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)uF.call(e,l)&&!dF.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Bm,type:t.type,key:i,ref:o,props:r,_owner:s}};Wt.createContext=function(t){return t={$$typeof:bG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wG,_context:t},t.Consumer=t};Wt.createElement=fF;Wt.createFactory=function(t){var e=fF.bind(null,t);return e.type=t,e};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(t){return{$$typeof:xG,render:t}};Wt.isValidElement=kS;Wt.lazy=function(t){return{$$typeof:_G,_payload:{_status:-1,_result:t},_init:MG}};Wt.memo=function(t,e){return{$$typeof:AG,type:t,compare:e===void 0?null:e}};Wt.startTransition=function(t){var e=Jg.transition;Jg.transition={};try{t()}finally{Jg.transition=e}};Wt.unstable_act=hF;Wt.useCallback=function(t,e){return yi.current.useCallback(t,e)};Wt.useContext=function(t){return yi.current.useContext(t)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(t){return yi.current.useDeferredValue(t)};Wt.useEffect=function(t,e){return yi.current.useEffect(t,e)};Wt.useId=function(){return yi.current.useId()};Wt.useImperativeHandle=function(t,e,n){return yi.current.useImperativeHandle(t,e,n)};Wt.useInsertionEffect=function(t,e){return yi.current.useInsertionEffect(t,e)};Wt.useLayoutEffect=function(t,e){return yi.current.useLayoutEffect(t,e)};Wt.useMemo=function(t,e){return yi.current.useMemo(t,e)};Wt.useReducer=function(t,e,n){return yi.current.useReducer(t,e,n)};Wt.useRef=function(t){return yi.current.useRef(t)};Wt.useState=function(t){return yi.current.useState(t)};Wt.useSyncExternalStore=function(t,e,n){return yi.current.useSyncExternalStore(t,e,n)};Wt.useTransition=function(){return yi.current.useTransition()};Wt.version="18.3.1";oF.exports=Wt;var U=oF.exports;const L=Om(U),KE=nF({__proto__:null,default:L},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RG=U,PG=Symbol.for("react.element"),NG=Symbol.for("react.fragment"),kG=Object.prototype.hasOwnProperty,FG=RG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OG={key:!0,ref:!0,__self:!0,__source:!0};function pF(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)kG.call(e,r)&&!OG.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:PG,type:t,key:o,ref:s,props:i,_owner:FG.current}}lw.Fragment=NG;lw.jsx=pF;lw.jsxs=pF;iF.exports=lw;var yn=iF.exports;function BG(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function LG(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var DG=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(LG(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=BG(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),$r="-ms-",Vy="-moz-",rn="-webkit-",mF="comm",FS="rule",OS="decl",UG="@import",gF="@keyframes",zG="@layer",jG=Math.abs,cw=String.fromCharCode,GG=Object.assign;function HG(t,e){return Fr(t,0)^45?(((e<<2^Fr(t,0))<<2^Fr(t,1))<<2^Fr(t,2))<<2^Fr(t,3):0}function yF(t){return t.trim()}function WG(t,e){return(t=e.exec(t))?t[0]:t}function on(t,e,n){return t.replace(e,n)}function QE(t,e){return t.indexOf(e)}function Fr(t,e){return t.charCodeAt(e)|0}function Sp(t,e,n){return t.slice(e,n)}function Rs(t){return t.length}function BS(t){return t.length}function C0(t,e){return e.push(t),t}function VG(t,e){return t.map(e).join("")}var uw=1,Jd=1,vF=0,ji=0,er=0,zf="";function dw(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:uw,column:Jd,length:s,return:""}}function fh(t,e){return GG(dw("",null,null,"",null,null,0),t,{length:-t.length},e)}function $G(){return er}function qG(){return er=ji>0?Fr(zf,--ji):0,Jd--,er===10&&(Jd=1,uw--),er}function oo(){return er=ji<vF?Fr(zf,ji++):0,Jd++,er===10&&(Jd=1,uw++),er}function js(){return Fr(zf,ji)}function Zg(){return ji}function Lm(t,e){return Sp(zf,t,e)}function Cp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wF(t){return uw=Jd=1,vF=Rs(zf=t),ji=0,[]}function bF(t){return zf="",t}function ey(t){return yF(Lm(ji-1,XE(t===91?t+2:t===40?t+1:t)))}function KG(t){for(;(er=js())&&er<33;)oo();return Cp(t)>2||Cp(er)>3?"":" "}function QG(t,e){for(;--e&&oo()&&!(er<48||er>102||er>57&&er<65||er>70&&er<97););return Lm(t,Zg()+(e<6&&js()==32&&oo()==32))}function XE(t){for(;oo();)switch(er){case t:return ji;case 34:case 39:t!==34&&t!==39&&XE(er);break;case 40:t===41&&XE(t);break;case 92:oo();break}return ji}function XG(t,e){for(;oo()&&t+er!==57;)if(t+er===84&&js()===47)break;return"/*"+Lm(e,ji-1)+"*"+cw(t===47?t:oo())}function YG(t){for(;!Cp(js());)oo();return Lm(t,ji)}function JG(t){return bF(ty("",null,null,null,[""],t=wF(t),0,[0],t))}function ty(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,h=0,g=0,m=1,y=1,p=1,v=0,w="",x=i,T=o,k=r,A=w;y;)switch(g=v,v=oo()){case 40:if(g!=108&&Fr(A,d-1)==58){QE(A+=on(ey(v),"&","&\f"),"&\f")!=-1&&(p=-1);break}case 34:case 39:case 91:A+=ey(v);break;case 9:case 10:case 13:case 32:A+=KG(g);break;case 92:A+=QG(Zg()-1,7);continue;case 47:switch(js()){case 42:case 47:C0(ZG(XG(oo(),Zg()),e,n),l);break;default:A+="/"}break;case 123*m:a[c++]=Rs(A)*p;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:p==-1&&(A=on(A,/\f/g,"")),h>0&&Rs(A)-d&&C0(h>32?c3(A+";",r,n,d-1):c3(on(A," ","")+";",r,n,d-2),l);break;case 59:A+=";";default:if(C0(k=l3(A,e,n,c,u,i,a,w,x=[],T=[],d),o),v===123)if(u===0)ty(A,e,k,k,x,o,d,a,T);else switch(f===99&&Fr(A,3)===110?100:f){case 100:case 108:case 109:case 115:ty(t,k,k,r&&C0(l3(t,k,k,0,0,i,a,w,i,x=[],d),T),i,T,d,a,r?x:T);break;default:ty(A,k,k,k,[""],T,0,a,T)}}c=u=h=0,m=p=1,w=A="",d=s;break;case 58:d=1+Rs(A),h=g;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&qG()==125)continue}switch(A+=cw(v),v*m){case 38:p=u>0?1:(A+="\f",-1);break;case 44:a[c++]=(Rs(A)-1)*p,p=1;break;case 64:js()===45&&(A+=ey(oo())),f=js(),u=d=Rs(w=A+=YG(Zg())),v++;break;case 45:g===45&&Rs(A)==2&&(m=0)}}return o}function l3(t,e,n,r,i,o,s,a,l,c,u){for(var d=i-1,f=i===0?o:[""],h=BS(f),g=0,m=0,y=0;g<r;++g)for(var p=0,v=Sp(t,d+1,d=jG(m=s[g])),w=t;p<h;++p)(w=yF(m>0?f[p]+" "+v:on(v,/&\f/g,f[p])))&&(l[y++]=w);return dw(t,e,n,i===0?FS:a,l,c,u)}function ZG(t,e,n){return dw(t,e,n,mF,cw($G()),Sp(t,2,-2),0)}function c3(t,e,n,r){return dw(t,e,n,OS,Sp(t,0,r),Sp(t,r+1,-1),r)}function Nd(t,e){for(var n="",r=BS(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function eH(t,e,n,r){switch(t.type){case zG:if(t.children.length)break;case UG:case OS:return t.return=t.return||t.value;case mF:return"";case gF:return t.return=t.value+"{"+Nd(t.children,r)+"}";case FS:t.value=t.props.join(",")}return Rs(n=Nd(t.children,r))?t.return=t.value+"{"+n+"}":""}function tH(t){var e=BS(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function nH(t){return function(e){e.root||(e=e.return)&&t(e)}}var u3=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function xF(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var rH=function(e,n,r){for(var i=0,o=0;i=o,o=js(),i===38&&o===12&&(n[r]=1),!Cp(o);)oo();return Lm(e,ji)},iH=function(e,n){var r=-1,i=44;do switch(Cp(i)){case 0:i===38&&js()===12&&(n[r]=1),e[r]+=rH(ji-1,n,r);break;case 2:e[r]+=ey(i);break;case 4:if(i===44){e[++r]=js()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=cw(i)}while(i=oo());return e},oH=function(e,n){return bF(iH(wF(e),n))},d3=new WeakMap,sH=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!d3.get(r))&&!i){d3.set(e,!0);for(var o=[],s=oH(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},aH=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function EF(t,e){switch(HG(t,e)){case 5103:return rn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return rn+t+Vy+t+$r+t+t;case 6828:case 4268:return rn+t+$r+t+t;case 6165:return rn+t+$r+"flex-"+t+t;case 5187:return rn+t+on(t,/(\w+).+(:[^]+)/,rn+"box-$1$2"+$r+"flex-$1$2")+t;case 5443:return rn+t+$r+"flex-item-"+on(t,/flex-|-self/,"")+t;case 4675:return rn+t+$r+"flex-line-pack"+on(t,/align-content|flex-|-self/,"")+t;case 5548:return rn+t+$r+on(t,"shrink","negative")+t;case 5292:return rn+t+$r+on(t,"basis","preferred-size")+t;case 6060:return rn+"box-"+on(t,"-grow","")+rn+t+$r+on(t,"grow","positive")+t;case 4554:return rn+on(t,/([^-])(transform)/g,"$1"+rn+"$2")+t;case 6187:return on(on(on(t,/(zoom-|grab)/,rn+"$1"),/(image-set)/,rn+"$1"),t,"")+t;case 5495:case 3959:return on(t,/(image-set\([^]*)/,rn+"$1$`$1");case 4968:return on(on(t,/(.+:)(flex-)?(.*)/,rn+"box-pack:$3"+$r+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rn+t+t;case 4095:case 3583:case 4068:case 2532:return on(t,/(.+)-inline(.+)/,rn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Rs(t)-1-e>6)switch(Fr(t,e+1)){case 109:if(Fr(t,e+4)!==45)break;case 102:return on(t,/(.+:)(.+)-([^]+)/,"$1"+rn+"$2-$3$1"+Vy+(Fr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~QE(t,"stretch")?EF(on(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Fr(t,e+1)!==115)break;case 6444:switch(Fr(t,Rs(t)-3-(~QE(t,"!important")&&10))){case 107:return on(t,":",":"+rn)+t;case 101:return on(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rn+(Fr(t,14)===45?"inline-":"")+"box$3$1"+rn+"$2$3$1"+$r+"$2box$3")+t}break;case 5936:switch(Fr(t,e+11)){case 114:return rn+t+$r+on(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return rn+t+$r+on(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return rn+t+$r+on(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return rn+t+$r+t+t}return t}var lH=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case OS:e.return=EF(e.value,e.length);break;case gF:return Nd([fh(e,{value:on(e.value,"@","@"+rn)})],i);case FS:if(e.length)return VG(e.props,function(o){switch(WG(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Nd([fh(e,{props:[on(o,/:(read-\w+)/,":"+Vy+"$1")]})],i);case"::placeholder":return Nd([fh(e,{props:[on(o,/:(plac\w+)/,":"+rn+"input-$1")]}),fh(e,{props:[on(o,/:(plac\w+)/,":"+Vy+"$1")]}),fh(e,{props:[on(o,/:(plac\w+)/,$r+"input-$1")]})],i)}return""})}},cH=[lH],uH=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||cH,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),p=1;p<y.length;p++)o[y[p]]=!0;a.push(m)});var l,c=[sH,aH];{var u,d=[eH,nH(function(m){u.insert(m)})],f=tH(c.concat(i,d)),h=function(y){return Nd(JG(y),f)};l=function(y,p,v,w){u=v,h(y?y+"{"+p.styles+"}":p.styles),w&&(g.inserted[p.name]=!0)}}var g={key:n,sheet:new DG({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g};function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(null,arguments)}var AF={exports:{}},hn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rr=typeof Symbol=="function"&&Symbol.for,LS=Rr?Symbol.for("react.element"):60103,DS=Rr?Symbol.for("react.portal"):60106,fw=Rr?Symbol.for("react.fragment"):60107,hw=Rr?Symbol.for("react.strict_mode"):60108,pw=Rr?Symbol.for("react.profiler"):60114,mw=Rr?Symbol.for("react.provider"):60109,gw=Rr?Symbol.for("react.context"):60110,US=Rr?Symbol.for("react.async_mode"):60111,yw=Rr?Symbol.for("react.concurrent_mode"):60111,vw=Rr?Symbol.for("react.forward_ref"):60112,ww=Rr?Symbol.for("react.suspense"):60113,dH=Rr?Symbol.for("react.suspense_list"):60120,bw=Rr?Symbol.for("react.memo"):60115,xw=Rr?Symbol.for("react.lazy"):60116,fH=Rr?Symbol.for("react.block"):60121,hH=Rr?Symbol.for("react.fundamental"):60117,pH=Rr?Symbol.for("react.responder"):60118,mH=Rr?Symbol.for("react.scope"):60119;function lo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case LS:switch(t=t.type,t){case US:case yw:case fw:case pw:case hw:case ww:return t;default:switch(t=t&&t.$$typeof,t){case gw:case vw:case xw:case bw:case mw:return t;default:return e}}case DS:return e}}}function _F(t){return lo(t)===yw}hn.AsyncMode=US;hn.ConcurrentMode=yw;hn.ContextConsumer=gw;hn.ContextProvider=mw;hn.Element=LS;hn.ForwardRef=vw;hn.Fragment=fw;hn.Lazy=xw;hn.Memo=bw;hn.Portal=DS;hn.Profiler=pw;hn.StrictMode=hw;hn.Suspense=ww;hn.isAsyncMode=function(t){return _F(t)||lo(t)===US};hn.isConcurrentMode=_F;hn.isContextConsumer=function(t){return lo(t)===gw};hn.isContextProvider=function(t){return lo(t)===mw};hn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===LS};hn.isForwardRef=function(t){return lo(t)===vw};hn.isFragment=function(t){return lo(t)===fw};hn.isLazy=function(t){return lo(t)===xw};hn.isMemo=function(t){return lo(t)===bw};hn.isPortal=function(t){return lo(t)===DS};hn.isProfiler=function(t){return lo(t)===pw};hn.isStrictMode=function(t){return lo(t)===hw};hn.isSuspense=function(t){return lo(t)===ww};hn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===fw||t===yw||t===pw||t===hw||t===ww||t===dH||typeof t=="object"&&t!==null&&(t.$$typeof===xw||t.$$typeof===bw||t.$$typeof===mw||t.$$typeof===gw||t.$$typeof===vw||t.$$typeof===hH||t.$$typeof===pH||t.$$typeof===mH||t.$$typeof===fH)};hn.typeOf=lo;AF.exports=hn;var gH=AF.exports,SF=gH,yH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vH={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},CF={};CF[SF.ForwardRef]=yH;CF[SF.Memo]=vH;var wH=!0;function TF(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var zS=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||wH===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},MF=function(e,n,r){zS(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function bH(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var xH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},EH=/[A-Z]|^ms/g,AH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,IF=function(e){return e.charCodeAt(1)===45},f3=function(e){return e!=null&&typeof e!="boolean"},hb=xF(function(t){return IF(t)?t:t.replace(EH,"-$&").toLowerCase()}),h3=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(AH,function(r,i,o){return Ps={name:i,styles:o,next:Ps},i})}return xH[e]!==1&&!IF(e)&&typeof n=="number"&&n!==0?n+"px":n};function Tp(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ps={name:i.name,styles:i.styles,next:Ps},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Ps={name:s.name,styles:s.styles,next:Ps},s=s.next;var a=o.styles+";";return a}return _H(t,e,n)}case"function":{if(t!==void 0){var l=Ps,c=n(t);return Ps=l,Tp(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function _H(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Tp(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":f3(a)&&(r+=hb(o)+":"+h3(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)f3(s[l])&&(r+=hb(o)+":"+h3(o,s[l])+";");else{var c=Tp(t,e,s);switch(o){case"animation":case"animationName":{r+=hb(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var p3=/label:\s*([^\s;{]+)\s*(;|$)/g,Ps;function jS(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Ps=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=Tp(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=Tp(n,e,t[a]),r){var l=o;i+=l[a]}p3.lastIndex=0;for(var c="",u;(u=p3.exec(i))!==null;)c+="-"+u[1];var d=bH(i)+c;return{name:d,styles:i,next:Ps}}var SH=function(e){return e()},CH=KE.useInsertionEffect?KE.useInsertionEffect:!1,RF=CH||SH,PF=U.createContext(typeof HTMLElement<"u"?uH({key:"css"}):null);PF.Provider;var NF=function(e){return U.forwardRef(function(n,r){var i=U.useContext(PF);return e(n,i,r)})},qy=U.createContext({}),TH=function(e,n){if(typeof n=="function"){var r=n(e);return r}return $y({},e,n)},MH=u3(function(t){return u3(function(e){return TH(t,e)})}),Qr=function(e){var n=U.useContext(qy);return e.theme!==n&&(n=MH(n)(e.theme)),U.createElement(qy.Provider,{value:n},e.children)},Dm={}.hasOwnProperty,YE="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",GS=function(e,n){var r={};for(var i in n)Dm.call(n,i)&&(r[i]=n[i]);return r[YE]=e,r},IH=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return zS(n,r,i),RF(function(){return MF(n,r,i)}),null},RH=NF(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[YE],o=[r],s="";typeof t.className=="string"?s=TF(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=jS(o,void 0,U.useContext(qy));s+=e.key+"-"+a.name;var l={};for(var c in t)Dm.call(t,c)&&c!=="css"&&c!==YE&&(l[c]=t[c]);return l.className=s,n&&(l.ref=n),U.createElement(U.Fragment,null,U.createElement(IH,{cache:e,serialized:a,isStringTag:typeof i=="string"}),U.createElement(i,l))}),HS=RH,as=yn.Fragment,F=function(e,n,r){return Dm.call(n,"css")?yn.jsx(HS,GS(e,n),r):yn.jsx(e,n,r)},q=function(e,n,r){return Dm.call(n,"css")?yn.jsxs(HS,GS(e,n),r):yn.jsxs(e,n,r)},WS={},Ew={};Ew.byteLength=kH;Ew.toByteArray=OH;Ew.fromByteArray=DH;var Fs=[],bo=[],PH=typeof Uint8Array<"u"?Uint8Array:Array,pb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ju=0,NH=pb.length;ju<NH;++ju)Fs[ju]=pb[ju],bo[pb.charCodeAt(ju)]=ju;bo[45]=62;bo[95]=63;function kF(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function kH(t){var e=kF(t),n=e[0],r=e[1];return(n+r)*3/4-r}function FH(t,e,n){return(e+n)*3/4-n}function OH(t){var e,n=kF(t),r=n[0],i=n[1],o=new PH(FH(t,r,i)),s=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=bo[t.charCodeAt(l)]<<18|bo[t.charCodeAt(l+1)]<<12|bo[t.charCodeAt(l+2)]<<6|bo[t.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=bo[t.charCodeAt(l)]<<2|bo[t.charCodeAt(l+1)]>>4,o[s++]=e&255),i===1&&(e=bo[t.charCodeAt(l)]<<10|bo[t.charCodeAt(l+1)]<<4|bo[t.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function BH(t){return Fs[t>>18&63]+Fs[t>>12&63]+Fs[t>>6&63]+Fs[t&63]}function LH(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(BH(r));return i.join("")}function DH(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(LH(t,s,s+o>a?a:s+o));return r===1?(e=t[n-1],i.push(Fs[e>>2]+Fs[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Fs[e>>10]+Fs[e>>4&63]+Fs[e<<2&63]+"=")),i.join("")}var VS={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */VS.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,h=t[e+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=a;u>0;o=o*256+t[e+d],d+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=s*256+t[e+d],d+=f,u-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(h?-1:1)*s*Math.pow(2,o-r)};VS.write=function(t,e,n,r,i,o){var s,a,l,c=o*8-i-1,u=(1<<c)-1,d=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,g=r?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?e+=f/l:e+=f*Math.pow(2,1-d),e*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(e*l-1)*Math.pow(2,i),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+h]=a&255,h+=g,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+h]=s&255,h+=g,s/=256,c-=8);t[n+h-g]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Ew,n=VS,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const G=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(G,_),G.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(G){if(G>i)throw new RangeError('The value "'+G+'" is invalid for option "size"');const _=new Uint8Array(G);return Object.setPrototypeOf(_,a.prototype),_}function a(G,_,R){if(typeof G=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(G)}return l(G,_,R)}a.poolSize=8192;function l(G,_,R){if(typeof G=="string")return f(G,_);if(ArrayBuffer.isView(G))return g(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(V(G,ArrayBuffer)||G&&V(G.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(V(G,SharedArrayBuffer)||G&&V(G.buffer,SharedArrayBuffer)))return m(G,_,R);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=G.valueOf&&G.valueOf();if(Q!=null&&Q!==G)return a.from(Q,_,R);const Y=y(G);if(Y)return Y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return a.from(G[Symbol.toPrimitive]("string"),_,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}a.from=function(G,_,R){return l(G,_,R)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function u(G,_,R){return c(G),G<=0?s(G):_!==void 0?typeof R=="string"?s(G).fill(_,R):s(G).fill(_):s(G)}a.alloc=function(G,_,R){return u(G,_,R)};function d(G){return c(G),s(G<0?0:p(G)|0)}a.allocUnsafe=function(G){return d(G)},a.allocUnsafeSlow=function(G){return d(G)};function f(G,_){if((typeof _!="string"||_==="")&&(_="utf8"),!a.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const R=w(G,_)|0;let Q=s(R);const Y=Q.write(G,_);return Y!==R&&(Q=Q.slice(0,Y)),Q}function h(G){const _=G.length<0?0:p(G.length)|0,R=s(_);for(let Q=0;Q<_;Q+=1)R[Q]=G[Q]&255;return R}function g(G){if(V(G,Uint8Array)){const _=new Uint8Array(G);return m(_.buffer,_.byteOffset,_.byteLength)}return h(G)}function m(G,_,R){if(_<0||G.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<_+(R||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return _===void 0&&R===void 0?Q=new Uint8Array(G):R===void 0?Q=new Uint8Array(G,_):Q=new Uint8Array(G,_,R),Object.setPrototypeOf(Q,a.prototype),Q}function y(G){if(a.isBuffer(G)){const _=p(G.length)|0,R=s(_);return R.length===0||G.copy(R,0,0,_),R}if(G.length!==void 0)return typeof G.length!="number"||fe(G.length)?s(0):h(G);if(G.type==="Buffer"&&Array.isArray(G.data))return h(G.data)}function p(G){if(G>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return G|0}function v(G){return+G!=G&&(G=0),a.alloc(+G)}a.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==a.prototype},a.compare=function(_,R){if(V(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),V(R,Uint8Array)&&(R=a.from(R,R.offset,R.byteLength)),!a.isBuffer(_)||!a.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===R)return 0;let Q=_.length,Y=R.length;for(let ee=0,ne=Math.min(Q,Y);ee<ne;++ee)if(_[ee]!==R[ee]){Q=_[ee],Y=R[ee];break}return Q<Y?-1:Y<Q?1:0},a.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(_,R){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return a.alloc(0);let Q;if(R===void 0)for(R=0,Q=0;Q<_.length;++Q)R+=_[Q].length;const Y=a.allocUnsafe(R);let ee=0;for(Q=0;Q<_.length;++Q){let ne=_[Q];if(V(ne,Uint8Array))ee+ne.length>Y.length?(a.isBuffer(ne)||(ne=a.from(ne)),ne.copy(Y,ee)):Uint8Array.prototype.set.call(Y,ne,ee);else if(a.isBuffer(ne))ne.copy(Y,ee);else throw new TypeError('"list" argument must be an Array of Buffers');ee+=ne.length}return Y};function w(G,_){if(a.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||V(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);const R=G.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&R===0)return 0;let Y=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return ut(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return ot(G).length;default:if(Y)return Q?-1:ut(G).length;_=(""+_).toLowerCase(),Y=!0}}a.byteLength=w;function x(G,_,R){let Q=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,_>>>=0,R<=_))return"";for(G||(G="utf8");;)switch(G){case"hex":return j(this,_,R);case"utf8":case"utf-8":return b(this,_,R);case"ascii":return O(this,_,R);case"latin1":case"binary":return C(this,_,R);case"base64":return B(this,_,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,_,R);default:if(Q)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),Q=!0}}a.prototype._isBuffer=!0;function T(G,_,R){const Q=G[_];G[_]=G[R],G[R]=Q}a.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let R=0;R<_;R+=2)T(this,R,R+1);return this},a.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let R=0;R<_;R+=4)T(this,R,R+3),T(this,R+1,R+2);return this},a.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let R=0;R<_;R+=8)T(this,R,R+7),T(this,R+1,R+6),T(this,R+2,R+5),T(this,R+3,R+4);return this},a.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?b(this,0,_):x.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(_){if(!a.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:a.compare(this,_)===0},a.prototype.inspect=function(){let _="";const R=t.INSPECT_MAX_BYTES;return _=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(_+=" ... "),"<Buffer "+_+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(_,R,Q,Y,ee){if(V(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),!a.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(R===void 0&&(R=0),Q===void 0&&(Q=_?_.length:0),Y===void 0&&(Y=0),ee===void 0&&(ee=this.length),R<0||Q>_.length||Y<0||ee>this.length)throw new RangeError("out of range index");if(Y>=ee&&R>=Q)return 0;if(Y>=ee)return-1;if(R>=Q)return 1;if(R>>>=0,Q>>>=0,Y>>>=0,ee>>>=0,this===_)return 0;let ne=ee-Y,Ue=Q-R;const ke=Math.min(ne,Ue),qe=this.slice(Y,ee),ht=_.slice(R,Q);for(let rt=0;rt<ke;++rt)if(qe[rt]!==ht[rt]){ne=qe[rt],Ue=ht[rt];break}return ne<Ue?-1:Ue<ne?1:0};function k(G,_,R,Q,Y){if(G.length===0)return-1;if(typeof R=="string"?(Q=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,fe(R)&&(R=Y?0:G.length-1),R<0&&(R=G.length+R),R>=G.length){if(Y)return-1;R=G.length-1}else if(R<0)if(Y)R=0;else return-1;if(typeof _=="string"&&(_=a.from(_,Q)),a.isBuffer(_))return _.length===0?-1:A(G,_,R,Q,Y);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?Y?Uint8Array.prototype.indexOf.call(G,_,R):Uint8Array.prototype.lastIndexOf.call(G,_,R):A(G,[_],R,Q,Y);throw new TypeError("val must be string, number or Buffer")}function A(G,_,R,Q,Y){let ee=1,ne=G.length,Ue=_.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(G.length<2||_.length<2)return-1;ee=2,ne/=2,Ue/=2,R/=2}function ke(ht,rt){return ee===1?ht[rt]:ht.readUInt16BE(rt*ee)}let qe;if(Y){let ht=-1;for(qe=R;qe<ne;qe++)if(ke(G,qe)===ke(_,ht===-1?0:qe-ht)){if(ht===-1&&(ht=qe),qe-ht+1===Ue)return ht*ee}else ht!==-1&&(qe-=qe-ht),ht=-1}else for(R+Ue>ne&&(R=ne-Ue),qe=R;qe>=0;qe--){let ht=!0;for(let rt=0;rt<Ue;rt++)if(ke(G,qe+rt)!==ke(_,rt)){ht=!1;break}if(ht)return qe}return-1}a.prototype.includes=function(_,R,Q){return this.indexOf(_,R,Q)!==-1},a.prototype.indexOf=function(_,R,Q){return k(this,_,R,Q,!0)},a.prototype.lastIndexOf=function(_,R,Q){return k(this,_,R,Q,!1)};function z(G,_,R,Q){R=Number(R)||0;const Y=G.length-R;Q?(Q=Number(Q),Q>Y&&(Q=Y)):Q=Y;const ee=_.length;Q>ee/2&&(Q=ee/2);let ne;for(ne=0;ne<Q;++ne){const Ue=parseInt(_.substr(ne*2,2),16);if(fe(Ue))return ne;G[R+ne]=Ue}return ne}function S(G,_,R,Q){return X(ut(_,G.length-R),G,R,Q)}function N(G,_,R,Q){return X(Je(_),G,R,Q)}function P(G,_,R,Q){return X(ot(_),G,R,Q)}function W(G,_,R,Q){return X(kt(_,G.length-R),G,R,Q)}a.prototype.write=function(_,R,Q,Y){if(R===void 0)Y="utf8",Q=this.length,R=0;else if(Q===void 0&&typeof R=="string")Y=R,Q=this.length,R=0;else if(isFinite(R))R=R>>>0,isFinite(Q)?(Q=Q>>>0,Y===void 0&&(Y="utf8")):(Y=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ee=this.length-R;if((Q===void 0||Q>ee)&&(Q=ee),_.length>0&&(Q<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");let ne=!1;for(;;)switch(Y){case"hex":return z(this,_,R,Q);case"utf8":case"utf-8":return S(this,_,R,Q);case"ascii":case"latin1":case"binary":return N(this,_,R,Q);case"base64":return P(this,_,R,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,_,R,Q);default:if(ne)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),ne=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(G,_,R){return _===0&&R===G.length?e.fromByteArray(G):e.fromByteArray(G.slice(_,R))}function b(G,_,R){R=Math.min(G.length,R);const Q=[];let Y=_;for(;Y<R;){const ee=G[Y];let ne=null,Ue=ee>239?4:ee>223?3:ee>191?2:1;if(Y+Ue<=R){let ke,qe,ht,rt;switch(Ue){case 1:ee<128&&(ne=ee);break;case 2:ke=G[Y+1],(ke&192)===128&&(rt=(ee&31)<<6|ke&63,rt>127&&(ne=rt));break;case 3:ke=G[Y+1],qe=G[Y+2],(ke&192)===128&&(qe&192)===128&&(rt=(ee&15)<<12|(ke&63)<<6|qe&63,rt>2047&&(rt<55296||rt>57343)&&(ne=rt));break;case 4:ke=G[Y+1],qe=G[Y+2],ht=G[Y+3],(ke&192)===128&&(qe&192)===128&&(ht&192)===128&&(rt=(ee&15)<<18|(ke&63)<<12|(qe&63)<<6|ht&63,rt>65535&&rt<1114112&&(ne=rt))}}ne===null?(ne=65533,Ue=1):ne>65535&&(ne-=65536,Q.push(ne>>>10&1023|55296),ne=56320|ne&1023),Q.push(ne),Y+=Ue}return I(Q)}const E=4096;function I(G){const _=G.length;if(_<=E)return String.fromCharCode.apply(String,G);let R="",Q=0;for(;Q<_;)R+=String.fromCharCode.apply(String,G.slice(Q,Q+=E));return R}function O(G,_,R){let Q="";R=Math.min(G.length,R);for(let Y=_;Y<R;++Y)Q+=String.fromCharCode(G[Y]&127);return Q}function C(G,_,R){let Q="";R=Math.min(G.length,R);for(let Y=_;Y<R;++Y)Q+=String.fromCharCode(G[Y]);return Q}function j(G,_,R){const Q=G.length;(!_||_<0)&&(_=0),(!R||R<0||R>Q)&&(R=Q);let Y="";for(let ee=_;ee<R;++ee)Y+=_e[G[ee]];return Y}function H(G,_,R){const Q=G.slice(_,R);let Y="";for(let ee=0;ee<Q.length-1;ee+=2)Y+=String.fromCharCode(Q[ee]+Q[ee+1]*256);return Y}a.prototype.slice=function(_,R){const Q=this.length;_=~~_,R=R===void 0?Q:~~R,_<0?(_+=Q,_<0&&(_=0)):_>Q&&(_=Q),R<0?(R+=Q,R<0&&(R=0)):R>Q&&(R=Q),R<_&&(R=_);const Y=this.subarray(_,R);return Object.setPrototypeOf(Y,a.prototype),Y};function D(G,_,R){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+_>R)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(_,R,Q){_=_>>>0,R=R>>>0,Q||D(_,R,this.length);let Y=this[_],ee=1,ne=0;for(;++ne<R&&(ee*=256);)Y+=this[_+ne]*ee;return Y},a.prototype.readUintBE=a.prototype.readUIntBE=function(_,R,Q){_=_>>>0,R=R>>>0,Q||D(_,R,this.length);let Y=this[_+--R],ee=1;for(;R>0&&(ee*=256);)Y+=this[_+--R]*ee;return Y},a.prototype.readUint8=a.prototype.readUInt8=function(_,R){return _=_>>>0,R||D(_,1,this.length),this[_]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(_,R){return _=_>>>0,R||D(_,2,this.length),this[_]|this[_+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(_,R){return _=_>>>0,R||D(_,2,this.length),this[_]<<8|this[_+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(_,R){return _=_>>>0,R||D(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(_,R){return _=_>>>0,R||D(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},a.prototype.readBigUInt64LE=Ie(function(_){_=_>>>0,Ve(_,"offset");const R=this[_],Q=this[_+7];(R===void 0||Q===void 0)&&te(_,this.length-8);const Y=R+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,ee=this[++_]+this[++_]*2**8+this[++_]*2**16+Q*2**24;return BigInt(Y)+(BigInt(ee)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ie(function(_){_=_>>>0,Ve(_,"offset");const R=this[_],Q=this[_+7];(R===void 0||Q===void 0)&&te(_,this.length-8);const Y=R*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],ee=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+Q;return(BigInt(Y)<<BigInt(32))+BigInt(ee)}),a.prototype.readIntLE=function(_,R,Q){_=_>>>0,R=R>>>0,Q||D(_,R,this.length);let Y=this[_],ee=1,ne=0;for(;++ne<R&&(ee*=256);)Y+=this[_+ne]*ee;return ee*=128,Y>=ee&&(Y-=Math.pow(2,8*R)),Y},a.prototype.readIntBE=function(_,R,Q){_=_>>>0,R=R>>>0,Q||D(_,R,this.length);let Y=R,ee=1,ne=this[_+--Y];for(;Y>0&&(ee*=256);)ne+=this[_+--Y]*ee;return ee*=128,ne>=ee&&(ne-=Math.pow(2,8*R)),ne},a.prototype.readInt8=function(_,R){return _=_>>>0,R||D(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},a.prototype.readInt16LE=function(_,R){_=_>>>0,R||D(_,2,this.length);const Q=this[_]|this[_+1]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt16BE=function(_,R){_=_>>>0,R||D(_,2,this.length);const Q=this[_+1]|this[_]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt32LE=function(_,R){return _=_>>>0,R||D(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},a.prototype.readInt32BE=function(_,R){return _=_>>>0,R||D(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},a.prototype.readBigInt64LE=Ie(function(_){_=_>>>0,Ve(_,"offset");const R=this[_],Q=this[_+7];(R===void 0||Q===void 0)&&te(_,this.length-8);const Y=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(Q<<24);return(BigInt(Y)<<BigInt(32))+BigInt(R+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),a.prototype.readBigInt64BE=Ie(function(_){_=_>>>0,Ve(_,"offset");const R=this[_],Q=this[_+7];(R===void 0||Q===void 0)&&te(_,this.length-8);const Y=(R<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(Y)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+Q)}),a.prototype.readFloatLE=function(_,R){return _=_>>>0,R||D(_,4,this.length),n.read(this,_,!0,23,4)},a.prototype.readFloatBE=function(_,R){return _=_>>>0,R||D(_,4,this.length),n.read(this,_,!1,23,4)},a.prototype.readDoubleLE=function(_,R){return _=_>>>0,R||D(_,8,this.length),n.read(this,_,!0,52,8)},a.prototype.readDoubleBE=function(_,R){return _=_>>>0,R||D(_,8,this.length),n.read(this,_,!1,52,8)};function M(G,_,R,Q,Y,ee){if(!a.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>Y||_<ee)throw new RangeError('"value" argument is out of bounds');if(R+Q>G.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(_,R,Q,Y){if(_=+_,R=R>>>0,Q=Q>>>0,!Y){const Ue=Math.pow(2,8*Q)-1;M(this,_,R,Q,Ue,0)}let ee=1,ne=0;for(this[R]=_&255;++ne<Q&&(ee*=256);)this[R+ne]=_/ee&255;return R+Q},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(_,R,Q,Y){if(_=+_,R=R>>>0,Q=Q>>>0,!Y){const Ue=Math.pow(2,8*Q)-1;M(this,_,R,Q,Ue,0)}let ee=Q-1,ne=1;for(this[R+ee]=_&255;--ee>=0&&(ne*=256);)this[R+ee]=_/ne&255;return R+Q},a.prototype.writeUint8=a.prototype.writeUInt8=function(_,R,Q){return _=+_,R=R>>>0,Q||M(this,_,R,1,255,0),this[R]=_&255,R+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(_,R,Q){return _=+_,R=R>>>0,Q||M(this,_,R,2,65535,0),this[R]=_&255,this[R+1]=_>>>8,R+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(_,R,Q){return _=+_,R=R>>>0,Q||M(this,_,R,2,65535,0),this[R]=_>>>8,this[R+1]=_&255,R+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(_,R,Q){return _=+_,R=R>>>0,Q||M(this,_,R,4,4294967295,0),this[R+3]=_>>>24,this[R+2]=_>>>16,this[R+1]=_>>>8,this[R]=_&255,R+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(_,R,Q){return _=+_,R=R>>>0,Q||M(this,_,R,4,4294967295,0),this[R]=_>>>24,this[R+1]=_>>>16,this[R+2]=_>>>8,this[R+3]=_&255,R+4};function $(G,_,R,Q,Y){we(_,Q,Y,G,R,7);let ee=Number(_&BigInt(4294967295));G[R++]=ee,ee=ee>>8,G[R++]=ee,ee=ee>>8,G[R++]=ee,ee=ee>>8,G[R++]=ee;let ne=Number(_>>BigInt(32)&BigInt(4294967295));return G[R++]=ne,ne=ne>>8,G[R++]=ne,ne=ne>>8,G[R++]=ne,ne=ne>>8,G[R++]=ne,R}function J(G,_,R,Q,Y){we(_,Q,Y,G,R,7);let ee=Number(_&BigInt(4294967295));G[R+7]=ee,ee=ee>>8,G[R+6]=ee,ee=ee>>8,G[R+5]=ee,ee=ee>>8,G[R+4]=ee;let ne=Number(_>>BigInt(32)&BigInt(4294967295));return G[R+3]=ne,ne=ne>>8,G[R+2]=ne,ne=ne>>8,G[R+1]=ne,ne=ne>>8,G[R]=ne,R+8}a.prototype.writeBigUInt64LE=Ie(function(_,R=0){return $(this,_,R,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ie(function(_,R=0){return J(this,_,R,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(_,R,Q,Y){if(_=+_,R=R>>>0,!Y){const ke=Math.pow(2,8*Q-1);M(this,_,R,Q,ke-1,-ke)}let ee=0,ne=1,Ue=0;for(this[R]=_&255;++ee<Q&&(ne*=256);)_<0&&Ue===0&&this[R+ee-1]!==0&&(Ue=1),this[R+ee]=(_/ne>>0)-Ue&255;return R+Q},a.prototype.writeIntBE=function(_,R,Q,Y){if(_=+_,R=R>>>0,!Y){const ke=Math.pow(2,8*Q-1);M(this,_,R,Q,ke-1,-ke)}let ee=Q-1,ne=1,Ue=0;for(this[R+ee]=_&255;--ee>=0&&(ne*=256);)_<0&&Ue===0&&this[R+ee+1]!==0&&(Ue=1),this[R+ee]=(_/ne>>0)-Ue&255;return R+Q},a.prototype.writeInt8=function(_,R,Q){return _=+_,R=R>>>0,Q||M(this,_,R,1,127,-128),_<0&&(_=255+_+1),this[R]=_&255,R+1},a.prototype.writeInt16LE=function(_,R,Q){return _=+_,R=R>>>0,Q||M(this,_,R,2,32767,-32768),this[R]=_&255,this[R+1]=_>>>8,R+2},a.prototype.writeInt16BE=function(_,R,Q){return _=+_,R=R>>>0,Q||M(this,_,R,2,32767,-32768),this[R]=_>>>8,this[R+1]=_&255,R+2},a.prototype.writeInt32LE=function(_,R,Q){return _=+_,R=R>>>0,Q||M(this,_,R,4,2147483647,-2147483648),this[R]=_&255,this[R+1]=_>>>8,this[R+2]=_>>>16,this[R+3]=_>>>24,R+4},a.prototype.writeInt32BE=function(_,R,Q){return _=+_,R=R>>>0,Q||M(this,_,R,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[R]=_>>>24,this[R+1]=_>>>16,this[R+2]=_>>>8,this[R+3]=_&255,R+4},a.prototype.writeBigInt64LE=Ie(function(_,R=0){return $(this,_,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ie(function(_,R=0){return J(this,_,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(G,_,R,Q,Y,ee){if(R+Q>G.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function ce(G,_,R,Q,Y){return _=+_,R=R>>>0,Y||Z(G,_,R,4),n.write(G,_,R,Q,23,4),R+4}a.prototype.writeFloatLE=function(_,R,Q){return ce(this,_,R,!0,Q)},a.prototype.writeFloatBE=function(_,R,Q){return ce(this,_,R,!1,Q)};function oe(G,_,R,Q,Y){return _=+_,R=R>>>0,Y||Z(G,_,R,8),n.write(G,_,R,Q,52,8),R+8}a.prototype.writeDoubleLE=function(_,R,Q){return oe(this,_,R,!0,Q)},a.prototype.writeDoubleBE=function(_,R,Q){return oe(this,_,R,!1,Q)},a.prototype.copy=function(_,R,Q,Y){if(!a.isBuffer(_))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!Y&&Y!==0&&(Y=this.length),R>=_.length&&(R=_.length),R||(R=0),Y>0&&Y<Q&&(Y=Q),Y===Q||_.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),_.length-R<Y-Q&&(Y=_.length-R+Q);const ee=Y-Q;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(R,Q,Y):Uint8Array.prototype.set.call(_,this.subarray(Q,Y),R),ee},a.prototype.fill=function(_,R,Q,Y){if(typeof _=="string"){if(typeof R=="string"?(Y=R,R=0,Q=this.length):typeof Q=="string"&&(Y=Q,Q=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!a.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(_.length===1){const ne=_.charCodeAt(0);(Y==="utf8"&&ne<128||Y==="latin1")&&(_=ne)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(R<0||this.length<R||this.length<Q)throw new RangeError("Out of range index");if(Q<=R)return this;R=R>>>0,Q=Q===void 0?this.length:Q>>>0,_||(_=0);let ee;if(typeof _=="number")for(ee=R;ee<Q;++ee)this[ee]=_;else{const ne=a.isBuffer(_)?_:a.from(_,Y),Ue=ne.length;if(Ue===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ee=0;ee<Q-R;++ee)this[ee+R]=ne[ee%Ue]}return this};const Ae={};function de(G,_,R){Ae[G]=class extends R{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${G}]`,this.stack,delete this.name}get code(){return G}set code(Y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Y,writable:!0})}toString(){return`${this.name} [${G}]: ${this.message}`}}}de("ERR_BUFFER_OUT_OF_BOUNDS",function(G){return G?`${G} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),de("ERR_INVALID_ARG_TYPE",function(G,_){return`The "${G}" argument must be of type number. Received type ${typeof _}`},TypeError),de("ERR_OUT_OF_RANGE",function(G,_,R){let Q=`The value of "${G}" is out of range.`,Y=R;return Number.isInteger(R)&&Math.abs(R)>2**32?Y=Re(String(R)):typeof R=="bigint"&&(Y=String(R),(R>BigInt(2)**BigInt(32)||R<-(BigInt(2)**BigInt(32)))&&(Y=Re(Y)),Y+="n"),Q+=` It must be ${_}. Received ${Y}`,Q},RangeError);function Re(G){let _="",R=G.length;const Q=G[0]==="-"?1:0;for(;R>=Q+4;R-=3)_=`_${G.slice(R-3,R)}${_}`;return`${G.slice(0,R)}${_}`}function ae(G,_,R){Ve(_,"offset"),(G[_]===void 0||G[_+R]===void 0)&&te(_,G.length-(R+1))}function we(G,_,R,Q,Y,ee){if(G>R||G<_){const ne=typeof _=="bigint"?"n":"";let Ue;throw _===0||_===BigInt(0)?Ue=`>= 0${ne} and < 2${ne} ** ${(ee+1)*8}${ne}`:Ue=`>= -(2${ne} ** ${(ee+1)*8-1}${ne}) and < 2 ** ${(ee+1)*8-1}${ne}`,new Ae.ERR_OUT_OF_RANGE("value",Ue,G)}ae(Q,Y,ee)}function Ve(G,_){if(typeof G!="number")throw new Ae.ERR_INVALID_ARG_TYPE(_,"number",G)}function te(G,_,R){throw Math.floor(G)!==G?(Ve(G,R),new Ae.ERR_OUT_OF_RANGE("offset","an integer",G)):_<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_}`,G)}const Be=/[^+/0-9A-Za-z-_]/g;function ft(G){if(G=G.split("=")[0],G=G.trim().replace(Be,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function ut(G,_){_=_||1/0;let R;const Q=G.length;let Y=null;const ee=[];for(let ne=0;ne<Q;++ne){if(R=G.charCodeAt(ne),R>55295&&R<57344){if(!Y){if(R>56319){(_-=3)>-1&&ee.push(239,191,189);continue}else if(ne+1===Q){(_-=3)>-1&&ee.push(239,191,189);continue}Y=R;continue}if(R<56320){(_-=3)>-1&&ee.push(239,191,189),Y=R;continue}R=(Y-55296<<10|R-56320)+65536}else Y&&(_-=3)>-1&&ee.push(239,191,189);if(Y=null,R<128){if((_-=1)<0)break;ee.push(R)}else if(R<2048){if((_-=2)<0)break;ee.push(R>>6|192,R&63|128)}else if(R<65536){if((_-=3)<0)break;ee.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((_-=4)<0)break;ee.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return ee}function Je(G){const _=[];for(let R=0;R<G.length;++R)_.push(G.charCodeAt(R)&255);return _}function kt(G,_){let R,Q,Y;const ee=[];for(let ne=0;ne<G.length&&!((_-=2)<0);++ne)R=G.charCodeAt(ne),Q=R>>8,Y=R%256,ee.push(Y),ee.push(Q);return ee}function ot(G){return e.toByteArray(ft(G))}function X(G,_,R,Q){let Y;for(Y=0;Y<Q&&!(Y+R>=_.length||Y>=G.length);++Y)_[Y+R]=G[Y];return Y}function V(G,_){return G instanceof _||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===_.name}function fe(G){return G!==G}const _e=function(){const G="0123456789abcdef",_=new Array(256);for(let R=0;R<16;++R){const Q=R*16;for(let Y=0;Y<16;++Y)_[Q+Y]=G[R]+G[Y]}return _}();function Ie(G){return typeof BigInt>"u"?ge:G}function ge(){throw new Error("BigInt not supported")}})(WS);var FF={exports:{}},Xn=FF.exports={},Ts,Ms;function JE(){throw new Error("setTimeout has not been defined")}function ZE(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ts=setTimeout:Ts=JE}catch{Ts=JE}try{typeof clearTimeout=="function"?Ms=clearTimeout:Ms=ZE}catch{Ms=ZE}})();function OF(t){if(Ts===setTimeout)return setTimeout(t,0);if((Ts===JE||!Ts)&&setTimeout)return Ts=setTimeout,setTimeout(t,0);try{return Ts(t,0)}catch{try{return Ts.call(null,t,0)}catch{return Ts.call(this,t,0)}}}function UH(t){if(Ms===clearTimeout)return clearTimeout(t);if((Ms===ZE||!Ms)&&clearTimeout)return Ms=clearTimeout,clearTimeout(t);try{return Ms(t)}catch{try{return Ms.call(null,t)}catch{return Ms.call(this,t)}}}var xa=[],kd=!1,Mc,ny=-1;function zH(){!kd||!Mc||(kd=!1,Mc.length?xa=Mc.concat(xa):ny=-1,xa.length&&BF())}function BF(){if(!kd){var t=OF(zH);kd=!0;for(var e=xa.length;e;){for(Mc=xa,xa=[];++ny<e;)Mc&&Mc[ny].run();ny=-1,e=xa.length}Mc=null,kd=!1,UH(t)}}Xn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];xa.push(new LF(t,e)),xa.length===1&&!kd&&OF(BF)};function LF(t,e){this.fun=t,this.array=e}LF.prototype.run=function(){this.fun.apply(null,this.array)};Xn.title="browser";Xn.browser=!0;Xn.env={};Xn.argv=[];Xn.version="";Xn.versions={};function Wa(){}Xn.on=Wa;Xn.addListener=Wa;Xn.once=Wa;Xn.off=Wa;Xn.removeListener=Wa;Xn.removeAllListeners=Wa;Xn.emit=Wa;Xn.prependListener=Wa;Xn.prependOnceListener=Wa;Xn.listeners=function(t){return[]};Xn.binding=function(t){throw new Error("process.binding is not supported")};Xn.cwd=function(){return"/"};Xn.chdir=function(t){throw new Error("process.chdir is not supported")};Xn.umask=function(){return 0};var jH=FF.exports;const GH=Om(jH);window.Buffer=WS.Buffer;window.process=GH;typeof window<"u"&&(window.global=window.global||window,!window.URL&&window.webkitURL&&(window.URL=window.webkitURL));window.require=function(t){switch(t){case"stream":return require("stream-browserify");case"crypto":return require("crypto-browserify");case"util":return require("util");case"buffer":return require("buffer");case"process":return require("process/browser");case"zlib":return require("browserify-zlib");case"path":return require("path-browserify");default:throw new Error(`Module ${t} not found`)}};var eA={},DF={exports:{}},co={},UF={exports:{}},zF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,j){var H=C.length;C.push(j);e:for(;0<H;){var D=H-1>>>1,M=C[D];if(0<i(M,j))C[D]=j,C[H]=M,H=D;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var j=C[0],H=C.pop();if(H!==j){C[0]=H;e:for(var D=0,M=C.length,$=M>>>1;D<$;){var J=2*(D+1)-1,Z=C[J],ce=J+1,oe=C[ce];if(0>i(Z,H))ce<M&&0>i(oe,Z)?(C[D]=oe,C[ce]=H,D=ce):(C[D]=Z,C[J]=H,D=J);else if(ce<M&&0>i(oe,H))C[D]=oe,C[ce]=H,D=ce;else break e}}return j}function i(C,j){var H=C.sortIndex-j.sortIndex;return H!==0?H:C.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(C){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=C)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function x(C){if(m=!1,w(C),!g)if(n(l)!==null)g=!0,I(T);else{var j=n(c);j!==null&&O(x,j.startTime-C)}}function T(C,j){g=!1,m&&(m=!1,p(z),z=-1),h=!0;var H=f;try{for(w(j),d=n(l);d!==null&&(!(d.expirationTime>j)||C&&!P());){var D=d.callback;if(typeof D=="function"){d.callback=null,f=d.priorityLevel;var M=D(d.expirationTime<=j);j=t.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&r(l),w(j)}else r(l);d=n(l)}if(d!==null)var $=!0;else{var J=n(c);J!==null&&O(x,J.startTime-j),$=!1}return $}finally{d=null,f=H,h=!1}}var k=!1,A=null,z=-1,S=5,N=-1;function P(){return!(t.unstable_now()-N<S)}function W(){if(A!==null){var C=t.unstable_now();N=C;var j=!0;try{j=A(!0,C)}finally{j?B():(k=!1,A=null)}}else k=!1}var B;if(typeof v=="function")B=function(){v(W)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,E=b.port2;b.port1.onmessage=W,B=function(){E.postMessage(null)}}else B=function(){y(W,0)};function I(C){A=C,k||(k=!0,B())}function O(C,j){z=y(function(){C(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,I(T))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var H=f;f=j;try{return C()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,j){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var H=f;f=C;try{return j()}finally{f=H}},t.unstable_scheduleCallback=function(C,j,H){var D=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?D+H:D):H=D,C){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=H+M,C={id:u++,callback:j,priorityLevel:C,startTime:H,expirationTime:M,sortIndex:-1},H>D?(C.sortIndex=H,e(c,C),n(l)===null&&C===n(c)&&(m?(p(z),z=-1):m=!0,O(x,H-D))):(C.sortIndex=M,e(l,C),g||h||(g=!0,I(T))),C},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(C){var j=f;return function(){var H=f;f=j;try{return C.apply(this,arguments)}finally{f=H}}}})(zF);UF.exports=zF;var HH=UF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WH=U,ao=HH;function $e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jF=new Set,Mp={};function Cu(t,e){Zd(t,e),Zd(t+"Capture",e)}function Zd(t,e){for(Mp[t]=e,t=0;t<e.length;t++)jF.add(e[t])}var Fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tA=Object.prototype.hasOwnProperty,VH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m3={},g3={};function $H(t){return tA.call(g3,t)?!0:tA.call(m3,t)?!1:VH.test(t)?g3[t]=!0:(m3[t]=!0,!1)}function qH(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KH(t,e,n,r){if(e===null||typeof e>"u"||qH(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vi(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jr[t]=new vi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jr[e]=new vi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jr[t]=new vi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jr[t]=new vi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jr[t]=new vi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jr[t]=new vi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jr[t]=new vi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jr[t]=new vi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jr[t]=new vi(t,5,!1,t.toLowerCase(),null,!1,!1)});var $S=/[\-:]([a-z])/g;function qS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($S,qS);jr[e]=new vi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($S,qS);jr[e]=new vi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($S,qS);jr[e]=new vi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jr[t]=new vi(t,1,!1,t.toLowerCase(),null,!1,!1)});jr.xlinkHref=new vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jr[t]=new vi(t,1,!1,t.toLowerCase(),null,!0,!0)});function KS(t,e,n,r){var i=jr.hasOwnProperty(e)?jr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KH(e,n,i,r)&&(n=null),r||i===null?$H(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Va=WH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T0=Symbol.for("react.element"),pd=Symbol.for("react.portal"),md=Symbol.for("react.fragment"),QS=Symbol.for("react.strict_mode"),nA=Symbol.for("react.profiler"),GF=Symbol.for("react.provider"),HF=Symbol.for("react.context"),XS=Symbol.for("react.forward_ref"),rA=Symbol.for("react.suspense"),iA=Symbol.for("react.suspense_list"),YS=Symbol.for("react.memo"),gl=Symbol.for("react.lazy"),WF=Symbol.for("react.offscreen"),y3=Symbol.iterator;function hh(t){return t===null||typeof t!="object"?null:(t=y3&&t[y3]||t["@@iterator"],typeof t=="function"?t:null)}var Fn=Object.assign,mb;function Hh(t){if(mb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mb=e&&e[1]||""}return`
`+mb+t}var gb=!1;function yb(t,e){if(!t||gb)return"";gb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{gb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hh(t):""}function QH(t){switch(t.tag){case 5:return Hh(t.type);case 16:return Hh("Lazy");case 13:return Hh("Suspense");case 19:return Hh("SuspenseList");case 0:case 2:case 15:return t=yb(t.type,!1),t;case 11:return t=yb(t.type.render,!1),t;case 1:return t=yb(t.type,!0),t;default:return""}}function oA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case md:return"Fragment";case pd:return"Portal";case nA:return"Profiler";case QS:return"StrictMode";case rA:return"Suspense";case iA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HF:return(t.displayName||"Context")+".Consumer";case GF:return(t._context.displayName||"Context")+".Provider";case XS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case YS:return e=t.displayName||null,e!==null?e:oA(t.type)||"Memo";case gl:e=t._payload,t=t._init;try{return oA(t(e))}catch{}}return null}function XH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oA(e);case 8:return e===QS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YH(t){var e=VF(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function M0(t){t._valueTracker||(t._valueTracker=YH(t))}function $F(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=VF(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ky(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sA(t,e){var n=e.checked;return Fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function v3(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qF(t,e){e=e.checked,e!=null&&KS(t,"checked",e,!1)}function aA(t,e){qF(t,e);var n=jl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lA(t,e.type,n):e.hasOwnProperty("defaultValue")&&lA(t,e.type,jl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function w3(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lA(t,e,n){(e!=="number"||Ky(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wh=Array.isArray;function Fd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($e(91));return Fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function b3(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($e(92));if(Wh(n)){if(1<n.length)throw Error($e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jl(n)}}function KF(t,e){var n=jl(e.value),r=jl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function x3(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var I0,XF=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(I0=I0||document.createElement("div"),I0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=I0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ip(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var np={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JH=["Webkit","ms","Moz","O"];Object.keys(np).forEach(function(t){JH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),np[e]=np[t]})});function YF(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||np.hasOwnProperty(t)&&np[t]?(""+e).trim():e+"px"}function JF(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=YF(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ZH=Fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dA(t,e){if(e){if(ZH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($e(61))}if(e.style!=null&&typeof e.style!="object")throw Error($e(62))}}function fA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hA=null;function JS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pA=null,Od=null,Bd=null;function E3(t){if(t=jm(t)){if(typeof pA!="function")throw Error($e(280));var e=t.stateNode;e&&(e=Tw(e),pA(t.stateNode,t.type,e))}}function ZF(t){Od?Bd?Bd.push(t):Bd=[t]:Od=t}function e4(){if(Od){var t=Od,e=Bd;if(Bd=Od=null,E3(t),e)for(t=0;t<e.length;t++)E3(e[t])}}function t4(t,e){return t(e)}function n4(){}var vb=!1;function r4(t,e,n){if(vb)return t(e,n);vb=!0;try{return t4(t,e,n)}finally{vb=!1,(Od!==null||Bd!==null)&&(n4(),e4())}}function Rp(t,e){var n=t.stateNode;if(n===null)return null;var r=Tw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($e(231,e,typeof n));return n}var mA=!1;if(Fa)try{var ph={};Object.defineProperty(ph,"passive",{get:function(){mA=!0}}),window.addEventListener("test",ph,ph),window.removeEventListener("test",ph,ph)}catch{mA=!1}function eW(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var rp=!1,Qy=null,Xy=!1,gA=null,tW={onError:function(t){rp=!0,Qy=t}};function nW(t,e,n,r,i,o,s,a,l){rp=!1,Qy=null,eW.apply(tW,arguments)}function rW(t,e,n,r,i,o,s,a,l){if(nW.apply(this,arguments),rp){if(rp){var c=Qy;rp=!1,Qy=null}else throw Error($e(198));Xy||(Xy=!0,gA=c)}}function Tu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function i4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function A3(t){if(Tu(t)!==t)throw Error($e(188))}function iW(t){var e=t.alternate;if(!e){if(e=Tu(t),e===null)throw Error($e(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return A3(i),t;if(o===r)return A3(i),e;o=o.sibling}throw Error($e(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error($e(189))}}if(n.alternate!==r)throw Error($e(190))}if(n.tag!==3)throw Error($e(188));return n.stateNode.current===n?t:e}function o4(t){return t=iW(t),t!==null?s4(t):null}function s4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=s4(t);if(e!==null)return e;t=t.sibling}return null}var a4=ao.unstable_scheduleCallback,_3=ao.unstable_cancelCallback,oW=ao.unstable_shouldYield,sW=ao.unstable_requestPaint,Kn=ao.unstable_now,aW=ao.unstable_getCurrentPriorityLevel,ZS=ao.unstable_ImmediatePriority,l4=ao.unstable_UserBlockingPriority,Yy=ao.unstable_NormalPriority,lW=ao.unstable_LowPriority,c4=ao.unstable_IdlePriority,Aw=null,Gs=null;function cW(t){if(Gs&&typeof Gs.onCommitFiberRoot=="function")try{Gs.onCommitFiberRoot(Aw,t,void 0,(t.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:fW,uW=Math.log,dW=Math.LN2;function fW(t){return t>>>=0,t===0?32:31-(uW(t)/dW|0)|0}var R0=64,P0=4194304;function Vh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Vh(a):(o&=s,o!==0&&(r=Vh(o)))}else s=n&~i,s!==0?r=Vh(s):o!==0&&(r=Vh(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ls(e),i=1<<n,r|=t[n],e&=~i;return r}function hW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pW(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ls(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=hW(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function yA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function u4(){var t=R0;return R0<<=1,!(R0&4194240)&&(R0=64),t}function wb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Um(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ls(e),t[e]=n}function mW(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ls(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function eC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ls(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var fn=0;function d4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var f4,tC,h4,p4,m4,vA=!1,N0=[],Tl=null,Ml=null,Il=null,Pp=new Map,Np=new Map,wl=[],gW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S3(t,e){switch(t){case"focusin":case"focusout":Tl=null;break;case"dragenter":case"dragleave":Ml=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":Pp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Np.delete(e.pointerId)}}function mh(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=jm(e),e!==null&&tC(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yW(t,e,n,r,i){switch(e){case"focusin":return Tl=mh(Tl,t,e,n,r,i),!0;case"dragenter":return Ml=mh(Ml,t,e,n,r,i),!0;case"mouseover":return Il=mh(Il,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pp.set(o,mh(Pp.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Np.set(o,mh(Np.get(o)||null,t,e,n,r,i)),!0}return!1}function g4(t){var e=Ic(t.target);if(e!==null){var n=Tu(e);if(n!==null){if(e=n.tag,e===13){if(e=i4(n),e!==null){t.blockedOn=e,m4(t.priority,function(){h4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ry(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hA=r,n.target.dispatchEvent(r),hA=null}else return e=jm(n),e!==null&&tC(e),t.blockedOn=n,!1;e.shift()}return!0}function C3(t,e,n){ry(t)&&n.delete(e)}function vW(){vA=!1,Tl!==null&&ry(Tl)&&(Tl=null),Ml!==null&&ry(Ml)&&(Ml=null),Il!==null&&ry(Il)&&(Il=null),Pp.forEach(C3),Np.forEach(C3)}function gh(t,e){t.blockedOn===e&&(t.blockedOn=null,vA||(vA=!0,ao.unstable_scheduleCallback(ao.unstable_NormalPriority,vW)))}function kp(t){function e(i){return gh(i,t)}if(0<N0.length){gh(N0[0],t);for(var n=1;n<N0.length;n++){var r=N0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tl!==null&&gh(Tl,t),Ml!==null&&gh(Ml,t),Il!==null&&gh(Il,t),Pp.forEach(e),Np.forEach(e),n=0;n<wl.length;n++)r=wl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wl.length&&(n=wl[0],n.blockedOn===null);)g4(n),n.blockedOn===null&&wl.shift()}var Ld=Va.ReactCurrentBatchConfig,Zy=!0;function wW(t,e,n,r){var i=fn,o=Ld.transition;Ld.transition=null;try{fn=1,nC(t,e,n,r)}finally{fn=i,Ld.transition=o}}function bW(t,e,n,r){var i=fn,o=Ld.transition;Ld.transition=null;try{fn=4,nC(t,e,n,r)}finally{fn=i,Ld.transition=o}}function nC(t,e,n,r){if(Zy){var i=wA(t,e,n,r);if(i===null)Ib(t,e,r,ev,n),S3(t,r);else if(yW(i,t,e,n,r))r.stopPropagation();else if(S3(t,r),e&4&&-1<gW.indexOf(t)){for(;i!==null;){var o=jm(i);if(o!==null&&f4(o),o=wA(t,e,n,r),o===null&&Ib(t,e,r,ev,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ib(t,e,r,null,n)}}var ev=null;function wA(t,e,n,r){if(ev=null,t=JS(r),t=Ic(t),t!==null)if(e=Tu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=i4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ev=t,null}function y4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aW()){case ZS:return 1;case l4:return 4;case Yy:case lW:return 16;case c4:return 536870912;default:return 16}default:return 16}}var El=null,rC=null,iy=null;function v4(){if(iy)return iy;var t,e=rC,n=e.length,r,i="value"in El?El.value:El.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return iy=i.slice(t,1<r?1-r:void 0)}function oy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function k0(){return!0}function T3(){return!1}function uo(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?k0:T3,this.isPropagationStopped=T3,this}return Fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=k0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=k0)},persist:function(){},isPersistent:k0}),e}var jf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iC=uo(jf),zm=Fn({},jf,{view:0,detail:0}),xW=uo(zm),bb,xb,yh,_w=Fn({},zm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yh&&(yh&&t.type==="mousemove"?(bb=t.screenX-yh.screenX,xb=t.screenY-yh.screenY):xb=bb=0,yh=t),bb)},movementY:function(t){return"movementY"in t?t.movementY:xb}}),M3=uo(_w),EW=Fn({},_w,{dataTransfer:0}),AW=uo(EW),_W=Fn({},zm,{relatedTarget:0}),Eb=uo(_W),SW=Fn({},jf,{animationName:0,elapsedTime:0,pseudoElement:0}),CW=uo(SW),TW=Fn({},jf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MW=uo(TW),IW=Fn({},jf,{data:0}),I3=uo(IW),RW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NW[t])?!!e[t]:!1}function oC(){return kW}var FW=Fn({},zm,{key:function(t){if(t.key){var e=RW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oC,charCode:function(t){return t.type==="keypress"?oy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OW=uo(FW),BW=Fn({},_w,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R3=uo(BW),LW=Fn({},zm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oC}),DW=uo(LW),UW=Fn({},jf,{propertyName:0,elapsedTime:0,pseudoElement:0}),zW=uo(UW),jW=Fn({},_w,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GW=uo(jW),HW=[9,13,27,32],sC=Fa&&"CompositionEvent"in window,ip=null;Fa&&"documentMode"in document&&(ip=document.documentMode);var WW=Fa&&"TextEvent"in window&&!ip,w4=Fa&&(!sC||ip&&8<ip&&11>=ip),P3=" ",N3=!1;function b4(t,e){switch(t){case"keyup":return HW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gd=!1;function VW(t,e){switch(t){case"compositionend":return x4(e);case"keypress":return e.which!==32?null:(N3=!0,P3);case"textInput":return t=e.data,t===P3&&N3?null:t;default:return null}}function $W(t,e){if(gd)return t==="compositionend"||!sC&&b4(t,e)?(t=v4(),iy=rC=El=null,gd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w4&&e.locale!=="ko"?null:e.data;default:return null}}var qW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qW[t.type]:e==="textarea"}function E4(t,e,n,r){ZF(r),e=tv(e,"onChange"),0<e.length&&(n=new iC("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var op=null,Fp=null;function KW(t){k4(t,0)}function Sw(t){var e=wd(t);if($F(e))return t}function QW(t,e){if(t==="change")return e}var A4=!1;if(Fa){var Ab;if(Fa){var _b="oninput"in document;if(!_b){var F3=document.createElement("div");F3.setAttribute("oninput","return;"),_b=typeof F3.oninput=="function"}Ab=_b}else Ab=!1;A4=Ab&&(!document.documentMode||9<document.documentMode)}function O3(){op&&(op.detachEvent("onpropertychange",_4),Fp=op=null)}function _4(t){if(t.propertyName==="value"&&Sw(Fp)){var e=[];E4(e,Fp,t,JS(t)),r4(KW,e)}}function XW(t,e,n){t==="focusin"?(O3(),op=e,Fp=n,op.attachEvent("onpropertychange",_4)):t==="focusout"&&O3()}function YW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sw(Fp)}function JW(t,e){if(t==="click")return Sw(e)}function ZW(t,e){if(t==="input"||t==="change")return Sw(e)}function eV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hs=typeof Object.is=="function"?Object.is:eV;function Op(t,e){if(hs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tA.call(e,i)||!hs(t[i],e[i]))return!1}return!0}function B3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function L3(t,e){var n=B3(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B3(n)}}function S4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?S4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function C4(){for(var t=window,e=Ky();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ky(t.document)}return e}function aC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tV(t){var e=C4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&S4(n.ownerDocument.documentElement,n)){if(r!==null&&aC(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=L3(n,o);var s=L3(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nV=Fa&&"documentMode"in document&&11>=document.documentMode,yd=null,bA=null,sp=null,xA=!1;function D3(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xA||yd==null||yd!==Ky(r)||(r=yd,"selectionStart"in r&&aC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sp&&Op(sp,r)||(sp=r,r=tv(bA,"onSelect"),0<r.length&&(e=new iC("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yd)))}function F0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vd={animationend:F0("Animation","AnimationEnd"),animationiteration:F0("Animation","AnimationIteration"),animationstart:F0("Animation","AnimationStart"),transitionend:F0("Transition","TransitionEnd")},Sb={},T4={};Fa&&(T4=document.createElement("div").style,"AnimationEvent"in window||(delete vd.animationend.animation,delete vd.animationiteration.animation,delete vd.animationstart.animation),"TransitionEvent"in window||delete vd.transitionend.transition);function Cw(t){if(Sb[t])return Sb[t];if(!vd[t])return t;var e=vd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in T4)return Sb[t]=e[n];return t}var M4=Cw("animationend"),I4=Cw("animationiteration"),R4=Cw("animationstart"),P4=Cw("transitionend"),N4=new Map,U3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xl(t,e){N4.set(t,e),Cu(e,[t])}for(var Cb=0;Cb<U3.length;Cb++){var Tb=U3[Cb],rV=Tb.toLowerCase(),iV=Tb[0].toUpperCase()+Tb.slice(1);Xl(rV,"on"+iV)}Xl(M4,"onAnimationEnd");Xl(I4,"onAnimationIteration");Xl(R4,"onAnimationStart");Xl("dblclick","onDoubleClick");Xl("focusin","onFocus");Xl("focusout","onBlur");Xl(P4,"onTransitionEnd");Zd("onMouseEnter",["mouseout","mouseover"]);Zd("onMouseLeave",["mouseout","mouseover"]);Zd("onPointerEnter",["pointerout","pointerover"]);Zd("onPointerLeave",["pointerout","pointerover"]);Cu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oV=new Set("cancel close invalid load scroll toggle".split(" ").concat($h));function z3(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rW(r,e,void 0,t),t.currentTarget=null}function k4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;z3(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;z3(i,a,c),o=l}}}if(Xy)throw t=gA,Xy=!1,gA=null,t}function An(t,e){var n=e[CA];n===void 0&&(n=e[CA]=new Set);var r=t+"__bubble";n.has(r)||(F4(e,t,2,!1),n.add(r))}function Mb(t,e,n){var r=0;e&&(r|=4),F4(n,t,r,e)}var O0="_reactListening"+Math.random().toString(36).slice(2);function Bp(t){if(!t[O0]){t[O0]=!0,jF.forEach(function(n){n!=="selectionchange"&&(oV.has(n)||Mb(n,!1,t),Mb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[O0]||(e[O0]=!0,Mb("selectionchange",!1,e))}}function F4(t,e,n,r){switch(y4(e)){case 1:var i=wW;break;case 4:i=bW;break;default:i=nC}n=i.bind(null,e,n,t),i=void 0,!mA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ib(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ic(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}r4(function(){var c=o,u=JS(n),d=[];e:{var f=N4.get(t);if(f!==void 0){var h=iC,g=t;switch(t){case"keypress":if(oy(n)===0)break e;case"keydown":case"keyup":h=OW;break;case"focusin":g="focus",h=Eb;break;case"focusout":g="blur",h=Eb;break;case"beforeblur":case"afterblur":h=Eb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=M3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=AW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=DW;break;case M4:case I4:case R4:h=CW;break;case P4:h=zW;break;case"scroll":h=xW;break;case"wheel":h=GW;break;case"copy":case"cut":case"paste":h=MW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=R3}var m=(e&4)!==0,y=!m&&t==="scroll",p=m?f!==null?f+"Capture":null:f;m=[];for(var v=c,w;v!==null;){w=v;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,p!==null&&(x=Rp(v,p),x!=null&&m.push(Lp(v,x,w)))),y)break;v=v.return}0<m.length&&(f=new h(f,g,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==hA&&(g=n.relatedTarget||n.fromElement)&&(Ic(g)||g[Oa]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=c,g=g?Ic(g):null,g!==null&&(y=Tu(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(m=M3,x="onMouseLeave",p="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=R3,x="onPointerLeave",p="onPointerEnter",v="pointer"),y=h==null?f:wd(h),w=g==null?f:wd(g),f=new m(x,v+"leave",h,n,u),f.target=y,f.relatedTarget=w,x=null,Ic(u)===c&&(m=new m(p,v+"enter",g,n,u),m.target=w,m.relatedTarget=y,x=m),y=x,h&&g)t:{for(m=h,p=g,v=0,w=m;w;w=Gu(w))v++;for(w=0,x=p;x;x=Gu(x))w++;for(;0<v-w;)m=Gu(m),v--;for(;0<w-v;)p=Gu(p),w--;for(;v--;){if(m===p||p!==null&&m===p.alternate)break t;m=Gu(m),p=Gu(p)}m=null}else m=null;h!==null&&j3(d,f,h,m,!1),g!==null&&y!==null&&j3(d,y,g,m,!0)}}e:{if(f=c?wd(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var T=QW;else if(k3(f))if(A4)T=ZW;else{T=YW;var k=XW}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=JW);if(T&&(T=T(t,c))){E4(d,T,n,u);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&lA(f,"number",f.value)}switch(k=c?wd(c):window,t){case"focusin":(k3(k)||k.contentEditable==="true")&&(yd=k,bA=c,sp=null);break;case"focusout":sp=bA=yd=null;break;case"mousedown":xA=!0;break;case"contextmenu":case"mouseup":case"dragend":xA=!1,D3(d,n,u);break;case"selectionchange":if(nV)break;case"keydown":case"keyup":D3(d,n,u)}var A;if(sC)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else gd?b4(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(w4&&n.locale!=="ko"&&(gd||z!=="onCompositionStart"?z==="onCompositionEnd"&&gd&&(A=v4()):(El=u,rC="value"in El?El.value:El.textContent,gd=!0)),k=tv(c,z),0<k.length&&(z=new I3(z,t,null,n,u),d.push({event:z,listeners:k}),A?z.data=A:(A=x4(n),A!==null&&(z.data=A)))),(A=WW?VW(t,n):$W(t,n))&&(c=tv(c,"onBeforeInput"),0<c.length&&(u=new I3("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=A))}k4(d,e)})}function Lp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Rp(t,n),o!=null&&r.unshift(Lp(t,o,i)),o=Rp(t,e),o!=null&&r.push(Lp(t,o,i))),t=t.return}return r}function Gu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function j3(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Rp(n,o),l!=null&&s.unshift(Lp(n,l,a))):i||(l=Rp(n,o),l!=null&&s.push(Lp(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var sV=/\r\n?/g,aV=/\u0000|\uFFFD/g;function G3(t){return(typeof t=="string"?t:""+t).replace(sV,`
`).replace(aV,"")}function B0(t,e,n){if(e=G3(e),G3(t)!==e&&n)throw Error($e(425))}function nv(){}var EA=null,AA=null;function _A(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var SA=typeof setTimeout=="function"?setTimeout:void 0,lV=typeof clearTimeout=="function"?clearTimeout:void 0,H3=typeof Promise=="function"?Promise:void 0,cV=typeof queueMicrotask=="function"?queueMicrotask:typeof H3<"u"?function(t){return H3.resolve(null).then(t).catch(uV)}:SA;function uV(t){setTimeout(function(){throw t})}function Rb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),kp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kp(e)}function Rl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gf=Math.random().toString(36).slice(2),Os="__reactFiber$"+Gf,Dp="__reactProps$"+Gf,Oa="__reactContainer$"+Gf,CA="__reactEvents$"+Gf,dV="__reactListeners$"+Gf,fV="__reactHandles$"+Gf;function Ic(t){var e=t[Os];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Oa]||n[Os]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W3(t);t!==null;){if(n=t[Os])return n;t=W3(t)}return e}t=n,n=t.parentNode}return null}function jm(t){return t=t[Os]||t[Oa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($e(33))}function Tw(t){return t[Dp]||null}var TA=[],bd=-1;function Yl(t){return{current:t}}function Cn(t){0>bd||(t.current=TA[bd],TA[bd]=null,bd--)}function wn(t,e){bd++,TA[bd]=t.current,t.current=e}var Gl={},ei=Yl(Gl),Ni=Yl(!1),eu=Gl;function ef(t,e){var n=t.type.contextTypes;if(!n)return Gl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ki(t){return t=t.childContextTypes,t!=null}function rv(){Cn(Ni),Cn(ei)}function V3(t,e,n){if(ei.current!==Gl)throw Error($e(168));wn(ei,e),wn(Ni,n)}function O4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($e(108,XH(t)||"Unknown",i));return Fn({},n,r)}function iv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gl,eu=ei.current,wn(ei,t),wn(Ni,Ni.current),!0}function $3(t,e,n){var r=t.stateNode;if(!r)throw Error($e(169));n?(t=O4(t,e,eu),r.__reactInternalMemoizedMergedChildContext=t,Cn(Ni),Cn(ei),wn(ei,t)):Cn(Ni),wn(Ni,n)}var ma=null,Mw=!1,Pb=!1;function B4(t){ma===null?ma=[t]:ma.push(t)}function hV(t){Mw=!0,B4(t)}function Jl(){if(!Pb&&ma!==null){Pb=!0;var t=0,e=fn;try{var n=ma;for(fn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ma=null,Mw=!1}catch(i){throw ma!==null&&(ma=ma.slice(t+1)),a4(ZS,Jl),i}finally{fn=e,Pb=!1}}return null}var xd=[],Ed=0,ov=null,sv=0,_o=[],So=0,tu=null,Ea=1,Aa="";function pc(t,e){xd[Ed++]=sv,xd[Ed++]=ov,ov=t,sv=e}function L4(t,e,n){_o[So++]=Ea,_o[So++]=Aa,_o[So++]=tu,tu=t;var r=Ea;t=Aa;var i=32-ls(r)-1;r&=~(1<<i),n+=1;var o=32-ls(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ea=1<<32-ls(e)+i|n<<i|r,Aa=o+t}else Ea=1<<o|n<<i|r,Aa=t}function lC(t){t.return!==null&&(pc(t,1),L4(t,1,0))}function cC(t){for(;t===ov;)ov=xd[--Ed],xd[Ed]=null,sv=xd[--Ed],xd[Ed]=null;for(;t===tu;)tu=_o[--So],_o[So]=null,Aa=_o[--So],_o[So]=null,Ea=_o[--So],_o[So]=null}var so=null,ro=null,In=!1,Zo=null;function D4(t,e){var n=Ro(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function q3(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,so=t,ro=Rl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,so=t,ro=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=tu!==null?{id:Ea,overflow:Aa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ro(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,so=t,ro=null,!0):!1;default:return!1}}function MA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function IA(t){if(In){var e=ro;if(e){var n=e;if(!q3(t,e)){if(MA(t))throw Error($e(418));e=Rl(n.nextSibling);var r=so;e&&q3(t,e)?D4(r,n):(t.flags=t.flags&-4097|2,In=!1,so=t)}}else{if(MA(t))throw Error($e(418));t.flags=t.flags&-4097|2,In=!1,so=t}}}function K3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;so=t}function L0(t){if(t!==so)return!1;if(!In)return K3(t),In=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_A(t.type,t.memoizedProps)),e&&(e=ro)){if(MA(t))throw U4(),Error($e(418));for(;e;)D4(t,e),e=Rl(e.nextSibling)}if(K3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ro=Rl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ro=null}}else ro=so?Rl(t.stateNode.nextSibling):null;return!0}function U4(){for(var t=ro;t;)t=Rl(t.nextSibling)}function tf(){ro=so=null,In=!1}function uC(t){Zo===null?Zo=[t]:Zo.push(t)}var pV=Va.ReactCurrentBatchConfig;function vh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($e(309));var r=n.stateNode}if(!r)throw Error($e(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error($e(284));if(!n._owner)throw Error($e(290,t))}return t}function D0(t,e){throw t=Object.prototype.toString.call(e),Error($e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Q3(t){var e=t._init;return e(t._payload)}function z4(t){function e(p,v){if(t){var w=p.deletions;w===null?(p.deletions=[v],p.flags|=16):w.push(v)}}function n(p,v){if(!t)return null;for(;v!==null;)e(p,v),v=v.sibling;return null}function r(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function i(p,v){return p=Fl(p,v),p.index=0,p.sibling=null,p}function o(p,v,w){return p.index=w,t?(w=p.alternate,w!==null?(w=w.index,w<v?(p.flags|=2,v):w):(p.flags|=2,v)):(p.flags|=1048576,v)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,v,w,x){return v===null||v.tag!==6?(v=Db(w,p.mode,x),v.return=p,v):(v=i(v,w),v.return=p,v)}function l(p,v,w,x){var T=w.type;return T===md?u(p,v,w.props.children,x,w.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===gl&&Q3(T)===v.type)?(x=i(v,w.props),x.ref=vh(p,v,w),x.return=p,x):(x=fy(w.type,w.key,w.props,null,p.mode,x),x.ref=vh(p,v,w),x.return=p,x)}function c(p,v,w,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Ub(w,p.mode,x),v.return=p,v):(v=i(v,w.children||[]),v.return=p,v)}function u(p,v,w,x,T){return v===null||v.tag!==7?(v=$c(w,p.mode,x,T),v.return=p,v):(v=i(v,w),v.return=p,v)}function d(p,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Db(""+v,p.mode,w),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case T0:return w=fy(v.type,v.key,v.props,null,p.mode,w),w.ref=vh(p,null,v),w.return=p,w;case pd:return v=Ub(v,p.mode,w),v.return=p,v;case gl:var x=v._init;return d(p,x(v._payload),w)}if(Wh(v)||hh(v))return v=$c(v,p.mode,w,null),v.return=p,v;D0(p,v)}return null}function f(p,v,w,x){var T=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(p,v,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case T0:return w.key===T?l(p,v,w,x):null;case pd:return w.key===T?c(p,v,w,x):null;case gl:return T=w._init,f(p,v,T(w._payload),x)}if(Wh(w)||hh(w))return T!==null?null:u(p,v,w,x,null);D0(p,w)}return null}function h(p,v,w,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(w)||null,a(v,p,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case T0:return p=p.get(x.key===null?w:x.key)||null,l(v,p,x,T);case pd:return p=p.get(x.key===null?w:x.key)||null,c(v,p,x,T);case gl:var k=x._init;return h(p,v,w,k(x._payload),T)}if(Wh(x)||hh(x))return p=p.get(w)||null,u(v,p,x,T,null);D0(v,x)}return null}function g(p,v,w,x){for(var T=null,k=null,A=v,z=v=0,S=null;A!==null&&z<w.length;z++){A.index>z?(S=A,A=null):S=A.sibling;var N=f(p,A,w[z],x);if(N===null){A===null&&(A=S);break}t&&A&&N.alternate===null&&e(p,A),v=o(N,v,z),k===null?T=N:k.sibling=N,k=N,A=S}if(z===w.length)return n(p,A),In&&pc(p,z),T;if(A===null){for(;z<w.length;z++)A=d(p,w[z],x),A!==null&&(v=o(A,v,z),k===null?T=A:k.sibling=A,k=A);return In&&pc(p,z),T}for(A=r(p,A);z<w.length;z++)S=h(A,p,z,w[z],x),S!==null&&(t&&S.alternate!==null&&A.delete(S.key===null?z:S.key),v=o(S,v,z),k===null?T=S:k.sibling=S,k=S);return t&&A.forEach(function(P){return e(p,P)}),In&&pc(p,z),T}function m(p,v,w,x){var T=hh(w);if(typeof T!="function")throw Error($e(150));if(w=T.call(w),w==null)throw Error($e(151));for(var k=T=null,A=v,z=v=0,S=null,N=w.next();A!==null&&!N.done;z++,N=w.next()){A.index>z?(S=A,A=null):S=A.sibling;var P=f(p,A,N.value,x);if(P===null){A===null&&(A=S);break}t&&A&&P.alternate===null&&e(p,A),v=o(P,v,z),k===null?T=P:k.sibling=P,k=P,A=S}if(N.done)return n(p,A),In&&pc(p,z),T;if(A===null){for(;!N.done;z++,N=w.next())N=d(p,N.value,x),N!==null&&(v=o(N,v,z),k===null?T=N:k.sibling=N,k=N);return In&&pc(p,z),T}for(A=r(p,A);!N.done;z++,N=w.next())N=h(A,p,z,N.value,x),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?z:N.key),v=o(N,v,z),k===null?T=N:k.sibling=N,k=N);return t&&A.forEach(function(W){return e(p,W)}),In&&pc(p,z),T}function y(p,v,w,x){if(typeof w=="object"&&w!==null&&w.type===md&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case T0:e:{for(var T=w.key,k=v;k!==null;){if(k.key===T){if(T=w.type,T===md){if(k.tag===7){n(p,k.sibling),v=i(k,w.props.children),v.return=p,p=v;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===gl&&Q3(T)===k.type){n(p,k.sibling),v=i(k,w.props),v.ref=vh(p,k,w),v.return=p,p=v;break e}n(p,k);break}else e(p,k);k=k.sibling}w.type===md?(v=$c(w.props.children,p.mode,x,w.key),v.return=p,p=v):(x=fy(w.type,w.key,w.props,null,p.mode,x),x.ref=vh(p,v,w),x.return=p,p=x)}return s(p);case pd:e:{for(k=w.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(p,v.sibling),v=i(v,w.children||[]),v.return=p,p=v;break e}else{n(p,v);break}else e(p,v);v=v.sibling}v=Ub(w,p.mode,x),v.return=p,p=v}return s(p);case gl:return k=w._init,y(p,v,k(w._payload),x)}if(Wh(w))return g(p,v,w,x);if(hh(w))return m(p,v,w,x);D0(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(p,v.sibling),v=i(v,w),v.return=p,p=v):(n(p,v),v=Db(w,p.mode,x),v.return=p,p=v),s(p)):n(p,v)}return y}var nf=z4(!0),j4=z4(!1),av=Yl(null),lv=null,Ad=null,dC=null;function fC(){dC=Ad=lv=null}function hC(t){var e=av.current;Cn(av),t._currentValue=e}function RA(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Dd(t,e){lv=t,dC=Ad=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ti=!0),t.firstContext=null)}function No(t){var e=t._currentValue;if(dC!==t)if(t={context:t,memoizedValue:e,next:null},Ad===null){if(lv===null)throw Error($e(308));Ad=t,lv.dependencies={lanes:0,firstContext:t}}else Ad=Ad.next=t;return e}var Rc=null;function pC(t){Rc===null?Rc=[t]:Rc.push(t)}function G4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pC(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ba(t,r)}function Ba(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yl=!1;function mC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ma(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Zt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ba(t,n)}return i=r.interleaved,i===null?(e.next=e,pC(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ba(t,n)}function sy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eC(t,n)}}function X3(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cv(t,e,n,r){var i=t.updateQueue;yl=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(f=e,h=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=Fn({},d,f);break e;case 2:yl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ru|=s,t.lanes=s,t.memoizedState=d}}function Y3(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($e(191,i));i.call(r)}}}var Gm={},Hs=Yl(Gm),Up=Yl(Gm),zp=Yl(Gm);function Pc(t){if(t===Gm)throw Error($e(174));return t}function gC(t,e){switch(wn(zp,e),wn(Up,t),wn(Hs,Gm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uA(e,t)}Cn(Hs),wn(Hs,e)}function rf(){Cn(Hs),Cn(Up),Cn(zp)}function W4(t){Pc(zp.current);var e=Pc(Hs.current),n=uA(e,t.type);e!==n&&(wn(Up,t),wn(Hs,n))}function yC(t){Up.current===t&&(Cn(Hs),Cn(Up))}var Rn=Yl(0);function uv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nb=[];function vC(){for(var t=0;t<Nb.length;t++)Nb[t]._workInProgressVersionPrimary=null;Nb.length=0}var ay=Va.ReactCurrentDispatcher,kb=Va.ReactCurrentBatchConfig,nu=0,kn=null,ur=null,Er=null,dv=!1,ap=!1,jp=0,mV=0;function Gr(){throw Error($e(321))}function wC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hs(t[n],e[n]))return!1;return!0}function bC(t,e,n,r,i,o){if(nu=o,kn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ay.current=t===null||t.memoizedState===null?wV:bV,t=n(r,i),ap){o=0;do{if(ap=!1,jp=0,25<=o)throw Error($e(301));o+=1,Er=ur=null,e.updateQueue=null,ay.current=xV,t=n(r,i)}while(ap)}if(ay.current=fv,e=ur!==null&&ur.next!==null,nu=0,Er=ur=kn=null,dv=!1,e)throw Error($e(300));return t}function xC(){var t=jp!==0;return jp=0,t}function Ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?kn.memoizedState=Er=t:Er=Er.next=t,Er}function ko(){if(ur===null){var t=kn.alternate;t=t!==null?t.memoizedState:null}else t=ur.next;var e=Er===null?kn.memoizedState:Er.next;if(e!==null)Er=e,ur=t;else{if(t===null)throw Error($e(310));ur=t,t={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},Er===null?kn.memoizedState=Er=t:Er=Er.next=t}return Er}function Gp(t,e){return typeof e=="function"?e(t):e}function Fb(t){var e=ko(),n=e.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=t;var r=ur,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((nu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,kn.lanes|=u,ru|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,hs(r,e.memoizedState)||(Ti=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,kn.lanes|=o,ru|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ob(t){var e=ko(),n=e.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);hs(o,e.memoizedState)||(Ti=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function V4(){}function $4(t,e){var n=kn,r=ko(),i=e(),o=!hs(r.memoizedState,i);if(o&&(r.memoizedState=i,Ti=!0),r=r.queue,EC(Q4.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Er!==null&&Er.memoizedState.tag&1){if(n.flags|=2048,Hp(9,K4.bind(null,n,r,i,e),void 0,null),Tr===null)throw Error($e(349));nu&30||q4(n,e,i)}return i}function q4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kn.updateQueue,e===null?(e={lastEffect:null,stores:null},kn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function K4(t,e,n,r){e.value=n,e.getSnapshot=r,X4(e)&&Y4(t)}function Q4(t,e,n){return n(function(){X4(e)&&Y4(t)})}function X4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hs(t,n)}catch{return!0}}function Y4(t){var e=Ba(t,1);e!==null&&cs(e,t,1,-1)}function J3(t){var e=Ss();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:t},e.queue=t,t=t.dispatch=vV.bind(null,kn,t),[e.memoizedState,t]}function Hp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=kn.updateQueue,e===null?(e={lastEffect:null,stores:null},kn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function J4(){return ko().memoizedState}function ly(t,e,n,r){var i=Ss();kn.flags|=t,i.memoizedState=Hp(1|e,n,void 0,r===void 0?null:r)}function Iw(t,e,n,r){var i=ko();r=r===void 0?null:r;var o=void 0;if(ur!==null){var s=ur.memoizedState;if(o=s.destroy,r!==null&&wC(r,s.deps)){i.memoizedState=Hp(e,n,o,r);return}}kn.flags|=t,i.memoizedState=Hp(1|e,n,o,r)}function Z3(t,e){return ly(8390656,8,t,e)}function EC(t,e){return Iw(2048,8,t,e)}function Z4(t,e){return Iw(4,2,t,e)}function eO(t,e){return Iw(4,4,t,e)}function tO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nO(t,e,n){return n=n!=null?n.concat([t]):null,Iw(4,4,tO.bind(null,e,t),n)}function AC(){}function rO(t,e){var n=ko();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iO(t,e){var n=ko();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oO(t,e,n){return nu&21?(hs(n,e)||(n=u4(),kn.lanes|=n,ru|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ti=!0),t.memoizedState=n)}function gV(t,e){var n=fn;fn=n!==0&&4>n?n:4,t(!0);var r=kb.transition;kb.transition={};try{t(!1),e()}finally{fn=n,kb.transition=r}}function sO(){return ko().memoizedState}function yV(t,e,n){var r=kl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aO(t))lO(e,n);else if(n=G4(t,e,n,r),n!==null){var i=fi();cs(n,t,r,i),cO(n,e,r)}}function vV(t,e,n){var r=kl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aO(t))lO(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,hs(a,s)){var l=e.interleaved;l===null?(i.next=i,pC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=G4(t,e,i,r),n!==null&&(i=fi(),cs(n,t,r,i),cO(n,e,r))}}function aO(t){var e=t.alternate;return t===kn||e!==null&&e===kn}function lO(t,e){ap=dv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eC(t,n)}}var fv={readContext:No,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},wV={readContext:No,useCallback:function(t,e){return Ss().memoizedState=[t,e===void 0?null:e],t},useContext:No,useEffect:Z3,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ly(4194308,4,tO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ly(4194308,4,t,e)},useInsertionEffect:function(t,e){return ly(4,2,t,e)},useMemo:function(t,e){var n=Ss();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ss();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yV.bind(null,kn,t),[r.memoizedState,t]},useRef:function(t){var e=Ss();return t={current:t},e.memoizedState=t},useState:J3,useDebugValue:AC,useDeferredValue:function(t){return Ss().memoizedState=t},useTransition:function(){var t=J3(!1),e=t[0];return t=gV.bind(null,t[1]),Ss().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=kn,i=Ss();if(In){if(n===void 0)throw Error($e(407));n=n()}else{if(n=e(),Tr===null)throw Error($e(349));nu&30||q4(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Z3(Q4.bind(null,r,o,t),[t]),r.flags|=2048,Hp(9,K4.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ss(),e=Tr.identifierPrefix;if(In){var n=Aa,r=Ea;n=(r&~(1<<32-ls(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=jp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bV={readContext:No,useCallback:rO,useContext:No,useEffect:EC,useImperativeHandle:nO,useInsertionEffect:Z4,useLayoutEffect:eO,useMemo:iO,useReducer:Fb,useRef:J4,useState:function(){return Fb(Gp)},useDebugValue:AC,useDeferredValue:function(t){var e=ko();return oO(e,ur.memoizedState,t)},useTransition:function(){var t=Fb(Gp)[0],e=ko().memoizedState;return[t,e]},useMutableSource:V4,useSyncExternalStore:$4,useId:sO,unstable_isNewReconciler:!1},xV={readContext:No,useCallback:rO,useContext:No,useEffect:EC,useImperativeHandle:nO,useInsertionEffect:Z4,useLayoutEffect:eO,useMemo:iO,useReducer:Ob,useRef:J4,useState:function(){return Ob(Gp)},useDebugValue:AC,useDeferredValue:function(t){var e=ko();return ur===null?e.memoizedState=t:oO(e,ur.memoizedState,t)},useTransition:function(){var t=Ob(Gp)[0],e=ko().memoizedState;return[t,e]},useMutableSource:V4,useSyncExternalStore:$4,useId:sO,unstable_isNewReconciler:!1};function $o(t,e){if(t&&t.defaultProps){e=Fn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function PA(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rw={isMounted:function(t){return(t=t._reactInternals)?Tu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fi(),i=kl(t),o=Ma(r,i);o.payload=e,n!=null&&(o.callback=n),e=Pl(t,o,i),e!==null&&(cs(e,t,i,r),sy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fi(),i=kl(t),o=Ma(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Pl(t,o,i),e!==null&&(cs(e,t,i,r),sy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fi(),r=kl(t),i=Ma(n,r);i.tag=2,e!=null&&(i.callback=e),e=Pl(t,i,r),e!==null&&(cs(e,t,r,n),sy(e,t,r))}};function eM(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Op(n,r)||!Op(i,o):!0}function uO(t,e,n){var r=!1,i=Gl,o=e.contextType;return typeof o=="object"&&o!==null?o=No(o):(i=ki(e)?eu:ei.current,r=e.contextTypes,o=(r=r!=null)?ef(t,i):Gl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function tM(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rw.enqueueReplaceState(e,e.state,null)}function NA(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mC(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=No(o):(o=ki(e)?eu:ei.current,i.context=ef(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(PA(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rw.enqueueReplaceState(i,i.state,null),cv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function of(t,e){try{var n="",r=e;do n+=QH(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Bb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kA(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var EV=typeof WeakMap=="function"?WeakMap:Map;function dO(t,e,n){n=Ma(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pv||(pv=!0,HA=r),kA(t,e)},n}function fO(t,e,n){n=Ma(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kA(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){kA(t,e),typeof r!="function"&&(Nl===null?Nl=new Set([this]):Nl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function nM(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new EV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BV.bind(null,t,e,n),e.then(t,t))}function rM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iM(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ma(-1,1),e.tag=2,Pl(n,e,1))),n.lanes|=1),t)}var AV=Va.ReactCurrentOwner,Ti=!1;function ni(t,e,n,r){e.child=t===null?j4(e,null,n,r):nf(e,t.child,n,r)}function oM(t,e,n,r,i){n=n.render;var o=e.ref;return Dd(e,i),r=bC(t,e,n,r,o,i),n=xC(),t!==null&&!Ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,La(t,e,i)):(In&&n&&lC(e),e.flags|=1,ni(t,e,r,i),e.child)}function sM(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!PC(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,hO(t,e,o,r,i)):(t=fy(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Op,n(s,r)&&t.ref===e.ref)return La(t,e,i)}return e.flags|=1,t=Fl(o,r),t.ref=e.ref,t.return=e,e.child=t}function hO(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Op(o,r)&&t.ref===e.ref)if(Ti=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ti=!0);else return e.lanes=t.lanes,La(t,e,i)}return FA(t,e,n,r,i)}function pO(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wn(Sd,Xi),Xi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,wn(Sd,Xi),Xi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,wn(Sd,Xi),Xi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,wn(Sd,Xi),Xi|=r;return ni(t,e,i,n),e.child}function mO(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function FA(t,e,n,r,i){var o=ki(n)?eu:ei.current;return o=ef(e,o),Dd(e,i),n=bC(t,e,n,r,o,i),r=xC(),t!==null&&!Ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,La(t,e,i)):(In&&r&&lC(e),e.flags|=1,ni(t,e,n,i),e.child)}function aM(t,e,n,r,i){if(ki(n)){var o=!0;iv(e)}else o=!1;if(Dd(e,i),e.stateNode===null)cy(t,e),uO(e,n,r),NA(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=No(c):(c=ki(n)?eu:ei.current,c=ef(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&tM(e,s,r,c),yl=!1;var f=e.memoizedState;s.state=f,cv(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Ni.current||yl?(typeof u=="function"&&(PA(e,n,u,r),l=e.memoizedState),(a=yl||eM(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,H4(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:$o(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=No(l):(l=ki(n)?eu:ei.current,l=ef(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&tM(e,s,r,l),yl=!1,f=e.memoizedState,s.state=f,cv(e,r,s,i);var g=e.memoizedState;a!==d||f!==g||Ni.current||yl?(typeof h=="function"&&(PA(e,n,h,r),g=e.memoizedState),(c=yl||eM(e,n,c,r,f,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return OA(t,e,n,r,o,i)}function OA(t,e,n,r,i,o){mO(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&$3(e,n,!1),La(t,e,o);r=e.stateNode,AV.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=nf(e,t.child,null,o),e.child=nf(e,null,a,o)):ni(t,e,a,o),e.memoizedState=r.state,i&&$3(e,n,!0),e.child}function gO(t){var e=t.stateNode;e.pendingContext?V3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&V3(t,e.context,!1),gC(t,e.containerInfo)}function lM(t,e,n,r,i){return tf(),uC(i),e.flags|=256,ni(t,e,n,r),e.child}var BA={dehydrated:null,treeContext:null,retryLane:0};function LA(t){return{baseLanes:t,cachePool:null,transitions:null}}function yO(t,e,n){var r=e.pendingProps,i=Rn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),wn(Rn,i&1),t===null)return IA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=kw(s,r,0,null),t=$c(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=LA(n),e.memoizedState=BA,t):_C(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _V(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Fl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Fl(a,o):(o=$c(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?LA(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=BA,r}return o=t.child,t=o.sibling,r=Fl(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _C(t,e){return e=kw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function U0(t,e,n,r){return r!==null&&uC(r),nf(e,t.child,null,n),t=_C(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _V(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Bb(Error($e(422))),U0(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=kw({mode:"visible",children:r.children},i,0,null),o=$c(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&nf(e,t.child,null,s),e.child.memoizedState=LA(s),e.memoizedState=BA,o);if(!(e.mode&1))return U0(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error($e(419)),r=Bb(o,r,void 0),U0(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ti||a){if(r=Tr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ba(t,i),cs(r,t,i,-1))}return RC(),r=Bb(Error($e(421))),U0(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LV.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ro=Rl(i.nextSibling),so=e,In=!0,Zo=null,t!==null&&(_o[So++]=Ea,_o[So++]=Aa,_o[So++]=tu,Ea=t.id,Aa=t.overflow,tu=e),e=_C(e,r.children),e.flags|=4096,e)}function cM(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),RA(t.return,e,n)}function Lb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function vO(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ni(t,e,r.children,n),r=Rn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cM(t,n,e);else if(t.tag===19)cM(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(wn(Rn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&uv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&uv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lb(e,!0,n,null,o);break;case"together":Lb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function La(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ru|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($e(153));if(e.child!==null){for(t=e.child,n=Fl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SV(t,e,n){switch(e.tag){case 3:gO(e),tf();break;case 5:W4(e);break;case 1:ki(e.type)&&iv(e);break;case 4:gC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;wn(av,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(wn(Rn,Rn.current&1),e.flags|=128,null):n&e.child.childLanes?yO(t,e,n):(wn(Rn,Rn.current&1),t=La(t,e,n),t!==null?t.sibling:null);wn(Rn,Rn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vO(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wn(Rn,Rn.current),r)break;return null;case 22:case 23:return e.lanes=0,pO(t,e,n)}return La(t,e,n)}var wO,DA,bO,xO;wO=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};DA=function(){};bO=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Pc(Hs.current);var o=null;switch(n){case"input":i=sA(t,i),r=sA(t,r),o=[];break;case"select":i=Fn({},i,{value:void 0}),r=Fn({},r,{value:void 0}),o=[];break;case"textarea":i=cA(t,i),r=cA(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nv)}dA(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Mp.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i?.[c],r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Mp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&An("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};xO=function(t,e,n,r){n!==r&&(e.flags|=4)};function wh(t,e){if(!In)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Hr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CV(t,e,n){var r=e.pendingProps;switch(cC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(e),null;case 1:return ki(e.type)&&rv(),Hr(e),null;case 3:return r=e.stateNode,rf(),Cn(Ni),Cn(ei),vC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(L0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zo!==null&&($A(Zo),Zo=null))),DA(t,e),Hr(e),null;case 5:yC(e);var i=Pc(zp.current);if(n=e.type,t!==null&&e.stateNode!=null)bO(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($e(166));return Hr(e),null}if(t=Pc(Hs.current),L0(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Os]=e,r[Dp]=o,t=(e.mode&1)!==0,n){case"dialog":An("cancel",r),An("close",r);break;case"iframe":case"object":case"embed":An("load",r);break;case"video":case"audio":for(i=0;i<$h.length;i++)An($h[i],r);break;case"source":An("error",r);break;case"img":case"image":case"link":An("error",r),An("load",r);break;case"details":An("toggle",r);break;case"input":v3(r,o),An("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},An("invalid",r);break;case"textarea":b3(r,o),An("invalid",r)}dA(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&B0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&B0(r.textContent,a,t),i=["children",""+a]):Mp.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&An("scroll",r)}switch(n){case"input":M0(r),w3(r,o,!0);break;case"textarea":M0(r),x3(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=nv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QF(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Os]=e,t[Dp]=r,wO(t,e,!1,!1),e.stateNode=t;e:{switch(s=fA(n,r),n){case"dialog":An("cancel",t),An("close",t),i=r;break;case"iframe":case"object":case"embed":An("load",t),i=r;break;case"video":case"audio":for(i=0;i<$h.length;i++)An($h[i],t);i=r;break;case"source":An("error",t),i=r;break;case"img":case"image":case"link":An("error",t),An("load",t),i=r;break;case"details":An("toggle",t),i=r;break;case"input":v3(t,r),i=sA(t,r),An("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fn({},r,{value:void 0}),An("invalid",t);break;case"textarea":b3(t,r),i=cA(t,r),An("invalid",t);break;default:i=r}dA(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?JF(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XF(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ip(t,l):typeof l=="number"&&Ip(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Mp.hasOwnProperty(o)?l!=null&&o==="onScroll"&&An("scroll",t):l!=null&&KS(t,o,l,s))}switch(n){case"input":M0(t),w3(t,r,!1);break;case"textarea":M0(t),x3(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Fd(t,!!r.multiple,o,!1):r.defaultValue!=null&&Fd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=nv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hr(e),null;case 6:if(t&&e.stateNode!=null)xO(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($e(166));if(n=Pc(zp.current),Pc(Hs.current),L0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Os]=e,(o=r.nodeValue!==n)&&(t=so,t!==null))switch(t.tag){case 3:B0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&B0(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Os]=e,e.stateNode=r}return Hr(e),null;case 13:if(Cn(Rn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(In&&ro!==null&&e.mode&1&&!(e.flags&128))U4(),tf(),e.flags|=98560,o=!1;else if(o=L0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error($e(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($e(317));o[Os]=e}else tf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hr(e),o=!1}else Zo!==null&&($A(Zo),Zo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Rn.current&1?fr===0&&(fr=3):RC())),e.updateQueue!==null&&(e.flags|=4),Hr(e),null);case 4:return rf(),DA(t,e),t===null&&Bp(e.stateNode.containerInfo),Hr(e),null;case 10:return hC(e.type._context),Hr(e),null;case 17:return ki(e.type)&&rv(),Hr(e),null;case 19:if(Cn(Rn),o=e.memoizedState,o===null)return Hr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)wh(o,!1);else{if(fr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=uv(t),s!==null){for(e.flags|=128,wh(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return wn(Rn,Rn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Kn()>sf&&(e.flags|=128,r=!0,wh(o,!1),e.lanes=4194304)}else{if(!r)if(t=uv(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!In)return Hr(e),null}else 2*Kn()-o.renderingStartTime>sf&&n!==1073741824&&(e.flags|=128,r=!0,wh(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Kn(),e.sibling=null,n=Rn.current,wn(Rn,r?n&1|2:n&1),e):(Hr(e),null);case 22:case 23:return IC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xi&1073741824&&(Hr(e),e.subtreeFlags&6&&(e.flags|=8192)):Hr(e),null;case 24:return null;case 25:return null}throw Error($e(156,e.tag))}function TV(t,e){switch(cC(e),e.tag){case 1:return ki(e.type)&&rv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rf(),Cn(Ni),Cn(ei),vC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yC(e),null;case 13:if(Cn(Rn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($e(340));tf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Cn(Rn),null;case 4:return rf(),null;case 10:return hC(e.type._context),null;case 22:case 23:return IC(),null;case 24:return null;default:return null}}var z0=!1,Kr=!1,MV=typeof WeakSet=="function"?WeakSet:Set,xt=null;function _d(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Un(t,e,r)}else n.current=null}function UA(t,e,n){try{n()}catch(r){Un(t,e,r)}}var uM=!1;function IV(t,e){if(EA=Zy,t=C4(),aC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(AA={focusedElem:t,selectionRange:n},Zy=!1,xt=e;xt!==null;)if(e=xt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xt=t;else for(;xt!==null;){e=xt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,p=e.stateNode,v=p.getSnapshotBeforeUpdate(e.elementType===e.type?m:$o(e.type,m),y);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($e(163))}}catch(x){Un(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,xt=t;break}xt=e.return}return g=uM,uM=!1,g}function lp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&UA(e,n,o)}i=i.next}while(i!==r)}}function Pw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zA(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function EO(t){var e=t.alternate;e!==null&&(t.alternate=null,EO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Os],delete e[Dp],delete e[CA],delete e[dV],delete e[fV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AO(t){return t.tag===5||t.tag===3||t.tag===4}function dM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nv));else if(r!==4&&(t=t.child,t!==null))for(jA(t,e,n),t=t.sibling;t!==null;)jA(t,e,n),t=t.sibling}function GA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(GA(t,e,n),t=t.sibling;t!==null;)GA(t,e,n),t=t.sibling}var kr=null,Yo=!1;function Ja(t,e,n){for(n=n.child;n!==null;)_O(t,e,n),n=n.sibling}function _O(t,e,n){if(Gs&&typeof Gs.onCommitFiberUnmount=="function")try{Gs.onCommitFiberUnmount(Aw,n)}catch{}switch(n.tag){case 5:Kr||_d(n,e);case 6:var r=kr,i=Yo;kr=null,Ja(t,e,n),kr=r,Yo=i,kr!==null&&(Yo?(t=kr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kr.removeChild(n.stateNode));break;case 18:kr!==null&&(Yo?(t=kr,n=n.stateNode,t.nodeType===8?Rb(t.parentNode,n):t.nodeType===1&&Rb(t,n),kp(t)):Rb(kr,n.stateNode));break;case 4:r=kr,i=Yo,kr=n.stateNode.containerInfo,Yo=!0,Ja(t,e,n),kr=r,Yo=i;break;case 0:case 11:case 14:case 15:if(!Kr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&UA(n,e,s),i=i.next}while(i!==r)}Ja(t,e,n);break;case 1:if(!Kr&&(_d(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Un(n,e,a)}Ja(t,e,n);break;case 21:Ja(t,e,n);break;case 22:n.mode&1?(Kr=(r=Kr)||n.memoizedState!==null,Ja(t,e,n),Kr=r):Ja(t,e,n);break;default:Ja(t,e,n)}}function fM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new MV),e.forEach(function(r){var i=DV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Go(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:kr=a.stateNode,Yo=!1;break e;case 3:kr=a.stateNode.containerInfo,Yo=!0;break e;case 4:kr=a.stateNode.containerInfo,Yo=!0;break e}a=a.return}if(kr===null)throw Error($e(160));_O(o,s,i),kr=null,Yo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Un(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SO(e,t),e=e.sibling}function SO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Go(e,t),bs(t),r&4){try{lp(3,t,t.return),Pw(3,t)}catch(m){Un(t,t.return,m)}try{lp(5,t,t.return)}catch(m){Un(t,t.return,m)}}break;case 1:Go(e,t),bs(t),r&512&&n!==null&&_d(n,n.return);break;case 5:if(Go(e,t),bs(t),r&512&&n!==null&&_d(n,n.return),t.flags&32){var i=t.stateNode;try{Ip(i,"")}catch(m){Un(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&qF(i,o),fA(a,s);var c=fA(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?JF(i,d):u==="dangerouslySetInnerHTML"?XF(i,d):u==="children"?Ip(i,d):KS(i,u,d,c)}switch(a){case"input":aA(i,o);break;case"textarea":KF(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Fd(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Fd(i,!!o.multiple,o.defaultValue,!0):Fd(i,!!o.multiple,o.multiple?[]:"",!1))}i[Dp]=o}catch(m){Un(t,t.return,m)}}break;case 6:if(Go(e,t),bs(t),r&4){if(t.stateNode===null)throw Error($e(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){Un(t,t.return,m)}}break;case 3:if(Go(e,t),bs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kp(e.containerInfo)}catch(m){Un(t,t.return,m)}break;case 4:Go(e,t),bs(t);break;case 13:Go(e,t),bs(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(TC=Kn())),r&4&&fM(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Kr=(c=Kr)||u,Go(e,t),Kr=c):Go(e,t),bs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(xt=t,u=t.child;u!==null;){for(d=xt=u;xt!==null;){switch(f=xt,h=f.child,f.tag){case 0:case 11:case 14:case 15:lp(4,f,f.return);break;case 1:_d(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Un(r,n,m)}}break;case 5:_d(f,f.return);break;case 22:if(f.memoizedState!==null){pM(d);continue}}h!==null?(h.return=f,xt=h):pM(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=YF("display",s))}catch(m){Un(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Un(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Go(e,t),bs(t),r&4&&fM(t);break;case 21:break;default:Go(e,t),bs(t)}}function bs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(AO(n)){var r=n;break e}n=n.return}throw Error($e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ip(i,""),r.flags&=-33);var o=dM(t);GA(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=dM(t);jA(t,a,s);break;default:throw Error($e(161))}}catch(l){Un(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RV(t,e,n){xt=t,CO(t)}function CO(t,e,n){for(var r=(t.mode&1)!==0;xt!==null;){var i=xt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||z0;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Kr;a=z0;var c=Kr;if(z0=s,(Kr=l)&&!c)for(xt=i;xt!==null;)s=xt,l=s.child,s.tag===22&&s.memoizedState!==null?mM(i):l!==null?(l.return=s,xt=l):mM(i);for(;o!==null;)xt=o,CO(o),o=o.sibling;xt=i,z0=a,Kr=c}hM(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,xt=o):hM(t)}}function hM(t){for(;xt!==null;){var e=xt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kr||Pw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$o(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Y3(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Y3(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&kp(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($e(163))}Kr||e.flags&512&&zA(e)}catch(f){Un(e,e.return,f)}}if(e===t){xt=null;break}if(n=e.sibling,n!==null){n.return=e.return,xt=n;break}xt=e.return}}function pM(t){for(;xt!==null;){var e=xt;if(e===t){xt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xt=n;break}xt=e.return}}function mM(t){for(;xt!==null;){var e=xt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pw(4,e)}catch(l){Un(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Un(e,i,l)}}var o=e.return;try{zA(e)}catch(l){Un(e,o,l)}break;case 5:var s=e.return;try{zA(e)}catch(l){Un(e,s,l)}}}catch(l){Un(e,e.return,l)}if(e===t){xt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xt=a;break}xt=e.return}}var PV=Math.ceil,hv=Va.ReactCurrentDispatcher,SC=Va.ReactCurrentOwner,Po=Va.ReactCurrentBatchConfig,Zt=0,Tr=null,nr=null,zr=0,Xi=0,Sd=Yl(0),fr=0,Wp=null,ru=0,Nw=0,CC=0,cp=null,_i=null,TC=0,sf=1/0,ua=null,pv=!1,HA=null,Nl=null,j0=!1,Al=null,mv=0,up=0,WA=null,uy=-1,dy=0;function fi(){return Zt&6?Kn():uy!==-1?uy:uy=Kn()}function kl(t){return t.mode&1?Zt&2&&zr!==0?zr&-zr:pV.transition!==null?(dy===0&&(dy=u4()),dy):(t=fn,t!==0||(t=window.event,t=t===void 0?16:y4(t.type)),t):1}function cs(t,e,n,r){if(50<up)throw up=0,WA=null,Error($e(185));Um(t,n,r),(!(Zt&2)||t!==Tr)&&(t===Tr&&(!(Zt&2)&&(Nw|=n),fr===4&&bl(t,zr)),Fi(t,r),n===1&&Zt===0&&!(e.mode&1)&&(sf=Kn()+500,Mw&&Jl()))}function Fi(t,e){var n=t.callbackNode;pW(t,e);var r=Jy(t,t===Tr?zr:0);if(r===0)n!==null&&_3(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_3(n),e===1)t.tag===0?hV(gM.bind(null,t)):B4(gM.bind(null,t)),cV(function(){!(Zt&6)&&Jl()}),n=null;else{switch(d4(r)){case 1:n=ZS;break;case 4:n=l4;break;case 16:n=Yy;break;case 536870912:n=c4;break;default:n=Yy}n=FO(n,TO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TO(t,e){if(uy=-1,dy=0,Zt&6)throw Error($e(327));var n=t.callbackNode;if(Ud()&&t.callbackNode!==n)return null;var r=Jy(t,t===Tr?zr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gv(t,r);else{e=r;var i=Zt;Zt|=2;var o=IO();(Tr!==t||zr!==e)&&(ua=null,sf=Kn()+500,Vc(t,e));do try{FV();break}catch(a){MO(t,a)}while(!0);fC(),hv.current=o,Zt=i,nr!==null?e=0:(Tr=null,zr=0,e=fr)}if(e!==0){if(e===2&&(i=yA(t),i!==0&&(r=i,e=VA(t,i))),e===1)throw n=Wp,Vc(t,0),bl(t,r),Fi(t,Kn()),n;if(e===6)bl(t,r);else{if(i=t.current.alternate,!(r&30)&&!NV(i)&&(e=gv(t,r),e===2&&(o=yA(t),o!==0&&(r=o,e=VA(t,o))),e===1))throw n=Wp,Vc(t,0),bl(t,r),Fi(t,Kn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($e(345));case 2:mc(t,_i,ua);break;case 3:if(bl(t,r),(r&130023424)===r&&(e=TC+500-Kn(),10<e)){if(Jy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){fi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=SA(mc.bind(null,t,_i,ua),e);break}mc(t,_i,ua);break;case 4:if(bl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ls(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Kn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PV(r/1960))-r,10<r){t.timeoutHandle=SA(mc.bind(null,t,_i,ua),r);break}mc(t,_i,ua);break;case 5:mc(t,_i,ua);break;default:throw Error($e(329))}}}return Fi(t,Kn()),t.callbackNode===n?TO.bind(null,t):null}function VA(t,e){var n=cp;return t.current.memoizedState.isDehydrated&&(Vc(t,e).flags|=256),t=gv(t,e),t!==2&&(e=_i,_i=n,e!==null&&$A(e)),t}function $A(t){_i===null?_i=t:_i.push.apply(_i,t)}function NV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!hs(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bl(t,e){for(e&=~CC,e&=~Nw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ls(e),r=1<<n;t[n]=-1,e&=~r}}function gM(t){if(Zt&6)throw Error($e(327));Ud();var e=Jy(t,0);if(!(e&1))return Fi(t,Kn()),null;var n=gv(t,e);if(t.tag!==0&&n===2){var r=yA(t);r!==0&&(e=r,n=VA(t,r))}if(n===1)throw n=Wp,Vc(t,0),bl(t,e),Fi(t,Kn()),n;if(n===6)throw Error($e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mc(t,_i,ua),Fi(t,Kn()),null}function MC(t,e){var n=Zt;Zt|=1;try{return t(e)}finally{Zt=n,Zt===0&&(sf=Kn()+500,Mw&&Jl())}}function iu(t){Al!==null&&Al.tag===0&&!(Zt&6)&&Ud();var e=Zt;Zt|=1;var n=Po.transition,r=fn;try{if(Po.transition=null,fn=1,t)return t()}finally{fn=r,Po.transition=n,Zt=e,!(Zt&6)&&Jl()}}function IC(){Xi=Sd.current,Cn(Sd)}function Vc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lV(n)),nr!==null)for(n=nr.return;n!==null;){var r=n;switch(cC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rv();break;case 3:rf(),Cn(Ni),Cn(ei),vC();break;case 5:yC(r);break;case 4:rf();break;case 13:Cn(Rn);break;case 19:Cn(Rn);break;case 10:hC(r.type._context);break;case 22:case 23:IC()}n=n.return}if(Tr=t,nr=t=Fl(t.current,null),zr=Xi=e,fr=0,Wp=null,CC=Nw=ru=0,_i=cp=null,Rc!==null){for(e=0;e<Rc.length;e++)if(n=Rc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Rc=null}return t}function MO(t,e){do{var n=nr;try{if(fC(),ay.current=fv,dv){for(var r=kn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dv=!1}if(nu=0,Er=ur=kn=null,ap=!1,jp=0,SC.current=null,n===null||n.return===null){fr=1,Wp=e,nr=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=zr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=rM(s);if(h!==null){h.flags&=-257,iM(h,s,a,o,e),h.mode&1&&nM(o,c,e),e=h,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){nM(o,c,e),RC();break e}l=Error($e(426))}}else if(In&&a.mode&1){var y=rM(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),iM(y,s,a,o,e),uC(of(l,a));break e}}o=l=of(l,a),fr!==4&&(fr=2),cp===null?cp=[o]:cp.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=dO(o,l,e);X3(o,p);break e;case 1:a=l;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Nl===null||!Nl.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=fO(o,a,e);X3(o,x);break e}}o=o.return}while(o!==null)}PO(n)}catch(T){e=T,nr===n&&n!==null&&(nr=n=n.return);continue}break}while(!0)}function IO(){var t=hv.current;return hv.current=fv,t===null?fv:t}function RC(){(fr===0||fr===3||fr===2)&&(fr=4),Tr===null||!(ru&268435455)&&!(Nw&268435455)||bl(Tr,zr)}function gv(t,e){var n=Zt;Zt|=2;var r=IO();(Tr!==t||zr!==e)&&(ua=null,Vc(t,e));do try{kV();break}catch(i){MO(t,i)}while(!0);if(fC(),Zt=n,hv.current=r,nr!==null)throw Error($e(261));return Tr=null,zr=0,fr}function kV(){for(;nr!==null;)RO(nr)}function FV(){for(;nr!==null&&!oW();)RO(nr)}function RO(t){var e=kO(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,e===null?PO(t):nr=e,SC.current=null}function PO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TV(n,e),n!==null){n.flags&=32767,nr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fr=6,nr=null;return}}else if(n=CV(n,e,Xi),n!==null){nr=n;return}if(e=e.sibling,e!==null){nr=e;return}nr=e=t}while(e!==null);fr===0&&(fr=5)}function mc(t,e,n){var r=fn,i=Po.transition;try{Po.transition=null,fn=1,OV(t,e,n,r)}finally{Po.transition=i,fn=r}return null}function OV(t,e,n,r){do Ud();while(Al!==null);if(Zt&6)throw Error($e(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($e(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(mW(t,o),t===Tr&&(nr=Tr=null,zr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||j0||(j0=!0,FO(Yy,function(){return Ud(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Po.transition,Po.transition=null;var s=fn;fn=1;var a=Zt;Zt|=4,SC.current=null,IV(t,n),SO(n,t),tV(AA),Zy=!!EA,AA=EA=null,t.current=n,RV(n),sW(),Zt=a,fn=s,Po.transition=o}else t.current=n;if(j0&&(j0=!1,Al=t,mv=i),o=t.pendingLanes,o===0&&(Nl=null),cW(n.stateNode),Fi(t,Kn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pv)throw pv=!1,t=HA,HA=null,t;return mv&1&&t.tag!==0&&Ud(),o=t.pendingLanes,o&1?t===WA?up++:(up=0,WA=t):up=0,Jl(),null}function Ud(){if(Al!==null){var t=d4(mv),e=Po.transition,n=fn;try{if(Po.transition=null,fn=16>t?16:t,Al===null)var r=!1;else{if(t=Al,Al=null,mv=0,Zt&6)throw Error($e(331));var i=Zt;for(Zt|=4,xt=t.current;xt!==null;){var o=xt,s=o.child;if(xt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(xt=c;xt!==null;){var u=xt;switch(u.tag){case 0:case 11:case 15:lp(8,u,o)}var d=u.child;if(d!==null)d.return=u,xt=d;else for(;xt!==null;){u=xt;var f=u.sibling,h=u.return;if(EO(u),u===c){xt=null;break}if(f!==null){f.return=h,xt=f;break}xt=h}}}var g=o.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}xt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,xt=s;else e:for(;xt!==null;){if(o=xt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:lp(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,xt=p;break e}xt=o.return}}var v=t.current;for(xt=v;xt!==null;){s=xt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,xt=w;else e:for(s=v;xt!==null;){if(a=xt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pw(9,a)}}catch(T){Un(a,a.return,T)}if(a===s){xt=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,xt=x;break e}xt=a.return}}if(Zt=i,Jl(),Gs&&typeof Gs.onPostCommitFiberRoot=="function")try{Gs.onPostCommitFiberRoot(Aw,t)}catch{}r=!0}return r}finally{fn=n,Po.transition=e}}return!1}function yM(t,e,n){e=of(n,e),e=dO(t,e,1),t=Pl(t,e,1),e=fi(),t!==null&&(Um(t,1,e),Fi(t,e))}function Un(t,e,n){if(t.tag===3)yM(t,t,n);else for(;e!==null;){if(e.tag===3){yM(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nl===null||!Nl.has(r))){t=of(n,t),t=fO(e,t,1),e=Pl(e,t,1),t=fi(),e!==null&&(Um(e,1,t),Fi(e,t));break}}e=e.return}}function BV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fi(),t.pingedLanes|=t.suspendedLanes&n,Tr===t&&(zr&n)===n&&(fr===4||fr===3&&(zr&130023424)===zr&&500>Kn()-TC?Vc(t,0):CC|=n),Fi(t,e)}function NO(t,e){e===0&&(t.mode&1?(e=P0,P0<<=1,!(P0&130023424)&&(P0=4194304)):e=1);var n=fi();t=Ba(t,e),t!==null&&(Um(t,e,n),Fi(t,n))}function LV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NO(t,n)}function DV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($e(314))}r!==null&&r.delete(e),NO(t,n)}var kO;kO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ni.current)Ti=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ti=!1,SV(t,e,n);Ti=!!(t.flags&131072)}else Ti=!1,In&&e.flags&1048576&&L4(e,sv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cy(t,e),t=e.pendingProps;var i=ef(e,ei.current);Dd(e,n),i=bC(null,e,r,t,i,n);var o=xC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ki(r)?(o=!0,iv(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mC(e),i.updater=Rw,e.stateNode=i,i._reactInternals=e,NA(e,r,t,n),e=OA(null,e,r,!0,o,n)):(e.tag=0,In&&o&&lC(e),ni(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zV(r),t=$o(r,t),i){case 0:e=FA(null,e,r,t,n);break e;case 1:e=aM(null,e,r,t,n);break e;case 11:e=oM(null,e,r,t,n);break e;case 14:e=sM(null,e,r,$o(r.type,t),n);break e}throw Error($e(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),FA(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),aM(t,e,r,i,n);case 3:e:{if(gO(e),t===null)throw Error($e(387));r=e.pendingProps,o=e.memoizedState,i=o.element,H4(t,e),cv(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=of(Error($e(423)),e),e=lM(t,e,r,n,i);break e}else if(r!==i){i=of(Error($e(424)),e),e=lM(t,e,r,n,i);break e}else for(ro=Rl(e.stateNode.containerInfo.firstChild),so=e,In=!0,Zo=null,n=j4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tf(),r===i){e=La(t,e,n);break e}ni(t,e,r,n)}e=e.child}return e;case 5:return W4(e),t===null&&IA(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,_A(r,i)?s=null:o!==null&&_A(r,o)&&(e.flags|=32),mO(t,e),ni(t,e,s,n),e.child;case 6:return t===null&&IA(e),null;case 13:return yO(t,e,n);case 4:return gC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nf(e,null,r,n):ni(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),oM(t,e,r,i,n);case 7:return ni(t,e,e.pendingProps,n),e.child;case 8:return ni(t,e,e.pendingProps.children,n),e.child;case 12:return ni(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,wn(av,r._currentValue),r._currentValue=s,o!==null)if(hs(o.value,s)){if(o.children===i.children&&!Ni.current){e=La(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ma(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),RA(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error($e(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),RA(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ni(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Dd(e,n),i=No(i),r=r(i),e.flags|=1,ni(t,e,r,n),e.child;case 14:return r=e.type,i=$o(r,e.pendingProps),i=$o(r.type,i),sM(t,e,r,i,n);case 15:return hO(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),cy(t,e),e.tag=1,ki(r)?(t=!0,iv(e)):t=!1,Dd(e,n),uO(e,r,i),NA(e,r,i,n),OA(null,e,r,!0,t,n);case 19:return vO(t,e,n);case 22:return pO(t,e,n)}throw Error($e(156,e.tag))};function FO(t,e){return a4(t,e)}function UV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ro(t,e,n,r){return new UV(t,e,n,r)}function PC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zV(t){if(typeof t=="function")return PC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===XS)return 11;if(t===YS)return 14}return 2}function Fl(t,e){var n=t.alternate;return n===null?(n=Ro(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fy(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")PC(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case md:return $c(n.children,i,o,e);case QS:s=8,i|=8;break;case nA:return t=Ro(12,n,e,i|2),t.elementType=nA,t.lanes=o,t;case rA:return t=Ro(13,n,e,i),t.elementType=rA,t.lanes=o,t;case iA:return t=Ro(19,n,e,i),t.elementType=iA,t.lanes=o,t;case WF:return kw(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GF:s=10;break e;case HF:s=9;break e;case XS:s=11;break e;case YS:s=14;break e;case gl:s=16,r=null;break e}throw Error($e(130,t==null?t:typeof t,""))}return e=Ro(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function $c(t,e,n,r){return t=Ro(7,t,r,e),t.lanes=n,t}function kw(t,e,n,r){return t=Ro(22,t,r,e),t.elementType=WF,t.lanes=n,t.stateNode={isHidden:!1},t}function Db(t,e,n){return t=Ro(6,t,null,e),t.lanes=n,t}function Ub(t,e,n){return e=Ro(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wb(0),this.expirationTimes=wb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function NC(t,e,n,r,i,o,s,a,l){return t=new jV(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ro(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mC(o),t}function GV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function OO(t){if(!t)return Gl;t=t._reactInternals;e:{if(Tu(t)!==t||t.tag!==1)throw Error($e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ki(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($e(171))}if(t.tag===1){var n=t.type;if(ki(n))return O4(t,n,e)}return e}function BO(t,e,n,r,i,o,s,a,l){return t=NC(n,r,!0,t,i,o,s,a,l),t.context=OO(null),n=t.current,r=fi(),i=kl(n),o=Ma(r,i),o.callback=e??null,Pl(n,o,i),t.current.lanes=i,Um(t,i,r),Fi(t,r),t}function Fw(t,e,n,r){var i=e.current,o=fi(),s=kl(i);return n=OO(n),e.context===null?e.context=n:e.pendingContext=n,e=Ma(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pl(i,e,s),t!==null&&(cs(t,i,s,o),sy(t,i,s)),s}function yv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kC(t,e){vM(t,e),(t=t.alternate)&&vM(t,e)}function HV(){return null}var LO=typeof reportError=="function"?reportError:function(t){console.error(t)};function FC(t){this._internalRoot=t}Ow.prototype.render=FC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($e(409));Fw(t,e,null,null)};Ow.prototype.unmount=FC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;iu(function(){Fw(null,t,null,null)}),e[Oa]=null}};function Ow(t){this._internalRoot=t}Ow.prototype.unstable_scheduleHydration=function(t){if(t){var e=p4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wl.length&&e!==0&&e<wl[n].priority;n++);wl.splice(n,0,t),n===0&&g4(t)}};function OC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wM(){}function WV(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=yv(s);o.call(c)}}var s=BO(e,r,t,0,null,!1,!1,"",wM);return t._reactRootContainer=s,t[Oa]=s.current,Bp(t.nodeType===8?t.parentNode:t),iu(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=yv(l);a.call(c)}}var l=NC(t,0,!1,null,null,!1,!1,"",wM);return t._reactRootContainer=l,t[Oa]=l.current,Bp(t.nodeType===8?t.parentNode:t),iu(function(){Fw(e,l,n,r)}),l}function Lw(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=yv(s);a.call(l)}}Fw(e,s,t,i)}else s=WV(n,e,t,i,r);return yv(s)}f4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vh(e.pendingLanes);n!==0&&(eC(e,n|1),Fi(e,Kn()),!(Zt&6)&&(sf=Kn()+500,Jl()))}break;case 13:iu(function(){var r=Ba(t,1);if(r!==null){var i=fi();cs(r,t,1,i)}}),kC(t,1)}};tC=function(t){if(t.tag===13){var e=Ba(t,134217728);if(e!==null){var n=fi();cs(e,t,134217728,n)}kC(t,134217728)}};h4=function(t){if(t.tag===13){var e=kl(t),n=Ba(t,e);if(n!==null){var r=fi();cs(n,t,e,r)}kC(t,e)}};p4=function(){return fn};m4=function(t,e){var n=fn;try{return fn=t,e()}finally{fn=n}};pA=function(t,e,n){switch(e){case"input":if(aA(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tw(r);if(!i)throw Error($e(90));$F(r),aA(r,i)}}}break;case"textarea":KF(t,n);break;case"select":e=n.value,e!=null&&Fd(t,!!n.multiple,e,!1)}};t4=MC;n4=iu;var VV={usingClientEntryPoint:!1,Events:[jm,wd,Tw,ZF,e4,MC]},bh={findFiberByHostInstance:Ic,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$V={bundleType:bh.bundleType,version:bh.version,rendererPackageName:bh.rendererPackageName,rendererConfig:bh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Va.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=o4(t),t===null?null:t.stateNode},findFiberByHostInstance:bh.findFiberByHostInstance||HV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var G0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!G0.isDisabled&&G0.supportsFiber)try{Aw=G0.inject($V),Gs=G0}catch{}}co.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VV;co.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!OC(e))throw Error($e(200));return GV(t,e,null,n)};co.createRoot=function(t,e){if(!OC(t))throw Error($e(299));var n=!1,r="",i=LO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=NC(t,1,!1,null,null,n,!1,r,i),t[Oa]=e.current,Bp(t.nodeType===8?t.parentNode:t),new FC(e)};co.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($e(188)):(t=Object.keys(t).join(","),Error($e(268,t)));return t=o4(e),t=t===null?null:t.stateNode,t};co.flushSync=function(t){return iu(t)};co.hydrate=function(t,e,n){if(!Bw(e))throw Error($e(200));return Lw(null,t,e,!0,n)};co.hydrateRoot=function(t,e,n){if(!OC(t))throw Error($e(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=LO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=BO(e,null,t,1,n??null,i,!1,o,s),t[Oa]=e.current,Bp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ow(e)};co.render=function(t,e,n){if(!Bw(e))throw Error($e(200));return Lw(null,t,e,!1,n)};co.unmountComponentAtNode=function(t){if(!Bw(t))throw Error($e(40));return t._reactRootContainer?(iu(function(){Lw(null,null,t,!1,function(){t._reactRootContainer=null,t[Oa]=null})}),!0):!1};co.unstable_batchedUpdates=MC;co.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bw(n))throw Error($e(200));if(t==null||t._reactInternals===void 0)throw Error($e(38));return Lw(t,e,n,!1,r)};co.version="18.3.1-next-f1338f8080-20240426";function DO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DO)}catch(t){console.error(t)}}DO(),DF.exports=co;var Dw=DF.exports;const UO=Om(Dw),qV=nF({__proto__:null,default:UO},[Dw]);var bM=Dw;eA.createRoot=bM.createRoot,eA.hydrateRoot=bM.hydrateRoot;const zO="2.31.2";let zb={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${zO}`},Fe=class qA extends Error{constructor(e,n={}){const r=n.cause instanceof qA?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof qA&&n.cause.docsPath||n.docsPath,o=zb.getDocsUrl?.({...n,docsPath:i}),s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...zb.version?[`Version: ${zb.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=zO}walk(e){return jO(this,e)}};function jO(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?jO(t.cause,e):e?null:t}let GO=class extends Fe{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class KV extends Fe{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class QV extends Fe{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let XV=class extends Fe{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}},HO=class extends Fe{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},WO=class extends Fe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class xM extends Fe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Hf(t,{dir:e,size:n=32}={}){return typeof t=="string"?Ol(t,{dir:e,size:n}):YV(t,{dir:e,size:n})}function Ol(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new WO({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function YV(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new WO({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const o=e==="right";r[o?i:n-i-1]=t[o?i:t.length-i-1]}return r}function $s(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Nn(t){return $s(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Oi(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const JV=new TextEncoder;function Wf(t,e={}){return typeof t=="number"||typeof t=="bigint"?e$(t,e):typeof t=="boolean"?ZV(t,e):$s(t)?Fo(t,e):qc(t,e)}function ZV(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(zo(n,{size:e.size}),Hf(n,{size:e.size})):n}const Zs={zero:48,nine:57,A:65,F:70,a:97,f:102};function EM(t){if(t>=Zs.zero&&t<=Zs.nine)return t-Zs.zero;if(t>=Zs.A&&t<=Zs.F)return t-(Zs.A-10);if(t>=Zs.a&&t<=Zs.f)return t-(Zs.a-10)}function Fo(t,e={}){let n=t;e.size&&(zo(n,{size:e.size}),n=Hf(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,o=new Uint8Array(i);for(let s=0,a=0;s<i;s++){const l=EM(r.charCodeAt(a++)),c=EM(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new Fe(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[s]=l*16+c}return o}function e$(t,e){const n=Ge(t,e);return Fo(n)}function qc(t,e={}){const n=JV.encode(t);return typeof e.size=="number"?(zo(n,{size:e.size}),Hf(n,{dir:"right",size:e.size})):n}function zo(t,{size:e}){if(Nn(t)>e)throw new XV({givenSize:Nn(t),maxSize:e})}function Sr(t,e={}){const{signed:n}=e;e.size&&zo(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function t$(t,e={}){let n=t;if(e.size&&(zo(n,{size:e.size}),n=Oi(n)),Oi(n)==="0x00")return!1;if(Oi(n)==="0x01")return!0;throw new QV(n)}function Oo(t,e={}){return Number(Sr(t,e))}function n$(t,e={}){let n=Fo(t);return e.size&&(zo(n,{size:e.size}),n=Oi(n,{dir:"right"})),new TextDecoder().decode(n)}const r$=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function hi(t,e={}){return typeof t=="number"||typeof t=="bigint"?Ge(t,e):typeof t=="string"?af(t,e):typeof t=="boolean"?VO(t,e):or(t,e)}function VO(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(zo(n,{size:e.size}),Hf(n,{size:e.size})):n}function or(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=r$[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(zo(r,{size:e.size}),Hf(r,{dir:"right",size:e.size})):r}function Ge(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const l=typeof t=="bigint"?"n":"";throw new GO({max:o?`${o}${l}`:void 0,min:`${s}${l}`,signed:n,size:r,value:`${t}${l}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Hf(a,{size:r}):a}const i$=new TextEncoder;function af(t,e={}){const n=i$.encode(t);return or(n,e)}async function o$(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:o,blockExplorers:s}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Ge(n),chainName:r,nativeCurrency:i,rpcUrls:o.default.http,blockExplorerUrls:s?Object.values(s).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function ps(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new v$(t.type);return`${t.name}(${Uw(t.inputs,{includeName:e})})`}function Uw(t,{includeName:e=!1}={}){return t?t.map(n=>s$(n,{includeName:e})).join(e?", ":","):""}function s$(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Uw(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class a$ extends Fe{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class AM extends Fe{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class $O extends Fe{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Uw(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Hm extends Fe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class l$ extends Fe{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class c$ extends Fe{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Nn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class u$ extends Fe{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class d$ extends Fe{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class _M extends Fe{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class qO extends Fe{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class f$ extends Fe{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class KO extends Fe{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class SM extends Fe{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class lf extends Fe{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class QO extends Fe{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class h$ extends Fe{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class p$ extends Fe{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${ps(e.abiItem)}\`, and`,`\`${n.type}\` in \`${ps(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let m$=class extends Fe{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Vp extends Fe{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Uw(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class zw extends Fe{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ps(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class g$ extends Fe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class y$ extends Fe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let XO=class extends Fe{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class v$ extends Fe{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function qs(t){return typeof t[0]=="string"?gs(t):w$(t)}function w$(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function gs(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}let gi=class extends Fe{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},jw=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const H0=BigInt(2**32-1),CM=BigInt(32);function b$(t,e=!1){return e?{h:Number(t&H0),l:Number(t>>CM&H0)}:{h:Number(t>>CM&H0)|0,l:Number(t&H0)|0}}function x$(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=b$(t[o],e);[r[o],i[o]]=[s,a]}return[r,i]}const E$=(t,e,n)=>t<<n|e>>>32-n,A$=(t,e,n)=>e<<n|t>>>32-n,_$=(t,e,n)=>e<<n-32|t>>>64-n,S$=(t,e,n)=>t<<n-32|e>>>64-n,Hu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function BC(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $p(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ms(t,...e){if(!BC(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function C$(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");$p(t.outputLen),$p(t.blockLen)}function cf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function YO(t,e){ms(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function T$(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function uf(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function jb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function xs(t,e){return t<<32-e|t>>>e}const M$=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function I$(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function R$(t){for(let e=0;e<t.length;e++)t[e]=I$(t[e]);return t}const TM=M$?t=>t:R$,JO=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",P$=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function qp(t){if(ms(t),JO)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=P$[t[n]];return e}const ea={_0:48,_9:57,A:65,F:70,a:97,f:102};function MM(t){if(t>=ea._0&&t<=ea._9)return t-ea._0;if(t>=ea.A&&t<=ea.F)return t-(ea.A-10);if(t>=ea.a&&t<=ea.f)return t-(ea.a-10)}function LC(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(JO)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=MM(t.charCodeAt(o)),a=MM(t.charCodeAt(o+1));if(s===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function N$(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Wm(t){return typeof t=="string"&&(t=N$(t)),ms(t),t}function Nc(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];ms(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}let DC=class{};function ZO(t){const e=r=>t().update(Wm(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function k$(t){const e=(r,i)=>t(i).update(Wm(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function F$(t=32){if(Hu&&typeof Hu.getRandomValues=="function")return Hu.getRandomValues(new Uint8Array(t));if(Hu&&typeof Hu.randomBytes=="function")return Uint8Array.from(Hu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const O$=BigInt(0),xh=BigInt(1),B$=BigInt(2),L$=BigInt(7),D$=BigInt(256),U$=BigInt(113),eB=[],tB=[],nB=[];for(let t=0,e=xh,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],eB.push(2*(5*r+n)),tB.push((t+1)*(t+2)/2%64);let i=O$;for(let o=0;o<7;o++)e=(e<<xh^(e>>L$)*U$)%D$,e&B$&&(i^=xh<<(xh<<BigInt(o))-xh);nB.push(i)}const rB=x$(nB,!0),z$=rB[0],j$=rB[1],IM=(t,e,n)=>n>32?_$(t,e,n):E$(t,e,n),RM=(t,e,n)=>n>32?S$(t,e,n):A$(t,e,n);function iB(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],u=n[l+1],d=IM(c,u,1)^n[a],f=RM(c,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[s+h]^=d,t[s+h+1]^=f}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=tB[s],l=IM(i,o,a),c=RM(i,o,a),u=eB[s];i=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=z$[r],t[1]^=j$[r]}uf(n)}let UC=class oB extends DC{constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,$p(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=T$(this.state)}clone(){return this._cloneInto()}keccak(){TM(this.state32),iB(this.state32,this.rounds),TM(this.state32),this.posOut=0,this.pos=0}update(e){cf(this),e=Wm(e),ms(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){cf(this,!1),ms(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return $p(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(YO(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,uf(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new oB(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};const Zl=(t,e,n)=>ZO(()=>new UC(e,t,n)),G$=Zl(6,144,224/8),H$=Zl(6,136,256/8),W$=Zl(6,104,384/8),V$=Zl(6,72,512/8),$$=Zl(1,144,224/8),zC=Zl(1,136,256/8),q$=Zl(1,104,384/8),K$=Zl(1,72,512/8),sB=(t,e,n)=>k$((r={})=>new UC(e,t,r.dkLen===void 0?n:r.dkLen,!0)),Q$=sB(31,168,128/8),X$=sB(31,136,256/8),d_e=Object.freeze(Object.defineProperty({__proto__:null,Keccak:UC,keccakP:iB,keccak_224:$$,keccak_256:zC,keccak_384:q$,keccak_512:K$,sha3_224:G$,sha3_256:H$,sha3_384:W$,sha3_512:V$,shake128:Q$,shake256:X$},Symbol.toStringTag,{value:"Module"}));function Dr(t,e){const n=e||"hex",r=zC($s(t,{strict:!1})?Wf(t):t);return n==="bytes"?r:hi(r)}const Gb=new jw(8192);function Vm(t,e){if(Gb.has(`${t}.${e}`))return Gb.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Dr(qc(n),"bytes"),i=(e?n.substring(`${e}0x`.length):n).split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(r[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());const o=`0x${i.join("")}`;return Gb.set(`${t}.${e}`,o),o}function Ur(t,e){if(!sr(t,{strict:!1}))throw new gi({address:t});return Vm(t,e)}const Y$=/^0x[a-fA-F0-9]{40}$/,Hb=new jw(8192);function sr(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Hb.has(r))return Hb.get(r);const i=Y$.test(t)?t.toLowerCase()===t?!0:n?Vm(t)===t:!0:!1;return Hb.set(r,i),i}function ou(t,e,n,{strict:r}={}){return $s(t,{strict:!1})?vv(t,e,n,{strict:r}):cB(t,e,n,{strict:r})}function aB(t,e){if(typeof e=="number"&&e>0&&e>Nn(t)-1)throw new HO({offset:e,position:"start",size:Nn(t)})}function lB(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Nn(t)!==n-e)throw new HO({offset:n,position:"end",size:Nn(t)})}function cB(t,e,n,{strict:r}={}){aB(t,e);const i=t.slice(e,n);return r&&lB(i,e,n),i}function vv(t,e,n,{strict:r}={}){aB(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&lB(i,e,n),i}const J$=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,uB=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ec(t,e){if(t.length!==e.length)throw new u$({expectedLength:t.length,givenLength:e.length});const n=Z$({params:t,values:e}),r=GC(n);return r.length===0?"0x":r}function Z$({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(jC({param:t[r],value:e[r]}));return n}function jC({param:t,value:e}){const n=HC(t.type);if(n){const[r,i]=n;return tq(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return sq(e,{param:t});if(t.type==="address")return eq(e);if(t.type==="bool")return rq(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=uB.exec(t.type)??[];return iq(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return nq(e,{param:t});if(t.type==="string")return oq(e);throw new g$(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function GC(t){let e=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?e+=32:e+=Nn(a)}const n=[],r=[];let i=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?(n.push(Ge(e+i,{size:32})),r.push(a),i+=Nn(a)):n.push(a)}return qs([...n,...r])}function eq(t){if(!sr(t))throw new gi({address:t});return{dynamic:!1,encoded:Ol(t.toLowerCase())}}function tq(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new XO(t);if(!r&&t.length!==e)throw new l$({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const o=[];for(let s=0;s<t.length;s++){const a=jC({param:n,value:t[s]});a.dynamic&&(i=!0),o.push(a)}if(r||i){const s=GC(o);if(r){const a=Ge(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?qs([a,s]):a}}if(i)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:qs(o.map(({encoded:s})=>s))}}function nq(t,{param:e}){const[,n]=e.type.split("bytes"),r=Nn(t);if(!n){let i=t;return r%32!==0&&(i=Ol(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:qs([Ol(Ge(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new c$({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Ol(t,{dir:"right"})}}function rq(t){if(typeof t!="boolean")throw new Fe(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ol(VO(t))}}function iq(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new GO({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ge(t,{size:32,signed:e})}}function oq(t){const e=af(t),n=Math.ceil(Nn(e)/32),r=[];for(let i=0;i<n;i++)r.push(Ol(ou(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:qs([Ol(Ge(Nn(e),{size:32})),...r])}}function sq(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const o=e.components[i],s=Array.isArray(t)?i:o.name,a=jC({param:o,value:t[s]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?GC(r):qs(r.map(({encoded:i})=>i))}}function HC(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Wb="/docs/contract/encodeDeployData";function Gw(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(s=>"type"in s&&s.type==="constructor");if(!i)throw new a$({docsPath:Wb});if(!("inputs"in i))throw new AM({docsPath:Wb});if(!i.inputs||i.inputs.length===0)throw new AM({docsPath:Wb});const o=ec(i.inputs,n);return gs([r,o])}function Vn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class Mu extends Fe{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class hy extends Fe{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function aq(t){const e=Dr(`0x${t.substring(4)}`).substring(26);return Vm(`0x${e}`)}const lq="modulepreload",cq=function(t){return"/"+t},PM={},Qe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");i=Promise.allSettled(n.map(l=>{if(l=cq(l),l in PM)return;PM[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":lq,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};async function uq({hash:t,signature:e}){const n=$s(t)?t:hi(t),{secp256k1:r}=await Qe(async()=>{const{secp256k1:s}=await Promise.resolve().then(()=>OJ);return{secp256k1:s}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:d,yParity:f}=e,h=Number(f??d),g=NM(h);return new r.Signature(Sr(c),Sr(u)).addRecoveryBit(g)}const s=$s(e)?e:hi(e);if(Nn(s)!==65)throw new Error("invalid signature length");const a=Oo(`0x${s.slice(130)}`),l=NM(a);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function NM(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function dB({hash:t,signature:e}){return aq(await uq({hash:t,signature:e}))}class kM extends Fe{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class fB extends Fe{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class dq extends Fe{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const fq={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new dq({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new fB({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new kM({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new kM({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function WC(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(fq);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function Hl(t,e="hex"){const n=hB(t),r=WC(new Uint8Array(n.length));return n.encode(r),e==="hex"?or(r.bytes):r.bytes}function hB(t){return Array.isArray(t)?hq(t.map(e=>hB(e))):pq(t)}function hq(t){const e=t.reduce((i,o)=>i+o.length,0),n=pB(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:o}of t)o(i)}}}function pq(t){const e=typeof t=="string"?Fo(t):t,n=pB(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function pB(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Fe("Length is too large.")}function mq(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,o=Dr(gs(["0x05",Hl([e?Ge(e):"0x",i,n?Ge(n):"0x"])]));return r==="bytes"?Fo(o):o}async function mB(t){const{authorization:e,signature:n}=t;return dB({hash:mq(e),signature:n??e})}class KA extends Fe{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class gq extends Fe{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class yq extends Fe{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class gB extends Fe{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Hw extends Fe{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function yB({chain:t,currentChainId:e}){if(!t)throw new yq;if(e!==t.id)throw new gq({chain:t,currentChainId:e})}const vq={gwei:9,wei:18},wq={ether:-9,wei:9},bq={ether:-18,gwei:-9};function $m(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,o]=[n.slice(0,n.length-e),n.slice(n.length-e)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${o?`.${o}`:""}`}function Bi(t,e="wei"){return $m(t,wq[e])}class Cd extends Fe{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Cd,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Cd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class su extends Fe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Bi(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(su,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class QA extends Fe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Bi(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(QA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class XA extends Fe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(XA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class YA extends Fe{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(YA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class JA extends Fe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(JA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class ZA extends Fe{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(ZA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class e2 extends Fe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(e2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class t2 extends Fe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(t2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class n2 extends Fe{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(n2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Kp extends Fe{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Bi(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Bi(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Kp,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class qm extends Fe{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function Ww(t,e="wei"){return $m(t,vq[e])}function Km(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class xq extends Fe{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Eq extends Fe{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Aq extends Fe{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Km(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class _q extends Fe{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Sq extends Fe{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:d,value:f}){const h=Km({chain:i&&`${i?.name} (id: ${i?.id})`,from:n?.address,to:d,value:typeof f<"u"&&`${Ww(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${Bi(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Bi(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Bi(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class vB extends Fe{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:o}){let s="Transaction";r&&o!==void 0&&(s=`Transaction at block time "${r}" at index "${o}"`),e&&o!==void 0&&(s=`Transaction at block hash "${e}" at index "${o}"`),n&&o!==void 0&&(s=`Transaction at block number "${n}" at index "${o}"`),i&&(s=`Transaction with hash "${i}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class wB extends Fe{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Cq extends Fe{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const pr=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n),Tq=t=>t,VC=t=>t;class dp extends Fe{constructor({body:e,cause:n,details:r,headers:i,status:o,url:s}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${VC(s)}`,e&&`Request body: ${pr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=o,this.url=s}}class $C extends Fe{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${VC(r)}`,`Request body: ${pr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class FM extends Fe{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${VC(n)}`,`Request body: ${pr(e)}`],name:"TimeoutError"})}}const Mq=-1;class Hi extends Fe{constructor(e,{code:n,docsPath:r,metaMessages:i,name:o,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof $C?e.code:n??Mq}}class fo extends Hi{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Qp extends Hi{constructor(e){super(e,{code:Qp.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Xp extends Hi{constructor(e){super(e,{code:Xp.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Yp extends Hi{constructor(e,{method:n}={}){super(e,{code:Yp.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Jp extends Hi{constructor(e){super(e,{code:Jp.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class au extends Hi{constructor(e){super(e,{code:au.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(au,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class lu extends Hi{constructor(e){super(e,{code:lu.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(lu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Zp extends Hi{constructor(e){super(e,{code:Zp.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Bl extends Hi{constructor(e){super(e,{code:Bl.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Bl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class em extends Hi{constructor(e){super(e,{code:em.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(em,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class kc extends Hi{constructor(e,{method:n}={}){super(e,{code:kc.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(kc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class df extends Hi{constructor(e){super(e,{code:df.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(df,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class tm extends Hi{constructor(e){super(e,{code:tm.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(tm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Sn extends fo{constructor(e){super(e,{code:Sn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class nm extends fo{constructor(e){super(e,{code:nm.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(nm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class rm extends fo{constructor(e,{method:n}={}){super(e,{code:rm.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(rm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class im extends fo{constructor(e){super(e,{code:im.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(im,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class om extends fo{constructor(e){super(e,{code:om.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(om,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Bo extends fo{constructor(e){super(e,{code:Bo.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Bo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class ff extends fo{constructor(e){super(e,{code:ff.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(ff,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class sm extends fo{constructor(e){super(e,{code:sm.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(sm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class am extends fo{constructor(e){super(e,{code:am.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(am,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class lm extends fo{constructor(e){super(e,{code:lm.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(lm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class cm extends fo{constructor(e){super(e,{code:cm.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(cm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class um extends fo{constructor(e){super(e,{code:um.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(um,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class hf extends fo{constructor(e){super(e,{code:hf.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(hf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Iq extends Hi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function Vw(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof Fe?t.walk(i=>i?.code===Cd.code):t;return r instanceof Fe?new Cd({cause:t,message:r.details}):Cd.nodeMessage.test(n)?new Cd({cause:t,message:t.details}):su.nodeMessage.test(n)?new su({cause:t,maxFeePerGas:e?.maxFeePerGas}):QA.nodeMessage.test(n)?new QA({cause:t,maxFeePerGas:e?.maxFeePerGas}):XA.nodeMessage.test(n)?new XA({cause:t,nonce:e?.nonce}):YA.nodeMessage.test(n)?new YA({cause:t,nonce:e?.nonce}):JA.nodeMessage.test(n)?new JA({cause:t,nonce:e?.nonce}):ZA.nodeMessage.test(n)?new ZA({cause:t}):e2.nodeMessage.test(n)?new e2({cause:t,gas:e?.gas}):t2.nodeMessage.test(n)?new t2({cause:t,gas:e?.gas}):n2.nodeMessage.test(n)?new n2({cause:t}):Kp.nodeMessage.test(n)?new Kp({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new qm({cause:t})}function bB(t,{docsPath:e,...n}){const r=(()=>{const i=Vw(t,n);return i instanceof qm?t:i})();return new Sq(r,{docsPath:e,...n})}function $w(t,{format:e}){if(!e)return{};const n={};function r(o){const s=Object.keys(o);for(const a of s)a in t&&(n[a]=t[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const i=e(t||{});return r(i),n}function qC(t,e){return({exclude:n,format:r})=>({exclude:n,format:i=>{const o=e(i);if(n)for(const s of n)delete o[s];return{...o,...r(i)}},type:t})}const Rq={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Vf(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=Pq(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>or(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Ge(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Ge(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Ge(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Ge(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Ge(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Ge(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=Rq[t.type]),typeof t.value<"u"&&(e.value=Ge(t.value)),e}function Pq(t){return t.map(e=>({address:e.address,r:e.r?Ge(BigInt(e.r)):e.r,s:e.s?Ge(BigInt(e.s)):e.s,chainId:Ge(e.chainId),nonce:Ge(e.nonce),...typeof e.yParity<"u"?{yParity:Ge(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Ge(e.v)}:{}}))}function It(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:o=>e(t,o)}const qw=2n**256n-1n;function Iu(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:o}=t,s=e?Vn(e):void 0;if(s&&!sr(s.address))throw new gi({address:s.address});if(o&&!sr(o))throw new gi({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new xq;if(r&&r>qw)throw new su({maxFeePerGas:r});if(i&&r&&i>r)throw new Kp({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function $f(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Oo(e)}class Nq extends Fe{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class KC extends Fe{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class kq extends Fe{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Bi(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class xB extends Fe{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const EB={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Kw(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Oo(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Oo(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?EB[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=Oq(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const Fq=qC("transaction",Kw);function Oq(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function QC(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:Kw(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const Bq=qC("block",QC);async function Us(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:i}={}){const o=r??"latest",s=i??!1,a=n!==void 0?Ge(n):void 0;let l=null;if(e?l=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):l=await t.request({method:"eth_getBlockByNumber",params:[a||o,s]},{dedupe:!!a}),!l)throw new xB({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||QC)(l)}async function XC(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Lq(t,e){return AB(t,e)}async function AB(t,e){const{block:n,chain:r=t.chain,request:i}=e||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await It(t,Us,"getBlock")({}),l=await o({block:a,client:t,request:i});if(l===null)throw new Error;return l}if(typeof o<"u")return o;const s=await t.request({method:"eth_maxPriorityFeePerGas"});return Sr(s)}catch{const[o,s]=await Promise.all([n?Promise.resolve(n):It(t,Us,"getBlock")({}),It(t,XC,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new KC;const a=s-o.baseFeePerGas;return a<0n?0n:a}}async function Dq(t,e){return r2(t,e)}async function r2(t,e){const{block:n,chain:r=t.chain,request:i,type:o="eip1559"}=e||{},s=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):r?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new Nq;const l=10**(s.toString().split(".")[1]?.length??0),c=f=>f*BigInt(Math.ceil(s*l))/BigInt(l),u=n||await It(t,Us,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const f=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:c,request:i,type:o});if(f!==null)return f}if(o==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new KC;const f=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await AB(t,{block:u,chain:r,request:i}),h=c(u.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??h+f,maxPriorityFeePerGas:f}}return{gasPrice:i?.gasPrice??c(await It(t,XC,"getGasPrice")({}))}}class Uq extends Fe{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:d,value:f}){const h=Km({from:n?.address,to:d,value:typeof f<"u"&&`${Ww(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${Bi(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Bi(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Bi(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function zq(t,{docsPath:e,...n}){const r=(()=>{const i=Vw(t,n);return i instanceof qm?t:i})();return new Uq(r,{docsPath:e,...n})}class jq extends Fe{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Gq extends Fe{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function OM(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function Hq(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=OM(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=OM(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function BM(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new xM({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new xM({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function Wq(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:o}=t,s={};if(o!==void 0&&(s.code=o),e!==void 0&&(s.balance=Ge(e)),n!==void 0&&(s.nonce=Ge(n)),r!==void 0&&(s.state=BM(r)),i!==void 0){if(s.state)throw new Gq;s.stateDiff=BM(i)}return s}function YC(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!sr(n,{strict:!1}))throw new gi({address:n});if(e[n])throw new jq({address:n});e[n]=Wq(r)}return e}async function JC(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=typeof n=="bigint"?Ge(n):void 0,o=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(o)}async function ZC(t,e){const{account:n=t.account}=e,r=n?Vn(n):void 0;try{let P=function(B){const{block:b,request:E,rpcStateOverride:I}=B;return t.request({method:"eth_estimateGas",params:I?[E,b??"latest",I]:b?[E,b]:[E]})};const{accessList:i,authorizationList:o,blobs:s,blobVersionedHashes:a,blockNumber:l,blockTag:c,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:h,maxFeePerGas:g,maxPriorityFeePerGas:m,nonce:y,value:p,stateOverride:v,...w}=await Qw(t,{...e,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),T=(typeof l=="bigint"?Ge(l):void 0)||c,k=YC(v),A=await(async()=>{if(w.to)return w.to;if(o&&o.length>0)return await mB({authorization:o[0]}).catch(()=>{throw new Fe("`to` is required. Could not infer from `authorizationList`")})})();Iu(e);const z=t.chain?.formatters?.transactionRequest?.format,N=(z||Vf)({...$w(w,{format:z}),from:r?.address,accessList:i,authorizationList:o,blobs:s,blobVersionedHashes:a,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:h,maxFeePerGas:g,maxPriorityFeePerGas:m,nonce:y,to:A,value:p});let W=BigInt(await P({block:T,request:N,rpcStateOverride:k}));if(o){const B=await JC(t,{address:N.from}),b=await Promise.all(o.map(async E=>{const{address:I}=E,O=await P({block:T,request:{authorizationList:void 0,data:u,from:r?.address,to:I,value:Ge(B)},rpcStateOverride:k}).catch(()=>100000n);return 2n*BigInt(O)}));W+=b.reduce((E,I)=>E+I,0n)}return W}catch(i){throw zq(i,{...e,account:r,chain:t.chain})}}async function eT(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Ge(r):n]},{dedupe:!!r});return Oo(i)}function tT(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Fo(o)):t.blobs,i=[];for(const o of r)i.push(Uint8Array.from(e.blobToKzgCommitment(o)));return n==="bytes"?i:i.map(o=>or(o))}function nT(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>Fo(s)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(s=>Fo(s)):t.commitments,o=[];for(let s=0;s<r.length;s++){const a=r[s],l=i[s];o.push(Uint8Array.from(e.computeBlobKzgProof(a,l)))}return n==="bytes"?o:o.map(s=>or(s))}function Vq(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}function $q(t,e,n){return t&e^~t&n}function qq(t,e,n){return t&e^t&n^e&n}class Kq extends DC{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=jb(this.buffer)}update(e){cf(this),e=Wm(e),ms(e);const{view:n,buffer:r,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=jb(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){cf(this),YO(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,uf(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let d=s;d<i;d++)n[d]=0;Vq(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=jb(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Za=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Qq=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),el=new Uint32Array(64);let Xq=class extends Kq{constructor(e=32){super(64,e,8,!1),this.A=Za[0]|0,this.B=Za[1]|0,this.C=Za[2]|0,this.D=Za[3]|0,this.E=Za[4]|0,this.F=Za[5]|0,this.G=Za[6]|0,this.H=Za[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)el[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=el[d-15],h=el[d-2],g=xs(f,7)^xs(f,18)^f>>>3,m=xs(h,17)^xs(h,19)^h>>>10;el[d]=m+el[d-7]+g+el[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const f=xs(a,6)^xs(a,11)^xs(a,25),h=u+f+$q(a,l,c)+Qq[d]+el[d]|0,m=(xs(r,2)^xs(r,13)^xs(r,22))+qq(r,i,o)|0;u=c,c=l,l=a,a=s+h|0,s=o,o=i,i=r,r=h+m|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,l,c,u)}roundClean(){uf(el)}destroy(){this.set(0,0,0,0,0,0,0,0),uf(this.buffer)}};const _B=ZO(()=>new Xq),Yq=_B;function Jq(t,e){return Yq($s(t,{strict:!1})?Wf(t):t)}function Zq(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=Jq(e);return i.set([n],0),r==="bytes"?i:or(i)}function SB(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const o of e)i.push(Zq({commitment:o,to:r,version:n}));return i}const LM=6,CB=32,rT=4096,TB=CB*rT,DM=TB*LM-1-1*rT*LM,MB=1;class eK extends Fe{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class IB extends Fe{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class tK extends Fe{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class nK extends Fe{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${MB}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function rK(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Fo(t.data):t.data,r=Nn(n);if(!r)throw new IB;if(r>DM)throw new eK({maxSize:DM,size:r});const i=[];let o=!0,s=0;for(;o;){const a=WC(new Uint8Array(TB));let l=0;for(;l<rT;){const c=n.slice(s,s+(CB-1));if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),o=!1;break}l++,s+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>or(a.bytes))}function RB(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??rK({data:e,to:r}),o=t.commitments??tT({blobs:i,kzg:n,to:r}),s=t.proofs??nT({blobs:i,commitments:o,kzg:n,to:r}),a=[];for(let l=0;l<i.length;l++)a.push({blob:i[l],commitment:o[l],proof:s[l]});return a}function PB(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new Aq({transaction:t})}const NB=["blobVersionedHashes","chainId","fees","gas","nonce","type"],UM=new Map;async function Qw(t,e){const{account:n=t.account,blobs:r,chain:i,gas:o,kzg:s,nonce:a,nonceManager:l,parameters:c=NB,type:u}=e,d=n&&Vn(n),f={...e,...d?{from:d?.address}:{}};let h;async function g(){return h||(h=await It(t,Us,"getBlock")({blockTag:"latest"}),h)}let m;async function y(){return m||(i?i.id:typeof e.chainId<"u"?e.chainId:(m=await It(t,$f,"getChainId")({}),m))}if(c.includes("nonce")&&typeof a>"u"&&d)if(l){const p=await y();f.nonce=await l.consume({address:d.address,chainId:p,client:t})}else f.nonce=await It(t,eT,"getTransactionCount")({address:d.address,blockTag:"pending"});if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&r&&s){const p=tT({blobs:r,kzg:s});if(c.includes("blobVersionedHashes")){const v=SB({commitments:p,to:"hex"});f.blobVersionedHashes=v}if(c.includes("sidecars")){const v=nT({blobs:r,commitments:p,kzg:s}),w=RB({blobs:r,commitments:p,proofs:v,to:"hex"});f.sidecars=w}}if(c.includes("chainId")&&(f.chainId=await y()),(c.includes("fees")||c.includes("type"))&&typeof u>"u")try{f.type=PB(f)}catch{let p=UM.get(t.uid);typeof p>"u"&&(p=typeof(await g())?.baseFeePerGas=="bigint",UM.set(t.uid,p)),f.type=p?"eip1559":"legacy"}if(c.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const p=await g(),{maxFeePerGas:v,maxPriorityFeePerGas:w}=await r2(t,{block:p,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<w)throw new kq({maxPriorityFeePerGas:w});f.maxPriorityFeePerGas=w,f.maxFeePerGas=v}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new KC;if(typeof e.gasPrice>"u"){const p=await g(),{gasPrice:v}=await r2(t,{block:p,chain:i,request:f,type:"legacy"});f.gasPrice=v}}return c.includes("gas")&&typeof o>"u"&&(f.gas=await It(t,ZC,"estimateGas")({...f,account:d&&{address:d.address,type:"json-rpc"}})),Iu(f),delete f.parameters,f}async function iT(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Vb=new jw(128);async function Xw(t,e){const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:o,blobs:s,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,type:g,value:m,...y}=e;if(typeof n>"u")throw new Mu({docsPath:"/docs/actions/wallet/sendTransaction"});const p=n?Vn(n):null;try{Iu(e);const v=await(async()=>{if(e.to)return e.to;if(e.to!==null&&o&&o.length>0)return await mB({authorization:o[0]}).catch(()=>{throw new Fe("`to` is required. Could not infer from `authorizationList`.")})})();if(p?.type==="json-rpc"||p===null){let w;r!==null&&(w=await It(t,$f,"getChainId")({}),yB({currentChainId:w,chain:r}));const x=t.chain?.formatters?.transactionRequest?.format,k=(x||Vf)({...$w(y,{format:x}),accessList:i,authorizationList:o,blobs:s,chainId:w,data:a,from:p?.address,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:v,type:g,value:m}),A=Vb.get(t.uid),z=A?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:z,params:[k]},{retryCount:0})}catch(S){if(A===!1)throw S;const N=S;if(N.name==="InvalidInputRpcError"||N.name==="InvalidParamsRpcError"||N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then(P=>(Vb.set(t.uid,!0),P)).catch(P=>{const W=P;throw W.name==="MethodNotFoundRpcError"||W.name==="MethodNotSupportedRpcError"?(Vb.set(t.uid,!1),N):W});throw N}}if(p?.type==="local"){const w=await It(t,Qw,"prepareTransactionRequest")({account:p,accessList:i,authorizationList:o,blobs:s,chain:r,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,nonceManager:p.nonceManager,parameters:[...NB,"sidecars"],type:g,value:m,...y,to:v}),x=r?.serializers?.transaction,T=await p.signTransaction(w,{serializer:x});return await It(t,iT,"sendRawTransaction")({serializedTransaction:T})}throw p?.type==="smart"?new hy({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new hy({docsPath:"/docs/actions/wallet/sendTransaction",type:p?.type})}catch(v){throw v instanceof hy?v:bB(v,{...e,account:p,chain:e.chain||void 0})}}function iK(t,e){const{abi:n,args:r,bytecode:i,...o}=e,s=Gw({abi:n,args:r,bytecode:i});return Xw(t,{...o,...o.authorizationList?{to:null}:{},data:s})}const i2=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],o2=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],kB=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],FB=[...kB,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],oK=[...kB,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],zM=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],jM=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],GM=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function sK(t,e={}){typeof e.size<"u"&&zo(t,{size:e.size});const n=or(t,e);return Sr(n,e)}function aK(t,e={}){let n=t;if(typeof e.size<"u"&&(zo(n,{size:e.size}),n=Oi(n)),n.length>1||n[0]>1)throw new KV(n);return!!n[0]}function Ia(t,e={}){typeof e.size<"u"&&zo(t,{size:e.size});const n=or(t,e);return Oo(n,e)}function lK(t,e={}){let n=t;return typeof e.size<"u"&&(zo(n,{size:e.size}),n=Oi(n,{dir:"right"})),new TextDecoder().decode(n)}function Qm(t,e){const n=typeof e=="string"?Fo(e):e,r=WC(n);if(Nn(n)===0&&t.length>0)throw new Hm;if(Nn(e)&&Nn(e)<32)throw new $O({data:typeof e=="string"?e:or(e),params:t,size:Nn(e)});let i=0;const o=[];for(let s=0;s<t.length;++s){const a=t[s];r.setPosition(i);const[l,c]=zd(r,a,{staticPosition:0});i+=c,o.push(l)}return o}function zd(t,e,{staticPosition:n}){const r=HC(e.type);if(r){const[i,o]=r;return uK(t,{...e,type:o},{length:i,staticPosition:n})}if(e.type==="tuple")return pK(t,e,{staticPosition:n});if(e.type==="address")return cK(t);if(e.type==="bool")return dK(t);if(e.type.startsWith("bytes"))return fK(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return hK(t,e);if(e.type==="string")return mK(t,{staticPosition:n});throw new y$(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const HM=32,s2=32;function cK(t){const e=t.readBytes(32);return[Vm(or(cB(e,-20))),32]}function uK(t,e,{length:n,staticPosition:r}){if(!n){const s=Ia(t.readBytes(s2)),a=r+s,l=a+HM;t.setPosition(a);const c=Ia(t.readBytes(HM)),u=dm(e);let d=0;const f=[];for(let h=0;h<c;++h){t.setPosition(l+(u?h*32:d));const[g,m]=zd(t,e,{staticPosition:l});d+=m,f.push(g)}return t.setPosition(r+32),[f,32]}if(dm(e)){const s=Ia(t.readBytes(s2)),a=r+s,l=[];for(let c=0;c<n;++c){t.setPosition(a+c*32);const[u]=zd(t,e,{staticPosition:a});l.push(u)}return t.setPosition(r+32),[l,32]}let i=0;const o=[];for(let s=0;s<n;++s){const[a,l]=zd(t,e,{staticPosition:r+i});i+=l,o.push(a)}return[o,i]}function dK(t){return[aK(t.readBytes(32),{size:32}),32]}function fK(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const s=Ia(t.readBytes(32));t.setPosition(n+s);const a=Ia(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(a);return t.setPosition(n+32),[or(l),32]}return[or(t.readBytes(Number.parseInt(i),32)),32]}function hK(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[r>48?sK(i,{signed:n}):Ia(i,{signed:n}),32]}function pK(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:s})=>!s),i=r?[]:{};let o=0;if(dm(e)){const s=Ia(t.readBytes(s2)),a=n+s;for(let l=0;l<e.components.length;++l){const c=e.components[l];t.setPosition(a+o);const[u,d]=zd(t,c,{staticPosition:a});o+=d,i[r?l:c?.name]=u}return t.setPosition(n+32),[i,32]}for(let s=0;s<e.components.length;++s){const a=e.components[s],[l,c]=zd(t,a,{staticPosition:n});i[r?s:a?.name]=l,o+=c}return[i,o]}function mK(t,{staticPosition:e}){const n=Ia(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Ia(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const o=t.readBytes(i,32),s=lK(Oi(o));return t.setPosition(e+32),[s,32]}function dm(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(dm);const n=HC(t.type);return!!(n&&dm({...t,type:n[1]}))}const gK=t=>Dr(Wf(t));function yK(t){return gK(t)}const vK="1.0.8";let ho=class a2 extends Error{constructor(e,n={}){const r=n.cause instanceof a2?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof a2&&n.cause.docsPath||n.docsPath,o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${vK}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function $a(t,e){return t.exec(e)?.groups}const OB=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,BB=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,LB=/^\(.+?\).*?$/,WM=/^tuple(?<array>(\[(\d*)\])*)$/;function l2(t){let e=t.type;if(WM.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const o=t.components[i];e+=l2(o),i<n-1&&(e+=", ")}const r=$a(WM,t.type);return e+=`)${r?.array??""}`,l2({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Eh(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=l2(i),r!==n-1&&(e+=", ")}return e}function wv(t){return t.type==="function"?`function ${t.name}(${Eh(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${Eh(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Eh(t.inputs)})`:t.type==="error"?`error ${t.name}(${Eh(t.inputs)})`:t.type==="constructor"?`constructor(${Eh(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const DB=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function wK(t){return DB.test(t)}function bK(t){return $a(DB,t)}const UB=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function xK(t){return UB.test(t)}function EK(t){return $a(UB,t)}const zB=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function AK(t){return zB.test(t)}function _K(t){return $a(zB,t)}const jB=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function oT(t){return jB.test(t)}function SK(t){return $a(jB,t)}const GB=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function CK(t){return GB.test(t)}function TK(t){return $a(GB,t)}const HB=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function MK(t){return HB.test(t)}function IK(t){return $a(HB,t)}const RK=/^receive\(\) external payable$/;function PK(t){return RK.test(t)}const NK=new Set(["indexed"]),c2=new Set(["calldata","memory","storage"]);class kK extends ho{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class FK extends ho{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class OK extends ho{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class BK extends ho{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class LK extends ho{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class DK extends ho{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class UK extends ho{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class zK extends ho{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class qf extends ho{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class jK extends ho{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class GK extends ho{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class HK extends ho{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class WK extends ho{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function VK(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let o="";for(const s of i[1])o+=`[${s.type}${s.name?`:${s.name}`:""}]`;r+=`(${i[0]}{${o}})`}return e?`${e}:${t}${r}`:t}const $b=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function u2(t,e={}){if(AK(t))return $K(t,e);if(xK(t))return qK(t,e);if(wK(t))return KK(t,e);if(CK(t))return QK(t,e);if(MK(t))return XK(t);if(PK(t))return{type:"receive",stateMutability:"payable"};throw new jK({signature:t})}function $K(t,e={}){const n=_K(t);if(!n)throw new qf({signature:t,type:"function"});const r=ns(n.parameters),i=[],o=r.length;for(let a=0;a<o;a++)i.push(cu(r[a],{modifiers:c2,structs:e,type:"function"}));const s=[];if(n.returns){const a=ns(n.returns),l=a.length;for(let c=0;c<l;c++)s.push(cu(a[c],{modifiers:c2,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:s}}function qK(t,e={}){const n=EK(t);if(!n)throw new qf({signature:t,type:"event"});const r=ns(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(cu(r[s],{modifiers:NK,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function KK(t,e={}){const n=bK(t);if(!n)throw new qf({signature:t,type:"error"});const r=ns(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(cu(r[s],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function QK(t,e={}){const n=TK(t);if(!n)throw new qf({signature:t,type:"constructor"});const r=ns(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(cu(r[s],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function XK(t){const e=IK(t);if(!e)throw new qf({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const YK=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,JK=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,ZK=/^u?int$/;function cu(t,e){const n=VK(t,e?.type,e?.structs);if($b.has(n))return $b.get(n);const r=LB.test(t),i=$a(r?JK:YK,t);if(!i)throw new BK({param:t});if(i.name&&tQ(i.name))throw new LK({param:t,name:i.name});const o=i.name?{name:i.name}:{},s=i.modifier==="indexed"?{indexed:!0}:{},a=e?.structs??{};let l,c={};if(r){l="tuple";const d=ns(i.type),f=[],h=d.length;for(let g=0;g<h;g++)f.push(cu(d[g],{structs:a}));c={components:f}}else if(i.type in a)l="tuple",c={components:a[i.type]};else if(ZK.test(i.type))l=`${i.type}256`;else if(l=i.type,e?.type!=="struct"&&!WB(l))throw new OK({type:l});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new DK({param:t,type:e?.type,modifier:i.modifier});if(c2.has(i.modifier)&&!nQ(l,!!i.array))throw new UK({param:t,type:e?.type,modifier:i.modifier})}const u={type:`${l}${i.array??""}`,...o,...s,...c};return $b.set(n,u),u}function ns(t,e=[],n="",r=0){const i=t.trim().length;for(let o=0;o<i;o++){const s=t[o],a=t.slice(o+1);switch(s){case",":return r===0?ns(a,[...e,n.trim()]):ns(a,e,`${n}${s}`,r);case"(":return ns(a,e,`${n}${s}`,r+1);case")":return ns(a,e,`${n}${s}`,r-1);default:return ns(a,e,`${n}${s}`,r)}}if(n==="")return e;if(r!==0)throw new WK({current:n,depth:r});return e.push(n.trim()),e}function WB(t){return t==="address"||t==="bool"||t==="function"||t==="string"||OB.test(t)||BB.test(t)}const eQ=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function tQ(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||OB.test(t)||BB.test(t)||eQ.test(t)}function nQ(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function VB(t){const e={},n=t.length;for(let s=0;s<n;s++){const a=t[s];if(!oT(a))continue;const l=SK(a);if(!l)throw new qf({signature:a,type:"struct"});const c=l.properties.split(";"),u=[],d=c.length;for(let f=0;f<d;f++){const g=c[f].trim();if(!g)continue;const m=cu(g,{type:"struct"});u.push(m)}if(!u.length)throw new GK({signature:a});e[l.name]=u}const r={},i=Object.entries(e),o=i.length;for(let s=0;s<o;s++){const[a,l]=i[s];r[a]=$B(l,e)}return r}const rQ=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function $B(t,e,n=new Set){const r=[],i=t.length;for(let o=0;o<i;o++){const s=t[o];if(LB.test(s.type))r.push(s);else{const l=$a(rQ,s.type);if(!l?.type)throw new zK({abiParameter:s});const{array:c,type:u}=l;if(u in e){if(n.has(u))throw new HK({type:u});r.push({...s,type:`tuple${c??""}`,components:$B(e[u]??[],e,new Set([...n,u]))})}else if(WB(u))r.push(s);else throw new FK({type:u})}}return r}function qB(t){const e=VB(t),n=[],r=t.length;for(let i=0;i<r;i++){const o=t[i];oT(o)||n.push(u2(o,e))}return n}function VM(t){let e;if(typeof t=="string")e=u2(t);else{const n=VB(t),r=t.length;for(let i=0;i<r;i++){const o=t[i];if(!oT(o)){e=u2(o,n);break}}}if(!e)throw new kK({signature:t});return e}function iQ(t){let e=!0,n="",r=0,i="",o=!1;for(let s=0;s<t.length;s++){const a=t[s];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){o=!0;break}continue}if(a===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!o)throw new Fe("Unable to normalize signature.");return i}const oQ=t=>{const e=typeof t=="string"?t:wv(t);return iQ(e)};function KB(t){return yK(oQ(t))}const Yw=KB,Xm=t=>ou(KB(t),0,4);function Ru(t){const{abi:e,args:n=[],name:r}=t,i=$s(r,{strict:!1}),o=e.filter(a=>i?a.type==="function"?Xm(a)===r:a.type==="event"?Yw(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let s;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((c,u)=>{const d="inputs"in a&&a.inputs[u];return d?d2(c,d):!1})){if(s&&"inputs"in s&&s.inputs){const c=QB(a.inputs,s.inputs,n);if(c)throw new p$({abiItem:a,type:c[0]},{abiItem:s,type:c[1]})}s=a}}return s||o[0]}function d2(t,e){const n=typeof t,r=e.type;switch(r){case"address":return sr(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,o)=>d2(Object.values(t)[o],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>d2(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function QB(t,e,n){for(const r in t){const i=t[r],o=e[r];if(i.type==="tuple"&&o.type==="tuple"&&"components"in i&&"components"in o)return QB(i.components,o.components,n[r]);const s=[i.type,o.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?sr(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?sr(n[r],{strict:!1}):!1)return s}}const qb="/docs/contract/decodeFunctionResult";function Pu(t){const{abi:e,args:n,functionName:r,data:i}=t;let o=e[0];if(r){const a=Ru({abi:e,args:n,name:r});if(!a)throw new lf(r,{docsPath:qb});o=a}if(o.type!=="function")throw new lf(void 0,{docsPath:qb});if(!o.outputs)throw new QO(o.name,{docsPath:qb});const s=Qm(o.outputs,i);if(s&&s.length>1)return s;if(s&&s.length===1)return s[0]}const $M="/docs/contract/encodeFunctionData";function sQ(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const o=Ru({abi:e,args:n,name:r});if(!o)throw new lf(r,{docsPath:$M});i=o}if(i.type!=="function")throw new lf(void 0,{docsPath:$M});return{abi:[i],functionName:Xm(ps(i))}}function jo(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:sQ(t),i=n[0],o=r,s="inputs"in i&&i.inputs?ec(i.inputs,e??[]):void 0;return gs([o,s??"0x"])}function Kf({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new KA({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new KA({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const XB={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},YB={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},aQ={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function lQ(t){const{abi:e,data:n}=t,r=ou(n,0,4);if(r==="0x")throw new Hm;const o=[...e||[],YB,aQ].find(s=>s.type==="error"&&r===Xm(ps(s)));if(!o)throw new qO(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Qm(o.inputs,ou(n,4)):void 0,errorName:o.name}}function JB({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,o)=>`${r&&i.name?`${i.name}: `:""}${typeof e[o]=="object"?pr(e[o]):e[o]}`).join(", ")})`}class ZB extends Fe{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:d,value:f,stateOverride:h}){const g=n?Vn(n):void 0;let m=Km({from:g?.address,to:d,value:typeof f<"u"&&`${Ww(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${Bi(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Bi(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Bi(c)} gwei`,nonce:u});h&&(m+=`
${Hq(h)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class eL extends Fe{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:o,functionName:s,sender:a}){const l=Ru({abi:n,args:r,name:s}),c=l?JB({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=l?ps(l,{includeName:!0}):void 0,d=Km({address:i&&Tq(i),function:u,args:c&&c!=="()"&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${c}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:o,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=s,this.sender=a}}class f2 extends Fe{constructor({abi:e,data:n,functionName:r,message:i}){let o,s,a,l;if(n&&n!=="0x")try{s=lQ({abi:e,data:n});const{abiItem:u,errorName:d,args:f}=s;if(d==="Error")l=f[0];else if(d==="Panic"){const[h]=f;l=XB[h]}else{const h=u?ps(u,{includeName:!0}):void 0,g=u&&f?JB({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",g&&g!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(u){o=u}else i&&(l=i);let c;o instanceof qO&&(c=o.signature,a=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(l&&l!=="execution reverted"||c?[`The contract function "${r}" reverted with the following ${c?"signature":"reason"}:`,l||c].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.raw=n,this.reason=l,this.signature=c}}class cQ extends Fe{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class uQ extends Fe{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Jw extends Fe{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function sT(t,e){if(!(t instanceof Fe))return!1;const n=t.walk(r=>r instanceof f2);return n instanceof f2?!!(n.data?.errorName==="ResolverNotFound"||n.data?.errorName==="ResolverWildcardNotSupported"||n.data?.errorName==="ResolverNotContract"||n.data?.errorName==="ResolverError"||n.data?.errorName==="HttpError"||n.reason?.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===XB[50]):!1}function dQ(t){const{abi:e,data:n}=t,r=ou(n,0,4),i=e.find(o=>o.type==="function"&&r===Xm(ps(o)));if(!i)throw new h$(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Qm(i.inputs,ou(n,4)):void 0}}const Kb="/docs/contract/encodeErrorResult";function qM(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const l=Ru({abi:e,args:r,name:n});if(!l)throw new _M(n,{docsPath:Kb});i=l}if(i.type!=="error")throw new _M(void 0,{docsPath:Kb});const o=ps(i),s=Xm(o);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new d$(i.name,{docsPath:Kb});a=ec(i.inputs,r)}return gs([s,a])}const Qb="/docs/contract/encodeFunctionResult";function fQ(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const s=Ru({abi:e,name:n});if(!s)throw new lf(n,{docsPath:Qb});i=s}if(i.type!=="function")throw new lf(void 0,{docsPath:Qb});if(!i.outputs)throw new QO(i.name,{docsPath:Qb});const o=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new XO(r)})();return ec(i.outputs,o)}const tL="x-batch-gateway:true";async function h_e(t){const{data:e,ccipRequest:n}=t,{args:[r]}=dQ({abi:o2,data:e}),i=[],o=[];return await Promise.all(r.map(async(s,a)=>{try{o[a]=await n(s),i[a]=!1}catch(l){i[a]=!0,o[a]=hQ(l)}})),fQ({abi:o2,functionName:"query",result:[i,o]})}function hQ(t){return t.name==="HttpRequestError"&&t.status?qM({abi:o2,errorName:"HttpError",args:[t.status,t.shortMessage]}):qM({abi:[YB],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function nL(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return $s(e)?e:null}function py(t){let e=new Uint8Array(32).fill(0);if(!t)return or(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=nL(n[r]),o=i?Wf(i):Dr(qc(n[r]),"bytes");e=Dr(qs([e,o]),"bytes")}return or(e)}function pQ(t){return`[${t.slice(2)}]`}function mQ(t){const e=new Uint8Array(32).fill(0);return t?nL(t)||Dr(qc(t)):or(e)}function Zw(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(qc(e).byteLength+2);let r=0;const i=e.split(".");for(let o=0;o<i.length;o++){let s=qc(i[o]);s.byteLength>255&&(s=qc(pQ(mQ(i[o])))),n[r]=s.length,n.set(s,r+1),r+=s.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const gQ=3;function uu(t,{abi:e,address:n,args:r,docsPath:i,functionName:o,sender:s}){const a=t instanceof Jw?t:t instanceof Fe?t.walk(g=>"data"in g)||t.walk():{},{code:l,data:c,details:u,message:d,shortMessage:f}=a,h=t instanceof Hm?new cQ({functionName:o}):[gQ,au.code].includes(l)&&(c||u||d||f)?new f2({abi:e,data:typeof c=="object"?c.data:c,functionName:o,message:a instanceof $C?u:f??d}):t;return new eL(h,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:o,sender:s})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aT=BigInt(0),h2=BigInt(1);function bv(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function W0(t){const e=t.toString(16);return e.length&1?"0"+e:e}function rL(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?aT:BigInt("0x"+t)}function e1(t){return rL(qp(t))}function iL(t){return ms(t),rL(qp(Uint8Array.from(t).reverse()))}function lT(t,e){return LC(t.toString(16).padStart(e*2,"0"))}function oL(t,e){return lT(t,e).reverse()}function xo(t,e,n){let r;if(typeof e=="string")try{r=LC(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(BC(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const Xb=t=>typeof t=="bigint"&&aT<=t;function yQ(t,e,n){return Xb(t)&&Xb(e)&&Xb(n)&&e<=t&&t<n}function vQ(t,e,n,r){if(!yQ(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function wQ(t){let e;for(e=0;t>aT;t>>=h2,e+=1);return e}const t1=t=>(h2<<BigInt(t))-h2;function bQ(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let o=r(t),s=r(t),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...h)=>n(s,o,...h),u=(h=r(0))=>{s=c(i(0),h),o=c(),h.length!==0&&(s=c(i(1),h),o=c())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const g=[];for(;h<e;){o=c();const m=o.slice();g.push(m),h+=o.length}return Nc(...g)};return(h,g)=>{l(),u(h);let m;for(;!(m=g(d()));)u();return l(),m}}function cT(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,s){const a=t[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function KM(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}const xQ="0.1.1";function EQ(){return xQ}let Yn=class p2 extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof p2){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof p2&&n.cause.docsPath||n.docsPath,s=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${s}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${EQ()}`}),this.cause=n.cause,this.details=r,this.docs=s,this.docsPath=i,this.shortMessage=e}walk(e){return sL(this,e)}};function sL(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?sL(t.cause,e):e?null:t}const AQ="#__bigint";function _Q(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+AQ:i,n)}function SQ(t,e){if(XM(t)>e)throw new OQ({givenSize:XM(t),maxSize:e})}const ta={zero:48,nine:57,A:65,F:70,a:97,f:102};function QM(t){if(t>=ta.zero&&t<=ta.nine)return t-ta.zero;if(t>=ta.A&&t<=ta.F)return t-(ta.A-10);if(t>=ta.a&&t<=ta.f)return t-(ta.a-10)}function CQ(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new BQ({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let o=0;o<r;o++){const s=n==="right";i[s?o:r-o-1]=t[s?o:t.length-o-1]}return i}function uT(t,e){if(Lo(t)>e)throw new jQ({givenSize:Lo(t),maxSize:e})}function TQ(t,e){if(typeof e=="number"&&e>0&&e>Lo(t)-1)throw new dL({offset:e,position:"start",size:Lo(t)})}function MQ(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Lo(t)!==n-e)throw new dL({offset:n,position:"end",size:Lo(t)})}function aL(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new GQ({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const IQ=new TextEncoder;function RQ(t){return t instanceof Uint8Array?t:typeof t=="string"?NQ(t):PQ(t)}function PQ(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function NQ(t,e={}){const{size:n}=e;let r=t;n&&(uT(t,n),r=fu(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const o=i.length/2,s=new Uint8Array(o);for(let a=0,l=0;a<o;a++){const c=QM(i.charCodeAt(l++)),u=QM(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new Yn(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);s[a]=c*16+u}return s}function kQ(t,e={}){const{size:n}=e,r=IQ.encode(t);return typeof n=="number"?(SQ(r,n),FQ(r,n)):r}function FQ(t,e){return CQ(t,{dir:"right",size:e})}function XM(t){return t.length}let OQ=class extends Yn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},BQ=class extends Yn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const LQ=new TextEncoder,DQ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function UQ(t,e={}){const{strict:n=!1}=e;if(!t)throw new YM(t);if(typeof t!="string")throw new YM(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new JM(t);if(!t.startsWith("0x"))throw new JM(t)}function Ks(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function lL(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(uT(n,e.size),du(n,e.size)):n}function cL(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=DQ[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(uT(r,e.size),fu(r,e.size)):r}function si(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const c=typeof t=="bigint"?"n":"";throw new uL({max:o?`${o}${c}`:void 0,min:`${s}${c}`,signed:n,size:r,value:`${t}${c}`})}const l=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?du(l,r):l}function dT(t,e={}){return cL(LQ.encode(t),e)}function du(t,e){return aL(t,{dir:"left",size:e})}function fu(t,e){return aL(t,{dir:"right",size:e})}function fT(t,e,n,r={}){const{strict:i}=r;TQ(t,e);const o=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&MQ(o,e,n),o}function Lo(t){return Math.ceil((t.length-2)/2)}function zQ(t,e={}){const{strict:n=!1}=e;try{return UQ(t,{strict:n}),!0}catch{return!1}}class uL extends Yn{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number \`${o}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class YM extends Yn{constructor(e){super(`Value \`${typeof e=="object"?_Q(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class JM extends Yn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class jQ extends Yn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class dL extends Yn{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class GQ extends Yn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function HQ(t){return{address:t.address,amount:si(t.amount),index:si(t.index),validatorIndex:si(t.validatorIndex)}}function fL(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:si(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:si(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:si(t.gasLimit)},...typeof t.number=="bigint"&&{number:si(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:si(t.prevRandao)},...typeof t.time=="bigint"&&{time:si(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(HQ)}}}const WQ="0x82ad56cb",hL="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",VQ="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",$Q="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function pL(t,{docsPath:e,...n}){const r=(()=>{const i=Vw(t,n);return i instanceof qm?t:i})();return new ZB(r,{docsPath:e,...n})}function hT(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const Yb=new Map;function mL({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const o=async()=>{const u=l();s();const d=u.map(({args:f})=>f);d.length!==0&&t(d).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let h=0;h<u.length;h++){const{resolve:g}=u[h];g?.([f[h],f])}}).catch(f=>{for(let h=0;h<u.length;h++){const{reject:g}=u[h];g?.(f)}})},s=()=>Yb.delete(e),a=()=>l().map(({args:u})=>u),l=()=>Yb.get(e)||[],c=u=>Yb.set(e,[...l(),u]);return{flush:s,async schedule(u){const{promise:d,resolve:f,reject:h}=hT();return n?.([...a(),u])&&o(),l().length>0?(c({args:u,resolve:f,reject:h}),d):(c({args:u,resolve:f,reject:h}),setTimeout(o,r),d)}}}async function n1(t,e){const{account:n=t.account,authorizationList:r,batch:i=!!t.batch?.multicall,blockNumber:o,blockTag:s="latest",accessList:a,blobs:l,blockOverrides:c,code:u,data:d,factory:f,factoryData:h,gas:g,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:p,maxPriorityFeePerGas:v,nonce:w,to:x,value:T,stateOverride:k,...A}=e,z=n?Vn(n):void 0;if(u&&(f||h))throw new Fe("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&x)throw new Fe("Cannot provide both `code` & `to` as parameters.");const S=u&&d,N=f&&h&&x&&d,P=S||N,W=S?QQ({code:u,data:d}):N?XQ({data:d,factory:f,factoryData:h,to:x}):d;try{Iu(e);const b=(typeof o=="bigint"?Ge(o):void 0)||s,E=c?fL(c):void 0,I=YC(k),O=t.chain?.formatters?.transactionRequest?.format,j=(O||Vf)({...$w(A,{format:O}),from:z?.address,accessList:a,authorizationList:r,blobs:l,data:W,gas:g,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:p,maxPriorityFeePerGas:v,nonce:w,to:P?void 0:x,value:T});if(i&&qQ({request:j})&&!I&&!E)try{return await KQ(t,{...j,blockNumber:o,blockTag:s})}catch(M){if(!(M instanceof gB)&&!(M instanceof KA))throw M}const H=(()=>{const M=[j,b];return I&&E?[...M,I,E]:I?[...M,I]:E?[...M,{},E]:M})(),D=await t.request({method:"eth_call",params:H});return D==="0x"?{data:void 0}:{data:D}}catch(B){const b=YQ(B),{offchainLookup:E,offchainLookupSignature:I}=await Qe(async()=>{const{offchainLookup:O,offchainLookupSignature:C}=await import("./ccip-CdyxU0FC.js");return{offchainLookup:O,offchainLookupSignature:C}},[]);if(t.ccipRead!==!1&&b?.slice(0,10)===I&&x)return{data:await E(t,{data:b,to:x})};throw P&&b?.slice(0,10)==="0x101bb98d"?new uQ({factory:f}):pL(B,{...e,account:z,chain:t.chain})}}function qQ({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(WQ)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function KQ(t,e){const{batchSize:n=1024,wait:r=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:o="latest",data:s,multicallAddress:a,to:l}=e;let c=a;if(!c){if(!t.chain)throw new gB;c=Kf({blockNumber:i,chain:t.chain,contract:"multicall3"})}const d=(typeof i=="bigint"?Ge(i):void 0)||o,{schedule:f}=mL({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(m){return m.reduce((p,{data:v})=>p+(v.length-2),0)>n*2},fn:async m=>{const y=m.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),p=jo({abi:i2,args:[y],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{data:p,to:c},d]});return Pu({abi:i2,args:[y],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:h,success:g}]=await f({data:s,to:l});if(!g)throw new Jw({data:h});return h==="0x"?{data:void 0}:{data:h}}function QQ(t){const{code:e,data:n}=t;return Gw({abi:qB(["constructor(bytes, bytes)"]),bytecode:hL,args:[e,n]})}function XQ(t){const{data:e,factory:n,factoryData:r,to:i}=t;return Gw({abi:qB(["constructor(address, bytes, address, bytes)"]),bytecode:VQ,args:[i,e,n,r]})}function YQ(t){if(!(t instanceof Fe))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}async function Qs(t,e){const{abi:n,address:r,args:i,functionName:o,...s}=e,a=jo({abi:n,args:i,functionName:o});try{const{data:l}=await It(t,n1,"call")({...s,data:a,to:r});return Pu({abi:n,args:i,functionName:o,data:l||"0x"})}catch(l){throw uu(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:o})}}async function JQ(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:o,gatewayUrls:s,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return Kf({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l?.ensTlds;if(u&&!u.some(d=>o.endsWith(d)))return null;try{const d=jo({abi:jM,functionName:"addr",...i!=null?{args:[py(o),BigInt(i)]}:{args:[py(o)]}}),f={address:c,abi:FB,functionName:"resolve",args:[hi(Zw(o)),d,s??[tL]],blockNumber:n,blockTag:r},g=await It(t,Qs,"readContract")(f);if(g[0]==="0x")return null;const m=Pu({abi:jM,args:i!=null?[py(o),BigInt(i)]:void 0,functionName:"addr",data:g[0]});return m==="0x"||Oi(m)==="0x00"?null:m}catch(d){if(a)throw d;if(sT(d,"resolve"))return null;throw d}}class ZQ extends Fe{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Ah extends Fe{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class pT extends Fe{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class eX extends Fe{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const tX=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,nX=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,rX=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,iX=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function oX(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function ZM(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function gL({uri:t,gatewayUrls:e}){const n=rX.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=ZM(e?.ipfs,"https://ipfs.io"),i=ZM(e?.arweave,"https://arweave.net"),o=t.match(tX),{protocol:s,subpath:a,target:l,subtarget:c=""}=o?.groups||{},u=s==="ipns:/"||a==="ipns/",d=s==="ipfs:/"||a==="ipfs/"||nX.test(t);if(t.startsWith("http")&&!u&&!d){let h=t;return e?.arweave&&(h=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((u||d)&&l)return{uri:`${r}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(iX,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new pT({uri:t})}function yL(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new ZQ({data:t});return t.image||t.image_url||t.image_data}async function sX({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await mT({gatewayUrls:t,uri:yL(n)})}catch{throw new pT({uri:e})}}async function mT({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=gL({uri:e,gatewayUrls:t});if(r||await oX(n))return n;throw new pT({uri:e})}function aX(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[o,s]=n.split(":"),[a,l]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Ah({reason:"Only EIP-155 supported"});if(!s)throw new Ah({reason:"Chain ID not found"});if(!l)throw new Ah({reason:"Contract address not found"});if(!i)throw new Ah({reason:"Token ID not found"});if(!a)throw new Ah({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s),namespace:a.toLowerCase(),contractAddress:l,tokenID:i}}async function lX(t,{nft:e}){if(e.namespace==="erc721")return Qs(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Qs(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new eX({namespace:e.namespace})}async function cX(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?uX(t,{gatewayUrls:e,record:n}):mT({uri:n,gatewayUrls:e})}async function uX(t,{gatewayUrls:e,record:n}){const r=aX(n),i=await lX(t,{nft:r}),{uri:o,isOnChain:s,isEncoded:a}=gL({uri:i,gatewayUrls:e});if(s&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const c=a?atob(o.replace("data:application/json;base64,","")):o,u=JSON.parse(c);return mT({uri:yL(u),gatewayUrls:e})}let l=r.tokenID;return r.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),sX({gatewayUrls:e,uri:o.replace(/(?:0x)?{id}/,l)})}async function vL(t,e){const{blockNumber:n,blockTag:r,key:i,name:o,gatewayUrls:s,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return Kf({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l?.ensTlds;if(u&&!u.some(d=>o.endsWith(d)))return null;try{const d={address:c,abi:FB,functionName:"resolve",args:[hi(Zw(o)),jo({abi:zM,functionName:"text",args:[py(o),i]}),s??[tL]],blockNumber:n,blockTag:r},h=await It(t,Qs,"readContract")(d);if(h[0]==="0x")return null;const g=Pu({abi:zM,functionName:"text",data:h[0]});return g===""?null:g}catch(d){if(a)throw d;if(sT(d,"resolve"))return null;throw d}}async function wL(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:o,strict:s,universalResolverAddress:a}){const l=await It(t,vL,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:o,strict:s});if(!l)return null;try{return await cX(t,{record:l,gatewayUrls:r})}catch{return null}}async function bL(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:i,strict:o,universalResolverAddress:s}){let a=s;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Kf({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const l=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const c={address:a,abi:oK,functionName:"reverse",args:[hi(Zw(l))],blockNumber:n,blockTag:r},u=It(t,Qs,"readContract"),[d,f]=i?await u({...c,args:[...c.args,i]}):await u(c);return e.toLowerCase()!==f.toLowerCase()?null:d}catch(c){if(o)throw c;if(sT(c,"reverse"))return null;throw c}}async function dX(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:o}=t,s=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return Kf({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(c=>i.endsWith(c)))throw new Error(`${i} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[l]=await It(t,Qs,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[hi(Zw(i))],blockNumber:n,blockTag:r});return l}async function xL(t,e){const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:o,data:s,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h,...g}=e,m=n?Vn(n):void 0;try{Iu(e);const p=(typeof r=="bigint"?Ge(r):void 0)||i,v=t.chain?.formatters?.transactionRequest?.format,x=(v||Vf)({...$w(g,{format:v}),from:m?.address,blobs:o,data:s,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h}),T=await t.request({method:"eth_createAccessList",params:[x,p]});return{accessList:T.accessList,gasUsed:BigInt(T.gasUsed)}}catch(y){throw pL(y,{...e,account:m,chain:t.chain})}}function r1(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:i,status:o,transport:s})=>{o==="success"&&e===r&&(n[i]=s.request)}),r=>n[r]||t.request}async function fX(t){const e=r1(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}class hX extends Fe{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const eI="/docs/contract/encodeEventTopics";function Ym(t){const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const l=Ru({abi:e,name:n});if(!l)throw new SM(n,{docsPath:eI});i=l}if(i.type!=="event")throw new SM(void 0,{docsPath:eI});const o=ps(i),s=Yw(o);let a=[];if(r&&"inputs"in i){const l=i.inputs?.filter(u=>"indexed"in u&&u.indexed),c=Array.isArray(r)?r:Object.values(r).length>0?l?.map(u=>r[u.name])??[]:[];c.length>0&&(a=l?.map((u,d)=>Array.isArray(c[d])?c[d].map((f,h)=>tI({param:u,value:c[d][h]})):typeof c[d]<"u"&&c[d]!==null?tI({param:u,value:c[d]}):null)??[])}return[s,...a]}function tI({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Dr(Wf(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new hX(t.type);return ec([t],[e])}async function EL(t,e){const{address:n,abi:r,args:i,eventName:o,fromBlock:s,strict:a,toBlock:l}=e,c=r1(t,{method:"eth_newFilter"}),u=o?Ym({abi:r,args:i,eventName:o}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof s=="bigint"?Ge(s):s,toBlock:typeof l=="bigint"?Ge(l):l,topics:u}]});return{abi:r,args:i,eventName:o,id:d,request:c(d),strict:!!a,type:"event"}}async function AL(t,{address:e,args:n,event:r,events:i,fromBlock:o,strict:s,toBlock:a}={}){const l=i??(r?[r]:void 0),c=r1(t,{method:"eth_newFilter"});let u=[];l&&(u=[l.flatMap(h=>Ym({abi:[h],eventName:h.name,args:n}))],r&&(u=u[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof o=="bigint"?Ge(o):o,toBlock:typeof a=="bigint"?Ge(a):a,...u.length?{topics:u}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:c(d),strict:!!s,toBlock:a,type:"event"}}async function _L(t){const e=r1(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function pX(t,e){const{abi:n,address:r,args:i,functionName:o,dataSuffix:s,...a}=e,l=jo({abi:n,args:i,functionName:o});try{return await It(t,ZC,"estimateGas")({data:`${l}${s?s.replace("0x",""):""}`,to:r,...a})}catch(c){const u=a.account?Vn(a.account):void 0;throw uu(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u?.address})}}async function mX(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}const gX=new Map,yX=new Map;function vX(t){const e=(i,o)=>({clear:()=>o.delete(i),get:()=>o.get(i),set:s=>o.set(i,s)}),n=e(t,gX),r=e(t,yX);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function wX(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=vX(e),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let o=r.promise.get();o||(o=t(),r.promise.set(o));try{const s=await o;return r.response.set({created:new Date,data:s}),s}finally{r.promise.clear()}}const bX=t=>`blockNumber.${t}`;async function Jm(t,{cacheTime:e=t.cacheTime}={}){const n=await wX(()=>t.request({method:"eth_blockNumber"}),{cacheKey:bX(t.uid),cacheTime:e});return BigInt(n)}async function xX(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?Ge(n):void 0;let o;return e?o=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):o=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),Oo(o)}async function nI(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?Ge(n):void 0,o=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(o!=="0x")return o}function i1(t,e){if(!sr(t,{strict:!1}))throw new gi({address:t});if(!sr(e,{strict:!1}))throw new gi({address:e});return t.toLowerCase()===e.toLowerCase()}const rI="/docs/contract/decodeEventLog";function gT(t){const{abi:e,data:n,strict:r,topics:i}=t,o=r??!0,[s,...a]=i;if(!s)throw new f$({docsPath:rI});const l=e.find(m=>m.type==="event"&&s===Yw(ps(m)));if(!(l&&"name"in l)||l.type!=="event")throw new KO(s,{docsPath:rI});const{name:c,inputs:u}=l,d=u?.some(m=>!("name"in m&&m.name)),f=d?[]:{},h=u.map((m,y)=>[m,y]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<h.length;m++){const[y,p]=h[m],v=a[m];if(!v)throw new zw({abiItem:l,param:y});f[d?p:y.name||p]=EX({param:y,value:v})}const g=u.filter(m=>!("indexed"in m&&m.indexed));if(g.length>0){if(n&&n!=="0x")try{const m=Qm(g,n);if(m)if(d)for(let y=0;y<u.length;y++)f[y]=f[y]??m.shift();else for(let y=0;y<g.length;y++)f[g[y].name]=m[y]}catch(m){if(o)throw m instanceof $O||m instanceof fB?new Vp({abiItem:l,data:n,params:g,size:Nn(n)}):m}else if(o)throw new Vp({abiItem:l,data:"0x",params:g,size:0})}return{eventName:c,args:Object.values(f).length>0?f:void 0}}function EX({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Qm([t],e)||[])[0]}function yT(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,o=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(s=>{try{const a=e.find(c=>c.type==="event"&&s.topics[0]===Yw(c));if(!a)return null;const l=gT({...s,abi:[a],strict:i});return o&&!o.includes(l.eventName)||!AX({args:l.args,inputs:a.inputs,matchArgs:n})?null:{...l,...s}}catch(a){let l,c;if(a instanceof KO)return null;if(a instanceof Vp||a instanceof zw){if(i)return null;l=a.abiItem.name,c=a.abiItem.inputs?.some(u=>!("name"in u&&u.name))}return{...s,args:c?[]:{},eventName:l}}}).filter(Boolean)}function AX(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(o,s,a){try{return o.type==="address"?i1(s,a):o.type==="string"||o.type==="bytes"?Dr(Wf(s))===a:s===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((o,s)=>{if(o==null)return!0;const a=n[s];return a?(Array.isArray(o)?o:[o]).some(c=>i(a,c,e[s])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,s])=>{if(s==null)return!0;const a=n.find(c=>c.name===o);return a?(Array.isArray(s)?s:[s]).some(c=>i(a,c,e[o])):!1}):!1}function Da(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function vT(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:o,events:s,args:a,strict:l}={}){const c=l??!1,u=s??(o?[o]:void 0);let d=[];u&&(d=[u.flatMap(m=>Ym({abi:[m],eventName:m.name,args:s?void 0:a}))],o&&(d=d[0]));let f;n?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:n}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof r=="bigint"?Ge(r):r,toBlock:typeof i=="bigint"?Ge(i):i}]});const h=f.map(g=>Da(g));return u?yT({abi:u,args:a,logs:h,strict:c}):h}async function SL(t,e){const{abi:n,address:r,args:i,blockHash:o,eventName:s,fromBlock:a,toBlock:l,strict:c}=e,u=s?Ru({abi:n,name:s}):void 0,d=u?void 0:n.filter(f=>f.type==="event");return It(t,vT,"getLogs")({address:r,args:i,blockHash:o,event:u,events:d,fromBlock:a,toBlock:l,strict:c})}class _X extends Fe{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function SX(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[o,s,a,l,c,u,d]=await It(t,Qs,"readContract")({abi:CX,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:s,version:a,chainId:Number(l),verifyingContract:c,salt:u},extensions:d,fields:o}}catch(o){const s=o;throw s.name==="ContractFunctionExecutionError"&&s.cause.name==="ContractFunctionZeroDataError"?new _X({address:n}):s}}const CX=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function TX(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function MX(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const o=typeof n=="bigint"?Ge(n):void 0,s=await t.request({method:"eth_feeHistory",params:[Ge(e),o||r,i]},{dedupe:!!o});return TX(s)}async function o1(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(o=>Da(o));return!("abi"in e)||!e.abi?i:yT({abi:e.abi,logs:i,strict:n})}async function IX(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(o=>Da(o));return e.abi?yT({abi:e.abi,logs:i,strict:n}):i}async function RX(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const o=n!==void 0?Ge(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,o||r]})}async function wT(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:o}){const s=r||"latest",a=n!==void 0?Ge(n):void 0;let l=null;if(i?l=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?l=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Ge(o)]},{dedupe:!0}):l=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||s,Ge(o)]},{dedupe:!!a}),!l)throw new vB({blockHash:e,blockNumber:n,blockTag:s,hash:i,index:o});return(t.chain?.formatters?.transaction?.format||Kw)(l)}async function PX(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([It(t,Jm,"getBlockNumber")({}),e?It(t,wT,"getTransaction")({hash:e}):void 0]),o=n?.blockNumber||i?.blockNumber;return o?r-o+1n:0n}const CL={"0x0":"reverted","0x1":"success"};function TL(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>Da(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Oo(t.transactionIndex):null,status:t.status?CL[t.status]:null,type:t.type?EB[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const NX=qC("transactionReceipt",TL);async function m2(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new wB({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||TL)(n)}async function ML(t,e){const{account:n,allowFailure:r=!0,batchSize:i,blockNumber:o,blockTag:s,multicallAddress:a,stateOverride:l}=e,c=e.contracts,u=i??(typeof t.batch?.multicall=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=Kf({blockNumber:o,chain:t.chain,contract:"multicall3"})}const f=[[]];let h=0,g=0;for(let p=0;p<c.length;p++){const{abi:v,address:w,args:x,functionName:T}=c[p];try{const k=jo({abi:v,args:x,functionName:T});g+=(k.length-2)/2,u>0&&g>u&&f[h].length>0&&(h++,g=(k.length-2)/2,f[h]=[]),f[h]=[...f[h],{allowFailure:!0,callData:k,target:w}]}catch(k){const A=uu(k,{abi:v,address:w,args:x,docsPath:"/docs/contract/multicall",functionName:T,sender:n});if(!r)throw A;f[h]=[...f[h],{allowFailure:!0,callData:"0x",target:w}]}}const m=await Promise.allSettled(f.map(p=>It(t,Qs,"readContract")({abi:i2,account:n,address:d,args:[p],blockNumber:o,blockTag:s,functionName:"aggregate3",stateOverride:l}))),y=[];for(let p=0;p<m.length;p++){const v=m[p];if(v.status==="rejected"){if(!r)throw v.reason;for(let x=0;x<f[p].length;x++)y.push({status:"failure",error:v.reason,result:void 0});continue}const w=v.value;for(let x=0;x<w.length;x++){const{returnData:T,success:k}=w[x],{callData:A}=f[p][x],{abi:z,address:S,functionName:N,args:P}=c[y.length];try{if(A==="0x")throw new Hm;if(!k)throw new Jw({data:T});const W=Pu({abi:z,args:P,data:T,functionName:N});y.push(r?{result:W,status:"success"}:W)}catch(W){const B=uu(W,{abi:z,address:S,args:P,docsPath:"/docs/contract/multicall",functionName:N});if(!r)throw B;y.push({error:B,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new Fe("multicall results mismatch");return y}async function g2(t,e){const{blockNumber:n,blockTag:r="latest",blocks:i,returnFullTransactions:o,traceTransfers:s,validation:a}=e;try{const l=[];for(const f of i){const h=f.blockOverrides?fL(f.blockOverrides):void 0,g=f.calls.map(y=>{const p=y,v=p.account?Vn(p.account):void 0,w={...p,data:p.abi?jo(p):p.data,from:p.from??v?.address};return Iu(w),Vf(w)}),m=f.stateOverrides?YC(f.stateOverrides):void 0;l.push({blockOverrides:h,calls:g,stateOverrides:m})}const u=(typeof n=="bigint"?Ge(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:o,traceTransfers:s,validation:a},u]})).map((f,h)=>({...QC(f),calls:f.calls.map((g,m)=>{const{abi:y,args:p,functionName:v,to:w}=i[h].calls[m],x=g.error?.data??g.returnData,T=BigInt(g.gasUsed),k=g.logs?.map(N=>Da(N)),A=g.status==="0x1"?"success":"failure",z=y&&A==="success"&&x!=="0x"?Pu({abi:y,data:x,functionName:v}):null,S=(()=>{if(A==="success")return;let N;if(g.error?.data==="0x"?N=new Hm:g.error&&(N=new Jw(g.error)),!!N)return uu(N,{abi:y??[],address:w??"0x",args:p,functionName:v??"<unknown>"})})();return{data:x,gasUsed:T,logs:k,status:A,...A==="success"?{result:z}:{error:S}}})}))}catch(l){const c=l,u=Vw(c,{});throw u instanceof qm?c:u}}function IL(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=zC(RQ(t));return n==="Bytes"?r:cL(r)}class kX extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const FX={checksum:new kX(8192)},Jb=FX.checksum,OX=/^0x[a-fA-F0-9]{40}$/;function s1(t,e={}){const{strict:n=!0}=e;if(!OX.test(t))throw new iI({address:t,cause:new LX});if(n){if(t.toLowerCase()===t)return;if(BX(t)!==t)throw new iI({address:t,cause:new DX})}}function BX(t){if(Jb.has(t))return Jb.get(t);s1(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=IL(kQ(e),{as:"Bytes"}),r=e.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const i=`0x${r.join("")}`;return Jb.set(t,i),i}function y2(t,e={}){const{strict:n=!0}=e??{};try{return s1(t,{strict:n}),!0}catch{return!1}}class iI extends Yn{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class LX extends Yn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class DX extends Yn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function v2(t){let e=!0,n="",r=0,i="",o=!1;for(let s=0;s<t.length;s++){const a=t[s];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){o=!0;break}continue}if(a===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!o)throw new Yn("Unable to normalize signature.");return i}function w2(t,e){const n=typeof t,r=e.type;switch(r){case"address":return y2(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,o)=>w2(Object.values(t)[o],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>w2(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function RL(t,e,n){for(const r in t){const i=t[r],o=e[r];if(i.type==="tuple"&&o.type==="tuple"&&"components"in i&&"components"in o)return RL(i.components,o.components,n[r]);const s=[i.type,o.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?y2(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?y2(n[r],{strict:!1}):!1)return s}}function PL(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?VM(t):t;return{...r,...n?{hash:Td(r)}:{}}}function UX(t,e,n){const{args:r=[],prepare:i=!0}=n??{},o=zQ(e,{strict:!1}),s=t.filter(c=>o?c.type==="function"||c.type==="error"?NL(c)===fT(e,0,4):c.type==="event"?Td(c)===e:!1:"name"in c&&c.name===e);if(s.length===0)throw new b2({name:e});if(s.length===1)return{...s[0],...i?{hash:Td(s[0])}:{}};let a;for(const c of s){if(!("inputs"in c))continue;if(!r||r.length===0){if(!c.inputs||c.inputs.length===0)return{...c,...i?{hash:Td(c)}:{}};continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==r.length)continue;if(r.every((d,f)=>{const h="inputs"in c&&c.inputs[f];return h?w2(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=RL(c.inputs,a.inputs,r);if(d)throw new jX({abiItem:c,type:d[0]},{abiItem:a,type:d[1]})}a=c}}const l=(()=>{if(a)return a;const[c,...u]=s;return{...c,overloads:u}})();if(!l)throw new b2({name:e});return{...l,...i?{hash:Td(l)}:{}}}function NL(t){return fT(Td(t),0,4)}function zX(t){const e=typeof t=="string"?t:wv(t);return v2(e)}function Td(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:IL(dT(zX(t)))}class jX extends Yn{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${v2(wv(e.abiItem))}\`, and`,`\`${n.type}\` in \`${v2(wv(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class b2 extends Yn{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const GX=/^(.*)\[([0-9]*)\]$/,HX=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,kL=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function WX({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(bT({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function bT({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=JX(r.type);if(i){const[o,s]=i;return $X(n,{checksumAddress:t,length:o,parameter:{...r,type:s}})}if(r.type==="tuple")return YX(n,{checksumAddress:t,parameter:r});if(r.type==="address")return VX(n,{checksum:t});if(r.type==="bool")return KX(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,s="256"]=kL.exec(r.type)??[];return QX(n,{signed:o,size:Number(s)})}if(r.type.startsWith("bytes"))return qX(n,{type:r.type});if(r.type==="string")return XX(n);throw new LL(r.type)}function xT(t){let e=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?e+=32:e+=Lo(a)}const n=[],r=[];let i=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?(n.push(si(e+i,{size:32})),r.push(a),i+=Lo(a)):n.push(a)}return Ks(...n,...r)}function VX(t,e){const{checksum:n=!1}=e;return s1(t,{strict:n}),{dynamic:!1,encoded:du(t.toLowerCase())}}function $X(t,e){const{checksumAddress:n,length:r,parameter:i}=e,o=r===null;if(!Array.isArray(t))throw new eY(t);if(!o&&t.length!==r)throw new ZX({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let s=!1;const a=[];for(let l=0;l<t.length;l++){const c=bT({checksumAddress:n,parameter:i,value:t[l]});c.dynamic&&(s=!0),a.push(c)}if(o||s){const l=xT(a);if(o){const c=si(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Ks(c,l):c}}if(s)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:Ks(...a.map(({encoded:l})=>l))}}function qX(t,{type:e}){const[,n]=e.split("bytes"),r=Lo(t);if(!n){let i=t;return r%32!==0&&(i=fu(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:Ks(du(si(r,{size:32})),i)}}if(r!==Number.parseInt(n))throw new OL({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:fu(t)}}function KX(t){if(typeof t!="boolean")throw new Yn(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:du(lL(t))}}function QX(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new uL({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:si(t,{size:32,signed:e})}}function XX(t){const e=dT(t),n=Math.ceil(Lo(e)/32),r=[];for(let i=0;i<n;i++)r.push(fu(fT(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:Ks(fu(si(Lo(e),{size:32})),...r)}}function YX(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const o=[];for(let s=0;s<r.components.length;s++){const a=r.components[s],l=Array.isArray(t)?s:a.name,c=bT({checksumAddress:n,parameter:a,value:t[l]});o.push(c),c.dynamic&&(i=!0)}return{dynamic:i,encoded:i?xT(o):Ks(...o.map(({encoded:s})=>s))}}function JX(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function FL(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new BL({expectedLength:t.length,givenLength:e.length});const i=WX({checksumAddress:r,parameters:t,values:e}),o=xT(i);return o.length===0?"0x":o}function x2(t,e){if(t.length!==e.length)throw new BL({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],o=e[r];n.push(x2.encode(i,o))}return Ks(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const l=r;return s1(l),du(l.toLowerCase(),i?32:0)}if(n==="string")return dT(r);if(n==="bytes")return r;if(n==="bool")return du(lL(r),i?32:1);const o=n.match(kL);if(o){const[l,c,u="256"]=o,d=Number.parseInt(u)/8;return si(r,{size:i?32:d,signed:c==="int"})}const s=n.match(HX);if(s){const[l,c]=s;if(Number.parseInt(c)!==(r.length-2)/2)throw new OL({expectedSize:Number.parseInt(c),value:r});return fu(r,i?32:0)}const a=n.match(GX);if(a&&Array.isArray(r)){const[l,c]=a,u=[];for(let d=0;d<r.length;d++)u.push(e(c,r[d],!0));return u.length===0?"0x":Ks(...u)}throw new LL(n)}t.encode=e})(x2||(x2={}));class ZX extends Yn{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class OL extends Yn{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Lo(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class BL extends Yn{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class eY extends Yn{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class LL extends Yn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function tY(t,e){const{bytecode:n,args:r}=e;return Ks(n,t.inputs?.length&&r?.length?FL(t.inputs,r):"0x")}function nY(t){return PL(t)}function rY(t,...e){const{overloads:n}=t,r=n?iY([t,...n],t.name,{args:e[0]}):t,i=oY(r),o=e.length>0?FL(r.inputs,e[0]):void 0;return o?Ks(i,o):i}function Wu(t,e={}){return PL(t,e)}function iY(t,e,n){const r=UX(t,e,n);if(r.type!=="function")throw new b2({name:e,type:"function"});return r}function oY(t){return NL(t)}const sY="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Es="0x0000000000000000000000000000000000000000",V0=new jw(8192);function aY(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(V0.get(n))return V0.get(n);const r=t().finally(()=>V0.delete(n));return V0.set(n,r),r}async function E2(t){return new Promise(e=>setTimeout(e,t))}function xv(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,o)=>{const s=async({count:a=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:a,error:c}):e;u&&await E2(u),s({count:a+1})};try{const c=await t();i(c)}catch(c){if(a<n&&await r({count:a,error:c}))return l({error:c});o(c)}};s()})}function lY(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,methods:o,retryDelay:s=150,retryCount:a=3,uid:l}={...e,...r},{method:c}=n;if(o?.exclude?.includes(c))throw new kc(new Error("method not supported"),{method:c});if(o?.include&&!o.include.includes(c))throw new kc(new Error("method not supported"),{method:c});const u=i?af(`${l}.${pr(n)}`):void 0;return aY(()=>xv(async()=>{try{return await t(n)}catch(d){const f=d;switch(f.code){case Qp.code:throw new Qp(f);case Xp.code:throw new Xp(f);case Yp.code:throw new Yp(f,{method:n.method});case Jp.code:throw new Jp(f);case au.code:throw new au(f);case lu.code:throw new lu(f);case Zp.code:throw new Zp(f);case Bl.code:throw new Bl(f);case em.code:throw new em(f);case kc.code:throw new kc(f,{method:n.method});case df.code:throw new df(f);case tm.code:throw new tm(f);case Sn.code:throw new Sn(f);case nm.code:throw new nm(f);case rm.code:throw new rm(f);case im.code:throw new im(f);case om.code:throw new om(f);case Bo.code:throw new Bo(f);case ff.code:throw new ff(f);case sm.code:throw new sm(f);case am.code:throw new am(f);case lm.code:throw new lm(f);case cm.code:throw new cm(f);case um.code:throw new um(f);case hf.code:throw new hf(f);case 5e3:throw new Sn(f);default:throw d instanceof Fe?d:new Iq(f)}}},{delay:({count:d,error:f})=>{if(f&&f instanceof dp){const h=f?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h)*1e3}return~~(1<<d)*s},retryCount:a,shouldRetry:({error:d})=>cY(d)}),{enabled:i,id:u})}}function cY(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===df.code||t.code===au.code:t instanceof dp&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Nu(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function ET(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,o)=>{(async()=>{let s;try{const a=new AbortController;n>0&&(s=setTimeout(()=>{r?a.abort():o(e)},n)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(e),o(a)}finally{clearTimeout(s)}})()})}function uY(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const oI=uY();function dY(t,e={}){return{async request(n){const{body:r,onRequest:i=e.onRequest,onResponse:o=e.onResponse,timeout:s=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:c,signal:u}=a;try{const d=await ET(async({signal:h})=>{const g={...a,body:Array.isArray(r)?pr(r.map(v=>({jsonrpc:"2.0",id:v.id??oI.take(),...v}))):pr({jsonrpc:"2.0",id:r.id??oI.take(),...r}),headers:{"Content-Type":"application/json",...l},method:c||"POST",signal:u||(s>0?h:null)},m=new Request(t,g),y=await i?.(m,g)??{...g,url:t};return await fetch(y.url??t,y)},{errorInstance:new FM({body:r,url:t}),timeout:s,signal:!0});o&&await o(d);let f;if(d.headers.get("Content-Type")?.startsWith("application/json"))f=await d.json();else{f=await d.text();try{f=JSON.parse(f||"{}")}catch(h){if(d.ok)throw h;f={error:f}}}if(!d.ok)throw new dp({body:r,details:pr(f.error)||d.statusText,headers:d.headers,status:d.status,url:t});return f}catch(d){throw d instanceof dp||d instanceof FM?d:new dp({body:r,cause:d,url:t})}}}}class fY extends Fe{constructor({domain:e}){super(`Invalid domain "${pr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class hY extends Fe{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class pY extends Fe{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function mY(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:HL({domain:e}),...t.types};GL({domain:e,message:n,primaryType:r,types:i});const o=["0x1901"];return e&&o.push(gY({domain:e,types:i})),r!=="EIP712Domain"&&o.push(DL({data:n,primaryType:r,types:i})),Dr(qs(o))}function gY({domain:t,types:e}){return DL({data:t,primaryType:"EIP712Domain",types:e})}function DL({data:t,primaryType:e,types:n}){const r=UL({data:t,primaryType:e,types:n});return Dr(r)}function UL({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[yY({primaryType:e,types:n})];for(const o of n[e]){const[s,a]=jL({types:n,name:o.name,type:o.type,value:t[o.name]});r.push(s),i.push(a)}return ec(r,i)}function yY({primaryType:t,types:e}){const n=hi(vY({primaryType:t,types:e}));return Dr(n)}function vY({primaryType:t,types:e}){let n="";const r=zL({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const o of i)n+=`${o}(${e[o].map(({name:s,type:a})=>`${a} ${s}`).join(",")})`;return n}function zL({primaryType:t,types:e},n=new Set){const i=t.match(/^\w*/u)?.[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const o of e[i])zL({primaryType:o.type,types:e},n);return n}function jL({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Dr(UL({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Dr(r)];if(n==="string")return[{type:"bytes32"},Dr(hi(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),o=r.map(s=>jL({name:e,type:i,types:t,value:s}));return[{type:"bytes32"},Dr(ec(o.map(([s])=>s),o.map(([,s])=>s)))]}return[{type:n},r]}function wY(t){const{domain:e,message:n,primaryType:r,types:i}=t,o=(l,c)=>{const u={...c};for(const d of l){const{name:f,type:h}=d;h==="address"&&(u[f]=u[f].toLowerCase())}return u},s=i.EIP712Domain?e?o(i.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(i[r],n)})();return pr({domain:s,message:a,primaryType:r,types:i})}function GL(t){const{domain:e,message:n,primaryType:r,types:i}=t,o=(s,a)=>{for(const l of s){const{name:c,type:u}=l,d=a[c],f=u.match(uB);if(f&&(typeof d=="number"||typeof d=="bigint")){const[m,y,p]=f;Ge(d,{signed:y==="int",size:Number.parseInt(p)/8})}if(u==="address"&&typeof d=="string"&&!sr(d))throw new gi({address:d});const h=u.match(J$);if(h){const[m,y]=h;if(y&&Nn(d)!==Number.parseInt(y))throw new m$({expectedSize:Number.parseInt(y),givenSize:Nn(d)})}const g=i[u];g&&(bY(u),o(g,d))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new fY({domain:e});o(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])o(i[r],n);else throw new hY({primaryType:r,types:i})}function HL({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function bY(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new pY({type:t})}function xY(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,i=n.address;if(!sr(i))throw new gi({address:i});if(r<0)throw new Hw({chainId:r})}AT(t)}function EY(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new IB;for(const n of e){const r=Nn(n),i=Oo(ou(n,0,1));if(r!==32)throw new tK({hash:n,size:r});if(i!==MB)throw new nK({hash:n,version:i})}}AT(t)}function AT(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=t;if(e<=0)throw new Hw({chainId:e});if(i&&!sr(i))throw new gi({address:i});if(r&&r>qw)throw new su({maxFeePerGas:r});if(n&&r&&n>r)throw new Kp({maxFeePerGas:r,maxPriorityFeePerGas:n})}function AY(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:o}=t;if(e<=0)throw new Hw({chainId:e});if(o&&!sr(o))throw new gi({address:o});if(n||i)throw new Fe("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>qw)throw new su({maxFeePerGas:r})}function _Y(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:o}=t;if(o&&!sr(o))throw new gi({address:o});if(typeof e<"u"&&e<=0)throw new Hw({chainId:e});if(n||i)throw new Fe("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>qw)throw new su({maxFeePerGas:r})}function a1(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:i}=t[n];for(let o=0;o<i.length;o++)if(i[o].length-2!==64)throw new _q({storageKey:i[o]});if(!sr(r,{strict:!1}))throw new gi({address:r});e.push([r,i])}return e}function SY(t,e){const n=PB(t);return n==="eip1559"?MY(t,e):n==="eip2930"?IY(t,e):n==="eip4844"?TY(t,e):n==="eip7702"?CY(t,e):RY(t,e)}function CY(t,e){const{authorizationList:n,chainId:r,gas:i,nonce:o,to:s,value:a,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:d}=t;xY(t);const f=a1(u),h=PY(n);return gs(["0x04",Hl([Ge(r),o?Ge(o):"0x",c?Ge(c):"0x",l?Ge(l):"0x",i?Ge(i):"0x",s??"0x",a?Ge(a):"0x",d??"0x",f,h,...Zm(t,e)])])}function TY(t,e){const{chainId:n,gas:r,nonce:i,to:o,value:s,maxFeePerBlobGas:a,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:d}=t;EY(t);let f=t.blobVersionedHashes,h=t.sidecars;if(t.blobs&&(typeof f>"u"||typeof h>"u")){const w=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(k=>or(k)),x=t.kzg,T=tT({blobs:w,kzg:x});if(typeof f>"u"&&(f=SB({commitments:T})),typeof h>"u"){const k=nT({blobs:w,commitments:T,kzg:x});h=RB({blobs:w,commitments:T,proofs:k})}}const g=a1(u),m=[Ge(n),i?Ge(i):"0x",c?Ge(c):"0x",l?Ge(l):"0x",r?Ge(r):"0x",o??"0x",s?Ge(s):"0x",d??"0x",g,a?Ge(a):"0x",f??[],...Zm(t,e)],y=[],p=[],v=[];if(h)for(let w=0;w<h.length;w++){const{blob:x,commitment:T,proof:k}=h[w];y.push(x),p.push(T),v.push(k)}return gs(["0x03",Hl(h?[m,y,p,v]:m)])}function MY(t,e){const{chainId:n,gas:r,nonce:i,to:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:l,accessList:c,data:u}=t;AT(t);const d=a1(c),f=[Ge(n),i?Ge(i):"0x",l?Ge(l):"0x",a?Ge(a):"0x",r?Ge(r):"0x",o??"0x",s?Ge(s):"0x",u??"0x",d,...Zm(t,e)];return gs(["0x02",Hl(f)])}function IY(t,e){const{chainId:n,gas:r,data:i,nonce:o,to:s,value:a,accessList:l,gasPrice:c}=t;AY(t);const u=a1(l),d=[Ge(n),o?Ge(o):"0x",c?Ge(c):"0x",r?Ge(r):"0x",s??"0x",a?Ge(a):"0x",i??"0x",u,...Zm(t,e)];return gs(["0x01",Hl(d)])}function RY(t,e){const{chainId:n=0,gas:r,data:i,nonce:o,to:s,value:a,gasPrice:l}=t;_Y(t);let c=[o?Ge(o):"0x",l?Ge(l):"0x",r?Ge(r):"0x",s??"0x",a?Ge(a):"0x",i??"0x"];if(e){const u=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const h=27n+(e.v===27n?0n:1n);if(e.v!==h)throw new Eq({v:e.v});return h})(),d=Oi(e.r),f=Oi(e.s);c=[...c,Ge(u),d==="0x00"?"0x":d,f==="0x00"?"0x":f]}else n>0&&(c=[...c,Ge(n),"0x","0x"]);return Hl(c)}function Zm(t,e){const n=e??t,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const o=Oi(n.r),s=Oi(n.s);return[typeof i=="number"?i?Ge(1):"0x":r===0n?"0x":r===1n?Ge(1):r===27n?"0x":Ge(1),o==="0x00"?"0x":o,s==="0x00"?"0x":s]}function PY(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:i,...o}=n,s=n.address;e.push([r?hi(r):"0x",s,i?hi(i):"0x",...Zm({},o)])}return e}const NY=`Ethereum Signed Message:
`;function kY(t){const e=typeof t=="string"?af(t):typeof t.raw=="string"?t.raw:or(t.raw),n=af(`${NY}${Nn(e)}`);return qs([n,e])}function WL(t,e){return Dr(kY(t),e)}const VL="0x6492649264926492649264926492649264926492649264926492649264926492";function FY(t){return vv(t,-32)===VL}function OY(t){const{address:e,data:n,signature:r,to:i="hex"}=t,o=gs([ec([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),VL]);return i==="hex"?o:Fo(o)}const BY="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function LY(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:o,traceAssetChanges:s,traceTransfers:a,validation:l}=e,c=e.account?Vn(e.account):void 0;if(s&&!c)throw new Fe("`account` is required when `traceAssetChanges` is true");const u=c?tY(nY("constructor(bytes, bytes)"),{bytecode:hL,args:[BY,rY(Wu("function getBalance(address)"),[c.address])]}):void 0,d=s?await Promise.all(e.calls.map(async C=>{if(!C.data&&!C.abi)return;const{accessList:j}=await xL(t,{account:c.address,...C,data:C.abi?jo(C):C.data});return j.map(({address:H,storageKeys:D})=>D.length>0?H:null)})).then(C=>C.flat().filter(Boolean)):[],f=await g2(t,{blockNumber:n,blockTag:r,blocks:[...s?[{calls:[{data:u}],stateOverrides:o},{calls:d.map((C,j)=>({abi:[Wu("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:C,from:Es,nonce:j})),stateOverrides:[{address:Es,nonce:0}]}]:[],{calls:[...i,{}].map(C=>({...C,from:c?.address})),stateOverrides:o},...s?[{calls:[{data:u}]},{calls:d.map((C,j)=>({abi:[Wu("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:C,from:Es,nonce:j})),stateOverrides:[{address:Es,nonce:0}]},{calls:d.map((C,j)=>({to:C,abi:[Wu("function decimals() returns (uint256)")],functionName:"decimals",from:Es,nonce:j})),stateOverrides:[{address:Es,nonce:0}]},{calls:d.map((C,j)=>({to:C,abi:[Wu("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Es,nonce:j})),stateOverrides:[{address:Es,nonce:0}]},{calls:d.map((C,j)=>({to:C,abi:[Wu("function symbol() returns (string)")],functionName:"symbol",from:Es,nonce:j})),stateOverrides:[{address:Es,nonce:0}]}]:[]],traceTransfers:a,validation:l}),h=s?f[2]:f[0],[g,m,,y,p,v,w,x]=s?f:[],{calls:T,...k}=h,A=T.slice(0,-1)??[],z=g?.calls??[],S=m?.calls??[],N=[...z,...S].map(C=>C.status==="success"?Sr(C.data):null),P=y?.calls??[],W=p?.calls??[],B=[...P,...W].map(C=>C.status==="success"?Sr(C.data):null),b=(v?.calls??[]).map(C=>C.status==="success"?C.result:null),E=(x?.calls??[]).map(C=>C.status==="success"?C.result:null),I=(w?.calls??[]).map(C=>C.status==="success"?C.result:null),O=[];for(const[C,j]of B.entries()){const H=N[C];if(typeof j!="bigint"||typeof H!="bigint")continue;const D=b[C-1],M=E[C-1],$=I[C-1],J=C===0?{address:sY,decimals:18,symbol:"ETH"}:{address:d[C-1],decimals:$||D?Number(D??1):void 0,symbol:M??void 0};O.some(Z=>Z.token.address===J.address)||O.push({token:J,value:{pre:H,post:j,diff:j-H}})}return{assetChanges:O,block:k,results:A}}const Zb=new Map,sI=new Map;let DY=0;function Ua(t,e,n){const r=++DY,i=()=>Zb.get(t)||[],o=()=>{const u=i();Zb.set(t,u.filter(d=>d.id!==r))},s=()=>{const u=i();if(!u.some(f=>f.id===r))return;const d=sI.get(t);if(u.length===1&&d){const f=d();f instanceof Promise&&f.catch(()=>{})}o()},a=i();if(Zb.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return s;const l={};for(const u in e)l[u]=(...d)=>{const f=i();if(f.length!==0)for(const h of f)h.fns[u]?.(...d)};const c=n(l);return typeof c=="function"&&sI.set(t,c),s}function Qf(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const o=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:o}));const l=await n?.(a)??r;await E2(l);const c=async()=>{i&&(await t({unpoll:o}),await E2(r),c())};c()})(),o}function UY(t,{blockTag:e="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:o,includeTransactions:s,poll:a,pollingInterval:l=t.pollingInterval}){const c=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),u=s??!1;let d;return c?(()=>{const g=pr(["watchBlocks",t.uid,e,n,r,u,l]);return Ua(g,{onBlock:i,onError:o},m=>Qf(async()=>{try{const y=await It(t,Us,"getBlock")({blockTag:e,includeTransactions:u});if(y.number!==null&&d?.number!=null){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let p=d?.number+1n;p<y.number;p++){const v=await It(t,Us,"getBlock")({blockNumber:p,includeTransactions:u});m.onBlock(v,d),d=v}}(d?.number==null||e==="pending"&&y?.number==null||y.number!==null&&y.number>d.number)&&(m.onBlock(y,d),d=y)}catch(y){m.onError?.(y)}},{emitOnBegin:r,interval:l}))})():(()=>{let g=!0,m=!0,y=()=>g=!1;return(async()=>{try{r&&It(t,Us,"getBlock")({blockTag:e,includeTransactions:u}).then(w=>{g&&m&&(i(w,void 0),m=!1)}).catch(o);const p=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(x=>x.config.type==="webSocket");return w?w.value:t.transport}return t.transport})(),{unsubscribe:v}=await p.subscribe({params:["newHeads"],async onData(w){if(!g)return;const x=await It(t,Us,"getBlock")({blockNumber:w.result?.number,includeTransactions:u}).catch(()=>{});g&&(i(x,d),m=!1,d=x)},onError(w){o?.(w)}});y=v,g||y()}catch(p){o?.(p)}})(),()=>y()})()}function $L(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:o,pollingInterval:s=t.pollingInterval}){const a=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let l;return a?(()=>{const d=pr(["watchBlockNumber",t.uid,e,n,s]);return Ua(d,{onBlockNumber:r,onError:i},f=>Qf(async()=>{try{const h=await It(t,Jm,"getBlockNumber")({cacheTime:0});if(l){if(h===l)return;if(h-l>1&&n)for(let g=l+1n;g<h;g++)f.onBlockNumber(g,l),l=g}(!l||h>l)&&(f.onBlockNumber(h,l),l=h)}catch(h){f.onError?.(h)}},{emitOnBegin:e,interval:s}))})():(()=>{const d=pr(["watchBlockNumber",t.uid,e,n]);return Ua(d,{onBlockNumber:r,onError:i},f=>{let h=!0,g=()=>h=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const p=t.transport.transports.find(v=>v.config.type==="webSocket");return p?p.value:t.transport}return t.transport})(),{unsubscribe:y}=await m.subscribe({params:["newHeads"],onData(p){if(!h)return;const v=Sr(p.result?.number);f.onBlockNumber(v,l),l=v},onError(p){f.onError?.(p)}});g=y,h||g()}catch(m){i?.(m)}})(),()=>g()})})()}async function l1(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function zY(t,{address:e,args:n,batch:r=!0,event:i,events:o,fromBlock:s,onError:a,onLogs:l,poll:c,pollingInterval:u=t.pollingInterval,strict:d}){const f=typeof c<"u"?c:typeof s=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),h=d??!1;return f?(()=>{const y=pr(["watchEvent",e,n,r,t.uid,i,u,s]);return Ua(y,{onLogs:l,onError:a},p=>{let v;s!==void 0&&(v=s-1n);let w,x=!1;const T=Qf(async()=>{if(!x){try{w=await It(t,AL,"createEventFilter")({address:e,args:n,event:i,events:o,strict:h,fromBlock:s})}catch{}x=!0;return}try{let k;if(w)k=await It(t,o1,"getFilterChanges")({filter:w});else{const A=await It(t,Jm,"getBlockNumber")({});v&&v!==A?k=await It(t,vT,"getLogs")({address:e,args:n,event:i,events:o,fromBlock:v+1n,toBlock:A}):k=[],v=A}if(k.length===0)return;if(r)p.onLogs(k);else for(const A of k)p.onLogs([A])}catch(k){w&&k instanceof lu&&(x=!1),p.onError?.(k)}},{emitOnBegin:!0,interval:u});return async()=>{w&&await It(t,l1,"uninstallFilter")({filter:w}),T()}})})():(()=>{let y=!0,p=()=>y=!1;return(async()=>{try{const v=(()=>{if(t.transport.type==="fallback"){const k=t.transport.transports.find(A=>A.config.type==="webSocket");return k?k.value:t.transport}return t.transport})(),w=o??(i?[i]:void 0);let x=[];w&&(x=[w.flatMap(A=>Ym({abi:[A],eventName:A.name,args:n}))],i&&(x=x[0]));const{unsubscribe:T}=await v.subscribe({params:["logs",{address:e,topics:x}],onData(k){if(!y)return;const A=k.result;try{const{eventName:z,args:S}=gT({abi:w??[],data:A.data,topics:A.topics,strict:h}),N=Da(A,{args:S,eventName:z});l([N])}catch(z){let S,N;if(z instanceof Vp||z instanceof zw){if(d)return;S=z.abiItem.name,N=z.abiItem.inputs?.some(W=>!("name"in W&&W.name))}const P=Da(A,{args:N?[]:{},eventName:S});l([P])}},onError(k){a?.(k)}});p=T,y||p()}catch(v){a?.(v)}})(),()=>p()})()}function jY(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:o=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket")?(()=>{const c=pr(["watchPendingTransactions",t.uid,e,o]);return Ua(c,{onTransactions:r,onError:n},u=>{let d;const f=Qf(async()=>{try{if(!d)try{d=await It(t,_L,"createPendingTransactionFilter")({});return}catch(g){throw f(),g}const h=await It(t,o1,"getFilterChanges")({filter:d});if(h.length===0)return;if(e)u.onTransactions(h);else for(const g of h)u.onTransactions([g])}catch(h){u.onError?.(h)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await It(t,l1,"uninstallFilter")({filter:d}),f()}})})():(()=>{let c=!0,u=()=>c=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!c)return;const h=f.result;r([h])},onError(f){n?.(f)}});u=d,c||u()}catch(d){n?.(d)}})(),()=>u()})()}async function GY(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>Vm(n))}async function HY(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function WY(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?Vn(n):void 0,o=r?[i?.address,[Ge(r)]]:[i?.address],s=await t.request({method:"wallet_getCapabilities",params:o}),a={};for(const[l,c]of Object.entries(s)){a[Number(l)]={};for(let[u,d]of Object.entries(c))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(l)][u]=d}return typeof r=="number"?a[r]:a}const qL="0x5792579257925792579257925792579257925792579257925792579257925792",KL=Ge(0,{size:32});async function VY(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:o,experimental_fallbackDelay:s=32,forceAtomic:a=!1,id:l,version:c="2.0.0"}=e,u=n?Vn(n):null,d=e.calls.map(f=>{const h=f;return{data:h.abi?jo({abi:h.abi,functionName:h.functionName,args:h.args}):h.data,to:h.to,value:h.value?Ge(h.value):void 0}});try{const f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:Ge(i.id),from:u?.address,id:l,version:c}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const h=f;if(o&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method"))){if(r&&Object.values(r).some(v=>!v.optional)){const v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new ff(new Fe(v,{details:v}))}if(a&&d.length>1){const p="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new hf(new Fe(p,{details:p}))}const g=[];for(const p of d){const v=Xw(t,{account:u,chain:i,data:p.data,to:p.to,value:p.value?Sr(p.value):void 0});g.push(v),s>0&&await new Promise(w=>setTimeout(w,s))}const m=await Promise.allSettled(g);if(m.every(p=>p.status==="rejected"))throw m[0].reason;const y=m.map(p=>p.status==="fulfilled"?p.value:KL);return{id:qs([...y,Ge(i.id,{size:32}),qL])}}throw bB(f,{...e,account:u,chain:e.chain})}}async function QL(t,e){async function n(u){if(u.endsWith(qL.slice(2))){const f=Oi(vv(u,-64,-32)),h=vv(u,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(h.map(y=>KL.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),m=g.some(y=>y===null)?100:g.every(y=>y?.status==="0x1")?200:g.every(y=>y?.status==="0x0")?500:600;return{atomic:!1,chainId:Oo(f),receipts:g.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:i,receipts:o,version:s="2.0.0",...a}=await n(e.id),[l,c]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:i?Oo(i):void 0,receipts:o?.map(u=>({...u,blockNumber:Sr(u.blockNumber),gasUsed:Sr(u.gasUsed),status:CL[u.status]}))??[],statusCode:c,status:l,version:s}}async function $Y(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function qY(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:f})=>f>=200,timeout:o=6e4}=e,s=pr(["waitForCallsStatus",t.uid,n]),{promise:a,resolve:l,reject:c}=hT();let u;const d=Ua(s,{resolve:l,reject:c},f=>{const h=Qf(async()=>{const g=m=>{clearTimeout(u),h(),m(),d()};try{const m=await QL(t,{id:n});if(!i(m))return;g(()=>f.resolve(m))}catch(m){g(()=>f.reject(m))}},{interval:r,emitOnBegin:!0});return h});return u=o?setTimeout(()=>{d(),clearTimeout(u),c(new KY({id:n}))},o):void 0,await a}class KY extends Fe{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function QY(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function XY(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Oo(t.nonce):void 0,storageProof:t.storageProof?QY(t.storageProof):void 0}}async function YY(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const o=r??"latest",s=n!==void 0?Ge(n):void 0,a=await t.request({method:"eth_getProof",params:[e,i,s||o]});return XY(a)}async function JY(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:i=t.pollingInterval,retryCount:o=6,retryDelay:s=({count:l})=>~~(1<<l)*200,timeout:a=18e4}){const l=pr(["waitForTransactionReceipt",t.uid,n]);let c,u,d,f=!1,h,g;const{promise:m,resolve:y,reject:p}=hT(),v=a?setTimeout(()=>{g(),h(),p(new Cq({hash:n}))},a):void 0;return h=Ua(l,{onReplaced:r,resolve:y,reject:p},w=>{g=It(t,$L,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(x){const T=A=>{clearTimeout(v),g(),A(),h()};let k=x;if(!f)try{if(d){if(e>1&&(!d.blockNumber||k-d.blockNumber+1n<e))return;T(()=>w.resolve(d));return}if(c||(f=!0,await xv(async()=>{c=await It(t,wT,"getTransaction")({hash:n}),c.blockNumber&&(k=c.blockNumber)},{delay:s,retryCount:o}),f=!1),d=await It(t,m2,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||k-d.blockNumber+1n<e))return;T(()=>w.resolve(d))}catch(A){if(A instanceof vB||A instanceof wB){if(!c){f=!1;return}try{u=c,f=!0;const z=await xv(()=>It(t,Us,"getBlock")({blockNumber:k,includeTransactions:!0}),{delay:s,retryCount:o,shouldRetry:({error:P})=>P instanceof xB});f=!1;const S=z.transactions.find(({from:P,nonce:W})=>P===u.from&&W===u.nonce);if(!S||(d=await It(t,m2,"getTransactionReceipt")({hash:S.hash}),e>1&&(!d.blockNumber||k-d.blockNumber+1n<e)))return;let N="replaced";S.to===u.to&&S.value===u.value&&S.input===u.input?N="repriced":S.from===S.to&&S.value===0n&&(N="cancelled"),T(()=>{w.onReplaced?.({reason:N,replacedTransaction:u,transaction:S,transactionReceipt:d}),w.resolve(d)})}catch(z){T(()=>w.reject(z))}}else T(()=>w.reject(A))}}})}),m}async function ZY(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Ur(n))}async function eJ(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function XL(t,e){const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new Mu({docsPath:"/docs/eip7702/prepareAuthorization"});const o=Vn(n),s=(()=>{if(e.executor)return e.executor==="self"?e.executor:Vn(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof a.chainId>"u"&&(a.chainId=t.chain?.id??await It(t,$f,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await It(t,eT,"getTransactionCount")({address:o.address,blockTag:"pending"}),(s==="self"||s?.address&&i1(s.address,o.address))&&(a.nonce+=1)),a}async function tJ(t,e){const{account:n=t.account}=e;if(!n)throw new Mu({docsPath:"/docs/eip7702/signAuthorization"});const r=Vn(n);if(!r.signAuthorization)throw new hy({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await XL(t,e);return r.signAuthorization(i)}async function nJ(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new Mu({docsPath:"/docs/actions/wallet/signTransaction"});const o=Vn(n);Iu({account:o,...e});const s=await It(t,$f,"getChainId")({});r!==null&&yB({currentChainId:s,chain:r});const l=(r?.formatters||t.chain?.formatters)?.transactionRequest?.format||Vf;return o.signTransaction?o.signTransaction({...i,chainId:s},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...l(i),chainId:Ge(s),from:o.address}]},{retryCount:0})}async function YL(t,{account:e=t.account,message:n}){if(!e)throw new Mu({docsPath:"/docs/actions/wallet/signMessage"});const r=Vn(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?af(n):n.raw instanceof Uint8Array?hi(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function rJ(t,e){const{account:n=t.account,domain:r,message:i,primaryType:o}=e;if(!n)throw new Mu({docsPath:"/docs/actions/wallet/signTypedData"});const s=Vn(n),a={EIP712Domain:HL({domain:r}),...e.types};if(GL({domain:r,message:i,primaryType:o,types:a}),s.signTypedData)return s.signTypedData({domain:r,message:i,primaryType:o,types:a});const l=wY({domain:r,message:i,primaryType:o,types:a});return t.request({method:"eth_signTypedData_v4",params:[s.address,l]},{retryCount:0})}async function iJ(t,e){const{abi:n,address:r,args:i,dataSuffix:o,functionName:s,...a}=e,l=a.account?Vn(a.account):t.account,c=jo({abi:n,args:i,functionName:s});try{const{data:u}=await It(t,n1,"call")({batch:!1,data:`${c}${o?o.replace("0x",""):""}`,to:r,...a,account:l}),d=Pu({abi:n,args:i,functionName:s,data:u||"0x"}),f=n.filter(h=>"name"in h&&h.name===e.functionName);return{result:d,request:{abi:f,address:r,args:i,dataSuffix:o,functionName:s,...a,account:l}}}catch(u){throw uu(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:s,sender:l?.address})}}async function oJ(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Ge(e)}]},{retryCount:0})}let JL=class extends DC{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,C$(e);const r=Wm(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),uf(o)}update(e){return cf(this),this.iHash.update(e),this}digestInto(e){cf(this),ms(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ZL=(t,e,n)=>new JL(t,e).update(n).digest();ZL.create=(t,e)=>new JL(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mi=BigInt(0),pi=BigInt(1),Fc=BigInt(2),sJ=BigInt(3),eD=BigInt(4),tD=BigInt(5),nD=BigInt(8);function Ao(t,e){const n=t%e;return n>=Mi?n:e+n}function go(t,e,n){let r=t;for(;e-- >Mi;)r*=r,r%=n;return r}function aI(t,e){if(t===Mi)throw new Error("invert: expected non-zero number");if(e<=Mi)throw new Error("invert: expected positive modulus, got "+e);let n=Ao(t,e),r=e,i=Mi,o=pi;for(;n!==Mi;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==pi)throw new Error("invert: does not exist");return Ao(i,e)}function rD(t,e){const n=(t.ORDER+pi)/eD,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function aJ(t,e){const n=(t.ORDER-tD)/nD,r=t.mul(e,Fc),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,Fc),i),a=t.mul(o,t.sub(s,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function lJ(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-pi,n=0;for(;e%Fc===Mi;)e/=Fc,n++;let r=Fc;const i=c1(t);for(;lI(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return rD;let o=i.pow(r,e);const s=(e+pi)/Fc;return function(l,c){if(l.is0(c))return c;if(lI(l,c)!==1)throw new Error("Cannot find square root");let u=n,d=l.mul(l.ONE,o),f=l.pow(c,e),h=l.pow(c,s);for(;!l.eql(f,l.ONE);){if(l.is0(f))return l.ZERO;let g=1,m=l.sqr(f);for(;!l.eql(m,l.ONE);)if(g++,m=l.sqr(m),g===u)throw new Error("Cannot find square root");const y=pi<<BigInt(u-g-1),p=l.pow(d,y);u=g,d=l.sqr(p),f=l.mul(f,d),h=l.mul(h,p)}return h}}function cJ(t){return t%eD===sJ?rD:t%nD===tD?aJ:lJ(t)}const uJ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function dJ(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=uJ.reduce((r,i)=>(r[i]="function",r),e);return cT(t,n),t}function fJ(t,e,n){if(n<Mi)throw new Error("invalid exponent, negatives unsupported");if(n===Mi)return t.ONE;if(n===pi)return e;let r=t.ONE,i=e;for(;n>Mi;)n&pi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=pi;return r}function iD(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),o),r}function lI(t,e){const n=(t.ORDER-pi)/Fc,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function hJ(t,e){e!==void 0&&$p(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function c1(t,e,n=!1,r={}){if(t<=Mi)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(o=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:s,nByteLength:a}=hJ(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:a,MASK:t1(s),ZERO:Mi,ONE:pi,create:u=>Ao(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Mi<=u&&u<t},is0:u=>u===Mi,isValidNot0:u=>!c.is0(u)&&c.isValid(u),isOdd:u=>(u&pi)===pi,neg:u=>Ao(-u,t),eql:(u,d)=>u===d,sqr:u=>Ao(u*u,t),add:(u,d)=>Ao(u+d,t),sub:(u,d)=>Ao(u-d,t),mul:(u,d)=>Ao(u*d,t),pow:(u,d)=>fJ(c,u,d),div:(u,d)=>Ao(u*aI(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>aI(u,t),sqrt:o||(u=>(l||(l=cJ(t)),l(c,u))),toBytes:u=>n?oL(u,a):lT(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?iL(u):e1(u)},invertBatch:u=>iD(c,u),cmov:(u,d,f)=>f?d:u});return Object.freeze(c)}function oD(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function sD(t){const e=oD(t);return e+Math.ceil(e/2)}function pJ(t,e,n=!1){const r=t.length,i=oD(e),o=sD(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?iL(t):e1(t),a=Ao(s,e-pi)+pi;return n?oL(a,i):lT(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pf=BigInt(0),Oc=BigInt(1);function fp(t,e){const n=e.negate();return t?n:e}function mJ(t,e,n){const r=s=>s.pz,i=iD(t.Fp,n.map(r));return n.map((s,a)=>s.toAffine(i[a])).map(t.fromAffine)}function aD(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function ex(t,e){aD(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=t1(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function cI(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),l=t>>s;a>r&&(a-=o,l+=Oc);const c=e*r,u=c+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:c}}function gJ(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function yJ(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const tx=new WeakMap,lD=new WeakMap;function nx(t){return lD.get(t)||1}function uI(t){if(t!==pf)throw new Error("invalid wNAF")}function vJ(t,e){return{constTimeNegate:fp,hasPrecomputes(n){return nx(n)!==1},unsafeLadder(n,r,i=t.ZERO){let o=n;for(;r>pf;)r&Oc&&(i=i.add(o)),o=o.double(),r>>=Oc;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=ex(r,e),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let u=1;u<o;u++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){let o=t.ZERO,s=t.BASE;const a=ex(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:g}=cI(i,l,a);i=c,d?s=s.add(fp(h,r[g])):o=o.add(fp(f,r[u]))}return uI(i),{p:o,f:s}},wNAFUnsafe(n,r,i,o=t.ZERO){const s=ex(n,e);for(let a=0;a<s.windows&&i!==pf;a++){const{nextN:l,offset:c,isZero:u,isNeg:d}=cI(i,a,s);if(i=l,!u){const f=r[c];o=o.add(d?f.negate():f)}}return uI(i),o},getPrecomputes(n,r,i){let o=tx.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(o=i(o)),tx.set(r,o))),o},wNAFCached(n,r,i){const o=nx(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=nx(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){aD(r,e),lD.set(n,r),tx.delete(n)}}}function wJ(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>pf||r>pf;)n&Oc&&(o=o.add(i)),r&Oc&&(s=s.add(i)),i=i.double(),n>>=Oc,r>>=Oc;return{p1:o,p2:s}}function bJ(t,e,n,r){gJ(n,t),yJ(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=wQ(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=t1(l),u=new Array(Number(c)+1).fill(s),d=Math.floor((e.BITS-1)/l)*l;let f=s;for(let h=d;h>=0;h-=l){u.fill(s);for(let m=0;m<o;m++){const y=r[m],p=Number(y>>BigInt(h)&c);u[p]=u[p].add(n[m])}let g=s;for(let m=u.length-1,y=s;m>0;m--)y=y.add(u[m]),g=g.add(y);if(f=f.add(g),h!==0)for(let m=0;m<l;m++)f=f.double()}return f}function dI(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return dJ(e),e}else return c1(t)}function xJ(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const l=e[a];if(!(typeof l=="bigint"&&l>pf))throw new Error(`CURVE.${a} must be positive bigint`)}const r=dI(e.p,n.Fp),i=dI(e.n,n.Fn),s=["Gx","Gy","a","b"];for(const a of s)if(!r.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fI(t){t.lowS!==void 0&&bv("lowS",t.lowS),t.prehash!==void 0&&bv("prehash",t.prehash)}class EJ extends Error{constructor(e=""){super(e)}}const ga={Err:EJ,_tlv:{encode:(t,e)=>{const{Err:n}=ga;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=W0(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?W0(i.length/2|128):"";return W0(t)+o+i+e},decode(t,e){const{Err:n}=ga;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)s=s<<8|u;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=ga;if(t<hp)throw new e("integer: negative integers are not allowed");let n=W0(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ga;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return e1(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ga,i=xo("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=ga,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},hp=BigInt(0),pp=BigInt(1),AJ=BigInt(2),$0=BigInt(3),_J=BigInt(4);function SJ(t,e,n){function r(i){const o=t.sqr(i),s=t.mul(o,i);return t.add(t.add(s,t.mul(i,e)),n)}return r}function cD(t,e,n){const{BYTES:r}=t;function i(o){let s;if(typeof o=="bigint")s=o;else{let a=xo("private key",o);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{s=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof o}`)}}if(n&&(s=t.create(s)),!t.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return i}function CJ(t,e={}){const{Fp:n,Fn:r}=xJ("weierstrass",t,e),{h:i,n:o}=t;cT(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=e;if(s&&(!n.is0(t.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(z,S,N){const{x:P,y:W}=S.toAffine(),B=n.toBytes(P);if(bv("isCompressed",N),N){a();const b=!n.isOdd(W);return Nc(uD(b),B)}else return Nc(Uint8Array.of(4),B,n.toBytes(W))}function c(z){ms(z);const S=n.BYTES,N=S+1,P=2*S+1,W=z.length,B=z[0],b=z.subarray(1);if(W===N&&(B===2||B===3)){const E=n.fromBytes(b);if(!n.isValid(E))throw new Error("bad point: is not on curve, wrong x");const I=f(E);let O;try{O=n.sqrt(I)}catch(H){const D=H instanceof Error?": "+H.message:"";throw new Error("bad point: is not on curve, sqrt error"+D)}a();const C=n.isOdd(O);return(B&1)===1!==C&&(O=n.neg(O)),{x:E,y:O}}else if(W===P&&B===4){const E=n.fromBytes(b.subarray(S*0,S*1)),I=n.fromBytes(b.subarray(S*1,S*2));if(!h(E,I))throw new Error("bad point: is not on curve");return{x:E,y:I}}else throw new Error(`bad point: got length ${W}, expected compressed=${N} or uncompressed=${P}`)}const u=e.toBytes||l,d=e.fromBytes||c,f=SJ(n,t.a,t.b);function h(z,S){const N=n.sqr(S),P=f(z);return n.eql(N,P)}if(!h(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const g=n.mul(n.pow(t.a,$0),_J),m=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(g,m)))throw new Error("bad curve params: a or b");function y(z,S,N=!1){if(!n.isValid(S)||N&&n.is0(S))throw new Error(`bad point coordinate ${z}`);return S}function p(z){if(!(z instanceof T))throw new Error("ProjectivePoint expected")}const v=KM((z,S)=>{const{px:N,py:P,pz:W}=z;if(n.eql(W,n.ONE))return{x:N,y:P};const B=z.is0();S==null&&(S=B?n.ONE:n.inv(W));const b=n.mul(N,S),E=n.mul(P,S),I=n.mul(W,S);if(B)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:b,y:E}}),w=KM(z=>{if(z.is0()){if(e.allowInfinityPoint&&!n.is0(z.py))return;throw new Error("bad point: ZERO")}const{x:S,y:N}=z.toAffine();if(!n.isValid(S)||!n.isValid(N))throw new Error("bad point: x or y not field elements");if(!h(S,N))throw new Error("bad point: equation left != right");if(!z.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function x(z,S,N,P,W){return N=new T(n.mul(N.px,z),N.py,N.pz),S=fp(P,S),N=fp(W,N),S.add(N)}class T{constructor(S,N,P){this.px=y("x",S),this.py=y("y",N,!0),this.pz=y("z",P),Object.freeze(this)}static fromAffine(S){const{x:N,y:P}=S||{};if(!S||!n.isValid(N)||!n.isValid(P))throw new Error("invalid affine point");if(S instanceof T)throw new Error("projective point not allowed");return n.is0(N)&&n.is0(P)?T.ZERO:new T(N,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){return mJ(T,"pz",S)}static fromBytes(S){return ms(S),T.fromHex(S)}static fromHex(S){const N=T.fromAffine(d(xo("pointHex",S)));return N.assertValidity(),N}static fromPrivateKey(S){const N=cD(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return T.BASE.multiply(N(S))}static msm(S,N){return bJ(T,r,S,N)}precompute(S=8,N=!0){return A.setWindowSize(this,S),N||this.multiply($0),this}_setWindowSize(S){this.precompute(S)}assertValidity(){w(this)}hasEvenY(){const{y:S}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(S)}equals(S){p(S);const{px:N,py:P,pz:W}=this,{px:B,py:b,pz:E}=S,I=n.eql(n.mul(N,E),n.mul(B,W)),O=n.eql(n.mul(P,E),n.mul(b,W));return I&&O}negate(){return new T(this.px,n.neg(this.py),this.pz)}double(){const{a:S,b:N}=t,P=n.mul(N,$0),{px:W,py:B,pz:b}=this;let E=n.ZERO,I=n.ZERO,O=n.ZERO,C=n.mul(W,W),j=n.mul(B,B),H=n.mul(b,b),D=n.mul(W,B);return D=n.add(D,D),O=n.mul(W,b),O=n.add(O,O),E=n.mul(S,O),I=n.mul(P,H),I=n.add(E,I),E=n.sub(j,I),I=n.add(j,I),I=n.mul(E,I),E=n.mul(D,E),O=n.mul(P,O),H=n.mul(S,H),D=n.sub(C,H),D=n.mul(S,D),D=n.add(D,O),O=n.add(C,C),C=n.add(O,C),C=n.add(C,H),C=n.mul(C,D),I=n.add(I,C),H=n.mul(B,b),H=n.add(H,H),C=n.mul(H,D),E=n.sub(E,C),O=n.mul(H,j),O=n.add(O,O),O=n.add(O,O),new T(E,I,O)}add(S){p(S);const{px:N,py:P,pz:W}=this,{px:B,py:b,pz:E}=S;let I=n.ZERO,O=n.ZERO,C=n.ZERO;const j=t.a,H=n.mul(t.b,$0);let D=n.mul(N,B),M=n.mul(P,b),$=n.mul(W,E),J=n.add(N,P),Z=n.add(B,b);J=n.mul(J,Z),Z=n.add(D,M),J=n.sub(J,Z),Z=n.add(N,W);let ce=n.add(B,E);return Z=n.mul(Z,ce),ce=n.add(D,$),Z=n.sub(Z,ce),ce=n.add(P,W),I=n.add(b,E),ce=n.mul(ce,I),I=n.add(M,$),ce=n.sub(ce,I),C=n.mul(j,Z),I=n.mul(H,$),C=n.add(I,C),I=n.sub(M,C),C=n.add(M,C),O=n.mul(I,C),M=n.add(D,D),M=n.add(M,D),$=n.mul(j,$),Z=n.mul(H,Z),M=n.add(M,$),$=n.sub(D,$),$=n.mul(j,$),Z=n.add(Z,$),D=n.mul(M,Z),O=n.add(O,D),D=n.mul(ce,Z),I=n.mul(J,I),I=n.sub(I,D),D=n.mul(J,M),C=n.mul(ce,C),C=n.add(C,D),new T(I,O,C)}subtract(S){return this.add(S.negate())}is0(){return this.equals(T.ZERO)}multiply(S){const{endo:N}=e;if(!r.isValidNot0(S))throw new Error("invalid scalar: out of range");let P,W;const B=b=>A.wNAFCached(this,b,T.normalizeZ);if(N){const{k1neg:b,k1:E,k2neg:I,k2:O}=N.splitScalar(S),{p:C,f:j}=B(E),{p:H,f:D}=B(O);W=j.add(D),P=x(N.beta,C,H,b,I)}else{const{p:b,f:E}=B(S);P=b,W=E}return T.normalizeZ([P,W])[0]}multiplyUnsafe(S){const{endo:N}=e,P=this;if(!r.isValid(S))throw new Error("invalid scalar: out of range");if(S===hp||P.is0())return T.ZERO;if(S===pp)return P;if(A.hasPrecomputes(this))return this.multiply(S);if(N){const{k1neg:W,k1:B,k2neg:b,k2:E}=N.splitScalar(S),{p1:I,p2:O}=wJ(T,P,B,E);return x(N.beta,I,O,W,b)}else return A.wNAFCachedUnsafe(P,S)}multiplyAndAddUnsafe(S,N,P){const W=this.multiplyUnsafe(N).add(S.multiplyUnsafe(P));return W.is0()?void 0:W}toAffine(S){return v(this,S)}isTorsionFree(){const{isTorsionFree:S}=e;return i===pp?!0:S?S(T,this):A.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:S}=e;return i===pp?this:S?S(T,this):this.multiplyUnsafe(i)}toBytes(S=!0){return bv("isCompressed",S),this.assertValidity(),u(T,this,S)}toRawBytes(S=!0){return this.toBytes(S)}toHex(S=!0){return qp(this.toBytes(S))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}T.BASE=new T(t.Gx,t.Gy,n.ONE),T.ZERO=new T(n.ZERO,n.ONE,n.ZERO),T.Fp=n,T.Fn=r;const k=r.BITS,A=vJ(T,e.endo?Math.ceil(k/2):k);return T}function uD(t){return Uint8Array.of(t?2:3)}function TJ(t,e,n={}){cT(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||F$,i=e.hmac||((P,...W)=>ZL(e.hash,P,Nc(...W))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:l}=s;function c(P){const W=a>>pp;return P>W}function u(P){return c(P)?s.neg(P):P}function d(P,W){if(!s.isValidNot0(W))throw new Error(`invalid signature ${P}: out of range 1..CURVE.n`)}class f{constructor(W,B,b){d("r",W),d("s",B),this.r=W,this.s=B,b!=null&&(this.recovery=b),Object.freeze(this)}static fromCompact(W){const B=s.BYTES,b=xo("compactSignature",W,B*2);return new f(s.fromBytes(b.subarray(0,B)),s.fromBytes(b.subarray(B,B*2)))}static fromDER(W){const{r:B,s:b}=ga.toSig(xo("DER",W));return new f(B,b)}assertValidity(){}addRecoveryBit(W){return new f(this.r,this.s,W)}recoverPublicKey(W){const B=o.ORDER,{r:b,s:E,recovery:I}=this;if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");if(a*AJ<B&&I>1)throw new Error("recovery id is ambiguous for h>1 curve");const C=I===2||I===3?b+a:b;if(!o.isValid(C))throw new Error("recovery id 2 or 3 invalid");const j=o.toBytes(C),H=t.fromHex(Nc(uD((I&1)===0),j)),D=s.inv(C),M=w(xo("msgHash",W)),$=s.create(-M*D),J=s.create(E*D),Z=t.BASE.multiplyUnsafe($).add(H.multiplyUnsafe(J));if(Z.is0())throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,s.neg(this.s),this.recovery):this}toBytes(W){if(W==="compact")return Nc(s.toBytes(this.r),s.toBytes(this.s));if(W==="der")return LC(ga.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return qp(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return qp(this.toBytes("compact"))}}const h=cD(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),g={isValidPrivateKey(P){try{return h(P),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const P=a;return pJ(r(sD(P)),P)},precompute(P=8,W=t.BASE){return W.precompute(P,!1)}};function m(P,W=!0){return t.fromPrivateKey(P).toBytes(W)}function y(P){if(typeof P=="bigint")return!1;if(P instanceof t)return!0;const B=xo("key",P).length,b=o.BYTES,E=b+1,I=2*b+1;if(!(n.allowedPrivateKeyLengths||s.BYTES===E))return B===E||B===I}function p(P,W,B=!0){if(y(P)===!0)throw new Error("first arg must be private key");if(y(W)===!1)throw new Error("second arg must be public key");return t.fromHex(W).multiply(h(P)).toBytes(B)}const v=e.bits2int||function(P){if(P.length>8192)throw new Error("input is too large");const W=e1(P),B=P.length*8-l;return B>0?W>>BigInt(B):W},w=e.bits2int_modN||function(P){return s.create(v(P))},x=t1(l);function T(P){return vQ("num < 2^"+l,P,hp,x),s.toBytes(P)}function k(P,W,B=A){if(["recovered","canonical"].some(J=>J in B))throw new Error("sign() legacy options not supported");const{hash:b}=e;let{lowS:E,prehash:I,extraEntropy:O}=B;E==null&&(E=!0),P=xo("msgHash",P),fI(B),I&&(P=xo("prehashed msgHash",b(P)));const C=w(P),j=h(W),H=[T(j),T(C)];if(O!=null&&O!==!1){const J=O===!0?r(o.BYTES):O;H.push(xo("extraEntropy",J))}const D=Nc(...H),M=C;function $(J){const Z=v(J);if(!s.isValidNot0(Z))return;const ce=s.inv(Z),oe=t.BASE.multiply(Z).toAffine(),Ae=s.create(oe.x);if(Ae===hp)return;const de=s.create(ce*s.create(M+Ae*j));if(de===hp)return;let Re=(oe.x===Ae?0:2)|Number(oe.y&pp),ae=de;return E&&c(de)&&(ae=u(de),Re^=1),new f(Ae,ae,Re)}return{seed:D,k2sig:$}}const A={lowS:e.lowS,prehash:!1},z={lowS:e.lowS,prehash:!1};function S(P,W,B=A){const{seed:b,k2sig:E}=k(P,W,B);return bQ(e.hash.outputLen,s.BYTES,i)(b,E)}t.BASE.precompute(8);function N(P,W,B,b=z){const E=P;W=xo("msgHash",W),B=xo("publicKey",B),fI(b);const{lowS:I,prehash:O,format:C}=b;if("strict"in b)throw new Error("options.strict was renamed to lowS");if(C!==void 0&&!["compact","der","js"].includes(C))throw new Error('format must be "compact", "der" or "js"');const j=typeof E=="string"||BC(E),H=!j&&!C&&typeof E=="object"&&E!==null&&typeof E.r=="bigint"&&typeof E.s=="bigint";if(!j&&!H)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let D,M;try{if(H)if(C===void 0||C==="js")D=new f(E.r,E.s);else throw new Error("invalid format");if(j){try{C!=="compact"&&(D=f.fromDER(E))}catch(ae){if(!(ae instanceof ga.Err))throw ae}!D&&C!=="der"&&(D=f.fromCompact(E))}M=t.fromHex(B)}catch{return!1}if(!D||I&&D.hasHighS())return!1;O&&(W=e.hash(W));const{r:$,s:J}=D,Z=w(W),ce=s.inv(J),oe=s.create(Z*ce),Ae=s.create($*ce),de=t.BASE.multiplyUnsafe(oe).add(M.multiplyUnsafe(Ae));return de.is0()?!1:s.create(de.x)===$}return Object.freeze({getPublicKey:m,getSharedSecret:p,sign:S,verify:N,utils:g,Point:t,Signature:f})}function MJ(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=c1(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function IJ(t){const{CURVE:e,curveOpts:n}=MJ(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function RJ(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function PJ(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=IJ(t),i=CJ(e,n),o=TJ(i,r,n);return RJ(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function NJ(t,e){const n=r=>PJ({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ev={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const kJ=BigInt(1),A2=BigInt(2),hI=(t,e)=>(t+e/A2)/e;function FJ(t){const e=Ev.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,d=go(u,n,e)*u%e,f=go(d,n,e)*u%e,h=go(f,A2,e)*c%e,g=go(h,i,e)*h%e,m=go(g,o,e)*g%e,y=go(m,a,e)*m%e,p=go(y,l,e)*y%e,v=go(p,a,e)*m%e,w=go(v,n,e)*u%e,x=go(w,s,e)*g%e,T=go(x,r,e)*c%e,k=go(T,A2,e);if(!_2.eql(_2.sqr(k),t))throw new Error("Cannot find square root");return k}const _2=c1(Ev.p,void 0,void 0,{sqrt:FJ}),dD=NJ({...Ev,Fp:_2,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Ev.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-kJ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=hI(o*t,e),l=hI(-r*t,e);let c=Ao(t-a*n-l*i,e),u=Ao(-a*r-l*o,e);const d=c>s,f=u>s;if(d&&(c=e-c),f&&(u=e-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:f,k2:u}}}},_B),OJ=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:dD},Symbol.toStringTag,{value:"Module"}));function BJ({r:t,s:e,to:n="hex",v:r,yParity:i}){const o=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),s=`0x${new dD.Signature(Sr(t),Sr(e)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?s:Fo(s)}async function _T(t,e){const{address:n,factory:r,factoryData:i,hash:o,signature:s,universalSignatureVerifierAddress:a=t.chain?.contracts?.universalSignatureVerifier?.address,...l}=e,c=$s(s)?s:typeof s=="object"&&"r"in s&&"s"in s?BJ(s):or(s),u=await(async()=>!r&&!i||FY(c)?c:OY({address:r,data:i,signature:c}))();try{const d=a?{to:a,data:jo({abi:GM,functionName:"isValidSig",args:[n,o,u]}),...l}:{data:Gw({abi:GM,args:[n,o,u],bytecode:$Q}),...l},{data:f}=await It(t,n1,"call")(d);return t$(f??"0x0")}catch(d){try{if(i1(Ur(n),await dB({hash:o,signature:s})))return!0}catch{}if(d instanceof ZB)return!1;throw d}}async function LJ(t,{address:e,message:n,factory:r,factoryData:i,signature:o,...s}){const a=WL(n);return _T(t,{address:e,factory:r,factoryData:i,hash:a,signature:o,...s})}async function DJ(t,e){const{address:n,factory:r,factoryData:i,signature:o,message:s,primaryType:a,types:l,domain:c,...u}=e,d=mY({message:s,primaryType:a,types:l,domain:c});return _T(t,{address:n,factory:r,factoryData:i,hash:d,signature:o,...u})}async function UJ(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function zJ(t,e){const{abi:n,address:r,args:i,batch:o=!0,eventName:s,fromBlock:a,onError:l,onLogs:c,poll:u,pollingInterval:d=t.pollingInterval,strict:f}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))?(()=>{const y=f??!1,p=pr(["watchContractEvent",r,i,o,t.uid,s,d,y,a]);return Ua(p,{onLogs:c,onError:l},v=>{let w;a!==void 0&&(w=a-1n);let x,T=!1;const k=Qf(async()=>{if(!T){try{x=await It(t,EL,"createContractEventFilter")({abi:n,address:r,args:i,eventName:s,strict:y,fromBlock:a})}catch{}T=!0;return}try{let A;if(x)A=await It(t,o1,"getFilterChanges")({filter:x});else{const z=await It(t,Jm,"getBlockNumber")({});w&&w<z?A=await It(t,SL,"getContractEvents")({abi:n,address:r,args:i,eventName:s,fromBlock:w+1n,toBlock:z,strict:y}):A=[],w=z}if(A.length===0)return;if(o)v.onLogs(A);else for(const z of A)v.onLogs([z])}catch(A){x&&A instanceof lu&&(T=!1),v.onError?.(A)}},{emitOnBegin:!0,interval:d});return async()=>{x&&await It(t,l1,"uninstallFilter")({filter:x}),k()}})})():(()=>{const y=f??!1,p=pr(["watchContractEvent",r,i,o,t.uid,s,d,y]);let v=!0,w=()=>v=!1;return Ua(p,{onLogs:c,onError:l},x=>((async()=>{try{const T=(()=>{if(t.transport.type==="fallback"){const z=t.transport.transports.find(S=>S.config.type==="webSocket");return z?z.value:t.transport}return t.transport})(),k=s?Ym({abi:n,eventName:s,args:i}):[],{unsubscribe:A}=await T.subscribe({params:["logs",{address:r,topics:k}],onData(z){if(!v)return;const S=z.result;try{const{eventName:N,args:P}=gT({abi:n,data:S.data,topics:S.topics,strict:f}),W=Da(S,{args:P,eventName:N});x.onLogs([W])}catch(N){let P,W;if(N instanceof Vp||N instanceof zw){if(f)return;P=N.abiItem.name,W=N.abiItem.inputs?.some(b=>!("name"in b&&b.name))}const B=Da(S,{args:W?[]:{},eventName:P});x.onLogs([B])}},onError(z){x.onError?.(z)}});w=A,v||w()}catch(T){l?.(T)}})(),()=>w()))})()}async function jJ(t,e){const{abi:n,account:r=t.account,address:i,args:o,dataSuffix:s,functionName:a,...l}=e;if(typeof r>"u")throw new Mu({docsPath:"/docs/contract/writeContract"});const c=r?Vn(r):null,u=jo({abi:n,args:o,functionName:a});try{return await It(t,Xw,"sendTransaction")({data:`${u}${s?s.replace("0x",""):""}`,to:i,account:c,...l})}catch(d){throw uu(d,{abi:n,address:i,args:o,docsPath:"/docs/contract/writeContract",functionName:a,sender:c?.address})}}function Xf(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:o=>e(t,o)}const my="2.17.3",GJ=()=>`@wagmi/core@${my}`;var fD=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Av,hD;let qa=class S2 extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return GJ()}constructor(e,n={}){super(),Av.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof S2?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof S2&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return fD(this,Av,"m",hD).call(this,this,e)}};Av=new WeakSet,hD=function t(e,n){return n?.(e)?e:e.cause?fD(this,Av,"m",t).call(this,e.cause,n):e};class hu extends qa{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class HJ extends qa{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class WJ extends qa{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class VJ extends qa{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class $J extends qa{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class qJ extends qa{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function KJ(t,e){let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new HJ;try{t.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...i}=e,o=await n.connect(i),s=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await t.storage?.setItem("recentConnectorId",n.id),t.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:s,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s,chainId:o.chainId}}catch(r){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),r}}const C2=256;let q0=C2,K0;function pD(t=11){if(!K0||q0+t>C2*2){K0="",q0=0;for(let e=0;e<C2;e++)K0+=(256+Math.random()*256|0).toString(16).substring(1)}return K0.substring(q0,q0+++t)}function ST(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:o="Base Client",type:s="base"}=t,a=n?.blockTime??12e3,l=Math.min(Math.max(Math.floor(a/2),500),4e3),c=t.pollingInterval??l,u=t.cacheTime??c,d=t.account?Vn(t.account):void 0,{config:f,request:h,value:g}=t.transport({chain:n,pollingInterval:c}),m={...f,...g},y={account:d,batch:e,cacheTime:u,ccipRead:r,chain:n,key:i,name:o,pollingInterval:c,request:h,transport:m,type:s,uid:pD()};function p(v){return w=>{const x=w(v);for(const k in y)delete x[k];const T={...v,...x};return Object.assign(T,{extend:p(T)})}}return Object.assign(y,{extend:p(y)})}function mD({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:o=150,timeout:s,type:a},l){const c=pD();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:o,timeout:s,type:a},request:lY(r,{methods:e,retryCount:i,retryDelay:o,uid:c}),value:l}}function QJ(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:o}=e;return({retryCount:s})=>mD({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??s,retryDelay:o,type:"custom"})}class XJ extends Fe{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Is(t,e={}){const{batch:n,fetchOptions:r,key:i="http",methods:o,name:s="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:l,retryDelay:c,raw:u}=e;return({chain:d,retryCount:f,timeout:h})=>{const{batchSize:g=1e3,wait:m=0}=typeof n=="object"?n:{},y=e.retryCount??f,p=h??e.timeout??1e4,v=t||d?.rpcUrls.default.http[0];if(!v)throw new XJ;const w=dY(v,{fetchOptions:r,onRequest:a,onResponse:l,timeout:p});return mD({key:i,methods:o,name:s,async request({method:x,params:T}){const k={method:x,params:T},{schedule:A}=mL({id:v,wait:m,shouldSplitBatch(P){return P.length>g},fn:P=>w.request({body:P}),sort:(P,W)=>P.id-W.id}),z=async P=>n?A(P):[await w.request({body:P})],[{error:S,result:N}]=await z(k);if(u)return{error:S,result:N};if(S)throw new $C({body:k,error:S,url:v});return N},retryCount:y,retryDelay:c,timeout:p,type:"http"},{fetchOptions:r,url:v})}}function YJ(t){const{scheme:e,statement:n,...r}=t.match(JJ)?.groups??{},{chainId:i,expirationTime:o,issuedAt:s,notBefore:a,requestId:l,...c}=t.match(ZJ)?.groups??{},u=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...c,...i?{chainId:Number(i)}:{},...o?{expirationTime:new Date(o)}:{},...s?{issuedAt:new Date(s)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const JJ=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,ZJ=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function eZ(t){const{address:e,domain:n,message:r,nonce:i,scheme:o,time:s=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||o&&r.scheme!==o||r.expirationTime&&s>=r.expirationTime||r.notBefore&&s<r.notBefore)return!1;try{if(!r.address||!sr(r.address,{strict:!1})||e&&!i1(r.address,e))return!1}catch{return!1}return!0}async function tZ(t,e){const{address:n,domain:r,message:i,nonce:o,scheme:s,signature:a,time:l=new Date,...c}=e,u=YJ(i);if(!u.address||!eZ({address:n,domain:r,message:u,nonce:o,scheme:s,time:l}))return!1;const f=WL(i);return _T(t,{address:u.address,hash:f,signature:a,...c})}function gD(t){return{call:e=>n1(t,e),createAccessList:e=>xL(t,e),createBlockFilter:()=>fX(t),createContractEventFilter:e=>EL(t,e),createEventFilter:e=>AL(t,e),createPendingTransactionFilter:()=>_L(t),estimateContractGas:e=>pX(t,e),estimateGas:e=>ZC(t,e),getBalance:e=>JC(t,e),getBlobBaseFee:()=>mX(t),getBlock:e=>Us(t,e),getBlockNumber:e=>Jm(t,e),getBlockTransactionCount:e=>xX(t,e),getBytecode:e=>nI(t,e),getChainId:()=>$f(t),getCode:e=>nI(t,e),getContractEvents:e=>SL(t,e),getEip712Domain:e=>SX(t,e),getEnsAddress:e=>JQ(t,e),getEnsAvatar:e=>wL(t,e),getEnsName:e=>bL(t,e),getEnsResolver:e=>dX(t,e),getEnsText:e=>vL(t,e),getFeeHistory:e=>MX(t,e),estimateFeesPerGas:e=>Dq(t,e),getFilterChanges:e=>o1(t,e),getFilterLogs:e=>IX(t,e),getGasPrice:()=>XC(t),getLogs:e=>vT(t,e),getProof:e=>YY(t,e),estimateMaxPriorityFeePerGas:e=>Lq(t,e),getStorageAt:e=>RX(t,e),getTransaction:e=>wT(t,e),getTransactionConfirmations:e=>PX(t,e),getTransactionCount:e=>eT(t,e),getTransactionReceipt:e=>m2(t,e),multicall:e=>ML(t,e),prepareTransactionRequest:e=>Qw(t,e),readContract:e=>Qs(t,e),sendRawTransaction:e=>iT(t,e),simulate:e=>g2(t,e),simulateBlocks:e=>g2(t,e),simulateCalls:e=>LY(t,e),simulateContract:e=>iJ(t,e),verifyMessage:e=>LJ(t,e),verifySiweMessage:e=>tZ(t,e),verifyTypedData:e=>DJ(t,e),uninstallFilter:e=>l1(t,e),waitForTransactionReceipt:e=>JY(t,e),watchBlocks:e=>UY(t,e),watchBlockNumber:e=>$L(t,e),watchContractEvent:e=>zJ(t,e),watchEvent:e=>zY(t,e),watchPendingTransactions:e=>jY(t,e)}}function pI(t){const{key:e="public",name:n="Public Client"}=t;return ST({...t,key:e,name:n,type:"publicClient"}).extend(gD)}function nZ(t){return{addChain:e=>o$(t,e),deployContract:e=>iK(t,e),getAddresses:()=>GY(t),getCallsStatus:e=>QL(t,e),getCapabilities:e=>WY(t,e),getChainId:()=>$f(t),getPermissions:()=>HY(t),prepareAuthorization:e=>XL(t,e),prepareTransactionRequest:e=>Qw(t,e),requestAddresses:()=>ZY(t),requestPermissions:e=>eJ(t,e),sendCalls:e=>VY(t,e),sendRawTransaction:e=>iT(t,e),sendTransaction:e=>Xw(t,e),showCallsStatus:e=>$Y(t,e),signAuthorization:e=>tJ(t,e),signMessage:e=>YL(t,e),signTransaction:e=>nJ(t,e),signTypedData:e=>rJ(t,e),switchChain:e=>oJ(t,e),waitForCallsStatus:e=>qY(t,e),watchAsset:e=>UJ(t,e),writeContract:e=>jJ(t,e)}}async function yD(t,e={}){let n;if(e.connector){const{connector:c}=e;if(t.state.status==="reconnecting"&&!c.getAccounts&&!c.getChainId)throw new qJ({connector:c});const[u,d]=await Promise.all([c.getAccounts().catch(f=>{if(e.account===null)return[];throw f}),c.getChainId()]);n={accounts:u,chainId:d,connector:c}}else n=t.state.connections.get(t.state.current);if(!n)throw new WJ;const r=e.chainId??n.chainId,i=await n.connector.getChainId();if(i!==n.chainId)throw new $J({connectionChainId:n.chainId,connectorChainId:i});const o=n.connector;if(o.getClient)return o.getClient({chainId:r});const s=Vn(e.account??n.accounts[0]);if(s&&(s.address=Ur(s.address)),e.account&&!n.accounts.some(c=>c.toLowerCase()===s.address.toLowerCase()))throw new VJ({address:s.address,connector:o});const a=t.chains.find(c=>c.id===r),l=await n.connector.getProvider({chainId:r});return ST({account:s,chain:a,name:"Connector Client",transport:c=>QJ(l)({...c,retryCount:0})})}async function rZ(t,e={}){let n;if(e.connector)n=e.connector;else{const{connections:i,current:o}=t.state;n=i.get(o)?.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(i=>{if(r.size===0)return{...i,connections:new Map,current:null,status:"disconnected"};const o=r.values().next().value;return{...i,connections:new Map(r),current:o.connector.uid}});{const i=t.state.current;if(!i)return;const o=t.state.connections.get(i)?.connector;if(!o)return;await t.storage?.setItem("recentConnectorId",o.id)}}function vD(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(bq[t])}function wD(t){const e=t.state.current,n=t.state.connections.get(e),r=n?.accounts,i=r?.[0],o=t.chains.find(a=>a.id===n?.chainId),s=t.state.status;switch(s){case"connected":return{address:i,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:s};case"reconnecting":return{address:i,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:s};case"connecting":return{address:i,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:s};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:s}}}async function iZ(t,e){const{allowFailure:n=!0,chainId:r,contracts:i,...o}=e,s=t.getClient({chainId:r});return Xf(s,ML,"multicall")({allowFailure:n,contracts:i,...o})}function oZ(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return Xf(i,Qs,"readContract")(r)}async function sZ(t,e){const{allowFailure:n=!0,blockNumber:r,blockTag:i,...o}=e,s=e.contracts;try{const a={};for(const[d,f]of s.entries()){const h=f.chainId??t.state.chainId;a[h]||(a[h]=[]),a[h]?.push({contract:f,index:d})}const l=()=>Object.entries(a).map(([d,f])=>iZ(t,{...o,allowFailure:n,blockNumber:r,blockTag:i,chainId:Number.parseInt(d),contracts:f.map(({contract:h})=>h)})),c=(await Promise.all(l())).flat(),u=Object.values(a).flatMap(d=>d.map(({index:f})=>f));return c.reduce((d,f,h)=>(d&&(d[u[h]]=f),d),[])}catch(a){if(a instanceof eL)throw a;const l=()=>s.map(c=>oZ(t,{...c,blockNumber:r,blockTag:i}));return n?(await Promise.allSettled(l())).map(c=>c.status==="fulfilled"?{result:c.value,status:"success"}:{error:c.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function aZ(t,e){const{address:n,blockNumber:r,blockTag:i,chainId:o,token:s,unit:a="ether"}=e;if(s)try{return await mI(t,{balanceAddress:n,chainId:o,symbolType:"string",tokenAddress:s})}catch(f){if(f.name==="ContractFunctionExecutionError"){const h=await mI(t,{balanceAddress:n,chainId:o,symbolType:"bytes32",tokenAddress:s}),g=n$(Oi(h.symbol,{dir:"right"}));return{...h,symbol:g}}throw f}const l=t.getClient({chainId:o}),u=await Xf(l,JC,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:i}),d=t.chains.find(f=>f.id===o)??l.chain;return{decimals:d.nativeCurrency.decimals,formatted:$m(u,vD(a)),symbol:d.nativeCurrency.symbol,value:u}}async function mI(t,e){const{balanceAddress:n,chainId:r,symbolType:i,tokenAddress:o,unit:s}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]}],address:o},[l,c,u]=await sZ(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=$m(l??"0",vD(s??c));return{decimals:c,formatted:d,symbol:u,value:l}}function gI(t){return t.state.chainId}function Wl(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Wl(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(o&&!Wl(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}let rx=[];function yI(t){const e=t.chains;return Wl(rx,e)?rx:(rx=e,e)}function lZ(t,e={}){let n;try{n=t.getClient(e)}catch{}return n}let Q0=[];function T2(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||Wl(Q0,e)?Q0:(Q0=e,e)}let ix=[];function vI(t){const e=t.connectors;return Wl(ix,e)?ix:(ix=e,e)}function cZ(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return Xf(i,wL,"getEnsAvatar")(r)}function uZ(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return Xf(i,bL,"getEnsName")(r)}function M2(t,e={}){return lZ(t,e)?.extend(gD)}async function dZ(t,e={}){return(await yD(t,e)).extend(nZ)}let ox=!1;async function fZ(t,e={}){if(ox)return[];ox=!0,t.setState(c=>({...c,status:c.current?"reconnecting":"connecting"}));const n=[];if(e.connectors?.length)for(const c of e.connectors){let u;typeof c=="function"?u=t._internal.connectors.setup(c):u=c,n.push(u)}else n.push(...t.connectors);let r;try{r=await t.storage?.getItem("recentConnectorId")}catch{}const i={};for(const[,c]of t.state.connections)i[c.connector.id]=1;r&&(i[r]=0);const o=Object.keys(i).length>0?[...n].sort((c,u)=>(i[c.id]??10)-(i[u.id]??10)):n;let s=!1;const a=[],l=[];for(const c of o){const u=await c.getProvider().catch(()=>{});if(!u||l.some(h=>h===u)||!await c.isAuthorized())continue;const f=await c.connect({isReconnecting:!0}).catch(()=>null);f&&(c.emitter.off("connect",t._internal.events.connect),c.emitter.on("change",t._internal.events.change),c.emitter.on("disconnect",t._internal.events.disconnect),t.setState(h=>{const g=new Map(s?h.connections:new Map).set(c.uid,{accounts:f.accounts,chainId:f.chainId,connector:c});return{...h,current:s?h.current:c.uid,connections:g}}),a.push({accounts:f.accounts,chainId:f.chainId,connector:c}),l.push(u),s=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(s?t.setState(c=>({...c,status:"connected"})):t.setState(c=>({...c,connections:new Map,current:null,status:"disconnected"}))),ox=!1,a}async function hZ(t,e){const{account:n,connector:r,...i}=e;let o;return typeof n=="object"&&n.type==="local"?o=t.getClient():o=await yD(t,{account:n,connector:r}),Xf(o,YL,"signMessage")({...i,...n?{account:n}:{}})}class Co extends qa{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class pZ extends qa{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function mZ(t,e){const{addEthereumChainParameter:n,chainId:r}=e,i=t.state.connections.get(e.connector?.uid??t.state.current);if(i){const s=i.connector;if(!s.switchChain)throw new pZ({connector:s});return await s.switchChain({addEthereumChainParameter:n,chainId:r})}const o=t.chains.find(s=>s.id===r);if(!o)throw new hu;return t.setState(s=>({...s,chainId:r})),o}function bD(t,e){const{onChange:n}=e;return t.subscribe(()=>wD(t),n,{equalityFn(r,i){const{connector:o,...s}=r,{connector:a,...l}=i;return Wl(s,l)&&o?.id===a?.id&&o?.uid===a?.uid}})}function gZ(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function yZ(t,e){const{onChange:n}=e;return t.subscribe(()=>T2(t),n,{equalityFn:Wl})}function vZ(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,i)=>{n(Object.values(r),i)})}function wZ(t,e){const{onChange:n}=e;return t.subscribe(()=>M2(t),n,{equalityFn(r,i){return r?.uid===i?.uid}})}e0.type="injected";function e0(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const l=t.target;if(typeof l=="function"){const c=l();if(c)return c}return typeof l=="object"?l:typeof l=="string"?{...bZ[l]??{id:l,name:`${l[0].toUpperCase()}${l.slice(1)}`,provider:`is${l[0].toUpperCase()}${l.slice(1)}`}}:{id:"injected",name:"Injected",provider(c){return c?.ethereum}}}let i,o,s,a;return l=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:e0.type,async setup(){const c=await this.getProvider();c?.on&&t.target&&(s||(s=this.onConnect.bind(this),c.on("connect",s)),i||(i=this.onAccountsChanged.bind(this),c.on("accountsChanged",i)))},async connect({chainId:c,isReconnecting:u}={}){const d=await this.getProvider();if(!d)throw new Co;let f=[];if(u)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(g=>Ur(g)),f.length>0&&(f=await this.getAccounts())}catch(h){const g=h;if(g.code===Sn.code)throw new Sn(g);if(g.code===Bl.code)throw g}try{!f?.length&&!u&&(f=(await d.request({method:"eth_requestAccounts"})).map(m=>Ur(m))),s&&(d.removeListener("connect",s),s=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),d.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let h=await this.getChainId();return c&&h!==c&&(h=(await this.switchChain({chainId:c}).catch(m=>{if(m.code===Sn.code)throw m;return{id:h}}))?.id??h),e&&await l.storage?.removeItem(`${this.id}.disconnected`),t.target||await l.storage?.setItem("injected.connected",!0),{accounts:f,chainId:h}}catch(h){const g=h;throw g.code===Sn.code?new Sn(g):g.code===Bl.code?new Bl(g):g}},async disconnect(){const c=await this.getProvider();if(!c)throw new Co;o&&(c.removeListener("chainChanged",o),o=void 0),a&&(c.removeListener("disconnect",a),a=void 0),s||(s=this.onConnect.bind(this),c.on("connect",s));try{await ET(()=>c.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await l.storage?.setItem(`${this.id}.disconnected`,!0),t.target||await l.storage?.removeItem("injected.connected")},async getAccounts(){const c=await this.getProvider();if(!c)throw new Co;return(await c.request({method:"eth_accounts"})).map(d=>Ur(d))},async getChainId(){const c=await this.getProvider();if(!c)throw new Co;const u=await c.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let c;const u=r();return typeof u.provider=="function"?c=u.provider(window):typeof u.provider=="string"?c=gy(window,u.provider):c=u.provider,c&&!c.removeListener&&("off"in c&&typeof c.off=="function"?c.removeListener=c.off:c.removeListener=()=>{}),c},async isAuthorized(){try{if(e&&await l.storage?.getItem(`${this.id}.disconnected`)||!t.target&&!await l.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const f=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",f),!!await this.getProvider()),h=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(m=>window.addEventListener("ethereum#initialized",()=>m(f()),{once:!0}))]:[],new Promise(m=>setTimeout(()=>m(f()),h))]))return!0}throw new Co}return!!(await xv(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:u}){const d=await this.getProvider();if(!d)throw new Co;const f=l.chains.find(g=>g.id===u);if(!f)throw new Bo(new hu);const h=new Promise(g=>{const m=y=>{"chainId"in y&&y.chainId===u&&(l.emitter.off("change",m),g())};l.emitter.on("change",m)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:Ge(u)}]}).then(async()=>{await this.getChainId()===u&&l.emitter.emit("change",{chainId:u})}),h]),f}catch(g){const m=g;if(m.code===4902||m?.data?.originalError?.code===4902)try{const{default:y,...p}=f.blockExplorers??{};let v;c?.blockExplorerUrls?v=c.blockExplorerUrls:y&&(v=[y.url,...Object.values(p).map(T=>T.url)]);let w;c?.rpcUrls?.length?w=c.rpcUrls:w=[f.rpcUrls.default?.http[0]??""];const x={blockExplorerUrls:v,chainId:Ge(u),chainName:c?.chainName??f.name,iconUrls:c?.iconUrls,nativeCurrency:c?.nativeCurrency??f.nativeCurrency,rpcUrls:w};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[x]}).then(async()=>{if(await this.getChainId()===u)l.emitter.emit("change",{chainId:u});else throw new Sn(new Error("User rejected switch after adding network."))}),h]),f}catch(y){throw new Sn(y)}throw m.code===Sn.code?new Sn(m):new Bo(m)}},async onAccountsChanged(c){if(c.length===0)this.onDisconnect();else if(l.emitter.listenerCount("connect")){const u=(await this.getChainId()).toString();this.onConnect({chainId:u}),e&&await l.storage?.removeItem(`${this.id}.disconnected`)}else l.emitter.emit("change",{accounts:c.map(u=>Ur(u))})},onChainChanged(c){const u=Number(c);l.emitter.emit("change",{chainId:u})},async onConnect(c){const u=await this.getAccounts();if(u.length===0)return;const d=Number(c.chainId);l.emitter.emit("connect",{accounts:u,chainId:d});const f=await this.getProvider();f&&(s&&(f.removeListener("connect",s),s=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(c){const u=await this.getProvider();c&&c.code===1013&&u&&(await this.getAccounts()).length||(l.emitter.emit("disconnect"),u&&(o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),s||(s=this.onConnect.bind(this),u.on("connect",s))))}})}const bZ={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t?.coinbaseWalletExtension?t.coinbaseWalletExtension:gy(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return gy(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){return t?.phantom?.ethereum?t.phantom?.ethereum:gy(t,"isPhantom")}}};function gy(t,e){function n(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=t.ethereum;if(r?.providers)return r.providers.find(i=>n(i));if(r&&n(r))return r}function xZ(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function EZ(){const t=new Set;let e=[];const n=()=>xZ(i=>{e.some(({info:o})=>o.uuid===i.info.uuid)||(e=[...e,i],t.forEach(o=>o(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:i}){return e.find(o=>o.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(i,{emitImmediately:o}={}){return t.add(i),o&&i(e,{added:e}),()=>t.delete(i)}}}const AZ=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(s,a,l)=>{let c=s;if(a){const u=l?.equalityFn||Object.is;let d=s(r.getState());c=f=>{const h=s(f);if(!u(d,h)){const g=d;a(d=h,g)}},l?.fireImmediately&&a(d,d)}return i(c)},t(e,n,r)},_Z=AZ;function SZ(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var o;const s=l=>l===null?null:JSON.parse(l,void 0),a=(o=n.getItem(i))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const I2=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return I2(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return I2(r)(n)}}}},CZ=(t,e)=>(n,r,i)=>{let o={storage:SZ(()=>localStorage),partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...e},s=!1;const a=new Set,l=new Set;let c=o.storage;if(!c)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...m)},r,i);const u=()=>{const m=o.partialize({...r()});return c.setItem(o.name,{state:m,version:o.version})},d=i.setState;i.setState=(m,y)=>{d(m,y),u()};const f=t((...m)=>{n(...m),u()},r,i);i.getInitialState=()=>f;let h;const g=()=>{var m,y;if(!c)return;s=!1,a.forEach(v=>{var w;return v((w=r())!=null?w:f)});const p=((y=o.onRehydrateStorage)==null?void 0:y.call(o,(m=r())!=null?m:f))||void 0;return I2(c.getItem.bind(c))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return[!0,o.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var w;const[x,T]=v;if(h=o.merge(T,(w=r())!=null?w:f),n(h,!0),x)return u()}).then(()=>{p?.(h,void 0),h=r(),s=!0,l.forEach(v=>v(h))}).catch(v=>{p?.(void 0,v)})};return i.persist={setOptions:m=>{o={...o,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},o.skipHydration||g(),h||f},TZ=CZ,wI=t=>{let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const f=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,a);return a},sx=t=>t?wI(t):wI;var xD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,f),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],h]:l._events[g].push(h):(l._events[g]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,g=new Array(h);f<h;f++)g[f]=d[f].fn;return g},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,h,g){var m=n?n+c:c;if(!this._events[m])return!1;var y=this._events[m],p=arguments.length,v,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),p){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,f),!0;case 5:return y.fn.call(y.context,u,d,f,h),!0;case 6:return y.fn.call(y.context,u,d,f,h,g),!0}for(w=1,v=new Array(p-1);w<p;w++)v[w-1]=arguments[w];y.fn.apply(y.context,v)}else{var x=y.length,T;for(w=0;w<x;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),p){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,d);break;case 4:y[w].fn.call(y[w].context,u,d,f);break;default:if(!v)for(T=1,v=new Array(p-1);T<p;T++)v[T-1]=arguments[T];y[w].fn.apply(y[w].context,v)}}return!0},a.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var g=this._events[h];if(g.fn)g.fn===u&&(!f||g.once)&&(!d||g.context===d)&&s(this,h);else{for(var m=0,y=[],p=g.length;m<p;m++)(g[m].fn!==u||f&&!g[m].once||d&&g[m].context!==d)&&y.push(g[m]);y.length?this._events[h]=y.length===1?y[0]:y:s(this,h)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(xD);var MZ=xD.exports;const IZ=Om(MZ);class RZ{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new IZ})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function PZ(t){return new RZ(t)}function NZ(t,e){return JSON.parse(t,(n,r)=>{let i=r;return i?.__type==="bigint"&&(i=BigInt(i.value)),i?.__type==="Map"&&(i=new Map(i.value)),e?.(n,i)??i})}function bI(t,e){return t.slice(0,e).join(".")||"."}function xI(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function kZ(t,e){const n=typeof t=="function",r=typeof e=="function",i=[],o=[];return function(a,l){if(typeof l=="object")if(i.length){const c=xI(i,this);c===0?i[i.length]=this:(i.splice(c),o.splice(c)),o[o.length]=a;const u=xI(i,l);if(u!==0)return r?e.call(this,a,l,bI(o,u)):`[ref=${bI(o,u)}]`}else i[0]=l,o[0]=a;return n?t.call(this,a,l):l}}function FZ(t,e,n,r){return JSON.stringify(t,kZ((i,o)=>{let s=o;return typeof s=="bigint"&&(s={__type:"bigint",value:o.toString()}),s instanceof Map&&(s={__type:"Map",value:Array.from(o.entries())}),e?.(i,s)??s},r),n??void 0)}function OZ(t){const{deserialize:e=NZ,key:n="wagmi",serialize:r=FZ,storage:i=ED}=t;function o(s){return s instanceof Promise?s.then(a=>a).catch(()=>null):s}return{...i,key:n,async getItem(s,a){const l=i.getItem(`${n}.${s}`),c=await o(l);return c?e(c)??null:a??null},async setItem(s,a){const l=`${n}.${s}`;a===null?await o(i.removeItem(l)):await o(i.setItem(l,r(a)))},async removeItem(s){await o(i.removeItem(`${n}.${s}`))}}}const ED={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function BZ(){const t=typeof window<"u"&&window.localStorage?window.localStorage:ED;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const R2=256;let X0=R2,Y0;function LZ(t=11){if(!Y0||X0+t>R2*2){Y0="",X0=0;for(let e=0;e<R2;e++)Y0+=(256+Math.random()*256|0).toString(16).substring(1)}return Y0.substring(X0,X0+++t)}function AD(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=OZ({storage:BZ()}),syncConnectedChain:r=!0,ssr:i=!1,...o}=t,s=typeof window<"u"&&e?EZ():void 0,a=sx(()=>o.chains),l=sx(()=>{const T=[],k=new Set;for(const A of o.connectors??[]){const z=c(A);if(T.push(z),!i&&z.rdns){const S=typeof z.rdns=="string"?[z.rdns]:z.rdns;for(const N of S)k.add(N)}}if(!i&&s){const A=s.getProviders();for(const z of A)k.has(z.info.rdns)||T.push(c(u(z)))}return T});function c(T){const k=PZ(LZ()),A={...T({emitter:k,chains:a.getState(),storage:n,transports:o.transports}),emitter:k,uid:k.uid};return k.on("connect",w),A.setup?.(),A}function u(T){const{info:k}=T,A=T.provider;return e0({target:{...k,id:k.rdns,provider:A}})}const d=new Map;function f(T={}){const k=T.chainId??y.getState().chainId,A=a.getState().find(S=>S.id===k);if(T.chainId&&!A)throw new hu;{const S=d.get(y.getState().chainId);if(S&&!A)return S;if(!A)throw new hu}{const S=d.get(k);if(S)return S}let z;if(o.client)z=o.client({chain:A});else{const S=A.id,N=a.getState().map(B=>B.id),P={},W=Object.entries(o);for(const[B,b]of W)if(!(B==="chains"||B==="client"||B==="connectors"||B==="transports"))if(typeof b=="object")if(S in b)P[B]=b[S];else{if(N.some(I=>I in b))continue;P[B]=b}else P[B]=b;z=ST({...P,chain:A,batch:P.batch??{multicall:!0},transport:B=>o.transports[S]({...B,connectors:l})})}return d.set(k,z),z}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let g;const m="0.0.0-canary-";my.startsWith(m)?g=Number.parseInt(my.replace(m,"")):g=Number.parseInt(my.split(".")[0]??"0");const y=sx(_Z(n?TZ(h,{migrate(T,k){if(k===g)return T;const A=h(),z=p(T,A.chainId);return{...A,chainId:z}},name:"store",partialize(T){return{connections:{__type:"Map",value:Array.from(T.connections.entries()).map(([k,A])=>{const{id:z,name:S,type:N,uid:P}=A.connector;return[k,{...A,connector:{id:z,name:S,type:N,uid:P}}]})},chainId:T.chainId,current:T.current}},merge(T,k){typeof T=="object"&&T&&"status"in T&&delete T.status;const A=p(T,k.chainId);return{...k,...T,chainId:A}},skipHydration:i,storage:n,version:g}):h));y.setState(h());function p(T,k){return T&&typeof T=="object"&&"chainId"in T&&typeof T.chainId=="number"&&a.getState().some(A=>A.id===T.chainId)?T.chainId:k}r&&y.subscribe(({connections:T,current:k})=>k?T.get(k)?.chainId:void 0,T=>{if(a.getState().some(A=>A.id===T))return y.setState(A=>({...A,chainId:T??A.chainId}))}),s?.subscribe(T=>{const k=new Set,A=new Set;for(const S of l.getState())if(k.add(S.id),S.rdns){const N=typeof S.rdns=="string"?[S.rdns]:S.rdns;for(const P of N)A.add(P)}const z=[];for(const S of T){if(A.has(S.info.rdns))continue;const N=c(u(S));k.has(N.id)||z.push(N)}n&&!y.persist.hasHydrated()||l.setState(S=>[...S,...z],!0)});function v(T){y.setState(k=>{const A=k.connections.get(T.uid);return A?{...k,connections:new Map(k.connections).set(T.uid,{accounts:T.accounts??A.accounts,chainId:T.chainId??A.chainId,connector:A.connector})}:k})}function w(T){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(k=>{const A=l.getState().find(z=>z.uid===T.uid);return A?(A.emitter.listenerCount("connect")&&A.emitter.off("connect",v),A.emitter.listenerCount("change")||A.emitter.on("change",v),A.emitter.listenerCount("disconnect")||A.emitter.on("disconnect",x),{...k,connections:new Map(k.connections).set(T.uid,{accounts:T.accounts,chainId:T.chainId,connector:A}),current:T.uid,status:"connected"}):k})}function x(T){y.setState(k=>{const A=k.connections.get(T.uid);if(A){const S=A.connector;S.emitter.listenerCount("change")&&A.connector.emitter.off("change",v),S.emitter.listenerCount("disconnect")&&A.connector.emitter.off("disconnect",x),S.emitter.listenerCount("connect")||A.connector.emitter.on("connect",w)}if(k.connections.delete(T.uid),k.connections.size===0)return{...k,connections:new Map,current:null,status:"disconnected"};const z=k.connections.values().next().value;return{...k,connections:new Map(k.connections),current:z.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return l.getState()},storage:n,getClient:f,get state(){return y.getState()},setState(T){let k;typeof T=="function"?k=T(y.getState()):k=T;const A=h();typeof k!="object"&&(k=A),Object.keys(A).some(S=>!(S in k))&&(k=A),y.setState(k,!0)},subscribe(T,k,A){return y.subscribe(T,k,A?{...A,fireImmediately:A.emitImmediately}:void 0)},_internal:{mipd:s,store:y,ssr:!!i,syncConnectedChain:r,transports:o.transports,chains:{setState(T){const k=typeof T=="function"?T(a.getState()):T;if(k.length!==0)return a.setState(k,!0)},subscribe(T){return a.subscribe(T)}},connectors:{providerDetailToConnector:u,setup:c,setState(T){return l.setState(typeof T=="function"?T(l.getState()):T,!0)},subscribe(T){return l.subscribe(T)}},events:{change:v,connect:w,disconnect:x}}}}function DZ(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(i=>i.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{const o=new Set;for(const l of i??[])if(l.rdns){const c=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const u of c)o.add(u)}const s=[],a=t._internal.mipd?.getProviders()??[];for(const l of a){if(o.has(l.info.rdns))continue;const c=t._internal.connectors.providerDetailToConnector(l),u=t._internal.connectors.setup(c);s.push(u)}return[...i,...s]})),r?fZ(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function UZ(t){const{chain:e}=t,n=e.rpcUrls.default.http[0];if(!t.transports)return[n];const r=t.transports?.[e.id]?.({chain:e});return(r?.value?.transports||[r]).map(({value:o})=>o?.url||n)}function zZ(t){const{children:e,config:n,initialState:r,reconnectOnMount:i=!0}=t,{onMount:o}=DZ(n,{initialState:r,reconnectOnMount:i});n._internal.ssr||o();const s=U.useRef(!0);return U.useEffect(()=>{if(s.current&&n._internal.ssr)return o(),()=>{s.current=!1}},[]),e}const _D=U.createContext(void 0);function jZ(t){const{children:e,config:n}=t,r={value:n};return U.createElement(zZ,t,U.createElement(_D.Provider,r,e))}const GZ="2.15.6",HZ=()=>`wagmi@${GZ}`;class WZ extends qa{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return HZ()}}class VZ extends WZ{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function yr(t={}){const e=t.config??U.useContext(_D);if(!e)throw new VZ;return e}function $Z(t,e){const{onChange:n}=e;return t._internal.chains.subscribe((r,i)=>{n(r,i)})}var SD={exports:{}},CD={},TD={exports:{}},MD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf=U;function qZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var KZ=typeof Object.is=="function"?Object.is:qZ,QZ=mf.useState,XZ=mf.useEffect,YZ=mf.useLayoutEffect,JZ=mf.useDebugValue;function ZZ(t,e){var n=e(),r=QZ({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return YZ(function(){i.value=n,i.getSnapshot=e,ax(i)&&o({inst:i})},[t,n,e]),XZ(function(){return ax(i)&&o({inst:i}),t(function(){ax(i)&&o({inst:i})})},[t]),JZ(n),n}function ax(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!KZ(t,n)}catch{return!0}}function eee(t,e){return e()}var tee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eee:ZZ;MD.useSyncExternalStore=mf.useSyncExternalStore!==void 0?mf.useSyncExternalStore:tee;TD.exports=MD;var nee=TD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1=U,ree=nee;function iee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oee=typeof Object.is=="function"?Object.is:iee,see=ree.useSyncExternalStore,aee=u1.useRef,lee=u1.useEffect,cee=u1.useMemo,uee=u1.useDebugValue;CD.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=aee(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=cee(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var g=s.value;if(i(g,h))return d=g}return d=h}if(g=d,oee(u,h))return g;var m=r(h);return i!==void 0&&i(g,m)?(u=h,g):(u=h,d=m)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=see(t,o[0],o[1]);return lee(function(){s.hasValue=!0,s.value=a},[a]),uee(a),a};SD.exports=CD;var ID=SD.exports;const lx=t=>typeof t=="object"&&!Array.isArray(t);function dee(t,e,n=e,r=Wl){const i=U.useRef([]),o=ID.useSyncExternalStoreWithSelector(t,e,n,s=>s,(s,a)=>{if(lx(s)&&lx(a)&&i.current.length){for(const l of i.current)if(!r(s[l],a[l]))return!1;return!0}return r(s,a)});return U.useMemo(()=>{if(lx(o)){const s={...o};let a={};for(const[l,c]of Object.entries(s))a={...a,[l]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(l)||i.current.push(l),c)}};return Object.defineProperties(s,a),s}return o},[o])}function Ir(t={}){const e=yr(t);return dee(n=>bD(e,{onChange:n}),()=>wD(e))}function RD(t={}){const{onConnect:e,onDisconnect:n}=t,r=yr(t);U.useEffect(()=>bD(r,{onChange(i,o){if((o.status==="reconnecting"||o.status==="connecting"&&o.address===void 0)&&i.status==="connected"){const{address:s,addresses:a,chain:l,chainId:c,connector:u}=i,d=o.status==="reconnecting"||o.status===void 0;e?.({address:s,addresses:a,chain:l,chainId:c,connector:u,isReconnected:d})}else o.status==="connected"&&i.status==="disconnected"&&n?.()}}),[r,e,n])}var Yf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pu=typeof window>"u"||"Deno"in globalThis;function ii(){}function fee(t,e){return typeof t=="function"?t(e):t}function P2(t){return typeof t=="number"&&t>=0&&t!==1/0}function PD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ll(t,e){return typeof t=="function"?t(e):t}function es(t,e){return typeof t=="function"?t(e):t}function EI(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==CT(s,e.options))return!1}else if(!fm(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function AI(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(mu(e.options.mutationKey)!==mu(o))return!1}else if(!fm(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function CT(t,e){return(e?.queryKeyHashFn||mu)(t)}function mu(t){return JSON.stringify(t,(e,n)=>N2(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function fm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>fm(t[n],e[n])):!1}function ND(t,e){if(t===e)return t;const n=_I(t)&&_I(e);if(n||N2(t)&&N2(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<s;u++){const d=n?u:o[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=ND(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return i===s&&c===i?t:a}return e}function _v(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function _I(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function N2(t){if(!SI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!SI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function SI(t){return Object.prototype.toString.call(t)==="[object Object]"}function hee(t){return new Promise(e=>{setTimeout(e,t)})}function k2(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ND(t,e):e}function pee(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function mee(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var TT=Symbol();function kD(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===TT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function FD(t,e){return typeof t=="function"?t(...e):!!t}var gee=class extends Yf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!pu&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},MT=new gee,yee=class extends Yf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!pu&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Sv=new yee;function F2(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function vee(t){return Math.min(1e3*2**t,3e4)}function OD(t){return(t??"online")==="online"?Sv.isOnline():!0}var BD=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function cx(t){return t instanceof BD}function LD(t){let e=!1,n=0,r=!1,i;const o=F2(),s=m=>{r||(f(new BD(m)),t.abort?.())},a=()=>{e=!0},l=()=>{e=!1},c=()=>MT.isFocused()&&(t.networkMode==="always"||Sv.isOnline())&&t.canRun(),u=()=>OD(t.networkMode)&&t.canRun(),d=m=>{r||(r=!0,t.onSuccess?.(m),i?.(),o.resolve(m))},f=m=>{r||(r=!0,t.onError?.(m),i?.(),o.reject(m))},h=()=>new Promise(m=>{i=y=>{(r||c())&&m(y)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),g=()=>{if(r)return;let m;const y=n===0?t.initialPromise:void 0;try{m=y??t.fn()}catch(p){m=Promise.reject(p)}Promise.resolve(m).then(d).catch(p=>{if(r)return;const v=t.retry??(pu?0:3),w=t.retryDelay??vee,x=typeof w=="function"?w(n,p):w,T=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,p);if(e||!T){f(p);return}n++,t.onFail?.(n,p),hee(x).then(()=>c()?void 0:h()).then(()=>{e?f(p):g()})})};return{promise:o,cancel:s,continue:()=>(i?.(),o),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():h().then(g),o)}}var wee=t=>setTimeout(t,0);function bee(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=wee;const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var dr=bee(),DD=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),P2(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(pu?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},xee=class extends DD{#e;#t;#n;#r;#i;#s;#o;constructor(t){super(),this.#o=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Eee(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=k2(this.state.data,t,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(ii).catch(ii):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>es(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===TT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ll(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!PD(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const l=kD(this.options,e),u=(()=>{const d={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},s=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#a({type:"fetch",meta:s.fetchOptions?.meta});const a=l=>{cx(l)&&l.silent||this.#a({type:"error",error:l}),cx(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=LD({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){a(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:a,onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#i.start()}#a(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...UD(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return cx(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),dr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function UD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:OD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Eee(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Aee=class extends Yf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??CT(r,e);let o=this.get(i);return o||(o=new xee({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){dr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>EI(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>EI(t,n)):e}notify(t){dr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){dr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){dr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_ee=class extends DD{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||zD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=LD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:r})}const i=await this.#n.start();return await this.#t.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),dr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function zD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var See=class extends Yf{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new _ee({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=J0(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=J0(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=J0(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=J0(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){dr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>AI(e,n))}findAll(t={}){return this.getAll().filter(e=>AI(t,e))}notify(t){dr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return dr.batch(()=>Promise.all(t.map(e=>e.continue().catch(ii))))}};function J0(t){return t.options.scope?.id}function CI(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],s=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const d=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},f=kD(e.options,e.fetchOptions),h=async(g,m,y)=>{if(u)return Promise.reject();if(m==null&&g.pages.length)return Promise.resolve(g);const v=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:m,direction:y?"backward":"forward",meta:e.options.meta};return d(k),k})(),w=await f(v),{maxPages:x}=e.options,T=y?mee:pee;return{pages:T(g.pages,w,x),pageParams:T(g.pageParams,m,x)}};if(i&&o.length){const g=i==="backward",m=g?Cee:TI,y={pages:o,pageParams:s},p=m(r,y);a=await h(y,p,g)}else{const g=t??o.length;do{const m=l===0?s[0]??r.initialPageParam:TI(r,a);if(l>0&&m==null)break;a=await h(a,m),l++}while(l<g)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function TI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Cee(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Tee=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new Aee,this.#t=t.mutationCache||new See,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=MT.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Sv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ll(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,s=fee(e,o);if(s!==void 0)return this.#e.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return dr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;dr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return dr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=dr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ii).catch(ii)}invalidateQueries(t,e={}){return dr.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=dr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(ii)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(ii)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Ll(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ii).catch(ii)}fetchInfiniteQuery(t){return t.behavior=CI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ii).catch(ii)}ensureInfiniteQueryData(t){return t.behavior=CI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Sv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(mu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{fm(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(mu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{fm(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=CT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===TT&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Mee=class extends Yf{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=F2(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#p;#u;#m;#h;#l;#c;#d=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),MI(this.#t,this.options)?this.#f():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return O2(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return O2(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof es(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#t.setOptions(this.options),e._defaulted&&!_v(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&II(this.#t,n,this.options,e)&&this.#f(),this.updateResult(),r&&(this.#t!==n||es(this.options.enabled,this.#t)!==es(e.enabled,this.#t)||Ll(this.options.staleTime,this.#t)!==Ll(e.staleTime,this.#t))&&this.#y();const i=this.#g();r&&(this.#t!==n||es(this.options.enabled,this.#t)!==es(e.enabled,this.#t)||i!==this.#c)&&this.#v(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Ree(this,n)&&(this.#r=n,this.#s=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),Reflect.get(n,r))})}trackProp(t){this.#d.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#f({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#f(t){this.#E();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ii)),e}#y(){this.#b();const t=Ll(this.options.staleTime,this.#t);if(pu||this.#r.isStale||!P2(t))return;const n=PD(this.#r.dataUpdatedAt,t)+1;this.#h=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#c=t,!(pu||es(this.options.enabled,this.#t)===!1||!P2(this.#c)||this.#c===0)&&(this.#l=setInterval(()=>{(this.options.refetchIntervalInBackground||MT.isFocused())&&this.#f()},this.#c))}#w(){this.#y(),this.#v(this.#g())}#b(){this.#h&&(clearTimeout(this.#h),this.#h=void 0)}#x(){this.#l&&(clearInterval(this.#l),this.#l=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,o=this.#i,s=this.#s,l=t!==n?t.state:this.#n,{state:c}=t;let u={...c},d=!1,f;if(e._optimisticResults){const z=this.hasListeners(),S=!z&&MI(t,e),N=z&&II(t,n,e,r);(S||N)&&(u={...u,...UD(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:g,status:m}=u;f=u.data;let y=!1;if(e.placeholderData!==void 0&&f===void 0&&m==="pending"){let z;i?.isPlaceholderData&&e.placeholderData===s?.placeholderData?(z=i.data,y=!0):z=typeof e.placeholderData=="function"?e.placeholderData(this.#m?.state.data,this.#m):e.placeholderData,z!==void 0&&(m="success",f=k2(i?.data,z,e),d=!0)}if(e.select&&f!==void 0&&!y)if(i&&f===o?.data&&e.select===this.#p)f=this.#u;else try{this.#p=e.select,f=e.select(f),f=k2(i?.data,f,e),this.#u=f,this.#a=null}catch(z){this.#a=z}this.#a&&(h=this.#a,f=this.#u,g=Date.now(),m="error");const p=u.fetchStatus==="fetching",v=m==="pending",w=m==="error",x=v&&p,T=f!==void 0,A={status:m,fetchStatus:u.fetchStatus,isPending:v,isSuccess:m==="success",isError:w,isInitialLoading:x,isLoading:x,data:f,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:g,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:p,isRefetching:p&&!v,isLoadingError:w&&!T,isPaused:u.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:w&&T,isStale:IT(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const z=P=>{A.status==="error"?P.reject(A.error):A.data!==void 0&&P.resolve(A.data)},S=()=>{const P=this.#o=A.promise=F2();z(P)},N=this.#o;switch(N.status){case"pending":t.queryHash===n.queryHash&&z(N);break;case"fulfilled":(A.status==="error"||A.data!==N.value)&&S();break;case"rejected":(A.status!=="error"||A.error!==N.reason)&&S();break}}return A}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#m=this.#t),_v(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#d.size)return!0;const o=new Set(i??this.#d);return this.options.throwOnError&&o.add("error"),Object.keys(this.#r).some(s=>{const a=s;return this.#r[a]!==t[a]&&o.has(a)})};this.#A({listeners:n()})}#E(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#A(t){dr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Iee(t,e){return es(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function MI(t,e){return Iee(t,e)||t.state.data!==void 0&&O2(t,e,e.refetchOnMount)}function O2(t,e,n){if(es(e.enabled,t)!==!1&&Ll(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&IT(t,e)}return!1}function II(t,e,n,r){return(t!==e||es(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&IT(t,n)}function IT(t,e){return es(e.enabled,t)!==!1&&t.isStaleByTime(Ll(e.staleTime,t))}function Ree(t,e){return!_v(t.getCurrentResult(),e)}var Pee=class extends Yf{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),_v(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&mu(n.mutationKey)!==mu(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??zD();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){dr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}};function Nee(t){return JSON.stringify(t,(e,n)=>kee(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):typeof n=="bigint"?n.toString():n)}function kee(t){if(!RI(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!RI(n)||!n.hasOwnProperty("isPrototypeOf"))}function RI(t){return Object.prototype.toString.call(t)==="[object Object]"}function d1(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:i,initialDataUpdatedAt:o,maxPages:s,meta:a,networkMode:l,queryFn:c,queryHash:u,queryKey:d,queryKeyHashFn:f,retry:h,retryDelay:g,structuralSharing:m,getPreviousPageParam:y,getNextPageParam:p,initialPageParam:v,_optimisticResults:w,enabled:x,notifyOnChangeProps:T,placeholderData:k,refetchInterval:A,refetchIntervalInBackground:z,refetchOnMount:S,refetchOnReconnect:N,refetchOnWindowFocus:P,retryOnMount:W,select:B,staleTime:b,suspense:E,throwOnError:I,config:O,connector:C,query:j,...H}=t;return H}function Fee(t){return{mutationFn(e){return KJ(t,e)},mutationKey:["connect"]}}function Oee(t){return{mutationFn(e){return rZ(t,e)},mutationKey:["disconnect"]}}function Bee(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:i,...o}=n[1];if(!r)throw new Error("address is required");return await aZ(t,{...o,address:r})??null},queryKey:Lee(e)}}function Lee(t={}){return["balance",d1(t)]}function Dee(t,e={}){return{async queryFn({queryKey:n}){const{name:r,scopeKey:i,...o}=n[1];if(!r)throw new Error("name is required");return cZ(t,{...o,name:r})},queryKey:Uee(e)}}function Uee(t={}){return["ensAvatar",d1(t)]}function zee(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:i,...o}=n[1];if(!r)throw new Error("address is required");return uZ(t,{...o,address:r})},queryKey:jee(e)}}function jee(t={}){return["ensName",d1(t)]}function Gee(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=e,{connectorUid:i,scopeKey:o,...s}=n[1];return dZ(t,{...s,connector:r})},queryKey:Hee(e)}}function Hee(t={}){const{connector:e,...n}=t;return["walletClient",{...d1(n),connectorUid:e?.uid}]}function Wee(t){return{mutationFn(e){return hZ(t,e)},mutationKey:["signMessage"]}}function Vee(t){return{mutationFn(e){return mZ(t,e)},mutationKey:["switchChain"]}}var jD=U.createContext(void 0),RT=t=>{const e=U.useContext(jD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$ee=({client:t,children:e})=>(U.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),yn.jsx(jD.Provider,{value:t,children:e})),GD=U.createContext(!1),qee=()=>U.useContext(GD);GD.Provider;function Kee(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Qee=U.createContext(Kee()),Xee=()=>U.useContext(Qee),Yee=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Jee=t=>{U.useEffect(()=>{t.clearReset()},[t])},Zee=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||FD(n,[t.error,r])),ete=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},tte=(t,e)=>t.isLoading&&t.isFetching&&!e,nte=(t,e)=>t?.suspense&&e.isPending,PI=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function rte(t,e,n){const r=qee(),i=Xee(),o=RT(),s=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=r?"isRestoring":"optimistic",ete(s),Yee(s,i),Jee(i);const a=!o.getQueryCache().get(s.queryHash),[l]=U.useState(()=>new e(o,s)),c=l.getOptimisticResult(s),u=!r&&t.subscribed!==!1;if(U.useSyncExternalStore(U.useCallback(d=>{const f=u?l.subscribe(dr.batchCalls(d)):ii;return l.updateResult(),f},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),U.useEffect(()=>{l.setOptions(s)},[s,l]),nte(s,c))throw PI(s,l,i);if(Zee({result:c,errorResetBoundary:i,throwOnError:s.throwOnError,query:o.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw c.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(s,c),s.experimental_prefetchInRender&&!pu&&tte(c,r)&&(a?PI(s,l,i):o.getQueryCache().get(s.queryHash)?.promise)?.catch(ii).finally(()=>{l.updateResult()}),s.notifyOnChangeProps?c:l.trackResult(c)}function HD(t,e){return rte(t,Mee)}function f1(t,e){const n=RT(),[r]=U.useState(()=>new Pee(n,t));U.useEffect(()=>{r.setOptions(t)},[r,t]);const i=U.useSyncExternalStore(U.useCallback(s=>r.subscribe(dr.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=U.useCallback((s,a)=>{r.mutate(s,a).catch(ii)},[r]);if(i.error&&FD(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function h1(t){const e=HD({...t,queryKeyHashFn:Nee});return e.queryKey=t.queryKey,e}function t0(t={}){const e=yr(t);return U.useSyncExternalStore(n=>gZ(e,{onChange:n}),()=>gI(e),()=>gI(e))}function WD(t={}){const{address:e,query:n={}}=t,r=yr(t),i=t0({config:r}),o=Bee(r,{...t,chainId:t.chainId??i}),s=!!(e&&(n.enabled??!0));return h1({...n,...o,enabled:s})}function ite(t={}){const e=yr(t);return U.useSyncExternalStore(n=>$Z(e,{onChange:n}),()=>yI(e),()=>yI(e))}function ote(t={}){const e=yr(t);return U.useSyncExternalStore(n=>vZ(e,{onChange:n}),()=>vI(e),()=>vI(e))}function ste(t={}){const{mutation:e}=t,n=yr(t),r=Fee(n),{mutate:i,mutateAsync:o,...s}=f1({...e,...r});return U.useEffect(()=>n.subscribe(({status:a})=>a,(a,l)=>{l==="connected"&&a==="disconnected"&&s.reset()}),[n,s.reset]),{...s,connect:i,connectAsync:o,connectors:ote({config:n})}}function ate(t={}){const e=yr(t);return U.useSyncExternalStore(n=>yZ(e,{onChange:n}),()=>T2(e),()=>T2(e))}function PT(t={}){const{mutation:e}=t,n=yr(t),r=Oee(n),{mutate:i,mutateAsync:o,...s}=f1({...e,...r});return{...s,connectors:ate({config:n}).map(a=>a.connector),disconnect:i,disconnectAsync:o}}function lte(t={}){const{name:e,query:n={}}=t,r=yr(t),i=t0({config:r}),o=Dee(r,{...t,chainId:t.chainId??i}),s=!!(e&&(n.enabled??!0));return h1({...n,...o,enabled:s})}function cte(t={}){const{address:e,query:n={}}=t,r=yr(t),i=t0({config:r}),o=zee(r,{...t,chainId:t.chainId??i}),s=!!(e&&(n.enabled??!0));return h1({...n,...o,enabled:s})}function NT(t={}){const e=yr(t);return ID.useSyncExternalStoreWithSelector(n=>wZ(e,{onChange:n}),()=>M2(e,t),()=>M2(e,t),n=>n,(n,r)=>n?.uid===r?.uid)}function ute(t={}){const{mutation:e}=t,n=yr(t),r=Wee(n),{mutate:i,mutateAsync:o,...s}=f1({...e,...r});return{...s,signMessage:i,signMessageAsync:o}}function VD(t={}){const{mutation:e}=t,n=yr(t),r=Vee(n),{mutate:i,mutateAsync:o,...s}=f1({...e,...r});return{...s,chains:ite({config:n}),switchChain:i,switchChainAsync:o}}function $D(t={}){const{query:e={},...n}=t,r=yr(n),i=RT(),{address:o,connector:s,status:a}=Ir({config:r}),l=t0({config:r}),c=t.connector??s,{queryKey:u,...d}=Gee(r,{...t,chainId:t.chainId??l,connector:t.connector??s}),f=!!((a==="connected"||a==="reconnecting"&&c?.getProvider)&&(e.enabled??!0)),h=U.useRef(o);return U.useEffect(()=>{const g=h.current;!o&&g?(i.removeQueries({queryKey:u}),h.current=void 0):o!==g&&(i.invalidateQueries({queryKey:u}),h.current=o)},[o,i]),h1({...e,...d,queryKey:u,enabled:f,staleTime:Number.POSITIVE_INFINITY})}var NI='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',dte={rounded:`SFRounded, ui-rounded, "SF Pro Rounded", ${NI}`,system:NI},_h={large:{actionButton:"9999px",connectButton:"12px",modal:"24px",modalMobile:"28px"},medium:{actionButton:"10px",connectButton:"8px",modal:"16px",modalMobile:"18px"},none:{actionButton:"0px",connectButton:"0px",modal:"0px",modalMobile:"0px"},small:{actionButton:"4px",connectButton:"4px",modal:"8px",modalMobile:"8px"}},fte={large:{modalOverlay:"blur(20px)"},none:{modalOverlay:"blur(0px)"},small:{modalOverlay:"blur(4px)"}},qD=({borderRadius:t="large",fontStack:e="rounded",overlayBlur:n="none"})=>({blurs:{modalOverlay:fte[n].modalOverlay},fonts:{body:dte[e]},radii:{actionButton:_h[t].actionButton,connectButton:_h[t].connectButton,menuButton:_h[t].connectButton,modal:_h[t].modal,modalMobile:_h[t].modalMobile}}),yy="#1A1B1F",KD={blue:{accentColor:"#3898FF",accentColorForeground:"#FFF"},green:{accentColor:"#4BD166",accentColorForeground:yy},orange:{accentColor:"#FF983D",accentColorForeground:yy},pink:{accentColor:"#FF7AB8",accentColorForeground:yy},purple:{accentColor:"#7A70FF",accentColorForeground:"#FFF"},red:{accentColor:"#FF6257",accentColorForeground:"#FFF"}},kI=KD.blue,QD=({accentColor:t=kI.accentColor,accentColorForeground:e=kI.accentColorForeground,...n}={})=>({...qD(n),colors:{accentColor:t,accentColorForeground:e,actionButtonBorder:"rgba(255, 255, 255, 0.04)",actionButtonBorderMobile:"rgba(255, 255, 255, 0.08)",actionButtonSecondaryBackground:"rgba(255, 255, 255, 0.08)",closeButton:"rgba(224, 232, 255, 0.6)",closeButtonBackground:"rgba(255, 255, 255, 0.08)",connectButtonBackground:yy,connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(255, 255, 255, 0.075), rgba(255, 255, 255, 0.15))",connectButtonText:"#FFF",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(0, 0, 0, 0) 9.49%, rgba(120, 120, 120, 0.2) 71.04%), #1A1B1F",downloadTopCardBackground:"linear-gradient(126deg, rgba(120, 120, 120, 0.2) 9.49%, rgba(0, 0, 0, 0) 71.04%), #1A1B1F",error:"#FF494A",generalBorder:"rgba(255, 255, 255, 0.08)",generalBorderDim:"rgba(255, 255, 255, 0.04)",menuItemBackground:"rgba(224, 232, 255, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.5)",modalBackground:"#1A1B1F",modalBorder:"rgba(255, 255, 255, 0.08)",modalText:"#FFF",modalTextDim:"rgba(224, 232, 255, 0.3)",modalTextSecondary:"rgba(255, 255, 255, 0.6)",profileAction:"rgba(224, 232, 255, 0.1)",profileActionHover:"rgba(224, 232, 255, 0.2)",profileForeground:"rgba(224, 232, 255, 0.05)",selectedOptionBorder:"rgba(224, 232, 255, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.24)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});QD.accentColors=KD;var XD={blue:{accentColor:"#0E76FD",accentColorForeground:"#FFF"},green:{accentColor:"#1DB847",accentColorForeground:"#FFF"},orange:{accentColor:"#FF801F",accentColorForeground:"#FFF"},pink:{accentColor:"#FF5CA0",accentColorForeground:"#FFF"},purple:{accentColor:"#5F5AFA",accentColorForeground:"#FFF"},red:{accentColor:"#FA423C",accentColorForeground:"#FFF"}},FI=XD.blue,YD=({accentColor:t=FI.accentColor,accentColorForeground:e=FI.accentColorForeground,...n}={})=>({...qD(n),colors:{accentColor:t,accentColorForeground:e,actionButtonBorder:"rgba(0, 0, 0, 0.04)",actionButtonBorderMobile:"rgba(0, 0, 0, 0.06)",actionButtonSecondaryBackground:"rgba(0, 0, 0, 0.06)",closeButton:"rgba(60, 66, 66, 0.8)",closeButtonBackground:"rgba(0, 0, 0, 0.06)",connectButtonBackground:"#FFF",connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(0, 0, 0, 0.03), rgba(0, 0, 0, 0.06))",connectButtonText:"#25292E",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(255, 255, 255, 0) 9.49%, rgba(171, 171, 171, 0.04) 71.04%), #FFFFFF",downloadTopCardBackground:"linear-gradient(126deg, rgba(171, 171, 171, 0.2) 9.49%, rgba(255, 255, 255, 0) 71.04%), #FFFFFF",error:"#FF494A",generalBorder:"rgba(0, 0, 0, 0.06)",generalBorderDim:"rgba(0, 0, 0, 0.03)",menuItemBackground:"rgba(60, 66, 66, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.3)",modalBackground:"#FFF",modalBorder:"transparent",modalText:"#25292E",modalTextDim:"rgba(60, 66, 66, 0.3)",modalTextSecondary:"rgba(60, 66, 66, 0.6)",profileAction:"#FFF",profileActionHover:"rgba(255, 255, 255, 0.5)",profileForeground:"rgba(60, 66, 66, 0.06)",selectedOptionBorder:"rgba(60, 66, 66, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.12)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});YD.accentColors=XD;var B2=`{
  "connect_wallet": {
    "label": "Connect Wallet",
    "wrong_network": {
      "label": "Wrong network"
    }
  },

  "intro": {
    "title": "What is a Wallet?",
    "description": "A wallet is used to send, receive, store, and display digital assets. It's also a new way to log in, without needing to create new accounts and passwords on every website.",
    "digital_asset": {
      "title": "A Home for your Digital Assets",
      "description": "Wallets are used to send, receive, store, and display digital assets like Ethereum and NFTs."
    },
    "login": {
      "title": "A New Way to Log In",
      "description": "Instead of creating new accounts and passwords on every website, just connect your wallet."
    },
    "get": {
      "label": "Get a Wallet"
    },
    "learn_more": {
      "label": "Learn More"
    }
  },

  "sign_in": {
    "label": "Verify your account",
    "description": "To finish connecting, you must sign a message in your wallet to verify that you are the owner of this account.",
    "message": {
      "send": "Sign message",
      "preparing": "Preparing message...",
      "cancel": "Cancel",
      "preparing_error": "Error preparing message, please retry!"
    },
    "signature": {
      "waiting": "Waiting for signature...",
      "verifying": "Verifying signature...",
      "signing_error": "Error signing message, please retry!",
      "verifying_error": "Error verifying signature, please retry!",
      "oops_error": "Oops, something went wrong!"
    }
  },

  "connect": {
    "label": "Connect",
    "title": "Connect a Wallet",
    "new_to_ethereum": {
      "description": "New to Ethereum wallets?",
      "learn_more": {
        "label": "Learn More"
      }
    },
    "learn_more": {
      "label": "Learn more"
    },
    "recent": "Recent",
    "status": {
      "opening": "Opening %{wallet}...",
      "connecting": "Connecting",
      "connect_mobile": "Continue in %{wallet}",
      "not_installed": "%{wallet} is not installed",
      "not_available": "%{wallet} is not available",
      "confirm": "Confirm connection in the extension",
      "confirm_mobile": "Accept connection request in the wallet"
    },
    "secondary_action": {
      "get": {
        "description": "Don't have %{wallet}?",
        "label": "GET"
      },
      "install": {
        "label": "INSTALL"
      },
      "retry": {
        "label": "RETRY"
      }
    },
    "walletconnect": {
      "description": {
        "full": "Need the official WalletConnect modal?",
        "compact": "Need the WalletConnect modal?"
      },
      "open": {
        "label": "OPEN"
      }
    }
  },

  "connect_scan": {
    "title": "Scan with %{wallet}",
    "fallback_title": "Scan with your phone"
  },

  "connector_group": {
    "installed": "Installed",
    "recommended": "Recommended",
    "other": "Other",
    "popular": "Popular",
    "more": "More",
    "others": "Others"
  },

  "get": {
    "title": "Get a Wallet",
    "action": {
      "label": "GET"
    },
    "mobile": {
      "description": "Mobile Wallet"
    },
    "extension": {
      "description": "Browser Extension"
    },
    "mobile_and_extension": {
      "description": "Mobile Wallet and Extension"
    },
    "mobile_and_desktop": {
      "description": "Mobile and Desktop Wallet"
    },
    "looking_for": {
      "title": "Not what you're looking for?",
      "mobile": {
        "description": "Select a wallet on the main screen to get started with a different wallet provider."
      },
      "desktop": {
        "compact_description": "Select a wallet on the main screen to get started with a different wallet provider.",
        "wide_description": "Select a wallet on the left to get started with a different wallet provider."
      }
    }
  },

  "get_options": {
    "title": "Get started with %{wallet}",
    "short_title": "Get %{wallet}",
    "mobile": {
      "title": "%{wallet} for Mobile",
      "description": "Use the mobile wallet to explore the world of Ethereum.",
      "download": {
        "label": "Get the app"
      }
    },
    "extension": {
      "title": "%{wallet} for %{browser}",
      "description": "Access your wallet right from your favorite web browser.",
      "download": {
        "label": "Add to %{browser}"
      }
    },
    "desktop": {
      "title": "%{wallet} for %{platform}",
      "description": "Access your wallet natively from your powerful desktop.",
      "download": {
        "label": "Add to %{platform}"
      }
    }
  },

  "get_mobile": {
    "title": "Install %{wallet}",
    "description": "Scan with your phone to download on iOS or Android",
    "continue": {
      "label": "Continue"
    }
  },

  "get_instructions": {
    "mobile": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "extension": {
      "refresh": {
        "label": "Refresh"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "desktop": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    }
  },

  "chains": {
    "title": "Switch Networks",
    "wrong_network": "Wrong network detected, switch or disconnect to continue.",
    "confirm": "Confirm in Wallet",
    "switching_not_supported": "Your wallet does not support switching networks from %{appName}. Try switching networks from within your wallet instead.",
    "switching_not_supported_fallback": "Your wallet does not support switching networks from this app. Try switching networks from within your wallet instead.",
    "disconnect": "Disconnect",
    "connected": "Connected"
  },

  "profile": {
    "disconnect": {
      "label": "Disconnect"
    },
    "copy_address": {
      "label": "Copy Address",
      "copied": "Copied!"
    },
    "explorer": {
      "label": "View more on explorer"
    },
    "transactions": {
      "description": "%{appName} transactions will appear here...",
      "description_fallback": "Your transactions will appear here...",
      "recent": {
        "title": "Recent Transactions"
      },
      "clear": {
        "label": "Clear All"
      }
    }
  },

  "wallet_connectors": {
    "argent": {
      "qr_code": {
        "step1": {
          "description": "Put Argent on your home screen for faster access to your wallet.",
          "title": "Open the Argent app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "berasig": {
      "extension": {
        "step1": {
          "title": "Install the BeraSig extension",
          "description": "We recommend pinning BeraSig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "best": {
      "qr_code": {
        "step1": {
          "title": "Open the Best Wallet app",
          "description": "Add Best Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bifrost": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bifrost Wallet on your home screen for quicker access.",
          "title": "Open the Bifrost Wallet app"
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "bitget": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bitget Wallet on your home screen for quicker access.",
          "title": "Open the Bitget Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Bitget Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitget Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitski": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Bitski to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitski extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitverse": {
      "qr_code": {
        "step1": {
          "title": "Open the Bitverse Wallet app",
          "description": "Add Bitverse Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bloom": {
      "desktop": {
        "step1": {
          "title": "Open the Bloom Wallet app",
          "description": "We recommend putting Bloom Wallet on your home screen for quicker access."
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you have a wallet, click on Connect to connect via Bloom. A connection prompt in the app will appear for you to confirm the connection.",
          "title": "Click on Connect"
        }
      }
    },

    "bybit": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bybit on your home screen for faster access to your wallet.",
          "title": "Open the Bybit app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Bybit Wallet for easy access.",
          "title": "Install the Bybit Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Bybit Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "binance": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Binance on your home screen for faster access to your wallet.",
          "title": "Open the Binance app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      }
    },

    "coin98": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coin98 Wallet on your home screen for faster access to your wallet.",
          "title": "Open the Coin98 Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Coin98 Wallet for easy access.",
          "title": "Install the Coin98 Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Coin98 Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "coinbase": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coinbase Wallet on your home screen for quicker access.",
          "title": "Open the Coinbase Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Coinbase Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Coinbase Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "compass": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Compass Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Compass Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "core": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Core on your home screen for faster access to your wallet.",
          "title": "Open the Core app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Core to your taskbar for quicker access to your wallet.",
          "title": "Install the Core extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "fox": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting FoxWallet on your home screen for quicker access.",
          "title": "Open the FoxWallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "frontier": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Frontier Wallet on your home screen for quicker access.",
          "title": "Open the Frontier Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Frontier Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Frontier Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "im_token": {
      "qr_code": {
        "step1": {
          "title": "Open the imToken app",
          "description": "Put imToken app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "iopay": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting ioPay on your home screen for faster access to your wallet.",
          "title": "Open the ioPay app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      }
    },

    "kaikas": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaikas to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaikas extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaikas app",
          "description": "Put Kaikas app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kaia": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaia to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaia extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaia app",
          "description": "Put Kaia app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kraken": {
      "qr_code": {
        "step1": {
          "title": "Open the Kraken Wallet app",
          "description": "Add Kraken Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "kresus": {
      "qr_code": {
        "step1": {
          "title": "Open the Kresus Wallet app",
          "description": "Add Kresus Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "magicEden": {
      "extension": {
        "step1": {
          "title": "Install the Magic Eden extension",
          "description": "We recommend pinning Magic Eden to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "metamask": {
      "qr_code": {
        "step1": {
          "title": "Open the MetaMask app",
          "description": "We recommend putting MetaMask on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the MetaMask extension",
          "description": "We recommend pinning MetaMask to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "nestwallet": {
      "extension": {
        "step1": {
          "title": "Install the NestWallet extension",
          "description": "We recommend pinning NestWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "okx": {
      "qr_code": {
        "step1": {
          "title": "Open the OKX Wallet app",
          "description": "We recommend putting OKX Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the OKX Wallet extension",
          "description": "We recommend pinning OKX Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "omni": {
      "qr_code": {
        "step1": {
          "title": "Open the Omni app",
          "description": "Add Omni to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your home screen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "1inch": {
      "qr_code": {
        "step1": {
          "description": "Put 1inch Wallet on your home screen for faster access to your wallet.",
          "title": "Open the 1inch Wallet app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "token_pocket": {
      "qr_code": {
        "step1": {
          "title": "Open the TokenPocket app",
          "description": "We recommend putting TokenPocket on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the TokenPocket extension",
          "description": "We recommend pinning TokenPocket to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "trust": {
      "qr_code": {
        "step1": {
          "title": "Open the Trust Wallet app",
          "description": "Put Trust Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Trust Wallet extension",
          "description": "Click at the top right of your browser and pin Trust Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up Trust Wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "uniswap": {
      "qr_code": {
        "step1": {
          "title": "Open the Uniswap app",
          "description": "Add Uniswap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "zerion": {
      "qr_code": {
        "step1": {
          "title": "Open the Zerion app",
          "description": "We recommend putting Zerion on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Zerion extension",
          "description": "We recommend pinning Zerion to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rainbow": {
      "qr_code": {
        "step1": {
          "title": "Open the Rainbow app",
          "description": "We recommend putting Rainbow on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "You can easily backup your wallet using our backup feature on your phone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "enkrypt": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Enkrypt Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Enkrypt Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "frame": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Frame to your taskbar for quicker access to your wallet.",
          "title": "Install Frame & the companion extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "one_key": {
      "extension": {
        "step1": {
          "title": "Install the OneKey Wallet extension",
          "description": "We recommend pinning OneKey Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "paraswap": {
      "qr_code": {
        "step1": {
          "title": "Open the ParaSwap app",
          "description": "Add ParaSwap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "phantom": {
      "extension": {
        "step1": {
          "title": "Install the Phantom extension",
          "description": "We recommend pinning Phantom to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rabby": {
      "extension": {
        "step1": {
          "title": "Install the Rabby extension",
          "description": "We recommend pinning Rabby to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "ronin": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Ronin Wallet on your home screen for quicker access.",
          "title": "Open the Ronin Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Ronin Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Ronin Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "ramper": {
      "extension": {
        "step1": {
          "title": "Install the Ramper extension",
          "description": "We recommend pinning Ramper to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safeheron": {
      "extension": {
        "step1": {
          "title": "Install the Core extension",
          "description": "We recommend pinning Safeheron to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "taho": {
      "extension": {
        "step1": {
          "title": "Install the Taho extension",
          "description": "We recommend pinning Taho to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "wigwam": {
      "extension": {
        "step1": {
          "title": "Install the Wigwam extension",
          "description": "We recommend pinning Wigwam to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "talisman": {
      "extension": {
        "step1": {
          "title": "Install the Talisman extension",
          "description": "We recommend pinning Talisman to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import an Ethereum Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "xdefi": {
      "extension": {
        "step1": {
          "title": "Install the XDEFI Wallet extension",
          "description": "We recommend pinning XDEFI Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "zeal": {
      "qr_code": {
        "step1": {
          "title": "Open the Zeal app",
          "description": "Add Zeal Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Zeal extension",
          "description": "We recommend pinning Zeal to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safepal": {
      "extension": {
        "step1": {
          "title": "Install the SafePal Wallet extension",
          "description": "Click at the top right of your browser and pin SafePal Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up SafePal Wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SafePal Wallet app",
          "description": "Put SafePal Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "desig": {
      "extension": {
        "step1": {
          "title": "Install the Desig extension",
          "description": "We recommend pinning Desig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "subwallet": {
      "extension": {
        "step1": {
          "title": "Install the SubWallet extension",
          "description": "We recommend pinning SubWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SubWallet app",
          "description": "We recommend putting SubWallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "clv": {
      "extension": {
        "step1": {
          "title": "Install the CLV Wallet extension",
          "description": "We recommend pinning CLV Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the CLV Wallet app",
          "description": "We recommend putting CLV Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "okto": {
      "qr_code": {
        "step1": {
          "title": "Open the Okto app",
          "description": "Add Okto to your home screen for quick access"
        },
        "step2": {
          "title": "Create an MPC Wallet",
          "description": "Create an account and generate a wallet"
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Tap the Scan QR icon at the top right and confirm the prompt to connect."
        }
      }
    },

    "ledger": {
      "desktop": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "Set up a new Ledger or connect to an existing one."
        },
        "step3": {
          "title": "Connect",
          "description": "A connection prompt will appear for you to connect your wallet."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "You can either sync with the desktop app or connect your Ledger."
        },
        "step3": {
          "title": "Scan the code",
          "description": "Tap WalletConnect then Switch to Scanner. After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "valora": {
      "qr_code": {
        "step1": {
          "title": "Open the Valora app",
          "description": "We recommend putting Valora on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "gate": {
      "qr_code": {
        "step1": {
          "title": "Open the Gate app",
          "description": "We recommend putting Gate on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Gate extension",
          "description": "We recommend pinning Gate to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "xportal": {
      "qr_code": {
        "step1": {
          "description": "Put xPortal on your home screen for faster access to your wallet.",
          "title": "Open the xPortal app"
        },
        "step2": {
          "description": "Create a wallet or import an existing one.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "mew": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting MEW Wallet on your home screen for quicker access.",
          "title": "Open the MEW Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    }
  },

  "zilpay": {
    "qr_code": {
      "step1": {
        "title": "Open the ZilPay app",
        "description": "Add ZilPay to your home screen for faster access to your wallet."
      },
      "step2": {
        "title": "Create or Import a Wallet",
        "description": "Create a new wallet or import an existing one."
      },
      "step3": {
        "title": "Tap the scan button",
        "description": "After you scan, a connection prompt will appear for you to connect your wallet."
      }
    }
  }
}
`;function hte(t,e){return Object.defineProperty(t,"__recipe__",{value:e,writable:!1}),t}var JD=hte;function ZD(t){var{conditions:e}=t;if(!e)throw new Error("Styles have no conditions");function n(r){if(typeof r=="string"||typeof r=="number"||typeof r=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return{[e.defaultCondition]:r}}if(Array.isArray(r)){if(!("responsiveArray"in e))throw new Error("Responsive arrays are not supported");var i={};for(var o in e.responsiveArray)r[o]!=null&&(i[e.responsiveArray[o]]=r[o]);return i}return r}return JD(n,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createNormalizeValueFn",args:[{conditions:t.conditions}]})}function pte(t){var{conditions:e}=t;if(!e)throw new Error("Styles have no conditions");var n=ZD(t);function r(i,o){if(typeof i=="string"||typeof i=="number"||typeof i=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return o(i,e.defaultCondition)}var s=Array.isArray(i)?n(i):i,a={};for(var l in s)s[l]!=null&&(a[l]=o(s[l],l));return a}return JD(r,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createMapValueFn",args:[{conditions:t.conditions}]})}function mte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gte(t){var e=mte(t,"string");return typeof e=="symbol"?e:String(e)}function yte(t,e,n){return e=gte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ux(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){yte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var vte=t=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Object.assign({},...n.map(l=>l.styles)),o=Object.keys(i),s=o.filter(l=>"mappings"in i[l]),a=l=>{var c=[],u={},d=ux({},l),f=!1;for(var h of s){var g=l[h];if(g!=null){var m=i[h];f=!0;for(var y of m.mappings)u[y]=g,d[y]==null&&delete d[y]}}var p=f?ux(ux({},u),d):l,v=function(){var T=p[w],k=i[w];try{if(k.mappings)return 1;if(typeof T=="string"||typeof T=="number")c.push(k.values[T].defaultClass);else if(Array.isArray(T))for(var A=0;A<T.length;A++){var z=T[A];if(z!=null){var S=k.responsiveArray[A];c.push(k.values[z].conditions[S])}}else for(var N in T){var P=T[N];P!=null&&c.push(k.values[P].conditions[N])}}catch(W){throw W}};for(var w in p)v();return t(c.join(" "))};return Object.assign(a,{properties:new Set(o)})},wte=t=>t,bte=function(){return vte(wte)(...arguments)};function eU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=eU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function tU(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=eU(t))&&(r&&(r+=" "),r+=e);return r}var xte="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const BI=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),LI=4;function Ete(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,o=[0,1];for(let T=1;T<r;T++)o.push(i+=n());let s=n(),a=e;e+=s;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const d=31,f=2**d,h=f>>>1,g=h>>1,m=f-1;let y=0;for(let T=0;T<d;T++)y=y<<1|u();let p=[],v=0,w=f;for(;;){let T=Math.floor(((y-v+1)*i-1)/w),k=0,A=r;for(;A-k>1;){let N=k+A>>>1;T<o[N]?A=N:k=N}if(k==0)break;p.push(k);let z=v+Math.floor(w*o[k]/i),S=v+Math.floor(w*o[k+1]/i)-1;for(;!((z^S)&h);)y=y<<1&m|u(),z=z<<1&m,S=S<<1&m|1;for(;z&~S&g;)y=y&h|y<<1&m>>>1|u(),z=z<<1^h,S=(S^h)<<1|h|1;v=z,w=1+S-z}let x=r-4;return p.map(T=>{switch(T-x){case 3:return x+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return x+256+(t[a++]<<8|t[a++]);case 1:return x+t[a++];default:return T-1}})}function Ate(t){let e=0;return()=>t[e++]}function nU(t){return Ate(Ete(_te(t)))}function _te(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,o=0,s=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],s+=6,s>=8&&(r[o++]=a>>(s-=8));return r}function Ste(t){return t&1?~t>>1:t>>1}function Cte(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=Ste(e());return n}function hm(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let o=0;o<i;o++)n.push(e+o);e+=i+1}return n}function rU(t){return pm(()=>{let e=hm(t);if(e.length)return e})}function iU(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(Tte(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(Mte(n,t))}return e.flat()}function pm(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function oU(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)Cte(t,n).forEach((o,s)=>r[s].push(o));return r}function Tte(t,e){let n=1+e(),r=e(),i=pm(e);return oU(i.length,1+t,e).flatMap((s,a)=>{let[l,...c]=s;return Array(i[a]).fill().map((u,d)=>{let f=d*r;return[l+d*n,c.map(h=>h+f)]})})}function Mte(t,e){let n=1+e();return oU(n,1+t,e).map(i=>[i[0],i.slice(1)])}function Ite(t){let e=[],n=hm(t);return i(r([]),[]),e;function r(o){let s=t(),a=pm(()=>{let l=hm(t).map(c=>n[c]);if(l.length)return r(l)});return{S:s,B:a,Q:o}}function i({S:o,B:s},a,l){if(!(o&4&&l===a[a.length-1])){o&2&&(l=a[a.length-1]),o&1&&e.push(a);for(let c of s)for(let u of c.Q)i(c,[...a,u],l)}}}function Rte(t){return t.toString(16).toUpperCase().padStart(2,"0")}function sU(t){return`{${Rte(t)}}`}function Pte(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function gf(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function Nte(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var kte="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const mm=44032,Cv=4352,Tv=4449,Mv=4519,aU=19,lU=21,yf=28,Iv=lU*yf,Fte=aU*Iv,Ote=mm+Fte,Bte=Cv+aU,Lte=Tv+lU,Dte=Mv+yf;function qh(t){return t>>24&255}function cU(t){return t&16777215}let L2,DI,D2,vy;function Ute(){let t=nU(kte);L2=new Map(rU(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),DI=new Set(hm(t)),D2=new Map,vy=new Map;for(let[e,n]of iU(t)){if(!DI.has(e)&&n.length==2){let[r,i]=n,o=vy.get(r);o||(o=new Map,vy.set(r,o)),o.set(i,e)}D2.set(e,n.reverse())}}function uU(t){return t>=mm&&t<Ote}function zte(t,e){if(t>=Cv&&t<Bte&&e>=Tv&&e<Lte)return mm+(t-Cv)*Iv+(e-Tv)*yf;if(uU(t)&&e>Mv&&e<Dte&&(t-mm)%yf==0)return t+(e-Mv);{let n=vy.get(t);return n&&(n=n.get(e),n)?n:-1}}function dU(t){L2||Ute();let e=[],n=[],r=!1;function i(o){let s=L2.get(o);s&&(r=!0,o|=s),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(uU(o)){let s=o-mm,a=s/Iv|0,l=s%Iv/yf|0,c=s%yf;i(Cv+a),i(Tv+l),c>0&&i(Mv+c)}else{let s=D2.get(o);s?n.push(...s):i(o)}if(!n.length)break;o=n.pop()}if(r&&e.length>1){let o=qh(e[0]);for(let s=1;s<e.length;s++){let a=qh(e[s]);if(a==0||o<=a){o=a;continue}let l=s-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(o=qh(e[--l]),o<=a))break}o=qh(e[s])}}return e}function jte(t){let e=[],n=[],r=-1,i=0;for(let o of t){let s=qh(o),a=cU(o);if(r==-1)s==0?r=a:e.push(a);else if(i>0&&i>=s)s==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=s;else{let l=zte(r,a);l>=0?r=l:i==0&&s==0?(e.push(r),r=a):(n.push(a),i=s)}}return r>=0&&e.push(r,...n),e}function fU(t){return dU(t).map(cU)}function Gte(t){return jte(dU(t))}const UI=45,hU=".",pU=65039,mU=1,Rv=t=>Array.from(t);function gm(t,e){return t.P.has(e)||t.Q.has(e)}let Hte=class extends Array{get is_emoji(){return!0}},U2,gU,Bc,z2,yU,jd,dx,fd,gc,zI,j2;function kT(){if(U2)return;let t=nU(xte);const e=()=>hm(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(f=>u.add(f));U2=new Map(iU(t)),gU=n(),Bc=e(),z2=new Set(e().map(u=>Bc[u])),Bc=new Set(Bc),yU=n(),n();let i=rU(t),o=t();const s=()=>{let u=new Set;return e().forEach(d=>r(u,i[d])),r(u,e()),u};jd=pm(u=>{let d=pm(t).map(f=>f+96);if(d.length){let f=u>=o;d[0]-=32,d=gf(d),f&&(d=`Restricted[${d}]`);let h=s(),g=s(),m=!t();return{N:d,P:h,Q:g,M:m,R:f}}}),dx=n(),fd=new Map;let a=e().concat(Rv(dx)).sort((u,d)=>u-d);a.forEach((u,d)=>{let f=t(),h=a[d]=f?a[d-f]:{V:[],M:new Map};h.V.push(u),dx.has(u)||fd.set(u,h)});for(let{V:u,M:d}of new Set(fd.values())){let f=[];for(let g of u){let m=jd.filter(p=>gm(p,g)),y=f.find(({G:p})=>m.some(v=>p.has(v)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(g),r(y.G,m)}let h=f.flatMap(g=>Rv(g.G));for(let{G:g,V:m}of f){let y=new Set(h.filter(p=>!g.has(p)));for(let p of m)d.set(p,y)}}gc=new Set;let l=new Set;const c=u=>gc.has(u)?l.add(u):gc.add(u);for(let u of jd){for(let d of u.P)c(d);for(let d of u.Q)c(d)}for(let u of gc)!fd.has(u)&&!l.has(u)&&fd.set(u,mU);r(gc,fU(gc)),zI=Ite(t).map(u=>Hte.from(u)).sort(Nte),j2=new Map;for(let u of zI){let d=[j2];for(let f of u){let h=d.map(g=>{let m=g.get(f);return m||(m=new Map,g.set(f,m)),m});f===pU?d.push(...h):d=h}for(let f of d)f.V=u}}function FT(t){return(vU(t)?"":`${OT(p1([t]))} `)+sU(t)}function OT(t){return`"${t}"`}function Wte(t){if(t.length>=4&&t[2]==UI&&t[3]==UI)throw new Error(`invalid label extension: "${gf(t.slice(0,4))}"`)}function Vte(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function $te(t){let e=t[0],n=BI.get(e);if(n)throw mp(`leading ${n}`);let r=t.length,i=-1;for(let o=1;o<r;o++){e=t[o];let s=BI.get(e);if(s){if(i==o)throw mp(`${n} + ${s}`);i=o+1,n=s}}if(i==r)throw mp(`trailing ${n}`)}function p1(t,e=1/0,n=sU){let r=[];qte(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let s=0;s<o;s++){let a=t[s];vU(a)&&(r.push(gf(t.slice(i,s))),r.push(n(a)),i=s+1)}return r.push(gf(t.slice(i,o))),r.join("")}function qte(t,e){return kT(),Bc.has(t)}function vU(t){return kT(),yU.has(t)}function Kte(t){return Jte(Qte(t,Gte,tne))}function Qte(t,e,n){if(!t)return[];kT();let r=0;return t.split(hU).map(i=>{let o=Pte(i),s={input:o,offset:r};r+=o.length+1;try{let a=s.tokens=ene(o,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=s.output=a.flat();if(Vte(u),!(s.emoji=l>1||a[0].is_emoji)&&u.every(f=>f<128))Wte(u),c="ASCII";else{let f=a.flatMap(h=>h.is_emoji?[]:h);if(!f.length)c="Emoji";else{if(Bc.has(u[0]))throw mp("leading combining mark");for(let m=1;m<l;m++){let y=a[m];if(!y.is_emoji&&Bc.has(y[0]))throw mp(`emoji + combining mark: "${gf(a[m-1])} + ${p1([y[0]])}"`)}$te(u);let h=Rv(new Set(f)),[g]=Yte(h);Zte(g,f),Xte(g,h),c=g.N}}s.type=c}catch(a){s.error=a}return s})}function Xte(t,e){let n,r=[];for(let i of e){let o=fd.get(i);if(o===mU)return;if(o){let s=o.M.get(i);if(n=n?n.filter(a=>s.has(a)):Rv(s),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(o=>gm(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function Yte(t){let e=jd;for(let n of t){let r=e.filter(i=>gm(i,n));if(!r.length)throw jd.some(i=>gm(i,n))?bU(e[0],n):wU(n);if(e=r,r.length==1)break}return e}function Jte(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${OT(p1(e,63))}: ${i}`)}return gf(r)}).join(hU)}function wU(t){return new Error(`disallowed character: ${FT(t)}`)}function bU(t,e){let n=FT(e),r=jd.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function mp(t){return new Error(`illegal placement: ${t}`)}function Zte(t,e){for(let n of e)if(!gm(t,n))throw bU(t,n);if(t.M){let n=fU(e);for(let r=1,i=n.length;r<i;r++)if(z2.has(n[r])){let o=r+1;for(let s;o<i&&z2.has(s=n[o]);o++)for(let a=r;a<o;a++)if(n[a]==s)throw new Error(`duplicate non-spacing marks: ${FT(s)}`);if(o-r>LI)throw new Error(`excessive non-spacing marks: ${OT(p1(n.slice(r-1,o)))} (${o-r}/${LI})`);r=o}}}function ene(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let o=nne(t);if(o)i.length&&(r.push(e(i)),i=[]),r.push(n(o));else{let s=t.pop();if(gc.has(s))i.push(s);else{let a=U2.get(s);if(a)i.push(...a);else if(!gU.has(s))throw wU(s)}}}return i.length&&r.push(e(i)),r}function tne(t){return t.filter(e=>e!=pU)}function nne(t,e){let n=j2,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:o}=n;o&&(r=o,t.length=i)}return r}function rne(t){return Kte(t)}function ine(t){return rne(t)}const one={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},sne={block:Bq({format(t){return{transactions:t.transactions?.map(n=>{if(typeof n=="string")return n;const r=Kw(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?Sr(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:t.stateRoot}}}),transaction:Fq({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?Sr(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:NX({format(t){return{l1GasPrice:t.l1GasPrice?Sr(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?Sr(t.l1GasUsed):null,l1Fee:t.l1Fee?Sr(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function ane(t,e){return une(t)?cne(t):SY(t,e)}const lne={transaction:ane};function cne(t){dne(t);const{sourceHash:e,data:n,from:r,gas:i,isSystemTx:o,mint:s,to:a,value:l}=t,c=[e,r,a??"0x",s?hi(s):"0x",l?hi(l):"0x",i?hi(i):"0x",o?"0x1":"0x",n??"0x"];return gs(["0x7e",Hl(c)])}function une(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function dne(t){const{from:e,to:n}=t;if(e&&!sr(e))throw new gi({address:e});if(n&&!sr(n))throw new gi({address:n})}const Pv={blockTime:2e3,contracts:one,formatters:sne,serializers:lne},BT=Nu({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),m1=Nu({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),Sh=1,g1=Nu({...Pv,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Pv.contracts,disputeGameFactory:{[Sh]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Sh]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Sh]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Sh]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Sh}),y1=Nu({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),ku=Nu({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Ch=1,LT=Nu({...Pv,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...Pv.contracts,disputeGameFactory:{[Ch]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Ch]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Ch]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Ch]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Ch}),v1=Nu({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}});var G2=function(t,e){return G2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},G2(t,e)};function xU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");G2(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var To=function(){return To=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},To.apply(this,arguments)};function w1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function EU(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function AU(t,e){return function(n,r){e(n,r,t)}}function fne(t,e,n,r,i,o){function s(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,f=!1,h=n.length-1;h>=0;h--){var g={};for(var m in r)g[m]=m==="access"?{}:r[m];for(var m in r.access)g.access[m]=r.access[m];g.addInitializer=function(p){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(p||null))};var y=(0,n[h])(a==="accessor"?{get:u.get,set:u.set}:u[l],g);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(d=s(y.get))&&(u.get=d),(d=s(y.set))&&(u.set=d),(d=s(y.init))&&i.unshift(d)}else(d=s(y))&&(a==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),f=!0}function hne(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function pne(t){return typeof t=="symbol"?t:"".concat(t)}function mne(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function _U(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function SU(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function CU(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var b1=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function TU(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&b1(e,t,n)}function Nv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function DT(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function MU(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(DT(arguments[e]));return t}function IU(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function UT(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function vf(t){return this instanceof vf?(this.v=t,this):new vf(t)}function RU(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(g){return Promise.resolve(g).then(h,d)}}function a(h,g){r[h]&&(i[h]=function(m){return new Promise(function(y,p){o.push([h,m,y,p])>1||l(h,m)})},g&&(i[h]=g(i[h])))}function l(h,g){try{c(r[h](g))}catch(m){f(o[0][3],m)}}function c(h){h.value instanceof vf?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,g){h(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function PU(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(s){return(n=!n)?{value:vf(t[i](s)),done:!1}:o?o(s):s}:o}}function NU(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Nv=="function"?Nv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function kU(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var gne=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function FU(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&b1(e,t,n);return gne(e,t),e}function OU(t){return t&&t.__esModule?t:{default:t}}function BU(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function LU(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function DU(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function UU(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var yne=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function zU(t){function e(o){t.error=t.hasError?new yne(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(s){return e(s),i()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}const vne={__extends:xU,__assign:To,__rest:w1,__decorate:EU,__param:AU,__metadata:_U,__awaiter:SU,__generator:CU,__createBinding:b1,__exportStar:TU,__values:Nv,__read:DT,__spread:MU,__spreadArrays:IU,__spreadArray:UT,__await:vf,__asyncGenerator:RU,__asyncDelegator:PU,__asyncValues:NU,__makeTemplateObject:kU,__importStar:FU,__importDefault:OU,__classPrivateFieldGet:BU,__classPrivateFieldSet:LU,__classPrivateFieldIn:DU,__addDisposableResource:UU,__disposeResources:zU},w_e=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:UU,get __assign(){return To},__asyncDelegator:PU,__asyncGenerator:RU,__asyncValues:NU,__await:vf,__awaiter:SU,__classPrivateFieldGet:BU,__classPrivateFieldIn:DU,__classPrivateFieldSet:LU,__createBinding:b1,__decorate:EU,__disposeResources:zU,__esDecorate:fne,__exportStar:TU,__extends:xU,__generator:CU,__importDefault:OU,__importStar:FU,__makeTemplateObject:kU,__metadata:_U,__param:AU,__propKey:pne,__read:DT,__rest:w1,__runInitializers:hne,__setFunctionName:mne,__spread:MU,__spreadArray:UT,__spreadArrays:IU,__values:Nv,default:vne},Symbol.toStringTag,{value:"Module"}));var wy="right-scroll-bar-position",by="width-before-scroll-bar",wne="with-scroll-bars-hidden",bne="--removed-body-scroll-bar-size";function fx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function xne(t,e){var n=U.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Ene=typeof window<"u"?U.useLayoutEffect:U.useEffect,jI=new WeakMap;function Ane(t,e){var n=xne(null,function(r){return t.forEach(function(i){return fx(i,r)})});return Ene(function(){var r=jI.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||fx(a,null)}),o.forEach(function(a){i.has(a)||fx(a,s)})}jI.set(n,t)},[t]),n}function _ne(t){return t}function Sne(t,e){e===void 0&&(e=_ne);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function Cne(t){t===void 0&&(t={});var e=Sne(null);return e.options=To({async:!0,ssr:!1},t),e}var jU=function(t){var e=t.sideCar,n=w1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return U.createElement(r,To({},n))};jU.isSideCarExport=!0;function Tne(t,e){return t.useMedium(e),jU}var GU=Cne(),hx=function(){},x1=U.forwardRef(function(t,e){var n=U.useRef(null),r=U.useState({onScrollCapture:hx,onWheelCapture:hx,onTouchMoveCapture:hx}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,g=t.inert,m=t.allowPinchZoom,y=t.as,p=y===void 0?"div":y,v=t.gapMode,w=w1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,T=Ane([n,e]),k=To(To({},w),i);return U.createElement(U.Fragment,null,u&&U.createElement(x,{sideCar:GU,removeScrollBar:c,shards:d,noIsolation:h,inert:g,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:v}),s?U.cloneElement(U.Children.only(a),To(To({},k),{ref:T})):U.createElement(p,To({},k,{className:l,ref:T}),a))});x1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};x1.classNames={fullWidth:by,zeroRight:wy};var Mne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ine(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Mne();return e&&t.setAttribute("nonce",e),t}function Rne(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Pne(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Nne=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Ine())&&(Rne(e,n),Pne(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},kne=function(){var t=Nne();return function(e,n){U.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},HU=function(){var t=kne(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Fne={left:0,top:0,right:0,gap:0},px=function(t){return parseInt(t||"",10)||0},One=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[px(n),px(r),px(i)]},Bne=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Fne;var e=One(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Lne=HU(),Gd="data-scroll-locked",Dne=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(wne,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Gd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wy,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(by,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wy," .").concat(wy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(by," .").concat(by,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Gd,`] {
    `).concat(bne,": ").concat(a,`px;
  }
`)},GI=function(){var t=parseInt(document.body.getAttribute(Gd)||"0",10);return isFinite(t)?t:0},Une=function(){U.useEffect(function(){return document.body.setAttribute(Gd,(GI()+1).toString()),function(){var t=GI()-1;t<=0?document.body.removeAttribute(Gd):document.body.setAttribute(Gd,t.toString())}},[])},zne=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Une();var o=U.useMemo(function(){return Bne(i)},[i]);return U.createElement(Lne,{styles:Dne(o,!e,i,n?"":"!important")})},H2=!1;if(typeof window<"u")try{var Z0=Object.defineProperty({},"passive",{get:function(){return H2=!0,!0}});window.addEventListener("test",Z0,Z0),window.removeEventListener("test",Z0,Z0)}catch{H2=!1}var Vu=H2?{passive:!1}:!1,jne=function(t){return t.tagName==="TEXTAREA"},WU=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!jne(t)&&n[e]==="visible")},Gne=function(t){return WU(t,"overflowY")},Hne=function(t){return WU(t,"overflowX")},HI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=VU(t,r);if(i){var o=$U(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Wne=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Vne=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},VU=function(t,e){return t==="v"?Gne(e):Hne(e)},$U=function(t,e){return t==="v"?Wne(e):Vne(e)},$ne=function(t,e){return t==="h"&&e==="rtl"?-1:1},qne=function(t,e,n,r,i){var o=$ne(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,d=0,f=0;do{var h=$U(t,a),g=h[0],m=h[1],y=h[2],p=m-y-o*g;(g||p)&&VU(t,a)&&(d+=p,f+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},eg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},WI=function(t){return[t.deltaX,t.deltaY]},VI=function(t){return t&&"current"in t?t.current:t},Kne=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Qne=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Xne=0,$u=[];function Yne(t){var e=U.useRef([]),n=U.useRef([0,0]),r=U.useRef(),i=U.useState(Xne++)[0],o=U.useState(HU)[0],s=U.useRef(t);U.useEffect(function(){s.current=t},[t]),U.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=UT([t.lockRef.current],(t.shards||[]).map(VI),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=U.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var p=eg(m),v=n.current,w="deltaX"in m?m.deltaX:v[0]-p[0],x="deltaY"in m?m.deltaY:v[1]-p[1],T,k=m.target,A=Math.abs(w)>Math.abs(x)?"h":"v";if("touches"in m&&A==="h"&&k.type==="range")return!1;var z=HI(A,k);if(!z)return!0;if(z?T=A:(T=A==="v"?"h":"v",z=HI(A,k)),!z)return!1;if(!r.current&&"changedTouches"in m&&(w||x)&&(r.current=T),!T)return!0;var S=r.current||T;return qne(S,y,m,S==="h"?w:x)},[]),l=U.useCallback(function(m){var y=m;if(!(!$u.length||$u[$u.length-1]!==o)){var p="deltaY"in y?WI(y):eg(y),v=e.current.filter(function(T){return T.name===y.type&&(T.target===y.target||y.target===T.shadowParent)&&Kne(T.delta,p)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var w=(s.current.shards||[]).map(VI).filter(Boolean).filter(function(T){return T.contains(y.target)}),x=w.length>0?a(y,w[0]):!s.current.noIsolation;x&&y.cancelable&&y.preventDefault()}}},[]),c=U.useCallback(function(m,y,p,v){var w={name:m,delta:y,target:p,should:v,shadowParent:Jne(p)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(x){return x!==w})},1)},[]),u=U.useCallback(function(m){n.current=eg(m),r.current=void 0},[]),d=U.useCallback(function(m){c(m.type,WI(m),m.target,a(m,t.lockRef.current))},[]),f=U.useCallback(function(m){c(m.type,eg(m),m.target,a(m,t.lockRef.current))},[]);U.useEffect(function(){return $u.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Vu),document.addEventListener("touchmove",l,Vu),document.addEventListener("touchstart",u,Vu),function(){$u=$u.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,Vu),document.removeEventListener("touchmove",l,Vu),document.removeEventListener("touchstart",u,Vu)}},[]);var h=t.removeScrollBar,g=t.inert;return U.createElement(U.Fragment,null,g?U.createElement(o,{styles:Qne(i)}):null,h?U.createElement(zne,{gapMode:t.gapMode}):null)}function Jne(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Zne=Tne(GU,Yne);var qU=U.forwardRef(function(t,e){return U.createElement(x1,To({},t,{ref:e,sideCar:Zne}))});qU.classNames=x1.classNames;function $I(t){var e=t.match(/^var\((.*)\)$/);return e?e[1]:t}function ere(t,e){var n=t;for(var r of e){if(!(r in n))throw new Error("Path ".concat(e.join(" -> ")," does not exist in object"));n=n[r]}return n}function KU(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r={};for(var i in t){var o=t[i],s=[...n,i];typeof o=="string"||typeof o=="number"||o==null?r[i]=e(o,s):typeof o=="object"&&!Array.isArray(o)?r[i]=KU(o,e,s):console.warn('Skipping invalid key "'.concat(s.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(o)?"Array":typeof o,'"'))}return r}function qI(t,e){var n={};if(typeof e=="object"){var r=t;KU(e,(a,l)=>{if(a!=null){var c=ere(r,l);n[$I(c)]=String(a)}})}else{var i=t;for(var o in i){var s=i[o];s!=null&&(n[$I(o)]=s)}}return Object.defineProperty(n,"toString",{value:function(){return Object.keys(this).map(l=>"".concat(l,":").concat(this[l])).join(";")},writable:!1}),n}var W2={exports:{}};(function(t,e){(function(n,r){var i="1.0.40",o="",s="?",a="function",l="undefined",c="object",u="string",d="major",f="model",h="name",g="type",m="vendor",y="version",p="architecture",v="console",w="mobile",x="tablet",T="smarttv",k="wearable",A="embedded",z=500,S="Amazon",N="Apple",P="ASUS",W="BlackBerry",B="Browser",b="Chrome",E="Edge",I="Firefox",O="Google",C="Huawei",j="LG",H="Microsoft",D="Motorola",M="Opera",$="Samsung",J="Sharp",Z="Sony",ce="Xiaomi",oe="Zebra",Ae="Facebook",de="Chromium OS",Re="Mac OS",ae=" Browser",we=function(ge,G){var _={};for(var R in ge)G[R]&&G[R].length%2===0?_[R]=G[R].concat(ge[R]):_[R]=ge[R];return _},Ve=function(ge){for(var G={},_=0;_<ge.length;_++)G[ge[_].toUpperCase()]=ge[_];return G},te=function(ge,G){return typeof ge===u?Be(G).indexOf(Be(ge))!==-1:!1},Be=function(ge){return ge.toLowerCase()},ft=function(ge){return typeof ge===u?ge.replace(/[^\d\.]/g,o).split(".")[0]:r},ut=function(ge,G){if(typeof ge===u)return ge=ge.replace(/^\s\s*/,o),typeof G===l?ge:ge.substring(0,z)},Je=function(ge,G){for(var _=0,R,Q,Y,ee,ne,Ue;_<G.length&&!ne;){var ke=G[_],qe=G[_+1];for(R=Q=0;R<ke.length&&!ne&&ke[R];)if(ne=ke[R++].exec(ge),ne)for(Y=0;Y<qe.length;Y++)Ue=ne[++Q],ee=qe[Y],typeof ee===c&&ee.length>0?ee.length===2?typeof ee[1]==a?this[ee[0]]=ee[1].call(this,Ue):this[ee[0]]=ee[1]:ee.length===3?typeof ee[1]===a&&!(ee[1].exec&&ee[1].test)?this[ee[0]]=Ue?ee[1].call(this,Ue,ee[2]):r:this[ee[0]]=Ue?Ue.replace(ee[1],ee[2]):r:ee.length===4&&(this[ee[0]]=Ue?ee[3].call(this,Ue.replace(ee[1],ee[2])):r):this[ee]=Ue||r;_+=2}},kt=function(ge,G){for(var _ in G)if(typeof G[_]===c&&G[_].length>0){for(var R=0;R<G[_].length;R++)if(te(G[_][R],ge))return _===s?r:_}else if(te(G[_],ge))return _===s?r:_;return G.hasOwnProperty("*")?G["*"]:ge},ot={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},V={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,y],[/opios[\/ ]+([\w\.]+)/i],[y,[h,M+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[h,M+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[h,M]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[h,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[h,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[h,"UC"+B]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[h,"Smart Lenovo "+B]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+B],y],[/\bfocus\/([\w\.]+)/i],[y,[h,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[h,M+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[h,M+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[h,"MIUI"+ae]],[/fxios\/([\w\.-]+)/i],[y,[h,I]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[h,"360"]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+ae],y],[/samsungbrowser\/([\w\.]+)/i],[y,[h,$+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[h,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,Ae],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[h,b+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,b+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[h,"Android "+B]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[y,kt,ot]],[/(webkit|khtml)\/([\w\.]+)/i],[h,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[h,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[h,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,Be]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,o,Be]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,Be]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[m,$],[g,x]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[m,$],[g,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[m,N],[g,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[m,N],[g,x]],[/(macintosh);/i],[f,[m,N]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[m,J],[g,w]],[/(?:honor)([-\w ]+)[;\)]/i],[f,[m,"Honor"],[g,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[m,C],[g,x]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[m,C],[g,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[m,ce],[g,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[m,ce],[g,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[m,"OPPO"],[g,w]],[/\b(opd2\d{3}a?) bui/i],[f,[m,"OPPO"],[g,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[m,"Vivo"],[g,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[m,"Realme"],[g,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[m,D],[g,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[m,D],[g,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[m,j],[g,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[m,j],[g,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[m,"Lenovo"],[g,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[m,"Nokia"],[g,w]],[/(pixel c)\b/i],[f,[m,O],[g,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[m,O],[g,w]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[m,Z],[g,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[m,Z],[g,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[m,"OnePlus"],[g,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[m,S],[g,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[m,S],[g,w]],[/(playbook);[-\w\),; ]+(rim)/i],[f,m,[g,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[m,W],[g,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[m,P],[g,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[m,P],[g,w]],[/(nexus 9)/i],[f,[m,"HTC"],[g,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[f,/_/g," "],[g,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[m,"TCL"],[g,x]],[/(itel) ((\w+))/i],[[m,Be],f,[g,kt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[m,"Acer"],[g,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[m,"Meizu"],[g,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[m,"Ulefone"],[g,w]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[m,"Energizer"],[g,w]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[m,"Cat"],[g,w]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[m,"Smartfren"],[g,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[m,"Nothing"],[g,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,f,[g,w]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,f,[g,x]],[/(surface duo)/i],[f,[m,H],[g,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[m,"Fairphone"],[g,w]],[/(u304aa)/i],[f,[m,"AT&T"],[g,w]],[/\bsie-(\w*)/i],[f,[m,"Siemens"],[g,w]],[/\b(rct\w+) b/i],[f,[m,"RCA"],[g,x]],[/\b(venue[\d ]{2,7}) b/i],[f,[m,"Dell"],[g,x]],[/\b(q(?:mv|ta)\w+) b/i],[f,[m,"Verizon"],[g,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[m,"Barnes & Noble"],[g,x]],[/\b(tm\d{3}\w+) b/i],[f,[m,"NuVision"],[g,x]],[/\b(k88) b/i],[f,[m,"ZTE"],[g,x]],[/\b(nx\d{3}j) b/i],[f,[m,"ZTE"],[g,w]],[/\b(gen\d{3}) b.+49h/i],[f,[m,"Swiss"],[g,w]],[/\b(zur\d{3}) b/i],[f,[m,"Swiss"],[g,x]],[/\b((zeki)?tb.*\b) b/i],[f,[m,"Zeki"],[g,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],f,[g,x]],[/\b(ns-?\w{0,9}) b/i],[f,[m,"Insignia"],[g,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[m,"NextBook"],[g,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],f,[g,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],f,[g,w]],[/\b(ph-1) /i],[f,[m,"Essential"],[g,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[m,"Envizen"],[g,x]],[/\b(trio[-\w\. ]+) b/i],[f,[m,"MachSpeed"],[g,x]],[/\btu_(1491) b/i],[f,[m,"Rotor"],[g,x]],[/(shield[\w ]+) b/i],[f,[m,"Nvidia"],[g,x]],[/(sprint) (\w+)/i],[m,f,[g,w]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[m,H],[g,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[m,oe],[g,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[m,oe],[g,w]],[/smart-tv.+(samsung)/i],[m,[g,T]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[m,$],[g,T]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,j],[g,T]],[/(apple) ?tv/i],[m,[f,N+" TV"],[g,T]],[/crkey/i],[[f,b+"cast"],[m,O],[g,T]],[/droid.+aft(\w+)( bui|\))/i],[f,[m,S],[g,T]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[m,J],[g,T]],[/(bravia[\w ]+)( bui|\))/i],[f,[m,Z],[g,T]],[/(mitv-\w{5}) bui/i],[f,[m,ce],[g,T]],[/Hbbtv.*(technisat) (.*);/i],[m,f,[g,T]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,ut],[f,ut],[g,T]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,T]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,f,[g,v]],[/droid.+; (shield) bui/i],[f,[m,"Nvidia"],[g,v]],[/(playstation [345portablevi]+)/i],[f,[m,Z],[g,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[m,H],[g,v]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[m,$],[g,k]],[/((pebble))app/i],[m,f,[g,k]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[m,N],[g,k]],[/droid.+; (glass) \d/i],[f,[m,O],[g,k]],[/droid.+; (wt63?0{2,3})\)/i],[f,[m,oe],[g,k]],[/droid.+; (glass) \d/i],[f,[m,O],[g,k]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,f,[g,k]],[/; (quest( \d| pro)?)/i],[f,[m,Ae],[g,k]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[g,A]],[/(aeobc)\b/i],[f,[m,S],[g,A]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[g,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[g,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,w]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[h,E+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[h,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,y],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[y,kt,X]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,kt,X],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,Re],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,y],[/\(bb(10);/i],[y,[h,W]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[h,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[h,b+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,de],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,y],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,y]]},fe=function(ge,G){if(typeof ge===c&&(G=ge,ge=r),!(this instanceof fe))return new fe(ge,G).getResult();var _=typeof n!==l&&n.navigator?n.navigator:r,R=ge||(_&&_.userAgent?_.userAgent:o),Q=_&&_.userAgentData?_.userAgentData:r,Y=G?we(V,G):V,ee=_&&_.userAgent==R;return this.getBrowser=function(){var ne={};return ne[h]=r,ne[y]=r,Je.call(ne,R,Y.browser),ne[d]=ft(ne[y]),ee&&_&&_.brave&&typeof _.brave.isBrave==a&&(ne[h]="Brave"),ne},this.getCPU=function(){var ne={};return ne[p]=r,Je.call(ne,R,Y.cpu),ne},this.getDevice=function(){var ne={};return ne[m]=r,ne[f]=r,ne[g]=r,Je.call(ne,R,Y.device),ee&&!ne[g]&&Q&&Q.mobile&&(ne[g]=w),ee&&ne[f]=="Macintosh"&&_&&typeof _.standalone!==l&&_.maxTouchPoints&&_.maxTouchPoints>2&&(ne[f]="iPad",ne[g]=x),ne},this.getEngine=function(){var ne={};return ne[h]=r,ne[y]=r,Je.call(ne,R,Y.engine),ne},this.getOS=function(){var ne={};return ne[h]=r,ne[y]=r,Je.call(ne,R,Y.os),ee&&!ne[h]&&Q&&Q.platform&&Q.platform!="Unknown"&&(ne[h]=Q.platform.replace(/chrome os/i,de).replace(/macos/i,Re)),ne},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return R},this.setUA=function(ne){return R=typeof ne===u&&ne.length>z?ut(ne,z):ne,this},this.setUA(R),this};fe.VERSION=i,fe.BROWSER=Ve([h,y,d]),fe.CPU=Ve([p]),fe.DEVICE=Ve([f,m,g,v,w,T,x,k,A]),fe.ENGINE=fe.OS=Ve([h,y]),t.exports&&(e=t.exports=fe),e.UAParser=fe;var _e=typeof n!==l&&(n.jQuery||n.Zepto);if(_e&&!_e.ua){var Ie=new fe;_e.ua=Ie.getResult(),_e.ua.get=function(){return Ie.getUA()},_e.ua.set=function(ge){Ie.setUA(ge);var G=Ie.getResult();for(var _ in G)_e.ua[_]=G[_]}}})(typeof window=="object"?window:rF)})(W2,W2.exports);var tre=W2.exports;/*!
Copyright (c) 2023 Paul Miller (paulmillr.com)
The library paulmillr-qr is dual-licensed under the Apache 2.0 OR MIT license.
You can select a license of your choice.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const Th={newline:10,reset:27};function nre(t){if(!Number.isSafeInteger(t))throw new Error(`integer expected: ${t}`)}function rre(t){if(!Number.isSafeInteger(t)||t<1||t>40)throw new Error(`Invalid version=${t}. Expected number [1..40]`)}function oc(t,e){return t.toString(2).padStart(e,"0")}function KI(t,e){const n=t%e;return n>=0?n:e+n}function Yi(t,e){return new Array(t).fill(e)}function QI(...t){let e=0;for(const r of t)e=Math.max(e,r.length);const n=[];for(let r=0;r<e;r++)for(const i of t)r>=i.length||n.push(i[r]);return new Uint8Array(n)}function XI(t,e,n){if(n<0||n+e.length>t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[n+r])return!1;return!0}function ire(){let t,e=1/0;return{add(n,r){n>=e||(t=r,e=n)},get:()=>t,score:()=>e}}function YI(t){return{has:e=>t.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r})},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(nre(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})}}}class Qi{static size(e,n){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: invalid height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: invalid width=${e.width} (${typeof e.width})`);return n!==void 0&&(e={width:Math.min(e.width,n.width),height:Math.min(e.height,n.height)}),e}static fromString(e){e=e.replace(/^\n+/g,"").replace(/\n+$/g,"");const n=e.split(String.fromCharCode(Th.newline)),r=n.length,i=new Array(r);let o;for(const s of n){const a=s.split("").map(l=>{if(l==="X")return!0;if(l===" ")return!1;if(l!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${l}`)});if(o&&a.length!==o)throw new Error(`Bitmap.fromString different row sizes: width=${o} cur=${a.length}`);o=a.length,i.push(a)}return o||(o=0),new Qi({height:r,width:o},i)}data;height;width;constructor(e,n){const{height:r,width:i}=Qi.size(e);this.data=n||Array.from({length:r},()=>Yi(i,void 0)),this.height=r,this.width=i}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:n,y:r}=this.xy(e);return{height:this.height-r,width:this.width-n}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: invalid x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: invalid y=${e.y}`);return e.x=KI(e.x,this.width),e.y=KI(e.y,this.height),e}rect(e,n,r){const{x:i,y:o}=this.xy(e),{height:s,width:a}=Qi.size(n,this.size({x:i,y:o}));for(let l=0;l<s;l++)for(let c=0;c<a;c++)this.data[o+l][i+c]=typeof r=="function"?r({x:c,y:l},this.data[o+l][i+c]):r;return this}rectRead(e,n,r){return this.rect(e,n,(i,o)=>(r(i,o),o))}hLine(e,n,r){return this.rect(e,{width:n,height:1},r)}vLine(e,n,r){return this.rect(e,{width:1,height:n},r)}border(e=2,n){const r=this.height+2*e,i=this.width+2*e,o=Yi(e,n),s=Array.from({length:e},()=>Yi(i,n));return new Qi({height:r,width:i},[...s,...this.data.map(a=>[...o,...a,...o]),...s])}embed(e,n){return this.rect(e,n.size(),({x:r,y:i})=>n.data[i][r])}rectSlice(e,n=this.size()){const r=new Qi(Qi.size(n,this.size(this.xy(e))));return this.rect(e,n,({x:i,y:o},s)=>r.data[o][i]=s),r}inverse(){const{height:e,width:n}=this;return new Qi({height:n,width:e}).rect({x:0,y:0},1/0,({x:i,y:o})=>this.data[i][o])}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`invalid scale factor: ${e}`);const{height:n,width:r}=this;return new Qi({height:e*n,width:e*r}).rect({x:0,y:0},1/0,({x:o,y:s})=>this.data[Math.floor(s/e)][Math.floor(o/e)])}clone(){return new Qi(this.size()).rect({x:0,y:0},this.size(),({x:n,y:r})=>this.data[r][n])}assertDrawn(){this.rectRead(0,1/0,(e,n)=>{if(typeof n!="boolean")throw new Error(`Invalid color type=${typeof n}`)})}toString(){return this.data.map(e=>e.map(n=>n===void 0?"?":n?"X":" ").join("")).join(String.fromCharCode(Th.newline))}toASCII(){const{height:e,width:n,data:r}=this;let i="";for(let o=0;o<e;o+=2){for(let s=0;s<n;s++){const a=r[o][s],l=o+1>=e?!0:r[o+1][s];!a&&!l?i+="":!a&&l?i+="":a&&!l?i+="":a&&l&&(i+=" ")}i+=String.fromCharCode(Th.newline)}return i}toTerm(){const e=String.fromCharCode(Th.reset),n=e+"[0m",r=e+"[1;47m  "+n,i=e+"[40m  "+n;return this.data.map(o=>o.map(s=>s?i:r).join("")).join(String.fromCharCode(Th.newline))}toSVG(e=!0){let n=`<svg viewBox="0 0 ${this.width} ${this.height}" xmlns="http://www.w3.org/2000/svg">`,r="",i;return this.rectRead(0,1/0,(o,s)=>{if(!s)return;const{x:a,y:l}=o;if(!e){n+=`<rect x="${a}" y="${l}" width="1" height="1" />`;return}let c=`M${a} ${l}`;if(i){const d=`m${a-i.x} ${l-i.y}`;d.length<=c.length&&(c=d)}const u=a<10?`H${a}`:"h-1";r+=`${c}h1v1${u}Z`,i=o}),e&&(n+=`<path d="${r}"/>`),n+="</svg>",n}toGIF(){const e=a=>[a&255,a>>>8&255],n=[...e(this.width),...e(this.height)],r=[];this.rectRead(0,1/0,(a,l)=>r.push(+(l===!0)));const i=126,o=[71,73,70,56,55,97,...n,246,0,0,255,255,255,...Yi(3*127,0),44,0,0,0,0,...n,0,7],s=Math.floor(r.length/i);for(let a=0;a<s;a++)o.push(i+1,128,...r.slice(i*a,i*(a+1)).map(l=>+l));return o.push(r.length%i+1,128,...r.slice(s*i).map(a=>+a)),o.push(1,129,0,59),new Uint8Array(o)}toImage(e=!1){const{height:n,width:r}=this.size(),i=new Uint8Array(n*r*(e?3:4));let o=0;for(let s=0;s<n;s++)for(let a=0;a<r;a++){const l=this.data[s][a]?0:255;i[o++]=l,i[o++]=l,i[o++]=l,e||(i[o++]=255)}return{height:n,width:r,data:i}}}const JI=["low","medium","quartile","high"],ZI=["numeric","alphanumeric","byte","kanji","eci"],ore=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],sre={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},are={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Xr={size:{encode:t=>21+4*(t-1),decode:t=>(t-17)/4},sizeType:t=>Math.floor((t+7)/17),alignmentPatterns(t){if(t===1)return[];const e=6,n=Xr.size.encode(t)-e-1,r=n-e,i=Math.ceil(r/28);let o=Math.floor(r/i);o%2?o+=1:r%i*2>=i&&(o+=2);const s=[e];for(let a=1;a<i;a++)s.push(n-(i-a)*o);return s.push(n),s},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(t,e){const n=Xr.ECCode[t]<<3|e;let r=n;for(let i=0;i<10;i++)r=r<<1^(r>>9)*1335;return(n<<10|r)^Xr.formatMask},versionBits(t){let e=t;for(let n=0;n<12;n++)e=e<<1^(e>>11)*7973;return t<<12|e},alphabet:{numeric:YI("0123456789"),alphanumerc:YI("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits(t,e){return{numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]}[e][Xr.sizeType(t)]},modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(t,e){const n=ore[t-1],r=sre[e][t-1],i=are[e][t-1],o=Math.floor(n/i)-r,s=i-n%i;return{words:r,numBlocks:i,shortBlocks:s,blockLen:o,capacity:(n-r*i)*8,total:(r+o)*i+i-s}}},zT=[(t,e)=>(t+e)%2==0,(t,e)=>e%2==0,(t,e)=>t%3==0,(t,e)=>(t+e)%3==0,(t,e)=>(Math.floor(e/2)+Math.floor(t/3))%2==0,(t,e)=>t*e%2+t*e%3==0,(t,e)=>(t*e%2+t*e%3)%2==0,(t,e)=>((t+e)%2+t*e%3)%2==0],vt={tables:(t=>{const e=Yi(256,0),n=Yi(256,0);for(let r=0,i=1;r<256;r++)e[r]=i,n[i]=r,i<<=1,i&256&&(i^=t);return{exp:e,log:n}})(285),exp:t=>vt.tables.exp[t],log(t){if(t===0)throw new Error(`GF.log: invalid arg=${t}`);return vt.tables.log[t]%255},mul(t,e){return t===0||e===0?0:vt.tables.exp[(vt.tables.log[t]+vt.tables.log[e])%255]},add:(t,e)=>t^e,pow:(t,e)=>vt.tables.exp[vt.tables.log[t]*e%255],inv(t){if(t===0)throw new Error(`GF.inverse: invalid arg=${t}`);return vt.tables.exp[255-vt.tables.log[t]]},polynomial(t){if(t.length==0)throw new Error("GF.polymomial: invalid length");if(t[0]!==0)return t;let e=0;for(;e<t.length-1&&t[e]==0;e++);return t.slice(e)},monomial(t,e){if(t<0)throw new Error(`GF.monomial: invalid degree=${t}`);if(e==0)return[0];let n=Yi(t+1,0);return n[0]=e,vt.polynomial(n)},degree:t=>t.length-1,coefficient:(t,e)=>t[vt.degree(t)-e],mulPoly(t,e){if(t[0]===0||e[0]===0)return[0];const n=Yi(t.length+e.length-1,0);for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++)n[r+i]=vt.add(n[r+i],vt.mul(t[r],e[i]));return vt.polynomial(n)},mulPolyScalar(t,e){if(e==0)return[0];if(e==1)return t;const n=Yi(t.length,0);for(let r=0;r<t.length;r++)n[r]=vt.mul(t[r],e);return vt.polynomial(n)},mulPolyMonomial(t,e,n){if(e<0)throw new Error("GF.mulPolyMonomial: invalid degree");if(n==0)return[0];const r=Yi(t.length+e,0);for(let i=0;i<t.length;i++)r[i]=vt.mul(t[i],n);return vt.polynomial(r)},addPoly(t,e){if(t[0]===0)return e;if(e[0]===0)return t;let n=t,r=e;n.length>r.length&&([n,r]=[r,n]);let i=Yi(r.length,0),o=r.length-n.length,s=r.slice(0,o);for(let a=0;a<s.length;a++)i[a]=s[a];for(let a=o;a<r.length;a++)i[a]=vt.add(n[a-o],r[a]);return vt.polynomial(i)},remainderPoly(t,e){const n=Array.from(t);for(let r=0;r<t.length-e.length+1;r++){const i=n[r];if(i!==0)for(let o=1;o<e.length;o++)e[o]!==0&&(n[r+o]=vt.add(n[r+o],vt.mul(e[o],i)))}return n.slice(t.length-e.length+1,n.length)},divisorPoly(t){let e=[1];for(let n=0;n<t;n++)e=vt.mulPoly(e,[1,vt.pow(2,n)]);return e},evalPoly(t,e){if(e==0)return vt.coefficient(t,0);let n=t[0];for(let r=1;r<t.length;r++)n=vt.add(vt.mul(e,n),t[r]);return n},euclidian(t,e,n){vt.degree(t)<vt.degree(e)&&([t,e]=[e,t]);let r=t,i=e,o=[0],s=[1];for(;2*vt.degree(i)>=n;){let c=r,u=o;if(r=i,o=s,r[0]===0)throw new Error("rLast[0] === 0");i=c;let d=[0];const f=vt.inv(r[0]);for(;vt.degree(i)>=vt.degree(r)&&i[0]!==0;){const h=vt.degree(i)-vt.degree(r),g=vt.mul(i[0],f);d=vt.addPoly(d,vt.monomial(h,g)),i=vt.addPoly(i,vt.mulPolyMonomial(r,h,g))}if(d=vt.mulPoly(d,o),s=vt.addPoly(d,u),vt.degree(i)>=vt.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}const a=vt.coefficient(s,0);if(a==0)throw new Error("sigmaTilde(0) was zero");const l=vt.inv(a);return[vt.mulPolyScalar(s,l),vt.mulPolyScalar(i,l)]}};function lre(t){return{encode(e){const n=vt.divisorPoly(t),r=Array.from(e);return r.push(...n.slice(0,-1).fill(0)),Uint8Array.from(vt.remainderPoly(r,n))},decode(e){const n=e.slice(),r=vt.polynomial(Array.from(e));let i=Yi(t,0),o=!1;for(let d=0;d<t;d++){const f=vt.evalPoly(r,vt.exp(d));i[i.length-1-d]=f,f!==0&&(o=!0)}if(!o)return n;i=vt.polynomial(i);const s=vt.monomial(t,1),[a,l]=vt.euclidian(s,i,t),c=Yi(vt.degree(a),0);let u=0;for(let d=1;d<256&&u<c.length;d++)vt.evalPoly(a,d)===0&&(c[u++]=vt.inv(d));if(u!==c.length)throw new Error("RS.decode: invalid errors number");for(let d=0;d<c.length;d++){const f=n.length-1-vt.log(c[d]);if(f<0)throw new Error("RS.decode: invalid error location");const h=vt.inv(c[d]);let g=1;for(let m=0;m<c.length;m++)d!==m&&(g=vt.mul(g,vt.add(1,vt.mul(c[m],h))));n[f]=vt.add(n[f],vt.mul(vt.evalPoly(l,h),vt.inv(g)))}return n}}}function cre(t,e){const{words:n,shortBlocks:r,numBlocks:i,blockLen:o,total:s}=Xr.capacity(t,e),a=lre(n);return{encode(l){const c=[],u=[];for(let g=0;g<i;g++){const m=g<r,y=o+(m?0:1);c.push(l.subarray(0,y)),u.push(a.encode(l.subarray(0,y))),l=l.subarray(y)}const d=QI(...c),f=QI(...u),h=new Uint8Array(d.length+f.length);return h.set(d),h.set(f,d.length),h},decode(l){if(l.length!==s)throw new Error(`interleave.decode: len(data)=${l.length}, total=${s}`);const c=[];for(let f=0;f<i;f++){const h=f<r;c.push(new Uint8Array(n+o+(h?0:1)))}let u=0;for(let f=0;f<o;f++)for(let h=0;h<i;h++)c[h][f]=l[u++];for(let f=r;f<i;f++)c[f][o]=l[u++];for(let f=o;f<o+n;f++)for(let h=0;h<i;h++){const g=h<r;c[h][f+(g?0:1)]=l[u++]}const d=[];for(const f of c)d.push(...Array.from(a.decode(f)).slice(0,-n));return Uint8Array.from(d)}}}function ure(t,e,n,r=!1){const i=Xr.size.encode(t);let o=new Qi(i+2);const s=new Qi(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);o=o.embed(0,s).embed({x:-s.width,y:0},s).embed({x:0,y:-s.height},s),o=o.rectSlice(1,i);const a=new Qi(1).rect(0,1,!0).border(1,!1).border(1,!0),l=Xr.alignmentPatterns(t);for(const c of l)for(const u of l)o.data[c][u]===void 0&&o.embed({x:u-2,y:c-2},a);o=o.hLine({x:0,y:6},1/0,({x:c},u)=>u===void 0?c%2==0:u).vLine({x:6,y:0},1/0,({y:c},u)=>u===void 0?c%2==0:u);{const c=Xr.formatBits(e,n),u=d=>!r&&(c>>d&1)==1;for(let d=0;d<6;d++)o.data[d][8]=u(d);for(let d=6;d<8;d++)o.data[d+1][8]=u(d);for(let d=8;d<15;d++)o.data[i-15+d][8]=u(d);for(let d=0;d<8;d++)o.data[8][i-d-1]=u(d);for(let d=8;d<9;d++)o.data[8][15-d-1+1]=u(d);for(let d=9;d<15;d++)o.data[8][15-d-1]=u(d);o.data[i-8][8]=!r}if(t>=7){const c=Xr.versionBits(t);for(let u=0;u<18;u+=1){const d=!r&&(c>>u&1)==1,f=Math.floor(u/3),h=u%3+i-8-3;o.data[f][h]=d,o.data[h][f]=d}}return o}function dre(t,e,n){const r=t.height,i=zT[e];let o=-1,s=r-1;for(let a=r-1;a>0;a-=2){for(a==6&&(a=5);;s+=o){for(let l=0;l<2;l+=1){const c=a-l;t.data[s][c]===void 0&&n(c,s,i(c,s))}if(s+o<0||s+o>=r)break}o=-o}}function fre(t){let e="numeric";for(let n of t)if(!Xr.alphabet.numeric.has(n)&&(e="alphanumeric",!Xr.alphabet.alphanumerc.has(n)))return"byte";return e}function hre(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function eR(t,e,n,r){let i="",o=n.length;if(r==="numeric"){const d=Xr.alphabet.numeric.decode(n.split("")),f=d.length;for(let h=0;h<f-2;h+=3)i+=oc(d[h]*100+d[h+1]*10+d[h+2],10);f%3===1?i+=oc(d[f-1],4):f%3===2&&(i+=oc(d[f-2]*10+d[f-1],7))}else if(r==="alphanumeric"){const d=Xr.alphabet.alphanumerc.decode(n.split("")),f=d.length;for(let h=0;h<f-1;h+=2)i+=oc(d[h]*45+d[h+1],11);f%2==1&&(i+=oc(d[f-1],6))}else if(r==="byte"){const d=hre(n);o=d.length,i=Array.from(d).map(f=>oc(f,8)).join("")}else throw new Error("encode: unsupported type");const{capacity:s}=Xr.capacity(t,e),a=oc(o,Xr.lengthBits(t,r));let l=Xr.modeBits[r]+a+i;if(l.length>s)throw new Error("Capacity overflow");l+="0".repeat(Math.min(4,Math.max(0,s-l.length))),l.length%8&&(l+="0".repeat(8-l.length%8));const c="1110110000010001";for(let d=0;l.length!==s;d++)l+=c[d%c.length];const u=Uint8Array.from(l.match(/(.{8})/g).map(d=>+`0b${d}`));return cre(t,e).encode(u)}function tR(t,e,n,r,i=!1){const o=ure(t,e,r,i);let s=0;const a=8*n.length;if(dre(o,r,(l,c,u)=>{let d=!1;s<a&&(d=(n[s>>>3]>>(7-s&7)&1)!==0,s++),o.data[c][l]=d!==u}),s!==a)throw new Error("QR: bytes left after draw");return o}function pre(t){const e=t.inverse(),n=h=>{let g=0;for(let m=0,y=1,p=void 0;m<h.length;m++)p===h[m]&&(y++,m!==h.length-1)||(y>=5&&(g+=3+(y-5)),p=h[m],y=1);return g};let r=0;t.data.forEach(h=>r+=n(h)),e.data.forEach(h=>r+=n(h));let i=0,o=t.data;const s=t.width-1,a=t.height-1;for(let h=0;h<s;h++)for(let g=0;g<a;g++){const m=h+1,y=g+1;o[h][g]===o[m][g]&&o[m][g]===o[h][y]&&o[m][g]===o[m][y]&&(i+=3)}const l=h=>{const g=[!0,!1,!0,!0,!0,!1,!0],m=[!1,!1,!1,!1],y=[...g,...m],p=[...m,...g];let v=0;for(let w=0;w<h.length;w++)XI(h,y,w)&&(v+=40),XI(h,p,w)&&(v+=40);return v};let c=0;for(const h of t.data)c+=l(h);for(const h of e.data)c+=l(h);let u=0;t.rectRead(0,1/0,(h,g)=>u+=g?1:0);const d=u/(t.height*t.width)*100,f=10*Math.floor(Math.abs(d-50)/5);return r+i+c+f}function mre(t,e,n,r){if(r===void 0){const i=ire();for(let o=0;o<zT.length;o++)i.add(pre(tR(t,e,n,o,!0)),o);r=i.get()}if(r===void 0)throw new Error("Cannot find mask");return tR(t,e,n,r)}function gre(t){if(!JI.includes(t))throw new Error(`Invalid error correction mode=${t}. Expected: ${JI}`)}function yre(t){if(!ZI.includes(t))throw new Error(`Encoding: invalid mode=${t}. Expected: ${ZI}`);if(t==="kanji"||t==="eci")throw new Error(`Encoding: ${t} is not supported (yet?).`)}function vre(t){if(![0,1,2,3,4,5,6,7].includes(t)||!zT[t])throw new Error(`Invalid mask=${t}. Expected number [0..7]`)}function wre(t,e="raw",n={}){const r=n.ecc!==void 0?n.ecc:"medium";gre(r);const i=n.encoding!==void 0?n.encoding:fre(t);yre(i),n.mask!==void 0&&vre(n.mask);let o=n.version,s,a=new Error("Unknown error");if(o!==void 0)rre(o),s=eR(o,r,t,i);else for(let u=1;u<=40;u++)try{s=eR(u,r,t,i),o=u;break}catch(d){a=d}if(!o||!s)throw a;let l=mre(o,r,s,n.mask);l.assertDrawn();const c=n.border===void 0?2:n.border;if(!Number.isSafeInteger(c))throw new Error(`invalid border type=${typeof c}`);if(l=l.border(c,!1),n.scale!==void 0&&(l=l.scale(n.scale)),e==="raw")return l.data;if(e==="ascii")return l.toASCII();if(e==="svg")return l.toSVG(n.optimize);if(e==="gif")return l.toGIF();if(e==="term")return l.toTerm();throw new Error(`Unknown output: ${e}`)}function bre(t,e={}){const{errorCorrection:n,version:r}=e,i=wre(t,"raw",{border:0,ecc:n,scale:1,version:r});return{edgeLength:i.length,finderLength:7,grid:i,value:t}}function zs(t){const{arena:e,...n}=t;return yn.jsxs(zs.Root,{...n,children:[yn.jsx(zs.Finder,{}),yn.jsx(zs.Cells,{}),e&&yn.jsx(zs.Arena,{children:typeof e=="string"?yn.jsx("img",{alt:"Arena",src:e,style:{borderRadius:1,height:"100%",objectFit:"cover",width:"100%"}}):e})]})}(function(t){t.Context=U.createContext(null);function e(o){const{children:s,size:a="100%",value:l,version:c,...u}=o,d=U.useMemo(()=>(U.Children.map(s,v=>!U.isValidElement(v)||typeof v.type=="string"?null:"displayName"in v.type&&v.type.displayName==="Arena"?!0:null)??[]).some(Boolean),[s]),f=U.useMemo(()=>{let v=o.errorCorrection;return d&&v==="low"&&(v="medium"),bre(l,{errorCorrection:v,version:c})},[l,d,o.errorCorrection,c]),h=1,g=f.edgeLength*h,m=f.finderLength*h/2,y=d?Math.floor(g/4):0,p=U.useMemo(()=>({arenaSize:y,cellSize:h,edgeSize:g,qrcode:f,finderSize:m}),[y,g,f,m]);return yn.jsx(t.Context.Provider,{value:p,children:yn.jsxs("svg",{...u,width:a,height:a,viewBox:`0 0 ${g} ${g}`,xmlns:"http://www.w3.org/2000/svg",children:[yn.jsx("title",{children:"QR Code"}),s]})})}t.Root=e,function(o){o.displayName="Root"}(e=t.Root||(t.Root={}));function n(o){const{className:s,fill:a,innerClassName:l,radius:c=.25}=o,{cellSize:u,edgeSize:d,finderSize:f}=U.useContext(t.Context);function h({position:g}){let m=f-(f-u)-u/2;g==="top-right"&&(m=d-f-(f-u)-u/2);let y=f-(f-u)-u/2;g==="bottom-left"&&(y=d-f-(f-u)-u/2);let p=f-u*1.5;g==="top-right"&&(p=d-f-u*1.5);let v=f-u*1.5;return g==="bottom-left"&&(v=d-f-u*1.5),yn.jsxs(yn.Fragment,{children:[yn.jsx("rect",{className:s,stroke:a??"currentColor",fill:"transparent",x:m,y,width:u+(f-u)*2,height:u+(f-u)*2,rx:2*c*(f-u),ry:2*c*(f-u),strokeWidth:u}),yn.jsx("rect",{className:l,fill:a??"currentColor",x:p,y:v,width:u*3,height:u*3,rx:2*c*u,ry:2*c*u})]})}return yn.jsxs(yn.Fragment,{children:[yn.jsx(h,{position:"top-left"}),yn.jsx(h,{position:"top-right"}),yn.jsx(h,{position:"bottom-left"})]})}t.Finder=n,function(o){o.displayName="Finder"}(n=t.Finder||(t.Finder={}));function r(o){const{className:s,fill:a="currentColor",inset:l=!0,radius:c=1}=o,{arenaSize:u,cellSize:d,qrcode:f}=U.useContext(t.Context),{edgeLength:h,finderLength:g}=f,m=U.useMemo(()=>{let y="";for(let p=0;p<f.grid.length;p++){const v=f.grid[p];if(v)for(let w=0;w<v.length;w++){if(!v[w])continue;const T=h/2-u/2,k=T+u;if(p>=T&&p<=k&&w>=T&&w<=k)continue;const A=p<g&&w<g,z=p<g&&w>=h-g,S=p>=h-g&&w<g;if(A||z||S)continue;const N=l?d*.1:0,P=(d-N*2)/2,W=w*d+d/2,B=p*d+d/2,b=W-P,E=W+P,I=B-P,O=B+P,C=c*P;y+=[`M ${b+C},${I}`,`L ${E-C},${I}`,`A ${C},${C} 0 0,1 ${E},${I+C}`,`L ${E},${O-C}`,`A ${C},${C} 0 0,1 ${E-C},${O}`,`L ${b+C},${O}`,`A ${C},${C} 0 0,1 ${b},${O-C}`,`L ${b},${I+C}`,`A ${C},${C} 0 0,1 ${b+C},${I}`,"z"].join(" ")}}return y},[u,d,h,g,f.grid,l,c]);return yn.jsx("path",{className:s,d:m,fill:a})}t.Cells=r,function(o){o.displayName="Cells"}(r=t.Cells||(t.Cells={}));function i(o){const{children:s}=o,{arenaSize:a,cellSize:l,edgeSize:c}=U.useContext(t.Context),u=Math.ceil(c/2-a/2),d=a+a%2,f=l/2;return yn.jsx("foreignObject",{x:u,y:u,width:d,height:d,children:yn.jsx("div",{style:{alignItems:"center",display:"flex",fontSize:1,justifyContent:"center",height:"100%",overflow:"hidden",width:"100%",padding:f,boxSizing:"border-box"},children:s})})}t.Arena=i,function(o){o.displayName="Arena"}(i=t.Arena||(t.Arena={}))})(zs||(zs={}));n0.type="coinbaseWallet";function n0(t={}){return t.version==="3"||t.headlessMode?Ere(t):xre(t)}function xre(t){let e,n,r,i;return o=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:n0.type,async connect({chainId:s,...a}={}){try{const l=await this.getProvider(),c=(await l.request({method:"eth_requestAccounts",params:"instantOnboarding"in a&&a.instantOnboarding?[{onboarding:"instant"}]:[]})).map(d=>Ur(d));n||(n=this.onAccountsChanged.bind(this),l.on("accountsChanged",n)),r||(r=this.onChainChanged.bind(this),l.on("chainChanged",r)),i||(i=this.onDisconnect.bind(this),l.on("disconnect",i));let u=await this.getChainId();return s&&u!==s&&(u=(await this.switchChain({chainId:s}).catch(f=>{if(f.code===Sn.code)throw f;return{id:u}}))?.id??u),{accounts:c,chainId:u}}catch(l){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(l.message)?new Sn(l):l}},async disconnect(){const s=await this.getProvider();n&&(s.removeListener("accountsChanged",n),n=void 0),r&&(s.removeListener("chainChanged",r),r=void 0),i&&(s.removeListener("disconnect",i),i=void 0),s.disconnect(),s.close?.()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(a=>Ur(a))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!e){const s=typeof t.preference=="string"?{options:t.preference}:{...t.preference,options:t.preference?.options??"all"},{createCoinbaseWalletSDK:a}=await Qe(async()=>{const{createCoinbaseWalletSDK:c}=await import("./index-CXql_XMW.js");return{createCoinbaseWalletSDK:c}},__vite__mapDeps([0,1]));e=a({...t,appChainIds:o.chains.map(c=>c.id),preference:s}).getProvider()}return e},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:s,chainId:a}){const l=o.chains.find(u=>u.id===a);if(!l)throw new Bo(new hu);const c=await this.getProvider();try{return await c.request({method:"wallet_switchEthereumChain",params:[{chainId:Ge(l.id)}]}),l}catch(u){if(u.code===4902)try{let d;s?.blockExplorerUrls?d=s.blockExplorerUrls:d=l.blockExplorers?.default.url?[l.blockExplorers?.default.url]:[];let f;s?.rpcUrls?.length?f=s.rpcUrls:f=[l.rpcUrls.default?.http[0]??""];const h={blockExplorerUrls:d,chainId:Ge(a),chainName:s?.chainName??l.name,iconUrls:s?.iconUrls,nativeCurrency:s?.nativeCurrency??l.nativeCurrency,rpcUrls:f};return await c.request({method:"wallet_addEthereumChain",params:[h]}),l}catch(d){throw new Sn(d)}throw new Bo(u)}},onAccountsChanged(s){s.length===0?this.onDisconnect():o.emitter.emit("change",{accounts:s.map(a=>Ur(a))})},onChainChanged(s){const a=Number(s);o.emitter.emit("change",{chainId:a})},async onDisconnect(s){o.emitter.emit("disconnect");const a=await this.getProvider();n&&(a.removeListener("accountsChanged",n),n=void 0),r&&(a.removeListener("chainChanged",r),r=void 0),i&&(a.removeListener("disconnect",i),i=void 0)}})}function Ere(t){let n,r,i,o,s;return a=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:n0.type,async connect({chainId:l}={}){try{const c=await this.getProvider(),u=(await c.request({method:"eth_requestAccounts"})).map(f=>Ur(f));i||(i=this.onAccountsChanged.bind(this),c.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),c.on("chainChanged",o)),s||(s=this.onDisconnect.bind(this),c.on("disconnect",s));let d=await this.getChainId();return l&&d!==l&&(d=(await this.switchChain({chainId:l}).catch(h=>{if(h.code===Sn.code)throw h;return{id:d}}))?.id??d),{accounts:u,chainId:d}}catch(c){throw/(user closed modal|accounts received is empty|user denied account)/i.test(c.message)?new Sn(c):c}},async disconnect(){const l=await this.getProvider();i&&(l.removeListener("accountsChanged",i),i=void 0),o&&(l.removeListener("chainChanged",o),o=void 0),s&&(l.removeListener("disconnect",s),s=void 0),l.disconnect(),l.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(c=>Ur(c))},async getChainId(){const c=await(await this.getProvider()).request({method:"eth_chainId"});return Number(c)},async getProvider(){if(!r){const l=await(async()=>{const{default:h}=await Qe(async()=>{const{default:g}=await import("./index-CpGcGyah.js").then(m=>m.i);return{default:g}},__vite__mapDeps([2,3,1,4]));return typeof h!="function"&&typeof h.default=="function"?h.default:h})();n=new l({...t,reloadOnDisconnect:!1});const c=n.walletExtension?.getChainId(),u=a.chains.find(h=>t.chainId?h.id===t.chainId:h.id===c)||a.chains[0],d=t.chainId||u?.id,f=t.jsonRpcUrl||u?.rpcUrls.default.http[0];r=n.makeWeb3Provider(f,d)}return r},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:c}){const u=a.chains.find(f=>f.id===c);if(!u)throw new Bo(new hu);const d=await this.getProvider();try{return await d.request({method:"wallet_switchEthereumChain",params:[{chainId:Ge(u.id)}]}),u}catch(f){if(f.code===4902)try{let h;l?.blockExplorerUrls?h=l.blockExplorerUrls:h=u.blockExplorers?.default.url?[u.blockExplorers?.default.url]:[];let g;l?.rpcUrls?.length?g=l.rpcUrls:g=[u.rpcUrls.default?.http[0]??""];const m={blockExplorerUrls:h,chainId:Ge(c),chainName:l?.chainName??u.name,iconUrls:l?.iconUrls,nativeCurrency:l?.nativeCurrency??u.nativeCurrency,rpcUrls:g};return await d.request({method:"wallet_addEthereumChain",params:[m]}),u}catch(h){throw new Sn(h)}throw new Bo(f)}},onAccountsChanged(l){l.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:l.map(c=>Ur(c))})},onChainChanged(l){const c=Number(l);a.emitter.emit("change",{chainId:c})},async onDisconnect(l){a.emitter.emit("disconnect");const c=await this.getProvider();i&&(c.removeListener("accountsChanged",i),i=void 0),o&&(c.removeListener("chainChanged",o),o=void 0),s&&(c.removeListener("disconnect",s),s=void 0)}})}jT.type="safe";function jT(t={}){const{shimDisconnect:e=!1}=t;let n,r;return i=>({id:"safe",name:"Safe",type:jT.type,async connect(){const o=await this.getProvider();if(!o)throw new Co;const s=await this.getAccounts(),a=await this.getChainId();return r||(r=this.onDisconnect.bind(this),o.on("disconnect",r)),e&&await i.storage?.removeItem("safe.disconnected"),{accounts:s,chainId:a}},async disconnect(){const o=await this.getProvider();if(!o)throw new Co;r&&(o.removeListener("disconnect",r),r=void 0),e&&await i.storage?.setItem("safe.disconnected",!0)},async getAccounts(){const o=await this.getProvider();if(!o)throw new Co;return(await o.request({method:"eth_accounts"})).map(Ur)},async getProvider(){if(typeof window<"u"&&window?.parent!==window){if(!n){const{default:s}=await Qe(async()=>{const{default:u}=await import("./index-ruy-hOuG.js").then(d=>d.e);return{default:u}},[]),a=new s(t),l=await ET(()=>a.safe.getInfo(),{timeout:t.unstable_getInfoTimeout??10});if(!l)throw new Error("Could not load Safe information");const c=await(async()=>{const u=await Qe(()=>import("./index-D5PLoGJR.js").then(d=>d.i),__vite__mapDeps([5,6,4]));return typeof u.SafeAppProvider!="function"&&typeof u.default.SafeAppProvider=="function"?u.default.SafeAppProvider:u.SafeAppProvider})();n=new c(l,a)}return n}},async getChainId(){const o=await this.getProvider();if(!o)throw new Co;return Number(o.chainId)},async isAuthorized(){try{return e&&await i.storage?.getItem("safe.disconnected")?!1:!!(await this.getAccounts()).length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){i.emitter.emit("disconnect")}})}E1.type="walletConnect";function E1(t){const e=t.isNewChainsStale??!0;let n,r;const i="eip155";let o,s,a,l,c,u;return d=>({id:"walletConnect",name:"WalletConnect",type:E1.type,async setup(){const f=await this.getProvider().catch(()=>null);f&&(a||(a=this.onConnect.bind(this),f.on("connect",a)),c||(c=this.onSessionDelete.bind(this),f.on("session_delete",c)))},async connect({chainId:f,...h}={}){try{const g=await this.getProvider();if(!g)throw new Co;l||(l=this.onDisplayUri,g.on("display_uri",l));let m=f;if(!m){const w=await d.storage?.getItem("state")??{};d.chains.some(T=>T.id===w.chainId)?m=w.chainId:m=d.chains[0]?.id}if(!m)throw new Error("No chains found on connector.");const y=await this.isChainsStale();if(g.session&&y&&await g.disconnect(),!g.session||y){const w=d.chains.filter(x=>x.id!==m).map(x=>x.id);await g.connect({optionalChains:[m,...w],..."pairingTopic"in h?{pairingTopic:h.pairingTopic}:{}}),this.setRequestedChainsIds(d.chains.map(x=>x.id))}const p=(await g.enable()).map(w=>Ur(w)),v=await this.getChainId();return l&&(g.removeListener("display_uri",l),l=void 0),a&&(g.removeListener("connect",a),a=void 0),o||(o=this.onAccountsChanged.bind(this),g.on("accountsChanged",o)),s||(s=this.onChainChanged.bind(this),g.on("chainChanged",s)),u||(u=this.onDisconnect.bind(this),g.on("disconnect",u)),c||(c=this.onSessionDelete.bind(this),g.on("session_delete",c)),{accounts:p,chainId:v}}catch(g){throw/(user rejected|connection request reset)/i.test(g?.message)?new Sn(g):g}},async disconnect(){const f=await this.getProvider();try{await f?.disconnect()}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{s&&(f?.removeListener("chainChanged",s),s=void 0),u&&(f?.removeListener("disconnect",u),u=void 0),a||(a=this.onConnect.bind(this),f?.on("connect",a)),o&&(f?.removeListener("accountsChanged",o),o=void 0),c&&(f?.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(h=>Ur(h))},async getProvider({chainId:f}={}){async function h(){const g=d.chains.map(y=>y.id);if(!g.length)return;const{EthereumProvider:m}=await Qe(async()=>{const{EthereumProvider:y}=await import("./index.es-isN0VkCk.js").then(p=>p.a0);return{EthereumProvider:y}},__vite__mapDeps([7,4]));return await m.init({...t,disableProviderPing:!0,optionalChains:g,projectId:t.projectId,rpcMap:Object.fromEntries(d.chains.map(y=>{const[p]=UZ({chain:y,transports:d.transports});return[y.id,p]})),showQrModal:t.showQrModal??!0})}return n||(r||(r=h()),n=await r,n?.events.setMaxListeners(Number.POSITIVE_INFINITY)),f&&await this.switchChain?.({chainId:f}),n},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[f,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return f.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:f,chainId:h}){const g=await this.getProvider();if(!g)throw new Co;const m=d.chains.find(y=>y.id===h);if(!m)throw new Bo(new hu);try{await Promise.all([new Promise(p=>{const v=({chainId:w})=>{w===h&&(d.emitter.off("change",v),p())};d.emitter.on("change",v)}),g.request({method:"wallet_switchEthereumChain",params:[{chainId:Ge(h)}]})]);const y=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...y,h]),m}catch(y){const p=y;if(/(user rejected)/i.test(p.message))throw new Sn(p);try{let v;f?.blockExplorerUrls?v=f.blockExplorerUrls:v=m.blockExplorers?.default.url?[m.blockExplorers?.default.url]:[];let w;f?.rpcUrls?.length?w=f.rpcUrls:w=[...m.rpcUrls.default.http];const x={blockExplorerUrls:v,chainId:Ge(h),chainName:f?.chainName??m.name,iconUrls:f?.iconUrls,nativeCurrency:f?.nativeCurrency??m.nativeCurrency,rpcUrls:w};await g.request({method:"wallet_addEthereumChain",params:[x]});const T=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...T,h]),m}catch(v){throw new Sn(v)}}},onAccountsChanged(f){f.length===0?this.onDisconnect():d.emitter.emit("change",{accounts:f.map(h=>Ur(h))})},onChainChanged(f){const h=Number(f);d.emitter.emit("change",{chainId:h})},async onConnect(f){const h=Number(f.chainId),g=await this.getAccounts();d.emitter.emit("connect",{accounts:g,chainId:h})},async onDisconnect(f){this.setRequestedChainsIds([]),d.emitter.emit("disconnect");const h=await this.getProvider();o&&(h.removeListener("accountsChanged",o),o=void 0),s&&(h.removeListener("chainChanged",s),s=void 0),u&&(h.removeListener("disconnect",u),u=void 0),c&&(h.removeListener("session_delete",c),c=void 0),a||(a=this.onConnect.bind(this),h.on("connect",a))},onDisplayUri(f){d.emitter.emit("message",{type:"display_uri",data:f})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){return n?n.session?.namespaces[i]?.accounts?.map(h=>Number.parseInt(h.split(":")[1]||""))??[]:[]},async getRequestedChainsIds(){return await d.storage?.getItem(this.requestedChainsStorageKey)??[]},async isChainsStale(){if(!e)return!1;const f=d.chains.map(m=>m.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(m=>f.includes(m)))return!1;const g=await this.getRequestedChainsIds();return!f.every(m=>g.includes(m))},async setRequestedChainsIds(f){await d.storage?.setItem(this.requestedChainsStorageKey,f)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}var kv={},Are=768,qu=pte({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),QU=ZD({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),V2=bte({conditions:{defaultCondition:"base",conditionNames:["base","hover","active"],responsiveArray:void 0},styles:{background:{values:{accentColor:{conditions:{base:"ju367v9i",hover:"ju367v9j",active:"ju367v9k"},defaultClass:"ju367v9i"},accentColorForeground:{conditions:{base:"ju367v9l",hover:"ju367v9m",active:"ju367v9n"},defaultClass:"ju367v9l"},actionButtonBorder:{conditions:{base:"ju367v9o",hover:"ju367v9p",active:"ju367v9q"},defaultClass:"ju367v9o"},actionButtonBorderMobile:{conditions:{base:"ju367v9r",hover:"ju367v9s",active:"ju367v9t"},defaultClass:"ju367v9r"},actionButtonSecondaryBackground:{conditions:{base:"ju367v9u",hover:"ju367v9v",active:"ju367v9w"},defaultClass:"ju367v9u"},closeButton:{conditions:{base:"ju367v9x",hover:"ju367v9y",active:"ju367v9z"},defaultClass:"ju367v9x"},closeButtonBackground:{conditions:{base:"ju367va0",hover:"ju367va1",active:"ju367va2"},defaultClass:"ju367va0"},connectButtonBackground:{conditions:{base:"ju367va3",hover:"ju367va4",active:"ju367va5"},defaultClass:"ju367va3"},connectButtonBackgroundError:{conditions:{base:"ju367va6",hover:"ju367va7",active:"ju367va8"},defaultClass:"ju367va6"},connectButtonInnerBackground:{conditions:{base:"ju367va9",hover:"ju367vaa",active:"ju367vab"},defaultClass:"ju367va9"},connectButtonText:{conditions:{base:"ju367vac",hover:"ju367vad",active:"ju367vae"},defaultClass:"ju367vac"},connectButtonTextError:{conditions:{base:"ju367vaf",hover:"ju367vag",active:"ju367vah"},defaultClass:"ju367vaf"},connectionIndicator:{conditions:{base:"ju367vai",hover:"ju367vaj",active:"ju367vak"},defaultClass:"ju367vai"},downloadBottomCardBackground:{conditions:{base:"ju367val",hover:"ju367vam",active:"ju367van"},defaultClass:"ju367val"},downloadTopCardBackground:{conditions:{base:"ju367vao",hover:"ju367vap",active:"ju367vaq"},defaultClass:"ju367vao"},error:{conditions:{base:"ju367var",hover:"ju367vas",active:"ju367vat"},defaultClass:"ju367var"},generalBorder:{conditions:{base:"ju367vau",hover:"ju367vav",active:"ju367vaw"},defaultClass:"ju367vau"},generalBorderDim:{conditions:{base:"ju367vax",hover:"ju367vay",active:"ju367vaz"},defaultClass:"ju367vax"},menuItemBackground:{conditions:{base:"ju367vb0",hover:"ju367vb1",active:"ju367vb2"},defaultClass:"ju367vb0"},modalBackdrop:{conditions:{base:"ju367vb3",hover:"ju367vb4",active:"ju367vb5"},defaultClass:"ju367vb3"},modalBackground:{conditions:{base:"ju367vb6",hover:"ju367vb7",active:"ju367vb8"},defaultClass:"ju367vb6"},modalBorder:{conditions:{base:"ju367vb9",hover:"ju367vba",active:"ju367vbb"},defaultClass:"ju367vb9"},modalText:{conditions:{base:"ju367vbc",hover:"ju367vbd",active:"ju367vbe"},defaultClass:"ju367vbc"},modalTextDim:{conditions:{base:"ju367vbf",hover:"ju367vbg",active:"ju367vbh"},defaultClass:"ju367vbf"},modalTextSecondary:{conditions:{base:"ju367vbi",hover:"ju367vbj",active:"ju367vbk"},defaultClass:"ju367vbi"},profileAction:{conditions:{base:"ju367vbl",hover:"ju367vbm",active:"ju367vbn"},defaultClass:"ju367vbl"},profileActionHover:{conditions:{base:"ju367vbo",hover:"ju367vbp",active:"ju367vbq"},defaultClass:"ju367vbo"},profileForeground:{conditions:{base:"ju367vbr",hover:"ju367vbs",active:"ju367vbt"},defaultClass:"ju367vbr"},selectedOptionBorder:{conditions:{base:"ju367vbu",hover:"ju367vbv",active:"ju367vbw"},defaultClass:"ju367vbu"},standby:{conditions:{base:"ju367vbx",hover:"ju367vby",active:"ju367vbz"},defaultClass:"ju367vbx"}}},borderColor:{values:{accentColor:{conditions:{base:"ju367vc0",hover:"ju367vc1",active:"ju367vc2"},defaultClass:"ju367vc0"},accentColorForeground:{conditions:{base:"ju367vc3",hover:"ju367vc4",active:"ju367vc5"},defaultClass:"ju367vc3"},actionButtonBorder:{conditions:{base:"ju367vc6",hover:"ju367vc7",active:"ju367vc8"},defaultClass:"ju367vc6"},actionButtonBorderMobile:{conditions:{base:"ju367vc9",hover:"ju367vca",active:"ju367vcb"},defaultClass:"ju367vc9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vcc",hover:"ju367vcd",active:"ju367vce"},defaultClass:"ju367vcc"},closeButton:{conditions:{base:"ju367vcf",hover:"ju367vcg",active:"ju367vch"},defaultClass:"ju367vcf"},closeButtonBackground:{conditions:{base:"ju367vci",hover:"ju367vcj",active:"ju367vck"},defaultClass:"ju367vci"},connectButtonBackground:{conditions:{base:"ju367vcl",hover:"ju367vcm",active:"ju367vcn"},defaultClass:"ju367vcl"},connectButtonBackgroundError:{conditions:{base:"ju367vco",hover:"ju367vcp",active:"ju367vcq"},defaultClass:"ju367vco"},connectButtonInnerBackground:{conditions:{base:"ju367vcr",hover:"ju367vcs",active:"ju367vct"},defaultClass:"ju367vcr"},connectButtonText:{conditions:{base:"ju367vcu",hover:"ju367vcv",active:"ju367vcw"},defaultClass:"ju367vcu"},connectButtonTextError:{conditions:{base:"ju367vcx",hover:"ju367vcy",active:"ju367vcz"},defaultClass:"ju367vcx"},connectionIndicator:{conditions:{base:"ju367vd0",hover:"ju367vd1",active:"ju367vd2"},defaultClass:"ju367vd0"},downloadBottomCardBackground:{conditions:{base:"ju367vd3",hover:"ju367vd4",active:"ju367vd5"},defaultClass:"ju367vd3"},downloadTopCardBackground:{conditions:{base:"ju367vd6",hover:"ju367vd7",active:"ju367vd8"},defaultClass:"ju367vd6"},error:{conditions:{base:"ju367vd9",hover:"ju367vda",active:"ju367vdb"},defaultClass:"ju367vd9"},generalBorder:{conditions:{base:"ju367vdc",hover:"ju367vdd",active:"ju367vde"},defaultClass:"ju367vdc"},generalBorderDim:{conditions:{base:"ju367vdf",hover:"ju367vdg",active:"ju367vdh"},defaultClass:"ju367vdf"},menuItemBackground:{conditions:{base:"ju367vdi",hover:"ju367vdj",active:"ju367vdk"},defaultClass:"ju367vdi"},modalBackdrop:{conditions:{base:"ju367vdl",hover:"ju367vdm",active:"ju367vdn"},defaultClass:"ju367vdl"},modalBackground:{conditions:{base:"ju367vdo",hover:"ju367vdp",active:"ju367vdq"},defaultClass:"ju367vdo"},modalBorder:{conditions:{base:"ju367vdr",hover:"ju367vds",active:"ju367vdt"},defaultClass:"ju367vdr"},modalText:{conditions:{base:"ju367vdu",hover:"ju367vdv",active:"ju367vdw"},defaultClass:"ju367vdu"},modalTextDim:{conditions:{base:"ju367vdx",hover:"ju367vdy",active:"ju367vdz"},defaultClass:"ju367vdx"},modalTextSecondary:{conditions:{base:"ju367ve0",hover:"ju367ve1",active:"ju367ve2"},defaultClass:"ju367ve0"},profileAction:{conditions:{base:"ju367ve3",hover:"ju367ve4",active:"ju367ve5"},defaultClass:"ju367ve3"},profileActionHover:{conditions:{base:"ju367ve6",hover:"ju367ve7",active:"ju367ve8"},defaultClass:"ju367ve6"},profileForeground:{conditions:{base:"ju367ve9",hover:"ju367vea",active:"ju367veb"},defaultClass:"ju367ve9"},selectedOptionBorder:{conditions:{base:"ju367vec",hover:"ju367ved",active:"ju367vee"},defaultClass:"ju367vec"},standby:{conditions:{base:"ju367vef",hover:"ju367veg",active:"ju367veh"},defaultClass:"ju367vef"}}},boxShadow:{values:{connectButton:{conditions:{base:"ju367vei",hover:"ju367vej",active:"ju367vek"},defaultClass:"ju367vei"},dialog:{conditions:{base:"ju367vel",hover:"ju367vem",active:"ju367ven"},defaultClass:"ju367vel"},profileDetailsAction:{conditions:{base:"ju367veo",hover:"ju367vep",active:"ju367veq"},defaultClass:"ju367veo"},selectedOption:{conditions:{base:"ju367ver",hover:"ju367ves",active:"ju367vet"},defaultClass:"ju367ver"},selectedWallet:{conditions:{base:"ju367veu",hover:"ju367vev",active:"ju367vew"},defaultClass:"ju367veu"},walletLogo:{conditions:{base:"ju367vex",hover:"ju367vey",active:"ju367vez"},defaultClass:"ju367vex"}}},color:{values:{accentColor:{conditions:{base:"ju367vf0",hover:"ju367vf1",active:"ju367vf2"},defaultClass:"ju367vf0"},accentColorForeground:{conditions:{base:"ju367vf3",hover:"ju367vf4",active:"ju367vf5"},defaultClass:"ju367vf3"},actionButtonBorder:{conditions:{base:"ju367vf6",hover:"ju367vf7",active:"ju367vf8"},defaultClass:"ju367vf6"},actionButtonBorderMobile:{conditions:{base:"ju367vf9",hover:"ju367vfa",active:"ju367vfb"},defaultClass:"ju367vf9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vfc",hover:"ju367vfd",active:"ju367vfe"},defaultClass:"ju367vfc"},closeButton:{conditions:{base:"ju367vff",hover:"ju367vfg",active:"ju367vfh"},defaultClass:"ju367vff"},closeButtonBackground:{conditions:{base:"ju367vfi",hover:"ju367vfj",active:"ju367vfk"},defaultClass:"ju367vfi"},connectButtonBackground:{conditions:{base:"ju367vfl",hover:"ju367vfm",active:"ju367vfn"},defaultClass:"ju367vfl"},connectButtonBackgroundError:{conditions:{base:"ju367vfo",hover:"ju367vfp",active:"ju367vfq"},defaultClass:"ju367vfo"},connectButtonInnerBackground:{conditions:{base:"ju367vfr",hover:"ju367vfs",active:"ju367vft"},defaultClass:"ju367vfr"},connectButtonText:{conditions:{base:"ju367vfu",hover:"ju367vfv",active:"ju367vfw"},defaultClass:"ju367vfu"},connectButtonTextError:{conditions:{base:"ju367vfx",hover:"ju367vfy",active:"ju367vfz"},defaultClass:"ju367vfx"},connectionIndicator:{conditions:{base:"ju367vg0",hover:"ju367vg1",active:"ju367vg2"},defaultClass:"ju367vg0"},downloadBottomCardBackground:{conditions:{base:"ju367vg3",hover:"ju367vg4",active:"ju367vg5"},defaultClass:"ju367vg3"},downloadTopCardBackground:{conditions:{base:"ju367vg6",hover:"ju367vg7",active:"ju367vg8"},defaultClass:"ju367vg6"},error:{conditions:{base:"ju367vg9",hover:"ju367vga",active:"ju367vgb"},defaultClass:"ju367vg9"},generalBorder:{conditions:{base:"ju367vgc",hover:"ju367vgd",active:"ju367vge"},defaultClass:"ju367vgc"},generalBorderDim:{conditions:{base:"ju367vgf",hover:"ju367vgg",active:"ju367vgh"},defaultClass:"ju367vgf"},menuItemBackground:{conditions:{base:"ju367vgi",hover:"ju367vgj",active:"ju367vgk"},defaultClass:"ju367vgi"},modalBackdrop:{conditions:{base:"ju367vgl",hover:"ju367vgm",active:"ju367vgn"},defaultClass:"ju367vgl"},modalBackground:{conditions:{base:"ju367vgo",hover:"ju367vgp",active:"ju367vgq"},defaultClass:"ju367vgo"},modalBorder:{conditions:{base:"ju367vgr",hover:"ju367vgs",active:"ju367vgt"},defaultClass:"ju367vgr"},modalText:{conditions:{base:"ju367vgu",hover:"ju367vgv",active:"ju367vgw"},defaultClass:"ju367vgu"},modalTextDim:{conditions:{base:"ju367vgx",hover:"ju367vgy",active:"ju367vgz"},defaultClass:"ju367vgx"},modalTextSecondary:{conditions:{base:"ju367vh0",hover:"ju367vh1",active:"ju367vh2"},defaultClass:"ju367vh0"},profileAction:{conditions:{base:"ju367vh3",hover:"ju367vh4",active:"ju367vh5"},defaultClass:"ju367vh3"},profileActionHover:{conditions:{base:"ju367vh6",hover:"ju367vh7",active:"ju367vh8"},defaultClass:"ju367vh6"},profileForeground:{conditions:{base:"ju367vh9",hover:"ju367vha",active:"ju367vhb"},defaultClass:"ju367vh9"},selectedOptionBorder:{conditions:{base:"ju367vhc",hover:"ju367vhd",active:"ju367vhe"},defaultClass:"ju367vhc"},standby:{conditions:{base:"ju367vhf",hover:"ju367vhg",active:"ju367vhh"},defaultClass:"ju367vhf"}}}}},{conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0},styles:{alignItems:{values:{"flex-start":{conditions:{smallScreen:"ju367v0",largeScreen:"ju367v1"},defaultClass:"ju367v0"},"flex-end":{conditions:{smallScreen:"ju367v2",largeScreen:"ju367v3"},defaultClass:"ju367v2"},center:{conditions:{smallScreen:"ju367v4",largeScreen:"ju367v5"},defaultClass:"ju367v4"}}},display:{values:{none:{conditions:{smallScreen:"ju367v6",largeScreen:"ju367v7"},defaultClass:"ju367v6"},block:{conditions:{smallScreen:"ju367v8",largeScreen:"ju367v9"},defaultClass:"ju367v8"},flex:{conditions:{smallScreen:"ju367va",largeScreen:"ju367vb"},defaultClass:"ju367va"},inline:{conditions:{smallScreen:"ju367vc",largeScreen:"ju367vd"},defaultClass:"ju367vc"}}}}},{conditions:void 0,styles:{margin:{mappings:["marginTop","marginBottom","marginLeft","marginRight"]},marginX:{mappings:["marginLeft","marginRight"]},marginY:{mappings:["marginTop","marginBottom"]},padding:{mappings:["paddingTop","paddingBottom","paddingLeft","paddingRight"]},paddingX:{mappings:["paddingLeft","paddingRight"]},paddingY:{mappings:["paddingTop","paddingBottom"]},alignSelf:{values:{"flex-start":{defaultClass:"ju367ve"},"flex-end":{defaultClass:"ju367vf"},center:{defaultClass:"ju367vg"}}},backgroundSize:{values:{cover:{defaultClass:"ju367vh"}}},borderRadius:{values:{1:{defaultClass:"ju367vi"},6:{defaultClass:"ju367vj"},10:{defaultClass:"ju367vk"},13:{defaultClass:"ju367vl"},actionButton:{defaultClass:"ju367vm"},connectButton:{defaultClass:"ju367vn"},menuButton:{defaultClass:"ju367vo"},modal:{defaultClass:"ju367vp"},modalMobile:{defaultClass:"ju367vq"},"25%":{defaultClass:"ju367vr"},full:{defaultClass:"ju367vs"}}},borderStyle:{values:{solid:{defaultClass:"ju367vt"}}},borderWidth:{values:{0:{defaultClass:"ju367vu"},1:{defaultClass:"ju367vv"},2:{defaultClass:"ju367vw"},4:{defaultClass:"ju367vx"}}},cursor:{values:{pointer:{defaultClass:"ju367vy"},none:{defaultClass:"ju367vz"}}},pointerEvents:{values:{none:{defaultClass:"ju367v10"},all:{defaultClass:"ju367v11"}}},minHeight:{values:{8:{defaultClass:"ju367v12"},44:{defaultClass:"ju367v13"}}},flexDirection:{values:{row:{defaultClass:"ju367v14"},column:{defaultClass:"ju367v15"}}},fontFamily:{values:{body:{defaultClass:"ju367v16"}}},fontSize:{values:{12:{defaultClass:"ju367v17"},13:{defaultClass:"ju367v18"},14:{defaultClass:"ju367v19"},16:{defaultClass:"ju367v1a"},18:{defaultClass:"ju367v1b"},20:{defaultClass:"ju367v1c"},23:{defaultClass:"ju367v1d"}}},fontWeight:{values:{regular:{defaultClass:"ju367v1e"},medium:{defaultClass:"ju367v1f"},semibold:{defaultClass:"ju367v1g"},bold:{defaultClass:"ju367v1h"},heavy:{defaultClass:"ju367v1i"}}},gap:{values:{0:{defaultClass:"ju367v1j"},1:{defaultClass:"ju367v1k"},2:{defaultClass:"ju367v1l"},3:{defaultClass:"ju367v1m"},4:{defaultClass:"ju367v1n"},5:{defaultClass:"ju367v1o"},6:{defaultClass:"ju367v1p"},8:{defaultClass:"ju367v1q"},10:{defaultClass:"ju367v1r"},12:{defaultClass:"ju367v1s"},14:{defaultClass:"ju367v1t"},16:{defaultClass:"ju367v1u"},18:{defaultClass:"ju367v1v"},20:{defaultClass:"ju367v1w"},24:{defaultClass:"ju367v1x"},28:{defaultClass:"ju367v1y"},32:{defaultClass:"ju367v1z"},36:{defaultClass:"ju367v20"},44:{defaultClass:"ju367v21"},64:{defaultClass:"ju367v22"},"-1":{defaultClass:"ju367v23"}}},height:{values:{1:{defaultClass:"ju367v24"},2:{defaultClass:"ju367v25"},4:{defaultClass:"ju367v26"},8:{defaultClass:"ju367v27"},12:{defaultClass:"ju367v28"},20:{defaultClass:"ju367v29"},24:{defaultClass:"ju367v2a"},28:{defaultClass:"ju367v2b"},30:{defaultClass:"ju367v2c"},32:{defaultClass:"ju367v2d"},34:{defaultClass:"ju367v2e"},36:{defaultClass:"ju367v2f"},40:{defaultClass:"ju367v2g"},44:{defaultClass:"ju367v2h"},48:{defaultClass:"ju367v2i"},54:{defaultClass:"ju367v2j"},60:{defaultClass:"ju367v2k"},200:{defaultClass:"ju367v2l"},full:{defaultClass:"ju367v2m"},max:{defaultClass:"ju367v2n"}}},justifyContent:{values:{"flex-start":{defaultClass:"ju367v2o"},"flex-end":{defaultClass:"ju367v2p"},center:{defaultClass:"ju367v2q"},"space-between":{defaultClass:"ju367v2r"},"space-around":{defaultClass:"ju367v2s"}}},textAlign:{values:{left:{defaultClass:"ju367v2t"},center:{defaultClass:"ju367v2u"},inherit:{defaultClass:"ju367v2v"}}},marginBottom:{values:{0:{defaultClass:"ju367v2w"},1:{defaultClass:"ju367v2x"},2:{defaultClass:"ju367v2y"},3:{defaultClass:"ju367v2z"},4:{defaultClass:"ju367v30"},5:{defaultClass:"ju367v31"},6:{defaultClass:"ju367v32"},8:{defaultClass:"ju367v33"},10:{defaultClass:"ju367v34"},12:{defaultClass:"ju367v35"},14:{defaultClass:"ju367v36"},16:{defaultClass:"ju367v37"},18:{defaultClass:"ju367v38"},20:{defaultClass:"ju367v39"},24:{defaultClass:"ju367v3a"},28:{defaultClass:"ju367v3b"},32:{defaultClass:"ju367v3c"},36:{defaultClass:"ju367v3d"},44:{defaultClass:"ju367v3e"},64:{defaultClass:"ju367v3f"},"-1":{defaultClass:"ju367v3g"}}},marginLeft:{values:{0:{defaultClass:"ju367v3h"},1:{defaultClass:"ju367v3i"},2:{defaultClass:"ju367v3j"},3:{defaultClass:"ju367v3k"},4:{defaultClass:"ju367v3l"},5:{defaultClass:"ju367v3m"},6:{defaultClass:"ju367v3n"},8:{defaultClass:"ju367v3o"},10:{defaultClass:"ju367v3p"},12:{defaultClass:"ju367v3q"},14:{defaultClass:"ju367v3r"},16:{defaultClass:"ju367v3s"},18:{defaultClass:"ju367v3t"},20:{defaultClass:"ju367v3u"},24:{defaultClass:"ju367v3v"},28:{defaultClass:"ju367v3w"},32:{defaultClass:"ju367v3x"},36:{defaultClass:"ju367v3y"},44:{defaultClass:"ju367v3z"},64:{defaultClass:"ju367v40"},"-1":{defaultClass:"ju367v41"}}},marginRight:{values:{0:{defaultClass:"ju367v42"},1:{defaultClass:"ju367v43"},2:{defaultClass:"ju367v44"},3:{defaultClass:"ju367v45"},4:{defaultClass:"ju367v46"},5:{defaultClass:"ju367v47"},6:{defaultClass:"ju367v48"},8:{defaultClass:"ju367v49"},10:{defaultClass:"ju367v4a"},12:{defaultClass:"ju367v4b"},14:{defaultClass:"ju367v4c"},16:{defaultClass:"ju367v4d"},18:{defaultClass:"ju367v4e"},20:{defaultClass:"ju367v4f"},24:{defaultClass:"ju367v4g"},28:{defaultClass:"ju367v4h"},32:{defaultClass:"ju367v4i"},36:{defaultClass:"ju367v4j"},44:{defaultClass:"ju367v4k"},64:{defaultClass:"ju367v4l"},"-1":{defaultClass:"ju367v4m"}}},marginTop:{values:{0:{defaultClass:"ju367v4n"},1:{defaultClass:"ju367v4o"},2:{defaultClass:"ju367v4p"},3:{defaultClass:"ju367v4q"},4:{defaultClass:"ju367v4r"},5:{defaultClass:"ju367v4s"},6:{defaultClass:"ju367v4t"},8:{defaultClass:"ju367v4u"},10:{defaultClass:"ju367v4v"},12:{defaultClass:"ju367v4w"},14:{defaultClass:"ju367v4x"},16:{defaultClass:"ju367v4y"},18:{defaultClass:"ju367v4z"},20:{defaultClass:"ju367v50"},24:{defaultClass:"ju367v51"},28:{defaultClass:"ju367v52"},32:{defaultClass:"ju367v53"},36:{defaultClass:"ju367v54"},44:{defaultClass:"ju367v55"},64:{defaultClass:"ju367v56"},"-1":{defaultClass:"ju367v57"}}},maxWidth:{values:{1:{defaultClass:"ju367v58"},2:{defaultClass:"ju367v59"},4:{defaultClass:"ju367v5a"},8:{defaultClass:"ju367v5b"},12:{defaultClass:"ju367v5c"},20:{defaultClass:"ju367v5d"},24:{defaultClass:"ju367v5e"},28:{defaultClass:"ju367v5f"},30:{defaultClass:"ju367v5g"},32:{defaultClass:"ju367v5h"},34:{defaultClass:"ju367v5i"},36:{defaultClass:"ju367v5j"},40:{defaultClass:"ju367v5k"},44:{defaultClass:"ju367v5l"},48:{defaultClass:"ju367v5m"},54:{defaultClass:"ju367v5n"},60:{defaultClass:"ju367v5o"},200:{defaultClass:"ju367v5p"},full:{defaultClass:"ju367v5q"},max:{defaultClass:"ju367v5r"}}},minWidth:{values:{1:{defaultClass:"ju367v5s"},2:{defaultClass:"ju367v5t"},4:{defaultClass:"ju367v5u"},8:{defaultClass:"ju367v5v"},12:{defaultClass:"ju367v5w"},20:{defaultClass:"ju367v5x"},24:{defaultClass:"ju367v5y"},28:{defaultClass:"ju367v5z"},30:{defaultClass:"ju367v60"},32:{defaultClass:"ju367v61"},34:{defaultClass:"ju367v62"},36:{defaultClass:"ju367v63"},40:{defaultClass:"ju367v64"},44:{defaultClass:"ju367v65"},48:{defaultClass:"ju367v66"},54:{defaultClass:"ju367v67"},60:{defaultClass:"ju367v68"},200:{defaultClass:"ju367v69"},full:{defaultClass:"ju367v6a"},max:{defaultClass:"ju367v6b"}}},overflow:{values:{hidden:{defaultClass:"ju367v6c"}}},paddingBottom:{values:{0:{defaultClass:"ju367v6d"},1:{defaultClass:"ju367v6e"},2:{defaultClass:"ju367v6f"},3:{defaultClass:"ju367v6g"},4:{defaultClass:"ju367v6h"},5:{defaultClass:"ju367v6i"},6:{defaultClass:"ju367v6j"},8:{defaultClass:"ju367v6k"},10:{defaultClass:"ju367v6l"},12:{defaultClass:"ju367v6m"},14:{defaultClass:"ju367v6n"},16:{defaultClass:"ju367v6o"},18:{defaultClass:"ju367v6p"},20:{defaultClass:"ju367v6q"},24:{defaultClass:"ju367v6r"},28:{defaultClass:"ju367v6s"},32:{defaultClass:"ju367v6t"},36:{defaultClass:"ju367v6u"},44:{defaultClass:"ju367v6v"},64:{defaultClass:"ju367v6w"},"-1":{defaultClass:"ju367v6x"}}},paddingLeft:{values:{0:{defaultClass:"ju367v6y"},1:{defaultClass:"ju367v6z"},2:{defaultClass:"ju367v70"},3:{defaultClass:"ju367v71"},4:{defaultClass:"ju367v72"},5:{defaultClass:"ju367v73"},6:{defaultClass:"ju367v74"},8:{defaultClass:"ju367v75"},10:{defaultClass:"ju367v76"},12:{defaultClass:"ju367v77"},14:{defaultClass:"ju367v78"},16:{defaultClass:"ju367v79"},18:{defaultClass:"ju367v7a"},20:{defaultClass:"ju367v7b"},24:{defaultClass:"ju367v7c"},28:{defaultClass:"ju367v7d"},32:{defaultClass:"ju367v7e"},36:{defaultClass:"ju367v7f"},44:{defaultClass:"ju367v7g"},64:{defaultClass:"ju367v7h"},"-1":{defaultClass:"ju367v7i"}}},paddingRight:{values:{0:{defaultClass:"ju367v7j"},1:{defaultClass:"ju367v7k"},2:{defaultClass:"ju367v7l"},3:{defaultClass:"ju367v7m"},4:{defaultClass:"ju367v7n"},5:{defaultClass:"ju367v7o"},6:{defaultClass:"ju367v7p"},8:{defaultClass:"ju367v7q"},10:{defaultClass:"ju367v7r"},12:{defaultClass:"ju367v7s"},14:{defaultClass:"ju367v7t"},16:{defaultClass:"ju367v7u"},18:{defaultClass:"ju367v7v"},20:{defaultClass:"ju367v7w"},24:{defaultClass:"ju367v7x"},28:{defaultClass:"ju367v7y"},32:{defaultClass:"ju367v7z"},36:{defaultClass:"ju367v80"},44:{defaultClass:"ju367v81"},64:{defaultClass:"ju367v82"},"-1":{defaultClass:"ju367v83"}}},paddingTop:{values:{0:{defaultClass:"ju367v84"},1:{defaultClass:"ju367v85"},2:{defaultClass:"ju367v86"},3:{defaultClass:"ju367v87"},4:{defaultClass:"ju367v88"},5:{defaultClass:"ju367v89"},6:{defaultClass:"ju367v8a"},8:{defaultClass:"ju367v8b"},10:{defaultClass:"ju367v8c"},12:{defaultClass:"ju367v8d"},14:{defaultClass:"ju367v8e"},16:{defaultClass:"ju367v8f"},18:{defaultClass:"ju367v8g"},20:{defaultClass:"ju367v8h"},24:{defaultClass:"ju367v8i"},28:{defaultClass:"ju367v8j"},32:{defaultClass:"ju367v8k"},36:{defaultClass:"ju367v8l"},44:{defaultClass:"ju367v8m"},64:{defaultClass:"ju367v8n"},"-1":{defaultClass:"ju367v8o"}}},position:{values:{absolute:{defaultClass:"ju367v8p"},fixed:{defaultClass:"ju367v8q"},relative:{defaultClass:"ju367v8r"}}},WebkitUserSelect:{values:{none:{defaultClass:"ju367v8s"}}},right:{values:{0:{defaultClass:"ju367v8t"}}},transition:{values:{default:{defaultClass:"ju367v8u"},transform:{defaultClass:"ju367v8v"}}},userSelect:{values:{none:{defaultClass:"ju367v8w"}}},width:{values:{1:{defaultClass:"ju367v8x"},2:{defaultClass:"ju367v8y"},4:{defaultClass:"ju367v8z"},8:{defaultClass:"ju367v90"},12:{defaultClass:"ju367v91"},20:{defaultClass:"ju367v92"},24:{defaultClass:"ju367v93"},28:{defaultClass:"ju367v94"},30:{defaultClass:"ju367v95"},32:{defaultClass:"ju367v96"},34:{defaultClass:"ju367v97"},36:{defaultClass:"ju367v98"},40:{defaultClass:"ju367v99"},44:{defaultClass:"ju367v9a"},48:{defaultClass:"ju367v9b"},54:{defaultClass:"ju367v9c"},60:{defaultClass:"ju367v9d"},200:{defaultClass:"ju367v9e"},full:{defaultClass:"ju367v9f"},max:{defaultClass:"ju367v9g"}}},backdropFilter:{values:{modalOverlay:{defaultClass:"ju367v9h"}}}}}),nR={colors:{accentColor:"var(--rk-colors-accentColor)",accentColorForeground:"var(--rk-colors-accentColorForeground)",actionButtonBorder:"var(--rk-colors-actionButtonBorder)",actionButtonBorderMobile:"var(--rk-colors-actionButtonBorderMobile)",actionButtonSecondaryBackground:"var(--rk-colors-actionButtonSecondaryBackground)",closeButton:"var(--rk-colors-closeButton)",closeButtonBackground:"var(--rk-colors-closeButtonBackground)",connectButtonBackground:"var(--rk-colors-connectButtonBackground)",connectButtonBackgroundError:"var(--rk-colors-connectButtonBackgroundError)",connectButtonInnerBackground:"var(--rk-colors-connectButtonInnerBackground)",connectButtonText:"var(--rk-colors-connectButtonText)",connectButtonTextError:"var(--rk-colors-connectButtonTextError)",connectionIndicator:"var(--rk-colors-connectionIndicator)",downloadBottomCardBackground:"var(--rk-colors-downloadBottomCardBackground)",downloadTopCardBackground:"var(--rk-colors-downloadTopCardBackground)",error:"var(--rk-colors-error)",generalBorder:"var(--rk-colors-generalBorder)",generalBorderDim:"var(--rk-colors-generalBorderDim)",menuItemBackground:"var(--rk-colors-menuItemBackground)",modalBackdrop:"var(--rk-colors-modalBackdrop)",modalBackground:"var(--rk-colors-modalBackground)",modalBorder:"var(--rk-colors-modalBorder)",modalText:"var(--rk-colors-modalText)",modalTextDim:"var(--rk-colors-modalTextDim)",modalTextSecondary:"var(--rk-colors-modalTextSecondary)",profileAction:"var(--rk-colors-profileAction)",profileActionHover:"var(--rk-colors-profileActionHover)",profileForeground:"var(--rk-colors-profileForeground)",selectedOptionBorder:"var(--rk-colors-selectedOptionBorder)",standby:"var(--rk-colors-standby)"},fonts:{body:"var(--rk-fonts-body)"},radii:{actionButton:"var(--rk-radii-actionButton)",connectButton:"var(--rk-radii-connectButton)",menuButton:"var(--rk-radii-menuButton)",modal:"var(--rk-radii-modal)",modalMobile:"var(--rk-radii-modalMobile)"},shadows:{connectButton:"var(--rk-shadows-connectButton)",dialog:"var(--rk-shadows-dialog)",profileDetailsAction:"var(--rk-shadows-profileDetailsAction)",selectedOption:"var(--rk-shadows-selectedOption)",selectedWallet:"var(--rk-shadows-selectedWallet)",walletLogo:"var(--rk-shadows-walletLogo)"},blurs:{modalOverlay:"var(--rk-blurs-modalOverlay)"}},_re={shrink:"_12cbo8i6",shrinkSm:"_12cbo8i7"},Sre="_12cbo8i3 ju367v8r",Cre={grow:"_12cbo8i4",growLg:"_12cbo8i5"};function ir({active:t,hover:e}){return[Sre,e&&Cre[e],_re[t]]}var XU=U.createContext(null);function Tre(){const{adapter:t}=U.useContext(XU)??{};if(!t)throw new Error("No authentication adapter found");return t}function A1(){return U.useContext(XU)?.status??null}function GT(){const t=A1(),{isConnected:e}=Ir();return e?t&&(t==="loading"||t==="unauthenticated")?t:"connected":"disconnected"}function HT(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function Mre(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function Ire(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function Fu(){return Mre()||Ire()}function Pr(){return HT()||Fu()}var Rre="iekbcc0",Pre={a:"iekbcca",blockquote:"iekbcc2",button:"iekbcc9",input:"iekbcc8 iekbcc5 iekbcc4",mark:"iekbcc6",ol:"iekbcc1",q:"iekbcc2",select:"iekbcc7 iekbcc5 iekbcc4",table:"iekbcc3",textarea:"iekbcc5 iekbcc4",ul:"iekbcc1"},Nre=({reset:t,...e})=>{if(!t)return V2(e);const n=Pre[t],r=V2(e);return tU(Rre,n,r)},re=L.forwardRef(({as:t="div",className:e,testId:n,...r},i)=>{const o={},s={};for(const l in r)V2.properties.has(l)?o[l]=r[l]:s[l]=r[l];const a=Nre({reset:typeof t=="string"?t:"div",...o});return L.createElement(t,{className:tU(a,e),...s,"data-testid":n?`rk-${n.replace(/^rk-/,"")}`:void 0,ref:i})});re.displayName="Box";var YU=new Map,mx=new Map;async function JU(t){const e=mx.get(t);if(e)return e;const n=async()=>t().then(async i=>(YU.set(t,i),i)),r=n().catch(i=>n().catch(o=>{mx.delete(t)}));return mx.set(t,r),r}async function Xs(...t){return await Promise.all(t.map(e=>typeof e=="function"?JU(e):e))}function kre(){const[,t]=U.useReducer(e=>e+1,0);return t}function _1(t){const e=typeof t=="function"?YU.get(t):void 0,n=kre();return U.useEffect(()=>{typeof t=="function"&&!e&&JU(t).then(n)},[t,e,n]),typeof t=="function"?e:t}function Mr({alt:t,background:e,borderColor:n,borderRadius:r,useAsImage:i,boxShadow:o,height:s,src:a,width:l,testId:c}){const u=Fu(),d=_1(a),f=d&&/^http/.test(d),[h,g]=U.useReducer(()=>!0,!1);return L.createElement(re,{"aria-label":t,borderRadius:r,boxShadow:o,height:typeof s=="string"?s:void 0,overflow:"hidden",position:"relative",role:"img",style:{background:e,height:typeof s=="number"?s:void 0,width:typeof l=="number"?l:void 0},width:typeof l=="string"?l:void 0,testId:c},L.createElement(re,{...f?{"aria-hidden":!0,as:"img",onLoad:g,src:d}:{"aria-hidden":!0,as:"img",src:d},height:"full",position:"absolute",...u?{WebkitUserSelect:"none"}:{},style:{WebkitTouchCallout:"none",transition:"opacity .15s linear",userSelect:"none",...!i&&f?{opacity:h?1:0}:{}},width:"full"}),n?L.createElement(re,{...typeof n=="object"&&"custom"in n?{style:{borderColor:n.custom}}:{borderColor:n},borderRadius:r,borderStyle:"solid",borderWidth:"1",height:"full",position:"relative",width:"full"}):null)}var Fre="_1luule42",Ore="_1luule43",Bre=t=>U.useMemo(()=>`${t}_${Math.round(Math.random()*1e9)}`,[t]),ym=({height:t=21,width:e=21})=>{const n=Bre("spinner");return L.createElement("svg",{className:Fre,fill:"none",height:t,viewBox:"0 0 21 21",width:e,xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Loading"),L.createElement("clipPath",{id:n},L.createElement("path",{d:"M10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18C11.3284 18 12 18.6716 12 19.5C12 20.3284 11.3284 21 10.5 21C4.70101 21 0 16.299 0 10.5C0 4.70101 4.70101 0 10.5 0C16.299 0 21 4.70101 21 10.5C21 11.3284 20.3284 12 19.5 12C18.6716 12 18 11.3284 18 10.5C18 6.35786 14.6421 3 10.5 3Z"})),L.createElement("foreignObject",{clipPath:`url(#${n})`,height:"21",width:"21",x:"0",y:"0"},L.createElement("div",{className:Ore})))},Qt=["#FC5C54","#FFD95A","#E95D72","#6A87C8","#5FD0F3","#75C06B","#FFDD86","#5FC6D4","#FF949A","#FF8024","#9BA1A4","#EC66FF","#FF8CBC","#FF9A23","#C5DADB","#A8CE63","#71ABFF","#FFE279","#B6B1B6","#FF6780","#A575FF","#4D82FF","#FFB35A"],rR=[{color:Qt[0],emoji:""},{color:Qt[1],emoji:""},{color:Qt[2],emoji:""},{color:Qt[3],emoji:""},{color:Qt[4],emoji:""},{color:Qt[0],emoji:""},{color:Qt[5],emoji:""},{color:Qt[6],emoji:""},{color:Qt[7],emoji:""},{color:Qt[8],emoji:""},{color:Qt[9],emoji:""},{color:Qt[10],emoji:""},{color:Qt[11],emoji:""},{color:Qt[12],emoji:""},{color:Qt[13],emoji:""},{color:Qt[8],emoji:""},{color:Qt[14],emoji:""},{color:Qt[0],emoji:""},{color:Qt[8],emoji:""},{color:Qt[1],emoji:""},{color:Qt[15],emoji:""},{color:Qt[16],emoji:""},{color:Qt[17],emoji:""},{color:Qt[18],emoji:""},{color:Qt[19],emoji:""},{color:Qt[1],emoji:""},{color:Qt[20],emoji:""},{color:Qt[15],emoji:""},{color:Qt[0],emoji:""},{color:Qt[17],emoji:""},{color:Qt[4],emoji:""},{color:Qt[21],emoji:""},{color:Qt[17],emoji:""},{color:Qt[8],emoji:""},{color:Qt[22],emoji:""}];function Lre(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e|=0}return e}function Dre(t){const n=Math.abs(Lre((typeof t=="string"?t:"").toLowerCase())%rR.length);return rR[n??0]}var Ure=({address:t,ensImage:e,size:n})=>{const[r,i]=U.useState(!1);U.useEffect(()=>{if(e){const a=new Image;a.src=e,a.onload=()=>i(!0)}},[e]);const{color:o,emoji:s}=U.useMemo(()=>Dre(t),[t]);return e?r?L.createElement(re,{backgroundSize:"cover",borderRadius:"full",position:"absolute",style:{backgroundImage:`url(${e})`,backgroundPosition:"center",height:n,width:n}}):L.createElement(re,{alignItems:"center",backgroundSize:"cover",borderRadius:"full",color:"modalText",display:"flex",justifyContent:"center",position:"absolute",style:{height:n,width:n}},L.createElement(ym,null)):L.createElement(re,{alignItems:"center",display:"flex",justifyContent:"center",overflow:"hidden",style:{...!e&&{backgroundColor:o},height:n,width:n}},s)},ZU=Ure,e8=U.createContext(ZU);function t8({address:t,imageUrl:e,loading:n,size:r}){const i=U.useContext(e8);return L.createElement(re,{"aria-hidden":!0,borderRadius:"full",overflow:"hidden",position:"relative",style:{height:`${r}px`,width:`${r}px`},userSelect:"none"},L.createElement(re,{alignItems:"center",borderRadius:"full",display:"flex",justifyContent:"center",overflow:"hidden",position:"absolute",style:{fontSize:`${Math.round(r*.55)}px`,height:`${r}px`,transform:n?"scale(0.72)":void 0,transition:".25s ease",transitionDelay:n?void 0:".1s",width:`${r}px`,willChange:"transform"},userSelect:"none"},L.createElement(i,{address:t,ensImage:e,size:r})),n&&L.createElement(re,{color:"accentColor",display:"flex",height:"full",position:"absolute",width:"full"},L.createElement(ym,{height:"100%",width:"100%"})))}var iR=()=>L.createElement("svg",{fill:"none",height:"7",width:"14",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Dropdown"),L.createElement("path",{d:"M12.75 1.54001L8.51647 5.0038C7.77974 5.60658 6.72026 5.60658 5.98352 5.0038L1.75 1.54001",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",xmlns:"http://www.w3.org/2000/svg"})),oR={defaultLocale:"en",locale:"en"},zre=class{constructor(t){this.listeners=new Set,this.defaultLocale=oR.defaultLocale,this.enableFallback=!1,this.locale=oR.locale,this.cachedLocales=[],this.translations={};for(const[e,n]of Object.entries(t))this.cachedLocales=[...this.cachedLocales,e],this.translations={...this.translations,...this.flattenTranslation(n,e)}}missingMessage(t){return`[missing: "${this.locale}.${t}" translation]`}flattenTranslation(t,e){const n={},r=(i,o)=>{for(const s of Object.keys(i)){const a=`${o}.${s}`,l=i[s];typeof l=="object"&&l!==null?r(l,a):n[a]=l}};return r(t,e),n}translateWithReplacements(t,e={}){let n=t;for(const r in e){const i=e[r];n=n.replace(`%{${r}}`,i)}return n}t(t,e,n){const r=`${this.locale}.${t}`,i=this.translations[r];if(!i){if(this.enableFallback){const o=`${this.defaultLocale}.${t}`,s=this.translations[o];if(s)return this.translateWithReplacements(s,e)}return n?.rawKeyIfTranslationMissing?t:this.missingMessage(t)}return this.translateWithReplacements(i,e)}isLocaleCached(t){return this.cachedLocales.includes(t)}updateLocale(t){this.locale=t,this.notifyListeners()}setTranslations(t,e){this.isLocaleCached(t)||(this.cachedLocales=[...this.cachedLocales,t],this.translations={...this.translations,...this.flattenTranslation(e,t)}),this.locale=t,this.notifyListeners()}notifyListeners(){for(const t of this.listeners)t()}onChange(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}},Mo=new zre({en:JSON.parse(B2),"en-US":JSON.parse(B2)});Mo.defaultLocale="en-US";Mo.locale="en-US";Mo.enableFallback=!0;var jre=async t=>{switch(t){case"ar":case"ar-AR":return(await Qe(async()=>{const{default:e}=await import("./ar_AR-CTNWGWSS-DlAFo0vZ.js");return{default:e}},[])).default;case"de":case"de-DE":return(await Qe(async()=>{const{default:e}=await import("./de_DE-P43L3PR7-pJRS3eyz.js");return{default:e}},[])).default;case"en":case"en-US":return(await Qe(async()=>{const{default:e}=await Promise.resolve().then(()=>tF);return{default:e}},void 0)).default;case"es":case"es-419":return(await Qe(async()=>{const{default:e}=await import("./es_419-JBX5FS3Q-Bk-MlIq_.js");return{default:e}},[])).default;case"fr":case"fr-FR":return(await Qe(async()=>{const{default:e}=await import("./fr_FR-CM2EDAQC-DvlCXiU9.js");return{default:e}},[])).default;case"hi":case"hi-IN":return(await Qe(async()=>{const{default:e}=await import("./hi_IN-GYVCUYRD-CQnOa8U_.js");return{default:e}},[])).default;case"id":case"id-ID":return(await Qe(async()=>{const{default:e}=await import("./id_ID-7ZWSMOOE-ZzIoBaiI.js");return{default:e}},[])).default;case"ja":case"ja-JP":return(await Qe(async()=>{const{default:e}=await import("./ja_JP-CGMP6VLZ-BBxPp4Hq.js");return{default:e}},[])).default;case"ko":case"ko-KR":return(await Qe(async()=>{const{default:e}=await import("./ko_KR-YCZDTF7X-4W342j3x.js");return{default:e}},[])).default;case"ms":case"ms-MY":return(await Qe(async()=>{const{default:e}=await import("./ms_MY-5LHAYMS7-BUU8UB2I.js");return{default:e}},[])).default;case"pt":case"pt-BR":return(await Qe(async()=>{const{default:e}=await import("./pt_BR-3JTS4PSK-Cou37HE0.js");return{default:e}},[])).default;case"ru":case"ru-RU":return(await Qe(async()=>{const{default:e}=await import("./ru_RU-6J6XERHI-BEDPqa1p.js");return{default:e}},[])).default;case"th":case"th-TH":return(await Qe(async()=>{const{default:e}=await import("./th_TH-STXOD4CR-DmwaGyKS.js");return{default:e}},[])).default;case"tr":case"tr-TR":return(await Qe(async()=>{const{default:e}=await import("./tr_TR-P7QAUUZU-DHzPxq5a.js");return{default:e}},[])).default;case"ua":case"uk-UA":return(await Qe(async()=>{const{default:e}=await import("./uk_UA-JTTBGJGQ-bEPIKyyu.js");return{default:e}},[])).default;case"vi":case"vi-VN":return(await Qe(async()=>{const{default:e}=await import("./vi_VN-5XUUAVWW-DvcbUvCZ.js");return{default:e}},[])).default;case"zh":case"zh-CN":case"zh-Hans":return(await Qe(async()=>{const{default:e}=await import("./zh_CN-RGMLPFEP-CPkk4IYh.js");return{default:e}},[])).default;case"zh-HK":return(await Qe(async()=>{const{default:e}=await import("./zh_HK-YM3T6EI5-BYHcXtXC.js");return{default:e}},[])).default;case"zh-Hant":case"zh-TW":return(await Qe(async()=>{const{default:e}=await import("./zh_TW-HAEH6VE5-r-nym7hs.js");return{default:e}},[])).default;default:return(await Qe(async()=>{const{default:e}=await Promise.resolve().then(()=>tF);return{default:e}},void 0)).default}};async function sR(t){if(Mo.isLocaleCached(t)){Mo.updateLocale(t);return}const n=await jre(t);Mo.setTranslations(t,JSON.parse(n))}var Gre=()=>{if(typeof window<"u"&&typeof navigator<"u"){if(navigator.languages?.length)return navigator.languages[0];if(navigator.language)return navigator.language}},ar=U.createContext({i18n:Mo}),Hre=({children:t,locale:e})=>{const[n,r]=U.useState(0),i=U.useMemo(()=>Gre(),[]);U.useEffect(()=>Mo.onChange(()=>{r(a=>a+1)}),[]),U.useEffect(()=>{e&&e!==Mo.locale?sR(e):!e&&i&&i!==Mo.locale&&sR(i)},[e,i]);const o=U.useMemo(()=>({t:(a,l)=>Mo.t(a,l),i18n:Mo}),[n]);return L.createElement(ar.Provider,{value:o},t)};function n8(t){return t!=null}var aR={iconBackground:"#7290CC",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./apechain-SX5YFU6N-q5qBv-mp.js");return{default:t}},[])).default},gx={iconBackground:"#96bedc",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./arbitrum-WURIBY6W-CqVkHBr5.js");return{default:t}},[])).default},lR={iconBackground:"#e84141",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./avalanche-KOMJD3XY-Dsn_JPR4.js");return{default:t}},[])).default},yx={iconBackground:"#0052ff",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./base-OAXLRA4F-CoYTVIiL.js");return{default:t}},[])).default},vx={iconBackground:"#814625",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./berachain-NJECWIVC-DumxnFvf.js");return{default:t}},[])).default},cR={iconBackground:"#000000",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./blast-V555OVXZ-BbhJh1tj.js");return{default:t}},[])).default},uR={iconBackground:"#ebac0e",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./bsc-N647EYR2-B2nLKXWV.js");return{default:t}},[])).default},dR={iconBackground:"#FCFF52",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./celo-GEP4TUHG-CenIBYLU.js");return{default:t}},[])).default},fR={iconBackground:"#002D74",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./cronos-HJPAQTAE-BEOvlOC4.js");return{default:t}},[])).default},Wre={iconBackground:"#A36EFD",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./degen-FQQ4XGHB-CeHTs88l.js");return{default:t}},[])).default},tl={iconBackground:"#484c50",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./ethereum-RGGVA4PY-SWGOlkuk.js");return{default:t}},[])).default},hR={iconBackground:"transparent",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./flow-5FQJFCTK-CUie2reO.js");return{default:t}},[])).default},Vre={iconBackground:"#04795c",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./gnosis-37ZC4RBL-B137OtHZ.js");return{default:t}},[])).default},pR={iconBackground:"#000000",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./gravity-J5YQHTYH-Bj6B0uod.js");return{default:t}},[])).default},$re={iconBackground:"#f9f7ec",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./hardhat-TX56IT5N-CV1FY-wE.js");return{default:t}},[])).default},qre={iconBackground:"#000000",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./hyperevm-VKPAA4SA-CHwraEsx.js");return{default:t}},[])).default},mR={iconBackground:"#7132F5",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./ink-FZMYZWHG-62p-5IK5.js");return{default:t}},[])).default},gR={iconBackground:"transparent",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./kaia-65D2U3PU-JmuLQ4gC.js");return{default:t}},[])).default},wx={iconBackground:"#ffffff",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./linea-QRMVQ5DY-DuI3vv0d.js");return{default:t}},[])).default},bx={iconBackground:"#ffffff",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./manta-SI27YFEJ-CpVOKa06.js");return{default:t}},[])).default},yR={iconBackground:"#000000",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./mantle-CKIUT334-DR2WgqzU.js");return{default:t}},[])).default},tg={iconBackground:"#ff5a57",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./optimism-HAF2GUT7-ec6Nqxs9.js");return{default:t}},[])).default},xx={iconBackground:"#9f71ec",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./polygon-WW6ZI7PM-DXlmm4L1.js");return{default:t}},[])).default},Kre={iconBackground:"#1273EA",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./ronin-EMCPYXZT-N-QBHZdV.js");return{default:t}},[])).default},Qre={iconBackground:"#000000",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./sanko-RHQYXGM5-OX010CbN.js");return{default:t}},[])).default},Xre={iconBackground:"#000000",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./superposition-HG6MMR2Y-bRkgatRO.js");return{default:t}},[])).default},vR={iconBackground:"#FFEEDA",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./scroll-5OBGQVOV-DJFECiai.js");return{default:t}},[])).default},wR={iconBackground:"#F50DB4",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./unichain-C5BWO2ZY-BfguYsnu.js");return{default:t}},[])).default},bR={iconBackground:"#f9f7ec",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./xdc-KJ3TDBYO-DNV6zchh.js");return{default:t}},[])).default},xR={iconBackground:"#000000",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./zetachain-TLDS5IPW-Udhyw16T.js");return{default:t}},[])).default},ER={iconBackground:"#f9f7ec",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./zksync-DH7HK5U4-Dt4usFw6.js");return{default:t}},[])).default},Ex={iconBackground:"#000000",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./zora-FYL5H3IO-iB4wygST.js");return{default:t}},[])).default},Yre={apechain:{chainId:33139,name:"ApeChain",...aR},apechainCurtis:{chainId:33111,name:"ApeChain Curtis",...aR},arbitrum:{chainId:42161,name:"Arbitrum",...gx},arbitrumGoerli:{chainId:421613,...gx},arbitrumSepolia:{chainId:421614,...gx},avalanche:{chainId:43114,...lR},avalancheFuji:{chainId:43113,...lR},base:{chainId:8453,name:"Base",...yx},baseGoerli:{chainId:84531,...yx},baseSepolia:{chainId:84532,...yx},berachain:{chainId:80094,name:"Berachain",...vx},berachainArtio:{chainId:80085,name:"Berachain Artio",...vx},berachainBArtio:{chainId:80084,name:"Berachain bArtio",...vx},blast:{chainId:81457,name:"Blast",...cR},blastSepolia:{chainId:168587773,...cR},bsc:{chainId:56,name:"BSC",...uR},bscTestnet:{chainId:97,...uR},celo:{chainId:42220,name:"Celo",...dR},celoAlfajores:{chainId:44787,name:"Celo Alfajores",...dR},cronos:{chainId:25,...fR},cronosTestnet:{chainId:338,...fR},degen:{chainId:666666666,name:"Degen",...Wre},flow:{chainId:747,...hR},flowTestnet:{chainId:545,...hR},gnosis:{chainId:100,name:"Gnosis",...Vre},goerli:{chainId:5,...tl},gravity:{chainId:1625,name:"Gravity",...pR},gravitySepolia:{chainId:13505,name:"Gravity Sepolia",...pR},hardhat:{chainId:31337,...$re},holesky:{chainId:17e3,...tl},hyperevm:{chainId:999,...qre},ink:{chainId:57073,...mR},inkSepolia:{chainId:763373,...mR},kaia:{chainId:8217,name:"Kaia",...gR},kairos:{chainId:1001,name:"Kairos",...gR},kovan:{chainId:42,...tl},linea:{chainId:59144,name:"Linea",...wx},lineaGoerli:{chainId:59140,name:"Linea Goerli",...wx},lineaSepolia:{chainId:59141,name:"Linea Sepolia",...wx},localhost:{chainId:1337,...tl},mainnet:{chainId:1,name:"Ethereum",...tl},manta:{chainId:169,name:"Manta",...bx},mantaSepolia:{chainId:3441006,...bx},mantaTestnet:{chainId:3441005,...bx},mantle:{chainId:5e3,...yR},mantleTestnet:{chainId:5001,...yR},optimism:{chainId:10,name:"Optimism",...tg},optimismGoerli:{chainId:420,...tg},optimismKovan:{chainId:69,...tg},optimismSepolia:{chainId:11155420,...tg},polygon:{chainId:137,name:"Polygon",...xx},polygonAmoy:{chainId:80002,...xx},polygonMumbai:{chainId:80001,...xx},rinkeby:{chainId:4,...tl},ronin:{chainId:2020,...Kre},ropsten:{chainId:3,...tl},sanko:{chainId:1996,name:"Sanko",...Qre},scroll:{chainId:534352,...vR},scrollSepolia:{chainId:534351,...vR},sepolia:{chainId:11155111,...tl},superposition:{chainId:55244,name:"Superposition",...Xre},unichain:{chainId:130,...wR},unichainSepolia:{chainId:1301,...wR},xdc:{chainId:50,name:"XDC",...bR},xdcTestnet:{chainId:51,...bR},zetachain:{chainId:7e3,name:"ZetaChain",...xR},zetachainAthensTestnet:{chainId:7001,name:"Zeta Athens",...xR},zkSync:{chainId:324,name:"zkSync",...ER},zkSyncTestnet:{chainId:280,...ER},zora:{chainId:7777777,name:"Zora",...Ex},zoraSepolia:{chainId:999999999,...Ex},zoraTestnet:{chainId:999,...Ex}},Jre=Object.fromEntries(Object.values(Yre).filter(n8).map(({chainId:t,...e})=>[t,e])),Zre=t=>t.map(e=>{const n=Jre[e.id]??{};return{...e,name:n.name??e.name,iconUrl:e.iconUrl??n.iconUrl,iconBackground:e.iconBackground??n.iconBackground}}),WT=U.createContext({chains:[]});function eie({children:t,initialChain:e}){const{chains:n}=yr();return L.createElement(WT.Provider,{value:U.useMemo(()=>({chains:Zre(n),initialChainId:typeof e=="number"?e:e?.id}),[n,e])},t)}var Ou=()=>U.useContext(WT).chains,tie=()=>U.useContext(WT).initialChainId,nie=()=>{const t=Ou();return U.useMemo(()=>{const e={};for(const n of t)e[n.id]=n;return e},[t])},r8=U.createContext({showBalance:void 0,setShowBalance:()=>{}});function rie({children:t}){const[e,n]=U.useState();return L.createElement(r8.Provider,{value:{showBalance:e,setShowBalance:n}},t)}var i8=()=>U.useContext(r8);function iie(){const[t,e]=U.useState(!1);return U.useEffect(()=>(e(!0),()=>{e(!1)}),[]),U.useCallback(()=>t,[t])}function o8(){const t=Ou(),e=ku.id;return t.some(r=>r.id===e)}function oie(t){const e=o8(),n=i=>{try{return ine(i)}catch{}},{data:r}=lte({chainId:ku.id,name:t?n(t):void 0,query:{enabled:e}});return r}async function sc(t,e){if(e={headers:{},method:"get",...e,timeout:e.timeout??1e4},!t)throw new Error("rainbowFetch: Missing url argument");const n=new AbortController,r=setTimeout(()=>n.abort(),e.timeout),{body:i,params:o,headers:s,...a}=e,l=i&&typeof i=="object"?JSON.stringify(e.body):e.body,c=await fetch(`${t}${aie(o)}`,{...a,body:l,headers:{Accept:"application/json","Content-Type":"application/json",...s},signal:n.signal});clearTimeout(r);const u=await sie(c);if(c.ok){const{headers:h,status:g}=c;return{data:u,headers:h,status:g}}throw lie({requestBody:i,response:c,responseBody:typeof u=="string"?{error:u}:u})}function sie(t){return t.headers.get("Content-Type")?.startsWith("application/json")?t.json():t.text()}function aie(t){return t&&Object.keys(t).length?`?${new URLSearchParams(t)}`:""}function lie({requestBody:t,response:e,responseBody:n}){const r=n?.error||e?.statusText||"There was an error with the request.",i=new Error(r);return i.response=e,i.responseBody=n,i.requestBody=t,i}var cie=class{constructor(t={}){const{baseUrl:e="",...n}=t;this.baseUrl=e,this.opts=n}get(t,e){return sc(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"get"})}delete(t,e){return sc(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"delete"})}head(t,e){return sc(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"head"})}options(t,e){return sc(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"options"})}post(t,e,n){return sc(`${this.baseUrl}${t}`,{...this.opts,...n||{},body:e,method:"post"})}put(t,e,n){return sc(`${this.baseUrl}${t}`,{...this.opts,...n||{},body:e,method:"put"})}patch(t,e,n){return sc(`${this.baseUrl}${t}`,{...this.opts,...n||{},body:e,method:"patch"})}};function uie({baseUrl:t,headers:e,params:n,timeout:r}){return new cie({baseUrl:t,headers:e,params:n,timeout:r})}var die=!!(typeof process<"u"&&typeof kv<"u"&&kv.RAINBOW_PROVIDER_API_KEY),fie=uie({baseUrl:"https://enhanced-provider.rainbow.me",headers:{"x-api-key":typeof process<"u"&&typeof kv<"u"&&kv.RAINBOW_PROVIDER_API_KEY||"LzbasoBiLqltex3VkcQ7LRmL4PtfiiZ1EMJrizrgfonWN6byJReu/l6yrUoo3zLW"}});function hie(t,e,n={}){return[t,e,n]}function xy(t){return`rk-ens-name-${t}`}function pie(t){try{const e=t?JSON.parse(t):null;return typeof e=="object"?e:null}catch{return null}}function mie(t,e){if(!sr(t))return;const n=new Date,r=new Date(n.getTime()+180*6e4);localStorage.setItem(xy(t),JSON.stringify({ensName:e,expires:r.getTime()}))}function gie(t){const e=pie(localStorage.getItem(xy(t)));if(!e)return null;const{ensName:n,expires:r}=e;return typeof n!="string"||Number.isNaN(Number(r))||new Date().getTime()>Number(r)?(localStorage.removeItem(xy(t)),null):n}async function yie({address:t}){const e=gie(t);if(e)return e;const r=(await fie.get("/v1/resolve-ens",{params:{address:t}})).data.data;return r&&mie(t,r),r}function vie(t){const e=o8(),{data:n}=cte({chainId:ku.id,address:t,query:{enabled:e}}),{data:r}=HD({queryKey:hie("address",t),queryFn:()=>yie({address:t}),enabled:!e&&!!t&&die,staleTime:10*(60*1e3),retry:1});return n||r}function s8({address:t,includeBalance:e}){const n=vie(t),r=oie(n),{data:i}=WD({address:e?t:void 0});return{ensName:n,ensAvatar:r,balance:i}}function VT(){const{chain:t}=Ir();return t?.id??null}var a8="rk-transactions";function wie(t){try{const e=t?JSON.parse(t):{};return typeof e=="object"?e:{}}catch{return{}}}function AR(){return wie(typeof localStorage<"u"?localStorage.getItem(a8):null)}var bie=/^0x([A-Fa-f0-9]{64})$/;function xie(t){const e=[];return bie.test(t.hash)||e.push("Invalid transaction hash"),typeof t.description!="string"&&e.push("Transaction must have a description"),typeof t.confirmations<"u"&&(!Number.isInteger(t.confirmations)||t.confirmations<1)&&e.push("Transaction confirmations must be a positiver integer"),e}function Eie({provider:t}){let e=AR(),n=t;const r=new Set,i=new Set,o=new Map;function s(v){n=v}function a(v,w){return e[v]?.[w]??[]}function l(v,w,x){const T=xie(x);if(T.length>0)throw new Error(["Unable to add transaction",...T].join(`
`));f(v,w,k=>[{...x,status:"pending"},...k.filter(({hash:A})=>A!==x.hash)])}function c(v,w){f(v,w,()=>[])}function u(v,w,x,T){f(v,w,k=>k.map(A=>A.hash===x?{...A,status:T}:A))}async function d(v,w){await Promise.all(a(v,w).filter(x=>x.status==="pending").map(async x=>{const{confirmations:T,hash:k}=x,A=o.get(k);if(A)return await A;const z=n.waitForTransactionReceipt({confirmations:T,hash:k,timeout:3e5}).then(({status:S})=>{o.delete(k),S!==void 0&&(u(v,w,k,S===0||S==="reverted"?"failed":"confirmed"),m(S))}).catch(()=>{u(v,w,k,"failed")});return o.set(k,z),await z}))}function f(v,w,x){e=AR(),e[v]=e[v]??{};let T=0;const k=10,A=x(e[v][w]??[]).filter(({status:z})=>z==="pending"?!0:T++<=k);e[v][w]=A.length>0?A:void 0,h(),g(),d(v,w)}function h(){localStorage.setItem(a8,JSON.stringify(e))}function g(){for(const v of r)v()}function m(v){for(const w of i)w(v)}function y(v){return r.add(v),()=>{r.delete(v)}}function p(v){return i.add(v),()=>{i.delete(v)}}return{addTransaction:l,clearTransactions:c,getTransactions:a,onTransactionStatus:p,onChange:y,setProvider:s,waitForPendingTransactions:d}}var _R,l8=L.createContext(null);function Aie({children:t}){const e=NT(),{address:n}=Ir(),r=VT(),{refetch:i}=WD({address:n,query:{enabled:!1}}),[o]=L.useState(()=>_R??(_R=Eie({provider:e}))),s=L.useCallback(a=>{a==="success"&&i()},[i]);return L.useEffect(()=>{o.setProvider(e)},[o,e]),L.useEffect(()=>{n&&r&&o.waitForPendingTransactions(n,r)},[o,n,r]),L.useEffect(()=>{if(o&&n&&r)return o.onTransactionStatus(s)},[o,n,r,s]),L.createElement(l8.Provider,{value:o},t)}function c8(){const t=L.useContext(l8);if(!t)throw new Error("Transaction hooks must be used within RainbowKitProvider");return t}function u8(){const t=c8(),{address:e}=Ir(),n=VT(),[r,i]=U.useState(()=>t&&e&&n?t.getTransactions(e,n):[]);return U.useEffect(()=>{if(t&&e&&n)return i(t.getTransactions(e,n)),t.onChange(()=>{i(t.getTransactions(e,n))})},[t,e,n]),r}var SR=t=>typeof t=="function"?t():t;function _ie(t,{extends:e}={}){const n={...qI(nR,SR(t))};if(!e)return n;const r=qI(nR,SR(e));return Object.fromEntries(Object.entries(n).filter(([o,s])=>s!==r[o]))}function CR(t,e={}){return Object.entries(_ie(t,e)).map(([n,r])=>`${n}:${r.replace(/[:;{}</>]/g,"")};`).join("")}var d8={appName:void 0,disclaimer:void 0,learnMoreUrl:"https://learn.rainbow.me/understanding-web3?utm_source=rainbowkit&utm_campaign=learnmore"},r0=U.createContext(d8),f8=U.createContext(!1);function Sie(t,e){let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,t()},e)}}var h8=()=>{const[t,e]=U.useState({height:void 0,width:void 0});return U.useEffect(()=>{const n=Sie(()=>{e({height:window.innerHeight,width:window.innerWidth})},500);return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t},i0=U.createContext({connector:null,setConnector:()=>{}});function Cie({children:t}){const[e,n]=U.useState(null);return L.createElement(i0.Provider,{value:U.useMemo(()=>({connector:e,setConnector:n}),[e])},t)}var o0={COMPACT:"compact",WIDE:"wide"},S1=U.createContext(o0.WIDE);function Tie({children:t,modalSize:e}){const{width:n}=h8(),r=n&&n<Are,{connector:i}=U.useContext(i0);return L.createElement(S1.Provider,{value:r||i?o0.COMPACT:e},t)}var $T=U.createContext(!1),Mie="rk-version";function Iie({version:t}){localStorage.setItem(Mie,t)}function Rie(){const t=U.useCallback(()=>{Iie({version:"2.2.7"})},[]);U.useEffect(()=>{t()},[t])}function Pie(t,e){const n={};for(const r of t){const i=e(r);i&&(n[i]=r)}return n}function qT(){return typeof navigator<"u"&&typeof navigator.userAgent<"u"&&/Version\/([0-9._]+).*Safari/.test(navigator.userAgent)}function Nie(){return typeof document<"u"&&getComputedStyle(document.body).getPropertyValue("--arc-palette-focus")!==""}function KT(){if(typeof navigator>"u")return"Browser";const t=navigator.userAgent?.toLowerCase();return navigator.brave?.isBrave?"Brave":t?.indexOf("edg/")>-1?"Edge":t?.indexOf("op")>-1?"Opera":Nie()?"Arc":t?.indexOf("chrome")>-1?"Chrome":t?.indexOf("firefox")>-1?"Firefox":qT()?"Safari":"Browser"}var kie=tre.UAParser(),{os:QT}=kie;function Fie(){return QT.name==="Windows"}function Oie(){return QT.name==="Mac OS"}function Bie(){return["Ubuntu","Mint","Fedora","Debian","Arch","Linux"].includes(QT.name)}function XT(){return Fie()?"Windows":Oie()?"macOS":Bie()?"Linux":"Desktop"}var Lie=t=>{const e=KT();return{Arc:t?.downloadUrls?.chrome,Brave:t?.downloadUrls?.chrome,Chrome:t?.downloadUrls?.chrome,Edge:t?.downloadUrls?.edge||t?.downloadUrls?.chrome,Firefox:t?.downloadUrls?.firefox,Opera:t?.downloadUrls?.opera||t?.downloadUrls?.chrome,Safari:t?.downloadUrls?.safari,Browser:t?.downloadUrls?.browserExtension}[e]??t?.downloadUrls?.browserExtension},Die=t=>(Fu()?t?.downloadUrls?.ios:t?.downloadUrls?.android)??t?.downloadUrls?.mobile,Uie=t=>{const e=XT();return{Windows:t?.downloadUrls?.windows,macOS:t?.downloadUrls?.macos,Linux:t?.downloadUrls?.linux,Desktop:t?.downloadUrls?.desktop}[e]??t?.downloadUrls?.desktop},p8=(t,e)=>t.some(n=>n.id===e),zie=t=>!!t.isRainbowKitConnector,TR=t=>!!(!t.isRainbowKitConnector&&t.icon?.replace(/\n/g,"").startsWith("data:image")&&t.uid&&t.name),jie=(t,e)=>t.id==="walletConnect"&&e?{...t,walletConnectModalConnector:e}:t,Gie=({wallets:t,recentWallets:e})=>[...e,...t.filter(n=>!p8(e,n.id))],m8="rk-recent";function Hie(t){try{const e=t?JSON.parse(t):[];return Array.isArray(e)?e:[]}catch{return[]}}function g8(){return typeof localStorage<"u"?Hie(localStorage.getItem(m8)):[]}function Wie(t){return[...new Set(t)]}function Vie(t){const e=Wie([t,...g8()]);localStorage.setItem(m8,JSON.stringify(e))}function vm(t=!1){const e=Ou(),n=tie(),{connectAsync:r,connectors:i}=ste(),o=i,{setIsWalletConnectModalOpen:s}=j8(),a=o.map(x=>({...x,...x.rkDetails||{}}));async function l(x){const T=await x.getChainId(),k=await r({chainId:n??e.find(({id:A})=>A===T)?.id??e[0]?.id,connector:x});return k&&Vie(x.id),k}async function c(x){try{s(!0),await l(x),s(!1)}catch(T){const k=T.name==="UserRejectedRequestError"||T.message==="Connection request reset. Please try again.";if(s(!1),!k)throw T}}const u=async(x,T)=>{const k=await x.getProvider();return x.id==="coinbase"?k.qrUrl:new Promise(A=>k.once("display_uri",z=>{A(T(z))}))},d=a.find(x=>x.id==="walletConnect"&&x.isWalletConnectModalConnector),f=a.filter(TR).map(x=>({...x,groupIndex:0})),h=a.filter(zie).filter(x=>!x.isWalletConnectModalConnector).filter(x=>t?!f.some(k=>k.id===x.rdns):!0).map(x=>jie(x,d)),g=[...f,...h],m=Pie(g,x=>x.id),p=g8().map(x=>m[x]).filter(Boolean).slice(0,3),v=[],w=Gie({wallets:g,recentWallets:p});for(const x of w){if(!x)continue;const T=TR(x),k=p8(p,x.id);if(T){v.push({...x,iconUrl:x.icon,ready:!0,connect:()=>l(x),groupName:"Installed",recent:k});continue}v.push({...x,ready:x.installed??!0,connect:()=>l(x),desktopDownloadUrl:Uie(x),extensionDownloadUrl:Lie(x),groupName:x.groupName,mobileDownloadUrl:Die(x),getQrCodeUri:x.qrCode?.getUri?()=>u(x,x.qrCode.getUri):void 0,getDesktopUri:x.desktop?.getUri?()=>u(x,x.desktop.getUri):void 0,getMobileUri:x.mobile?.getUri?()=>u(x,x.mobile?.getUri):void 0,recent:k,showWalletConnectModal:x.walletConnectModalConnector?()=>c(x.walletConnectModalConnector):void 0})}return v}var y8=async()=>(await Qe(async()=>{const{default:t}=await import("./assets-Q6ZU7ZJ5-P8HioiAD.js");return{default:t}},[])).default,$ie=()=>Xs(y8),qie=()=>L.createElement(Mr,{background:"#d0d5de",borderRadius:"10",height:"48",src:y8,width:"48"}),v8=async()=>(await Qe(async()=>{const{default:t}=await import("./login-UP3DZBGS-Db_wM5oQ.js");return{default:t}},[])).default,Kie=()=>Xs(v8),Qie=()=>L.createElement(Mr,{background:"#d0d5de",borderRadius:"10",height:"48",src:v8,width:"48"}),St=L.forwardRef(({as:t="div",children:e,className:n,color:r,display:i,font:o="body",id:s,size:a="16",style:l,tabIndex:c,textAlign:u="inherit",weight:d="regular",testId:f},h)=>L.createElement(re,{as:t,className:n,color:r,display:i,fontFamily:o,fontSize:a,fontWeight:d,id:s,ref:h,style:l,tabIndex:c,textAlign:u,testId:f},e));St.displayName="Text";var Xie={large:{fontSize:"16",paddingX:"24",paddingY:"10"},medium:{fontSize:"14",height:"28",paddingX:"12",paddingY:"4"},small:{fontSize:"14",paddingX:"10",paddingY:"5"}};function mi({disabled:t=!1,href:e,label:n,onClick:r,rel:i="noreferrer noopener",size:o="medium",target:s="_blank",testId:a,type:l="primary"}){const c=l==="primary",u=o!=="large",d=Pr(),f=t?"actionButtonSecondaryBackground":c?"accentColor":u?"actionButtonSecondaryBackground":null,{fontSize:h,height:g,paddingX:m,paddingY:y}=Xie[o],p=!d||!u;return L.createElement(re,{...e?t?{}:{as:"a",href:e,rel:i,target:s}:{as:"button",type:"button"},onClick:t?void 0:r,...p?{borderColor:d&&!u&&!c?"actionButtonBorderMobile":"actionButtonBorder",borderStyle:"solid",borderWidth:"1"}:{},borderRadius:"actionButton",className:!t&&ir({active:"shrinkSm",hover:"grow"}),display:"block",paddingX:m,paddingY:y,style:{willChange:"transform"},testId:a,textAlign:"center",transition:"transform",...f?{background:f}:{},...g?{height:g}:{}},L.createElement(St,{color:t?"modalTextSecondary":c?"accentColorForeground":"accentColor",size:h,weight:"bold"},n))}var Yie=()=>Pr()?L.createElement("svg",{"aria-hidden":!0,fill:"none",height:"11.5",viewBox:"0 0 11.5 11.5",width:"11.5",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Close"),L.createElement("path",{d:"M2.13388 0.366117C1.64573 -0.122039 0.854272 -0.122039 0.366117 0.366117C-0.122039 0.854272 -0.122039 1.64573 0.366117 2.13388L3.98223 5.75L0.366117 9.36612C-0.122039 9.85427 -0.122039 10.6457 0.366117 11.1339C0.854272 11.622 1.64573 11.622 2.13388 11.1339L5.75 7.51777L9.36612 11.1339C9.85427 11.622 10.6457 11.622 11.1339 11.1339C11.622 10.6457 11.622 9.85427 11.1339 9.36612L7.51777 5.75L11.1339 2.13388C11.622 1.64573 11.622 0.854272 11.1339 0.366117C10.6457 -0.122039 9.85427 -0.122039 9.36612 0.366117L5.75 3.98223L2.13388 0.366117Z",fill:"currentColor"})):L.createElement("svg",{"aria-hidden":!0,fill:"none",height:"10",viewBox:"0 0 10 10",width:"10",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Close"),L.createElement("path",{d:"M1.70711 0.292893C1.31658 -0.0976311 0.683417 -0.0976311 0.292893 0.292893C-0.0976311 0.683417 -0.0976311 1.31658 0.292893 1.70711L3.58579 5L0.292893 8.29289C-0.0976311 8.68342 -0.0976311 9.31658 0.292893 9.70711C0.683417 10.0976 1.31658 10.0976 1.70711 9.70711L5 6.41421L8.29289 9.70711C8.68342 10.0976 9.31658 10.0976 9.70711 9.70711C10.0976 9.31658 10.0976 8.68342 9.70711 8.29289L6.41421 5L9.70711 1.70711C10.0976 1.31658 10.0976 0.683417 9.70711 0.292893C9.31658 -0.0976311 8.68342 -0.0976311 8.29289 0.292893L5 3.58579L1.70711 0.292893Z",fill:"currentColor"})),gu=({"aria-label":t="Close",onClose:e})=>{const n=Pr();return L.createElement(re,{alignItems:"center","aria-label":t,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:n?"0":"1",className:ir({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:n?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:n?"30":"28"},L.createElement(Yie,null))},w8=async()=>(await Qe(async()=>{const{default:t}=await import("./sign-A7IJEUT5-CGsRnPrd.js");return{default:t}},[])).default;function Jie({onClose:t,onCloseModal:e}){const{i18n:n}=U.useContext(ar),[{status:r,...i},o]=L.useState({status:"idle"}),s=Tre(),a=U.useCallback(async()=>{try{const g=await s.getNonce();o(m=>({...m,nonce:g}))}catch{o(g=>({...g,errorMessage:n.t("sign_in.message.preparing_error"),status:"idle"}))}},[s,n.t]),l=U.useRef(!1);L.useEffect(()=>{l.current||(l.current=!0,a())},[a]);const c=Pr(),{address:u,chain:d}=Ir(),{signMessageAsync:f}=ute(),h=async()=>{try{const g=d?.id,{nonce:m}=i;if(!u||!g||!m)return;o(v=>({...v,errorMessage:void 0,status:"signing"}));const y=s.createMessage({address:u,chainId:g,nonce:m});let p;try{p=await f({message:y})}catch(v){return v instanceof Sn?o(w=>({...w,status:"idle"})):o(w=>({...w,errorMessage:n.t("sign_in.signature.signing_error"),status:"idle"}))}o(v=>({...v,status:"verifying"}));try{if(await s.verify({message:y,signature:p})){e();return}throw new Error}catch{return o(v=>({...v,errorMessage:n.t("sign_in.signature.verifying_error"),status:"idle"}))}}catch{o({errorMessage:n.t("sign_in.signature.oops_error"),status:"idle"})}};return L.createElement(re,{position:"relative"},L.createElement(re,{display:"flex",paddingRight:"16",paddingTop:"16",position:"absolute",right:"0"},L.createElement(gu,{onClose:t})),L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"32":"24",padding:"24",paddingX:"18",style:{paddingTop:c?"60px":"36px"}},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"6":"4",style:{maxWidth:c?320:280}},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"32":"16"},L.createElement(Mr,{height:40,src:w8,width:40}),L.createElement(St,{color:"modalText",size:c?"20":"18",textAlign:"center",weight:"heavy"},n.t("sign_in.label"))),L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"16":"12"},L.createElement(St,{color:"modalTextSecondary",size:c?"16":"14",textAlign:"center"},n.t("sign_in.description")),r==="idle"&&i.errorMessage?L.createElement(St,{color:"error",size:c?"16":"14",textAlign:"center",weight:"bold"},i.errorMessage):null)),L.createElement(re,{alignItems:c?void 0:"center",display:"flex",flexDirection:"column",gap:"8",width:"full"},L.createElement(mi,{disabled:!i.nonce||r==="signing"||r==="verifying",label:i.nonce?r==="signing"?n.t("sign_in.signature.waiting"):r==="verifying"?n.t("sign_in.signature.verifying"):n.t("sign_in.message.send"):n.t("sign_in.message.preparing"),onClick:h,size:c?"large":"medium",testId:"auth-message-button"}),c?L.createElement(mi,{label:"Cancel",onClick:t,size:"large",type:"secondary"}):L.createElement(re,{as:"button",borderRadius:"full",className:ir({active:"shrink",hover:"grow"}),display:"block",onClick:t,paddingX:"10",paddingY:"5",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},L.createElement(St,{color:"closeButton",size:c?"16":"14",weight:"bold"},n.t("sign_in.message.cancel"))))))}function Zie(){const t=Ou(),e=vm(),n=A1()==="unauthenticated",r=U.useCallback(()=>{Xs(...e.map(i=>i.iconUrl),...t.map(i=>i.iconUrl).filter(n8)),Pr()||($ie(),Kie()),n&&Xs(w8)},[e,t,n]);U.useEffect(()=>{r()},[r])}var b8="WALLETCONNECT_DEEPLINK_CHOICE";function eoe({mobileUri:t,name:e}){localStorage.setItem(b8,JSON.stringify({href:t.split("?")[0],name:e}))}function toe(){localStorage.removeItem(b8)}var x8=U.createContext(void 0),$2="data-rk",E8=t=>({[$2]:t||""}),noe=t=>{if(t&&!/^[a-zA-Z0-9_]+$/.test(t))throw new Error(`Invalid ID: ${t}`);return t?`[${$2}="${t}"]`:`[${$2}]`},roe=()=>{const t=U.useContext(x8);return E8(t)},ioe=YD();function ooe({appInfo:t,avatar:e,children:n,coolMode:r=!1,id:i,initialChain:o,locale:s,modalSize:a=o0.WIDE,showRecentTransactions:l=!1,theme:c=ioe}){if(Zie(),Rie(),RD({onDisconnect:toe}),typeof c=="function")throw new Error('A theme function was provided to the "theme" prop instead of a theme object. You must execute this function to get the resulting theme object.');const u=noe(i),d={...d8,...t},f=e??ZU;return L.createElement(eie,{initialChain:o},L.createElement(Cie,null,L.createElement(Hre,{locale:s},L.createElement(f8.Provider,{value:r},L.createElement(Tie,{modalSize:a},L.createElement($T.Provider,{value:l},L.createElement(Aie,null,L.createElement(e8.Provider,{value:f},L.createElement(r0.Provider,{value:d},L.createElement(x8.Provider,{value:i},L.createElement(rie,null,L.createElement(wse,null,c?L.createElement("div",{...E8(i)},L.createElement("style",{dangerouslySetInnerHTML:{__html:[`${u}{${CR("lightMode"in c?c.lightMode:c)}}`,"darkMode"in c?`@media(prefers-color-scheme:dark){${u}{${CR(c.darkMode,{extends:c.lightMode})}}}`:null].join("")}}),n):n))))))))))))}var soe="_9pm4ki5 ju367va ju367v15 ju367v8r",aoe="_9pm4ki3 ju367v9h ju367vb3 ju367va ju367v2q ju367v8q",MR=(t,e)=>{const n=t.querySelectorAll("button:not(:disabled), a[href]");n.length!==0&&n[e==="end"?n.length-1:0].focus()};function loe(t){const e=U.useRef(null);return U.useEffect(()=>{const n=document.activeElement;return()=>{n.focus?.()}},[]),U.useEffect(()=>{if(e.current){const n=e.current.querySelector("[data-auto-focus]");n?n.focus():e.current.focus()}},[]),L.createElement(L.Fragment,null,L.createElement("div",{onFocus:U.useCallback(()=>e.current&&MR(e.current,"end"),[]),tabIndex:0}),L.createElement("div",{ref:e,style:{outline:"none"},tabIndex:-1,...t}),L.createElement("div",{onFocus:U.useCallback(()=>e.current&&MR(e.current,"start"),[]),tabIndex:0}))}var coe=t=>t.stopPropagation();function Fv({children:t,onClose:e,open:n,titleId:r}){U.useEffect(()=>{const c=u=>n&&u.key==="Escape"&&e();return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[n,e]);const[i,o]=U.useState(!0);U.useEffect(()=>{o(getComputedStyle(window.document.body).overflow!=="hidden")},[]);const s=U.useCallback(()=>e(),[e]),a=roe(),l=Pr();return L.createElement(L.Fragment,null,n?Dw.createPortal(L.createElement(qU,{enabled:i},L.createElement(re,{...a},L.createElement(re,{...a,alignItems:l?"flex-end":"center","aria-labelledby":r,"aria-modal":!0,className:aoe,onClick:s,position:"fixed",role:"dialog"},L.createElement(loe,{className:soe,onClick:coe,role:"document"},t)))),document.body):null)}var uoe="_1ckjpok7",doe="_1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",foe="_1ckjpok4 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",hoe="_1ckjpok6 ju367vq",poe="_1ckjpok3 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",moe="_1ckjpok2 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r";function Ov({bottomSheetOnMobile:t=!1,children:e,marginTop:n,padding:r="16",paddingBottom:i,wide:o=!1}){const s=Pr(),l=U.useContext(S1)===o0.COMPACT;return L.createElement(re,{marginTop:n},L.createElement(re,{className:[o?s?moe:l?foe:poe:doe,s?hoe:null,s&&t?uoe:null].join(" ")},L.createElement(re,{padding:r,paddingBottom:i??r},e)))}var IR=["k","m","b","t"];function ng(t,e=1){return t.toString().replace(new RegExp(`(.+\\.\\d{${e}})\\d+`),"$1").replace(/(\.[1-9]*)0+$/,"$1").replace(/\.$/,"")}function A8(t){if(t<1)return ng(t,3);if(t<10**2)return ng(t,2);if(t<10**4)return new Intl.NumberFormat().format(Number.parseFloat(ng(t,1)));const e=10**1;let n=String(t);for(let r=IR.length-1;r>=0;r--){const i=10**((r+1)*3);if(i<=t){t=t*e/i/e,n=ng(t,1)+IR[r];break}}return n}function _8(t){return t.length<8?t:`${t.substring(0,4)}${t.substring(t.length-4)}`}function S8(t){if(!t)return"";const e=t.split("."),n=e.pop();return e.join(".").length>24?`${e.join(".").substring(0,24)}...`:`${e.join(".")}.${n}`}var goe=()=>L.createElement("svg",{fill:"none",height:"13",viewBox:"0 0 13 13",width:"13",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Copied"),L.createElement("path",{d:"M4.94568 12.2646C5.41052 12.2646 5.77283 12.0869 6.01892 11.7109L12.39 1.96973C12.5677 1.69629 12.6429 1.44336 12.6429 1.2041C12.6429 0.561523 12.1644 0.0966797 11.5082 0.0966797C11.057 0.0966797 10.7767 0.260742 10.5033 0.691406L4.9115 9.50977L2.07458 5.98926C1.82166 5.68848 1.54822 5.55176 1.16541 5.55176C0.502319 5.55176 0.0238037 6.02344 0.0238037 6.66602C0.0238037 6.95312 0.112671 7.20605 0.358765 7.48633L3.88611 11.7588C4.18005 12.1074 4.50818 12.2646 4.94568 12.2646Z",fill:"currentColor"})),yoe=()=>L.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 17 16",width:"17",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Copy"),L.createElement("path",{d:"M3.04236 12.3027H4.18396V13.3008C4.18396 14.8525 5.03845 15.7002 6.59705 15.7002H13.6244C15.183 15.7002 16.0375 14.8525 16.0375 13.3008V6.24609C16.0375 4.69434 15.183 3.84668 13.6244 3.84668H12.4828V2.8418C12.4828 1.29688 11.6283 0.442383 10.0697 0.442383H3.04236C1.48376 0.442383 0.629272 1.29004 0.629272 2.8418V9.90332C0.629272 11.4551 1.48376 12.3027 3.04236 12.3027ZM3.23376 10.5391C2.68689 10.5391 2.39294 10.2656 2.39294 9.68457V3.06055C2.39294 2.47949 2.68689 2.21289 3.23376 2.21289H9.8783C10.4252 2.21289 10.7191 2.47949 10.7191 3.06055V3.84668H6.59705C5.03845 3.84668 4.18396 4.69434 4.18396 6.24609V10.5391H3.23376ZM6.78845 13.9365C6.24158 13.9365 5.94763 13.6699 5.94763 13.0889V6.45801C5.94763 5.87695 6.24158 5.61035 6.78845 5.61035H13.433C13.9799 5.61035 14.2738 5.87695 14.2738 6.45801V13.0889C14.2738 13.6699 13.9799 13.9365 13.433 13.9365H6.78845Z",fill:"currentColor"})),voe=()=>L.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 18 16",width:"18",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Disconnect"),L.createElement("path",{d:"M2.67834 15.5908H9.99963C11.5514 15.5908 12.399 14.7432 12.399 13.1777V10.2656H10.6354V12.9863C10.6354 13.5332 10.3688 13.8271 9.78772 13.8271H2.89026C2.3092 13.8271 2.0426 13.5332 2.0426 12.9863V3.15625C2.0426 2.60254 2.3092 2.30859 2.89026 2.30859H9.78772C10.3688 2.30859 10.6354 2.60254 10.6354 3.15625V5.89746H12.399V2.95801C12.399 1.39941 11.5514 0.544922 9.99963 0.544922H2.67834C1.12659 0.544922 0.278931 1.39941 0.278931 2.95801V13.1777C0.278931 14.7432 1.12659 15.5908 2.67834 15.5908ZM7.43616 8.85059H14.0875L15.0924 8.78906L14.566 9.14453L13.6842 9.96484C13.5406 10.1016 13.4586 10.2861 13.4586 10.4844C13.4586 10.8398 13.7321 11.168 14.1217 11.168C14.3199 11.168 14.4635 11.0928 14.6002 10.9561L16.7809 8.68652C16.986 8.48145 17.0543 8.27637 17.0543 8.06445C17.0543 7.85254 16.986 7.64746 16.7809 7.43555L14.6002 5.17285C14.4635 5.03613 14.3199 4.9541 14.1217 4.9541C13.7321 4.9541 13.4586 5.27539 13.4586 5.6377C13.4586 5.83594 13.5406 6.02734 13.6842 6.15723L14.566 6.98438L15.0924 7.33984L14.0875 7.27148H7.43616C7.01917 7.27148 6.65686 7.62012 6.65686 8.06445C6.65686 8.50195 7.01917 8.85059 7.43616 8.85059Z",fill:"currentColor"}));function woe(){const t=c8(),{address:e}=Ir(),n=VT();return U.useCallback(()=>{if(!e||!n)throw new Error("No address or chain ID found");t.clearTransactions(e,n)},[t,e,n])}var C8=t=>t?.blockExplorers?.default?.url,T8=()=>L.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Link"),L.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM12.7158 12.1416C13.2432 12.1416 13.5684 11.7549 13.5684 11.1836V7.19336C13.5684 6.44629 13.1377 6.05957 12.417 6.05957H8.40918C7.8291 6.05957 7.45117 6.38477 7.45117 6.91211C7.45117 7.43945 7.8291 7.77344 8.40918 7.77344H9.69238L10.7207 7.63281L9.53418 8.67871L6.73047 11.4912C6.53711 11.6758 6.41406 11.9395 6.41406 12.2031C6.41406 12.7832 6.85352 13.1699 7.39844 13.1699C7.68848 13.1699 7.92578 13.0732 8.1543 12.8623L10.9316 10.0762L11.9775 8.89844L11.8545 9.98828V11.1836C11.8545 11.7725 12.1885 12.1416 12.7158 12.1416Z",fill:"currentColor"})),boe=()=>L.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Cancel"),L.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM7.29297 13.3018C7.58301 13.3018 7.81152 13.2139 7.99609 13.0205L10 11.0166L12.0127 13.0205C12.1973 13.2051 12.4258 13.3018 12.707 13.3018C13.2432 13.3018 13.6562 12.8887 13.6562 12.3525C13.6562 12.0977 13.5508 11.8691 13.3662 11.6934L11.3535 9.67188L13.375 7.6416C13.5596 7.44824 13.6562 7.22852 13.6562 6.98242C13.6562 6.44629 13.2432 6.0332 12.7158 6.0332C12.4346 6.0332 12.2148 6.12109 12.0215 6.31445L10 8.32715L7.9873 6.32324C7.80273 6.12988 7.58301 6.04199 7.29297 6.04199C6.76562 6.04199 6.35254 6.45508 6.35254 6.99121C6.35254 7.2373 6.44922 7.46582 6.63379 7.6416L8.65527 9.67188L6.63379 11.6934C6.44922 11.8691 6.35254 12.1064 6.35254 12.3525C6.35254 12.8887 6.76562 13.3018 7.29297 13.3018Z",fill:"currentColor"})),xoe=()=>L.createElement("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Success"),L.createElement("path",{d:"M10 19.4443C15.0977 19.4443 19.2812 15.252 19.2812 10.1543C19.2812 5.06543 15.0889 0.873047 10 0.873047C4.90234 0.873047 0.71875 5.06543 0.71875 10.1543C0.71875 15.252 4.91113 19.4443 10 19.4443ZM10 17.1328C6.1416 17.1328 3.03906 14.0215 3.03906 10.1543C3.03906 6.2959 6.13281 3.18457 10 3.18457C13.8584 3.18457 16.9697 6.2959 16.9697 10.1543C16.9785 14.0215 13.8672 17.1328 10 17.1328ZM9.07715 14.3379C9.4375 14.3379 9.7627 14.1533 9.97363 13.8369L13.7441 8.00977C13.8848 7.79883 13.9814 7.5791 13.9814 7.36816C13.9814 6.84961 13.5244 6.48926 13.0322 6.48926C12.707 6.48926 12.4258 6.66504 12.2148 7.0166L9.05957 12.0967L7.5918 10.2949C7.37207 10.0225 7.13477 9.9082 6.84473 9.9082C6.33496 9.9082 5.92188 10.3125 5.92188 10.8223C5.92188 11.0684 6.00098 11.2793 6.18555 11.5078L8.1543 13.8545C8.40918 14.1709 8.70801 14.3379 9.07715 14.3379Z",fill:"currentColor"})),Eoe=t=>{switch(t){case"pending":return ym;case"confirmed":return xoe;case"failed":return boe;default:return ym}};function Aoe({tx:t}){const e=Pr(),n=Eoe(t.status),r=t.status==="failed"?"error":"accentColor",{chain:i}=Ir(),o=t.status==="confirmed"?"Confirmed":t.status==="failed"?"Failed":"Pending",s=C8(i);return L.createElement(L.Fragment,null,L.createElement(re,{...s?{as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:ir({active:"shrink"}),href:`${s}/tx/${t.hash}`,rel:"noreferrer noopener",target:"_blank",transition:"default"}:{},color:"modalText",display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"8",width:"full"},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:e?"16":"14"},L.createElement(re,{color:r},L.createElement(n,null)),L.createElement(re,{display:"flex",flexDirection:"column",gap:e?"3":"1"},L.createElement(re,null,L.createElement(St,{color:"modalText",font:"body",size:e?"16":"14",weight:"bold"},t?.description)),L.createElement(re,null,L.createElement(St,{color:t.status==="pending"?"modalTextSecondary":r,font:"body",size:"14",weight:e?"medium":"regular"},o)))),s&&L.createElement(re,{alignItems:"center",color:"modalTextDim",display:"flex"},L.createElement(T8,null))))}var _oe=3;function Soe({address:t}){const e=u8(),n=woe(),{chain:r}=Ir(),i=C8(r),o=e.slice(0,_oe),s=o.length>0,a=Pr(),{appName:l}=U.useContext(r0),{i18n:c}=U.useContext(ar);return L.createElement(L.Fragment,null,L.createElement(re,{display:"flex",flexDirection:"column",gap:"10",paddingBottom:"2",paddingTop:"16",paddingX:a?"8":"18"},s&&L.createElement(re,{paddingBottom:a?"4":"0",paddingTop:"8",paddingX:a?"12":"6"},L.createElement(re,{display:"flex",justifyContent:"space-between"},L.createElement(St,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},c.t("profile.transactions.recent.title")),L.createElement(re,{style:{marginBottom:-6,marginLeft:-10,marginRight:-10,marginTop:-6}},L.createElement(re,{as:"button",background:{hover:"profileForeground"},borderRadius:"actionButton",className:ir({active:"shrink"}),onClick:n,paddingX:a?"8":"12",paddingY:a?"4":"5",transition:"default",type:"button"},L.createElement(St,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},c.t("profile.transactions.clear.label")))))),L.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},s?o.map(u=>L.createElement(Aoe,{key:u.hash,tx:u})):L.createElement(L.Fragment,null,L.createElement(re,{padding:a?"12":"8"},L.createElement(St,{color:"modalTextDim",size:a?"16":"14",weight:a?"medium":"bold"},l?c.t("profile.transactions.description",{appName:l}):c.t("profile.transactions.description_fallback"))),a&&L.createElement(re,{background:"generalBorderDim",height:"1",marginX:"12",marginY:"8"})))),i&&L.createElement(re,{paddingBottom:"18",paddingX:a?"8":"18"},L.createElement(re,{alignItems:"center",as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:ir({active:"shrink"}),color:"modalTextDim",display:"flex",flexDirection:"row",href:`${i}/address/${t}`,justifyContent:"space-between",paddingX:"8",paddingY:"12",rel:"noreferrer noopener",style:{willChange:"transform"},target:"_blank",transition:"default",width:"full",...a?{paddingLeft:"12"}:{}},L.createElement(St,{color:"modalText",font:"body",size:a?"16":"14",weight:a?"semibold":"bold"},c.t("profile.explorer.label")),L.createElement(T8,null))))}function RR({action:t,icon:e,label:n,testId:r,url:i}){const o=Pr();return L.createElement(re,{...i?{as:"a",href:i,rel:"noreferrer noopener",target:"_blank"}:{as:"button",type:"button"},background:{base:"profileAction",...o?{}:{hover:"profileActionHover"}},borderRadius:"menuButton",boxShadow:"profileDetailsAction",className:ir({active:"shrinkSm",hover:o?void 0:"grow"}),display:"flex",onClick:t,padding:o?"6":"8",style:{willChange:"transform"},testId:r,transition:"default",width:"full"},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"1",justifyContent:"center",paddingTop:"2",width:"full"},L.createElement(re,{color:"modalText",height:"max"},e),L.createElement(re,null,L.createElement(St,{color:"modalText",size:o?"12":"13",weight:"semibold"},n))))}function Coe({address:t,ensAvatar:e,ensName:n,balance:r,onClose:i,onDisconnect:o}){const s=U.useContext($T),[a,l]=U.useState(!1),c=U.useCallback(()=>{t&&(navigator.clipboard.writeText(t),l(!0))},[t]);if(U.useEffect(()=>{if(a){const y=setTimeout(()=>{l(!1)},1500);return()=>clearTimeout(y)}},[a]),!t)return null;const u=n?S8(n):_8(t),d=r?.formatted,f=d?A8(Number.parseFloat(d)):void 0,h="rk_profile_title",g=Pr(),{i18n:m}=U.useContext(ar);return L.createElement(L.Fragment,null,L.createElement(re,{display:"flex",flexDirection:"column"},L.createElement(re,{background:"profileForeground",padding:"16"},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:g?"16":"12",justifyContent:"center",margin:"8",style:{textAlign:"center"}},L.createElement(re,{style:{position:"absolute",right:16,top:16,willChange:"transform"}},L.createElement(gu,{onClose:i}))," ",L.createElement(re,{marginTop:g?"24":"0"},L.createElement(t8,{address:t,imageUrl:e,size:g?82:74})),L.createElement(re,{display:"flex",flexDirection:"column",gap:g?"4":"0",textAlign:"center"},L.createElement(re,{textAlign:"center"},L.createElement(St,{as:"h1",color:"modalText",id:h,size:g?"20":"18",weight:"heavy"},u)),!!r&&L.createElement(re,{textAlign:"center"},L.createElement(St,{as:"h1",color:"modalTextSecondary",id:h,size:g?"16":"14",weight:"semibold"},f," ",r.symbol)))),L.createElement(re,{display:"flex",flexDirection:"row",gap:"8",margin:"2",marginTop:"16"},L.createElement(RR,{action:c,icon:a?L.createElement(goe,null):L.createElement(yoe,null),label:a?m.t("profile.copy_address.copied"):m.t("profile.copy_address.label")}),L.createElement(RR,{action:o,icon:L.createElement(voe,null),label:m.t("profile.disconnect.label"),testId:"disconnect-button"}))),s&&L.createElement(L.Fragment,null,L.createElement(re,{background:"generalBorder",height:"1",marginTop:"-1"}),L.createElement(re,null,L.createElement(Soe,{address:t})))))}function Toe({onClose:t,open:e}){const{address:n}=Ir(),{balance:r,ensAvatar:i,ensName:o}=s8({address:n,includeBalance:e}),{disconnect:s}=PT();return n?L.createElement(L.Fragment,null,n&&L.createElement(Fv,{onClose:t,open:e,titleId:"rk_account_modal_title"},L.createElement(Ov,{bottomSheetOnMobile:!0,padding:"0"},L.createElement(Coe,{address:n,ensAvatar:i,ensName:o,balance:r,onClose:t,onDisconnect:s})))):null}var Moe=({size:t})=>L.createElement("svg",{fill:"none",height:t,viewBox:"0 0 28 28",width:t,xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Disconnect"),L.createElement("path",{d:"M6.742 22.195h8.367c1.774 0 2.743-.968 2.743-2.758V16.11h-2.016v3.11c0 .625-.305.96-.969.96H6.984c-.664 0-.968-.335-.968-.96V7.984c0-.632.304-.968.968-.968h7.883c.664 0 .969.336.969.968v3.133h2.016v-3.36c0-1.78-.97-2.757-2.743-2.757H6.742C4.97 5 4 5.977 4 7.758v11.68c0 1.789.969 2.757 2.742 2.757Zm5.438-7.703h7.601l1.149-.07-.602.406-1.008.938a.816.816 0 0 0-.258.593c0 .407.313.782.758.782.227 0 .39-.086.547-.243l2.492-2.593c.235-.235.313-.47.313-.711 0-.242-.078-.477-.313-.719l-2.492-2.586c-.156-.156-.32-.25-.547-.25-.445 0-.758.367-.758.781 0 .227.094.446.258.594l1.008.945.602.407-1.149-.079H12.18a.904.904 0 0 0 0 1.805Z",fill:"currentColor"})),Ioe="v9horb0",YT=L.forwardRef(({children:t,currentlySelected:e=!1,onClick:n,testId:r,...i},o)=>{const s=Pr();return L.createElement(re,{as:"button",borderRadius:"menuButton",disabled:e,display:"flex",onClick:n,ref:o,testId:r,type:"button"},L.createElement(re,{borderRadius:"menuButton",className:[s?Ioe:void 0,!e&&ir({active:"shrink"})],padding:s?"8":"6",transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",borderStyle:"solid",borderWidth:"1",boxShadow:"selectedOption",color:"accentColorForeground"}:{background:{hover:"menuItemBackground"},color:"modalText",transition:"default"},...i},t))});YT.displayName="MenuButton";var Roe=({chainId:t,currentChainId:e,switchChain:n,chainIconSize:r,isLoading:i,src:o,name:s,iconBackground:a,idx:l})=>{const c=Pr(),{i18n:u}=U.useContext(ar),d=Ou(),f=e===t;return L.createElement(U.Fragment,null,L.createElement(YT,{currentlySelected:f,onClick:f?void 0:()=>n({chainId:t}),testId:`chain-option-${t}`},L.createElement(re,{fontFamily:"body",fontSize:"16",fontWeight:"bold"},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:r},o&&L.createElement(re,{height:"full",marginRight:"8"},L.createElement(Mr,{alt:s,background:a,borderRadius:"full",height:r,src:o,width:r,testId:`chain-option-${t}-icon`})),L.createElement("div",null,s??s)),f&&L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},L.createElement(St,{color:"accentColorForeground",size:"14",weight:"medium"},u.t("chains.connected")),L.createElement(re,{background:"connectionIndicator",borderColor:"selectedOptionBorder",borderRadius:"full",borderStyle:"solid",borderWidth:"1",height:"8",marginLeft:"8",width:"8"})),i&&L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},L.createElement(St,{color:"modalText",size:"14",weight:"medium"},u.t("chains.confirm")),L.createElement(re,{background:"standby",borderRadius:"full",height:"8",marginLeft:"8",width:"8"}))))),c&&l<d.length-1&&L.createElement(re,{background:"generalBorderDim",height:"1",marginX:"8"}))},Poe=Roe,Noe="_18dqw9x0",koe="_18dqw9x1";function Foe({onClose:t,open:e}){const{chainId:n}=Ir(),{chains:r}=yr(),[i,o]=U.useState(null),{switchChain:s}=VD({mutation:{onMutate:({chainId:g})=>{o(g)},onSuccess:()=>{i&&o(null)},onError:()=>{i&&o(null)},onSettled:()=>{t()}}}),{i18n:a}=U.useContext(ar),{disconnect:l}=PT(),c="rk_chain_modal_title",u=Pr(),d=r.some(g=>g.id===n),f=u?"36":"28",h=Ou();return n?L.createElement(Fv,{onClose:t,open:e,titleId:c},L.createElement(Ov,{bottomSheetOnMobile:!0,paddingBottom:"0"},L.createElement(re,{display:"flex",flexDirection:"column",gap:"14"},L.createElement(re,{display:"flex",flexDirection:"row",justifyContent:"space-between"},u&&L.createElement(re,{width:"30"}),L.createElement(re,{paddingBottom:"0",paddingLeft:"8",paddingTop:"4"},L.createElement(St,{as:"h1",color:"modalText",id:c,size:u?"20":"18",weight:"heavy"},a.t("chains.title"))),L.createElement(gu,{onClose:t})),!d&&L.createElement(re,{marginX:"8",textAlign:u?"center":"left"},L.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},a.t("chains.wrong_network"))),L.createElement(re,{className:u?koe:Noe,display:"flex",flexDirection:"column",gap:"4",padding:"2",paddingBottom:"16"},h.map(({iconBackground:g,iconUrl:m,id:y,name:p},v)=>L.createElement(Poe,{key:y,chainId:y,currentChainId:n,switchChain:s,chainIconSize:f,isLoading:i===y,src:m,name:p,iconBackground:g,idx:v})),!d&&L.createElement(L.Fragment,null,L.createElement(re,{background:"generalBorderDim",height:"1",marginX:"8"}),L.createElement(YT,{onClick:()=>l(),testId:"chain-option-disconnect"},L.createElement(re,{color:"error",fontFamily:"body",fontSize:"16",fontWeight:"bold"},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:f},L.createElement(re,{alignItems:"center",color:"error",height:f,justifyContent:"center",marginRight:"8"},L.createElement(Moe,{size:Number(f)})),L.createElement("div",null,a.t("chains.disconnect"))))))))))):null}function Ooe(t,e){const n={};for(const r of t){const i=e(r);i&&(n[i]||(n[i]=[]),n[i].push(r))}return n}var JT=({children:t,href:e})=>L.createElement(re,{as:"a",color:"accentColor",href:e,rel:"noreferrer",target:"_blank"},t),ZT=({children:t})=>L.createElement(St,{color:"modalTextSecondary",size:"12",weight:"medium"},t);function PR({compactModeEnabled:t=!1,getWallet:e}){const{disclaimer:n,learnMoreUrl:r}=U.useContext(r0),{i18n:i}=U.useContext(ar);return L.createElement(L.Fragment,null,L.createElement(re,{alignItems:"center",color:"accentColor",display:"flex",flexDirection:"column",height:"full",justifyContent:"space-around"},L.createElement(re,{marginBottom:"10"},!t&&L.createElement(St,{color:"modalText",size:"18",weight:"heavy"},i.t("intro.title"))),L.createElement(re,{display:"flex",flexDirection:"column",gap:"32",justifyContent:"center",marginY:"20",style:{maxWidth:312}},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},L.createElement(re,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},L.createElement(qie,null)),L.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},L.createElement(St,{color:"modalText",size:"14",weight:"bold"},i.t("intro.digital_asset.title")),L.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},i.t("intro.digital_asset.description")))),L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},L.createElement(re,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},L.createElement(Qie,null)),L.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},L.createElement(St,{color:"modalText",size:"14",weight:"bold"},i.t("intro.login.title")),L.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},i.t("intro.login.description"))))),L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",margin:"10"},L.createElement(mi,{label:i.t("intro.get.label"),onClick:e}),L.createElement(re,{as:"a",className:ir({active:"shrink",hover:"grow"}),display:"block",href:r,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},L.createElement(St,{color:"accentColor",size:"14",weight:"bold"},i.t("intro.learn_more.label")))),n&&!t&&L.createElement(re,{marginBottom:"8",marginTop:"12",textAlign:"center"},L.createElement(n,{Link:JT,Text:ZT}))))}var M8=()=>L.createElement("svg",{fill:"none",height:"17",viewBox:"0 0 11 17",width:"11",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Back"),L.createElement("path",{d:"M0.99707 8.6543C0.99707 9.08496 1.15527 9.44531 1.51562 9.79688L8.16016 16.3096C8.43262 16.5732 8.74902 16.7051 9.13574 16.7051C9.90918 16.7051 10.5508 16.0811 10.5508 15.3076C10.5508 14.9121 10.3838 14.5605 10.0938 14.2705L4.30176 8.64551L10.0938 3.0293C10.3838 2.74805 10.5508 2.3877 10.5508 2.00098C10.5508 1.23633 9.90918 0.603516 9.13574 0.603516C8.74902 0.603516 8.43262 0.735352 8.16016 0.999023L1.51562 7.51172C1.15527 7.85449 1.00586 8.21484 0.99707 8.6543Z",fill:"currentColor"})),Boe=()=>L.createElement("svg",{fill:"none",height:"12",viewBox:"0 0 8 12",width:"8",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Info"),L.createElement("path",{d:"M3.64258 7.99609C4.19336 7.99609 4.5625 7.73828 4.68555 7.24609C4.69141 7.21094 4.70312 7.16406 4.70898 7.13477C4.80859 6.60742 5.05469 6.35547 6.04492 5.76367C7.14648 5.10156 7.67969 4.3457 7.67969 3.24414C7.67969 1.39844 6.17383 0.255859 3.95898 0.255859C2.32422 0.255859 1.05859 0.894531 0.548828 1.86719C0.396484 2.14844 0.320312 2.44727 0.320312 2.74023C0.314453 3.37305 0.742188 3.79492 1.42188 3.79492C1.91406 3.79492 2.33594 3.54883 2.53516 3.11523C2.78711 2.47656 3.23242 2.21289 3.83594 2.21289C4.55664 2.21289 5.10742 2.65234 5.10742 3.29102C5.10742 3.9707 4.7793 4.29883 3.81836 4.87891C3.02148 5.36523 2.50586 5.92773 2.50586 6.76562V6.90039C2.50586 7.55664 2.96289 7.99609 3.64258 7.99609ZM3.67188 11.4473C4.42773 11.4473 5.04297 10.8672 5.04297 10.1406C5.04297 9.41406 4.42773 8.83984 3.67188 8.83984C2.91602 8.83984 2.30664 9.41406 2.30664 10.1406C2.30664 10.8672 2.91602 11.4473 3.67188 11.4473Z",fill:"currentColor"})),Loe=({"aria-label":t="Info",onClick:e})=>{const n=Pr();return L.createElement(re,{alignItems:"center","aria-label":t,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:n?"0":"1",className:ir({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:n?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:n?"30":"28"},L.createElement(Boe,null))},I8=t=>{const e=U.useRef(null),n=U.useContext(f8),r=_1(t);return U.useEffect(()=>{if(n&&e.current&&r)return Uoe(e.current,r)},[n,r]),e},Doe=()=>{const t="_rk_coolMode",e=document.getElementById(t);if(e)return e;const n=document.createElement("div");return n.setAttribute("id",t),n.setAttribute("style",["overflow:hidden","position:fixed","height:100%","top:0","left:0","right:0","bottom:0","pointer-events:none","z-index:2147483647"].join(";")),document.body.appendChild(n),n},NR=0;function Uoe(t,e){NR++;const n=[15,20,25,35,45],r=35;let i=[],o=!1,s=0,a=0;const l=Doe();function c(){const x=n[Math.floor(Math.random()*n.length)],T=Math.random()*10,k=Math.random()*25,A=Math.random()*360,z=Math.random()*35*(Math.random()<=.5?-1:1),S=a-x/2,N=s-x/2,P=Math.random()<=.5?-1:1,W=document.createElement("div");W.innerHTML=`<img src="${e}" width="${x}" height="${x}" style="border-radius: 25%">`,W.setAttribute("style",["position:absolute","will-change:transform",`top:${S}px`,`left:${N}px`,`transform:rotate(${A}deg)`].join(";")),l.appendChild(W),i.push({direction:P,element:W,left:N,size:x,speedHorz:T,speedUp:k,spinSpeed:z,spinVal:A,top:S})}function u(){for(const x of i)x.left=x.left-x.speedHorz*x.direction,x.top=x.top-x.speedUp,x.speedUp=Math.min(x.size,x.speedUp-1),x.spinVal=x.spinVal+x.spinSpeed,x.top>=Math.max(window.innerHeight,document.body.clientHeight)+x.size&&(i=i.filter(T=>T!==x),x.element.remove()),x.element.setAttribute("style",["position:absolute","will-change:transform",`top:${x.top}px`,`left:${x.left}px`,`transform:rotate(${x.spinVal}deg)`].join(";"))}let d;function f(){o&&i.length<r&&c(),u(),d=requestAnimationFrame(f)}f();const h="ontouchstart"in window||navigator.msMaxTouchPoints,g=h?"touchstart":"mousedown",m=h?"touchend":"mouseup",y=h?"touchmove":"mousemove",p=x=>{"touches"in x?(s=x.touches?.[0].clientX,a=x.touches?.[0].clientY):(s=x.clientX,a=x.clientY)},v=x=>{p(x),o=!0},w=()=>{o=!1};return t.addEventListener(y,p,{passive:!1}),t.addEventListener(g,v),t.addEventListener(m,w),t.addEventListener("mouseleave",w),()=>{t.removeEventListener(y,p),t.removeEventListener(g,v),t.removeEventListener(m,w),t.removeEventListener("mouseleave",w);const x=setInterval(()=>{d&&i.length===0&&(cancelAnimationFrame(d),clearInterval(x),--NR===0&&l.remove())},500)}}var zoe="g5kl0l0",R8=({as:t="button",currentlySelected:e=!1,iconBackground:n,iconUrl:r,name:i,onClick:o,ready:s,recent:a,testId:l,isRainbowKitConnector:c,...u})=>{const d=I8(r),[f,h]=L.useState(!1),{i18n:g}=L.useContext(ar);return L.createElement(re,{display:"flex",flexDirection:"column",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),ref:d},L.createElement(re,{as:t,borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:e?void 0:[zoe,ir({active:"shrink"})],disabled:e,onClick:o,padding:"5",style:{willChange:"transform"},testId:l,transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",boxShadow:"selectedWallet"}:{background:{hover:"menuItemBackground"}},...u},L.createElement(re,{color:e?"accentColorForeground":"modalText",disabled:!s,fontFamily:"body",fontSize:"16",fontWeight:"bold",transition:"default"},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"12"},L.createElement(Mr,{background:n,...!f&&c?{borderColor:"actionButtonBorder"}:{},useAsImage:!c,borderRadius:"6",height:"28",src:r,width:"28"}),L.createElement(re,null,L.createElement(re,{style:{marginTop:a?-2:void 0},maxWidth:"200"},i),a&&L.createElement(St,{color:e?"accentColorForeground":"accentColor",size:"12",style:{lineHeight:1,marginTop:-1},weight:"medium"},g.t("connect.recent")))))))};R8.displayName="ModalSelection";var joe="rk-latest-id";function Goe(t){localStorage.setItem(joe,t)}var Ax=(t,e=1)=>{let n=t.replace("#","");n.length===3&&(n=`${n[0]}${n[0]}${n[1]}${n[1]}${n[2]}${n[2]}`);const r=Number.parseInt(n.substring(0,2),16),i=Number.parseInt(n.substring(2,4),16),o=Number.parseInt(n.substring(4,6),16);return e>1&&e<=100&&(e=e/100),`rgba(${r},${i},${o},${e})`},Hoe=t=>t?[Ax(t,.2),Ax(t,.14),Ax(t,.1)]:null,Woe=t=>/^#([0-9a-f]{3}){1,2}$/i.test(t),P8=async()=>(await Qe(async()=>{const{default:t}=await import("./connect-UA7M4XW6-IY3X6Bmr.js");return{default:t}},[])).default,Voe=()=>Xs(P8),$oe=()=>L.createElement(Mr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:P8,width:"48"}),N8=async()=>(await Qe(async()=>{const{default:t}=await import("./create-FASO7PVG-D_rvSpre.js");return{default:t}},[])).default,k8=()=>Xs(N8),qoe=()=>L.createElement(Mr,{background:"#e3a5e8",borderColor:"generalBorder",borderRadius:"10",height:"48",src:N8,width:"48"}),F8=async()=>(await Qe(async()=>{const{default:t}=await import("./refresh-S4T5V5GX-CwqIaaxK.js");return{default:t}},[])).default,Koe=()=>Xs(F8),Qoe=()=>L.createElement(Mr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:F8,width:"48"}),O8=async()=>(await Qe(async()=>{const{default:t}=await import("./scan-4UYSQ56Q-CjMz6-XC.js");return{default:t}},[])).default,B8=()=>Xs(O8),Xoe=()=>L.createElement(Mr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:O8,width:"48"}),Yoe="_1vwt0cg0",Joe="_1vwt0cg2 ju367v7a ju367v7v",Zoe="_1vwt0cg3",ese="_1vwt0cg4";function L8({ecc:t="medium",logoBackground:e,logoSize:n=50,logoUrl:r,size:i=200,uri:o}){const s="20",a=i-Number.parseInt(s,10)*2,l=_1(r);return L.createElement(re,{borderColor:"generalBorder",borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:Yoe,padding:s,width:"max"},L.createElement(re,{style:{height:a,userSelect:"none",width:a},userSelect:"none"},L.createElement(zs.Root,{errorCorrection:t,size:a,value:o},L.createElement(zs.Cells,{radius:1}),L.createElement(zs.Finder,{radius:.25}),l&&L.createElement(zs.Arena,null,L.createElement("img",{alt:"Wallet Logo",src:l,style:{objectFit:"cover",height:"88%",width:"88%",borderRadius:"22.5%",backgroundColor:e}})))))}var D8=async()=>{switch(KT()){case"Arc":return(await Qe(async()=>{const{default:e}=await import("./Arc-VDBY7LNS-BChRXCXW.js");return{default:e}},[])).default;case"Brave":return(await Qe(async()=>{const{default:e}=await import("./Brave-BRAKJXDS-mq-Xo37j.js");return{default:e}},[])).default;case"Chrome":return(await Qe(async()=>{const{default:e}=await import("./Chrome-65Q5P54Y-DR9MQEVr.js");return{default:e}},[])).default;case"Edge":return(await Qe(async()=>{const{default:e}=await import("./Edge-XSPUTORV-DEoZslQE.js");return{default:e}},[])).default;case"Firefox":return(await Qe(async()=>{const{default:e}=await import("./Firefox-AAHGJQIP-Bp_Hm04m.js");return{default:e}},[])).default;case"Opera":return(await Qe(async()=>{const{default:e}=await import("./Opera-KQZLSACL-Cwv5MDFy.js");return{default:e}},[])).default;case"Safari":return(await Qe(async()=>{const{default:e}=await import("./Safari-ZPL37GXR-C4Ggg6rz.js");return{default:e}},[])).default;default:return(await Qe(async()=>{const{default:e}=await import("./Browser-76IHF3Y2-BMhRaC5Z.js");return{default:e}},[])).default}},tse=()=>Xs(D8),U8=async()=>{switch(XT()){case"Windows":return(await Qe(async()=>{const{default:e}=await import("./Windows-PPTHQER6-BlyV2p7Y.js");return{default:e}},[])).default;case"macOS":return(await Qe(async()=>{const{default:e}=await import("./Macos-MW4AE7LN-Vvm8Drw3.js");return{default:e}},[])).default;case"Linux":return(await Qe(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default;default:return(await Qe(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default}},nse=()=>Xs(U8);function rse({getWalletDownload:t,compactModeEnabled:e}){const r=vm().filter(o=>o.isRainbowKitConnector).splice(0,5),{i18n:i}=U.useContext(ar);return L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginTop:"18",width:"full"},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"28",height:"full",width:"full"},r?.filter(o=>o.extensionDownloadUrl||o.desktopDownloadUrl||o.qrCode&&o.downloadUrls?.qrCode).map(o=>{const{downloadUrls:s,iconBackground:a,iconUrl:l,id:c,name:u,qrCode:d}=o,f=s?.qrCode&&d,h=!!o.extensionDownloadUrl,g=s?.qrCode&&h,m=s?.qrCode&&!!o.desktopDownloadUrl;return L.createElement(re,{alignItems:"center",display:"flex",gap:"16",justifyContent:"space-between",key:o.id,width:"full"},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},L.createElement(Mr,{background:a,borderColor:"actionButtonBorder",borderRadius:"10",height:"48",src:l,width:"48"}),L.createElement(re,{display:"flex",flexDirection:"column",gap:"2"},L.createElement(St,{color:"modalText",size:"14",weight:"bold"},u),L.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},g?i.t("get.mobile_and_extension.description"):m?i.t("get.mobile_and_desktop.description"):f?i.t("get.mobile.description"):h?i.t("get.extension.description"):null))),L.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},L.createElement(mi,{label:i.t("get.action.label"),onClick:()=>t(c),type:"secondary"})))})),L.createElement(re,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"column",gap:"8",justifyContent:"space-between",marginBottom:"4",paddingY:"8",style:{maxWidth:275,textAlign:"center"}},L.createElement(St,{color:"modalText",size:"14",weight:"bold"},i.t("get.looking_for.title")),L.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},e?i.t("get.looking_for.desktop.compact_description"):i.t("get.looking_for.desktop.wide_description"))))}var _x="44";function ise({changeWalletStep:t,compactModeEnabled:e,connectionError:n,onClose:r,qrCodeUri:i,reconnect:o,wallet:s}){const{downloadUrls:a,iconBackground:l,iconUrl:c,name:u,qrCode:d,ready:f,showWalletConnectModal:h,getDesktopUri:g}=s,m=!!g,y=qT(),{i18n:p}=U.useContext(ar),v=!!s.extensionDownloadUrl,w=a?.qrCode&&v,x=a?.qrCode&&!!s.desktopDownloadUrl,T=d&&i,k=async()=>{const N=await g?.();window.open(N,y?"_blank":"_self")},A=h?{description:e?p.t("connect.walletconnect.description.compact"):p.t("connect.walletconnect.description.full"),label:p.t("connect.walletconnect.open.label"),onClick:()=>{r(),h()}}:T?{description:p.t("connect.secondary_action.get.description",{wallet:u}),label:p.t("connect.secondary_action.get.label"),onClick:()=>t(w||x?"DOWNLOAD_OPTIONS":"DOWNLOAD")}:null,{width:z}=h8(),S=z&&z<768;return U.useEffect(()=>{tse(),nse()},[]),L.createElement(re,{display:"flex",flexDirection:"column",height:"full",width:"full"},T?L.createElement(re,{alignItems:"center",display:"flex",height:"full",justifyContent:"center"},L.createElement(L8,{logoBackground:l,logoSize:e?60:72,logoUrl:c,size:e?318:S?Math.max(280,Math.min(z-308,382)):382,uri:i})):L.createElement(re,{alignItems:"center",display:"flex",justifyContent:"center",style:{flexGrow:1}},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8"},L.createElement(re,{borderRadius:"10",height:_x,overflow:"hidden"},L.createElement(Mr,{useAsImage:!s.isRainbowKitConnector,height:_x,src:c,width:_x})),L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"4",paddingX:"32",style:{textAlign:"center"}},L.createElement(St,{color:"modalText",size:"18",weight:"bold"},f?p.t("connect.status.opening",{wallet:u}):v?p.t("connect.status.not_installed",{wallet:u}):p.t("connect.status.not_available",{wallet:u})),!f&&v?L.createElement(re,{paddingTop:"20"},L.createElement(mi,{href:s.extensionDownloadUrl,label:p.t("connect.secondary_action.install.label"),type:"secondary"})):null,f&&!T&&L.createElement(L.Fragment,null,L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},L.createElement(St,{color:"modalTextSecondary",size:"14",textAlign:"center",weight:"medium"},p.t("connect.status.confirm"))),L.createElement(re,{alignItems:"center",color:"modalText",display:"flex",flexDirection:"row",height:"32",marginTop:"8"},n?L.createElement(mi,{label:p.t("connect.secondary_action.retry.label"),onClick:async()=>{m&&k(),o(s)}}):L.createElement(re,{color:"modalTextSecondary"},L.createElement(ym,null))))))),L.createElement(re,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"28",justifyContent:"space-between",marginTop:"12"},f&&A&&L.createElement(L.Fragment,null,L.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},A.description),L.createElement(mi,{label:A.label,onClick:A.onClick,type:"secondary"}))))}var Sx=({actionLabel:t,description:e,iconAccent:n,iconBackground:r,iconUrl:i,isCompact:o,onAction:s,title:a,url:l,variant:c})=>{const u=c==="browser",d=!u&&n&&Hoe(n);return L.createElement(re,{alignItems:"center",borderRadius:"13",display:"flex",justifyContent:"center",overflow:"hidden",paddingX:o?"18":"44",position:"relative",style:{flex:1,isolation:"isolate"},width:"full"},L.createElement(re,{borderColor:"actionButtonBorder",borderRadius:"13",borderStyle:"solid",borderWidth:"1",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0",zIndex:1}}),u&&L.createElement(re,{background:"downloadTopCardBackground",height:"full",position:"absolute",style:{zIndex:0},width:"full"},L.createElement(re,{display:"flex",flexDirection:"row",justifyContent:"space-between",style:{bottom:"0",filter:"blur(20px)",left:"0",position:"absolute",right:"0",top:"0",transform:"translate3d(0, 0, 0)"}},L.createElement(re,{style:{filter:"blur(100px)",marginLeft:-27,marginTop:-20,opacity:.6,transform:"translate3d(0, 0, 0)"}},L.createElement(Mr,{borderRadius:"full",height:"200",src:i,width:"200"})),L.createElement(re,{style:{filter:"blur(100px)",marginRight:0,marginTop:105,opacity:.6,overflow:"auto",transform:"translate3d(0, 0, 0)"}},L.createElement(Mr,{borderRadius:"full",height:"200",src:i,width:"200"})))),!u&&d&&L.createElement(re,{background:"downloadBottomCardBackground",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}},L.createElement(re,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${d[0]} 0%, ${d[1]} 25%, rgba(0,0,0,0) 100%)`,height:564,left:-215,top:-197,transform:"translate3d(0, 0, 0)",width:564}}),L.createElement(re,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${d[2]} 0%, rgba(0, 0, 0, 0) 100%)`,height:564,left:-1,top:-76,transform:"translate3d(0, 0, 0)",width:564}})),L.createElement(re,{alignItems:"flex-start",display:"flex",flexDirection:"row",gap:"24",height:"max",justifyContent:"center",style:{zIndex:1}},L.createElement(re,null,L.createElement(Mr,{height:"60",src:i,width:"60",...r?{background:r,borderColor:"generalBorder",borderRadius:"10"}:null})),L.createElement(re,{display:"flex",flexDirection:"column",gap:"4",style:{flex:1},width:"full"},L.createElement(St,{color:"modalText",size:"14",weight:"bold"},a),L.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},e),L.createElement(re,{marginTop:"14",width:"max"},L.createElement(mi,{href:l,label:t,onClick:s,size:"medium"})))))};function ose({changeWalletStep:t,wallet:e}){const n=KT(),r=XT(),o=U.useContext(S1)==="compact",{desktop:s,desktopDownloadUrl:a,extension:l,extensionDownloadUrl:c,mobileDownloadUrl:u}=e,{i18n:d}=U.useContext(ar);return U.useEffect(()=>{k8(),B8(),Koe(),Voe()},[]),L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",marginBottom:"8",marginTop:"4",width:"full"},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8",height:"full",justifyContent:"center",width:"full"},c&&L.createElement(Sx,{actionLabel:d.t("get_options.extension.download.label",{browser:n}),description:d.t("get_options.extension.description"),iconUrl:D8,isCompact:o,onAction:()=>t(l?.instructions?"INSTRUCTIONS_EXTENSION":"CONNECT"),title:d.t("get_options.extension.title",{wallet:e.name,browser:n}),url:c,variant:"browser"}),a&&L.createElement(Sx,{actionLabel:d.t("get_options.desktop.download.label",{platform:r}),description:d.t("get_options.desktop.description"),iconUrl:U8,isCompact:o,onAction:()=>t(s?.instructions?"INSTRUCTIONS_DESKTOP":"CONNECT"),title:d.t("get_options.desktop.title",{wallet:e.name,platform:r}),url:a,variant:"desktop"}),u&&L.createElement(Sx,{actionLabel:d.t("get_options.mobile.download.label",{wallet:e.name}),description:d.t("get_options.mobile.description"),iconAccent:e.iconAccent,iconBackground:e.iconBackground,iconUrl:e.iconUrl,isCompact:o,onAction:()=>{t("DOWNLOAD")},title:d.t("get_options.mobile.title",{wallet:e.name}),variant:"app"})))}function sse({changeWalletStep:t,wallet:e}){const{downloadUrls:n,qrCode:r}=e,{i18n:i}=U.useContext(ar);return U.useEffect(()=>{k8(),B8()},[]),L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",width:"full"},L.createElement(re,{style:{maxWidth:220,textAlign:"center"}},L.createElement(St,{color:"modalTextSecondary",size:"14",weight:"semibold"},i.t("get_mobile.description"))),L.createElement(re,{height:"full"},n?.qrCode?L.createElement(L8,{logoSize:0,size:268,uri:n.qrCode}):null),L.createElement(re,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"34",justifyContent:"space-between",marginBottom:"12",paddingY:"8"},L.createElement(mi,{label:i.t("get_mobile.continue.label"),onClick:()=>t(r?.instructions?"INSTRUCTIONS_MOBILE":"CONNECT")})))}var e5={connect:()=>L.createElement($oe,null),create:()=>L.createElement(qoe,null),install:t=>L.createElement(Mr,{background:t.iconBackground,borderColor:"generalBorder",borderRadius:"10",height:"48",src:t.iconUrl,width:"48"}),refresh:()=>L.createElement(Qoe,null),scan:()=>L.createElement(Xoe,null)};function ase({connectWallet:t,wallet:e}){const{i18n:n}=U.useContext(ar);return L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},L.createElement(re,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},e?.qrCode?.instructions?.steps.map((r,i)=>L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:i},L.createElement(re,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},e5[r.step]?.(e)),L.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},L.createElement(St,{color:"modalText",size:"14",weight:"bold"},n.t(r.title,void 0,{rawKeyIfTranslationMissing:!0})),L.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},n.t(r.description,void 0,{rawKeyIfTranslationMissing:!0})))))),L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},L.createElement(mi,{label:n.t("get_instructions.mobile.connect.label"),onClick:()=>t(e)}),L.createElement(re,{as:"a",className:ir({active:"shrink",hover:"grow"}),display:"block",href:e?.qrCode?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},L.createElement(St,{color:"accentColor",size:"14",weight:"bold"},n.t("get_instructions.mobile.learn_more.label")))))}function lse({wallet:t}){const{i18n:e}=U.useContext(ar);return L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},L.createElement(re,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},t?.extension?.instructions?.steps.map((n,r)=>L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:r},L.createElement(re,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},e5[n.step]?.(t)),L.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},L.createElement(St,{color:"modalText",size:"14",weight:"bold"},e.t(n.title,void 0,{rawKeyIfTranslationMissing:!0})),L.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},e.t(n.description,void 0,{rawKeyIfTranslationMissing:!0})))))),L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},L.createElement(mi,{label:e.t("get_instructions.extension.refresh.label"),onClick:window.location.reload.bind(window.location)}),L.createElement(re,{as:"a",className:ir({active:"shrink",hover:"grow"}),display:"block",href:t?.extension?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},L.createElement(St,{color:"accentColor",size:"14",weight:"bold"},e.t("get_instructions.extension.learn_more.label")))))}function cse({connectWallet:t,wallet:e}){const{i18n:n}=U.useContext(ar);return L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},L.createElement(re,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},e?.desktop?.instructions?.steps.map((r,i)=>L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:i},L.createElement(re,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},e5[r.step]?.(e)),L.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},L.createElement(St,{color:"modalText",size:"14",weight:"bold"},n.t(r.title,void 0,{rawKeyIfTranslationMissing:!0})),L.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},n.t(r.description,void 0,{rawKeyIfTranslationMissing:!0})))))),L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},L.createElement(mi,{label:n.t("get_instructions.desktop.connect.label"),onClick:()=>t(e)}),L.createElement(re,{as:"a",className:ir({active:"shrink",hover:"grow"}),display:"block",href:e?.desktop?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},L.createElement(St,{color:"accentColor",size:"14",weight:"bold"},n.t("get_instructions.desktop.learn_more.label")))))}function use({onClose:t}){const e="rk_connect_title",[n,r]=U.useState(),[i,o]=U.useState(),[s,a]=U.useState(),l=!!i?.qrCode&&s,[c,u]=U.useState(!1),f=U.useContext(S1)===o0.COMPACT,{disclaimer:h}=U.useContext(r0),{i18n:g}=U.useContext(ar),m=qT(),y=U.useRef(!1),{connector:p}=U.useContext(i0),w=vm(!p).filter(J=>J.ready||!!J.extensionDownloadUrl).sort((J,Z)=>J.groupIndex-Z.groupIndex),x=vm(),T=Ooe(w,J=>J.groupName),k=["Recommended","Other","Popular","More","Others","Installed"];U.useEffect(()=>{p&&!y.current&&(B("CONNECT"),N(p),y.current=!0)},[p]);const A=J=>{u(!1),J.ready&&J?.connect?.()?.catch(()=>{u(!0)})},z=async J=>{const Z=w.find(ce=>J.id===ce.id);Z?.getDesktopUri&&setTimeout(async()=>{const ce=await Z?.getDesktopUri?.();ce&&window.open(ce,m?"_blank":"_self")},0)},S=async J=>{const Z=w.find(oe=>J.id===oe.id),ce=await Z?.getQrCodeUri?.();a(ce),setTimeout(()=>{o(Z),B("CONNECT")},ce?0:50)},N=async J=>{Goe(J.id),J.ready&&(S(J),z(J)),A(J),r(J.id),J.ready||(o(J),B(J?.extensionDownloadUrl?"DOWNLOAD_OPTIONS":"CONNECT"))},P=J=>{const Z=x.find(de=>J===de.id),ce=Z?.downloadUrls?.qrCode,oe=!!Z?.desktopDownloadUrl,Ae=!!Z?.extensionDownloadUrl;o(Z),B(ce&&(Ae||oe)?"DOWNLOAD_OPTIONS":ce?"DOWNLOAD":oe?"INSTRUCTIONS_DESKTOP":"INSTRUCTIONS_EXTENSION")},W=()=>{r(void 0),o(void 0),a(void 0)},B=(J,Z=!1)=>{Z&&J==="GET"&&b==="GET"?W():!Z&&J==="GET"?E("GET"):!Z&&J==="CONNECT"&&E("CONNECT"),O(J)},[b,E]=U.useState("NONE"),[I,O]=U.useState("NONE");let C=null,j=null,H=null,D;U.useEffect(()=>{u(!1)},[I,i]);const $=!!(!!i?.extensionDownloadUrl&&i?.mobileDownloadUrl);switch(I){case"NONE":C=L.createElement(PR,{getWallet:()=>B("GET")});break;case"LEARN_COMPACT":C=L.createElement(PR,{compactModeEnabled:f,getWallet:()=>B("GET")}),j=g.t("intro.title"),H="NONE";break;case"GET":C=L.createElement(rse,{getWalletDownload:P,compactModeEnabled:f}),j=g.t("get.title"),H=f?"LEARN_COMPACT":"NONE";break;case"CONNECT":C=i&&L.createElement(ise,{changeWalletStep:B,compactModeEnabled:f,connectionError:c,onClose:t,qrCodeUri:s,reconnect:A,wallet:i}),j=l&&(i.name==="WalletConnect"?g.t("connect_scan.fallback_title"):g.t("connect_scan.title",{wallet:i.name})),H=f?p?null:"NONE":null,D=f?p?()=>{}:W:()=>{};break;case"DOWNLOAD_OPTIONS":C=i&&L.createElement(ose,{changeWalletStep:B,wallet:i}),j=i&&g.t("get_options.short_title",{wallet:i.name}),H=p?"CONNECT":f?"NONE":b;break;case"DOWNLOAD":C=i&&L.createElement(sse,{changeWalletStep:B,wallet:i}),j=i&&g.t("get_mobile.title",{wallet:i.name}),H=$?"DOWNLOAD_OPTIONS":b;break;case"INSTRUCTIONS_MOBILE":C=i&&L.createElement(ase,{connectWallet:N,wallet:i}),j=i&&g.t("get_options.title",{wallet:f&&i.shortName||i.name}),H="DOWNLOAD";break;case"INSTRUCTIONS_EXTENSION":C=i&&L.createElement(lse,{wallet:i}),j=i&&g.t("get_options.title",{wallet:f&&i.shortName||i.name}),H="DOWNLOAD_OPTIONS";break;case"INSTRUCTIONS_DESKTOP":C=i&&L.createElement(cse,{connectWallet:N,wallet:i}),j=i&&g.t("get_options.title",{wallet:f&&i.shortName||i.name}),H="DOWNLOAD_OPTIONS";break}return L.createElement(re,{display:"flex",flexDirection:"row",style:{maxHeight:f?468:504}},(f?I==="NONE":!0)&&L.createElement(re,{className:f?ese:Zoe,display:"flex",flexDirection:"column",marginTop:"16"},L.createElement(re,{display:"flex",justifyContent:"space-between"},f&&h&&L.createElement(re,{marginLeft:"16",width:"28"},L.createElement(Loe,{onClick:()=>B("LEARN_COMPACT")})),f&&!h&&L.createElement(re,{marginLeft:"16",width:"28"}),L.createElement(re,{marginLeft:f?"0":"6",paddingBottom:"8",paddingTop:"2",paddingX:"18"},L.createElement(St,{as:"h1",color:"modalText",id:e,size:"18",weight:"heavy",testId:"connect-header-label"},g.t("connect.title"))),f&&L.createElement(re,{marginRight:"16"},L.createElement(gu,{onClose:t}))),L.createElement(re,{className:Joe,paddingBottom:"18"},Object.entries(T).map(([J,Z],ce)=>Z.length>0&&L.createElement(U.Fragment,{key:ce},J?L.createElement(re,{marginBottom:"8",marginTop:"16",marginX:"6"},L.createElement(St,{color:J==="Installed"?"accentColor":"modalTextSecondary",size:"14",weight:"bold"},k.includes(J)?g.t(`connector_group.${J.toLowerCase()}`):J)):null,L.createElement(re,{display:"flex",flexDirection:"column",gap:"4"},Z.map(oe=>L.createElement(R8,{currentlySelected:oe.id===n,iconBackground:oe.iconBackground,iconUrl:oe.iconUrl,key:oe.id,name:oe.name,onClick:()=>N(oe),ready:oe.ready,recent:oe.recent,testId:`wallet-option-${oe.id}`,isRainbowKitConnector:oe.isRainbowKitConnector})))))),f&&L.createElement(L.Fragment,null,L.createElement(re,{background:"generalBorder",height:"1",marginTop:"-1"}),h?L.createElement(re,{paddingX:"24",paddingY:"16",textAlign:"center"},L.createElement(h,{Link:JT,Text:ZT})):L.createElement(re,{alignItems:"center",display:"flex",justifyContent:"space-between",paddingX:"24",paddingY:"16"},L.createElement(re,{paddingY:"4"},L.createElement(St,{color:"modalTextSecondary",size:"14",weight:"medium"},g.t("connect.new_to_ethereum.description"))),L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",justifyContent:"center"},L.createElement(re,{className:ir({active:"shrink",hover:"grow"}),cursor:"pointer",onClick:()=>B("LEARN_COMPACT"),paddingY:"4",style:{willChange:"transform"},transition:"default"},L.createElement(St,{color:"accentColor",size:"14",weight:"bold"},g.t("connect.new_to_ethereum.learn_more.label"))))))),(f?I!=="NONE":!0)&&L.createElement(L.Fragment,null,!f&&L.createElement(re,{background:"generalBorder",minWidth:"1",width:"1"}),L.createElement(re,{display:"flex",flexDirection:"column",margin:"16",style:{flexGrow:1}},L.createElement(re,{alignItems:"center",display:"flex",justifyContent:"space-between",marginBottom:"12"},L.createElement(re,{width:"28"},H&&L.createElement(re,{as:"button",className:ir({active:"shrinkSm",hover:"growLg"}),color:"accentColor",onClick:()=>{H&&B(H,!0),D?.()},paddingX:"8",paddingY:"4",style:{boxSizing:"content-box",height:17,willChange:"transform"},transition:"default",type:"button"},L.createElement(M8,null))),L.createElement(re,{display:"flex",justifyContent:"center",style:{flexGrow:1}},j&&L.createElement(St,{color:"modalText",size:"18",textAlign:"center",weight:"heavy"},j)),L.createElement(gu,{onClose:t})),L.createElement(re,{display:"flex",flexDirection:"column",style:{minHeight:f?396:432}},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"6",height:"full",justifyContent:"center",marginX:"8"},C)))))}var dse="_1am14412",fse="_1am14410",hse="_1am14413",pse=({wallet:t})=>L.createElement("svg",{className:hse,viewBox:"0 0 86 86",width:"86",height:"86"},L.createElement("title",null,"Loading"),L.createElement("rect",{x:"3",y:"3",width:80,height:80,rx:20,ry:20,strokeDasharray:`${160/3} ${2*160/3}`,strokeDashoffset:160,className:dse,style:{stroke:t?.iconAccent||"#0D3887"}}));function z8({onClose:t,wallet:e,connecting:n}){const{connect:r,iconBackground:i,iconUrl:o,id:s,name:a,getMobileUri:l,ready:c,shortName:u,showWalletConnectModal:d}=e,f=I8(o),h=U.useRef(!1),{i18n:g}=U.useContext(ar),m=U.useCallback(async()=>{if(s!=="walletConnect"&&(async()=>{const p=await l?.();if(p)if(p&&eoe({mobileUri:p,name:a}),p.startsWith("http")){const v=document.createElement("a");v.href=p,v.target="_blank",v.rel="noreferrer noopener",v.click()}else window.location.href=p})(),d){d(),t?.();return}try{await r?.()}catch{}},[r,l,d,t,a,s]);return U.useEffect(()=>{n&&!h.current&&(m(),h.current=!0)},[n,m]),L.createElement(re,{as:"button",color:c?"modalText":"modalTextSecondary",disabled:!c,fontFamily:"body",key:s,onClick:m,ref:f,style:{overflow:"visible",textAlign:"center"},testId:`wallet-option-${s}`,type:"button",width:"full"},L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},L.createElement(re,{display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"8",paddingTop:"10",position:"relative"},n?L.createElement(pse,{wallet:e}):null,L.createElement(Mr,{background:i,borderRadius:"13",boxShadow:"walletLogo",height:"60",src:o,width:"60"})),n?null:L.createElement(re,{display:"flex",flexDirection:"column",textAlign:"center"},L.createElement(St,{as:"h2",color:e.ready?"modalText":"modalTextSecondary",size:"13",weight:"medium"},L.createElement(re,{as:"span",position:"relative"},u??a,!e.ready&&" (unsupported)")),e.recent&&L.createElement(St,{color:"accentColor",size:"12",weight:"medium"},g.t("connect.recent")))))}function mse({onClose:t}){const e="rk_connect_title",n=vm().filter(h=>h.isRainbowKitConnector),{disclaimer:r,learnMoreUrl:i}=U.useContext(r0);let o=null,s=null,a=!1,l=null;const[c,u]=U.useState("CONNECT"),{i18n:d}=U.useContext(ar),f=Fu();switch(c){case"CONNECT":{o=d.t("connect.title"),a=!0,s=L.createElement(re,null,L.createElement(re,{background:"profileForeground",className:fse,display:"flex",paddingBottom:"20",paddingTop:"6"},L.createElement(re,{display:"flex",style:{margin:"0 auto"}},n.filter(h=>h.ready).map(h=>L.createElement(re,{key:h.id,paddingX:"20"},L.createElement(re,{width:"60"},L.createElement(z8,{onClose:t,wallet:h})))))),L.createElement(re,{background:"generalBorder",height:"1",marginBottom:"32",marginTop:"-1"}),L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"32",paddingX:"32",style:{textAlign:"center"}},L.createElement(re,{display:"flex",flexDirection:"column",gap:"8",textAlign:"center"},L.createElement(St,{color:"modalText",size:"16",weight:"bold"},d.t("intro.title")),L.createElement(St,{color:"modalTextSecondary",size:"16"},d.t("intro.description")))),L.createElement(re,{paddingTop:"32",paddingX:"20"},L.createElement(re,{display:"flex",gap:"14",justifyContent:"center"},L.createElement(mi,{label:d.t("intro.get.label"),onClick:()=>u("GET"),size:"large",type:"secondary"}),L.createElement(mi,{href:i,label:d.t("intro.learn_more.label"),size:"large",type:"secondary"}))),r&&L.createElement(re,{marginTop:"28",marginX:"32",textAlign:"center"},L.createElement(r,{Link:JT,Text:ZT})));break}case"GET":{o=d.t("get.title"),l="CONNECT";const h=n?.filter(g=>g.downloadUrls?.ios||g.downloadUrls?.android||g.downloadUrls?.mobile)?.splice(0,3);s=L.createElement(re,null,L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginBottom:"36",marginTop:"5",paddingTop:"12",width:"full"},h.map((g,m)=>{const{downloadUrls:y,iconBackground:p,iconUrl:v,name:w}=g;return!y?.ios&&!y?.android&&!y?.mobile?null:L.createElement(re,{display:"flex",gap:"16",key:g.id,paddingX:"20",width:"full"},L.createElement(re,{style:{minHeight:48,minWidth:48}},L.createElement(Mr,{background:p,borderColor:"generalBorder",borderRadius:"10",height:"48",src:v,width:"48"})),L.createElement(re,{display:"flex",flexDirection:"column",width:"full"},L.createElement(re,{alignItems:"center",display:"flex",height:"48"},L.createElement(re,{width:"full"},L.createElement(St,{color:"modalText",size:"18",weight:"bold"},w)),L.createElement(mi,{href:(f?y?.ios:y?.android)||y?.mobile,label:d.t("get.action.label"),size:"small",type:"secondary"})),m<h.length-1&&L.createElement(re,{background:"generalBorderDim",height:"1",marginY:"10",width:"full"})))})),L.createElement(re,{style:{marginBottom:"42px"}}),L.createElement(re,{alignItems:"center",display:"flex",flexDirection:"column",gap:"36",paddingX:"36",style:{textAlign:"center"}},L.createElement(re,{display:"flex",flexDirection:"column",gap:"12",textAlign:"center"},L.createElement(St,{color:"modalText",size:"16",weight:"bold"},d.t("get.looking_for.title")),L.createElement(St,{color:"modalTextSecondary",size:"16"},d.t("get.looking_for.mobile.description")))));break}}return L.createElement(re,{display:"flex",flexDirection:"column",paddingBottom:"36"},L.createElement(re,{background:a?"profileForeground":"modalBackground",display:"flex",flexDirection:"column",paddingBottom:"4",paddingTop:"14"},L.createElement(re,{display:"flex",justifyContent:"center",paddingBottom:"6",paddingX:"20",position:"relative"},l&&L.createElement(re,{display:"flex",position:"absolute",style:{left:0,marginBottom:-20,marginTop:-20}},L.createElement(re,{alignItems:"center",as:"button",className:ir({active:"shrinkSm",hover:"growLg"}),color:"accentColor",display:"flex",marginLeft:"4",marginTop:"20",onClick:()=>u(l),padding:"16",style:{height:17,willChange:"transform"},transition:"default",type:"button"},L.createElement(M8,null))),L.createElement(re,{marginTop:"4",textAlign:"center",width:"full"},L.createElement(St,{as:"h1",color:"modalText",id:e,size:"20",weight:"bold"},o)),L.createElement(re,{alignItems:"center",display:"flex",height:"32",paddingRight:"14",position:"absolute",right:"0"},L.createElement(re,{style:{marginBottom:-20,marginTop:-20}},L.createElement(gu,{onClose:t}))))),L.createElement(re,{display:"flex",flexDirection:"column"},s))}var gse=({onClose:t})=>{const{connector:e}=U.useContext(i0),{i18n:n}=U.useContext(ar),r=e?.name||"";return L.createElement(re,null,L.createElement(re,{display:"flex",paddingBottom:"32",justifyContent:"center",alignItems:"center",background:"profileForeground",flexDirection:"column"},L.createElement(re,{width:"full",display:"flex",justifyContent:"flex-end",marginTop:"18",marginRight:"24"},L.createElement(gu,{onClose:t})),L.createElement(re,{width:"60"},L.createElement(z8,{onClose:t,wallet:e,connecting:!0})),L.createElement(re,{marginTop:"20"},L.createElement(St,{textAlign:"center",color:"modalText",size:"18",weight:"semibold"},n.t("connect.status.connect_mobile",{wallet:r}))),L.createElement(re,{maxWidth:"full",marginTop:"8"},L.createElement(St,{textAlign:"center",color:"modalText",size:"16",weight:"medium"},n.t("connect.status.confirm_mobile",{wallet:r})))))};function yse({onClose:t}){const{connector:e}=U.useContext(i0);return Pr()?e?L.createElement(gse,{onClose:t}):L.createElement(mse,{onClose:t}):L.createElement(use,{onClose:t})}function vse({onClose:t,open:e}){const n="rk_connect_title",r=GT(),{disconnect:i}=PT(),{isConnecting:o}=Ir(),s=L.useCallback(()=>{t(),i()},[t,i]),a=L.useCallback(()=>{o&&i(),t()},[t,i,o]);return r==="disconnected"?L.createElement(Fv,{onClose:a,open:e,titleId:n},L.createElement(Ov,{bottomSheetOnMobile:!0,padding:"0",wide:!0},L.createElement(yse,{onClose:a}))):r==="unauthenticated"?L.createElement(Fv,{onClose:s,open:e,titleId:n},L.createElement(Ov,{bottomSheetOnMobile:!0,padding:"0"},L.createElement(Jie,{onClose:s,onCloseModal:t}))):null}function Cx(){const[t,e]=U.useState(!1);return{closeModal:U.useCallback(()=>e(!1),[]),isModalOpen:t,openModal:U.useCallback(()=>e(!0),[])}}var Jf=U.createContext({accountModalOpen:!1,chainModalOpen:!1,connectModalOpen:!1,isWalletConnectModalOpen:!1,setIsWalletConnectModalOpen:()=>{}});function wse({children:t}){const{closeModal:e,isModalOpen:n,openModal:r}=Cx(),{closeModal:i,isModalOpen:o,openModal:s}=Cx(),{closeModal:a,isModalOpen:l,openModal:c}=Cx(),[u,d]=U.useState(!1),f=GT(),{chainId:h}=Ir(),{chains:g}=yr(),m=g.some(v=>v.id===h),y=U.useCallback(({keepConnectModalOpen:v=!1}={})=>{v||e(),i(),a()},[e,i,a]),p=A1()==="unauthenticated";return RD({onConnect:()=>y({keepConnectModalOpen:p}),onDisconnect:()=>y()}),U.useEffect(()=>{p&&y()},[p,y]),L.createElement(Jf.Provider,{value:U.useMemo(()=>({accountModalOpen:o,chainModalOpen:l,connectModalOpen:n,isWalletConnectModalOpen:u,openAccountModal:m&&f==="connected"?s:void 0,openChainModal:f==="connected"?c:void 0,openConnectModal:f==="disconnected"||f==="unauthenticated"?r:void 0,setIsWalletConnectModalOpen:d}),[f,o,l,n,s,c,r,m,u])},t,L.createElement(vse,{onClose:e,open:n}),L.createElement(Toe,{onClose:i,open:o}),L.createElement(Foe,{onClose:a,open:l}))}function bse(){const{accountModalOpen:t,chainModalOpen:e,connectModalOpen:n}=U.useContext(Jf);return{accountModalOpen:t,chainModalOpen:e,connectModalOpen:n}}function xse(){const{accountModalOpen:t,openAccountModal:e}=U.useContext(Jf);return{accountModalOpen:t,openAccountModal:e}}function Ese(){const{chainModalOpen:t,openChainModal:e}=U.useContext(Jf);return{chainModalOpen:t,openChainModal:e}}function j8(){const{isWalletConnectModalOpen:t,setIsWalletConnectModalOpen:e}=U.useContext(Jf);return{isWalletConnectModalOpen:t,setIsWalletConnectModalOpen:e}}function Ase(){const{connectModalOpen:t,openConnectModal:e}=U.useContext(Jf),{isWalletConnectModalOpen:n}=j8();return{connectModalOpen:t||n,openConnectModal:e}}var Tx=()=>{};function t5({children:t}){const e=iie(),{address:n}=Ir(),{chainId:r}=Ir(),{chains:i}=yr(),o=i.some(W=>W.id===r),s=nie(),a=A1()??void 0,l=r?s[r]:void 0,c=l?.name??void 0,u=l?.iconUrl??void 0,d=l?.iconBackground??void 0,f=_1(u),h=U.useContext($T),g=u8().some(({status:W})=>W==="pending")&&h,{showBalance:m}=i8(),p=typeof m=="boolean"?m:m?QU(m)[Pr()?"smallScreen":"largeScreen"]:!0,{balance:v,ensAvatar:w,ensName:x}=s8({address:n,includeBalance:p}),T=v?`${A8(Number.parseFloat(v.formatted))} ${v.symbol}`:void 0,{openConnectModal:k}=Ase(),{openChainModal:A}=Ese(),{openAccountModal:z}=xse(),{accountModalOpen:S,chainModalOpen:N,connectModalOpen:P}=bse();return L.createElement(L.Fragment,null,t({account:n?{address:n,balanceDecimals:v?.decimals,balanceFormatted:v?.formatted,balanceSymbol:v?.symbol,displayBalance:T,displayName:x?S8(x):_8(n),ensAvatar:w??void 0,ensName:x??void 0,hasPendingTransactions:g}:void 0,accountModalOpen:S,authenticationStatus:a,chain:r?{hasIcon:!!u,iconBackground:d,iconUrl:f,id:r,name:c,unsupported:!o}:void 0,chainModalOpen:N,connectModalOpen:P,mounted:e(),openAccountModal:z??Tx,openChainModal:A??Tx,openConnectModal:k??Tx}))}t5.displayName="ConnectButton.Custom";var Kh={accountStatus:"full",chainStatus:{largeScreen:"full",smallScreen:"icon"},label:"Connect Wallet",showBalance:{largeScreen:!0,smallScreen:!1}};function Bu({accountStatus:t=Kh.accountStatus,chainStatus:e=Kh.chainStatus,label:n=Kh.label,showBalance:r=Kh.showBalance}){const i=Ou(),o=GT(),{setShowBalance:s}=i8(),[a,l]=U.useState(!1),{i18n:c}=U.useContext(ar);return U.useEffect(()=>{s(r),a||l(!0)},[r,s]),a?L.createElement(t5,null,({account:u,chain:d,mounted:f,openAccountModal:h,openChainModal:g,openConnectModal:m})=>{const y=f&&o!=="loading",p=d?.unsupported??!1;return L.createElement(re,{display:"flex",gap:"12",...!y&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}}},y&&u&&o==="connected"?L.createElement(L.Fragment,null,d&&(i.length>1||p)&&L.createElement(re,{alignItems:"center","aria-label":"Chain Selector",as:"button",background:p?"connectButtonBackgroundError":"connectButtonBackground",borderRadius:"connectButton",boxShadow:"connectButton",className:ir({active:"shrink",hover:"grow"}),color:p?"connectButtonTextError":"connectButtonText",display:qu(e,v=>v==="none"?"none":"flex"),fontFamily:"body",fontWeight:"bold",gap:"6",key:p?"unsupported":"supported",onClick:g,paddingX:"10",paddingY:"8",testId:p?"wrong-network-button":"chain-button",transition:"default",type:"button"},p?L.createElement(re,{alignItems:"center",display:"flex",height:"24",paddingX:"4"},c.t("connect_wallet.wrong_network.label")):L.createElement(re,{alignItems:"center",display:"flex",gap:"6"},d.hasIcon?L.createElement(re,{display:qu(e,v=>v==="full"||v==="icon"?"block":"none"),height:"24",width:"24"},L.createElement(Mr,{alt:d.name??"Chain icon",background:d.iconBackground,borderRadius:"full",height:"24",src:d.iconUrl,width:"24"})):null,L.createElement(re,{display:qu(e,v=>v==="icon"&&!d.iconUrl||v==="full"||v==="name"?"block":"none")},d.name??d.id)),L.createElement(iR,null)),!p&&L.createElement(re,{alignItems:"center",as:"button",background:"connectButtonBackground",borderRadius:"connectButton",boxShadow:"connectButton",className:ir({active:"shrink",hover:"grow"}),color:"connectButtonText",display:"flex",fontFamily:"body",fontWeight:"bold",onClick:h,testId:"account-button",transition:"default",type:"button"},u.displayBalance&&L.createElement(re,{display:qu(r,v=>v?"block":"none"),padding:"8",paddingLeft:"12"},u.displayBalance),L.createElement(re,{background:QU(r)[Pr()?"smallScreen":"largeScreen"]?"connectButtonInnerBackground":"connectButtonBackground",borderColor:"connectButtonBackground",borderRadius:"connectButton",borderStyle:"solid",borderWidth:"2",color:"connectButtonText",fontFamily:"body",fontWeight:"bold",paddingX:"8",paddingY:"6",transition:"default"},L.createElement(re,{alignItems:"center",display:"flex",gap:"6",height:"24"},L.createElement(re,{display:qu(t,v=>v==="full"||v==="avatar"?"block":"none")},L.createElement(t8,{address:u.address,imageUrl:u.ensAvatar,loading:u.hasPendingTransactions,size:24})),L.createElement(re,{alignItems:"center",display:"flex",gap:"6"},L.createElement(re,{display:qu(t,v=>v==="full"||v==="address"?"block":"none")},u.displayName),L.createElement(iR,null)))))):L.createElement(re,{as:"button",background:"accentColor",borderRadius:"connectButton",boxShadow:"connectButton",className:ir({active:"shrink",hover:"grow"}),color:"accentColorForeground",fontFamily:"body",fontWeight:"bold",height:"40",key:"connect",onClick:m,paddingX:"14",testId:"connect-button",transition:"default",type:"button"},f&&n==="Connect Wallet"?c.t("connect_wallet.label"):n))}):L.createElement(L.Fragment,null)}Bu.__defaultProps=Kh;Bu.Custom=t5;var G8=({appName:t,appDescription:e,appUrl:n,appIcon:r})=>({name:t,description:e??t,url:n??(typeof window<"u"?window.location.origin:""),icons:[...r?[r]:[]]});function _se(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>n!==void 0))}function Sse(t,e){const n=[];for(const r of t)n.some(i=>i[e]===r[e])||n.push(r);return n}var H8=(t,{projectId:e,walletConnectParameters:n,appName:r,appDescription:i,appUrl:o,appIcon:s})=>{if(!t.length)throw new Error("No wallet list was provided");for(const{wallets:h,groupName:g}of t)if(!h.length)throw new Error(`No wallets provided for group: ${g}`);let a=-1;const l=[],c=[],u=[],d=G8({appName:r,appDescription:i,appUrl:o,appIcon:s});for(const[h,{groupName:g,wallets:m}]of t.entries())for(const y of m){a++;const p=y({projectId:e,appName:r,appIcon:s,options:{metadata:d,...n},walletConnectParameters:{metadata:d,...n}});if(p?.iconAccent&&!Woe(p?.iconAccent))throw new Error(`Property \`iconAccent\` is not a hex value for wallet: ${p.name}`);const v={...p,groupIndex:h+1,groupName:g,index:a};typeof p.hidden=="function"?u.push(v):c.push(v)}const f=Sse([...c,...u],"id");for(const{createConnector:h,groupIndex:g,groupName:m,hidden:y,...p}of f){if(typeof y=="function"&&y())continue;const v=T=>({rkDetails:_se({...p,groupIndex:g,groupName:m,isRainbowKitConnector:!0,...T||{}})});p.id==="walletConnect"&&l.push(h(v({isWalletConnectModalConnector:!0,showQrModal:!0})));const x=h(v());l.push(x)}return l},kR=new Map,Cse=({projectId:t,walletConnectParameters:e,rkDetailsShowQrModal:n,rkDetailsIsWalletConnectModalConnector:r})=>{let i={...e||{},projectId:t,showQrModal:!1};n&&(i={...i,showQrModal:!0}),"customStoragePrefix"in i||(i={...i,customStoragePrefix:r?"clientOne":"clientTwo"});const o=JSON.stringify(i),s=kR.get(o);if(s)return s;const a=E1(i);return kR.set(o,a),a};function Tse({projectId:t,walletDetails:e,walletConnectParameters:n}){return r=>({...Cse({projectId:t,walletConnectParameters:n,rkDetailsShowQrModal:e.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:e.rkDetails.isWalletConnectModalConnector})(r),...e})}function n5({projectId:t,walletConnectParameters:e}){const n="21fef48091f12692cad574a6f7753643";if(!t||t==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return t==="YOUR_PROJECT_ID"&&(t=n),r=>Tse({projectId:t,walletDetails:r,walletConnectParameters:e})}function W8(t){const e=typeof window<"u"?window:void 0;if(typeof e>"u"||typeof e.ethereum>"u")return;const n=e.ethereum.providers;return n?n.find(r=>r[t]):e.ethereum[t]?e.ethereum:void 0}function V8(t){const e=(n,r)=>{const[i,...o]=r.split("."),s=n[i];if(s)return o.length===0?s:e(s,o.join("."))};if(typeof window<"u")return e(window,t)}function $8({flag:t,namespace:e}){return!!(e&&typeof V8(e)<"u"||t&&typeof W8(t)<"u")}function Mse({flag:t,namespace:e}){const n=typeof window<"u"?window:void 0;if(typeof n>"u")return;if(e){const i=V8(e);if(i)return i}const r=n.ethereum?.providers;if(t){const i=W8(t);if(i)return i}return typeof r<"u"&&r.length>0?r[0]:n.ethereum}function Ise(t){return e=>{const n=t?{target:()=>({id:e.rkDetails.id,name:e.rkDetails.name,provider:t})}:{};return r=>({...e0(n)(r),...e})}}function q8({flag:t,namespace:e,target:n}){const r=n||Mse({flag:t,namespace:e});return Ise(r)}var K8=({appName:t,appIcon:e})=>{const n=i=>i,r=Fu();return{id:"coinbase",name:"Coinbase Wallet",shortName:"Coinbase",rdns:"com.coinbase.wallet",iconUrl:async()=>(await Qe(async()=>{const{default:i}=await import("./coinbaseWallet-OKXU3TRC-DnGdeF1T.js");return{default:i}},[])).default,iconAccent:"#2c5ff6",iconBackground:"#2c5ff6",installed:!0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-store-crypto/id1278383455",mobile:"https://coinbase.com/wallet/downloads",qrCode:"https://coinbase-wallet.onelink.me/q5Sx/fdb9b250",chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",browserExtension:"https://coinbase.com/wallet"},...r?{}:{qrCode:{getUri:n,instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-mobile",steps:[{description:"wallet_connectors.coinbase.qr_code.step1.description",step:"install",title:"wallet_connectors.coinbase.qr_code.step1.title"},{description:"wallet_connectors.coinbase.qr_code.step2.description",step:"create",title:"wallet_connectors.coinbase.qr_code.step2.title"},{description:"wallet_connectors.coinbase.qr_code.step3.description",step:"scan",title:"wallet_connectors.coinbase.qr_code.step3.title"}]}},extension:{instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-extension",steps:[{description:"wallet_connectors.coinbase.extension.step1.description",step:"install",title:"wallet_connectors.coinbase.extension.step1.title"},{description:"wallet_connectors.coinbase.extension.step2.description",step:"create",title:"wallet_connectors.coinbase.extension.step2.title"},{description:"wallet_connectors.coinbase.extension.step3.description",step:"refresh",title:"wallet_connectors.coinbase.extension.step3.title"}]}}},createConnector:i=>{const{...o}=K8,s=n0({appName:t,appLogoUrl:e,...o});return a=>({...s(a),...i})}}};function Rse(t){return!(!t?.isMetaMask||t.isBraveWallet&&!t._events&&!t._state||t.isApexWallet||t.isAvalanche||t.isBackpack||t.isBifrost||t.isBitKeep||t.isBitski||t.isBlockWallet||t.isCoinbaseWallet||t.isDawn||t.isEnkrypt||t.isExodus||t.isFrame||t.isFrontier||t.isGamestop||t.isHyperPay||t.isImToken||t.isKuCoinWallet||t.isMathWallet||t.isNestWallet||t.isOkxWallet||t.isOKExWallet||t.isOneInchIOSWallet||t.isOneInchAndroidWallet||t.isOpera||t.isPhantom||t.isPortal||t.isRabby||t.isRainbow||t.isStatus||t.isTalisman||t.isTally||t.isTokenPocket||t.isTokenary||t.isTrust||t.isTrustWallet||t.isXDEFI||t.isZeal||t.isZerion||t.__seif)}var Pse=({projectId:t,walletConnectParameters:e})=>{const n=$8({flag:"isMetaMask"}),r=!n,i=o=>HT()?o:Fu()?`metamask://wc?uri=${encodeURIComponent(o)}`:`https://metamask.app.link/wc?uri=${encodeURIComponent(o)}`;return{id:"metaMask",name:"MetaMask",rdns:"io.metamask",iconUrl:async()=>(await Qe(async()=>{const{default:o}=await import("./metaMaskWallet-SITXT2FV-BlemcphV.js");return{default:o}},[])).default,iconAccent:"#f6851a",iconBackground:"#fff",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask/id1438144202",mobile:"https://metamask.io/download",qrCode:"https://metamask.io/download",chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm",firefox:"https://addons.mozilla.org/firefox/addon/ether-metamask",opera:"https://addons.opera.com/extensions/details/metamask-10",browserExtension:"https://metamask.io/download"},mobile:{getUri:r?i:void 0},qrCode:r?{getUri:i,instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.qr_code.step1.description",step:"install",title:"wallet_connectors.metamask.qr_code.step1.title"},{description:"wallet_connectors.metamask.qr_code.step2.description",step:"create",title:"wallet_connectors.metamask.qr_code.step2.title"},{description:"wallet_connectors.metamask.qr_code.step3.description",step:"refresh",title:"wallet_connectors.metamask.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.extension.step1.description",step:"install",title:"wallet_connectors.metamask.extension.step1.title"},{description:"wallet_connectors.metamask.extension.step2.description",step:"create",title:"wallet_connectors.metamask.extension.step2.title"},{description:"wallet_connectors.metamask.extension.step3.description",step:"refresh",title:"wallet_connectors.metamask.extension.step3.title"}]}},createConnector:r?n5({projectId:t,walletConnectParameters:e}):q8({target:typeof window<"u"?window.ethereum?.providers?.find(Rse)??window.ethereum:void 0})}},Nse=({projectId:t,walletConnectParameters:e})=>{const n=$8({flag:"isRainbow"}),r=!n,i=o=>HT()?o:Fu()?`rainbow://wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await Qe(async()=>{const{default:o}=await import("./rainbowWallet-O26YNBMX-DUhYus-9.js");return{default:o}},[])).default,iconBackground:"#0c2f78",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:r?i:void 0},qrCode:r?{getUri:i,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:r?n5({projectId:t,walletConnectParameters:e}):q8({flag:"isRainbow"})}},kse=()=>({id:"safe",name:"Safe",iconAccent:"#12ff80",iconBackground:"#fff",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./safeWallet-5MNKTR5Z-D-5imDLD.js");return{default:t}},[])).default,installed:!(typeof window>"u")&&window?.parent!==window,downloadUrls:{},createConnector:t=>e=>({...jT()(e),...t})}),Fse=({projectId:t,options:e})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await Qe(async()=>{const{default:r}=await import("./walletConnectWallet-YHWKVTDY-D3lyiczV.js");return{default:r}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:r=>r},createConnector:n5({projectId:t,walletConnectParameters:e})}),Ose=t=>t.reduce((n,r)=>{const i=r.id;return n[i]=Is(),n},{}),Bse=({appName:t,appDescription:e,appUrl:n,appIcon:r,wallets:i,projectId:o,...s})=>{const{transports:a,chains:l,...c}=s,u=G8({appName:t,appDescription:e,appUrl:n,appIcon:r}),d=H8(i||[{groupName:"Popular",wallets:[kse,Nse,K8,Pse,Fse]}],{projectId:o,appName:t,appDescription:e,appUrl:n,appIcon:r,walletConnectParameters:{metadata:u}});return AD({connectors:d,chains:l,transports:a||Ose(l),...c})};const Q8=U.createContext(),Js=()=>{const t=U.useContext(Q8);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},Lse=({children:t})=>{const[e,n]=U.useState([]),r=U.useRef(0),i=(l,c="info",u=3e3)=>{const d=`toast-${++r.current}-${Math.random().toString(36).substr(2,9)}-${Date.now()}`;n(f=>[...f,{id:d,message:l,type:c}]),setTimeout(()=>{n(f=>f.filter(h=>h.id!==d))},u)},o=l=>i(l,"success"),s=l=>i(l,"error"),a=l=>i(l,"info");return q(Q8.Provider,{value:{showToast:i,showSuccess:o,showError:s,showInfo:a},children:[t,F("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.map(l=>F("div",{className:`status-message status-${l.type} animate-slide-in`,role:"alert",children:l.message},l.id))})]})},Dse="logger/5.8.0";let FR=!1,OR=!1;const Ey={debug:1,default:2,info:2,warning:3,error:4,off:5};let BR=Ey.default,Mx=null;function Use(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const LR=Use();var q2;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(q2||(q2={}));var qo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(qo||(qo={}));const DR="0123456789abcdef";let Ii=class cr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();Ey[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(BR>Ey[r])&&console.log.apply(console,n)}debug(...e){this._log(cr.levels.DEBUG,e)}info(...e){this._log(cr.levels.INFO,e)}warn(...e){this._log(cr.levels.WARNING,e)}makeError(e,n,r){if(OR)return this.makeError("censored error",n,{});n||(n=cr.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let u="";for(let d=0;d<c.length;d++)u+=DR[c[d]>>4],u+=DR[c[d]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const o=e;let s="";switch(n){case qo.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case qo.CALL_EXCEPTION:case qo.INSUFFICIENT_FUNDS:case qo.MISSING_NEW:case qo.NONCE_EXPIRED:case qo.REPLACEMENT_UNDERPRICED:case qo.TRANSACTION_REPLACED:case qo.UNPREDICTABLE_GAS_LIMIT:s=n;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=n,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,cr.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){LR&&this.throwError("platform missing String.prototype.normalize",cr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:LR})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,cr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,cr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,cr.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,cr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",cr.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",cr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",cr.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return Mx||(Mx=new cr(Dse)),Mx}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",cr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),FR){if(!e)return;this.globalLogger().throwError("error censorship permanent",cr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}OR=!!e,FR=!!n}static setLogLevel(e){const n=Ey[e.toLowerCase()];if(n==null){cr.globalLogger().warn("invalid log level - "+e);return}BR=n}static from(e){return new cr(e)}};Ii.errors=qo;Ii.levels=q2;const zse="bytes/5.8.0",Ln=new Ii(zse);function X8(t){return!!t.toHexString}function Hd(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Hd(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function jse(t){return Li(t)&&!(t.length%2)||Zf(t)}function UR(t){return typeof t=="number"&&t==t&&t%1===0}function Zf(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!UR(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!UR(n)||n<0||n>=256)return!1}return!0}function Kc(t,e){if(e||(e={}),typeof t=="number"){Ln.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),Hd(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),X8(t)&&(t=t.toHexString()),Li(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Ln.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return Hd(new Uint8Array(r))}return Zf(t)?Hd(new Uint8Array(t)):Ln.throwArgumentError("invalid arrayify value","value",t)}function b_e(t){const e=t.map(i=>Kc(i)),n=e.reduce((i,o)=>i+o.length,0),r=new Uint8Array(n);return e.reduce((i,o)=>(r.set(o,i),i+o.length),0),Hd(r)}function x_e(t){let e=Kc(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function Gse(t,e){t=Kc(t),t.length>e&&Ln.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),Hd(n)}function Li(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Ix="0123456789abcdef";function oi(t,e){if(e||(e={}),typeof t=="number"){Ln.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=Ix[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),X8(t))return t.toHexString();if(Li(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Ln.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Zf(t)){let n="0x";for(let r=0;r<t.length;r++){let i=t[r];n+=Ix[(i&240)>>4]+Ix[i&15]}return n}return Ln.throwArgumentError("invalid hexlify value","value",t)}function E_e(t){if(typeof t!="string")t=oi(t);else if(!Li(t)||t.length%2)return null;return(t.length-2)/2}function A_e(t,e,n){return typeof t!="string"?t=oi(t):(!Li(t)||t.length%2)&&Ln.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function __e(t){let e="0x";return t.forEach(n=>{e+=oi(n).substring(2)}),e}function Hse(t){const e=Y8(oi(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function Y8(t){typeof t!="string"&&(t=oi(t)),Li(t)||Ln.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function gp(t,e){for(typeof t!="string"?t=oi(t):Li(t)||Ln.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Ln.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function S_e(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(jse(t)){let n=Kc(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=oi(n.slice(0,32)),e.s=oi(n.slice(32,64))):n.length===65?(e.r=oi(n.slice(0,32)),e.s=oi(n.slice(32,64)),e.v=n[64]):Ln.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Ln.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=oi(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Gse(Kc(e._vs),32);e._vs=oi(i);const o=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=o:e.recoveryParam!==o&&Ln.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const s=oi(i);e.s==null?e.s=s:e.s!==s&&Ln.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Ln.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Ln.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Li(e.r)?Ln.throwArgumentError("signature missing or invalid r","signature",t):e.r=gp(e.r,32),e.s==null||!Li(e.s)?Ln.throwArgumentError("signature missing or invalid s","signature",t):e.s=gp(e.s,32);const n=Kc(e.s);n[0]>=128&&Ln.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=oi(n);e._vs&&(Li(e._vs)||Ln.throwArgumentError("signature invalid _vs","signature",t),e._vs=gp(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&Ln.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var r5={exports:{}};r5.exports;(function(t){(function(e,n){function r(B,b){if(!B)throw new Error(b||"Assertion failed")}function i(B,b){B.super_=b;var E=function(){};E.prototype=b.prototype,B.prototype=new E,B.prototype.constructor=B}function o(B,b,E){if(o.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((b==="le"||b==="be")&&(E=b,b=10),this._init(B||0,b||10,E||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=WS.Buffer}catch{}o.isBN=function(b){return b instanceof o?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===o.wordSize&&Array.isArray(b.words)},o.max=function(b,E){return b.cmp(E)>0?b:E},o.min=function(b,E){return b.cmp(E)<0?b:E},o.prototype._init=function(b,E,I){if(typeof b=="number")return this._initNumber(b,E,I);if(typeof b=="object")return this._initArray(b,E,I);E==="hex"&&(E=16),r(E===(E|0)&&E>=2&&E<=36),b=b.toString().replace(/\s+/g,"");var O=0;b[0]==="-"&&(O++,this.negative=1),O<b.length&&(E===16?this._parseHex(b,O,I):(this._parseBase(b,E,O),I==="le"&&this._initArray(this.toArray(),E,I)))},o.prototype._initNumber=function(b,E,I){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(r(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),I==="le"&&this._initArray(this.toArray(),E,I)},o.prototype._initArray=function(b,E,I){if(r(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var C,j,H=0;if(I==="be")for(O=b.length-1,C=0;O>=0;O-=3)j=b[O]|b[O-1]<<8|b[O-2]<<16,this.words[C]|=j<<H&67108863,this.words[C+1]=j>>>26-H&67108863,H+=24,H>=26&&(H-=26,C++);else if(I==="le")for(O=0,C=0;O<b.length;O+=3)j=b[O]|b[O+1]<<8|b[O+2]<<16,this.words[C]|=j<<H&67108863,this.words[C+1]=j>>>26-H&67108863,H+=24,H>=26&&(H-=26,C++);return this._strip()};function a(B,b){var E=B.charCodeAt(b);if(E>=48&&E<=57)return E-48;if(E>=65&&E<=70)return E-55;if(E>=97&&E<=102)return E-87;r(!1,"Invalid character in "+B)}function l(B,b,E){var I=a(B,E);return E-1>=b&&(I|=a(B,E-1)<<4),I}o.prototype._parseHex=function(b,E,I){this.length=Math.ceil((b.length-E)/6),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var C=0,j=0,H;if(I==="be")for(O=b.length-1;O>=E;O-=2)H=l(b,E,O)<<C,this.words[j]|=H&67108863,C>=18?(C-=18,j+=1,this.words[j]|=H>>>26):C+=8;else{var D=b.length-E;for(O=D%2===0?E+1:E;O<b.length;O+=2)H=l(b,E,O)<<C,this.words[j]|=H&67108863,C>=18?(C-=18,j+=1,this.words[j]|=H>>>26):C+=8}this._strip()};function c(B,b,E,I){for(var O=0,C=0,j=Math.min(B.length,E),H=b;H<j;H++){var D=B.charCodeAt(H)-48;O*=I,D>=49?C=D-49+10:D>=17?C=D-17+10:C=D,r(D>=0&&C<I,"Invalid character"),O+=C}return O}o.prototype._parseBase=function(b,E,I){this.words=[0],this.length=1;for(var O=0,C=1;C<=67108863;C*=E)O++;O--,C=C/E|0;for(var j=b.length-I,H=j%O,D=Math.min(j,j-H)+I,M=0,$=I;$<D;$+=O)M=c(b,$,$+O,E),this.imuln(C),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(H!==0){var J=1;for(M=c(b,$,b.length,E),$=0;$<H;$++)J*=E;this.imuln(J),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this._strip()},o.prototype.copy=function(b){b.words=new Array(this.length);for(var E=0;E<this.length;E++)b.words[E]=this.words[E];b.length=this.length,b.negative=this.negative,b.red=this.red};function u(B,b){B.words=b.words,B.length=b.length,B.negative=b.negative,B.red=b.red}if(o.prototype._move=function(b){u(b,this)},o.prototype.clone=function(){var b=new o(null);return this.copy(b),b},o.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(b,E){b=b||10,E=E|0||1;var I;if(b===16||b==="hex"){I="";for(var O=0,C=0,j=0;j<this.length;j++){var H=this.words[j],D=((H<<O|C)&16777215).toString(16);C=H>>>24-O&16777215,O+=2,O>=26&&(O-=26,j--),C!==0||j!==this.length-1?I=f[6-D.length]+D+I:I=D+I}for(C!==0&&(I=C.toString(16)+I);I.length%E!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}if(b===(b|0)&&b>=2&&b<=36){var M=h[b],$=g[b];I="";var J=this.clone();for(J.negative=0;!J.isZero();){var Z=J.modrn($).toString(b);J=J.idivn($),J.isZero()?I=Z+I:I=f[M-Z.length]+Z+I}for(this.isZero()&&(I="0"+I);I.length%E!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(b,E){return this.toArrayLike(s,b,E)}),o.prototype.toArray=function(b,E){return this.toArrayLike(Array,b,E)};var m=function(b,E){return b.allocUnsafe?b.allocUnsafe(E):new b(E)};o.prototype.toArrayLike=function(b,E,I){this._strip();var O=this.byteLength(),C=I||Math.max(1,O);r(O<=C,"byte array longer than desired length"),r(C>0,"Requested array length <= 0");var j=m(b,C),H=E==="le"?"LE":"BE";return this["_toArrayLike"+H](j,O),j},o.prototype._toArrayLikeLE=function(b,E){for(var I=0,O=0,C=0,j=0;C<this.length;C++){var H=this.words[C]<<j|O;b[I++]=H&255,I<b.length&&(b[I++]=H>>8&255),I<b.length&&(b[I++]=H>>16&255),j===6?(I<b.length&&(b[I++]=H>>24&255),O=0,j=0):(O=H>>>24,j+=2)}if(I<b.length)for(b[I++]=O;I<b.length;)b[I++]=0},o.prototype._toArrayLikeBE=function(b,E){for(var I=b.length-1,O=0,C=0,j=0;C<this.length;C++){var H=this.words[C]<<j|O;b[I--]=H&255,I>=0&&(b[I--]=H>>8&255),I>=0&&(b[I--]=H>>16&255),j===6?(I>=0&&(b[I--]=H>>24&255),O=0,j=0):(O=H>>>24,j+=2)}if(I>=0)for(b[I--]=O;I>=0;)b[I--]=0},Math.clz32?o.prototype._countBits=function(b){return 32-Math.clz32(b)}:o.prototype._countBits=function(b){var E=b,I=0;return E>=4096&&(I+=13,E>>>=13),E>=64&&(I+=7,E>>>=7),E>=8&&(I+=4,E>>>=4),E>=2&&(I+=2,E>>>=2),I+E},o.prototype._zeroBits=function(b){if(b===0)return 26;var E=b,I=0;return E&8191||(I+=13,E>>>=13),E&127||(I+=7,E>>>=7),E&15||(I+=4,E>>>=4),E&3||(I+=2,E>>>=2),E&1||I++,I},o.prototype.bitLength=function(){var b=this.words[this.length-1],E=this._countBits(b);return(this.length-1)*26+E};function y(B){for(var b=new Array(B.bitLength()),E=0;E<b.length;E++){var I=E/26|0,O=E%26;b[E]=B.words[I]>>>O&1}return b}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,E=0;E<this.length;E++){var I=this._zeroBits(this.words[E]);if(b+=I,I!==26)break}return b},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},o.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var E=0;E<b.length;E++)this.words[E]=this.words[E]|b.words[E];return this._strip()},o.prototype.ior=function(b){return r((this.negative|b.negative)===0),this.iuor(b)},o.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},o.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},o.prototype.iuand=function(b){var E;this.length>b.length?E=b:E=this;for(var I=0;I<E.length;I++)this.words[I]=this.words[I]&b.words[I];return this.length=E.length,this._strip()},o.prototype.iand=function(b){return r((this.negative|b.negative)===0),this.iuand(b)},o.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},o.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},o.prototype.iuxor=function(b){var E,I;this.length>b.length?(E=this,I=b):(E=b,I=this);for(var O=0;O<I.length;O++)this.words[O]=E.words[O]^I.words[O];if(this!==E)for(;O<E.length;O++)this.words[O]=E.words[O];return this.length=E.length,this._strip()},o.prototype.ixor=function(b){return r((this.negative|b.negative)===0),this.iuxor(b)},o.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},o.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},o.prototype.inotn=function(b){r(typeof b=="number"&&b>=0);var E=Math.ceil(b/26)|0,I=b%26;this._expand(E),I>0&&E--;for(var O=0;O<E;O++)this.words[O]=~this.words[O]&67108863;return I>0&&(this.words[O]=~this.words[O]&67108863>>26-I),this._strip()},o.prototype.notn=function(b){return this.clone().inotn(b)},o.prototype.setn=function(b,E){r(typeof b=="number"&&b>=0);var I=b/26|0,O=b%26;return this._expand(I+1),E?this.words[I]=this.words[I]|1<<O:this.words[I]=this.words[I]&~(1<<O),this._strip()},o.prototype.iadd=function(b){var E;if(this.negative!==0&&b.negative===0)return this.negative=0,E=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,E=this.isub(b),b.negative=1,E._normSign();var I,O;this.length>b.length?(I=this,O=b):(I=b,O=this);for(var C=0,j=0;j<O.length;j++)E=(I.words[j]|0)+(O.words[j]|0)+C,this.words[j]=E&67108863,C=E>>>26;for(;C!==0&&j<I.length;j++)E=(I.words[j]|0)+C,this.words[j]=E&67108863,C=E>>>26;if(this.length=I.length,C!==0)this.words[this.length]=C,this.length++;else if(I!==this)for(;j<I.length;j++)this.words[j]=I.words[j];return this},o.prototype.add=function(b){var E;return b.negative!==0&&this.negative===0?(b.negative=0,E=this.sub(b),b.negative^=1,E):b.negative===0&&this.negative!==0?(this.negative=0,E=b.sub(this),this.negative=1,E):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},o.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var E=this.iadd(b);return b.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var I=this.cmp(b);if(I===0)return this.negative=0,this.length=1,this.words[0]=0,this;var O,C;I>0?(O=this,C=b):(O=b,C=this);for(var j=0,H=0;H<C.length;H++)E=(O.words[H]|0)-(C.words[H]|0)+j,j=E>>26,this.words[H]=E&67108863;for(;j!==0&&H<O.length;H++)E=(O.words[H]|0)+j,j=E>>26,this.words[H]=E&67108863;if(j===0&&H<O.length&&O!==this)for(;H<O.length;H++)this.words[H]=O.words[H];return this.length=Math.max(this.length,H),O!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(b){return this.clone().isub(b)};function p(B,b,E){E.negative=b.negative^B.negative;var I=B.length+b.length|0;E.length=I,I=I-1|0;var O=B.words[0]|0,C=b.words[0]|0,j=O*C,H=j&67108863,D=j/67108864|0;E.words[0]=H;for(var M=1;M<I;M++){for(var $=D>>>26,J=D&67108863,Z=Math.min(M,b.length-1),ce=Math.max(0,M-B.length+1);ce<=Z;ce++){var oe=M-ce|0;O=B.words[oe]|0,C=b.words[ce]|0,j=O*C+J,$+=j/67108864|0,J=j&67108863}E.words[M]=J|0,D=$|0}return D!==0?E.words[M]=D|0:E.length--,E._strip()}var v=function(b,E,I){var O=b.words,C=E.words,j=I.words,H=0,D,M,$,J=O[0]|0,Z=J&8191,ce=J>>>13,oe=O[1]|0,Ae=oe&8191,de=oe>>>13,Re=O[2]|0,ae=Re&8191,we=Re>>>13,Ve=O[3]|0,te=Ve&8191,Be=Ve>>>13,ft=O[4]|0,ut=ft&8191,Je=ft>>>13,kt=O[5]|0,ot=kt&8191,X=kt>>>13,V=O[6]|0,fe=V&8191,_e=V>>>13,Ie=O[7]|0,ge=Ie&8191,G=Ie>>>13,_=O[8]|0,R=_&8191,Q=_>>>13,Y=O[9]|0,ee=Y&8191,ne=Y>>>13,Ue=C[0]|0,ke=Ue&8191,qe=Ue>>>13,ht=C[1]|0,rt=ht&8191,le=ht>>>13,it=C[2]|0,Ee=it&8191,Te=it>>>13,tt=C[3]|0,He=tt&8191,lt=tt>>>13,un=C[4]|0,Ft=un&8191,Mt=un>>>13,lr=C[5]|0,Kt=lr&8191,ie=lr>>>13,me=C[6]|0,ve=me&8191,Me=me>>>13,et=C[7]|0,st=et&8191,nt=et>>>13,pt=C[8]|0,Xe=pt&8191,Ke=pt>>>13,Et=C[9]|0,wt=Et&8191,Ct=Et>>>13;I.negative=b.negative^E.negative,I.length=19,D=Math.imul(Z,ke),M=Math.imul(Z,qe),M=M+Math.imul(ce,ke)|0,$=Math.imul(ce,qe);var gn=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(gn>>>26)|0,gn&=67108863,D=Math.imul(Ae,ke),M=Math.imul(Ae,qe),M=M+Math.imul(de,ke)|0,$=Math.imul(de,qe),D=D+Math.imul(Z,rt)|0,M=M+Math.imul(Z,le)|0,M=M+Math.imul(ce,rt)|0,$=$+Math.imul(ce,le)|0;var K=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(K>>>26)|0,K&=67108863,D=Math.imul(ae,ke),M=Math.imul(ae,qe),M=M+Math.imul(we,ke)|0,$=Math.imul(we,qe),D=D+Math.imul(Ae,rt)|0,M=M+Math.imul(Ae,le)|0,M=M+Math.imul(de,rt)|0,$=$+Math.imul(de,le)|0,D=D+Math.imul(Z,Ee)|0,M=M+Math.imul(Z,Te)|0,M=M+Math.imul(ce,Ee)|0,$=$+Math.imul(ce,Te)|0;var se=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(se>>>26)|0,se&=67108863,D=Math.imul(te,ke),M=Math.imul(te,qe),M=M+Math.imul(Be,ke)|0,$=Math.imul(Be,qe),D=D+Math.imul(ae,rt)|0,M=M+Math.imul(ae,le)|0,M=M+Math.imul(we,rt)|0,$=$+Math.imul(we,le)|0,D=D+Math.imul(Ae,Ee)|0,M=M+Math.imul(Ae,Te)|0,M=M+Math.imul(de,Ee)|0,$=$+Math.imul(de,Te)|0,D=D+Math.imul(Z,He)|0,M=M+Math.imul(Z,lt)|0,M=M+Math.imul(ce,He)|0,$=$+Math.imul(ce,lt)|0;var ye=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(ye>>>26)|0,ye&=67108863,D=Math.imul(ut,ke),M=Math.imul(ut,qe),M=M+Math.imul(Je,ke)|0,$=Math.imul(Je,qe),D=D+Math.imul(te,rt)|0,M=M+Math.imul(te,le)|0,M=M+Math.imul(Be,rt)|0,$=$+Math.imul(Be,le)|0,D=D+Math.imul(ae,Ee)|0,M=M+Math.imul(ae,Te)|0,M=M+Math.imul(we,Ee)|0,$=$+Math.imul(we,Te)|0,D=D+Math.imul(Ae,He)|0,M=M+Math.imul(Ae,lt)|0,M=M+Math.imul(de,He)|0,$=$+Math.imul(de,lt)|0,D=D+Math.imul(Z,Ft)|0,M=M+Math.imul(Z,Mt)|0,M=M+Math.imul(ce,Ft)|0,$=$+Math.imul(ce,Mt)|0;var be=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(be>>>26)|0,be&=67108863,D=Math.imul(ot,ke),M=Math.imul(ot,qe),M=M+Math.imul(X,ke)|0,$=Math.imul(X,qe),D=D+Math.imul(ut,rt)|0,M=M+Math.imul(ut,le)|0,M=M+Math.imul(Je,rt)|0,$=$+Math.imul(Je,le)|0,D=D+Math.imul(te,Ee)|0,M=M+Math.imul(te,Te)|0,M=M+Math.imul(Be,Ee)|0,$=$+Math.imul(Be,Te)|0,D=D+Math.imul(ae,He)|0,M=M+Math.imul(ae,lt)|0,M=M+Math.imul(we,He)|0,$=$+Math.imul(we,lt)|0,D=D+Math.imul(Ae,Ft)|0,M=M+Math.imul(Ae,Mt)|0,M=M+Math.imul(de,Ft)|0,$=$+Math.imul(de,Mt)|0,D=D+Math.imul(Z,Kt)|0,M=M+Math.imul(Z,ie)|0,M=M+Math.imul(ce,Kt)|0,$=$+Math.imul(ce,ie)|0;var he=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(he>>>26)|0,he&=67108863,D=Math.imul(fe,ke),M=Math.imul(fe,qe),M=M+Math.imul(_e,ke)|0,$=Math.imul(_e,qe),D=D+Math.imul(ot,rt)|0,M=M+Math.imul(ot,le)|0,M=M+Math.imul(X,rt)|0,$=$+Math.imul(X,le)|0,D=D+Math.imul(ut,Ee)|0,M=M+Math.imul(ut,Te)|0,M=M+Math.imul(Je,Ee)|0,$=$+Math.imul(Je,Te)|0,D=D+Math.imul(te,He)|0,M=M+Math.imul(te,lt)|0,M=M+Math.imul(Be,He)|0,$=$+Math.imul(Be,lt)|0,D=D+Math.imul(ae,Ft)|0,M=M+Math.imul(ae,Mt)|0,M=M+Math.imul(we,Ft)|0,$=$+Math.imul(we,Mt)|0,D=D+Math.imul(Ae,Kt)|0,M=M+Math.imul(Ae,ie)|0,M=M+Math.imul(de,Kt)|0,$=$+Math.imul(de,ie)|0,D=D+Math.imul(Z,ve)|0,M=M+Math.imul(Z,Me)|0,M=M+Math.imul(ce,ve)|0,$=$+Math.imul(ce,Me)|0;var ze=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(ze>>>26)|0,ze&=67108863,D=Math.imul(ge,ke),M=Math.imul(ge,qe),M=M+Math.imul(G,ke)|0,$=Math.imul(G,qe),D=D+Math.imul(fe,rt)|0,M=M+Math.imul(fe,le)|0,M=M+Math.imul(_e,rt)|0,$=$+Math.imul(_e,le)|0,D=D+Math.imul(ot,Ee)|0,M=M+Math.imul(ot,Te)|0,M=M+Math.imul(X,Ee)|0,$=$+Math.imul(X,Te)|0,D=D+Math.imul(ut,He)|0,M=M+Math.imul(ut,lt)|0,M=M+Math.imul(Je,He)|0,$=$+Math.imul(Je,lt)|0,D=D+Math.imul(te,Ft)|0,M=M+Math.imul(te,Mt)|0,M=M+Math.imul(Be,Ft)|0,$=$+Math.imul(Be,Mt)|0,D=D+Math.imul(ae,Kt)|0,M=M+Math.imul(ae,ie)|0,M=M+Math.imul(we,Kt)|0,$=$+Math.imul(we,ie)|0,D=D+Math.imul(Ae,ve)|0,M=M+Math.imul(Ae,Me)|0,M=M+Math.imul(de,ve)|0,$=$+Math.imul(de,Me)|0,D=D+Math.imul(Z,st)|0,M=M+Math.imul(Z,nt)|0,M=M+Math.imul(ce,st)|0,$=$+Math.imul(ce,nt)|0;var Ye=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,D=Math.imul(R,ke),M=Math.imul(R,qe),M=M+Math.imul(Q,ke)|0,$=Math.imul(Q,qe),D=D+Math.imul(ge,rt)|0,M=M+Math.imul(ge,le)|0,M=M+Math.imul(G,rt)|0,$=$+Math.imul(G,le)|0,D=D+Math.imul(fe,Ee)|0,M=M+Math.imul(fe,Te)|0,M=M+Math.imul(_e,Ee)|0,$=$+Math.imul(_e,Te)|0,D=D+Math.imul(ot,He)|0,M=M+Math.imul(ot,lt)|0,M=M+Math.imul(X,He)|0,$=$+Math.imul(X,lt)|0,D=D+Math.imul(ut,Ft)|0,M=M+Math.imul(ut,Mt)|0,M=M+Math.imul(Je,Ft)|0,$=$+Math.imul(Je,Mt)|0,D=D+Math.imul(te,Kt)|0,M=M+Math.imul(te,ie)|0,M=M+Math.imul(Be,Kt)|0,$=$+Math.imul(Be,ie)|0,D=D+Math.imul(ae,ve)|0,M=M+Math.imul(ae,Me)|0,M=M+Math.imul(we,ve)|0,$=$+Math.imul(we,Me)|0,D=D+Math.imul(Ae,st)|0,M=M+Math.imul(Ae,nt)|0,M=M+Math.imul(de,st)|0,$=$+Math.imul(de,nt)|0,D=D+Math.imul(Z,Xe)|0,M=M+Math.imul(Z,Ke)|0,M=M+Math.imul(ce,Xe)|0,$=$+Math.imul(ce,Ke)|0;var gt=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(gt>>>26)|0,gt&=67108863,D=Math.imul(ee,ke),M=Math.imul(ee,qe),M=M+Math.imul(ne,ke)|0,$=Math.imul(ne,qe),D=D+Math.imul(R,rt)|0,M=M+Math.imul(R,le)|0,M=M+Math.imul(Q,rt)|0,$=$+Math.imul(Q,le)|0,D=D+Math.imul(ge,Ee)|0,M=M+Math.imul(ge,Te)|0,M=M+Math.imul(G,Ee)|0,$=$+Math.imul(G,Te)|0,D=D+Math.imul(fe,He)|0,M=M+Math.imul(fe,lt)|0,M=M+Math.imul(_e,He)|0,$=$+Math.imul(_e,lt)|0,D=D+Math.imul(ot,Ft)|0,M=M+Math.imul(ot,Mt)|0,M=M+Math.imul(X,Ft)|0,$=$+Math.imul(X,Mt)|0,D=D+Math.imul(ut,Kt)|0,M=M+Math.imul(ut,ie)|0,M=M+Math.imul(Je,Kt)|0,$=$+Math.imul(Je,ie)|0,D=D+Math.imul(te,ve)|0,M=M+Math.imul(te,Me)|0,M=M+Math.imul(Be,ve)|0,$=$+Math.imul(Be,Me)|0,D=D+Math.imul(ae,st)|0,M=M+Math.imul(ae,nt)|0,M=M+Math.imul(we,st)|0,$=$+Math.imul(we,nt)|0,D=D+Math.imul(Ae,Xe)|0,M=M+Math.imul(Ae,Ke)|0,M=M+Math.imul(de,Xe)|0,$=$+Math.imul(de,Ke)|0,D=D+Math.imul(Z,wt)|0,M=M+Math.imul(Z,Ct)|0,M=M+Math.imul(ce,wt)|0,$=$+Math.imul(ce,Ct)|0;var mt=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(mt>>>26)|0,mt&=67108863,D=Math.imul(ee,rt),M=Math.imul(ee,le),M=M+Math.imul(ne,rt)|0,$=Math.imul(ne,le),D=D+Math.imul(R,Ee)|0,M=M+Math.imul(R,Te)|0,M=M+Math.imul(Q,Ee)|0,$=$+Math.imul(Q,Te)|0,D=D+Math.imul(ge,He)|0,M=M+Math.imul(ge,lt)|0,M=M+Math.imul(G,He)|0,$=$+Math.imul(G,lt)|0,D=D+Math.imul(fe,Ft)|0,M=M+Math.imul(fe,Mt)|0,M=M+Math.imul(_e,Ft)|0,$=$+Math.imul(_e,Mt)|0,D=D+Math.imul(ot,Kt)|0,M=M+Math.imul(ot,ie)|0,M=M+Math.imul(X,Kt)|0,$=$+Math.imul(X,ie)|0,D=D+Math.imul(ut,ve)|0,M=M+Math.imul(ut,Me)|0,M=M+Math.imul(Je,ve)|0,$=$+Math.imul(Je,Me)|0,D=D+Math.imul(te,st)|0,M=M+Math.imul(te,nt)|0,M=M+Math.imul(Be,st)|0,$=$+Math.imul(Be,nt)|0,D=D+Math.imul(ae,Xe)|0,M=M+Math.imul(ae,Ke)|0,M=M+Math.imul(we,Xe)|0,$=$+Math.imul(we,Ke)|0,D=D+Math.imul(Ae,wt)|0,M=M+Math.imul(Ae,Ct)|0,M=M+Math.imul(de,wt)|0,$=$+Math.imul(de,Ct)|0;var Tt=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,D=Math.imul(ee,Ee),M=Math.imul(ee,Te),M=M+Math.imul(ne,Ee)|0,$=Math.imul(ne,Te),D=D+Math.imul(R,He)|0,M=M+Math.imul(R,lt)|0,M=M+Math.imul(Q,He)|0,$=$+Math.imul(Q,lt)|0,D=D+Math.imul(ge,Ft)|0,M=M+Math.imul(ge,Mt)|0,M=M+Math.imul(G,Ft)|0,$=$+Math.imul(G,Mt)|0,D=D+Math.imul(fe,Kt)|0,M=M+Math.imul(fe,ie)|0,M=M+Math.imul(_e,Kt)|0,$=$+Math.imul(_e,ie)|0,D=D+Math.imul(ot,ve)|0,M=M+Math.imul(ot,Me)|0,M=M+Math.imul(X,ve)|0,$=$+Math.imul(X,Me)|0,D=D+Math.imul(ut,st)|0,M=M+Math.imul(ut,nt)|0,M=M+Math.imul(Je,st)|0,$=$+Math.imul(Je,nt)|0,D=D+Math.imul(te,Xe)|0,M=M+Math.imul(te,Ke)|0,M=M+Math.imul(Be,Xe)|0,$=$+Math.imul(Be,Ke)|0,D=D+Math.imul(ae,wt)|0,M=M+Math.imul(ae,Ct)|0,M=M+Math.imul(we,wt)|0,$=$+Math.imul(we,Ct)|0;var Rt=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,D=Math.imul(ee,He),M=Math.imul(ee,lt),M=M+Math.imul(ne,He)|0,$=Math.imul(ne,lt),D=D+Math.imul(R,Ft)|0,M=M+Math.imul(R,Mt)|0,M=M+Math.imul(Q,Ft)|0,$=$+Math.imul(Q,Mt)|0,D=D+Math.imul(ge,Kt)|0,M=M+Math.imul(ge,ie)|0,M=M+Math.imul(G,Kt)|0,$=$+Math.imul(G,ie)|0,D=D+Math.imul(fe,ve)|0,M=M+Math.imul(fe,Me)|0,M=M+Math.imul(_e,ve)|0,$=$+Math.imul(_e,Me)|0,D=D+Math.imul(ot,st)|0,M=M+Math.imul(ot,nt)|0,M=M+Math.imul(X,st)|0,$=$+Math.imul(X,nt)|0,D=D+Math.imul(ut,Xe)|0,M=M+Math.imul(ut,Ke)|0,M=M+Math.imul(Je,Xe)|0,$=$+Math.imul(Je,Ke)|0,D=D+Math.imul(te,wt)|0,M=M+Math.imul(te,Ct)|0,M=M+Math.imul(Be,wt)|0,$=$+Math.imul(Be,Ct)|0;var yt=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(yt>>>26)|0,yt&=67108863,D=Math.imul(ee,Ft),M=Math.imul(ee,Mt),M=M+Math.imul(ne,Ft)|0,$=Math.imul(ne,Mt),D=D+Math.imul(R,Kt)|0,M=M+Math.imul(R,ie)|0,M=M+Math.imul(Q,Kt)|0,$=$+Math.imul(Q,ie)|0,D=D+Math.imul(ge,ve)|0,M=M+Math.imul(ge,Me)|0,M=M+Math.imul(G,ve)|0,$=$+Math.imul(G,Me)|0,D=D+Math.imul(fe,st)|0,M=M+Math.imul(fe,nt)|0,M=M+Math.imul(_e,st)|0,$=$+Math.imul(_e,nt)|0,D=D+Math.imul(ot,Xe)|0,M=M+Math.imul(ot,Ke)|0,M=M+Math.imul(X,Xe)|0,$=$+Math.imul(X,Ke)|0,D=D+Math.imul(ut,wt)|0,M=M+Math.imul(ut,Ct)|0,M=M+Math.imul(Je,wt)|0,$=$+Math.imul(Je,Ct)|0;var dt=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(dt>>>26)|0,dt&=67108863,D=Math.imul(ee,Kt),M=Math.imul(ee,ie),M=M+Math.imul(ne,Kt)|0,$=Math.imul(ne,ie),D=D+Math.imul(R,ve)|0,M=M+Math.imul(R,Me)|0,M=M+Math.imul(Q,ve)|0,$=$+Math.imul(Q,Me)|0,D=D+Math.imul(ge,st)|0,M=M+Math.imul(ge,nt)|0,M=M+Math.imul(G,st)|0,$=$+Math.imul(G,nt)|0,D=D+Math.imul(fe,Xe)|0,M=M+Math.imul(fe,Ke)|0,M=M+Math.imul(_e,Xe)|0,$=$+Math.imul(_e,Ke)|0,D=D+Math.imul(ot,wt)|0,M=M+Math.imul(ot,Ct)|0,M=M+Math.imul(X,wt)|0,$=$+Math.imul(X,Ct)|0;var ue=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(ue>>>26)|0,ue&=67108863,D=Math.imul(ee,ve),M=Math.imul(ee,Me),M=M+Math.imul(ne,ve)|0,$=Math.imul(ne,Me),D=D+Math.imul(R,st)|0,M=M+Math.imul(R,nt)|0,M=M+Math.imul(Q,st)|0,$=$+Math.imul(Q,nt)|0,D=D+Math.imul(ge,Xe)|0,M=M+Math.imul(ge,Ke)|0,M=M+Math.imul(G,Xe)|0,$=$+Math.imul(G,Ke)|0,D=D+Math.imul(fe,wt)|0,M=M+Math.imul(fe,Ct)|0,M=M+Math.imul(_e,wt)|0,$=$+Math.imul(_e,Ct)|0;var Le=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(Le>>>26)|0,Le&=67108863,D=Math.imul(ee,st),M=Math.imul(ee,nt),M=M+Math.imul(ne,st)|0,$=Math.imul(ne,nt),D=D+Math.imul(R,Xe)|0,M=M+Math.imul(R,Ke)|0,M=M+Math.imul(Q,Xe)|0,$=$+Math.imul(Q,Ke)|0,D=D+Math.imul(ge,wt)|0,M=M+Math.imul(ge,Ct)|0,M=M+Math.imul(G,wt)|0,$=$+Math.imul(G,Ct)|0;var Oe=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,D=Math.imul(ee,Xe),M=Math.imul(ee,Ke),M=M+Math.imul(ne,Xe)|0,$=Math.imul(ne,Ke),D=D+Math.imul(R,wt)|0,M=M+Math.imul(R,Ct)|0,M=M+Math.imul(Q,wt)|0,$=$+Math.imul(Q,Ct)|0;var Pe=(H+D|0)+((M&8191)<<13)|0;H=($+(M>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,D=Math.imul(ee,wt),M=Math.imul(ee,Ct),M=M+Math.imul(ne,wt)|0,$=Math.imul(ne,Ct);var We=(H+D|0)+((M&8191)<<13)|0;return H=($+(M>>>13)|0)+(We>>>26)|0,We&=67108863,j[0]=gn,j[1]=K,j[2]=se,j[3]=ye,j[4]=be,j[5]=he,j[6]=ze,j[7]=Ye,j[8]=gt,j[9]=mt,j[10]=Tt,j[11]=Rt,j[12]=yt,j[13]=dt,j[14]=ue,j[15]=Le,j[16]=Oe,j[17]=Pe,j[18]=We,H!==0&&(j[19]=H,I.length++),I};Math.imul||(v=p);function w(B,b,E){E.negative=b.negative^B.negative,E.length=B.length+b.length;for(var I=0,O=0,C=0;C<E.length-1;C++){var j=O;O=0;for(var H=I&67108863,D=Math.min(C,b.length-1),M=Math.max(0,C-B.length+1);M<=D;M++){var $=C-M,J=B.words[$]|0,Z=b.words[M]|0,ce=J*Z,oe=ce&67108863;j=j+(ce/67108864|0)|0,oe=oe+H|0,H=oe&67108863,j=j+(oe>>>26)|0,O+=j>>>26,j&=67108863}E.words[C]=H,I=j,j=O}return I!==0?E.words[C]=I:E.length--,E._strip()}function x(B,b,E){return w(B,b,E)}o.prototype.mulTo=function(b,E){var I,O=this.length+b.length;return this.length===10&&b.length===10?I=v(this,b,E):O<63?I=p(this,b,E):O<1024?I=w(this,b,E):I=x(this,b,E),I},o.prototype.mul=function(b){var E=new o(null);return E.words=new Array(this.length+b.length),this.mulTo(b,E)},o.prototype.mulf=function(b){var E=new o(null);return E.words=new Array(this.length+b.length),x(this,b,E)},o.prototype.imul=function(b){return this.clone().mulTo(b,this)},o.prototype.imuln=function(b){var E=b<0;E&&(b=-b),r(typeof b=="number"),r(b<67108864);for(var I=0,O=0;O<this.length;O++){var C=(this.words[O]|0)*b,j=(C&67108863)+(I&67108863);I>>=26,I+=C/67108864|0,I+=j>>>26,this.words[O]=j&67108863}return I!==0&&(this.words[O]=I,this.length++),this.length=b===0?1:this.length,E?this.ineg():this},o.prototype.muln=function(b){return this.clone().imuln(b)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(b){var E=y(b);if(E.length===0)return new o(1);for(var I=this,O=0;O<E.length&&E[O]===0;O++,I=I.sqr());if(++O<E.length)for(var C=I.sqr();O<E.length;O++,C=C.sqr())E[O]!==0&&(I=I.mul(C));return I},o.prototype.iushln=function(b){r(typeof b=="number"&&b>=0);var E=b%26,I=(b-E)/26,O=67108863>>>26-E<<26-E,C;if(E!==0){var j=0;for(C=0;C<this.length;C++){var H=this.words[C]&O,D=(this.words[C]|0)-H<<E;this.words[C]=D|j,j=H>>>26-E}j&&(this.words[C]=j,this.length++)}if(I!==0){for(C=this.length-1;C>=0;C--)this.words[C+I]=this.words[C];for(C=0;C<I;C++)this.words[C]=0;this.length+=I}return this._strip()},o.prototype.ishln=function(b){return r(this.negative===0),this.iushln(b)},o.prototype.iushrn=function(b,E,I){r(typeof b=="number"&&b>=0);var O;E?O=(E-E%26)/26:O=0;var C=b%26,j=Math.min((b-C)/26,this.length),H=67108863^67108863>>>C<<C,D=I;if(O-=j,O=Math.max(0,O),D){for(var M=0;M<j;M++)D.words[M]=this.words[M];D.length=j}if(j!==0)if(this.length>j)for(this.length-=j,M=0;M<this.length;M++)this.words[M]=this.words[M+j];else this.words[0]=0,this.length=1;var $=0;for(M=this.length-1;M>=0&&($!==0||M>=O);M--){var J=this.words[M]|0;this.words[M]=$<<26-C|J>>>C,$=J&H}return D&&$!==0&&(D.words[D.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(b,E,I){return r(this.negative===0),this.iushrn(b,E,I)},o.prototype.shln=function(b){return this.clone().ishln(b)},o.prototype.ushln=function(b){return this.clone().iushln(b)},o.prototype.shrn=function(b){return this.clone().ishrn(b)},o.prototype.ushrn=function(b){return this.clone().iushrn(b)},o.prototype.testn=function(b){r(typeof b=="number"&&b>=0);var E=b%26,I=(b-E)/26,O=1<<E;if(this.length<=I)return!1;var C=this.words[I];return!!(C&O)},o.prototype.imaskn=function(b){r(typeof b=="number"&&b>=0);var E=b%26,I=(b-E)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=I)return this;if(E!==0&&I++,this.length=Math.min(I,this.length),E!==0){var O=67108863^67108863>>>E<<E;this.words[this.length-1]&=O}return this._strip()},o.prototype.maskn=function(b){return this.clone().imaskn(b)},o.prototype.iaddn=function(b){return r(typeof b=="number"),r(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<=b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},o.prototype._iaddn=function(b){this.words[0]+=b;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},o.prototype.isubn=function(b){if(r(typeof b=="number"),r(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this._strip()},o.prototype.addn=function(b){return this.clone().iaddn(b)},o.prototype.subn=function(b){return this.clone().isubn(b)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(b,E,I){var O=b.length+I,C;this._expand(O);var j,H=0;for(C=0;C<b.length;C++){j=(this.words[C+I]|0)+H;var D=(b.words[C]|0)*E;j-=D&67108863,H=(j>>26)-(D/67108864|0),this.words[C+I]=j&67108863}for(;C<this.length-I;C++)j=(this.words[C+I]|0)+H,H=j>>26,this.words[C+I]=j&67108863;if(H===0)return this._strip();for(r(H===-1),H=0,C=0;C<this.length;C++)j=-(this.words[C]|0)+H,H=j>>26,this.words[C]=j&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(b,E){var I=this.length-b.length,O=this.clone(),C=b,j=C.words[C.length-1]|0,H=this._countBits(j);I=26-H,I!==0&&(C=C.ushln(I),O.iushln(I),j=C.words[C.length-1]|0);var D=O.length-C.length,M;if(E!=="mod"){M=new o(null),M.length=D+1,M.words=new Array(M.length);for(var $=0;$<M.length;$++)M.words[$]=0}var J=O.clone()._ishlnsubmul(C,1,D);J.negative===0&&(O=J,M&&(M.words[D]=1));for(var Z=D-1;Z>=0;Z--){var ce=(O.words[C.length+Z]|0)*67108864+(O.words[C.length+Z-1]|0);for(ce=Math.min(ce/j|0,67108863),O._ishlnsubmul(C,ce,Z);O.negative!==0;)ce--,O.negative=0,O._ishlnsubmul(C,1,Z),O.isZero()||(O.negative^=1);M&&(M.words[Z]=ce)}return M&&M._strip(),O._strip(),E!=="div"&&I!==0&&O.iushrn(I),{div:M||null,mod:O}},o.prototype.divmod=function(b,E,I){if(r(!b.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var O,C,j;return this.negative!==0&&b.negative===0?(j=this.neg().divmod(b,E),E!=="mod"&&(O=j.div.neg()),E!=="div"&&(C=j.mod.neg(),I&&C.negative!==0&&C.iadd(b)),{div:O,mod:C}):this.negative===0&&b.negative!==0?(j=this.divmod(b.neg(),E),E!=="mod"&&(O=j.div.neg()),{div:O,mod:j.mod}):this.negative&b.negative?(j=this.neg().divmod(b.neg(),E),E!=="div"&&(C=j.mod.neg(),I&&C.negative!==0&&C.isub(b)),{div:j.div,mod:C}):b.length>this.length||this.cmp(b)<0?{div:new o(0),mod:this}:b.length===1?E==="div"?{div:this.divn(b.words[0]),mod:null}:E==="mod"?{div:null,mod:new o(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new o(this.modrn(b.words[0]))}:this._wordDiv(b,E)},o.prototype.div=function(b){return this.divmod(b,"div",!1).div},o.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},o.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},o.prototype.divRound=function(b){var E=this.divmod(b);if(E.mod.isZero())return E.div;var I=E.div.negative!==0?E.mod.isub(b):E.mod,O=b.ushrn(1),C=b.andln(1),j=I.cmp(O);return j<0||C===1&&j===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},o.prototype.modrn=function(b){var E=b<0;E&&(b=-b),r(b<=67108863);for(var I=(1<<26)%b,O=0,C=this.length-1;C>=0;C--)O=(I*O+(this.words[C]|0))%b;return E?-O:O},o.prototype.modn=function(b){return this.modrn(b)},o.prototype.idivn=function(b){var E=b<0;E&&(b=-b),r(b<=67108863);for(var I=0,O=this.length-1;O>=0;O--){var C=(this.words[O]|0)+I*67108864;this.words[O]=C/b|0,I=C%b}return this._strip(),E?this.ineg():this},o.prototype.divn=function(b){return this.clone().idivn(b)},o.prototype.egcd=function(b){r(b.negative===0),r(!b.isZero());var E=this,I=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var O=new o(1),C=new o(0),j=new o(0),H=new o(1),D=0;E.isEven()&&I.isEven();)E.iushrn(1),I.iushrn(1),++D;for(var M=I.clone(),$=E.clone();!E.isZero();){for(var J=0,Z=1;!(E.words[0]&Z)&&J<26;++J,Z<<=1);if(J>0)for(E.iushrn(J);J-- >0;)(O.isOdd()||C.isOdd())&&(O.iadd(M),C.isub($)),O.iushrn(1),C.iushrn(1);for(var ce=0,oe=1;!(I.words[0]&oe)&&ce<26;++ce,oe<<=1);if(ce>0)for(I.iushrn(ce);ce-- >0;)(j.isOdd()||H.isOdd())&&(j.iadd(M),H.isub($)),j.iushrn(1),H.iushrn(1);E.cmp(I)>=0?(E.isub(I),O.isub(j),C.isub(H)):(I.isub(E),j.isub(O),H.isub(C))}return{a:j,b:H,gcd:I.iushln(D)}},o.prototype._invmp=function(b){r(b.negative===0),r(!b.isZero());var E=this,I=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var O=new o(1),C=new o(0),j=I.clone();E.cmpn(1)>0&&I.cmpn(1)>0;){for(var H=0,D=1;!(E.words[0]&D)&&H<26;++H,D<<=1);if(H>0)for(E.iushrn(H);H-- >0;)O.isOdd()&&O.iadd(j),O.iushrn(1);for(var M=0,$=1;!(I.words[0]&$)&&M<26;++M,$<<=1);if(M>0)for(I.iushrn(M);M-- >0;)C.isOdd()&&C.iadd(j),C.iushrn(1);E.cmp(I)>=0?(E.isub(I),O.isub(C)):(I.isub(E),C.isub(O))}var J;return E.cmpn(1)===0?J=O:J=C,J.cmpn(0)<0&&J.iadd(b),J},o.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var E=this.clone(),I=b.clone();E.negative=0,I.negative=0;for(var O=0;E.isEven()&&I.isEven();O++)E.iushrn(1),I.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;I.isEven();)I.iushrn(1);var C=E.cmp(I);if(C<0){var j=E;E=I,I=j}else if(C===0||I.cmpn(1)===0)break;E.isub(I)}while(!0);return I.iushln(O)},o.prototype.invm=function(b){return this.egcd(b).a.umod(b)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(b){return this.words[0]&b},o.prototype.bincn=function(b){r(typeof b=="number");var E=b%26,I=(b-E)/26,O=1<<E;if(this.length<=I)return this._expand(I+1),this.words[I]|=O,this;for(var C=O,j=I;C!==0&&j<this.length;j++){var H=this.words[j]|0;H+=C,C=H>>>26,H&=67108863,this.words[j]=H}return C!==0&&(this.words[j]=C,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(b){var E=b<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this._strip();var I;if(this.length>1)I=1;else{E&&(b=-b),r(b<=67108863,"Number is too big");var O=this.words[0]|0;I=O===b?0:O<b?-1:1}return this.negative!==0?-I|0:I},o.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var E=this.ucmp(b);return this.negative!==0?-E|0:E},o.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var E=0,I=this.length-1;I>=0;I--){var O=this.words[I]|0,C=b.words[I]|0;if(O!==C){O<C?E=-1:O>C&&(E=1);break}}return E},o.prototype.gtn=function(b){return this.cmpn(b)===1},o.prototype.gt=function(b){return this.cmp(b)===1},o.prototype.gten=function(b){return this.cmpn(b)>=0},o.prototype.gte=function(b){return this.cmp(b)>=0},o.prototype.ltn=function(b){return this.cmpn(b)===-1},o.prototype.lt=function(b){return this.cmp(b)===-1},o.prototype.lten=function(b){return this.cmpn(b)<=0},o.prototype.lte=function(b){return this.cmp(b)<=0},o.prototype.eqn=function(b){return this.cmpn(b)===0},o.prototype.eq=function(b){return this.cmp(b)===0},o.red=function(b){return new P(b)},o.prototype.toRed=function(b){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(b){return this.red=b,this},o.prototype.forceRed=function(b){return r(!this.red,"Already a number in reduction context"),this._forceRed(b)},o.prototype.redAdd=function(b){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},o.prototype.redIAdd=function(b){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},o.prototype.redSub=function(b){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},o.prototype.redISub=function(b){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},o.prototype.redShl=function(b){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},o.prototype.redMul=function(b){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},o.prototype.redIMul=function(b){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(b){return r(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var T={k256:null,p224:null,p192:null,p25519:null};function k(B,b){this.name=B,this.p=new o(b,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var b=new o(null);return b.words=new Array(Math.ceil(this.n/13)),b},k.prototype.ireduce=function(b){var E=b,I;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),I=E.bitLength();while(I>this.n);var O=I<this.n?-1:E.ucmp(this.p);return O===0?(E.words[0]=0,E.length=1):O>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},k.prototype.split=function(b,E){b.iushrn(this.n,0,E)},k.prototype.imulK=function(b){return b.imul(this.k)};function A(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(A,k),A.prototype.split=function(b,E){for(var I=4194303,O=Math.min(b.length,9),C=0;C<O;C++)E.words[C]=b.words[C];if(E.length=O,b.length<=9){b.words[0]=0,b.length=1;return}var j=b.words[9];for(E.words[E.length++]=j&I,C=10;C<b.length;C++){var H=b.words[C]|0;b.words[C-10]=(H&I)<<4|j>>>22,j=H}j>>>=22,b.words[C-10]=j,j===0&&b.length>10?b.length-=10:b.length-=9},A.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var E=0,I=0;I<b.length;I++){var O=b.words[I]|0;E+=O*977,b.words[I]=E&67108863,E=O*64+(E/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function z(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,k);function S(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(S,k);function N(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(N,k),N.prototype.imulK=function(b){for(var E=0,I=0;I<b.length;I++){var O=(b.words[I]|0)*19+E,C=O&67108863;O>>>=26,b.words[I]=C,E=O}return E!==0&&(b.words[b.length++]=E),b},o._prime=function(b){if(T[b])return T[b];var E;if(b==="k256")E=new A;else if(b==="p224")E=new z;else if(b==="p192")E=new S;else if(b==="p25519")E=new N;else throw new Error("Unknown prime "+b);return T[b]=E,E};function P(B){if(typeof B=="string"){var b=o._prime(B);this.m=b.p,this.prime=b}else r(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}P.prototype._verify1=function(b){r(b.negative===0,"red works only with positives"),r(b.red,"red works only with red numbers")},P.prototype._verify2=function(b,E){r((b.negative|E.negative)===0,"red works only with positives"),r(b.red&&b.red===E.red,"red works only with red numbers")},P.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):(u(b,b.umod(this.m)._forceRed(this)),b)},P.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},P.prototype.add=function(b,E){this._verify2(b,E);var I=b.add(E);return I.cmp(this.m)>=0&&I.isub(this.m),I._forceRed(this)},P.prototype.iadd=function(b,E){this._verify2(b,E);var I=b.iadd(E);return I.cmp(this.m)>=0&&I.isub(this.m),I},P.prototype.sub=function(b,E){this._verify2(b,E);var I=b.sub(E);return I.cmpn(0)<0&&I.iadd(this.m),I._forceRed(this)},P.prototype.isub=function(b,E){this._verify2(b,E);var I=b.isub(E);return I.cmpn(0)<0&&I.iadd(this.m),I},P.prototype.shl=function(b,E){return this._verify1(b),this.imod(b.ushln(E))},P.prototype.imul=function(b,E){return this._verify2(b,E),this.imod(b.imul(E))},P.prototype.mul=function(b,E){return this._verify2(b,E),this.imod(b.mul(E))},P.prototype.isqr=function(b){return this.imul(b,b.clone())},P.prototype.sqr=function(b){return this.mul(b,b)},P.prototype.sqrt=function(b){if(b.isZero())return b.clone();var E=this.m.andln(3);if(r(E%2===1),E===3){var I=this.m.add(new o(1)).iushrn(2);return this.pow(b,I)}for(var O=this.m.subn(1),C=0;!O.isZero()&&O.andln(1)===0;)C++,O.iushrn(1);r(!O.isZero());var j=new o(1).toRed(this),H=j.redNeg(),D=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new o(2*M*M).toRed(this);this.pow(M,D).cmp(H)!==0;)M.redIAdd(H);for(var $=this.pow(M,O),J=this.pow(b,O.addn(1).iushrn(1)),Z=this.pow(b,O),ce=C;Z.cmp(j)!==0;){for(var oe=Z,Ae=0;oe.cmp(j)!==0;Ae++)oe=oe.redSqr();r(Ae<ce);var de=this.pow($,new o(1).iushln(ce-Ae-1));J=J.redMul(de),$=de.redSqr(),Z=Z.redMul($),ce=Ae}return J},P.prototype.invm=function(b){var E=b._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},P.prototype.pow=function(b,E){if(E.isZero())return new o(1).toRed(this);if(E.cmpn(1)===0)return b.clone();var I=4,O=new Array(1<<I);O[0]=new o(1).toRed(this),O[1]=b;for(var C=2;C<O.length;C++)O[C]=this.mul(O[C-1],b);var j=O[0],H=0,D=0,M=E.bitLength()%26;for(M===0&&(M=26),C=E.length-1;C>=0;C--){for(var $=E.words[C],J=M-1;J>=0;J--){var Z=$>>J&1;if(j!==O[0]&&(j=this.sqr(j)),Z===0&&H===0){D=0;continue}H<<=1,H|=Z,D++,!(D!==I&&(C!==0||J!==0))&&(j=this.mul(j,O[H]),D=0,H=0)}M=26}return j},P.prototype.convertTo=function(b){var E=b.umod(this.m);return E===b?E.clone():E},P.prototype.convertFrom=function(b){var E=b.clone();return E.red=null,E},o.mont=function(b){return new W(b)};function W(B){P.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(W,P),W.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},W.prototype.convertFrom=function(b){var E=this.imod(b.mul(this.rinv));return E.red=null,E},W.prototype.imul=function(b,E){if(b.isZero()||E.isZero())return b.words[0]=0,b.length=1,b;var I=b.imul(E),O=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=I.isub(O).iushrn(this.shift),j=C;return C.cmp(this.m)>=0?j=C.isub(this.m):C.cmpn(0)<0&&(j=C.iadd(this.m)),j._forceRed(this)},W.prototype.mul=function(b,E){if(b.isZero()||E.isZero())return new o(0)._forceRed(this);var I=b.mul(E),O=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=I.isub(O).iushrn(this.shift),j=C;return C.cmp(this.m)>=0?j=C.isub(this.m):C.cmpn(0)<0&&(j=C.iadd(this.m)),j._forceRed(this)},W.prototype.invm=function(b){var E=this.imod(b._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(t,rF)})(r5);var Wse=r5.exports;const Vse=Om(Wse),J8="bignumber/5.8.0";var Bv=Vse.BN;const da=new Ii(J8),Rx={},zR=9007199254740991;function $se(t){return t!=null&&($t.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Li(t)||typeof t=="bigint"||Zf(t))}let jR=!1;class $t{constructor(e,n){e!==Rx&&da.throwError("cannot call constructor directly; use BigNumber.from",Ii.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return bi(Vt(this).fromTwos(e))}toTwos(e){return bi(Vt(this).toTwos(e))}abs(){return this._hex[0]==="-"?$t.from(this._hex.substring(1)):this}add(e){return bi(Vt(this).add(Vt(e)))}sub(e){return bi(Vt(this).sub(Vt(e)))}div(e){return $t.from(e).isZero()&&yo("division-by-zero","div"),bi(Vt(this).div(Vt(e)))}mul(e){return bi(Vt(this).mul(Vt(e)))}mod(e){const n=Vt(e);return n.isNeg()&&yo("division-by-zero","mod"),bi(Vt(this).umod(n))}pow(e){const n=Vt(e);return n.isNeg()&&yo("negative-power","pow"),bi(Vt(this).pow(n))}and(e){const n=Vt(e);return(this.isNegative()||n.isNeg())&&yo("unbound-bitwise-result","and"),bi(Vt(this).and(n))}or(e){const n=Vt(e);return(this.isNegative()||n.isNeg())&&yo("unbound-bitwise-result","or"),bi(Vt(this).or(n))}xor(e){const n=Vt(e);return(this.isNegative()||n.isNeg())&&yo("unbound-bitwise-result","xor"),bi(Vt(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&yo("negative-width","mask"),bi(Vt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&yo("negative-width","shl"),bi(Vt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&yo("negative-width","shr"),bi(Vt(this).shrn(e))}eq(e){return Vt(this).eq(Vt(e))}lt(e){return Vt(this).lt(Vt(e))}lte(e){return Vt(this).lte(Vt(e))}gt(e){return Vt(this).gt(Vt(e))}gte(e){return Vt(this).gte(Vt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Vt(this).isZero()}toNumber(){try{return Vt(this).toNumber()}catch{yo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return da.throwError("this platform does not support BigInt",Ii.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?jR||(jR=!0,da.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?da.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ii.errors.UNEXPECTED_ARGUMENT,{}):da.throwError("BigNumber.toString does not accept parameters",Ii.errors.UNEXPECTED_ARGUMENT,{})),Vt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof $t)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new $t(Rx,wm(e)):e.match(/^-?[0-9]+$/)?new $t(Rx,wm(new Bv(e))):da.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&yo("underflow","BigNumber.from",e),(e>=zR||e<=-zR)&&yo("overflow","BigNumber.from",e),$t.from(String(e));const n=e;if(typeof n=="bigint")return $t.from(n.toString());if(Zf(n))return $t.from(oi(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return $t.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(Li(r)||r[0]==="-"&&Li(r.substring(1))))return $t.from(r)}return da.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function wm(t){if(typeof t!="string")return wm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&da.throwArgumentError("invalid hex","value",t),t=wm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function bi(t){return $t.from(wm(t))}function Vt(t){const e=$t.from(t).toHexString();return e[0]==="-"?new Bv("-"+e.substring(3),16):new Bv(e.substring(2),16)}function yo(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),da.throwError(t,Ii.errors.NUMERIC_FAULT,r)}function C_e(t){return new Bv(t,36).toString(16)}const ai=new Ii(J8),yp={},Z8=$t.from(0),e7=$t.from(-1);function t7(t,e,n,r){const i={fault:e,operation:n};return r!==void 0&&(i.value=r),ai.throwError(t,Ii.errors.NUMERIC_FAULT,i)}let vp="0";for(;vp.length<256;)vp+=vp;function i5(t){if(typeof t!="number")try{t=$t.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+vp.substring(0,t):ai.throwArgumentError("invalid decimal size","decimals",t)}function Ay(t,e){e==null&&(e=0);const n=i5(e);t=$t.from(t);const r=t.lt(Z8);r&&(t=t.mul(e7));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(n).toString();return n.length===1?t=o:t=o+"."+i,r&&(t="-"+t),t}function na(t,e){e==null&&(e=0);const n=i5(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&ai.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&ai.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&ai.throwArgumentError("too many decimal points","value",t);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>n.length-1&&t7("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<n.length-1;)s+="0";const a=$t.from(o),l=$t.from(s);let c=a.mul(n).add(l);return r&&(c=c.mul(e7)),c}class Wd{constructor(e,n,r,i){e!==yp&&ai.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Ii.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=i,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=i5(i),Object.freeze(this)}static from(e){if(e instanceof Wd)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||ai.throwArgumentError("invalid fixed format","format",e),n=o[1]!=="u",r=parseInt(o[2]),i=parseInt(o[3])}}else if(e){const o=(s,a,l)=>e[s]==null?l:(typeof e[s]!==a&&ai.throwArgumentError("invalid fixed format ("+s+" not "+a+")","format."+s,e[s]),e[s]);n=o("signed","boolean",n),r=o("width","number",r),i=o("decimals","number",i)}return r%8&&ai.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&ai.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Wd(yp,n,r,i)}}class Nr{constructor(e,n,r,i){e!==yp&&ai.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Ii.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&ai.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=na(this._value,this.format.decimals),r=na(e._value,e.format.decimals);return Nr.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=na(this._value,this.format.decimals),r=na(e._value,e.format.decimals);return Nr.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=na(this._value,this.format.decimals),r=na(e._value,e.format.decimals);return Nr.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=na(this._value,this.format.decimals),r=na(e._value,e.format.decimals);return Nr.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Nr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(GR.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Nr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(GR.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&ai.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=Nr.from("1"+vp.substring(0,e),this.format),i=qse.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&ai.throwArgumentError("invalid byte width","width",e);const n=$t.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return gp(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Nr.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!$se(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),Nr.fromString(Ay(e,n),Wd.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=Wd.from(n),i=na(e,r.decimals);!r.signed&&i.lt(Z8)&&t7("unsigned value cannot be negative","overflow","value",e);let o=null;r.signed?o=i.toTwos(r.width).toHexString():(o=i.toHexString(),o=gp(o,r.width/8));const s=Ay(i,r.decimals);return new Nr(yp,o,s,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=Wd.from(n);if(Kc(e).length>r.width/8)throw new Error("overflow");let i=$t.from(e);r.signed&&(i=i.fromTwos(r.width));const o=i.toTwos((r.signed?0:1)+r.width).toHexString(),s=Ay(i,r.decimals);return new Nr(yp,o,s,r)}static from(e,n){if(typeof e=="string")return Nr.fromString(e,n);if(Zf(e))return Nr.fromBytes(e,n);try{return Nr.fromValue(e,0,n)}catch(r){if(r.code!==Ii.errors.INVALID_ARGUMENT)throw r}return ai.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const GR=Nr.from(1),qse=Nr.from("0.5"),Kse=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Qse(t,e){if(typeof e=="string"){const n=Kse.indexOf(e);n!==-1&&(e=3*n)}return Ay(t,e??18)}function n7(t,e){return function(){return t.apply(e,arguments)}}const{toString:Xse}=Object.prototype,{getPrototypeOf:o5}=Object,{iterator:C1,toStringTag:r7}=Symbol,T1=(t=>e=>{const n=Xse.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ys=t=>(t=t.toLowerCase(),e=>T1(e)===t),M1=t=>e=>typeof e===t,{isArray:eh}=Array,bm=M1("undefined");function Yse(t){return t!==null&&!bm(t)&&t.constructor!==null&&!bm(t.constructor)&&Di(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const i7=ys("ArrayBuffer");function Jse(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&i7(t.buffer),e}const Zse=M1("string"),Di=M1("function"),o7=M1("number"),I1=t=>t!==null&&typeof t=="object",eae=t=>t===!0||t===!1,_y=t=>{if(T1(t)!=="object")return!1;const e=o5(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(r7 in t)&&!(C1 in t)},tae=ys("Date"),nae=ys("File"),rae=ys("Blob"),iae=ys("FileList"),oae=t=>I1(t)&&Di(t.pipe),sae=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Di(t.append)&&((e=T1(t))==="formdata"||e==="object"&&Di(t.toString)&&t.toString()==="[object FormData]"))},aae=ys("URLSearchParams"),[lae,cae,uae,dae]=["ReadableStream","Request","Response","Headers"].map(ys),fae=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function s0(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),eh(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function s7(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Lc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,a7=t=>!bm(t)&&t!==Lc;function K2(){const{caseless:t}=a7(this)&&this||{},e={},n=(r,i)=>{const o=t&&s7(e,i)||i;_y(e[o])&&_y(r)?e[o]=K2(e[o],r):_y(r)?e[o]=K2({},r):eh(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&s0(arguments[r],n);return e}const hae=(t,e,n,{allOwnKeys:r}={})=>(s0(e,(i,o)=>{n&&Di(i)?t[o]=n7(i,n):t[o]=i},{allOwnKeys:r}),t),pae=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mae=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},gae=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&o5(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},yae=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},vae=t=>{if(!t)return null;if(eh(t))return t;let e=t.length;if(!o7(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},wae=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&o5(Uint8Array)),bae=(t,e)=>{const r=(t&&t[C1]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},xae=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Eae=ys("HTMLFormElement"),Aae=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),HR=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),_ae=ys("RegExp"),l7=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};s0(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},Sae=t=>{l7(t,(e,n)=>{if(Di(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Di(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Cae=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return eh(t)?r(t):r(String(t).split(e)),n},Tae=()=>{},Mae=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Iae(t){return!!(t&&Di(t.append)&&t[r7]==="FormData"&&t[C1])}const Rae=t=>{const e=new Array(10),n=(r,i)=>{if(I1(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=eh(r)?[]:{};return s0(r,(s,a)=>{const l=n(s,i+1);!bm(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},Pae=ys("AsyncFunction"),Nae=t=>t&&(I1(t)||Di(t))&&Di(t.then)&&Di(t.catch),c7=((t,e)=>t?setImmediate:e?((n,r)=>(Lc.addEventListener("message",({source:i,data:o})=>{i===Lc&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Lc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Di(Lc.postMessage)),kae=typeof queueMicrotask<"u"?queueMicrotask.bind(Lc):typeof process<"u"&&process.nextTick||c7,Fae=t=>t!=null&&Di(t[C1]),Ce={isArray:eh,isArrayBuffer:i7,isBuffer:Yse,isFormData:sae,isArrayBufferView:Jse,isString:Zse,isNumber:o7,isBoolean:eae,isObject:I1,isPlainObject:_y,isReadableStream:lae,isRequest:cae,isResponse:uae,isHeaders:dae,isUndefined:bm,isDate:tae,isFile:nae,isBlob:rae,isRegExp:_ae,isFunction:Di,isStream:oae,isURLSearchParams:aae,isTypedArray:wae,isFileList:iae,forEach:s0,merge:K2,extend:hae,trim:fae,stripBOM:pae,inherits:mae,toFlatObject:gae,kindOf:T1,kindOfTest:ys,endsWith:yae,toArray:vae,forEachEntry:bae,matchAll:xae,isHTMLForm:Eae,hasOwnProperty:HR,hasOwnProp:HR,reduceDescriptors:l7,freezeMethods:Sae,toObjectSet:Cae,toCamelCase:Aae,noop:Tae,toFiniteNumber:Mae,findKey:s7,global:Lc,isContextDefined:a7,isSpecCompliantForm:Iae,toJSONObject:Rae,isAsyncFn:Pae,isThenable:Nae,setImmediate:c7,asap:kae,isIterable:Fae};function Ot(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ce.inherits(Ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ce.toJSONObject(this.config),code:this.code,status:this.status}}});const u7=Ot.prototype,d7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{d7[t]={value:t}});Object.defineProperties(Ot,d7);Object.defineProperty(u7,"isAxiosError",{value:!0});Ot.from=(t,e,n,r,i,o)=>{const s=Object.create(u7);return Ce.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ot.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const Oae=null;function Q2(t){return Ce.isPlainObject(t)||Ce.isArray(t)}function f7(t){return Ce.endsWith(t,"[]")?t.slice(0,-2):t}function WR(t,e,n){return t?t.concat(e).map(function(i,o){return i=f7(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function Bae(t){return Ce.isArray(t)&&!t.some(Q2)}const Lae=Ce.toFlatObject(Ce,{},null,function(e){return/^is[A-Z]/.test(e)});function R1(t,e,n){if(!Ce.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ce.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!Ce.isUndefined(y[m])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ce.isSpecCompliantForm(e);if(!Ce.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(Ce.isDate(g))return g.toISOString();if(Ce.isBoolean(g))return g.toString();if(!l&&Ce.isBlob(g))throw new Ot("Blob is not supported. Use a Buffer instead.");return Ce.isArrayBuffer(g)||Ce.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,y){let p=g;if(g&&!y&&typeof g=="object"){if(Ce.endsWith(m,"{}"))m=r?m:m.slice(0,-2),g=JSON.stringify(g);else if(Ce.isArray(g)&&Bae(g)||(Ce.isFileList(g)||Ce.endsWith(m,"[]"))&&(p=Ce.toArray(g)))return m=f7(m),p.forEach(function(w,x){!(Ce.isUndefined(w)||w===null)&&e.append(s===!0?WR([m],x,o):s===null?m:m+"[]",c(w))}),!1}return Q2(g)?!0:(e.append(WR(y,m,o),c(g)),!1)}const d=[],f=Object.assign(Lae,{defaultVisitor:u,convertValue:c,isVisitable:Q2});function h(g,m){if(!Ce.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(g),Ce.forEach(g,function(p,v){(!(Ce.isUndefined(p)||p===null)&&i.call(e,p,Ce.isString(v)?v.trim():v,m,f))===!0&&h(p,m?m.concat(v):[v])}),d.pop()}}if(!Ce.isObject(t))throw new TypeError("data must be an object");return h(t),e}function VR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function s5(t,e){this._pairs=[],t&&R1(t,this,e)}const h7=s5.prototype;h7.append=function(e,n){this._pairs.push([e,n])};h7.toString=function(e){const n=e?function(r){return e.call(this,r,VR)}:VR;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Dae(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function p7(t,e,n){if(!e)return t;const r=n&&n.encode||Dae;Ce.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=Ce.isURLSearchParams(e)?e.toString():new s5(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class $R{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ce.forEach(this.handlers,function(r){r!==null&&e(r)})}}const m7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uae=typeof URLSearchParams<"u"?URLSearchParams:s5,zae=typeof FormData<"u"?FormData:null,jae=typeof Blob<"u"?Blob:null,Gae={isBrowser:!0,classes:{URLSearchParams:Uae,FormData:zae,Blob:jae},protocols:["http","https","file","blob","url","data"]},a5=typeof window<"u"&&typeof document<"u",X2=typeof navigator=="object"&&navigator||void 0,Hae=a5&&(!X2||["ReactNative","NativeScript","NS"].indexOf(X2.product)<0),Wae=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vae=a5&&window.location.href||"http://localhost",$ae=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:a5,hasStandardBrowserEnv:Hae,hasStandardBrowserWebWorkerEnv:Wae,navigator:X2,origin:Vae},Symbol.toStringTag,{value:"Module"})),Yr={...$ae,...Gae};function qae(t,e){return R1(t,new Yr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Yr.isNode&&Ce.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Kae(t){return Ce.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Qae(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function g7(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&Ce.isArray(i)?i.length:s,l?(Ce.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!Ce.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&Ce.isArray(i[s])&&(i[s]=Qae(i[s])),!a)}if(Ce.isFormData(t)&&Ce.isFunction(t.entries)){const n={};return Ce.forEachEntry(t,(r,i)=>{e(Kae(r),i,n,0)}),n}return null}function Xae(t,e,n){if(Ce.isString(t))try{return(e||JSON.parse)(t),Ce.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const a0={transitional:m7,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=Ce.isObject(e);if(o&&Ce.isHTMLForm(e)&&(e=new FormData(e)),Ce.isFormData(e))return i?JSON.stringify(g7(e)):e;if(Ce.isArrayBuffer(e)||Ce.isBuffer(e)||Ce.isStream(e)||Ce.isFile(e)||Ce.isBlob(e)||Ce.isReadableStream(e))return e;if(Ce.isArrayBufferView(e))return e.buffer;if(Ce.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return qae(e,this.formSerializer).toString();if((a=Ce.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return R1(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),Xae(e)):e}],transformResponse:[function(e){const n=this.transitional||a0.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ce.isResponse(e)||Ce.isReadableStream(e))return e;if(e&&Ce.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Ot.from(a,Ot.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yr.classes.FormData,Blob:Yr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ce.forEach(["delete","get","head","post","put","patch"],t=>{a0.headers[t]={}});const Yae=Ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jae=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&Yae[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},qR=Symbol("internals");function Mh(t){return t&&String(t).trim().toLowerCase()}function Sy(t){return t===!1||t==null?t:Ce.isArray(t)?t.map(Sy):String(t)}function Zae(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const ele=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Px(t,e,n,r,i){if(Ce.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ce.isString(e)){if(Ce.isString(r))return e.indexOf(r)!==-1;if(Ce.isRegExp(r))return r.test(e)}}function tle(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function nle(t,e){const n=Ce.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}let Ui=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,c){const u=Mh(l);if(!u)throw new Error("header name must be a non-empty string");const d=Ce.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=Sy(a))}const s=(a,l)=>Ce.forEach(a,(c,u)=>o(c,u,l));if(Ce.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(Ce.isString(e)&&(e=e.trim())&&!ele(e))s(Jae(e),n);else if(Ce.isObject(e)&&Ce.isIterable(e)){let a={},l,c;for(const u of e){if(!Ce.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?Ce.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}s(a,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Mh(e),e){const r=Ce.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Zae(i);if(Ce.isFunction(n))return n.call(this,i,r);if(Ce.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Mh(e),e){const r=Ce.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Px(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Mh(s),s){const a=Ce.findKey(r,s);a&&(!n||Px(r,r[a],a,n))&&(delete r[a],i=!0)}}return Ce.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Px(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return Ce.forEach(this,(i,o)=>{const s=Ce.findKey(r,o);if(s){n[s]=Sy(i),delete n[o];return}const a=e?tle(o):String(o).trim();a!==o&&delete n[o],n[a]=Sy(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ce.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ce.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[qR]=this[qR]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Mh(s);r[a]||(nle(i,s),r[a]=!0)}return Ce.isArray(e)?e.forEach(o):o(e),this}};Ui.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ce.reduceDescriptors(Ui.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ce.freezeMethods(Ui);function Nx(t,e){const n=this||a0,r=e||n,i=Ui.from(r.headers);let o=r.data;return Ce.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function y7(t){return!!(t&&t.__CANCEL__)}function th(t,e,n){Ot.call(this,t??"canceled",Ot.ERR_CANCELED,e,n),this.name="CanceledError"}Ce.inherits(th,Ot,{__CANCEL__:!0});function v7(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ot("Request failed with status code "+n.status,[Ot.ERR_BAD_REQUEST,Ot.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function rle(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ile(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];s||(s=c),n[i]=l,r[i]=c;let d=o,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function ole(t,e){let n=0,r=1e3/e,i,o;const s=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}const Lv=(t,e,n=3)=>{let r=0;const i=ile(50,250);return ole(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),u=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},KR=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},QR=t=>(...e)=>Ce.asap(()=>t(...e)),sle=Yr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Yr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Yr.origin),Yr.navigator&&/(msie|trident)/i.test(Yr.navigator.userAgent)):()=>!0,ale=Yr.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];Ce.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Ce.isString(r)&&s.push("path="+r),Ce.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lle(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function cle(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function w7(t,e,n){let r=!lle(e);return t&&(r||n==!1)?cle(t,e):e}const XR=t=>t instanceof Ui?{...t}:t;function yu(t,e){e=e||{};const n={};function r(c,u,d,f){return Ce.isPlainObject(c)&&Ce.isPlainObject(u)?Ce.merge.call({caseless:f},c,u):Ce.isPlainObject(u)?Ce.merge({},u):Ce.isArray(u)?u.slice():u}function i(c,u,d,f){if(Ce.isUndefined(u)){if(!Ce.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function o(c,u){if(!Ce.isUndefined(u))return r(void 0,u)}function s(c,u){if(Ce.isUndefined(u)){if(!Ce.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u,d)=>i(XR(c),XR(u),d,!0)};return Ce.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);Ce.isUndefined(f)&&d!==a||(n[u]=f)}),n}const b7=t=>{const e=yu({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=Ui.from(s),e.url=p7(w7(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Ce.isFormData(n)){if(Yr.hasStandardBrowserEnv||Yr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Yr.hasStandardBrowserEnv&&(r&&Ce.isFunction(r)&&(r=r(e)),r||r!==!1&&sle(e.url))){const c=i&&o&&ale.read(o);c&&s.set(i,c)}return e},ule=typeof XMLHttpRequest<"u",dle=ule&&function(t){return new Promise(function(n,r){const i=b7(t);let o=i.data;const s=Ui.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,g;function m(){h&&h(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function p(){if(!y)return;const w=Ui.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:t,request:y};v7(function(A){n(A),m()},function(A){r(A),m()},T),y=null}"onloadend"in y?y.onloadend=p:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(p)},y.onabort=function(){y&&(r(new Ot("Request aborted",Ot.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new Ot("Network Error",Ot.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||m7;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),r(new Ot(x,T.clarifyTimeoutError?Ot.ETIMEDOUT:Ot.ECONNABORTED,t,y)),y=null},o===void 0&&s.setContentType(null),"setRequestHeader"in y&&Ce.forEach(s.toJSON(),function(x,T){y.setRequestHeader(T,x)}),Ce.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,g]=Lv(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,h]=Lv(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=w=>{y&&(r(!w||w.type?new th(null,t,y):w),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=rle(i.url);if(v&&Yr.protocols.indexOf(v)===-1){r(new Ot("Unsupported protocol "+v+":",Ot.ERR_BAD_REQUEST,t));return}y.send(o||null)})},fle=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Ot?u:new th(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{s=null,o(new Ot(`timeout ${e} of ms exceeded`,Ot.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>Ce.asap(a),l}},hle=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},ple=async function*(t,e){for await(const n of mle(t))yield*hle(n,e)},mle=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},YR=(t,e,n,r)=>{const i=ple(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=o+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},P1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",x7=P1&&typeof ReadableStream=="function",gle=P1&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),E7=(t,...e)=>{try{return!!t(...e)}catch{return!1}},yle=x7&&E7(()=>{let t=!1;const e=new Request(Yr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),JR=64*1024,Y2=x7&&E7(()=>Ce.isReadableStream(new Response("").body)),Dv={stream:Y2&&(t=>t.body)};P1&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Dv[e]&&(Dv[e]=Ce.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ot(`Response type '${e}' is not supported`,Ot.ERR_NOT_SUPPORT,r)})})})(new Response);const vle=async t=>{if(t==null)return 0;if(Ce.isBlob(t))return t.size;if(Ce.isSpecCompliantForm(t))return(await new Request(Yr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ce.isArrayBufferView(t)||Ce.isArrayBuffer(t))return t.byteLength;if(Ce.isURLSearchParams(t)&&(t=t+""),Ce.isString(t))return(await gle(t)).byteLength},wle=async(t,e)=>{const n=Ce.toFiniteNumber(t.getContentLength());return n??vle(e)},ble=P1&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=b7(t);c=c?(c+"").toLowerCase():"text";let h=fle([i,o&&o.toAbortSignal()],s),g;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(l&&yle&&n!=="get"&&n!=="head"&&(y=await wle(u,r))!==0){let T=new Request(e,{method:"POST",body:r,duplex:"half"}),k;if(Ce.isFormData(r)&&(k=T.headers.get("content-type"))&&u.setContentType(k),T.body){const[A,z]=KR(y,Lv(QR(l)));r=YR(T.body,JR,A,z)}}Ce.isString(d)||(d=d?"include":"omit");const p="credentials"in Request.prototype;g=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:p?d:void 0});let v=await fetch(g,f);const w=Y2&&(c==="stream"||c==="response");if(Y2&&(a||w&&m)){const T={};["status","statusText","headers"].forEach(S=>{T[S]=v[S]});const k=Ce.toFiniteNumber(v.headers.get("content-length")),[A,z]=a&&KR(k,Lv(QR(a),!0))||[];v=new Response(YR(v.body,JR,A,()=>{z&&z(),m&&m()}),T)}c=c||"text";let x=await Dv[Ce.findKey(Dv,c)||"text"](v,t);return!w&&m&&m(),await new Promise((T,k)=>{v7(T,k,{data:x,headers:Ui.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:g})})}catch(p){throw m&&m(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new Ot("Network Error",Ot.ERR_NETWORK,t,g),{cause:p.cause||p}):Ot.from(p,p&&p.code,t,g)}}),J2={http:Oae,xhr:dle,fetch:ble};Ce.forEach(J2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ZR=t=>`- ${t}`,xle=t=>Ce.isFunction(t)||t===null||t===!1,A7={getAdapter:t=>{t=Ce.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!xle(n)&&(r=J2[(s=String(n)).toLowerCase()],r===void 0))throw new Ot(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(ZR).join(`
`):" "+ZR(o[0]):"as no adapter specified";throw new Ot("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:J2};function kx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new th(null,t)}function eP(t){return kx(t),t.headers=Ui.from(t.headers),t.data=Nx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),A7.getAdapter(t.adapter||a0.adapter)(t).then(function(r){return kx(t),r.data=Nx.call(t,t.transformResponse,r),r.headers=Ui.from(r.headers),r},function(r){return y7(r)||(kx(t),r&&r.response&&(r.response.data=Nx.call(t,t.transformResponse,r.response),r.response.headers=Ui.from(r.response.headers))),Promise.reject(r)})}const _7="1.10.0",N1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{N1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const tP={};N1.transitional=function(e,n,r){function i(o,s){return"[Axios v"+_7+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new Ot(i(s," has been removed"+(n?" in "+n:"")),Ot.ERR_DEPRECATED);return n&&!tP[s]&&(tP[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};N1.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Ele(t,e,n){if(typeof t!="object")throw new Ot("options must be an object",Ot.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new Ot("option "+o+" must be "+l,Ot.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ot("Unknown option "+o,Ot.ERR_BAD_OPTION)}}const Cy={assertOptions:Ele,validators:N1},As=Cy.validators;let Qc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new $R,response:new $R}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=yu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Cy.assertOptions(r,{silentJSONParsing:As.transitional(As.boolean),forcedJSONParsing:As.transitional(As.boolean),clarifyTimeoutError:As.transitional(As.boolean)},!1),i!=null&&(Ce.isFunction(i)?n.paramsSerializer={serialize:i}:Cy.assertOptions(i,{encode:As.function,serialize:As.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Cy.assertOptions(n,{baseUrl:As.spelling("baseURL"),withXsrfToken:As.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&Ce.merge(o.common,o[n.method]);o&&Ce.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=Ui.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const g=[eP.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,u=Promise.resolve(n);d<f;)u=u.then(g[d++],g[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const g=a[d++],m=a[d++];try{h=g(h)}catch(y){m.call(this,y);break}}try{u=eP.call(this,h)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=yu(this.defaults,e);const n=w7(e.baseURL,e.url,e.allowAbsoluteUrls);return p7(n,e.params,e.paramsSerializer)}};Ce.forEach(["delete","get","head","options"],function(e){Qc.prototype[e]=function(n,r){return this.request(yu(r||{},{method:e,url:n,data:(r||{}).data}))}});Ce.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(yu(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Qc.prototype[e]=n(),Qc.prototype[e+"Form"]=n(!0)});let Ale=class S7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new th(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new S7(function(i){e=i}),cancel:e}}};function _le(t){return function(n){return t.apply(null,n)}}function Sle(t){return Ce.isObject(t)&&t.isAxiosError===!0}const Z2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Z2).forEach(([t,e])=>{Z2[e]=t});function C7(t){const e=new Qc(t),n=n7(Qc.prototype.request,e);return Ce.extend(n,Qc.prototype,e,{allOwnKeys:!0}),Ce.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return C7(yu(t,i))},n}const $n=C7(a0);$n.Axios=Qc;$n.CanceledError=th;$n.CancelToken=Ale;$n.isCancel=y7;$n.VERSION=_7;$n.toFormData=R1;$n.AxiosError=Ot;$n.Cancel=$n.CanceledError;$n.all=function(e){return Promise.all(e)};$n.spread=_le;$n.isAxiosError=Sle;$n.mergeConfig=yu;$n.AxiosHeaders=Ui;$n.formToJSON=t=>g7(Ce.isHTMLForm(t)?new FormData(t):t);$n.getAdapter=A7.getAdapter;$n.HttpStatusCode=Z2;$n.default=$n;const{Axios:I_e,AxiosError:R_e,CanceledError:P_e,isCancel:N_e,CancelToken:k_e,VERSION:F_e,all:O_e,Cancel:B_e,isAxiosError:L_e,spread:D_e,toFormData:U_e,AxiosHeaders:z_e,HttpStatusCode:j_e,formToJSON:G_e,getAdapter:H_e,mergeConfig:W_e}=$n;var Ne;(function(t){t.ETH_MAINNET="eth-mainnet",t.ETH_GOERLI="eth-goerli",t.ETH_SEPOLIA="eth-sepolia",t.ETH_HOLESKY="eth-holesky",t.ETH_HOODI="eth-hoodi",t.OPT_MAINNET="opt-mainnet",t.OPT_GOERLI="opt-goerli",t.OPT_SEPOLIA="opt-sepolia",t.ARB_MAINNET="arb-mainnet",t.ARB_GOERLI="arb-goerli",t.ARB_SEPOLIA="arb-sepolia",t.MATIC_MAINNET="polygon-mainnet",t.MATIC_MUMBAI="polygon-mumbai",t.MATIC_AMOY="polygon-amoy",t.ASTAR_MAINNET="astar-mainnet",t.POLYGONZKEVM_MAINNET="polygonzkevm-mainnet",t.POLYGONZKEVM_TESTNET="polygonzkevm-testnet",t.POLYGONZKEVM_CARDONA="polygonzkevm-cardona",t.BASE_MAINNET="base-mainnet",t.BASE_GOERLI="base-goerli",t.BASE_SEPOLIA="base-sepolia",t.ZKSYNC_MAINNET="zksync-mainnet",t.ZKSYNC_SEPOLIA="zksync-sepolia",t.SHAPE_MAINNET="shape-mainnet",t.SHAPE_SEPOLIA="shape-sepolia",t.LINEA_MAINNET="linea-mainnet",t.LINEA_SEPOLIA="linea-sepolia",t.FANTOM_MAINNET="fantom-mainnet",t.FANTOM_TESTNET="fantom-testnet",t.ZETACHAIN_MAINNET="zetachain-mainnet",t.ZETACHAIN_TESTNET="zetachain-testnet",t.ARBNOVA_MAINNET="arbnova-mainnet",t.BLAST_MAINNET="blast-mainnet",t.BLAST_SEPOLIA="blast-sepolia",t.MANTLE_MAINNET="mantle-mainnet",t.MANTLE_SEPOLIA="mantle-sepolia",t.SCROLL_MAINNET="scroll-mainnet",t.SCROLL_SEPOLIA="scroll-sepolia",t.GNOSIS_MAINNET="gnosis-mainnet",t.GNOSIS_CHIADO="gnosis-chiado",t.BNB_MAINNET="bnb-mainnet",t.BNB_TESTNET="bnb-testnet",t.AVAX_MAINNET="avax-mainnet",t.AVAX_FUJI="avax-fuji",t.CELO_MAINNET="celo-mainnet",t.CELO_ALFAJORES="celo-alfajores",t.CELO_BAKLAVA="celo-baklava",t.METIS_MAINNET="metis-mainnet",t.OPBNB_MAINNET="opbnb-mainnet",t.OPBNB_TESTNET="opbnb-testnet",t.BERACHAIN_BARTIO="berachain-bartio",t.BERACHAIN_MAINNET="berachain-mainnet",t.BERACHAIN_BEPOLIA="berachain-bepolia",t.SONEIUM_MAINNET="soneium-mainnet",t.SONEIUM_MINATO="soneium-minato",t.WORLDCHAIN_MAINNET="worldchain-mainnet",t.WORLDCHAIN_SEPOLIA="worldchain-sepolia",t.ROOTSTOCK_MAINNET="rootstock-mainnet",t.ROOTSTOCK_TESTNET="rootstock-testnet",t.FLOW_MAINNET="flow-mainnet",t.FLOW_TESTNET="flow-testnet",t.ZORA_MAINNET="zora-mainnet",t.ZORA_SEPOLIA="zora-sepolia",t.FRAX_MAINNET="frax-mainnet",t.FRAX_SEPOLIA="frax-sepolia",t.POLYNOMIAL_MAINNET="polynomial-mainnet",t.POLYNOMIAL_SEPOLIA="polynomial-sepolia",t.CROSSFI_MAINNET="crossfi-mainnet",t.CROSSFI_TESTNET="crossfi-testnet",t.APECHAIN_MAINNET="apechain-mainnet",t.APECHAIN_CURTIS="apechain-curtis",t.LENS_MAINNET="lens-mainnet",t.LENS_SEPOLIA="lens-sepolia",t.GEIST_MAINNET="geist-mainnet",t.GEIST_POLTER="geist-polter",t.LUMIA_PRISM="lumia-prism",t.LUMIA_TESTNET="lumia-testnet",t.UNICHAIN_MAINNET="unichain-mainnet",t.UNICHAIN_SEPOLIA="unichain-sepolia",t.SONIC_MAINNET="sonic-mainnet",t.SONIC_BLAZE="sonic-blaze",t.XMTP_TESTNET="xmtp-testnet",t.ABSTRACT_MAINNET="abstract-mainnet",t.ABSTRACT_TESTNET="abstract-testnet",t.DEGEN_MAINNET="degen-mainnet",t.INK_MAINNET="ink-mainnet",t.INK_SEPOLIA="ink-sepolia",t.SEI_MAINNET="sei-mainnet",t.SEI_TESTNET="sei-testnet",t.RONIN_MAINNET="ronin-mainnet",t.RONIN_SAIGON="ronin-saigon",t.MONAD_TESTNET="monad-testnet",t.SETTLUS_SEPTESTNET="settlus-septestnet",t.SETTLUS_MAINNET="settlus-mainnet",t.SOLANA_MAINNET="solana-mainnet",t.SOLANA_DEVNET="solana-devnet",t.GENSYN_TESTNET="gensyn-testnet",t.SUPERSEED_MAINNET="superseed-mainnet",t.SUPERSEED_SEPOLIA="superseed-sepolia",t.TEA_SEPOLIA="tea-sepolia",t.ANIME_MAINNET="anime-mainnet",t.ANIME_SEPOLIA="anime-sepolia",t.STORY_MAINNET="story-mainnet",t.STORY_AENEID="story-aeneid",t.MEGAETH_TESTNET="megaeth-testnet"})(Ne||(Ne={}));var wp;(function(t){t.DEFAULT_TOKENS="DEFAULT_TOKENS",t.ERC20="erc20"})(wp||(wp={}));var Io;(function(t){t.EXTERNAL="external",t.INTERNAL="internal",t.ERC20="erc20",t.ERC721="erc721",t.ERC1155="erc1155",t.SPECIALNFT="specialnft"})(Io||(Io={}));var e_;(function(t){t.TO="TO",t.FROM="FROM"})(e_||(e_={}));var nP;(function(t){t.ASCENDING="asc",t.DESCENDING="desc"})(nP||(nP={}));var t_;(function(t){t.VERIFIED="verified",t.APPROVED="approved",t.REQUESTED="requested",t.NOT_REQUESTED="not_requested"})(t_||(t_={}));var Vl;(function(t){t.PENDING_TRANSACTIONS="alchemy_pendingTransactions",t.MINED_TRANSACTIONS="alchemy_minedTransactions"})(Vl||(Vl={}));var rP;(function(t){t.NATIVE="NATIVE",t.ERC20="ERC20",t.ERC721="ERC721",t.ERC1155="ERC1155",t.SPECIAL_NFT="SPECIAL_NFT"})(rP||(rP={}));var iP;(function(t){t.APPROVE="APPROVE",t.TRANSFER="TRANSFER"})(iP||(iP={}));var oP;(function(t){t.ETHERSCAN="ETHERSCAN"})(oP||(oP={}));var sP;(function(t){t.CREATE="CREATE",t.CALL="CALL",t.STATICCALL="STATICCALL",t.DELEGATECALL="DELEGATECALL"})(sP||(sP={}));var aP;(function(t){t.UNSPECIFIED="TRANSACTION_JOB_STATUS_UNSPECIFIED",t.IN_PROGRESS="IN_PROGRESS",t.COMPLETE="COMPLETE",t.ABANDONED="ABANDONED"})(aP||(aP={}));var lP;(function(t){t.V1="V1",t.V2="V2"})(lP||(lP={}));var Cs;(function(t){t.MINED_TRANSACTION="MINED_TRANSACTION",t.DROPPED_TRANSACTION="DROPPED_TRANSACTION",t.ADDRESS_ACTIVITY="ADDRESS_ACTIVITY",t.NFT_ACTIVITY="NFT_ACTIVITY",t.NFT_METADATA_UPDATE="NFT_METADATA_UPDATE",t.GRAPHQL="GRAPHQL"})(Cs||(Cs={}));var cP;(function(t){t.PENDING="pending",t.LATEST="latest",t.SAFE="safe",t.FINALIZED="finalized",t.EARLIEST="earliest"})(cP||(cP={}));var uP;(function(t){t.CALL_TRACER="callTracer",t.PRESTATE_TRACER="prestateTracer"})(uP||(uP={}));var eo;(function(t){t.ERC721="ERC721",t.ERC1155="ERC1155",t.NO_SUPPORTED_NFT_STANDARD="NO_SUPPORTED_NFT_STANDARD",t.NOT_A_CONTRACT="NOT_A_CONTRACT",t.UNKNOWN="UNKNOWN"})(eo||(eo={}));var Uv;(function(t){t.Erc721TooManyOwners="Erc721TooManyOwners",t.Erc721TooManyTokens="Erc721TooManyTokens",t.Erc721DishonestTotalSupply="Erc721DishonestTotalSupply",t.MostlyHoneyPotOwners="MostlyHoneyPotOwners",t.OwnedByMostHoneyPots="OwnedByMostHoneyPots",t.LowDistinctOwnersPercent="LowDistinctOwnersPercent",t.HighHoneyPotOwnerPercent="HighHoneyPotOwnerPercent",t.HighHoneyPotPercent="HighHoneyPotPercent",t.HoneyPotsOwnMultipleTokens="HoneyPotsOwnMultipleTokens",t.NoSalesActivity="NoSalesActivity",t.HighAirdropPercent="HighAirdropPercent",t.Unknown="Unknown"})(Uv||(Uv={}));var dP;(function(t){t.SPAM="SPAM",t.AIRDROPS="AIRDROPS"})(dP||(dP={}));var fP;(function(t){t.TRANSFERTIME="TRANSFERTIME"})(fP||(fP={}));var fa;(function(t){t.SEAPORT="seaport",t.LOOKSRARE="looksrare",t.X2Y2="x2y2",t.WYVERN="wyvern",t.CRYPTOPUNKS="cryptopunks",t.BLUR="blur",t.UNKNOWN="unknown"})(fa||(fa={}));var zv;(function(t){t.BUYER="buyer",t.SELLER="seller"})(zv||(zv={}));var vl;(function(t){t.DOES_NOT_EXIST="does_not_exist",t.ALREADY_QUEUED="already_queued",t.IN_PROGRESS="in_progress",t.FINISHED="finished",t.QUEUED="queued",t.QUEUE_FAILED="queue_failed"})(vl||(vl={}));var n_;(function(t){t.OPENSEA="OpenSea"})(n_||(n_={}));var hP;(function(t){t.FIVE_MINUTE="5m",t.ONE_HOUR="1h",t.ONE_DAY="1d"})(hP||(hP={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function De(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function pP(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function us(t){return this instanceof us?(this.v=t,this):new us(t)}function l5(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(g,m){o.push([f,h,g,m])>1||a(f,h)})})}function a(f,h){try{l(r[f](h))}catch(g){d(o[0][3],g)}}function l(f){f.value instanceof us?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function T7(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof pP=="function"?pP(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}const Cle="demo",Tle=Ne.ETH_MAINNET,Mle=5,Ile=0;function Rle(t,e){return`https://${t}.g.alchemy.com/v2/${e}`}function Ple(t,e){return`https://${t}.g.alchemy.com/nft/v3/${e}`}function V_e(t,e){return`wss://${t}.g.alchemy.com/v2/${e}`}function Nle(){return"https://dashboard.alchemy.com/api"}function kle(t){return`https://api.g.alchemy.com/prices/v1/${t}`}function Fle(t){return`https://api.g.alchemy.com/data/v1/${t}`}var zt;(function(t){t[t.BASE=0]="BASE",t[t.NFT=1]="NFT",t[t.WEBHOOK=2]="WEBHOOK",t[t.PRICES=3]="PRICES",t[t.PORTFOLIO=4]="PORTFOLIO"})(zt||(zt={}));const $_e={[Ne.ETH_MAINNET]:"mainnet",[Ne.ETH_GOERLI]:"goerli",[Ne.ETH_SEPOLIA]:"sepolia",[Ne.ETH_HOLESKY]:"holesky",[Ne.ETH_HOODI]:"hoodi",[Ne.OPT_MAINNET]:"opt-mainnet",[Ne.OPT_GOERLI]:"optimism-goerli",[Ne.OPT_SEPOLIA]:"optimism-sepolia",[Ne.ARB_MAINNET]:"arbitrum",[Ne.ARB_GOERLI]:"arbitrum-goerli",[Ne.ARB_SEPOLIA]:"arbitrum-sepolia",[Ne.MATIC_MAINNET]:"matic",[Ne.MATIC_MUMBAI]:"maticmum",[Ne.MATIC_AMOY]:"maticamoy",[Ne.SOLANA_MAINNET]:null,[Ne.SOLANA_DEVNET]:null,[Ne.ASTAR_MAINNET]:"astar-mainnet",[Ne.POLYGONZKEVM_MAINNET]:"polygonzkevm-mainnet",[Ne.POLYGONZKEVM_TESTNET]:"polygonzkevm-testnet",[Ne.POLYGONZKEVM_CARDONA]:"polygonzkevm-cardona",[Ne.BASE_MAINNET]:"base-mainnet",[Ne.BASE_GOERLI]:"base-goerli",[Ne.BASE_SEPOLIA]:"base-sepolia",[Ne.ZKSYNC_MAINNET]:"zksync-mainnet",[Ne.ZKSYNC_SEPOLIA]:"zksync-sepolia",[Ne.SHAPE_MAINNET]:"shape-mainnet",[Ne.SHAPE_SEPOLIA]:"shape-sepolia",[Ne.LINEA_MAINNET]:"linea-mainnet",[Ne.LINEA_SEPOLIA]:"linea-sepolia",[Ne.FANTOM_MAINNET]:"fantom-mainnet",[Ne.FANTOM_TESTNET]:"fantom-testnet",[Ne.ZETACHAIN_MAINNET]:"zetachain-mainnet",[Ne.ZETACHAIN_TESTNET]:"zetachain-testnet",[Ne.ARBNOVA_MAINNET]:"arbnova-mainnet",[Ne.BLAST_MAINNET]:"blast-mainnet",[Ne.BLAST_SEPOLIA]:"blast-sepolia",[Ne.MANTLE_MAINNET]:"mantle-mainnet",[Ne.MANTLE_SEPOLIA]:"mantle-sepolia",[Ne.SCROLL_MAINNET]:"scroll-mainnet",[Ne.SCROLL_SEPOLIA]:"scroll-sepolia",[Ne.GNOSIS_MAINNET]:"gnosis-mainnet",[Ne.GNOSIS_CHIADO]:"gnosis-chiado",[Ne.BNB_MAINNET]:"bnb-mainnet",[Ne.BNB_TESTNET]:"bnb-testnet",[Ne.AVAX_MAINNET]:"avax-mainnet",[Ne.AVAX_FUJI]:"avax-fuji",[Ne.CELO_MAINNET]:"celo-mainnet",[Ne.CELO_ALFAJORES]:"celo-alfajores",[Ne.CELO_BAKLAVA]:"celo-baklava",[Ne.METIS_MAINNET]:"metis-mainnet",[Ne.OPBNB_MAINNET]:"opbnb-mainnet",[Ne.OPBNB_TESTNET]:"opbnb-testnet",[Ne.BERACHAIN_BARTIO]:"berachain-bartio",[Ne.BERACHAIN_MAINNET]:"berachain-mainnet",[Ne.BERACHAIN_BEPOLIA]:"berachain-bepolia",[Ne.SONEIUM_MAINNET]:"soneium-mainnet",[Ne.SONEIUM_MINATO]:"soneium-minato",[Ne.WORLDCHAIN_MAINNET]:"worldchain-mainnet",[Ne.WORLDCHAIN_SEPOLIA]:"worldchain-sepolia",[Ne.ROOTSTOCK_MAINNET]:"rootstock-mainnet",[Ne.ROOTSTOCK_TESTNET]:"rootstock-testnet",[Ne.FLOW_MAINNET]:"flow-mainnet",[Ne.FLOW_TESTNET]:"flow-testnet",[Ne.ZORA_MAINNET]:"zora-mainnet",[Ne.ZORA_SEPOLIA]:"zora-sepolia",[Ne.FRAX_MAINNET]:"frax-mainnet",[Ne.FRAX_SEPOLIA]:"frax-sepolia",[Ne.POLYNOMIAL_MAINNET]:"polynomial-mainnet",[Ne.POLYNOMIAL_SEPOLIA]:"polynomial-sepolia",[Ne.CROSSFI_MAINNET]:"crossfi-mainnet",[Ne.CROSSFI_TESTNET]:"crossfi-testnet",[Ne.APECHAIN_MAINNET]:"apechain-mainnet",[Ne.APECHAIN_CURTIS]:"apechain-curtis",[Ne.LENS_MAINNET]:"lens-mainnet",[Ne.LENS_SEPOLIA]:"lens-sepolia",[Ne.GEIST_MAINNET]:"geist-mainnet",[Ne.GEIST_POLTER]:"geist-polter",[Ne.LUMIA_PRISM]:"lumia-prism",[Ne.LUMIA_TESTNET]:"lumia-testnet",[Ne.UNICHAIN_MAINNET]:"unichain-mainnet",[Ne.UNICHAIN_SEPOLIA]:"unichain-sepolia",[Ne.SONIC_MAINNET]:"sonic-mainnet",[Ne.SONIC_BLAZE]:"sonic-blaze",[Ne.XMTP_TESTNET]:"xmtp-testnet",[Ne.ABSTRACT_MAINNET]:"abstract-mainnet",[Ne.ABSTRACT_TESTNET]:"abstract-testnet",[Ne.DEGEN_MAINNET]:"degen-mainnet",[Ne.INK_MAINNET]:"ink-mainnet",[Ne.INK_SEPOLIA]:"ink-sepolia",[Ne.SEI_MAINNET]:"sei-mainnet",[Ne.SEI_TESTNET]:"sei-testnet",[Ne.RONIN_MAINNET]:"ronin-mainnet",[Ne.RONIN_SAIGON]:"ronin-saigon",[Ne.MONAD_TESTNET]:"monad-testnet",[Ne.SETTLUS_MAINNET]:"settlus-mainnet",[Ne.SETTLUS_SEPTESTNET]:"settlus-septestnet",[Ne.GENSYN_TESTNET]:"gensyn-testnet",[Ne.SUPERSEED_MAINNET]:"superseed-mainnet",[Ne.SUPERSEED_SEPOLIA]:"superseed-sepolia",[Ne.TEA_SEPOLIA]:"tea-sepolia",[Ne.ANIME_MAINNET]:"anime-mainnet",[Ne.ANIME_SEPOLIA]:"anime-sepolia",[Ne.STORY_MAINNET]:"story-mainnet",[Ne.STORY_AENEID]:"story-aeneid",[Ne.MEGAETH_TESTNET]:"megaeth-testnet"},q_e={"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},"astar-mainnet":{chainId:592,name:"astar-mainnet"},sepolia:{chainId:11155111,name:"sepolia"},holesky:{chainId:17e3,name:"holesky"},hoodi:{chainId:560048,name:"hoodi"},"opt-mainnet":{chainId:10,name:"opt-mainnet"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},"polygonzkevm-mainnet":{chainId:1101,name:"polygonzkevm-mainnet"},"polygonzkevm-testnet":{chainId:1442,name:"polygonzkevm-testnet"},"polygonzkevm-cardona":{chainId:2442,name:"polygonzkevm-cardona"},"base-mainnet":{chainId:8453,name:"base-mainnet"},"base-goerli":{chainId:84531,name:"base-goerli"},"base-sepolia":{chainId:84532,name:"base-sepolia"},maticamoy:{chainId:80002,name:"maticamoy"},"zksync-mainnet":{chainId:324,name:"zksync-mainnet"},"zksync-sepolia":{chainId:300,name:"zksync-sepolia"},"shape-mainnet":{chainId:360,name:"shape-mainnet"},"shape-sepolia":{chainId:11011,name:"shape-sepolia"},"linea-mainnet":{chainId:59144,name:"linea-mainnet"},"linea-sepolia":{chainId:59141,name:"linea-sepolia"},"fantom-mainnet":{chainId:250,name:"fantom-mainnet"},"fantom-testnet":{chainId:4002,name:"fantom-testnet"},"zetachain-mainnet":{chainId:7e3,name:"zetachain-mainnet"},"zetachain-testnet":{chainId:7001,name:"zetachain-testnet"},"arbnova-mainnet":{chainId:42170,name:"arbnova-mainnet"},"blast-mainnet":{chainId:81457,name:"blast-mainnet"},"blast-sepolia":{chainId:168587773,name:"blast-sepolia"},"mantle-mainnet":{chainId:5e3,name:"mantle-mainnet"},"mantle-sepolia":{chainId:5003,name:"mantle-sepolia"},"scroll-mainnet":{chainId:534352,name:"scroll-mainnet"},"scroll-sepolia":{chainId:534351,name:"scroll-sepolia"},"gnosis-mainnet":{chainId:100,name:"gnosis-mainnet"},"gnosis-chiado":{chainId:10200,name:"gnosis-chiado"},"bnb-mainnet":{chainId:56,name:"bnb-mainnet"},"bnb-testnet":{chainId:97,name:"bnb-testnet"},"avax-mainnet":{chainId:43114,name:"avax-mainnet"},"avax-fuji":{chainId:43113,name:"avax-fuji"},"celo-mainnet":{chainId:42220,name:"celo-mainnet"},"celo-alfajores":{chainId:44787,name:"celo-alfajores"},"celo-baklava":{chainId:62320,name:"celo-baklava"},"metis-mainnet":{chainId:1088,name:"metis-mainnet"},"opbnb-mainnet":{chainId:204,name:"opbnb-mainnet"},"opbnb-testnet":{chainId:5611,name:"opbnb-testnet"},"berachain-bartio":{chainId:80084,name:"berachain-bartio"},"berachain-mainnet":{chainId:80094,name:"berachain-mainnet"},"berachain-bepolia":{chainId:80069,name:"berachain-bepolia"},"soneium-mainnet":{chainId:1868,name:"soneium-mainnet"},"soneium-minato":{chainId:1946,name:"soneium-minato"},"worldchain-mainnet":{chainId:480,name:"worldchain-mainnet"},"worldchain-sepolia":{chainId:4801,name:"worldchain-sepolia"},"rootstock-mainnet":{chainId:30,name:"rootstock-mainnet"},"rootstock-testnet":{chainId:31,name:"rootstock-testnet"},"flow-mainnet":{chainId:747,name:"flow-mainnet"},"flow-testnet":{chainId:545,name:"flow-testnet"},"zora-mainnet":{chainId:7777777,name:"zora-mainnet"},"zora-sepolia":{chainId:999999999,name:"zora-sepolia"},"frax-mainnet":{chainId:252,name:"frax-mainnet"},"frax-sepolia":{chainId:2522,name:"frax-sepolia"},"polynomial-mainnet":{chainId:8008,name:"polynomial-mainnet"},"polynomial-sepolia":{chainId:8009,name:"polynomial-sepolia"},"crossfi-mainnet":{chainId:4158,name:"crossfi-mainnet"},"crossfi-testnet":{chainId:4157,name:"crossfi-testnet"},"apechain-mainnet":{chainId:33139,name:"apechain-mainnet"},"apechain-curtis":{chainId:33111,name:"apechain-curtis"},"lens-mainnet":{chainId:232,name:"lens-mainnet"},"lens-sepolia":{chainId:37111,name:"lens-sepolia"},"geist-mainnet":{chainId:63157,name:"geist-mainnet"},"geist-polter":{chainId:631571,name:"geist-polter"},"lumia-prism":{chainId:994873017,name:"lumia-prism"},"lumia-testnet":{chainId:1952959480,name:"lumia-testnet"},"unichain-mainnet":{chainId:130,name:"unichain-mainnet"},"unichain-sepolia":{chainId:1301,name:"unichain-sepolia"},"sonic-mainnet":{chainId:146,name:"sonic-mainnet"},"sonic-blaze":{chainId:57054,name:"sonic-blaze"},"xmtp-testnet":{chainId:241320161,name:"xmtp-testnet"},"abstract-mainnet":{chainId:2741,name:"abstract-mainnet"},"abstract-testnet":{chainId:11124,name:"abstract-testnet"},"degen-mainnet":{chainId:666666666,name:"degen-mainnet"},"ink-mainnet":{chainId:57073,name:"ink-mainnet"},"ink-sepolia":{chainId:763373,name:"ink-sepolia"},"sei-mainnet":{chainId:1329,name:"sei-mainnet"},"sei-testnet":{chainId:1328,name:"sei-testnet"},"ronin-mainnet":{chainId:2020,name:"ronin-mainnet"},"ronin-saigon":{chainId:2021,name:"ronin-saigon"},"monad-testnet":{chainId:10143,name:"monad-testnet"},"settlus-mainnet":{chainId:5371,name:"settlus-mainnet"},"settlus-septestnet":{chainId:5373,name:"settlus-septestnet"},"gensyn-testnet":{chainId:685685,name:"gensyn-testnet"},"superseed-mainnet":{chainId:5330,name:"superseed-mainnet"},"superseed-sepolia":{chainId:53302,name:"superseed-sepolia"},"tea-sepolia":{chainId:10218,name:"tea-sepolia"},"anime-mainnet":{chainId:69e3,name:"anime-mainnet"},"anime-sepolia":{chainId:6900,name:"anime-sepolia"},"story-mainnet":{chainId:1514,name:"story-mainnet"},"story-aeneid":{chainId:1315,name:"story-aeneid"},"megaeth-testnet":{chainId:6342,name:"megaeth-testnet"}};function K_e(){}const M7="0x",Ole="0x0000000000000000000000000000000000000000";class Ble{constructor(e){this.apiKey=e?.apiKey||Cle,this.network=e?.network||Tle,this.maxRetries=e?.maxRetries||Mle,this.url=e?.url,this.authToken=e?.authToken,this.batchRequests=e?.batchRequests||!1,this.requestTimeout=e?.requestTimeout||Ile,this.connectionInfoOverrides=e?.connectionInfoOverrides}_getRequestUrl(e){return this.url!==void 0?this.url:e===zt.NFT?Ple(this.network,this.apiKey):e===zt.WEBHOOK?Nle():e===zt.PRICES?kle(this.apiKey):e===zt.PORTFOLIO?Fle(this.apiKey):Rle(this.network,this.apiKey)}getProvider(){return this._baseAlchemyProvider||(this._baseAlchemyProvider=De(this,void 0,void 0,function*(){const{AlchemyProvider:e}=yield Qe(()=>import("./alchemy-provider-0066b792-MXBDgWZZ.js").then(n=>n.a),__vite__mapDeps([8,3]));return new e(this)})),this._baseAlchemyProvider}getWebSocketProvider(){return this._baseAlchemyWssProvider||(this._baseAlchemyWssProvider=De(this,void 0,void 0,function*(){const{AlchemyWebSocketProvider:e}=yield Qe(()=>import("./alchemy-websocket-provider-98da5bb0-DHf4jzIX.js"),__vite__mapDeps([9,8,3]));return new e(this)})),this._baseAlchemyWssProvider}}const Lle="logger/5.7.0";let mP=!1,gP=!1;const Ty={debug:1,default:2,info:2,warning:3,error:4,off:5};let yP=Ty.default,Fx=null;function Dle(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const vP=Dle();var r_;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(r_||(r_={}));var Ko;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ko||(Ko={}));const wP="0123456789abcdef";class Bn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();Ty[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(yP>Ty[r])&&console.log.apply(console,n)}debug(...e){this._log(Bn.levels.DEBUG,e)}info(...e){this._log(Bn.levels.INFO,e)}warn(...e){this._log(Bn.levels.WARNING,e)}makeError(e,n,r){if(gP)return this.makeError("censored error",n,{});n||(n=Bn.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let u="";for(let d=0;d<c.length;d++)u+=wP[c[d]>>4],u+=wP[c[d]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const o=e;let s="";switch(n){case Ko.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Ko.CALL_EXCEPTION:case Ko.INSUFFICIENT_FUNDS:case Ko.MISSING_NEW:case Ko.NONCE_EXPIRED:case Ko.REPLACEMENT_UNDERPRICED:case Ko.TRANSACTION_REPLACED:case Ko.UNPREDICTABLE_GAS_LIMIT:s=n;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=n,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,Bn.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){vP&&this.throwError("platform missing String.prototype.normalize",Bn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:vP})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,Bn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,Bn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,Bn.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,Bn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",Bn.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",Bn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Bn.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return Fx||(Fx=new Bn(Lle)),Fx}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",Bn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),mP){if(!e)return;this.globalLogger().throwError("error censorship permanent",Bn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}gP=!!e,mP=!!n}static setLogLevel(e){const n=Ty[e.toLowerCase()];if(n==null){Bn.globalLogger().warn("invalid log level - "+e);return}yP=n}static from(e){return new Bn(e)}}Bn.errors=Ko;Bn.levels=r_;const Ule="properties/5.7.0";var zle=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})};const I7=new Bn(Ule);function jle(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function R7(t){return zle(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const i=t[r];return Promise.resolve(i).then(o=>({key:r,value:o}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}const Gle={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function P7(t){if(t==null||Gle[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!P7(r))return!1}return!0}return I7.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Hle(t){if(P7(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>bP(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&jle(e,n,bP(r))}return e}return I7.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function bP(t){return Hle(t)}function Wle(t){return $t.from(t).toNumber()}function k1(t){return $t.from(t).toHexString()}function xP(t){return typeof t=="string"?t:Number.isInteger(t)?k1(t):t.toString()}function N7(t,e){return Object.values(e).includes(t)?t:null}function Vle(t){return ln(Object.assign(Object.assign({},l0(t)),{spamClassifications:t.spamClassifications.map(Jle)}))}function $le(t){return ln(Object.assign(Object.assign({},l0(t)),{displayNft:t.displayNft,image:t.image,totalBalance:t.totalBalance,numDistinctTokensOwned:t.numDistinctTokensOwned,isSpam:t.isSpam}))}function l0(t){var e;return ln(Object.assign(Object.assign({},t),{tokenType:k7(t.tokenType),openSeaMetadata:Object.assign(Object.assign({},t.openSeaMetadata),{safelistRequestStatus:!((e=t.openSeaMetadata)===null||e===void 0)&&e.safelistRequestStatus?N7(t.openSeaMetadata.safelistRequestStatus,t_):null})}))}function qle(t){return ln(Object.assign(Object.assign({},t),{floorPrice:Object.assign(Object.assign({},t.floorPrice),{marketplace:Xle(t.floorPrice.marketplace)})}))}function F1(t,e){return{contractAddress:e||t.contractAddress,tokenId:t.tokenId}}function Lu(t){return ln(Object.assign(Object.assign({},t),{contract:Vle(t.contract),tokenType:k7(t.tokenType),acquiredAt:t.acquiredAt,collection:t.collection,mint:t.mint}))}function Kle(t){return ln({nftSales:t.nftSales.map(e=>Object.assign(Object.assign({},e),{marketplace:Qle(e.marketplace),taker:Yle(e.taker)})),validAt:t.validAt,pageKey:t.pageKey})}function Qle(t){switch(t){case"looksrare":return fa.LOOKSRARE;case"seaport":return fa.SEAPORT;case"x2y2":return fa.X2Y2;case"wyvern":return fa.WYVERN;case"cryptopunks":return fa.CRYPTOPUNKS;case"blur":return fa.BLUR;default:return fa.UNKNOWN}}function Xle(t){switch(t){case"OpenSea":return n_.OPENSEA;default:return}}function Yle(t){switch(t.toLowerCase()){case"buyer":return zv.BUYER;case"seller":return zv.SELLER;default:throw new Error(`Unsupported NftSaleTakerType ${t}`)}}function Jle(t){const e=N7(t,Uv);return e??Uv.Unknown}function k7(t){switch(t){case"erc721":case"ERC721":return eo.ERC721;case"erc1155":case"ERC1155":return eo.ERC1155;case"no_supported_nft_standard":case"NO_SUPPORTED_NFT_STANDARD":return eo.NO_SUPPORTED_NFT_STANDARD;case"not_a_contract":case"NOT_A_CONTRACT":return eo.NOT_A_CONTRACT;default:return eo.UNKNOWN}}const Zle=typeof window<"u"&&window!==null;function ln(t){if(t!=null){if(t.constructor.name==="Object"||Array.isArray(t))for(const e in t)t[e]=ln(t[e]);return t}}function O1(t,e,n="getAssetTransfers"){return De(this,void 0,void 0,function*(){const r=yield t.getProvider();return e.fromAddress&&(e.fromAddress=yield r._getAddress(e.fromAddress)),e.toAddress&&(e.toAddress=yield r._getAddress(e.toAddress)),r._send("alchemy_getAssetTransfers",[Object.assign(Object.assign({},e),{fromBlock:e.fromBlock!=null?xP(e.fromBlock):void 0,toBlock:e.toBlock!=null?xP(e.toBlock):void 0,maxCount:e.maxCount!=null?k1(e.maxCount):void 0})],n)})}function EP(t,e,n="getTransactionReceipts"){return De(this,void 0,void 0,function*(){return(yield t.getProvider())._send("alchemy_getTransactionReceipts",[e],n)})}function ece(t,e){return De(this,void 0,void 0,function*(){const n=yield t.getProvider();yield n.getNetwork();const r=yield R7({filter:tce(t,e)}),i=yield n.send("eth_getLogs",[r.filter]);return i.forEach(o=>{o.removed==null&&(o.removed=!1)}),nce(n.formatter.filterLog.bind(n.formatter))(i)})}function tce(t,e){return De(this,void 0,void 0,function*(){const n=yield t.getProvider(),r=yield e;let i={};return["blockHash","topics"].forEach(o=>{r[o]!=null&&(i[o]=r[o])}),["fromBlock","toBlock"].forEach(o=>{r[o]!=null&&(i[o]=n._getBlockTag(r[o]))}),i=n.formatter.filter(yield R7(i)),Array.isArray(r.address)?i.address=yield Promise.all(r.address.map(o=>De(this,void 0,void 0,function*(){return n._getAddress(o)}))):r.address!=null&&(i.address=yield n._getAddress(r.address)),i})}function nce(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const n=[];return e.forEach(r=>{n.push(t(r))}),n}}class rce{constructor(e){this.config=e}getBalance(e,n){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBalance(e,n)})}isContractAddress(e){return De(this,void 0,void 0,function*(){return(yield(yield this.config.getProvider()).getCode(e))!=="0x"})}getCode(e,n){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getCode(e,n)})}getStorageAt(e,n,r){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getStorageAt(e,n,r)})}getTransactionCount(e,n){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionCount(e,n)})}getBlock(e){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlock(e)})}getBlockWithTransactions(e){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockWithTransactions(e)})}getNetwork(){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getNetwork()})}getBlockNumber(){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockNumber()})}getGasPrice(){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getGasPrice()})}getFeeData(){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getFeeData()})}ready(){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).ready})}call(e,n){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).call(e,n)})}estimateGas(e){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getTransaction(e){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}getTransactionReceipt(e){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionReceipt(e)})}sendTransaction(e){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}waitForTransaction(e,n,r){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,n,r)})}getLogs(e){return De(this,void 0,void 0,function*(){return ece(this.config,e)})}send(e,n){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).send(e,n)})}findContractDeployer(e){var n;return De(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=yield r.getBlockNumber();if((yield r.getCode(e,i))===M7)throw new Error(`Contract '${e}' does not exist`);const o=yield i_(0,i+1,e,this.config),a=(n=(yield EP(this.config,{blockNumber:k1(o)},"findContractDeployer")).receipts)===null||n===void 0?void 0:n.find(l=>l.contractAddress===e.toLowerCase());return{deployerAddress:a?.from,blockNumber:o}})}getTokenBalances(e,n){return De(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=yield r._getAddress(e);if(Array.isArray(n)){if(n.length>1500)throw new Error("You cannot pass in more than 1500 contract addresses to getTokenBalances()");if(n.length===0)throw new Error("getTokenBalances() requires at least one contractAddress when using an array");return r._send("alchemy_getTokenBalances",[i,n],"getTokenBalances")}else{const o=n===void 0?wp.ERC20:n.type,s=[i,o];return n?.type===wp.ERC20&&n.pageKey&&s.push({pageKey:n.pageKey}),r._send("alchemy_getTokenBalances",s,"getTokenBalances")}})}getTokensForOwner(e,n){var r;return De(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),s=[yield i._getAddress(e),(r=n?.contractAddresses)!==null&&r!==void 0?r:wp.ERC20];n?.pageKey&&s.push({pageKey:n.pageKey});const a=yield i._send("alchemy_getTokenBalances",s,"getTokensForOwner"),l=a.tokenBalances.map(f=>({contractAddress:f.contractAddress,rawBalance:$t.from(f.tokenBalance).toString()})),u=(yield Promise.allSettled(a.tokenBalances.map(f=>i._send("alchemy_getTokenMetadata",[f.contractAddress],"getTokensForOwner")))).map(f=>f.status==="fulfilled"?f.value:{name:null,symbol:null,decimals:null,logo:null});return{tokens:l.map((f,h)=>Object.assign(Object.assign(Object.assign({},f),u[h]),{balance:u[h].decimals!==null?Qse(f.rawBalance,u[h].decimals):void 0})).map(f=>ln(f)),pageKey:a.pageKey}})}getTokenMetadata(e){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getTokenMetadata",[e],"getTokenMetadata")})}getAssetTransfers(e){return De(this,void 0,void 0,function*(){return O1(this.config,e)})}getTransactionReceipts(e){return De(this,void 0,void 0,function*(){return EP(this.config,e)})}resolveName(e){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).resolveName(e)})}lookupAddress(e){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).lookupAddress(e)})}}function i_(t,e,n,r){return De(this,void 0,void 0,function*(){if(t>=e)return e;const i=Math.floor((t+e)/2);return(yield(yield r.getProvider()).getCode(n,i))===M7?i_(i+1,e,n,r):i_(t,i,n,r)})}class ice{constructor(e){this.config=e}traceCall(e,n,r){return De(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=[e,n,rg(r)];return i._send("debug_traceCall",o,"traceCall")})}traceTransaction(e,n,r){return De(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=[e,rg(n,r)];return i._send("debug_traceTransaction",o,"traceTransaction")})}traceBlock(e,n){return De(this,void 0,void 0,function*(){const r=yield this.config.getProvider();let i,o;return Li(e,32)?(i="debug_traceBlockByHash",o=[e,rg(n)]):(i="debug_traceBlockByNumber",o=[typeof e=="number"?Y8(Hse(e)):e,rg(n)]),r._send(i,o,"traceBlock")})}}function rg(t,e){return Object.assign({tracer:t.type},t.onlyTopCall!==void 0&&{tracerConfig:{onlyTopCall:t.onlyTopCall,timeout:e}})}function oce(t){if(t===eo.ERC1155||t===eo.ERC721)return t}var Br;(function(t){t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t[t.SILENT=4]="SILENT"})(Br||(Br={}));Br.DEBUG,Br.INFO,Br.WARN,Br.ERROR,Br.SILENT;const sce={[Br.DEBUG]:"log",[Br.INFO]:"info",[Br.WARN]:"warn",[Br.ERROR]:"error"},ace=Br.INFO;function F7(t,...e){c5.debug(t,e)}function AP(t,...e){c5.info(t,e)}function Q_e(t,...e){c5.warn(t,e)}class lce{constructor(){this._logLevel=ace}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Br))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}debug(...e){this._log(Br.DEBUG,...e)}info(...e){this._log(Br.INFO,...e)}warn(...e){this._log(Br.WARN,...e)}error(...e){this._log(Br.ERROR,...e)}_log(e,...n){if(e<this._logLevel)return;const r=new Date().toISOString(),i=sce[e];if(i)console[i](`[${r}] Alchemy:`,...n.map(cce));else throw new Error(`Logger received an invalid logLevel (value: ${e})`)}}function cce(t){if(typeof t=="string")return t;try{return JSON.stringify(t)}catch{return t}}const c5=new lce,uce="3.6.0";function dce(t,e,n,r,i){var o;const s=t+"/"+e,a=Object.assign(Object.assign({},i),{headers:Object.assign(Object.assign(Object.assign({},i?.headers),!Zle&&{"Accept-Encoding":"gzip"}),{"Alchemy-Ethers-Sdk-Version":uce,"Alchemy-Ethers-Sdk-Method":n}),method:(o=i?.method)!==null&&o!==void 0?o:"GET",url:s,params:r});return $n(a)}const fce=1e3,hce=1.5,pce=30*1e3,mce=5;class gce{constructor(e=mce){this.maxAttempts=e,this.initialDelayMs=fce,this.backoffMultiplier=hce,this.maxDelayMs=pce,this.numAttempts=0,this.currentDelayMs=0,this.isInBackoff=!1}backoff(){if(this.numAttempts>=this.maxAttempts)return Promise.reject(new Error(`Exceeded maximum number of attempts: ${this.maxAttempts}`));if(this.isInBackoff)return Promise.reject(new Error("A backoff operation is already in progress"));const e=this.withJitterMs(this.currentDelayMs);return e>0&&F7("ExponentialBackoff.backoff",`Backing off for ${e}ms`),this.currentDelayMs*=this.backoffMultiplier,this.currentDelayMs=Math.max(this.currentDelayMs,this.initialDelayMs),this.currentDelayMs=Math.min(this.currentDelayMs,this.maxDelayMs),this.numAttempts+=1,new Promise(n=>{this.isInBackoff=!0,setTimeout(()=>{this.isInBackoff=!1,n()},e)})}withJitterMs(e){return Math.min(e+(Math.random()-.5)*e,this.maxDelayMs)}}function nn(t,e,n,r,i,o){return De(this,void 0,void 0,function*(){let s;const a=new gce(t.maxRetries);for(let l=0;l<t.maxRetries+1;l++)try{s!==void 0&&AP("requestHttp",`Retrying after error: ${s.message}`);try{yield a.backoff()}catch{break}const c=yield dce(t._getRequestUrl(e),n,r,i,Object.assign(Object.assign({},o),{timeout:t.requestTimeout}));if(c.status===200)return F7(n,`Successful request: ${n}`),c.data;AP(n,`Request failed: ${n}, ${c.status}, ${c.data}`),s=new Error(c.status+": "+c.data)}catch(c){if(!$n.isAxiosError(c)||c.response===void 0)throw c;if(s=new Error(c.response.status+": "+JSON.stringify(c.response.data)),!yce(c,e))break}return Promise.reject(s)})}function yce(t,e){const n=e===zt.WEBHOOK?[429,500]:[429];return t.response!==void 0&&n.includes(t.response.status)}function O7(t,e,n,r,i,o,s){return l5(this,arguments,function*(){let l=!0;const c=Object.assign({},s);for(;l;){const u=yield us(nn(t,e,n,r,c));yield yield us(u),u[o]!==null?c[i]=u[o]:l=!1}})}function B7(t,e,n,r,i="getNftMetadata"){return De(this,void 0,void 0,function*(){const o=yield nn(t,zt.NFT,"getNFTMetadata",i,{contractAddress:e,tokenId:$t.from(n).toString(),tokenType:oce(r?.tokenType),tokenUriTimeoutInMs:r?.tokenUriTimeoutInMs,refreshCache:r?.refreshCache});return Lu(o)})}function L7(t,e,n){return De(this,void 0,void 0,function*(){const r={tokens:e,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs,refreshCache:n?.refreshCache};return{nfts:(yield nn(t,zt.NFT,"getNFTMetadataBatch","getNftMetadataBatch",{},{method:"POST",data:r})).nfts.map(o=>Lu(o))}})}function vce(t,e,n="getContractMetadata"){return De(this,void 0,void 0,function*(){const r=yield nn(t,zt.NFT,"getContractMetadata",n,{contractAddress:e});return l0(r)})}function wce(t,e){return De(this,void 0,void 0,function*(){return{contracts:(yield nn(t,zt.NFT,"getContractMetadataBatch","getContractMetadataBatch",{},{method:"POST",data:{contractAddresses:e}})).contracts.map(l0)}})}function bce(t,e,n="getCollectionMetadata"){return De(this,void 0,void 0,function*(){const r=yield nn(t,zt.NFT,"getCollectionMetadata",n,{collectionSlug:e});return qle(r)})}function xce(t,e,n,r="getNftsForOwnerIterator"){return l5(this,arguments,function*(){var o,s;const a=B1(n?.omitMetadata);try{for(var l=T7(O7(t,zt.NFT,"getNFTsForOwner",r,"pageKey","pageKey",{contractAddresses:n?.contractAddresses,pageKey:n?.pageKey,excludeFilters:n?.excludeFilters,includeFilters:n?.includeFilters,owner:e,withMetadata:a,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs,orderBy:n?.orderBy})),c;c=yield us(l.next()),!c.done;){const u=c.value;for(const d of u.ownedNfts)yield yield us(Object.assign(Object.assign({},Wce(d)),{balance:d.balance}))}}catch(u){o={error:u}}finally{try{c&&!c.done&&(s=l.return)&&(yield us(s.call(l)))}finally{if(o)throw o.error}}})}function o_(t,e,n,r="getNftsForOwner"){return De(this,void 0,void 0,function*(){const i=B1(n?.omitMetadata),o=yield nn(t,zt.NFT,"getNFTsForOwner",r,{contractAddresses:n?.contractAddresses,pageKey:n?.pageKey,excludeFilters:n?.excludeFilters,includeFilters:n?.includeFilters,owner:e,pageSize:n?.pageSize,withMetadata:i,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs,orderBy:n?.orderBy});return ln(i?{ownedNfts:o.ownedNfts.map(s=>Object.assign(Object.assign({},Lu(s)),{balance:s.balance})),pageKey:o.pageKey,totalCount:o.totalCount,validAt:o.validAt}:{ownedNfts:o.ownedNfts.map(s=>Object.assign(Object.assign({},F1(s)),{balance:s.balance})),pageKey:o.pageKey,totalCount:o.totalCount,validAt:o.validAt})})}function Ece(t,e,n,r="getNftsForContract"){var i;return De(this,void 0,void 0,function*(){const o=B1(n?.omitMetadata),s=yield nn(t,zt.NFT,"getNFTsForContract",r,{contractAddress:e,pageKey:n?.pageKey,withMetadata:o,limit:(i=n?.pageSize)!==null&&i!==void 0?i:void 0,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs});return ln(o?{nfts:s.nfts.map(a=>Lu(a)),pageKey:s.pageKey}:{nfts:s.nfts.map(a=>F1(a,e)),pageKey:s.pageKey})})}function Ace(t,e,n,r="getNftsForContractIterator"){return l5(this,arguments,function*(){var o,s;const a=B1(n?.omitMetadata);try{for(var l=T7(O7(t,zt.NFT,"getNFTsForContract",r,"pageKey","pageKey",{contractAddress:e,pageKey:n?.pageKey,withMetadata:a})),c;c=yield us(l.next()),!c.done;){const u=c.value;for(const d of u.nfts)yield yield us(Vce(d,e))}}catch(u){o={error:u}}finally{try{c&&!c.done&&(s=l.return)&&(yield us(s.call(l)))}finally{if(o)throw o.error}}})}function _ce(t,e,n,r="getOwnersForContract"){return De(this,void 0,void 0,function*(){const i=yield nn(t,zt.NFT,"getOwnersForContract",r,Object.assign(Object.assign({},n),{contractAddress:e}));return n?.withTokenBalances?ln({owners:i.owners,pageKey:i.pageKey}):ln({owners:i.owners,pageKey:i.pageKey})})}function Sce(t,e,n,r="getContractsForOwner"){return De(this,void 0,void 0,function*(){const i=yield nn(t,zt.NFT,"getContractsForOwner",r,{owner:e,excludeFilters:n?.excludeFilters,includeFilters:n?.includeFilters,pageKey:n?.pageKey,pageSize:n?.pageSize,orderBy:n?.orderBy});return ln({contracts:i.contracts.map($le),pageKey:i.pageKey,totalCount:i.totalCount})})}function Cce(t,e,n,r,i="getOwnersForNft"){return De(this,void 0,void 0,function*(){return nn(t,zt.NFT,"getOwnersForNFT",i,Object.assign({contractAddress:e,tokenId:$t.from(n).toString()},r))})}function Tce(t,e,n){return De(this,void 0,void 0,function*(){const i=yield(yield t.getProvider())._getAddress(e),o=D7(n?.tokenType),s={fromBlock:"0x0",fromAddress:Ole,toAddress:i,excludeZeroValue:!0,contractAddresses:n?.contractAddresses,category:o,maxCount:100,pageKey:n?.pageKey},a=yield O1(t,s,"getMintedNfts");return u5(t,a)})}function Mce(t,e,n,r){return De(this,void 0,void 0,function*(){const o=yield(yield t.getProvider())._getAddress(e),s=D7(r?.tokenType),a={fromBlock:"0x0",excludeZeroValue:!0,contractAddresses:r?.contractAddresses,category:s,maxCount:100,pageKey:r?.pageKey};n===e_.TO?a.toAddress=o:a.fromAddress=o;const l=yield O1(t,a,"getTransfersForOwner");return u5(t,l)})}function Ice(t,e,n){return De(this,void 0,void 0,function*(){const r=[Io.ERC721,Io.ERC1155,Io.SPECIALNFT],i=yield t.getProvider(),o=n?.fromBlock?i.formatter.blockTag(yield i._getBlockTag(n.fromBlock)):"0x0",s=n?.toBlock?i.formatter.blockTag(yield i._getBlockTag(n.toBlock)):void 0,a={fromBlock:o,toBlock:s,excludeZeroValue:!0,contractAddresses:[e],order:n?.order,category:r,maxCount:100,pageKey:n?.pageKey},l=yield O1(t,a,"getTransfersForContract");return u5(t,l)})}function D7(t){switch(t){case eo.ERC721:return[Io.ERC721];case eo.ERC1155:return[Io.ERC1155];default:return[Io.ERC721,Io.ERC1155,Io.SPECIALNFT]}}function Rce(t){return t.erc1155Metadata.map(e=>({contractAddress:t.rawContract.address,tokenId:e.tokenId,tokenType:eo.ERC1155}))}function Pce(t,e,n,r="verifyNftOwnership"){return De(this,void 0,void 0,function*(){if(typeof n=="string")return(yield o_(t,e,{contractAddresses:[n],omitMetadata:!0},r)).ownedNfts.length>0;{if(n.length===0)throw new Error("Must provide at least one contract address");const i=yield o_(t,e,{contractAddresses:n,omitMetadata:!0},r),o=n.reduce((s,a)=>(s[a]=!1,s),{});for(const s of i.ownedNfts)o[s.contractAddress]=!0;return o}})}function Nce(t,e,n="isSpamContract"){return De(this,void 0,void 0,function*(){return nn(t,zt.NFT,"isSpamContract",n,{contractAddress:e})})}function kce(t,e="getSpamContracts"){return De(this,void 0,void 0,function*(){return nn(t,zt.NFT,"getSpamContracts",e,void 0)})}function Fce(t,e,n="reportSpam"){return De(this,void 0,void 0,function*(){nn(t,zt.NFT,"reportSpam",n,{contractAddress:e})})}function Oce(t,e,n,r="isAirdropNft"){return De(this,void 0,void 0,function*(){return nn(t,zt.NFT,"isAirdropNFT",r,{contractAddress:e,tokenId:n})})}function Bce(t,e,n="getFloorPrice"){return De(this,void 0,void 0,function*(){const r=yield nn(t,zt.NFT,"getFloorPrice",n,{contractAddress:e});return ln(r)})}function Lce(t,e={},n="getNftSales"){return De(this,void 0,void 0,function*(){const r=Object.assign({},e),i=yield nn(t,zt.NFT,"getNFTSales",n,{fromBlock:r?.fromBlock,toBlock:r?.toBlock,order:r?.order,marketplace:r?.marketplace,contractAddress:r?.contractAddress,tokenId:r?.tokenId?$t.from(r?.tokenId).toString():void 0,sellerAddress:r?.sellerAddress,buyerAddress:r?.buyerAddress,taker:r?.taker,limit:r?.limit,pageKey:r?.pageKey});return Kle(i)})}function Dce(t,e,n,r="computeRarity"){return De(this,void 0,void 0,function*(){const i=yield nn(t,zt.NFT,"computeRarity",r,{contractAddress:e,tokenId:$t.from(n).toString()});return ln(i)})}function Uce(t,e,n="searchContractMetadata"){return De(this,void 0,void 0,function*(){return{contracts:(yield nn(t,zt.NFT,"searchContractMetadata",n,{query:e})).contracts.map(l0)}})}function zce(t,e,n="summarizeNftAttributes"){return De(this,void 0,void 0,function*(){return nn(t,zt.NFT,"summarizeNFTAttributes",n,{contractAddress:e})})}function jce(t,e,n,r="refreshNftMetadata"){return De(this,void 0,void 0,function*(){const i=$t.from(n).toString(),o=yield B7(t,e,i,void 0,r),s=yield Hce(t,e,i,r);return o.timeLastUpdated!==s.timeLastUpdated})}function Gce(t,e,n="refreshContract"){return De(this,void 0,void 0,function*(){const r=yield nn(t,zt.NFT,"reingestContract",n,{contractAddress:e});return{contractAddress:r.contractAddress,refreshState:qce(r.reingestionState),progress:r.progress}})}function Hce(t,e,n,r){return De(this,void 0,void 0,function*(){const i=yield nn(t,zt.NFT,"getNFTMetadata",r,{contractAddress:e,tokenId:$t.from(n).toString(),refreshCache:!0});return Lu(i)})}function Wce(t){return U7(t)?Lu(t):F1(t)}function Vce(t,e){return U7(t)?Lu(t):F1(t,e)}function U7(t){return t.name!==void 0}function u5(t,e){return De(this,void 0,void 0,function*(){const n=e.transfers.filter(c=>c.rawContract.address!==null).flatMap(c=>{var u;const d=$ce(c),f={from:c.from,to:(u=c.to)!==null&&u!==void 0?u:void 0,transactionHash:c.hash,blockNumber:c.blockNum};return d.map(h=>({metadata:f,token:h}))});if(n.length===0)return{nfts:[]};const r=100,i=[];for(let c=0;c<n.length;c+=r)i.push(n.slice(c,c+r));const s=(yield Promise.all(i.map(c=>L7(t,c.map(u=>u.token))))).map(c=>c.nfts).flat(),a=new Map;return s.forEach(c=>{const u=`${c.contract.address.toLowerCase()}-${$t.from(c.tokenId).toString()}`;a.set(u,c)}),{nfts:n.map(c=>{const u=`${c.token.contractAddress.toLowerCase()}-${$t.from(c.token.tokenId).toString()}`;return Object.assign(Object.assign({},a.get(u)),c.metadata)}),pageKey:e.pageKey}})}function $ce(t){return t.category===Io.ERC1155?Rce(t):[{contractAddress:t.rawContract.address,tokenId:t.tokenId,tokenType:t.category===Io.ERC721?eo.ERC721:void 0}]}function B1(t){return t===void 0?!0:!t}function qce(t){switch(t){case"does_not_exist":return vl.DOES_NOT_EXIST;case"already_queued":return vl.ALREADY_QUEUED;case"in_progress":return vl.IN_PROGRESS;case"finished":return vl.FINISHED;case"queued":return vl.QUEUED;case"queue_failed":return vl.QUEUE_FAILED;default:throw new Error("Unknown reingestion state: "+t)}}class Kce{constructor(e){this.config=e}getNftMetadata(e,n,r,i){let o;return typeof r=="object"?o={tokenType:r.tokenType,tokenUriTimeoutInMs:r.tokenUriTimeoutInMs,refreshCache:r.refreshCache}:o={tokenType:r,tokenUriTimeoutInMs:i},B7(this.config,e,n,o)}getNftMetadataBatch(e,n){return L7(this.config,e,n)}getContractMetadata(e){return vce(this.config,e)}getContractMetadataBatch(e){return wce(this.config,e)}getCollectionMetadata(e){return bce(this.config,e)}getNftsForOwnerIterator(e,n){return xce(this.config,e,n)}getNftsForOwner(e,n){return o_(this.config,e,n)}getNftsForContract(e,n){return Ece(this.config,e,n)}getNftsForContractIterator(e,n){return Ace(this.config,e,n)}getOwnersForContract(e,n){return _ce(this.config,e,n)}getOwnersForNft(e,n,r){return Cce(this.config,e,n,r)}getContractsForOwner(e,n){return Sce(this.config,e,n)}getTransfersForOwner(e,n,r){return Mce(this.config,e,n,r)}getTransfersForContract(e,n){return Ice(this.config,e,n)}getMintedNfts(e,n){return De(this,void 0,void 0,function*(){return Tce(this.config,e,n)})}verifyNftOwnership(e,n){return Pce(this.config,e,n)}isSpamContract(e){return Nce(this.config,e)}getSpamContracts(){return kce(this.config)}reportSpam(e){return Fce(this.config,e)}isAirdropNft(e,n){return Oce(this.config,e,n)}getFloorPrice(e){return Bce(this.config,e)}getNftSales(e){return Lce(this.config,e)}computeRarity(e,n){return Dce(this.config,e,n)}searchContractMetadata(e){return Uce(this.config,e)}summarizeNftAttributes(e){return zce(this.config,e)}refreshNftMetadata(e,n){return jce(this.config,e,n)}refreshContract(e){return Gce(this.config,e)}}class Qce{constructor(e){this.config=e}getAllWebhooks(){return De(this,void 0,void 0,function*(){this.verifyConfig();const e=yield this.sendWebhookRequest("team-webhooks","getAllWebhooks",{});return{webhooks:Xce(e),totalCount:e.data.length}})}getAddresses(e,n){return De(this,void 0,void 0,function*(){this.verifyConfig();const r=typeof e=="string"?e:e.id,i=yield this.sendWebhookRequest("webhook-addresses","getAddresses",{webhook_id:r,limit:n?.limit,after:n?.pageKey});return Yce(i)})}getGraphqlQuery(e){return De(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof e=="string"?e:e.id,r=yield this.sendWebhookRequest("dashboard-webhook-graphql-query","getGraphqlQuery",{webhook_id:n});return Jce(r)})}getNftFilters(e,n){return De(this,void 0,void 0,function*(){this.verifyConfig();const r=typeof e=="string"?e:e.id,i=yield this.sendWebhookRequest("webhook-nft-filters","getNftFilters",{webhook_id:r,limit:n?.limit,after:n?.pageKey});return Zce(i)})}updateWebhook(e,n){return De(this,void 0,void 0,function*(){const r=typeof e=="string"?e:e.id;let i,o,s,a;if("isActive"in n)i="update-webhook",o="updateWebhook",s="PUT",a={webhook_id:r,is_active:n.isActive};else if("addFilters"in n||"removeFilters"in n)i="update-webhook-nft-filters",o="updateWebhookNftFilters",s="PATCH",a={webhook_id:r,nft_filters_to_add:n.addFilters?n.addFilters.map(og):[],nft_filters_to_remove:n.removeFilters?n.removeFilters.map(og):[]};else if("addMetadataFilters"in n||"removeMetadataFilters"in n)i="update-webhook-nft-metadata-filters",o="updateWebhookNftMetadataFilters",s="PATCH",a={webhook_id:r,nft_metadata_filters_to_add:n.addMetadataFilters?n.addMetadataFilters.map(og):[],nft_metadata_filters_to_remove:n.removeMetadataFilters?n.removeMetadataFilters.map(og):[]};else if("addAddresses"in n||"removeAddresses"in n)i="update-webhook-addresses",o="webhook:updateWebhookAddresses",s="PATCH",a={webhook_id:r,addresses_to_add:yield this.resolveAddresses(n.addAddresses),addresses_to_remove:yield this.resolveAddresses(n.removeAddresses)};else if("newAddresses"in n)i="update-webhook-addresses",o="webhook:updateWebhookAddress",s="PUT",a={webhook_id:r,addresses:yield this.resolveAddresses(n.newAddresses)};else throw new Error("Invalid `update` param passed into `updateWebhook`");yield this.sendWebhookRequest(i,o,{},{method:s,data:a})})}createWebhook(e,n,r){return De(this,void 0,void 0,function*(){let i;if(n===Cs.MINED_TRANSACTION||n===Cs.DROPPED_TRANSACTION||n===Cs.GRAPHQL){if(!("appId"in r))throw new Error("Transaction and GraphQL Webhooks require an app id.");i=r.appId}let o=ig.get(this.config.network),s,a,l,c;if(n===Cs.NFT_ACTIVITY||n===Cs.NFT_METADATA_UPDATE){if(!("filters"in r)||r.filters.length===0)throw new Error("Nft Activity Webhooks require a non-empty array input.");o=r.network?ig.get(r.network):o;const f=r.filters.map(h=>h.tokenId?{contract_address:h.contractAddress,token_id:$t.from(h.tokenId).toString()}:{contract_address:h.contractAddress});s=n===Cs.NFT_ACTIVITY?{nft_filters:f}:{nft_metadata_filters:f}}else if(n===Cs.ADDRESS_ACTIVITY){if(r===void 0||!("addresses"in r)||r.addresses.length===0)throw new Error("Address Activity Webhooks require a non-empty array input.");o=r.network?ig.get(r.network):o,a=yield this.resolveAddresses(r.addresses)}else if(n==Cs.GRAPHQL){if(r===void 0||!("graphqlQuery"in r)||r.graphqlQuery.length===0)throw new Error("Custom Webhooks require a non-empty graphql query.");o=r.network?ig.get(r.network):o,l=r.graphqlQuery,c=r.skipEmptyMessages}const u=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({network:o,webhook_type:n,webhook_url:e},i&&{app_id:i}),r.name&&{name:r.name}),s),a&&{addresses:a}),l&&{graphql_query:{query:l,skip_empty_messages:!!c}}),d=yield this.sendWebhookRequest("create-webhook","createWebhook",{},{method:"POST",data:u});return z7(d.data)})}deleteWebhook(e){return De(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof e=="string"?e:e.id;if("message"in(yield this.sendWebhookRequest("delete-webhook","deleteWebhook",{webhook_id:n},{method:"DELETE"})))throw new Error(`Webhook not found. Failed to delete webhook: ${n}`)})}verifyConfig(){if(this.config.authToken===void 0)throw new Error("Using the Notify API requires setting the Alchemy Auth Token in the settings object when initializing Alchemy.")}sendWebhookRequest(e,n,r,i){return nn(this.config,zt.WEBHOOK,e,n,r,Object.assign(Object.assign({},i),{headers:Object.assign({"X-Alchemy-Token":this.config.authToken},i?.headers)}))}resolveAddresses(e){return De(this,void 0,void 0,function*(){if(e===void 0)return[];const n=[],r=yield this.config.getProvider();for(const i of e){const o=yield r.resolveName(i);if(o===null)throw new Error(`Unable to resolve the ENS address: ${i}`);n.push(o)}return n})}}const s_=Object.fromEntries(Object.entries(Ne)),ig=Object.keys(Ne).reduce((t,e)=>(e in s_&&t.set(s_[e],e),t),new Map);function Xce(t){return t.data.map(z7)}function z7(t){return Object.assign(Object.assign({id:t.id,network:s_[t.network],type:t.webhook_type,url:t.webhook_url,isActive:t.is_active,timeCreated:new Date(t.time_created).toISOString(),signingKey:t.signing_key,version:t.version},t.app_id!==void 0&&{appId:t.app_id}),t.name!==void 0&&{name:t.name})}function Yce(t){return{addresses:t.data,totalCount:t.pagination.total_count,pageKey:t.pagination.cursors.after}}function Jce(t){return{graphqlQuery:t.data.graphql_query}}function Zce(t){return{filters:t.data.map(e=>e.token_id?{contractAddress:e.contract_address,tokenId:$t.from(e.token_id).toString()}:{contractAddress:e.contract_address}),totalCount:t.pagination.total_count,pageKey:t.pagination.cursors.after}}function og(t){return t.tokenId?{contract_address:t.contractAddress,token_id:$t.from(t.tokenId).toString()}:{contract_address:t.contractAddress}}function eue(t,e,n=!0,r=!0,i=!0,o="getTokensByWallet"){return De(this,void 0,void 0,function*(){const s={addresses:e,withMetadata:n,withPrices:r,includeNativeTokens:i},a=yield nn(t,zt.PORTFOLIO,"assets/tokens/by-address",o,{},{data:s,method:"POST"});return ln(a)})}function tue(t,e,n=!0,r="getTokenBalancesByWallet"){return De(this,void 0,void 0,function*(){const i={addresses:e,includeNativeTokens:n},o=yield nn(t,zt.PORTFOLIO,"assets/tokens/balances/by-address",r,{},{method:"POST",data:i});return ln(o)})}function nue(t,e,n=!0,r=void 0,i=void 0,o="getNftsByWallet"){return De(this,void 0,void 0,function*(){const s={addresses:e,withMetadata:n,pageKey:r,pageSize:i},a=yield nn(t,zt.PORTFOLIO,"assets/nfts/by-address",o,{},{method:"POST",data:s});return ln(a)})}function rue(t,e,n=!0,r=void 0,i=void 0,o="getNftCollectionsByWallet"){return De(this,void 0,void 0,function*(){const s={addresses:e,pageKey:r,pageSize:i,withMetadata:n},a=yield nn(t,zt.PORTFOLIO,"assets/nfts/contracts/by-address",o,{},{method:"POST",data:s});return ln(a)})}function iue(t,e,n=void 0,r=void 0,i=void 0,o="getTransactionsByWallet"){return De(this,void 0,void 0,function*(){const s={addresses:e,before:n,after:r,limit:i},a=yield nn(t,zt.PORTFOLIO,"transactions/history/by-address",o,{},{method:"POST",data:s});return ln(a)})}class oue{constructor(e){this.config=e}getTokensByWallet(e,n=!0,r=!0,i=!0){return eue(this.config,e,n,r,i)}getTokenBalancesByWallet(e,n=!0){return tue(this.config,e,n)}getNftsByWallet(e,n=!0,r,i){return nue(this.config,e,n,r,i)}getNftCollectionsByWallet(e,n=!0,r,i){return rue(this.config,e,n,r,i)}getTransactionsByWallet(e,n,r,i){return iue(this.config,e,n,r,i)}}function sue(t,e,n="getTokenPriceByAddress"){return De(this,void 0,void 0,function*(){const r=yield nn(t,zt.PRICES,"tokens/by-address",n,{},{method:"POST",data:{addresses:e}});return ln(r)})}function aue(t,e,n="getTokenPriceBySymbol"){return De(this,void 0,void 0,function*(){const r=yield nn(t,zt.PRICES,"tokens/by-symbol",n,{symbols:e},{paramsSerializer:i=>{const o=new URLSearchParams;return Object.entries(i).forEach(([s,a])=>{a.forEach(l=>o.append(s,l))}),o.toString()}});return ln(r)})}function lue(t,e,n,r,i,o="getHistoricalPriceBySymbol"){return De(this,void 0,void 0,function*(){const s=yield nn(t,zt.PRICES,"tokens/historical",o,{},{method:"POST",data:{symbol:e,startTime:n,endTime:r,interval:i}});return ln(s)})}function cue(t,e,n,r,i,o,s="getHistoricalPriceByAddress"){return De(this,void 0,void 0,function*(){const a=yield nn(t,zt.PRICES,"tokens/historical",s,{},{method:"POST",data:{network:e,address:n,startTime:r,endTime:i,interval:o}});return ln(a)})}class uue{constructor(e){this.config=e}getTokenPriceByAddress(e){return sue(this.config,e)}getTokenPriceBySymbol(e){return aue(this.config,e)}getHistoricalPriceBySymbol(e,n,r,i){return lue(this.config,e,n,r,i)}getHistoricalPriceByAddress(e,n,r,i,o){return cue(this.config,e,n,r,i,o)}}const due=[.9,1,1.1,1.2,1.3];class fue{constructor(e){this.config=e}sendPrivateTransaction(e,n,r){return De(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=n?k1(n):void 0;return i._send("eth_sendPrivateTransaction",[{tx:e,maxBlockNumber:o,preferences:r}],"sendPrivateTransaction")})}cancelPrivateTransaction(e){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("eth_cancelPrivateTransaction",[{txHash:e}],"cancelPrivateTransaction")})}simulateAssetChangesBundle(e,n){return De(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=yield r._send("alchemy_simulateAssetChangesBundle",i,"simulateAssetChangesBundle");return ln(o)})}simulateAssetChanges(e,n){return De(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=yield r._send("alchemy_simulateAssetChanges",i,"simulateAssetChanges");return ln(o)})}simulateExecutionBundle(e,n){return De(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=r._send("alchemy_simulateExecutionBundle",i,"simulateExecutionBundle");return ln(o)})}simulateExecution(e,n){return De(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=r._send("alchemy_simulateExecution",i,"simulateExecution");return ln(o)})}getTransaction(e){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}sendTransaction(e){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}estimateGas(e){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getMaxPriorityFeePerGas(){return De(this,void 0,void 0,function*(){const n=yield(yield this.config.getProvider())._send("eth_maxPriorityFeePerGas",[],"getMaxPriorityFeePerGas");return Wle(n)})}waitForTransaction(e,n,r){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,n,r)})}sendGasOptimizedTransaction(e,n){return De(this,void 0,void 0,function*(){if(Array.isArray(e))return this._sendGasOptimizedTransaction(e,"sendGasOptimizedTransactionPreSigned");let r,i,o;const s=yield this.config.getProvider();try{r=yield this.estimateGas(e),i=yield this.getMaxPriorityFeePerGas(),o=(yield s.getBlock("latest")).baseFeePerGas.toNumber()}catch(c){throw new Error(`Failed to estimate gas for transaction: ${c}`)}const a=hue(e,r.toNumber(),o,i),l=yield Promise.all(a.map(c=>n.signTransaction(c)));return this._sendGasOptimizedTransaction(l,"sendGasOptimizedTransactionGenerated")})}getGasOptimizedTransactionStatus(e){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getGasOptimizedTransactionStatus",[e],"getGasOptimizedTransactionStatus")})}_sendGasOptimizedTransaction(e,n){return De(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_sendGasOptimizedTransaction",[{rawTransactions:e}],n)})}}function hue(t,e,n,r){return due.map(i=>Object.assign(Object.assign({},t),{gasLimit:e,maxFeePerGas:Math.round(n*i+r*i),maxPriorityFeePerGas:Math.round(i*r)}))}const jv="alchemy-pending-transactions",Gv="alchemy-mined-transactions",pue=[jv,Gv];let mue=class{constructor(e,n,r){this.listener=n,this.tag=e,this.once=r,this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter;default:return this.tag}}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");if(e[0]!=="tx")throw new Error("Not a transaction event");return e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")throw new Error("Not a transaction event");const n=e[1],r=wue(e[2]),i={};return r.length>0&&(i.topics=r),n&&n!=="*"&&(i.address=n),i}pollable(){const e=["block","network","pending","poll"];return this.tag.indexOf(":")>=0||e.indexOf(this.tag)>=0}};class Y_e extends mue{get fromAddress(){const e=this.tag.split(":");if(e[0]===jv&&e[1]&&e[1]!=="*")return _P(e[1])}get toAddress(){const e=this.tag.split(":");if(e[0]===jv&&e[2]&&e[2]!=="*")return _P(e[2])}get hashesOnly(){const e=this.tag.split(":");if(pue.includes(e[0])&&e[3]&&e[3]!=="*")return e[3]==="true"}get includeRemoved(){const e=this.tag.split(":");if(e[0]===Gv&&e[2]&&e[2]!=="*")return e[2]==="true"}get addresses(){const e=this.tag.split(":");if(e[0]===Gv&&e[1]&&e[1]!=="*")return bue(e[1])}}function j7(t){return typeof t=="object"&&"method"in t}function J_e(t){if(!j7(t))throw new Error("Event tag requires AlchemyEventType");if(t.method===Vl.PENDING_TRANSACTIONS)return gue(t);if(t.method===Vl.MINED_TRANSACTIONS)return yue(t);throw new Error(`Unrecognized AlchemyFilterEvent: ${t}`)}function Z_e(t){if(!Object.values(Vl).includes(t.method))throw new Error(`Invalid method name ${t.method}. Accepted method names: ${Object.values(Vl)}`)}function gue(t){const e=Hv(t.fromAddress),n=Hv(t.toAddress),r=a_(t.hashesOnly);return jv+":"+e+":"+n+":"+r}function yue(t){const e=vue(t.addresses),n=a_(t.includeRemoved),r=a_(t.hashesOnly);return Gv+":"+e+":"+n+":"+r}function vue(t){return t===void 0?"*":t.map(e=>Hv(e.to)+","+Hv(e.from)).join("|")}function Hv(t){return t===void 0?"*":Array.isArray(t)?t.join("|"):t}function a_(t){return t===void 0?"*":t.toString()}function wue(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function _P(t){if(t==="")return;const e=t.split("|");return e.length===1?e[0]:e}function bue(t){if(t!=="")return t.split("|").map(e=>e.split(",")).map(e=>Object.assign(Object.assign({},e[0]!=="*"&&{to:e[0]}),e[1]!=="*"&&{from:e[1]}))}class xue{constructor(e){this.config=e}on(e,n){return De(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);r.on(i,n)}),this}once(e,n){return De(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);r.once(i,n)}),this}off(e,n){return De(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);return r.off(i,n)}),this}removeAllListeners(e){return De(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;n.removeAllListeners(r)}),this}listenerCount(e){return De(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return n.listenerCount(r)})}listeners(e){return De(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return n.listeners(r)})}_resolveEnsAlchemyEvent(e){return De(this,void 0,void 0,function*(){if(!j7(e))return e;if(e.method===Vl.MINED_TRANSACTIONS&&e.addresses){const n=[];for(const r of e.addresses)r.to&&(r.to=yield this._resolveNameOrError(r.to)),r.from&&(r.from=yield this._resolveNameOrError(r.from)),n.push(r);e.addresses=n}else e.method===Vl.PENDING_TRANSACTIONS&&(e.fromAddress&&(typeof e.fromAddress=="string"?e.fromAddress=yield this._resolveNameOrError(e.fromAddress):e.fromAddress=yield Promise.all(e.fromAddress.map(n=>this._resolveNameOrError(n)))),e.toAddress&&(typeof e.toAddress=="string"?e.toAddress=yield this._resolveNameOrError(e.toAddress):e.toAddress=yield Promise.all(e.toAddress.map(n=>this._resolveNameOrError(n)))));return e})}_resolveNameOrError(e){return De(this,void 0,void 0,function*(){const r=yield(yield this.config.getProvider()).resolveName(e);if(r===null)throw new Error(`Unable to resolve the ENS address: ${e}`);return r})}}class Eue{constructor(e){this.config=new Ble(e),this.core=new rce(this.config),this.nft=new Kce(this.config),this.ws=new xue(this.config),this.transact=new fue(this.config),this.notify=new Qce(this.config),this.debug=new ice(this.config),this.prices=new uue(this.config),this.portfolio=new oue(this.config)}}const Aue="6.14.4";function _ue(t,e,n){const r=e.split("|").map(o=>o.trim());for(let o=0;o<r.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function ri(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,o)=>(r[e[o]]=i,r),{})}function Nt(t,e,n){for(let r in e){let i=e[r];const o=n?n[r]:null;o&&_ue(i,o,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function Md(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>Md(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Md(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${Md(r,e)}: ${Md(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Lr(t,e){return t&&t.code===e}function d5(t){return Lr(t,"CALL_EXCEPTION")}function Tn(t,e,n){let r=t;{const o=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Md(n)}`);for(const s in n){if(s==="shortMessage")continue;const a=n[s];o.push(s+"="+Md(a))}}o.push(`code=${e}`),o.push(`version=${Aue}`),o.length&&(t+=" ("+o.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Nt(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&Nt(i,{shortMessage:r}),i}function je(t,e,n,r){if(!t)throw Tn(e,n,r)}function pe(t,e,n,r){je(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function G7(t,e,n){n==null&&(n=""),n&&(n=": "+n),je(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),je(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function L1(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),je(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function H7(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let o=0;o<r.length;o++)r[o]=parseInt(t.substring(i,i+2),16),i+=2;return r}pe(!1,"invalid BytesLike value",e||"value",t)}function Gt(t,e){return H7(t,e,!1)}function li(t,e){return H7(t,e,!0)}function bn(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function f5(t){return bn(t,!0)||t instanceof Uint8Array}const SP="0123456789abcdef";function ct(t){const e=Gt(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=SP[(i&240)>>4]+SP[i&15]}return n}function Hn(t){return"0x"+t.map(e=>ct(e).substring(2)).join("")}function Vd(t){return bn(t,!0)?(t.length-2)/2:Gt(t).length}function Dn(t,e,n){const r=Gt(t);return n!=null&&n>r.length&&je(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),ct(r.slice(e??0,n??r.length))}function W7(t,e,n){const r=Gt(t);je(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),ct(i)}function za(t,e){return W7(t,e,!0)}function Sue(t,e){return W7(t,e,!1)}const D1=BigInt(0),rs=BigInt(1),Id=9007199254740991;function Cue(t,e){const n=U1(t,"value"),r=BigInt(Ht(e,"width"));if(je(n>>r===D1,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-rs){const i=(rs<<r)-rs;return-((~n&i)+rs)}return n}function V7(t,e){let n=At(t,"value");const r=BigInt(Ht(e,"width")),i=rs<<r-rs;if(n<D1){n=-n,je(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const o=(rs<<r)-rs;return(~n&o)+rs}else je(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Qh(t,e){const n=U1(t,"value"),r=BigInt(Ht(e,"bits"));return n&(rs<<r)-rs}function At(t,e){switch(typeof t){case"bigint":return t;case"number":return pe(Number.isInteger(t),"underflow",e||"value",t),pe(t>=-Id&&t<=Id,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){pe(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}pe(!1,"invalid BigNumberish value",e||"value",t)}function U1(t,e){const n=At(t,e);return je(n>=D1,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const CP="0123456789abcdef";function h5(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=CP[n>>4],e+=CP[n&15];return BigInt(e)}return At(t)}function Ht(t,e){switch(typeof t){case"bigint":return pe(t>=-Id&&t<=Id,"overflow",e||"value",t),Number(t);case"number":return pe(Number.isInteger(t),"underflow",e||"value",t),pe(t>=-Id&&t<=Id,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Ht(BigInt(t),e)}catch(n){pe(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}pe(!1,"invalid numeric value",e||"value",t)}function Tue(t){return Ht(h5(t))}function $l(t,e){let r=U1(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=Ht(e,"width");for(je(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function hr(t){const e=U1(t,"value");if(e===D1)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const o=i*2;r[i]=parseInt(n.substring(o,o+2),16)}return r}function ts(t){let e=ct(f5(t)?t:hr(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const TP="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const MP=BigInt(58);function Mue(t){const e=Gt(t);let n=h5(e),r="";for(;n;)r=TP[Number(n%MP)]+r,n/=MP;for(let i=0;i<e.length&&!e[i];i++)r=TP[0]+r;return r}function Iue(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return Gt(e)}function Rue(t){const e=Gt(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}class $7{filter;emitter;#e;constructor(e,n,r){this.#e=n,Nt(this,{emitter:e,filter:r})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function Pue(t,e,n,r,i){pe(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function q7(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let o=0;for(let s=e+1;s<n.length&&n[s]>>6===2;s++)o++;return o}return t==="OVERRUN"?n.length-e-1:0}function Nue(t,e,n,r,i){return t==="OVERLONG"?(pe(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),q7(t,e,n))}const kue=Object.freeze({error:Pue,ignore:q7,replace:Nue});function Fue(t,e){e==null&&(e=kue.error);const n=Gt(t,"bytes"),r=[];let i=0;for(;i<n.length;){const o=n[i++];if(!(o>>7)){r.push(o);continue}let s=null,a=null;if((o&224)===192)s=1,a=127;else if((o&240)===224)s=2,a=2047;else if((o&248)===240)s=3,a=65535;else{(o&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+s>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let l=o&(1<<8-s-1)-1;for(let c=0;c<s;c++){let u=n[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),l=null;break}l=l<<6|u&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-s,n,r,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-s,n,r,l);continue}if(l<=a){i+=e("OVERLONG",i-1-s,n,r,l);continue}r.push(l)}}return r}function Ra(t,e){pe(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const o=t.charCodeAt(r);pe(r<t.length&&(o&64512)===56320,"invalid surrogate pair","str",t);const s=65536+((i&1023)<<10)+(o&1023);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function Oue(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Wv(t,e){return Oue(Fue(t,e))}function K7(t){async function e(n,r){je(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();je(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),je(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o=null;const s=new AbortController,a=setTimeout(()=>{o=Tn("request timeout","TIMEOUT"),s.abort()},n.timeout);r&&r.addListener(()=>{o=Tn("request cancelled","CANCELLED"),s.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:s.signal});let c;try{c=await fetch(n.url,l)}catch(h){throw clearTimeout(a),o||h}clearTimeout(a);const u={};c.headers.forEach((h,g)=>{u[g.toLowerCase()]=h});const d=await c.arrayBuffer(),f=d==null?null:new Uint8Array(d);return{statusCode:c.status,statusMessage:c.statusText,headers:u,body:f}}return e}const Bue=12,Lue=250;let IP=K7();const Due=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Uue=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Ox=!1;async function Q7(t,e){try{const n=t.match(Due);if(!n)throw new Error("invalid data");return new Dl(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?Iue(n[3]):jue(n[3]))}catch{return new Dl(599,"BAD REQUEST (invalid data: URI)",{},null,new ja(t))}}function X7(t){async function e(n,r){try{const i=n.match(Uue);if(!i)throw new Error("invalid link");return new ja(`${t}${i[2]}`)}catch{return new Dl(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ja(n))}}return e}const sg={data:Q7,ipfs:X7("https://gateway.ipfs.io/ipfs/")},Y7=new WeakMap;class zue{#e;#t;constructor(e){this.#e=[],this.#t=!1,Y7.set(e,()=>{if(!this.#t){this.#t=!0;for(const n of this.#e)setTimeout(()=>{n()},0);this.#e=[]}})}addListener(e){je(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){je(!this.cancelled,"cancelled","CANCELLED",{})}}function ag(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class ja{#e;#t;#n;#r;#i;#s;#o;#a;#p;#u;#m;#h;#l;#c;#d;get url(){return this.#s}set url(e){this.#s=String(e)}get body(){return this.#o==null?null:new Uint8Array(this.#o)}set body(e){if(e==null)this.#o=void 0,this.#a=void 0;else if(typeof e=="string")this.#o=Ra(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#o=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#o=Ra(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#o!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#r=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#n);return this.#p&&(e.authorization=`Basic ${Rue(Ra(this.#p))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){this.#n[String(e).toLowerCase()]=String(n)}clearHeaders(){this.#n={}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#p||null}setCredentials(e,n){pe(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#p=`${e}:${n}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#i}set timeout(e){pe(e>=0,"timeout must be non-zero","timeout",e),this.#i=e}get preflightFunc(){return this.#u||null}set preflightFunc(e){this.#u=e}get processFunc(){return this.#m||null}set processFunc(e){this.#m=e}get retryFunc(){return this.#h||null}set retryFunc(e){this.#h=e}get getUrlFunc(){return this.#d||IP}set getUrlFunc(e){this.#d=e}constructor(e){this.#s=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#i=3e5,this.#c={slotInterval:Lue,maxAttempts:Bue},this.#d=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#o?ct(this.#o):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#c.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#c.maxAttempts=e.maxAttempts)}async#f(e,n,r,i,o){if(e>=this.#c.maxAttempts)return o.makeServerError("exceeded maximum retry limit");je(RP()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await Gue(r);let s=this.clone();const a=(s.url.split(":")[0]||"").toLowerCase();if(a in sg){const u=await sg[a](s.url,ag(i.#l));if(u instanceof Dl){let d=u;if(this.processFunc){ag(i.#l);try{d=await this.processFunc(s,d)}catch(f){(f.throttle==null||typeof f.stall!="number")&&d.makeServerError("error in post-processing function",f).assertOk()}}return d}s=u}this.preflightFunc&&(s=await this.preflightFunc(s));const l=await this.getUrlFunc(s,ag(i.#l));let c=new Dl(l.statusCode,l.statusMessage,l.headers,l.body,i);if(c.statusCode===301||c.statusCode===302){try{const u=c.headers.location||"";return s.redirect(u).#f(e+1,n,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(s,c,e))){const u=c.headers["retry-after"];let d=this.#c.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof u=="string"&&u.match(/^[1-9][0-9]*$/)&&(d=parseInt(u)),s.clone().#f(e+1,n,d,i,c)}if(this.processFunc){ag(i.#l);try{c=await this.processFunc(s,c)}catch(u){(u.throttle==null||typeof u.stall!="number")&&c.makeServerError("error in post-processing function",u).assertOk();let d=this.#c.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(d=u.stall),s.clone().#f(e+1,n,d,i,c)}}return c}send(){return je(this.#l==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#l=new zue(this),this.#f(0,RP()+this.timeout,0,this,new Dl(0,"",{},null,this))}cancel(){je(this.#l!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Y7.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();je(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new ja(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#n=Object.assign({},this.#n),this.#o&&(i.#o=new Uint8Array(this.#o)),i.#a=this.#a,i}clone(){const e=new ja(this.url);return e.#r=this.#r,this.#o&&(e.#o=this.#o),e.#a=this.#a,e.#n=Object.assign({},this.#n),e.#p=this.#p,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#u=this.#u,e.#m=this.#m,e.#h=this.#h,e.#c=Object.assign({},this.#c),e.#d=this.#d,e}static lockConfig(){Ox=!0}static getGateway(e){return sg[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Ox)throw new Error("gateways locked");sg[e]=n}static registerGetUrl(e){if(Ox)throw new Error("gateways locked");IP=e}static createGetUrlFunc(e){return K7(e)}static createDataGateway(){return Q7}static createIpfsGatewayFunc(e){return X7(e)}}class Dl{#e;#t;#n;#r;#i;#s;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?ct(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":Wv(this.#r)}catch{je(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{je(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,n,r,i,o){this.#e=e,this.#t=n,this.#n=Object.keys(r).reduce((s,a)=>(s[a.toLowerCase()]=String(r[a]),s),{}),this.#r=i==null?null:new Uint8Array(i),this.#i=o||null,this.#s={message:""}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new Dl(599,r,this.headers,this.body,this.#i||void 0);return i.#s={message:e,error:n},i}throwThrottleError(e,n){n==null?n=-1:pe(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw Nt(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#i}ok(){return this.#s.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=this.#s;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{this.#r&&(i=Wv(this.#r))}catch{}je(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function RP(){return new Date().getTime()}function jue(t){return Ra(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function Gue(t){return new Promise(e=>setTimeout(e,t))}function Hue(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function PP(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function NP(t,e,n,r){const i=[];for(;n<e+1+r;){const o=J7(t,n);i.push(o.result),n+=o.consumed,je(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function J7(t,e){je(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{je(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=PP(t,e+1,r);return n(e+1+r+i),NP(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),NP(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=PP(t,e+1,r);n(e+1+r+i);const o=ct(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:o}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=ct(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:Hue(t[e])}}function c0(t){const e=Gt(t,"data"),n=J7(e,0);return pe(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function kP(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Z7(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(o){r=r.concat(Z7(o))}),r.length<=55)return r.unshift(192+r.length),r;const i=kP(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(Gt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=kP(e.length);return n.unshift(183+n.length),n.concat(e)}const FP="0123456789abcdef";function ql(t){let e="0x";for(const n of Z7(t))e+=FP[n>>4],e+=FP[n&15];return e}const ci=32,l_=new Uint8Array(ci),Wue=["then"],lg={},e9=new WeakMap;function bc(t){return e9.get(t)}function OP(t,e){e9.set(t,e)}function Ih(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function c_(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof _a?c_(bc(r),r,n):r):t.reduce((r,i,o)=>{let s=e.getValue(i);return i in r||(n&&s instanceof _a&&(s=c_(bc(s),s,n)),r[i]=s),r},{})}class _a extends Array{#e;constructor(...e){const n=e[0];let r=e[1],i=(e[2]||[]).slice(),o=!0;n!==lg&&(r=e,i=[],o=!1),super(r.length),r.forEach((l,c)=>{this[c]=l});const s=i.reduce((l,c)=>(typeof c=="string"&&l.set(c,(l.get(c)||0)+1),l),new Map);if(OP(this,Object.freeze(r.map((l,c)=>{const u=i[c];return u!=null&&s.get(u)===1?u:null}))),this.#e=[],this.#e==null&&this.#e,!o)return;Object.freeze(this);const a=new Proxy(this,{get:(l,c,u)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const f=Ht(c,"%index");if(f<0||f>=this.length)throw new RangeError("out of result range");const h=l[f];return h instanceof Error&&Ih(`index ${f}`,h),h}if(Wue.indexOf(c)>=0)return Reflect.get(l,c,u);const d=l[c];if(d instanceof Function)return function(...f){return d.apply(this===u?l:this,f)};if(!(c in l))return l.getValue.apply(this===u?l:this,[c])}return Reflect.get(l,c,u)}});return OP(a,bc(this)),a}toArray(e){const n=[];return this.forEach((r,i)=>{r instanceof Error&&Ih(`index ${i}`,r),e&&r instanceof _a&&(r=r.toArray(e)),n.push(r)}),n}toObject(e){const n=bc(this);return n.reduce((r,i,o)=>(je(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),c_(n,this,e)),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const r=bc(this),i=[],o=[];for(let s=e;s<n;s++)i.push(this[s]),o.push(r[s]);return new _a(lg,i,o)}filter(e,n){const r=bc(this),i=[],o=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&Ih(`index ${s}`,a),e.call(n,a,s,this)&&(i.push(a),o.push(r[s]))}return new _a(lg,i,o)}map(e,n){const r=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&Ih(`index ${i}`,o),r.push(e.call(n,o,i,this))}return r}getValue(e){const n=bc(this).indexOf(e);if(n===-1)return;const r=this[n];return r instanceof Error&&Ih(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,n){return new _a(lg,e,n)}}function BP(t){let e=hr(t);return je(e.length<=ci,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:ci,offset:e.length}),e.length!==ci&&(e=li(Hn([l_.slice(e.length%ci),e]))),e}class Ka{name;type;localName;dynamic;constructor(e,n,r,i){Nt(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){pe(!1,e,this.localName,n)}}class u_{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return Hn(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(li(e.data))}writeBytes(e){let n=li(e);const r=n.length%ci;return r&&(n=li(Hn([n,l_.slice(r)]))),this.#n(n)}writeValue(e){return this.#n(BP(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(l_),this.#t+=ci,n=>{this.#e[e]=BP(n)}}}class p5{allowLoose;#e;#t;#n;#r;#i;constructor(e,n,r){Nt(this,{allowLoose:!!n}),this.#e=li(e),this.#n=0,this.#r=null,this.#i=r??1024,this.#t=0}get data(){return ct(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#s(e){if(this.#r)return this.#r.#s(e);this.#n+=e,je(this.#i<1||this.#n<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:li(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#o(e,n,r){let i=Math.ceil(n/ci)*ci;return this.#t+i>this.#e.length&&(this.allowLoose&&r&&this.#t+n<=this.#e.length?i=n:je(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:li(this.#e),length:this.#e.length,offset:this.#t+i})),this.#e.slice(this.#t,this.#t+i)}subReader(e){const n=new p5(this.#e.slice(this.#t+e),this.allowLoose,this.#i);return n.#r=this,n}readBytes(e,n){let r=this.#o(0,e,!!n);return this.#s(e),this.#t+=r.length,r.slice(0,e)}readValue(){return h5(this.readBytes(ci))}readIndex(){return Tue(this.readBytes(ci))}}function Vv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function m5(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Vue(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Vv(t.outputLen),Vv(t.blockLen)}function wf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function t9(t,e){m5(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Bx=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const n9=t=>t instanceof Uint8Array,$ue=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Lx=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),_s=(t,e)=>t<<32-e|t>>>e,que=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!que)throw new Error("Non little-endian hardware is not supported");function Kue(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function z1(t){if(typeof t=="string"&&(t=Kue(t)),!n9(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Que(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!n9(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class g5{clone(){return this._cloneInto()}}function y5(t){const e=r=>t().update(z1(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Xue(t=32){if(Bx&&typeof Bx.getRandomValues=="function")return Bx.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class r9 extends g5{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Vue(e);const r=z1(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return wf(this),this.iHash.update(e),this}digestInto(e){wf(this),m5(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const i9=(t,e,n)=>new r9(t,e).update(n).digest();i9.create=(t,e)=>new r9(t,e);function Yue(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}class o9 extends g5{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Lx(this.buffer)}update(e){wf(this);const{view:n,buffer:r,blockLen:i}=this;e=z1(e);const o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Lx(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){wf(this),t9(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let d=s;d<i;d++)n[d]=0;Yue(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Lx(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%n&&e.buffer.set(r),e}}const Jue=(t,e,n)=>t&e^~t&n,Zue=(t,e,n)=>t&e^t&n^e&n,ede=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),nl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rl=new Uint32Array(64);class tde extends o9{constructor(){super(64,32,8,!1),this.A=nl[0]|0,this.B=nl[1]|0,this.C=nl[2]|0,this.D=nl[3]|0,this.E=nl[4]|0,this.F=nl[5]|0,this.G=nl[6]|0,this.H=nl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)rl[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=rl[d-15],h=rl[d-2],g=_s(f,7)^_s(f,18)^f>>>3,m=_s(h,17)^_s(h,19)^h>>>10;rl[d]=m+rl[d-7]+g+rl[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const f=_s(a,6)^_s(a,11)^_s(a,25),h=u+f+Jue(a,l,c)+ede[d]+rl[d]|0,m=(_s(r,2)^_s(r,13)^_s(r,22))+Zue(r,i,o)|0;u=c,c=l,l=a,a=s+h|0,s=o,o=i,i=r,r=h+m|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,l,c,u)}roundClean(){rl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const s9=y5(()=>new tde),cg=BigInt(2**32-1),d_=BigInt(32);function a9(t,e=!1){return e?{h:Number(t&cg),l:Number(t>>d_&cg)}:{h:Number(t>>d_&cg)|0,l:Number(t&cg)|0}}function l9(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:s}=a9(t[i],e);[n[i],r[i]]=[o,s]}return[n,r]}const nde=(t,e)=>BigInt(t>>>0)<<d_|BigInt(e>>>0),rde=(t,e,n)=>t>>>n,ide=(t,e,n)=>t<<32-n|e>>>n,ode=(t,e,n)=>t>>>n|e<<32-n,sde=(t,e,n)=>t<<32-n|e>>>n,ade=(t,e,n)=>t<<64-n|e>>>n-32,lde=(t,e,n)=>t>>>n-32|e<<64-n,cde=(t,e)=>e,ude=(t,e)=>t,c9=(t,e,n)=>t<<n|e>>>32-n,u9=(t,e,n)=>e<<n|t>>>32-n,d9=(t,e,n)=>e<<n-32|t>>>64-n,f9=(t,e,n)=>t<<n-32|e>>>64-n;function dde(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const fde=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),hde=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,pde=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),mde=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,gde=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),yde=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,Lt={fromBig:a9,split:l9,toBig:nde,shrSH:rde,shrSL:ide,rotrSH:ode,rotrSL:sde,rotrBH:ade,rotrBL:lde,rotr32H:cde,rotr32L:ude,rotlSH:c9,rotlSL:u9,rotlBH:d9,rotlBL:f9,add:dde,add3L:fde,add3H:hde,add4L:pde,add4H:mde,add5H:yde,add5L:gde},[vde,wde]=Lt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),il=new Uint32Array(80),ol=new Uint32Array(80);class bde extends o9{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:f,Gh:h,Gl:g,Hh:m,Hl:y}=this;return[e,n,r,i,o,s,a,l,c,u,d,f,h,g,m,y]}set(e,n,r,i,o,s,a,l,c,u,d,f,h,g,m,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=g|0,this.Hh=m|0,this.Hl=y|0}process(e,n){for(let w=0;w<16;w++,n+=4)il[w]=e.getUint32(n),ol[w]=e.getUint32(n+=4);for(let w=16;w<80;w++){const x=il[w-15]|0,T=ol[w-15]|0,k=Lt.rotrSH(x,T,1)^Lt.rotrSH(x,T,8)^Lt.shrSH(x,T,7),A=Lt.rotrSL(x,T,1)^Lt.rotrSL(x,T,8)^Lt.shrSL(x,T,7),z=il[w-2]|0,S=ol[w-2]|0,N=Lt.rotrSH(z,S,19)^Lt.rotrBH(z,S,61)^Lt.shrSH(z,S,6),P=Lt.rotrSL(z,S,19)^Lt.rotrBL(z,S,61)^Lt.shrSL(z,S,6),W=Lt.add4L(A,P,ol[w-7],ol[w-16]),B=Lt.add4H(W,k,N,il[w-7],il[w-16]);il[w]=B|0,ol[w]=W|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:f,Fh:h,Fl:g,Gh:m,Gl:y,Hh:p,Hl:v}=this;for(let w=0;w<80;w++){const x=Lt.rotrSH(d,f,14)^Lt.rotrSH(d,f,18)^Lt.rotrBH(d,f,41),T=Lt.rotrSL(d,f,14)^Lt.rotrSL(d,f,18)^Lt.rotrBL(d,f,41),k=d&h^~d&m,A=f&g^~f&y,z=Lt.add5L(v,T,A,wde[w],ol[w]),S=Lt.add5H(z,p,x,k,vde[w],il[w]),N=z|0,P=Lt.rotrSH(r,i,28)^Lt.rotrBH(r,i,34)^Lt.rotrBH(r,i,39),W=Lt.rotrSL(r,i,28)^Lt.rotrBL(r,i,34)^Lt.rotrBL(r,i,39),B=r&o^r&a^o&a,b=i&s^i&l^s&l;p=m|0,v=y|0,m=h|0,y=g|0,h=d|0,g=f|0,{h:d,l:f}=Lt.add(c|0,u|0,S|0,N|0),c=a|0,u=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const E=Lt.add3L(N,W,b);r=Lt.add3H(E,S,P,B),i=E|0}({h:r,l:i}=Lt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Lt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Lt.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Lt.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:f}=Lt.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:g}=Lt.add(this.Fh|0,this.Fl|0,h|0,g|0),{h:m,l:y}=Lt.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:p,l:v}=Lt.add(this.Hh|0,this.Hl|0,p|0,v|0),this.set(r,i,o,s,a,l,c,u,d,f,h,g,m,y,p,v)}roundClean(){il.fill(0),ol.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const xde=y5(()=>new bde);function Ede(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const LP=Ede();LP.crypto||LP.msCrypto;function Ade(t){switch(t){case"sha256":return s9.create();case"sha512":return xde.create()}pe(!1,"invalid hashing algorithm name","algorithm",t)}const[h9,p9,m9]=[[],[],[]],_de=BigInt(0),Rh=BigInt(1),Sde=BigInt(2),Cde=BigInt(7),Tde=BigInt(256),Mde=BigInt(113);for(let t=0,e=Rh,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],h9.push(2*(5*r+n)),p9.push((t+1)*(t+2)/2%64);let i=_de;for(let o=0;o<7;o++)e=(e<<Rh^(e>>Cde)*Mde)%Tde,e&Sde&&(i^=Rh<<(Rh<<BigInt(o))-Rh);m9.push(i)}const[Ide,Rde]=l9(m9,!0),DP=(t,e,n)=>n>32?d9(t,e,n):c9(t,e,n),UP=(t,e,n)=>n>32?f9(t,e,n):u9(t,e,n);function Pde(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],u=n[l+1],d=DP(c,u,1)^n[a],f=UP(c,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[s+h]^=d,t[s+h+1]^=f}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=p9[s],l=DP(i,o,a),c=UP(i,o,a),u=h9[s];i=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Ide[r],t[1]^=Rde[r]}n.fill(0)}class v5 extends g5{constructor(e,n,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Vv(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=$ue(this.state)}keccak(){Pde(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){wf(this);const{blockLen:n,state:r}=this;e=z1(e);const i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){wf(this,!1),m5(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Vv(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(t9(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new v5(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Nde=(t,e,n)=>y5(()=>new v5(e,t,n)),kde=Nde(1,136,256/8);let g9=!1;const y9=function(t){return kde(t)};let v9=y9;function rr(t){const e=Gt(t,"data");return ct(v9(e))}rr._=y9;rr.lock=function(){g9=!0};rr.register=function(t){if(g9)throw new TypeError("keccak256 is locked");v9=t};Object.freeze(rr);const w9=function(t){return Ade("sha256").update(t).digest()};let b9=w9,x9=!1;function nh(t){const e=Gt(t,"data");return ct(b9(e))}nh._=w9;nh.lock=function(){x9=!0};nh.register=function(t){if(x9)throw new Error("sha256 is locked");b9=t};Object.freeze(nh);Object.freeze(nh);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const E9=BigInt(0),j1=BigInt(1),Fde=BigInt(2),G1=t=>t instanceof Uint8Array,Ode=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bf(t){if(!G1(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=Ode[t[n]];return e}function A9(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function w5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function xf(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function Xc(t){return w5(bf(t))}function b5(t){if(!G1(t))throw new Error("Uint8Array expected");return w5(bf(Uint8Array.from(t).reverse()))}function Ef(t,e){return xf(t.toString(16).padStart(e*2,"0"))}function x5(t,e){return Ef(t,e).reverse()}function Bde(t){return xf(A9(t))}function Qo(t,e,n){let r;if(typeof e=="string")try{r=xf(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(G1(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function xm(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!G1(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function Lde(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Dde(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ude(t){let e;for(e=0;t>E9;t>>=j1,e+=1);return e}function zde(t,e){return t>>BigInt(e)&j1}const jde=(t,e,n)=>t|(n?j1:E9)<<BigInt(e),E5=t=>(Fde<<BigInt(t-1))-j1,Dx=t=>new Uint8Array(t),zP=t=>Uint8Array.from(t);function _9(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Dx(t),i=Dx(t),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...d)=>n(i,r,...d),l=(d=Dx())=>{i=a(zP([0]),d),r=a(),d.length!==0&&(i=a(zP([1]),d),r=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){r=a();const h=r.slice();f.push(h),d+=r.length}return xm(...f)};return(d,f)=>{s(),l(d);let h;for(;!(h=f(c()));)l();return s(),h}}const Gde={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function u0(t,e,n={}){const r=(i,o,s)=>{const a=Gde[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=t[i];if(!(s&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const Hde=Object.freeze(Object.defineProperty({__proto__:null,bitGet:zde,bitLen:Ude,bitMask:E5,bitSet:jde,bytesToHex:bf,bytesToNumberBE:Xc,bytesToNumberLE:b5,concatBytes:xm,createHmacDrbg:_9,ensureBytes:Qo,equalBytes:Lde,hexToBytes:xf,hexToNumber:w5,numberToBytesBE:Ef,numberToBytesLE:x5,numberToHexUnpadded:A9,numberToVarBytesBE:Bde,utf8ToBytes:Dde,validateObject:u0},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cr=BigInt(0),Qn=BigInt(1),xc=BigInt(2),Wde=BigInt(3),f_=BigInt(4),jP=BigInt(5),GP=BigInt(8);BigInt(9);BigInt(16);function Ai(t,e){const n=t%e;return n>=Cr?n:e+n}function Vde(t,e,n){if(n<=Cr||e<Cr)throw new Error("Expected power/modulo > 0");if(n===Qn)return Cr;let r=Qn;for(;e>Cr;)e&Qn&&(r=r*t%n),t=t*t%n,e>>=Qn;return r}function vo(t,e,n){let r=t;for(;e-- >Cr;)r*=r,r%=n;return r}function h_(t,e){if(t===Cr||e<=Cr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Ai(t,e),r=e,i=Cr,o=Qn;for(;n!==Cr;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==Qn)throw new Error("invert: does not exist");return Ai(i,e)}function $de(t){const e=(t-Qn)/xc;let n,r,i;for(n=t-Qn,r=0;n%xc===Cr;n/=xc,r++);for(i=xc;i<t&&Vde(i,e,t)!==t-Qn;i++);if(r===1){const s=(t+Qn)/f_;return function(l,c){const u=l.pow(c,s);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const o=(n+Qn)/xc;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),d=a.pow(l,o),f=a.pow(l,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let m=a.sqr(f);h<c&&!a.eql(m,a.ONE);h++)m=a.sqr(m);const g=a.pow(u,Qn<<BigInt(c-h-1));u=a.sqr(g),d=a.mul(d,g),f=a.mul(f,u),c=h}return d}}function qde(t){if(t%f_===Wde){const e=(t+Qn)/f_;return function(r,i){const o=r.pow(i,e);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%GP===jP){const e=(t-jP)/GP;return function(r,i){const o=r.mul(i,xc),s=r.pow(o,e),a=r.mul(i,s),l=r.mul(r.mul(a,xc),s),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return $de(t)}const Kde=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Qde(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Kde.reduce((r,i)=>(r[i]="function",r),e);return u0(t,n)}function Xde(t,e,n){if(n<Cr)throw new Error("Expected power > 0");if(n===Cr)return t.ONE;if(n===Qn)return e;let r=t.ONE,i=e;for(;n>Cr;)n&Qn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Qn;return r}function Yde(t,e){const n=new Array(e.length),r=e.reduce((o,s,a)=>t.is0(s)?o:(n[a]=o,t.mul(o,s)),t.ONE),i=t.inv(r);return e.reduceRight((o,s,a)=>t.is0(s)?o:(n[a]=t.mul(o,n[a]),t.mul(o,s)),i),n}function S9(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Jde(t,e,n=!1,r={}){if(t<=Cr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=S9(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=qde(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:E5(i),ZERO:Cr,ONE:Qn,create:l=>Ai(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Cr<=l&&l<t},is0:l=>l===Cr,isOdd:l=>(l&Qn)===Qn,neg:l=>Ai(-l,t),eql:(l,c)=>l===c,sqr:l=>Ai(l*l,t),add:(l,c)=>Ai(l+c,t),sub:(l,c)=>Ai(l-c,t),mul:(l,c)=>Ai(l*c,t),pow:(l,c)=>Xde(a,l,c),div:(l,c)=>Ai(l*h_(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>h_(l,t),sqrt:r.sqrt||(l=>s(a,l)),invertBatch:l=>Yde(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?x5(l,o):Ef(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?b5(l):Xc(l)}});return Object.freeze(a)}function C9(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function T9(t){const e=C9(t);return e+Math.ceil(e/2)}function Zde(t,e,n=!1){const r=t.length,i=C9(e),o=T9(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=n?Xc(t):b5(t),a=Ai(s,e-Qn)+Qn;return n?x5(a,i):Ef(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const efe=BigInt(0),Ux=BigInt(1);function tfe(t,e){const n=(i,o)=>{const s=o.negate();return i?s:o},r=i=>{const o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:n,unsafeLadder(i,o){let s=t.ZERO,a=i;for(;o>efe;)o&Ux&&(s=s.add(a)),a=a.double(),o>>=Ux;return s},precomputeWindow(i,o){const{windows:s,windowSize:a}=r(o),l=[];let c=i,u=c;for(let d=0;d<s;d++){u=c,l.push(u);for(let f=1;f<a;f++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,o,s){const{windows:a,windowSize:l}=r(i);let c=t.ZERO,u=t.BASE;const d=BigInt(2**i-1),f=2**i,h=BigInt(i);for(let g=0;g<a;g++){const m=g*l;let y=Number(s&d);s>>=h,y>l&&(y-=f,s+=Ux);const p=m,v=m+Math.abs(y)-1,w=g%2!==0,x=y<0;y===0?u=u.add(n(w,o[p])):c=c.add(n(x,o[v]))}return{p:c,f:u}},wNAFCached(i,o,s,a){const l=i._WINDOW_SIZE||1;let c=o.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&o.set(i,a(c))),this.wNAF(l,c,s)}}}function M9(t){return Qde(t.Fp),u0(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...S9(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function nfe(t){const e=M9(t);u0(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:rfe,hexToBytes:ife}=Hde,Dc={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Dc;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:rfe(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Dc,n=typeof t=="string"?ife(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=Dc._parseInt(n.subarray(2)),{d:s,l:a}=Dc._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),o=r.length/2,s=i.length/2,a=n(o),l=n(s);return`30${n(s+o+4)}02${l}${i}02${a}${r}`}},va=BigInt(0),Eo=BigInt(1);BigInt(2);const HP=BigInt(3);BigInt(4);function ofe(t){const e=nfe(t),{Fp:n}=e,r=e.toBytes||((g,m,y)=>{const p=m.toAffine();return xm(Uint8Array.from([4]),n.toBytes(p.x),n.toBytes(p.y))}),i=e.fromBytes||(g=>{const m=g.subarray(1),y=n.fromBytes(m.subarray(0,n.BYTES)),p=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:y,y:p}});function o(g){const{a:m,b:y}=e,p=n.sqr(g),v=n.mul(p,g);return n.add(n.add(v,n.mul(g,m)),y)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(g){return typeof g=="bigint"&&va<g&&g<e.n}function a(g){if(!s(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(g){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:p,n:v}=e;if(m&&typeof g!="bigint"){if(g instanceof Uint8Array&&(g=bf(g)),typeof g!="string"||!m.includes(g.length))throw new Error("Invalid key");g=g.padStart(y*2,"0")}let w;try{w=typeof g=="bigint"?g:Xc(Qo("private key",g,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof g}`)}return p&&(w=Ai(w,v)),a(w),w}const c=new Map;function u(g){if(!(g instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(m,y,p){if(this.px=m,this.py=y,this.pz=p,m==null||!n.isValid(m))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(p==null||!n.isValid(p))throw new Error("z required")}static fromAffine(m){const{x:y,y:p}=m||{};if(!m||!n.isValid(y)||!n.isValid(p))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");const v=w=>n.eql(w,n.ZERO);return v(y)&&v(p)?d.ZERO:new d(y,p,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=n.invertBatch(m.map(p=>p.pz));return m.map((p,v)=>p.toAffine(y[v])).map(d.fromAffine)}static fromHex(m){const y=d.fromAffine(i(Qo("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return d.BASE.multiply(l(m))}_setWindowSize(m){this._WINDOW_SIZE=m,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=this.toAffine();if(!n.isValid(m)||!n.isValid(y))throw new Error("bad point: x or y not FE");const p=n.sqr(y),v=o(m);if(!n.eql(p,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){u(m);const{px:y,py:p,pz:v}=this,{px:w,py:x,pz:T}=m,k=n.eql(n.mul(y,T),n.mul(w,v)),A=n.eql(n.mul(p,T),n.mul(x,v));return k&&A}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:y}=e,p=n.mul(y,HP),{px:v,py:w,pz:x}=this;let T=n.ZERO,k=n.ZERO,A=n.ZERO,z=n.mul(v,v),S=n.mul(w,w),N=n.mul(x,x),P=n.mul(v,w);return P=n.add(P,P),A=n.mul(v,x),A=n.add(A,A),T=n.mul(m,A),k=n.mul(p,N),k=n.add(T,k),T=n.sub(S,k),k=n.add(S,k),k=n.mul(T,k),T=n.mul(P,T),A=n.mul(p,A),N=n.mul(m,N),P=n.sub(z,N),P=n.mul(m,P),P=n.add(P,A),A=n.add(z,z),z=n.add(A,z),z=n.add(z,N),z=n.mul(z,P),k=n.add(k,z),N=n.mul(w,x),N=n.add(N,N),z=n.mul(N,P),T=n.sub(T,z),A=n.mul(N,S),A=n.add(A,A),A=n.add(A,A),new d(T,k,A)}add(m){u(m);const{px:y,py:p,pz:v}=this,{px:w,py:x,pz:T}=m;let k=n.ZERO,A=n.ZERO,z=n.ZERO;const S=e.a,N=n.mul(e.b,HP);let P=n.mul(y,w),W=n.mul(p,x),B=n.mul(v,T),b=n.add(y,p),E=n.add(w,x);b=n.mul(b,E),E=n.add(P,W),b=n.sub(b,E),E=n.add(y,v);let I=n.add(w,T);return E=n.mul(E,I),I=n.add(P,B),E=n.sub(E,I),I=n.add(p,v),k=n.add(x,T),I=n.mul(I,k),k=n.add(W,B),I=n.sub(I,k),z=n.mul(S,E),k=n.mul(N,B),z=n.add(k,z),k=n.sub(W,z),z=n.add(W,z),A=n.mul(k,z),W=n.add(P,P),W=n.add(W,P),B=n.mul(S,B),E=n.mul(N,E),W=n.add(W,B),B=n.sub(P,B),B=n.mul(S,B),E=n.add(E,B),P=n.mul(W,E),A=n.add(A,P),P=n.mul(I,E),k=n.mul(b,k),k=n.sub(k,P),P=n.mul(b,W),z=n.mul(I,z),z=n.add(z,P),new d(k,A,z)}subtract(m){return this.add(m.negate())}is0(){return this.equals(d.ZERO)}wNAF(m){return h.wNAFCached(this,c,m,y=>{const p=n.invertBatch(y.map(v=>v.pz));return y.map((v,w)=>v.toAffine(p[w])).map(d.fromAffine)})}multiplyUnsafe(m){const y=d.ZERO;if(m===va)return y;if(a(m),m===Eo)return this;const{endo:p}=e;if(!p)return h.unsafeLadder(this,m);let{k1neg:v,k1:w,k2neg:x,k2:T}=p.splitScalar(m),k=y,A=y,z=this;for(;w>va||T>va;)w&Eo&&(k=k.add(z)),T&Eo&&(A=A.add(z)),z=z.double(),w>>=Eo,T>>=Eo;return v&&(k=k.negate()),x&&(A=A.negate()),A=new d(n.mul(A.px,p.beta),A.py,A.pz),k.add(A)}multiply(m){a(m);let y=m,p,v;const{endo:w}=e;if(w){const{k1neg:x,k1:T,k2neg:k,k2:A}=w.splitScalar(y);let{p:z,f:S}=this.wNAF(T),{p:N,f:P}=this.wNAF(A);z=h.constTimeNegate(x,z),N=h.constTimeNegate(k,N),N=new d(n.mul(N.px,w.beta),N.py,N.pz),p=z.add(N),v=S.add(P)}else{const{p:x,f:T}=this.wNAF(y);p=x,v=T}return d.normalizeZ([p,v])[0]}multiplyAndAddUnsafe(m,y,p){const v=d.BASE,w=(T,k)=>k===va||k===Eo||!T.equals(v)?T.multiplyUnsafe(k):T.multiply(k),x=w(this,y).add(w(m,p));return x.is0()?void 0:x}toAffine(m){const{px:y,py:p,pz:v}=this,w=this.is0();m==null&&(m=w?n.ONE:n.inv(v));const x=n.mul(y,m),T=n.mul(p,m),k=n.mul(v,m);if(w)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x,y:T}}isTorsionFree(){const{h:m,isTorsionFree:y}=e;if(m===Eo)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=e;return m===Eo?this:y?y(d,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),r(d,this,m)}toHex(m=!0){return bf(this.toRawBytes(m))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,h=tfe(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function sfe(t){const e=M9(t);return u0(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function afe(t){const e=sfe(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function s(E){return va<E&&E<n.ORDER}function a(E){return Ai(E,r)}function l(E){return h_(E,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=ofe({...e,toBytes(E,I,O){const C=I.toAffine(),j=n.toBytes(C.x),H=xm;return O?H(Uint8Array.from([I.hasEvenY()?2:3]),j):H(Uint8Array.from([4]),j,n.toBytes(C.y))},fromBytes(E){const I=E.length,O=E[0],C=E.subarray(1);if(I===i&&(O===2||O===3)){const j=Xc(C);if(!s(j))throw new Error("Point is not on curve");const H=d(j);let D=n.sqrt(H);const M=(D&Eo)===Eo;return(O&1)===1!==M&&(D=n.neg(D)),{x:j,y:D}}else if(I===o&&O===4){const j=n.fromBytes(C.subarray(0,n.BYTES)),H=n.fromBytes(C.subarray(n.BYTES,2*n.BYTES));return{x:j,y:H}}else throw new Error(`Point of length ${I} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),h=E=>bf(Ef(E,e.nByteLength));function g(E){const I=r>>Eo;return E>I}function m(E){return g(E)?a(-E):E}const y=(E,I,O)=>Xc(E.slice(I,O));class p{constructor(I,O,C){this.r=I,this.s=O,this.recovery=C,this.assertValidity()}static fromCompact(I){const O=e.nByteLength;return I=Qo("compactSignature",I,O*2),new p(y(I,0,O),y(I,O,2*O))}static fromDER(I){const{r:O,s:C}=Dc.toSig(Qo("DER",I));return new p(O,C)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(I){return new p(this.r,this.s,I)}recoverPublicKey(I){const{r:O,s:C,recovery:j}=this,H=A(Qo("msgHash",I));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const D=j===2||j===3?O+e.n:O;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=j&1?"03":"02",$=c.fromHex(M+h(D)),J=l(D),Z=a(-H*J),ce=a(C*J),oe=c.BASE.multiplyAndAddUnsafe($,Z,ce);if(!oe)throw new Error("point at infinify");return oe.assertValidity(),oe}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return xf(this.toDERHex())}toDERHex(){return Dc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return xf(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const v={isValidPrivateKey(E){try{return u(E),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const E=T9(e.n);return Zde(e.randomBytes(E),e.n)},precompute(E=8,I=c.BASE){return I._setWindowSize(E),I.multiply(BigInt(3)),I}};function w(E,I=!0){return c.fromPrivateKey(E).toRawBytes(I)}function x(E){const I=E instanceof Uint8Array,O=typeof E=="string",C=(I||O)&&E.length;return I?C===i||C===o:O?C===2*i||C===2*o:E instanceof c}function T(E,I,O=!0){if(x(E))throw new Error("first arg must be private key");if(!x(I))throw new Error("second arg must be public key");return c.fromHex(I).multiply(u(E)).toRawBytes(O)}const k=e.bits2int||function(E){const I=Xc(E),O=E.length*8-e.nBitLength;return O>0?I>>BigInt(O):I},A=e.bits2int_modN||function(E){return a(k(E))},z=E5(e.nBitLength);function S(E){if(typeof E!="bigint")throw new Error("bigint expected");if(!(va<=E&&E<z))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ef(E,e.nByteLength)}function N(E,I,O=P){if(["recovered","canonical"].some(de=>de in O))throw new Error("sign() legacy options not supported");const{hash:C,randomBytes:j}=e;let{lowS:H,prehash:D,extraEntropy:M}=O;H==null&&(H=!0),E=Qo("msgHash",E),D&&(E=Qo("prehashed msgHash",C(E)));const $=A(E),J=u(I),Z=[S(J),S($)];if(M!=null){const de=M===!0?j(n.BYTES):M;Z.push(Qo("extraEntropy",de))}const ce=xm(...Z),oe=$;function Ae(de){const Re=k(de);if(!f(Re))return;const ae=l(Re),we=c.BASE.multiply(Re).toAffine(),Ve=a(we.x);if(Ve===va)return;const te=a(ae*a(oe+Ve*J));if(te===va)return;let Be=(we.x===Ve?0:2)|Number(we.y&Eo),ft=te;return H&&g(te)&&(ft=m(te),Be^=1),new p(Ve,ft,Be)}return{seed:ce,k2sig:Ae}}const P={lowS:e.lowS,prehash:!1},W={lowS:e.lowS,prehash:!1};function B(E,I,O=P){const{seed:C,k2sig:j}=N(E,I,O),H=e;return _9(H.hash.outputLen,H.nByteLength,H.hmac)(C,j)}c.BASE._setWindowSize(8);function b(E,I,O,C=W){const j=E;if(I=Qo("msgHash",I),O=Qo("publicKey",O),"strict"in C)throw new Error("options.strict was renamed to lowS");const{lowS:H,prehash:D}=C;let M,$;try{if(typeof j=="string"||j instanceof Uint8Array)try{M=p.fromDER(j)}catch(we){if(!(we instanceof Dc.Err))throw we;M=p.fromCompact(j)}else if(typeof j=="object"&&typeof j.r=="bigint"&&typeof j.s=="bigint"){const{r:we,s:Ve}=j;M=new p(we,Ve)}else throw new Error("PARSE");$=c.fromHex(O)}catch(we){if(we.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(H&&M.hasHighS())return!1;D&&(I=e.hash(I));const{r:J,s:Z}=M,ce=A(I),oe=l(Z),Ae=a(ce*oe),de=a(J*oe),Re=c.BASE.multiplyAndAddUnsafe($,Ae,de)?.toAffine();return Re?a(Re.x)===J:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:T,sign:B,verify:b,ProjectivePoint:c,Signature:p,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lfe(t){return{hash:t,hmac:(e,...n)=>i9(t,e,Que(...n)),randomBytes:Xue}}function cfe(t,e){const n=r=>afe({...t,...lfe(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const I9=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),WP=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ufe=BigInt(1),p_=BigInt(2),VP=(t,e)=>(t+e/p_)/e;function dfe(t){const e=I9,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,d=vo(u,n,e)*u%e,f=vo(d,n,e)*u%e,h=vo(f,p_,e)*c%e,g=vo(h,i,e)*h%e,m=vo(g,o,e)*g%e,y=vo(m,a,e)*m%e,p=vo(y,l,e)*y%e,v=vo(p,a,e)*m%e,w=vo(v,n,e)*u%e,x=vo(w,s,e)*g%e,T=vo(x,r,e)*c%e,k=vo(T,p_,e);if(!m_.eql(m_.sqr(k),t))throw new Error("Cannot find square root");return k}const m_=Jde(I9,void 0,void 0,{sqrt:dfe}),hl=cfe({a:BigInt(0),b:BigInt(7),Fp:m_,n:WP,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=WP,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ufe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=VP(o*t,e),l=VP(-r*t,e);let c=Ai(t-a*n-l*i,e),u=Ai(-a*r-l*o,e);const d=c>s,f=u>s;if(d&&(c=e-c),f&&(u=e-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:f,k2:u}}}},s9);BigInt(0);hl.ProjectivePoint;const Em="0x0000000000000000000000000000000000000000",$P="0x0000000000000000000000000000000000000000000000000000000000000000",qP=BigInt(0),KP=BigInt(1),QP=BigInt(2),XP=BigInt(27),YP=BigInt(28),ug=BigInt(35),Ku={};function JP(t){return za(hr(t),32)}class zn{#e;#t;#n;#r;get r(){return this.#e}set r(e){pe(Vd(e)===32,"invalid r","value",e),this.#e=ct(e)}get s(){return this.#t}set s(e){pe(Vd(e)===32,"invalid s","value",e);const n=ct(e);pe(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),this.#t=n}get v(){return this.#n}set v(e){const n=Ht(e,"value");pe(n===27||n===28,"invalid v","v",e),this.#n=n}get networkV(){return this.#r}get legacyChainId(){const e=this.networkV;return e==null?null:zn.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Gt(this.s);return this.yParity&&(e[0]|=128),ct(e)}get compactSerialized(){return Hn([this.r,this.yParityAndS])}get serialized(){return Hn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,n,r,i){L1(e,Ku,"Signature"),this.#e=n,this.#t=r,this.#n=i,this.#r=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new zn(Ku,this.r,this.s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=At(e,"v");return n==XP||n==YP?qP:(pe(n>=ug,"invalid EIP-155 v","v",e),(n-ug)/QP)}static getChainIdV(e,n){return At(e)*QP+BigInt(35+n-27)}static getNormalizedV(e){const n=At(e);return n===qP||n===XP?27:n===KP||n===YP?28:(pe(n>=ug,"invalid v","v",e),n&KP?27:28)}static from(e){function n(c,u){pe(c,u,"signature",e)}if(e==null)return new zn(Ku,$P,$P,27);if(typeof e=="string"){const c=Gt(e,"signature");if(c.length===64){const u=ct(c.slice(0,32)),d=c.slice(32,64),f=d[0]&128?28:27;return d[0]&=127,new zn(Ku,u,ct(d),f)}if(c.length===65){const u=ct(c.slice(0,32)),d=c.slice(32,64);n((d[0]&128)===0,"non-canonical s");const f=zn.getNormalizedV(c[64]);return new zn(Ku,u,ct(d),f)}n(!1,"invalid raw signature length")}if(e instanceof zn)return e.clone();const r=e.r;n(r!=null,"missing r");const i=JP(r),o=function(c,u){if(c!=null)return JP(c);if(u!=null){n(bn(u,32),"invalid yParityAndS");const d=Gt(u);return d[0]&=127,ct(d)}n(!1,"missing s")}(e.s,e.yParityAndS);n((Gt(o)[0]&128)==0,"non-canonical s");const{networkV:s,v:a}=function(c,u,d){if(c!=null){const f=At(c);return{networkV:f>=ug?f:void 0,v:zn.getNormalizedV(f)}}if(u!=null)return n(bn(u,32),"invalid yParityAndS"),{v:Gt(u)[0]&128?28:27};if(d!=null){switch(Ht(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new zn(Ku,i,o,a);return s&&(l.#r=s),n(e.yParity==null||Ht(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}}class wa{#e;constructor(e){pe(Vd(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=ct(e)}get privateKey(){return this.#e}get publicKey(){return wa.computePublicKey(this.#e)}get compressedPublicKey(){return wa.computePublicKey(this.#e,!0)}sign(e){pe(Vd(e)===32,"invalid digest length","digest",e);const n=hl.sign(li(e),li(this.#e),{lowS:!0});return zn.from({r:$l(n.r,32),s:$l(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=wa.computePublicKey(e);return ct(hl.getSharedSecret(li(this.#e),Gt(n),!1))}static computePublicKey(e,n){let r=Gt(e,"key");if(r.length===32){const o=hl.getPublicKey(r,!!n);return ct(o)}if(r.length===64){const o=new Uint8Array(65);o[0]=4,o.set(r,1),r=o}const i=hl.ProjectivePoint.fromHex(r);return ct(i.toRawBytes(n))}static recoverPublicKey(e,n){pe(Vd(e)===32,"invalid digest length","digest",e);const r=zn.from(n);let i=hl.Signature.fromCompact(li(Hn([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const o=i.recoverPublicKey(li(e));return pe(o!=null,"invalid signature for digest","signature",n),"0x"+o.toHex(!1)}static addPoints(e,n,r){const i=hl.ProjectivePoint.fromHex(wa.computePublicKey(e).substring(2)),o=hl.ProjectivePoint.fromHex(wa.computePublicKey(n).substring(2));return"0x"+i.add(o).toHex(!!r)}}const ffe=BigInt(0),hfe=BigInt(36);function ZP(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=Gt(rr(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const A5={};for(let t=0;t<10;t++)A5[String(t)]=String(t);for(let t=0;t<26;t++)A5[String.fromCharCode(65+t)]=String(10+t);const e6=15;function pfe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>A5[r]).join("");for(;e.length>=e6;){let r=e.substring(0,e6);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const mfe=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function gfe(t){t=t.toLowerCase();let e=ffe;for(let n=0;n<t.length;n++)e=e*hfe+mfe[t[n]];return e}function cn(t){if(pe(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=ZP(t);return pe(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){pe(t.substring(2,4)===pfe(t),"bad icap checksum","address",t);let e=gfe(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return ZP("0x"+e)}pe(!1,"invalid address","address",t)}function yfe(t){const e=cn(t.from);let r=At(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,cn(Dn(rr(ql([e,r])),12))}function R9(t){return t&&typeof t.getAddress=="function"}async function zx(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(je(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),pe(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),cn(n)}function ui(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?cn(t):(je(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),zx(t,e.resolveName(t)));if(R9(t))return zx(t,t.getAddress());if(t&&typeof t.then=="function")return zx(t,t);pe(!1,"unsupported addressable value","target",t)}const ha={};function bt(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new jn(ha,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function en(t,e){return new jn(ha,`bytes${e||""}`,t,{size:e})}const t6=Symbol.for("_ethers_typed");class jn{type;value;#e;_typedSymbol;constructor(e,n,r,i){i==null&&(i=null),L1(ha,e,"Typed"),Nt(this,{_typedSymbol:t6,type:n,value:r}),this.#e=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,n){return new jn(ha,e,n)}static uint8(e){return bt(e,8)}static uint16(e){return bt(e,16)}static uint24(e){return bt(e,24)}static uint32(e){return bt(e,32)}static uint40(e){return bt(e,40)}static uint48(e){return bt(e,48)}static uint56(e){return bt(e,56)}static uint64(e){return bt(e,64)}static uint72(e){return bt(e,72)}static uint80(e){return bt(e,80)}static uint88(e){return bt(e,88)}static uint96(e){return bt(e,96)}static uint104(e){return bt(e,104)}static uint112(e){return bt(e,112)}static uint120(e){return bt(e,120)}static uint128(e){return bt(e,128)}static uint136(e){return bt(e,136)}static uint144(e){return bt(e,144)}static uint152(e){return bt(e,152)}static uint160(e){return bt(e,160)}static uint168(e){return bt(e,168)}static uint176(e){return bt(e,176)}static uint184(e){return bt(e,184)}static uint192(e){return bt(e,192)}static uint200(e){return bt(e,200)}static uint208(e){return bt(e,208)}static uint216(e){return bt(e,216)}static uint224(e){return bt(e,224)}static uint232(e){return bt(e,232)}static uint240(e){return bt(e,240)}static uint248(e){return bt(e,248)}static uint256(e){return bt(e,256)}static uint(e){return bt(e,256)}static int8(e){return bt(e,-8)}static int16(e){return bt(e,-16)}static int24(e){return bt(e,-24)}static int32(e){return bt(e,-32)}static int40(e){return bt(e,-40)}static int48(e){return bt(e,-48)}static int56(e){return bt(e,-56)}static int64(e){return bt(e,-64)}static int72(e){return bt(e,-72)}static int80(e){return bt(e,-80)}static int88(e){return bt(e,-88)}static int96(e){return bt(e,-96)}static int104(e){return bt(e,-104)}static int112(e){return bt(e,-112)}static int120(e){return bt(e,-120)}static int128(e){return bt(e,-128)}static int136(e){return bt(e,-136)}static int144(e){return bt(e,-144)}static int152(e){return bt(e,-152)}static int160(e){return bt(e,-160)}static int168(e){return bt(e,-168)}static int176(e){return bt(e,-176)}static int184(e){return bt(e,-184)}static int192(e){return bt(e,-192)}static int200(e){return bt(e,-200)}static int208(e){return bt(e,-208)}static int216(e){return bt(e,-216)}static int224(e){return bt(e,-224)}static int232(e){return bt(e,-232)}static int240(e){return bt(e,-240)}static int248(e){return bt(e,-248)}static int256(e){return bt(e,-256)}static int(e){return bt(e,-256)}static bytes1(e){return en(e,1)}static bytes2(e){return en(e,2)}static bytes3(e){return en(e,3)}static bytes4(e){return en(e,4)}static bytes5(e){return en(e,5)}static bytes6(e){return en(e,6)}static bytes7(e){return en(e,7)}static bytes8(e){return en(e,8)}static bytes9(e){return en(e,9)}static bytes10(e){return en(e,10)}static bytes11(e){return en(e,11)}static bytes12(e){return en(e,12)}static bytes13(e){return en(e,13)}static bytes14(e){return en(e,14)}static bytes15(e){return en(e,15)}static bytes16(e){return en(e,16)}static bytes17(e){return en(e,17)}static bytes18(e){return en(e,18)}static bytes19(e){return en(e,19)}static bytes20(e){return en(e,20)}static bytes21(e){return en(e,21)}static bytes22(e){return en(e,22)}static bytes23(e){return en(e,23)}static bytes24(e){return en(e,24)}static bytes25(e){return en(e,25)}static bytes26(e){return en(e,26)}static bytes27(e){return en(e,27)}static bytes28(e){return en(e,28)}static bytes29(e){return en(e,29)}static bytes30(e){return en(e,30)}static bytes31(e){return en(e,31)}static bytes32(e){return en(e,32)}static address(e){return new jn(ha,"address",e)}static bool(e){return new jn(ha,"bool",!!e)}static bytes(e){return new jn(ha,"bytes",e)}static string(e){return new jn(ha,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new jn(ha,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===t6}static dereference(e,n){if(jn.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}}class vfe extends Ka{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=jn.dereference(n,"string");try{r=cn(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return cn($l(e.readValue(),20))}}class wfe extends Ka{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}function P9(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(c=>{const u=c.localName;return je(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),je(!l[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),l[u]=!0,n[u]})}else pe(!1,"invalid tuple value","tuple",n);pe(e.length===r.length,"types/value length mismatch","tuple",n);let i=new u_,o=new u_,s=[];e.forEach((l,c)=>{let u=r[c];if(l.dynamic){let d=o.length;l.encode(o,u);let f=i.writeUpdatableValue();s.push(h=>{f(h+d)})}else l.encode(i,u)}),s.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function N9(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(o=>{let s=null;if(o.dynamic){let a=t.readIndex(),l=i.subReader(a);try{s=o.decode(l)}catch(c){if(Lr(c,"BUFFER_OVERRUN"))throw c;s=c,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(t)}catch(a){if(Lr(a,"BUFFER_OVERRUN"))throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}if(s==null)throw new Error("investigate");n.push(s),r.push(o.localName||null)}),_a.fromItems(n,r)}class bfe extends Ka{coder;length;constructor(e,n,r){const i=e.type+"["+(n>=0?n:"")+"]",o=n===-1||e.dynamic;super("array",i,r,o),Nt(this,{coder:e,length:n})}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){const r=jn.dereference(n,"array");Array.isArray(r)||this._throwError("expected array value",r);let i=this.length;i===-1&&(i=r.length,e.writeValue(r.length)),G7(r.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let s=0;s<r.length;s++)o.push(this.coder);return P9(e,o,r)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),je(n*ci<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*ci,length:e.dataLength}));let r=[];for(let i=0;i<n;i++)r.push(new wfe(this.coder));return N9(e,r)}}class xfe extends Ka{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=jn.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class k9 extends Ka{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=li(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class Efe extends k9{constructor(e){super("bytes",e)}decode(e){return ct(super.decode(e))}}class Afe extends Ka{size;constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),Nt(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=li(jn.dereference(n,this.type));return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return ct(e.readBytes(this.size))}}const _fe=new Uint8Array([]);class Sfe extends Ka{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(_fe)}decode(e){return e.readBytes(0),null}}const Cfe=BigInt(0),Tfe=BigInt(1),Mfe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Ife extends Ka{size;signed;constructor(e,n,r){const i=(n?"int":"uint")+e*8;super(i,i,r,!1),Nt(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let r=At(jn.dereference(n,this.type)),i=Qh(Mfe,ci*8);if(this.signed){let o=Qh(i,this.size*8-1);(r>o||r<-(o+Tfe))&&this._throwError("value out-of-bounds",n),r=V7(r,8*ci)}else(r<Cfe||r>Qh(i,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(r)}decode(e){let n=Qh(e.readValue(),this.size*8);return this.signed&&(n=Cue(n,this.size*8)),n}}class Rfe extends k9{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Ra(jn.dereference(n,"string")))}decode(e){return Wv(super.decode(e))}}class dg extends Ka{coders;constructor(e,n){let r=!1;const i=[];e.forEach(s=>{s.dynamic&&(r=!0),i.push(s.type)});const o="tuple("+i.join(",")+")";super("tuple",o,n,r),Nt(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const n=this.coders.reduce((r,i)=>{const o=i.localName;return o&&(r[o]||(r[o]=0),r[o]++),r},{});return this.coders.forEach((r,i)=>{let o=r.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,n){const r=jn.dereference(n,"tuple");return P9(e,this.coders,r)}decode(e){return N9(e,this.coders)}}function jx(t,e){return{address:cn(t),storageKeys:e.map((n,r)=>(pe(bn(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Du(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(pe(n.length===2,"invalid slot set",`value[${r}]`,n),jx(n[0],n[1])):(pe(n!=null&&typeof n=="object","invalid address-slot set","value",t),jx(n.address,n.storageKeys)));pe(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,o)=>(i[o]=!0,i),{});return jx(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function F9(t){return{address:cn(t.address),nonce:At(t.nonce!=null?t.nonce:0),chainId:At(t.chainId!=null?t.chainId:0),signature:zn.from(t.signature)}}function Pfe(t){let e;return typeof t=="string"?e=wa.computePublicKey(t,!1):e=t.publicKey,cn(rr("0x"+e.substring(4)).substring(26))}function Nfe(t,e){return Pfe(wa.recoverPublicKey(t,e))}const _r=BigInt(0),kfe=BigInt(2),Ffe=BigInt(27),Ofe=BigInt(28),Bfe=BigInt(35),Lfe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Gx=4096*32;function Dfe(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Gt(t.blobToKzgCommitment(ct(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Gt(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Gt(t.blobToKZGCommitment(ct(r)));pe(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Gt(t.computeBlobProof(ct(r),ct(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Gt(t.computeBlobKZGProof(ct(r),ct(i)));pe(!1,"unsupported KZG library","kzg",t)}}}function n6(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=nh(e).substring(4),"0x"+n}function rh(t){return t==="0x"?null:cn(t)}function H1(t,e){try{return Du(t)}catch(n){pe(!1,n.message,e,t)}}function Ufe(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:rh(i[1]),nonce:mn(i[2],"nonce"),chainId:mn(i[0],"chainId"),signature:zn.from({yParity:Uu(i[3],"yParity"),r:za(i[4],32),s:za(i[5],32)})})}return n}catch(n){pe(!1,n.message,e,t)}}function Uu(t,e){return t==="0x"?0:Ht(t,e)}function mn(t,e){if(t==="0x")return _r;const n=At(t,e);return pe(n<=Lfe,"value exceeds uint size",e,n),n}function Yt(t,e){const n=At(t,"value"),r=hr(n);return pe(r.length<=32,"value too large",`tx.${e}`,n),r}function W1(t){return Du(t).map(e=>[e.address,e.storageKeys])}function zfe(t){return t.map(e=>[Yt(e.chainId,"chainId"),e.address,Yt(e.nonce,"nonce"),Yt(e.signature.yParity,"yParity"),hr(e.signature.r),hr(e.signature.s)])}function jfe(t,e){pe(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)pe(bn(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function Gfe(t){const e=c0(t);pe(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Uu(e[0],"nonce"),gasPrice:mn(e[1],"gasPrice"),gasLimit:mn(e[2],"gasLimit"),to:rh(e[3]),value:mn(e[4],"value"),data:ct(e[5]),chainId:_r};if(e.length===6)return n;const r=mn(e[6],"v"),i=mn(e[7],"r"),o=mn(e[8],"s");if(i===_r&&o===_r)n.chainId=r;else{let s=(r-Bfe)/kfe;s<_r&&(s=_r),n.chainId=s,pe(s!==_r||r===Ffe||r===Ofe,"non-canonical legacy v","v",e[6]),n.signature=zn.from({r:za(e[7],32),s:za(e[8],32),v:r})}return n}function Hfe(t,e){const n=[Yt(t.nonce,"nonce"),Yt(t.gasPrice||0,"gasPrice"),Yt(t.gasLimit,"gasLimit"),t.to||"0x",Yt(t.value,"value"),t.data];let r=_r;if(t.chainId!=_r)r=At(t.chainId,"tx.chainId"),pe(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const o=t.signature.legacyChainId;o!=null&&(r=o)}if(!e)return r!==_r&&(n.push(hr(r)),n.push("0x"),n.push("0x")),ql(n);let i=BigInt(27+e.yParity);return r!==_r?i=zn.getChainIdV(r,e.v):BigInt(e.v)!==i&&pe(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(hr(i)),n.push(hr(e.r)),n.push(hr(e.s)),ql(n)}function V1(t,e){let n;try{if(n=Uu(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{pe(!1,"invalid yParity","yParity",e[0])}const r=za(e[1],32),i=za(e[2],32),o=zn.from({r,s:i,yParity:n});t.signature=o}function Wfe(t){const e=c0(Gt(t).slice(1));pe(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ct(t));const n={type:2,chainId:mn(e[0],"chainId"),nonce:Uu(e[1],"nonce"),maxPriorityFeePerGas:mn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:mn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:mn(e[4],"gasLimit"),to:rh(e[5]),value:mn(e[6],"value"),data:ct(e[7]),accessList:H1(e[8],"accessList")};return e.length===9||V1(n,e.slice(9)),n}function Vfe(t,e){const n=[Yt(t.chainId,"chainId"),Yt(t.nonce,"nonce"),Yt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Yt(t.maxFeePerGas||0,"maxFeePerGas"),Yt(t.gasLimit,"gasLimit"),t.to||"0x",Yt(t.value,"value"),t.data,W1(t.accessList||[])];return e&&(n.push(Yt(e.yParity,"yParity")),n.push(hr(e.r)),n.push(hr(e.s))),Hn(["0x02",ql(n)])}function $fe(t){const e=c0(Gt(t).slice(1));pe(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ct(t));const n={type:1,chainId:mn(e[0],"chainId"),nonce:Uu(e[1],"nonce"),gasPrice:mn(e[2],"gasPrice"),gasLimit:mn(e[3],"gasLimit"),to:rh(e[4]),value:mn(e[5],"value"),data:ct(e[6]),accessList:H1(e[7],"accessList")};return e.length===8||V1(n,e.slice(8)),n}function qfe(t,e){const n=[Yt(t.chainId,"chainId"),Yt(t.nonce,"nonce"),Yt(t.gasPrice||0,"gasPrice"),Yt(t.gasLimit,"gasLimit"),t.to||"0x",Yt(t.value,"value"),t.data,W1(t.accessList||[])];return e&&(n.push(Yt(e.yParity,"recoveryParam")),n.push(hr(e.r)),n.push(hr(e.s))),Hn(["0x01",ql(n)])}function Kfe(t){let e=c0(Gt(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const o=e[1],s=e[2],a=e[3];pe(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),pe(Array.isArray(s),"invalid network format: commitments not an array","fields[2]",s),pe(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),pe(o.length===s.length,"invalid network format: blobs/commitments length mismatch","fields",e),pe(o.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let l=0;l<e[1].length;l++)r.push({data:o[l],commitment:s[l],proof:a[l]});e=e[0]}pe(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",ct(t));const i={type:3,chainId:mn(e[0],"chainId"),nonce:Uu(e[1],"nonce"),maxPriorityFeePerGas:mn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:mn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:mn(e[4],"gasLimit"),to:rh(e[5]),value:mn(e[6],"value"),data:ct(e[7]),accessList:H1(e[8],"accessList"),maxFeePerBlobGas:mn(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),pe(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),pe(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let o=0;o<i.blobVersionedHashes.length;o++)pe(bn(i.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",t);return e.length===11||V1(i,e.slice(11)),i}function Qfe(t,e,n){const r=[Yt(t.chainId,"chainId"),Yt(t.nonce,"nonce"),Yt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Yt(t.maxFeePerGas||0,"maxFeePerGas"),Yt(t.gasLimit,"gasLimit"),t.to||Em,Yt(t.value,"value"),t.data,W1(t.accessList||[]),Yt(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),jfe(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(Yt(e.yParity,"yParity")),r.push(hr(e.r)),r.push(hr(e.s)),n)?Hn(["0x03",ql([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):Hn(["0x03",ql(r)])}function Xfe(t){const e=c0(Gt(t).slice(1));pe(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",ct(t));const n={type:4,chainId:mn(e[0],"chainId"),nonce:Uu(e[1],"nonce"),maxPriorityFeePerGas:mn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:mn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:mn(e[4],"gasLimit"),to:rh(e[5]),value:mn(e[6],"value"),data:ct(e[7]),accessList:H1(e[8],"accessList"),authorizationList:Ufe(e[9],"authorizationList")};return e.length===10||V1(n,e.slice(10)),n}function Yfe(t,e){const n=[Yt(t.chainId,"chainId"),Yt(t.nonce,"nonce"),Yt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Yt(t.maxFeePerGas||0,"maxFeePerGas"),Yt(t.gasLimit,"gasLimit"),t.to||"0x",Yt(t.value,"value"),t.data,W1(t.accessList||[]),zfe(t.authorizationList||[])];return e&&(n.push(Yt(e.yParity,"yParity")),n.push(hr(e.r)),n.push(hr(e.s))),Hn(["0x04",ql(n)])}class Xo{#e;#t;#n;#r;#i;#s;#o;#a;#p;#u;#m;#h;#l;#c;#d;#f;#y;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:pe(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#t;return e==null&&this.type===3?Em:e}set to(e){this.#t=e==null?null:cn(e)}get nonce(){return this.#r}set nonce(e){this.#r=Ht(e,"value")}get gasLimit(){return this.#i}set gasLimit(e){this.#i=At(e)}get gasPrice(){const e=this.#s;return e==null&&(this.type===0||this.type===1)?_r:e}set gasPrice(e){this.#s=e==null?null:At(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#o;return e??(this.type===2||this.type===3?_r:null)}set maxPriorityFeePerGas(e){this.#o=e==null?null:At(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#a;return e??(this.type===2||this.type===3?_r:null)}set maxFeePerGas(e){this.#a=e==null?null:At(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=ct(e)}get value(){return this.#p}set value(e){this.#p=At(e,"value")}get chainId(){return this.#u}set chainId(e){this.#u=At(e)}get signature(){return this.#m||null}set signature(e){this.#m=e==null?null:zn.from(e)}get accessList(){const e=this.#h||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#h=e==null?null:Du(e)}get authorizationList(){const e=this.#y||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#y=e==null?null:e.map(n=>F9(n))}get maxFeePerBlobGas(){const e=this.#l;return e==null&&this.type===3?_r:e}set maxFeePerBlobGas(e){this.#l=e==null?null:At(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#c;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){pe(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)pe(bn(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}this.#c=e}get blobs(){return this.#f==null?null:this.#f.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#f=null;return}const n=[],r=[];for(let i=0;i<e.length;i++){const o=e[i];if(f5(o)){je(this.#d,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let s=Gt(o);if(pe(s.length<=Gx,"blob is too large",`blobs[${i}]`,o),s.length!==Gx){const c=new Uint8Array(Gx);c.set(s),s=c}const a=this.#d.blobToKzgCommitment(s),l=ct(this.#d.computeBlobKzgProof(s,a));n.push({data:ct(s),commitment:ct(a),proof:l}),r.push(n6(1,a))}else{const s=ct(o.commitment);n.push({data:ct(o.data),commitment:s,proof:ct(o.proof)}),r.push(n6(1,s))}}this.#f=n,this.#c=r}get kzg(){return this.#d}set kzg(e){e==null?this.#d=null:this.#d=Dfe(e)}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#i=_r,this.#s=null,this.#o=null,this.#a=null,this.#n="0x",this.#p=_r,this.#u=_r,this.#m=null,this.#h=null,this.#l=null,this.#c=null,this.#d=null,this.#f=null,this.#y=null}get hash(){return this.signature==null?null:rr(this.#g(!0,!1))}get unsignedHash(){return rr(this.unsignedSerialized)}get from(){return this.signature==null?null:Nfe(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:wa.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#g(e,n){je(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return Hfe(this,r);case 1:return qfe(this,r);case 2:return Vfe(this,r);case 3:return Qfe(this,r,n?this.blobs:null);case 4:return Yfe(this,r)}je(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#g(!0,!0)}get unsignedSerialized(){return this.#g(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=this.#l!=null||this.#c;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&je(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),je(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),je(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):n?o.push(2):e?(o.push(1),r||o.push(0)):r?(o.push(1),o.push(2)):(i&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Xo.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Xo;if(typeof e=="string"){const r=Gt(e);if(r[0]>=127)return Xo.from(Gfe(r));switch(r[0]){case 1:return Xo.from($fe(r));case 2:return Xo.from(Wfe(r));case 3:return Xo.from(Kfe(r));case 4:return Xo.from(Xfe(r))}je(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Xo;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=zn.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(pe(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),pe(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(pe(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),pe(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}}function vu(t){return rr(Ra(t))}var Jfe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const r6=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),i6=4;function Zfe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,o=[0,1];for(let T=1;T<r;T++)o.push(i+=n());let s=n(),a=e;e+=s;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const d=31,f=2**d,h=f>>>1,g=h>>1,m=f-1;let y=0;for(let T=0;T<d;T++)y=y<<1|u();let p=[],v=0,w=f;for(;;){let T=Math.floor(((y-v+1)*i-1)/w),k=0,A=r;for(;A-k>1;){let N=k+A>>>1;T<o[N]?A=N:k=N}if(k==0)break;p.push(k);let z=v+Math.floor(w*o[k]/i),S=v+Math.floor(w*o[k+1]/i)-1;for(;!((z^S)&h);)y=y<<1&m|u(),z=z<<1&m,S=S<<1&m|1;for(;z&~S&g;)y=y&h|y<<1&m>>>1|u(),z=z<<1^h,S=(S^h)<<1|h|1;v=z,w=1+S-z}let x=r-4;return p.map(T=>{switch(T-x){case 3:return x+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return x+256+(t[a++]<<8|t[a++]);case 1:return x+t[a++];default:return T-1}})}function ehe(t){let e=0;return()=>t[e++]}function O9(t){return ehe(Zfe(the(t)))}function the(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,o=0,s=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],s+=6,s>=8&&(r[o++]=a>>(s-=8));return r}function nhe(t){return t&1?~t>>1:t>>1}function rhe(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=nhe(e());return n}function Am(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let o=0;o<i;o++)n.push(e+o);e+=i+1}return n}function B9(t){return _m(()=>{let e=Am(t);if(e.length)return e})}function L9(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(ihe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(ohe(n,t))}return e.flat()}function _m(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function D9(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)rhe(t,n).forEach((o,s)=>r[s].push(o));return r}function ihe(t,e){let n=1+e(),r=e(),i=_m(e);return D9(i.length,1+t,e).flatMap((s,a)=>{let[l,...c]=s;return Array(i[a]).fill().map((u,d)=>{let f=d*r;return[l+d*n,c.map(h=>h+f)]})})}function ohe(t,e){let n=1+e();return D9(n,1+t,e).map(i=>[i[0],i.slice(1)])}function she(t){let e=[],n=Am(t);return i(r([]),[]),e;function r(o){let s=t(),a=_m(()=>{let l=Am(t).map(c=>n[c]);if(l.length)return r(l)});return{S:s,B:a,Q:o}}function i({S:o,B:s},a,l){if(!(o&4&&l===a[a.length-1])){o&2&&(l=a[a.length-1]),o&1&&e.push(a);for(let c of s)for(let u of c.Q)i(c,[...a,u],l)}}}function ahe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function U9(t){return`{${ahe(t)}}`}function lhe(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Af(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function che(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var uhe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Sm=44032,$v=4352,qv=4449,Kv=4519,z9=19,j9=21,_f=28,Qv=j9*_f,dhe=z9*Qv,fhe=Sm+dhe,hhe=$v+z9,phe=qv+j9,mhe=Kv+_f;function Xh(t){return t>>24&255}function G9(t){return t&16777215}let g_,o6,y_,My;function ghe(){let t=O9(uhe);g_=new Map(B9(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),o6=new Set(Am(t)),y_=new Map,My=new Map;for(let[e,n]of L9(t)){if(!o6.has(e)&&n.length==2){let[r,i]=n,o=My.get(r);o||(o=new Map,My.set(r,o)),o.set(i,e)}y_.set(e,n.reverse())}}function H9(t){return t>=Sm&&t<fhe}function yhe(t,e){if(t>=$v&&t<hhe&&e>=qv&&e<phe)return Sm+(t-$v)*Qv+(e-qv)*_f;if(H9(t)&&e>Kv&&e<mhe&&(t-Sm)%_f==0)return t+(e-Kv);{let n=My.get(t);return n&&(n=n.get(e),n)?n:-1}}function W9(t){g_||ghe();let e=[],n=[],r=!1;function i(o){let s=g_.get(o);s&&(r=!0,o|=s),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(H9(o)){let s=o-Sm,a=s/Qv|0,l=s%Qv/_f|0,c=s%_f;i($v+a),i(qv+l),c>0&&i(Kv+c)}else{let s=y_.get(o);s?n.push(...s):i(o)}if(!n.length)break;o=n.pop()}if(r&&e.length>1){let o=Xh(e[0]);for(let s=1;s<e.length;s++){let a=Xh(e[s]);if(a==0||o<=a){o=a;continue}let l=s-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(o=Xh(e[--l]),o<=a))break}o=Xh(e[s])}}return e}function vhe(t){let e=[],n=[],r=-1,i=0;for(let o of t){let s=Xh(o),a=G9(o);if(r==-1)s==0?r=a:e.push(a);else if(i>0&&i>=s)s==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=s;else{let l=yhe(r,a);l>=0?r=l:i==0&&s==0?(e.push(r),r=a):(n.push(a),i=s)}}return r>=0&&e.push(r,...n),e}function V9(t){return W9(t).map(G9)}function whe(t){return vhe(W9(t))}const s6=45,$9=".",q9=65039,K9=1,Xv=t=>Array.from(t);function Cm(t,e){return t.P.has(e)||t.Q.has(e)}class bhe extends Array{get is_emoji(){return!0}}let v_,Q9,Uc,w_,X9,$d,Hx,hd,yc,a6,b_;function _5(){if(v_)return;let t=O9(Jfe);const e=()=>Am(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(f=>u.add(f));v_=new Map(L9(t)),Q9=n(),Uc=e(),w_=new Set(e().map(u=>Uc[u])),Uc=new Set(Uc),X9=n(),n();let i=B9(t),o=t();const s=()=>{let u=new Set;return e().forEach(d=>r(u,i[d])),r(u,e()),u};$d=_m(u=>{let d=_m(t).map(f=>f+96);if(d.length){let f=u>=o;d[0]-=32,d=Af(d),f&&(d=`Restricted[${d}]`);let h=s(),g=s(),m=!t();return{N:d,P:h,Q:g,M:m,R:f}}}),Hx=n(),hd=new Map;let a=e().concat(Xv(Hx)).sort((u,d)=>u-d);a.forEach((u,d)=>{let f=t(),h=a[d]=f?a[d-f]:{V:[],M:new Map};h.V.push(u),Hx.has(u)||hd.set(u,h)});for(let{V:u,M:d}of new Set(hd.values())){let f=[];for(let g of u){let m=$d.filter(p=>Cm(p,g)),y=f.find(({G:p})=>m.some(v=>p.has(v)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(g),r(y.G,m)}let h=f.flatMap(g=>Xv(g.G));for(let{G:g,V:m}of f){let y=new Set(h.filter(p=>!g.has(p)));for(let p of m)d.set(p,y)}}yc=new Set;let l=new Set;const c=u=>yc.has(u)?l.add(u):yc.add(u);for(let u of $d){for(let d of u.P)c(d);for(let d of u.Q)c(d)}for(let u of yc)!hd.has(u)&&!l.has(u)&&hd.set(u,K9);r(yc,V9(yc)),a6=she(t).map(u=>bhe.from(u)).sort(che),b_=new Map;for(let u of a6){let d=[b_];for(let f of u){let h=d.map(g=>{let m=g.get(f);return m||(m=new Map,g.set(f,m)),m});f===q9?d.push(...h):d=h}for(let f of d)f.V=u}}function S5(t){return(Y9(t)?"":`${C5($1([t]))} `)+U9(t)}function C5(t){return`"${t}"`}function xhe(t){if(t.length>=4&&t[2]==s6&&t[3]==s6)throw new Error(`invalid label extension: "${Af(t.slice(0,4))}"`)}function Ehe(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function Ahe(t){let e=t[0],n=r6.get(e);if(n)throw bp(`leading ${n}`);let r=t.length,i=-1;for(let o=1;o<r;o++){e=t[o];let s=r6.get(e);if(s){if(i==o)throw bp(`${n} + ${s}`);i=o+1,n=s}}if(i==r)throw bp(`trailing ${n}`)}function $1(t,e=1/0,n=U9){let r=[];_he(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let s=0;s<o;s++){let a=t[s];Y9(a)&&(r.push(Af(t.slice(i,s))),r.push(n(a)),i=s+1)}return r.push(Af(t.slice(i,o))),r.join("")}function _he(t){return _5(),Uc.has(t)}function Y9(t){return _5(),X9.has(t)}function She(t){return Ihe(Che(t,whe,Nhe))}function Che(t,e,n){if(!t)return[];_5();let r=0;return t.split($9).map(i=>{let o=lhe(i),s={input:o,offset:r};r+=o.length+1;try{let a=s.tokens=Phe(o,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=s.output=a.flat();if(Ehe(u),!(s.emoji=l>1||a[0].is_emoji)&&u.every(f=>f<128))xhe(u),c="ASCII";else{let f=a.flatMap(h=>h.is_emoji?[]:h);if(!f.length)c="Emoji";else{if(Uc.has(u[0]))throw bp("leading combining mark");for(let m=1;m<l;m++){let y=a[m];if(!y.is_emoji&&Uc.has(y[0]))throw bp(`emoji + combining mark: "${Af(a[m-1])} + ${$1([y[0]])}"`)}Ahe(u);let h=Xv(new Set(f)),[g]=Mhe(h);Rhe(g,f),The(g,h),c=g.N}}s.type=c}catch(a){s.error=a}return s})}function The(t,e){let n,r=[];for(let i of e){let o=hd.get(i);if(o===K9)return;if(o){let s=o.M.get(i);if(n=n?n.filter(a=>s.has(a)):Xv(s),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(o=>Cm(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function Mhe(t){let e=$d;for(let n of t){let r=e.filter(i=>Cm(i,n));if(!r.length)throw $d.some(i=>Cm(i,n))?Z9(e[0],n):J9(n);if(e=r,r.length==1)break}return e}function Ihe(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${C5($1(e,63))}: ${i}`)}return Af(r)}).join($9)}function J9(t){return new Error(`disallowed character: ${S5(t)}`)}function Z9(t,e){let n=S5(e),r=$d.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function bp(t){return new Error(`illegal placement: ${t}`)}function Rhe(t,e){for(let n of e)if(!Cm(t,n))throw Z9(t,n);if(t.M){let n=V9(e);for(let r=1,i=n.length;r<i;r++)if(w_.has(n[r])){let o=r+1;for(let s;o<i&&w_.has(s=n[o]);o++)for(let a=r;a<o;a++)if(n[a]==s)throw new Error(`duplicate non-spacing marks: ${S5(s)}`);if(o-r>i6)throw new Error(`excessive non-spacing marks: ${C5($1(n.slice(r-1,o)))} (${o-r}/${i6})`);r=o}}}function Phe(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let o=khe(t);if(o)i.length&&(r.push(e(i)),i=[]),r.push(n(o));else{let s=t.pop();if(yc.has(s))i.push(s);else{let a=v_.get(s);if(a)i.push(...a);else if(!Q9.has(s))throw J9(s)}}}return i.length&&r.push(e(i)),r}function Nhe(t){return t.filter(e=>e!=q9)}function khe(t,e){let n=b_,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:o}=n;o&&(r=o,t.length=i)}return r}const ez=new Uint8Array(32);ez.fill(0);function l6(t){return pe(t.length!==0,"invalid ENS name; empty component","comp",t),t}function tz(t){const e=Ra(Fhe(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(l6(e.slice(r,i))),r=i+1);return pe(r<e.length,"invalid ENS name; empty component","name",t),n.push(l6(e.slice(r))),n}function Fhe(t){try{if(t.length===0)throw new Error("empty label");return She(t)}catch(e){pe(!1,`invalid ENS name (${e.message})`,"name",t)}}function x_(t){pe(typeof t=="string","invalid ENS name; not a string","name",t),pe(t.length,"invalid ENS name (empty label)","name",t);let e=ez;const n=tz(t);for(;n.length;)e=rr(Hn([e,rr(n.pop())]));return ct(e)}function Ohe(t,e){const n=e;return pe(n<=255,"DNS encoded label cannot exceed 255","length",n),ct(Hn(tz(t).map(r=>{pe(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const nz=new Uint8Array(32);nz.fill(0);const Bhe=BigInt(-1),rz=BigInt(0),iz=BigInt(1),Lhe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Dhe(t){const e=Gt(t),n=e.length%32;return n?Hn([e,nz.slice(n)]):ct(e)}const Uhe=$l(iz,32),zhe=$l(rz,32),c6={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Wx=["name","version","chainId","verifyingContract","salt"];function u6(t){return function(e){return pe(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const jhe={name:u6("name"),version:u6("version"),chainId:function(t){const e=At(t,"domain.chainId");return pe(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):ts(e)},verifyingContract:function(t){try{return cn(t).toLowerCase()}catch{}pe(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Gt(t,"domain.salt");return pe(e.length===32,'invalid domain value "salt"',"domain.salt",t),ct(e)}};function Vx(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);pe(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=Qh(Lhe,n?r-1:r),o=n?(i+iz)*Bhe:rz;return function(s){const a=At(s,"value");return pe(a>=o&&a<=i,`value out-of-bounds for ${t}`,"value",a),$l(n?V7(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return pe(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=Gt(r);return pe(i.length===n,`invalid length for ${t}`,"value",r),Dhe(r)}}}switch(t){case"address":return function(e){return za(cn(e),32)};case"bool":return function(e){return e?Uhe:zhe};case"bytes":return function(e){return rr(e)};case"string":return function(e){return vu(e)}}return null}function d6(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function fg(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}class $i{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;const n=new Map,r=new Map,i=new Map,o={};Object.keys(e).forEach(l=>{o[l]=e[l].map(({name:c,type:u})=>{let{base:d,index:f}=fg(u);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:c,type:d+(f||"")}}),n.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),this.#e=JSON.stringify(o);for(const l in o){const c=new Set;for(const u of o[l]){pe(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",e),c.add(u.name);const d=fg(u.type).base;pe(d!==l,`circular type reference to ${JSON.stringify(d)}`,"types",e),!Vx(d)&&(pe(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(l),n.get(l).add(d))}}const s=Array.from(r.keys()).filter(l=>r.get(l).length===0);pe(s.length!==0,"missing primary type","types",e),pe(s.length===1,`ambiguous primary types or unused types: ${s.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),Nt(this,{primaryType:s[0]});function a(l,c){pe(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const u of n.get(l))if(r.has(u)){a(u,c);for(const d of c)i.get(d).add(u)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of i){const u=Array.from(c);u.sort(),this.#t.set(l,d6(l,o[l])+u.map(d=>d6(d,o[d])).join(""))}}getEncoder(e){let n=this.#n.get(e);return n||(n=this.#r(e),this.#n.set(e,n)),n}#r(e){{const i=Vx(e);if(i)return i}const n=fg(e).array;if(n){const i=n.prefix,o=this.getEncoder(i);return s=>{pe(n.count===-1||n.count===s.length,`array length mismatch; expected length ${n.count}`,"value",s);let a=s.map(o);return this.#t.has(i)&&(a=a.map(rr)),rr(Hn(a))}}const r=this.types[e];if(r){const i=vu(this.#t.get(e));return o=>{const s=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(o[a]);return this.#t.has(l)?rr(c):c});return s.unshift(i),Hn(s)}}pe(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const n=this.#t.get(e);return pe(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return rr(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(Vx(e))return r(e,n);const i=fg(e).array;if(i)return pe(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(s=>this._visit(i.prefix,s,r));const o=this.types[e];if(o)return o.reduce((s,{name:a,type:l})=>(s[a]=this._visit(l,n[a],r),s),{});pe(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new $i(e)}static getPrimaryType(e){return $i.from(e).primaryType}static hashStruct(e,n,r){return $i.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=c6[r];pe(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>Wx.indexOf(r.name)-Wx.indexOf(i.name)),$i.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Hn(["0x1901",$i.hashDomain(e),$i.from(n).hash(r)])}static hash(e,n,r){return rr($i.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const o={};e.verifyingContract&&!bn(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const s=$i.from(n);s.visit(r,(a,l)=>(a==="address"&&!bn(l,20)&&(o[l]="0x"),l));for(const a in o)o[a]=await i(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),r=s.visit(r,(a,l)=>a==="address"&&o[l]?o[l]:l),{domain:e,value:r}}static getPayload(e,n,r){$i.hashDomain(e);const i={},o=[];Wx.forEach(l=>{const c=e[l];c!=null&&(i[l]=jhe[l](c),o.push({name:l,type:c6[l]}))});const s=$i.from(n);n=s.types;const a=Object.assign({},n);return pe(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=o,s.encode(r),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return ct(Gt(c));if(l.match(/^u?int/))return At(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return pe(typeof c=="string","invalid string","value",c),c}pe(!1,"unsupported type","type",l)})}}}function di(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const Ghe="external public payable override",Hhe=di(Ghe.split(" ")),oz="constant external internal payable private public pure view override",Whe=di(oz.split(" ")),sz="constructor error event fallback function receive struct",az=di(sz.split(" ")),lz="calldata memory storage payable indexed",Vhe=di(lz.split(" ")),$he="tuple returns",qhe=[sz,lz,$he,oz].join(" "),Khe=di(qhe.split(" ")),Qhe={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Xhe=new RegExp("^(\\s*)"),Yhe=new RegExp("^([0-9]+)"),Jhe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),cz=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),uz=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Do{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new Do(this.#t)}reset(){this.#e=0}#n(e=0,n=0){return new Do(this.#t.slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;this.#e<e.match-1;){const r=this.peek().linkNext;n.push(this.#n(this.#e+1,r)),this.#e=r}return this.#e=e.match+1,n}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let n=this.#e;n<this.#t.length;n++){const r=this.#t[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function tc(t){const e=[],n=s=>{const a=o<t.length?JSON.stringify(t[o]):"$EOI";throw new Error(`invalid token ${a} at ${o}: ${s}`)};let r=[],i=[],o=0;for(;o<t.length;){let s=t.substring(o),a=s.match(Xhe);a&&(o+=a[1].length,s=t.substring(o));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(l);let c=Qhe[s[0]]||"";if(c){if(l.type=c,l.text=s[0],o++,c==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(c==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;u=d+u,e[e.length-1].value=Ht(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=s.match(Jhe),a){if(l.text=a[1],o+=l.text.length,Khe.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(uz)){l.type="TYPE";continue}l.type="ID";continue}if(a=s.match(Yhe),a){l.text=a[1],l.type="NUMBER",o+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(s[0])} at position ${o}`)}return new Do(e.map(s=>Object.freeze(s)))}function f6(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function q1(t,e){if(e.peekKeyword(az)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Ga(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function dz(t){let e=Ga(t,Whe);return f6(e,di("constant payable nonpayable".split(" "))),f6(e,di("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Pa(t,e){return t.popParams().map(n=>vn.from(n,e))}function fz(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return At(t.pop().text);throw new Error("invalid gas")}return null}function wu(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const Zhe=new RegExp(/^(.*)\[([0-9]*)\]$/);function h6(t){const e=t.match(uz);if(pe(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);pe(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);pe(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const Pn={},Gi=Symbol.for("_ethers_internal"),p6="_ParamTypeInternal",m6="_ErrorInternal",g6="_EventInternal",y6="_ConstructorInternal",v6="_FallbackInternal",w6="_FunctionInternal",b6="_StructInternal";class vn{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,n,r,i,o,s,a,l){if(L1(e,Pn,"ParamType"),Object.defineProperty(this,Gi,{value:p6}),s&&(s=Object.freeze(s.slice())),i==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(i==="tuple"){if(s==null)throw new Error("")}else if(s!=null)throw new Error("");Nt(this,{name:n,type:r,baseType:i,indexed:o,components:s,arrayLength:a,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const o=JSON.parse(this.arrayChildren.format("json"));return o.name=r,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,o)=>r.components[o].walk(i,n))}return n(this.type,e)}#e(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,a=n.slice();a.forEach((l,c)=>{s.#e(e,l,r,u=>{a[c]=u})}),i(a);return}if(this.isTuple()){const s=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=s.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=>{s[c].#e(e,l,r,u=>{a[c]=u})}),i(a);return}const o=r(this.type,n);o.then?e.push(async function(){i(await o)}()):i(o)}async walkAsync(e,n){const r=[],i=[e];return this.#e(r,e,n,o=>{i[0]=o}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(vn.isParamType(e))return e;if(typeof e=="string")try{return vn.from(tc(e),n)}catch{pe(!1,"invalid param type","obj",e)}else if(e instanceof Do){let a="",l="",c=null;Ga(e,di(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",c=e.popParams().map(m=>vn.from(m)),a=`tuple(${c.map(m=>m.format()).join(",")})`):(a=h6(e.popType("TYPE")),l=a);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){const m=e.pop();u=new vn(Pn,"",a,l,null,c,d,u),d=m.value,a+=m.text,l="array",c=null}let f=null;if(Ga(e,Vhe).has("indexed")){if(!n)throw new Error("");f=!0}const g=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new vn(Pn,g,a,l,f,c,d,u)}const r=e.name;pe(!r||typeof r=="string"&&r.match(cz),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(pe(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let o=e.type,s=o.match(Zhe);if(s){const a=parseInt(s[2]||"-1"),l=vn.from({type:s[1],components:e.components});return new vn(Pn,r||"",o,"array",i,null,a,l)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){const a=e.components!=null?e.components.map(c=>vn.from(c)):null;return new vn(Pn,r||"",o,"tuple",i,a,null,null)}return o=h6(e.type),new vn(Pn,r||"",o,o,i,null,null,null)}static isParamType(e){return e&&e[Gi]===p6}}class bu{type;inputs;constructor(e,n,r){L1(e,Pn,"Fragment"),r=Object.freeze(r.slice()),Nt(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{bu.from(JSON.parse(e))}catch{}return bu.from(tc(e))}if(e instanceof Do)switch(e.peekKeyword(az)){case"constructor":return Sa.from(e);case"error":return Si.from(e);case"event":return Bs.from(e);case"fallback":case"receive":return ya.from(e);case"function":return Ls.from(e);case"struct":return Yc.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Sa.from(e);case"error":return Si.from(e);case"event":return Bs.from(e);case"fallback":case"receive":return ya.from(e);case"function":return Ls.from(e);case"struct":return Yc.from(e)}je(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}pe(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Sa.isFragment(e)}static isError(e){return Si.isFragment(e)}static isEvent(e){return Bs.isFragment(e)}static isFunction(e){return Ls.isFragment(e)}static isStruct(e){return Yc.isFragment(e)}}class K1 extends bu{name;constructor(e,n,r,i){super(e,n,i),pe(typeof r=="string"&&r.match(cz),"invalid identifier","name",r),i=Object.freeze(i.slice()),Nt(this,{name:r})}}function Tm(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Si extends K1{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Gi,{value:m6})}get selector(){return vu(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+Tm(e,this.inputs)),n.join(" ")}static from(e){if(Si.isFragment(e))return e;if(typeof e=="string")return Si.from(tc(e));if(e instanceof Do){const n=q1("error",e),r=Pa(e);return wu(e),new Si(Pn,n,r)}return new Si(Pn,e.name,e.inputs?e.inputs.map(vn.from):[])}static isFragment(e){return e&&e[Gi]===m6}}class Bs extends K1{anonymous;constructor(e,n,r,i){super(e,"event",n,r),Object.defineProperty(this,Gi,{value:g6}),Nt(this,{anonymous:i})}get topicHash(){return vu(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+Tm(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(i=>vn.from(i)),new Bs(Pn,e,n,!1).topicHash}static from(e){if(Bs.isFragment(e))return e;if(typeof e=="string")try{return Bs.from(tc(e))}catch{pe(!1,"invalid event fragment","obj",e)}else if(e instanceof Do){const n=q1("event",e),r=Pa(e,!0),i=!!Ga(e,di(["anonymous"])).has("anonymous");return wu(e),new Bs(Pn,n,r,i)}return new Bs(Pn,e.name,e.inputs?e.inputs.map(n=>vn.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Gi]===g6}}class Sa extends bu{payable;gas;constructor(e,n,r,i,o){super(e,n,r),Object.defineProperty(this,Gi,{value:y6}),Nt(this,{payable:i,gas:o})}format(e){if(je(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[`constructor${Tm(e,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(Sa.isFragment(e))return e;if(typeof e=="string")try{return Sa.from(tc(e))}catch{pe(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Do){Ga(e,di(["constructor"]));const n=Pa(e),r=!!Ga(e,Hhe).has("payable"),i=fz(e);return wu(e),new Sa(Pn,"constructor",n,r,i)}return new Sa(Pn,"constructor",e.inputs?e.inputs.map(vn.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Gi]===y6}}class ya extends bu{payable;constructor(e,n,r){super(e,"fallback",n),Object.defineProperty(this,Gi,{value:v6}),Nt(this,{payable:r})}format(e){const n=this.inputs.length===0?"receive":"fallback";if(e==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:r})}return`${n}()${this.payable?" payable":""}`}static from(e){if(ya.isFragment(e))return e;if(typeof e=="string")try{return ya.from(tc(e))}catch{pe(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Do){const n=e.toString(),r=e.peekKeyword(di(["fallback","receive"]));if(pe(r,"type must be fallback or receive","obj",n),e.popKeyword(di(["fallback","receive"]))==="receive"){const a=Pa(e);return pe(a.length===0,"receive cannot have arguments","obj.inputs",a),Ga(e,di(["payable"])),wu(e),new ya(Pn,[],!0)}let o=Pa(e);o.length?pe(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(a=>a.format("minimal")).join(", ")):o=[vn.from("bytes")];const s=dz(e);if(pe(s==="nonpayable"||s==="payable","fallback cannot be constants","obj.stateMutability",s),Ga(e,di(["returns"])).has("returns")){const a=Pa(e);pe(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(l=>l.format("minimal")).join(", "))}return wu(e),new ya(Pn,o,s==="payable")}if(e.type==="receive")return new ya(Pn,[],!0);if(e.type==="fallback"){const n=[vn.from("bytes")],r=e.stateMutability==="payable";return new ya(Pn,n,r)}pe(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Gi]===v6}}class Ls extends K1{constant;outputs;stateMutability;payable;gas;constructor(e,n,r,i,o,s){super(e,"function",n,i),Object.defineProperty(this,Gi,{value:w6}),o=Object.freeze(o.slice()),Nt(this,{constant:r==="view"||r==="pure",gas:s,outputs:o,payable:r==="payable",stateMutability:r})}get selector(){return vu(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+Tm(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Tm(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(i=>vn.from(i)),new Ls(Pn,e,"view",n,[],null).selector}static from(e){if(Ls.isFragment(e))return e;if(typeof e=="string")try{return Ls.from(tc(e))}catch{pe(!1,"invalid function fragment","obj",e)}else if(e instanceof Do){const r=q1("function",e),i=Pa(e),o=dz(e);let s=[];Ga(e,di(["returns"])).has("returns")&&(s=Pa(e));const a=fz(e);return wu(e),new Ls(Pn,r,o,i,s,a)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new Ls(Pn,e.name,n,e.inputs?e.inputs.map(vn.from):[],e.outputs?e.outputs.map(vn.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Gi]===w6}}class Yc extends K1{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Gi,{value:b6})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Yc.from(tc(e))}catch{pe(!1,"invalid struct fragment","obj",e)}else if(e instanceof Do){const n=q1("struct",e),r=Pa(e);return wu(e),new Yc(Pn,n,r)}return new Yc(Pn,e.name,e.inputs?e.inputs.map(vn.from):[])}static isFragment(e){return e&&e[Gi]===b6}}const vs=new Map;vs.set(0,"GENERIC_PANIC");vs.set(1,"ASSERT_FALSE");vs.set(17,"OVERFLOW");vs.set(18,"DIVIDE_BY_ZERO");vs.set(33,"ENUM_RANGE_ERROR");vs.set(34,"BAD_STORAGE_DATA");vs.set(49,"STACK_UNDERFLOW");vs.set(50,"ARRAY_RANGE_ERROR");vs.set(65,"OUT_OF_MEMORY");vs.set(81,"UNINITIALIZED_FUNCTION_CALL");const epe=new RegExp(/^bytes([0-9]*)$/),tpe=new RegExp(/^(u?int)([0-9]*)$/);let $x=null,x6=1024;function npe(t,e,n,r){let i="missing revert data",o=null;const s=null;let a=null;if(n){i="execution reverted";const c=Gt(n);if(n=ct(n),c.length===0)i+=" (no data present; likely require(false) occurred",o="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(ct(c.slice(0,4))==="0x08c379a0")try{o=r.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[o]},i+=`: ${JSON.stringify(o)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(ct(c.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},o=`Panic due to ${vs.get(u)||"UNKNOWN"}(${u})`,i+=`: ${o}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?cn(e.to):null,data:e.data||"0x"};return e.from&&(l.from=cn(e.from)),Tn(i,"CALL_EXCEPTION",{action:t,data:n,reason:o,transaction:l,invocation:s,revert:a})}class Sf{#e(e){if(e.isArray())return new bfe(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new dg(e.components.map(r=>this.#e(r)),e.name);switch(e.baseType){case"address":return new vfe(e.name);case"bool":return new xfe(e.name);case"string":return new Rfe(e.name);case"bytes":return new Efe(e.name);case"":return new Sfe(e.name)}let n=e.type.match(tpe);if(n){let r=parseInt(n[2]||"256");return pe(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new Ife(r/8,n[1]==="int",e.name)}if(n=e.type.match(epe),n){let r=parseInt(n[1]);return pe(r!==0&&r<=32,"invalid bytes length","param",e),new Afe(r,e.name)}pe(!1,"invalid type","type",e.type)}getDefaultValue(e){const n=e.map(i=>this.#e(vn.from(i)));return new dg(n,"_").defaultValue()}encode(e,n){G7(n.length,e.length,"types/values length mismatch");const r=e.map(s=>this.#e(vn.from(s))),i=new dg(r,"_"),o=new u_;return i.encode(o,n),o.data}decode(e,n,r){const i=e.map(s=>this.#e(vn.from(s)));return new dg(i,"_").decode(new p5(n,r,x6))}static _setDefaultMaxInflation(e){pe(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),x6=e}static defaultAbiCoder(){return $x==null&&($x=new Sf),$x}static getBuiltinCallException(e,n,r){return npe(e,n,r,Sf.defaultAbiCoder())}}class rpe{fragment;name;signature;topic;args;constructor(e,n,r){const i=e.name,o=e.format();Nt(this,{fragment:e,name:i,signature:o,topic:n,args:r})}}class ipe{fragment;name;args;signature;selector;value;constructor(e,n,r,i){const o=e.name,s=e.format();Nt(this,{fragment:e,name:o,args:r,signature:s,selector:n,value:i})}}class ope{fragment;name;args;signature;selector;constructor(e,n,r){const i=e.name,o=e.format();Nt(this,{fragment:e,name:i,args:r,signature:o,selector:n})}}class E6{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){Nt(this,{hash:e,_isIndexed:!0})}}const A6={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},_6={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&A6[t.toString()]&&(e=A6[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class Ec{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;const r=[];for(const s of n)try{r.push(bu.from(s))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(s)}:`,a.message)}Nt(this,{fragments:Object.freeze(r)});let i=null,o=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((s,a)=>{let l;switch(s.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Nt(this,{deploy:s});return;case"fallback":s.inputs.length===0?o=!0:(pe(!i||s.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,s),i=s,o=i.payable);return;case"function":l=this.#n;break;case"event":l=this.#t;break;case"error":l=this.#e;break;default:return}const c=s.format();l.has(c)||l.set(c,s)}),this.deploy||Nt(this,{deploy:Sa.from("constructor()")}),Nt(this,{fallback:i,receive:o})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return Sf.defaultAbiCoder()}#i(e,n,r){if(bn(e)){const o=e.toLowerCase();for(const s of this.#n.values())if(o===s.selector)return s;return null}if(e.indexOf("(")===-1){const o=[];for(const[s,a]of this.#n)s.split("(")[0]===e&&o.push(a);if(n){const s=n.length>0?n[n.length-1]:null;let a=n.length,l=!0;jn.isTyped(s)&&s.type==="overrides"&&(l=!1,a--);for(let c=o.length-1;c>=0;c--){const u=o[c].inputs.length;u!==a&&(!l||u!==a-1)&&o.splice(c,1)}for(let c=o.length-1;c>=0;c--){const u=o[c].inputs;for(let d=0;d<n.length;d++)if(jn.isTyped(n[d])){if(d>=u.length){if(n[d].type==="overrides")continue;o.splice(c,1);break}if(n[d].type!==u[d].baseType){o.splice(c,1);break}}}}if(o.length===1&&n&&n.length!==o[0].inputs.length){const s=n[n.length-1];(s==null||Array.isArray(s)||typeof s!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&r){const s=o.map(a=>JSON.stringify(a.format())).join(", ");pe(!1,`ambiguous function description (i.e. matches ${s})`,"key",e)}return o[0]}const i=this.#n.get(Ls.from(e).format());return i||null}getFunctionName(e){const n=this.#i(e,null,!1);return pe(n,"no matching function","key",e),n.name}hasFunction(e){return!!this.#i(e,null,!1)}getFunction(e,n){return this.#i(e,n||null,!0)}forEachFunction(e){const n=Array.from(this.#n.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#n.get(i),r)}}#s(e,n,r){if(bn(e)){const o=e.toLowerCase();for(const s of this.#t.values())if(o===s.topicHash)return s;return null}if(e.indexOf("(")===-1){const o=[];for(const[s,a]of this.#t)s.split("(")[0]===e&&o.push(a);if(n){for(let s=o.length-1;s>=0;s--)o[s].inputs.length<n.length&&o.splice(s,1);for(let s=o.length-1;s>=0;s--){const a=o[s].inputs;for(let l=0;l<n.length;l++)if(jn.isTyped(n[l])&&n[l].type!==a[l].baseType){o.splice(s,1);break}}}if(o.length===0)return null;if(o.length>1&&r){const s=o.map(a=>JSON.stringify(a.format())).join(", ");pe(!1,`ambiguous event description (i.e. matches ${s})`,"key",e)}return o[0]}const i=this.#t.get(Bs.from(e).format());return i||null}getEventName(e){const n=this.#s(e,null,!1);return pe(n,"no matching event","key",e),n.name}hasEvent(e){return!!this.#s(e,null,!1)}getEvent(e,n){return this.#s(e,n||null,!0)}forEachEvent(e){const n=Array.from(this.#t.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#t.get(i),r)}}getError(e,n){if(bn(e)){const i=e.toLowerCase();if(_6[i])return Si.from(_6[i].signature);for(const o of this.#e.values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,s]of this.#e)o.split("(")[0]===e&&i.push(s);if(i.length===0)return e==="Error"?Si.from("error Error(string)"):e==="Panic"?Si.from("error Panic(uint256)"):null;if(i.length>1){const o=i.map(s=>JSON.stringify(s.format())).join(", ");pe(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return i[0]}if(e=Si.from(e).format(),e==="Error(string)")return Si.from("error Error(string)");if(e==="Panic(uint256)")return Si.from("error Panic(uint256)");const r=this.#e.get(e);return r||null}forEachError(e){const n=Array.from(this.#e.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#e.get(i),r)}}_decodeParams(e,n){return this.#r.decode(e,n)}_encodeParams(e,n){return this.#r.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);pe(r,"unknown error","fragment",e),e=r}return pe(Dn(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Dn(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);pe(r,"unknown error","fragment",e),e=r}return Hn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);pe(r,"unknown function","fragment",e),e=r}return pe(Dn(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Dn(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);pe(r,"unknown function","fragment",e),e=r}return Hn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const o=this.getFunction(e);pe(o,"unknown function","fragment",e),e=o}let r="invalid length for result data";const i=li(n);if(i.length%32===0)try{return this.#r.decode(e.outputs,i)}catch{r="could not decode result data"}je(!1,r,"BAD_DATA",{value:ct(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=Gt(e,"data"),i=Sf.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=ct(r.slice(0,4)),l=this.getError(a);if(l)try{const c=this.#r.decode(l.inputs,r.slice(4));i.revert={name:l.name,signature:l.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(n);return s&&(i.invocation={method:s.name,signature:s.signature,args:s.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);pe(r,"unknown function","fragment",e),e=r}return ct(this.#r.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const o=this.getEvent(e);pe(o,"unknown event","eventFragment",e),e=o}je(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(o,s)=>o.type==="string"?vu(s):o.type==="bytes"?rr(ct(s)):(o.type==="bool"&&typeof s=="boolean"?s=s?"0x01":"0x00":o.type.match(/^u?int/)?s=$l(s):o.type.match(/^bytes/)?s=Sue(s,32):o.type==="address"&&this.#r.encode(["address"],[s]),za(ct(s),32));for(n.forEach((o,s)=>{const a=e.inputs[s];if(!a.indexed){pe(o==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?pe(!1,"filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?r.push(o.map(l=>i(a,l))):r.push(i(a,o))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const s=this.getEvent(e);pe(s,"unknown event","eventFragment",e),e=s}const r=[],i=[],o=[];return e.anonymous||r.push(e.topicHash),pe(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((s,a)=>{const l=n[a];if(s.indexed)if(s.type==="string")r.push(vu(l));else if(s.type==="bytes")r.push(rr(l));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");r.push(this.#r.encode([s.type],[l]))}else i.push(s),o.push(l)}),{data:this.#r.encode(i,o),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const h=this.getEvent(e);pe(h,"unknown event","eventFragment",e),e=h}if(r!=null&&!e.anonymous){const h=e.topicHash;pe(bn(r[0],32)&&r[0].toLowerCase()===h,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],o=[],s=[];e.inputs.forEach((h,g)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(i.push(vn.from({type:"bytes32",name:h.name})),s.push(!0)):(i.push(h),s.push(!1)):(o.push(h),s.push(!1))});const a=r!=null?this.#r.decode(i,Hn(r)):null,l=this.#r.decode(o,n,!0),c=[],u=[];let d=0,f=0;return e.inputs.forEach((h,g)=>{let m=null;if(h.indexed)if(a==null)m=new E6(null);else if(s[g])m=new E6(a[f++]);else try{m=a[f++]}catch(y){m=y}else try{m=l[d++]}catch(y){m=y}c.push(m),u.push(h.name||null)}),_a.fromItems(c,u)}parseTransaction(e){const n=Gt(e.data,"tx.data"),r=At(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(ct(n.slice(0,4)));if(!i)return null;const o=this.#r.decode(i.inputs,n.slice(4));return new ipe(i,i.selector,o,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new rpe(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=ct(e),r=this.getError(Dn(n,0,4));if(!r)return null;const i=this.#r.decode(r.inputs,Dn(n,4));return new ope(r,r.selector,i)}static from(e){return e instanceof Ec?e:typeof e=="string"?new Ec(JSON.parse(e)):typeof e.formatJson=="function"?new Ec(e.formatJson()):typeof e.format=="function"?new Ec(e.format("json")):new Ec(e)}}const hz=BigInt(0);function qd(t){return t??null}function qn(t){return t==null?null:t.toString()}class S6{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,n,r){Nt(this,{gasPrice:qd(e),maxFeePerGas:qd(n),maxPriorityFeePerGas:qd(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:qn(e),maxFeePerGas:qn(n),maxPriorityFeePerGas:qn(r)}}}function Yv(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=ct(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=At(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=Ht(t[i],`request.${i}`));return t.accessList&&(e.accessList=Du(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>f5(i)?ct(i):Object.assign({},i))),e}class spe{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,n){this.#e=e.transactions.map(r=>typeof r!="string"?new f0(r,n):r),Nt(this,{provider:n,hash:qd(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:qd(e.prevRandao),extraData:e.extraData,baseFeePerGas:qd(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:(je(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:o,hash:s,miner:a,prevRandao:l,nonce:c,number:u,parentHash:d,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:g,timestamp:m,transactions:y}=this;return{_type:"Block",baseFeePerGas:qn(e),difficulty:qn(n),extraData:r,gasLimit:qn(i),gasUsed:qn(o),blobGasUsed:qn(this.blobGasUsed),excessBlobGas:qn(this.excessBlobGas),hash:s,miner:a,prevRandao:l,nonce:c,number:u,parentHash:d,timestamp:m,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:g,transactions:y}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=this.#e[e];else{const r=e.toLowerCase();for(const i of this.#e)if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;pe(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return ape(this)}}class d0{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,n){this.provider=n;const r=Object.freeze(e.topics.slice());Nt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:o,removed:s,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:o,removed:s,topics:a,transactionHash:l,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return je(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return je(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return je(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return lpe(this)}}class pz{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,n){this.#e=Object.freeze(e.logs.map(i=>new d0(i,n)));let r=hz;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Nt(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:o,blockHash:s,blockNumber:a,logsBloom:l,logs:c,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:a,contractAddress:r,cumulativeGasUsed:qn(this.cumulativeGasUsed),from:n,gasPrice:qn(this.gasPrice),blobGasUsed:qn(this.blobGasUsed),blobGasPrice:qn(this.blobGasPrice),gasUsed:qn(this.gasUsed),hash:i,index:o,logs:c,logsBloom:l,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return gz(this)}reorderedEvent(e){return je(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),mz(this,e)}}class f0{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,n){this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:o,to:s,from:a,nonce:l,data:c,signature:u,accessList:d,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:n,blobVersionedHashes:f,chainId:qn(this.chainId),data:c,from:a,gasLimit:qn(this.gasLimit),gasPrice:qn(this.gasPrice),hash:i,maxFeePerGas:qn(this.maxFeePerGas),maxPriorityFeePerGas:qn(this.maxPriorityFeePerGas),maxFeePerBlobGas:qn(this.maxFeePerBlobGas),nonce:l,signature:u,to:s,index:r,type:o,value:qn(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await ri({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let o=this.#e,s=-1,a=o===-1;const l=async()=>{if(a)return null;const{blockNumber:f,nonce:h}=await ri({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(h<this.nonce){o=f;return}if(a)return null;const g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(s===-1&&(s=o-3,s<this.#e&&(s=this.#e));s<=f;){if(a)return null;const m=await this.provider.getBlock(s,!0);if(m==null)return;for(const y of m)if(y===this.hash)return;for(let y=0;y<m.length;y++){const p=await m.getTransaction(y);if(p.from===this.from&&p.nonce===this.nonce){if(a)return null;const v=await this.provider.getTransactionReceipt(p.hash);if(v==null||f-v.blockNumber+1<r)return;let w="replaced";p.data===this.data&&p.to===this.to&&p.value===this.value?w="repriced":p.data==="0x"&&p.from===p.to&&p.value===hz&&(w="cancelled"),je(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:w==="replaced"||w==="cancelled",reason:w,replacement:p.replaceableTransaction(o),hash:p.hash,receipt:v})}}s++}},c=f=>{if(f==null||f.status!==0)return f;je(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(u);if(u){if(r===1||await u.confirmations()>=r)return c(u)}else if(await l(),r===0)return null;return await new Promise((f,h)=>{const g=[],m=()=>{g.forEach(p=>p())};if(g.push(()=>{a=!0}),i>0){const p=setTimeout(()=>{m(),h(Tn("wait for transaction timeout","TIMEOUT"))},i);g.push(()=>{clearTimeout(p)})}const y=async p=>{if(await p.confirmations()>=r){m();try{f(c(p))}catch(v){h(v)}}};if(g.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),o>=0){const p=async()=>{try{await l()}catch(v){if(Lr(v,"TRANSACTION_REPLACED")){m(),h(v);return}}a||this.provider.once("block",p)};g.push(()=>{this.provider.off("block",p)}),this.provider.once("block",p)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return je(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),gz(this)}reorderedEvent(e){return je(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),je(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),mz(this,e)}replaceableTransaction(e){pe(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new f0(this,this.provider);return n.#e=e,n}}function ape(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function mz(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function gz(t){return{orphan:"drop-transaction",tx:t}}function lpe(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class T5 extends d0{interface;fragment;args;constructor(e,n,r){super(e,e.provider);const i=n.decodeEventLog(r,e.data,e.topics);Nt(this,{args:i,fragment:r,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class yz extends d0{error;constructor(e,n){super(e,e.provider),Nt(this,{error:n})}}class cpe extends pz{#e;constructor(e,n,r){super(r,n),this.#e=e}get logs(){return super.logs.map(e=>{const n=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(n)try{return new T5(e,this.#e,n)}catch(r){return new yz(e,r)}return e})}}class M5 extends f0{#e;constructor(e,n,r){super(r,n),this.#e=e}async wait(e,n){const r=await super.wait(e,n);return r==null?null:new cpe(this.#e,this.provider,r)}}class vz extends $7{log;constructor(e,n,r,i){super(e,n,r),Nt(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class upe extends vz{constructor(e,n,r,i,o){super(e,n,r,new T5(o,e.interface,i));const s=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Nt(this,{args:s,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const C6=BigInt(0);function wz(t){return t&&typeof t.call=="function"}function bz(t){return t&&typeof t.estimateGas=="function"}function Q1(t){return t&&typeof t.resolveName=="function"}function xz(t){return t&&typeof t.sendTransaction=="function"}function Ez(t){if(t!=null){if(Q1(t))return t;if(t.provider)return t.provider}}class dpe{#e;fragment;constructor(e,n,r){if(Nt(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=xu(e.runner,"resolveName"),o=Q1(i)?i:null;this.#e=async function(){const s=await Promise.all(n.inputs.map((a,l)=>r[l]==null?null:a.walkAsync(r[l],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(f=>ui(f,o))):ui(d,o):d)));return e.interface.encodeFilterTopics(n,s)}()}getTopicFilter(){return this.#e}}function xu(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function zc(t){return t==null?null:t.provider||null}async function Az(t,e){const n=jn.dereference(t,"overrides");pe(typeof n=="object","invalid overrides parameter","overrides",t);const r=Yv(n);return pe(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),pe(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function fpe(t,e,n){const r=xu(t,"resolveName"),i=Q1(r)?r:null;return await Promise.all(e.map((o,s)=>o.walkAsync(n[s],(a,l)=>(l=jn.dereference(l,a),a==="address"?ui(l,i):l))))}function hpe(t){const e=async function(s){const a=await Az(s,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await ui(a.from,Ez(t.runner)));const l=t.interface,c=At(a.value||C6,"overrides.value")===C6,u=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!u&&!c&&pe(!1,"cannot send data to receive or send value to non-payable fallback","overrides",s),pe(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const d=l.receive||l.fallback&&l.fallback.payable;return pe(d||c,"cannot send value to non-payable fallback","overrides.value",a.value),pe(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(s){const a=xu(t.runner,"call");je(wz(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(s);try{return await a.call(l)}catch(c){throw d5(c)&&c.data?t.interface.makeError(c.data,l):c}},r=async function(s){const a=t.runner;je(xz(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await e(s)),c=zc(t.runner);return new M5(t.interface,c,l)},i=async function(s){const a=xu(t.runner,"estimateGas");return je(bz(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(s))},o=async s=>await r(s);return Nt(o,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),o}function ppe(t,e){const n=function(...c){const u=t.interface.getFunction(e,c);return je(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),u},r=async function(...c){const u=n(...c);let d={};if(u.inputs.length+1===c.length&&(d=await Az(c.pop()),d.from&&(d.from=await ui(d.from,Ez(t.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const f=await fpe(t.runner,u.inputs,c);return Object.assign({},d,await ri({to:t.getAddress(),data:t.interface.encodeFunctionData(u,f)}))},i=async function(...c){const u=await a(...c);return u.length===1?u[0]:u},o=async function(...c){const u=t.runner;je(xz(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await u.sendTransaction(await r(...c)),f=zc(t.runner);return new M5(t.interface,f,d)},s=async function(...c){const u=xu(t.runner,"estimateGas");return je(bz(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...c))},a=async function(...c){const u=xu(t.runner,"call");je(wz(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await r(...c);let f="0x";try{f=await u.call(d)}catch(g){throw d5(g)&&g.data?t.interface.makeError(g.data,d):g}const h=n(...c);return t.interface.decodeFunctionResult(h,f)},l=async(...c)=>n(...c).constant?await i(...c):await o(...c);return Nt(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:s,populateTransaction:r,send:o,staticCall:i,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return je(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),l}function mpe(t,e){const n=function(...i){const o=t.interface.getEvent(e,i);return je(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),o},r=function(...i){return new dpe(t,n(...i),i)};return Nt(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return je(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const Jv=Symbol.for("_ethersInternal_contract"),_z=new WeakMap;function gpe(t,e){_z.set(t[Jv],e)}function qi(t){return _z.get(t[Jv])}function ype(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function I5(t,e){let n,r=null;if(Array.isArray(e)){const o=function(s){if(bn(s,32))return s;const a=t.interface.getEvent(s);return pe(a,"unknown fragment","name",s),a.topicHash};n=e.map(s=>s==null?null:Array.isArray(s)?s.map(o):o(s))}else e==="*"?n=[null]:typeof e=="string"?bn(e,32)?n=[e]:(r=t.interface.getEvent(e),pe(r,"unknown fragment","event",e),n=[r.topicHash]):ype(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):pe(!1,"unknown event name","event",e);n=n.map(o=>{if(o==null)return null;if(Array.isArray(o)){const s=Array.from(new Set(o.map(a=>a.toLowerCase())).values());return s.length===1?s[0]:(s.sort(),s)}return o.toLowerCase()});const i=n.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:r,tag:i,topics:n}}async function Yh(t,e){const{subs:n}=qi(t);return n.get((await I5(t,e)).tag)||null}async function T6(t,e,n){const r=zc(t.runner);je(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:o,topics:s}=await I5(t,n),{addr:a,subs:l}=qi(t);let c=l.get(o);if(!c){const d={address:a||t,topics:s},f=y=>{let p=i;if(p==null)try{p=t.interface.getEvent(y.topics[0])}catch{}if(p){const v=p,w=i?t.interface.decodeEventLog(i,y.data,y.topics):[];A_(t,n,w,x=>new upe(t,x,n,v,y))}else A_(t,n,[],v=>new vz(t,v,n,y))};let h=[];c={tag:o,listeners:[],start:()=>{h.length||h.push(r.on(d,f))},stop:async()=>{if(h.length==0)return;let y=h;h=[],await Promise.all(y),r.off(d,f)}},l.set(o,c)}return c}let E_=Promise.resolve();async function vpe(t,e,n,r){await E_;const i=await Yh(t,e);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:s,once:a})=>{const l=Array.from(n);r&&l.push(r(a?null:s));try{s.call(t,...l)}catch{}return!a}),i.listeners.length===0&&(i.stop(),qi(t).subs.delete(i.tag)),o>0}async function A_(t,e,n,r){try{await E_}catch{}const i=vpe(t,e,n,r);return E_=i,await i}const hg=["then"];class xp{target;interface;runner;filters;[Jv];fallback;constructor(e,n,r,i){pe(typeof e=="string"||R9(e),"invalid value for Contract target","target",e),r==null&&(r=null);const o=Ec.from(n);Nt(this,{target:e,runner:r,interface:o}),Object.defineProperty(this,Jv,{value:{}});let s,a=null,l=null;if(i){const d=zc(r);l=new M5(this.interface,d,i)}let c=new Map;if(typeof e=="string")if(bn(e))a=e,s=Promise.resolve(e);else{const d=xu(r,"resolveName");if(!Q1(d))throw Tn("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=d.resolveName(e).then(f=>{if(f==null)throw Tn("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return qi(this).addr=f,f})}else s=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return qi(this).addr=d,d});gpe(this,{addrPromise:s,addr:a,deployTx:l,subs:c});const u=new Proxy({},{get:(d,f,h)=>{if(typeof f=="symbol"||hg.indexOf(f)>=0)return Reflect.get(d,f,h);try{return this.getEvent(f)}catch(g){if(!Lr(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(d,f)=>hg.indexOf(f)>=0?Reflect.has(d,f):Reflect.has(d,f)||this.interface.hasEvent(String(f))});return Nt(this,{filters:u}),Nt(this,{fallback:o.receive||o.fallback?hpe(this):null}),new Proxy(this,{get:(d,f,h)=>{if(typeof f=="symbol"||f in d||hg.indexOf(f)>=0)return Reflect.get(d,f,h);try{return d.getFunction(f)}catch(g){if(!Lr(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(d,f)=>typeof f=="symbol"||f in d||hg.indexOf(f)>=0?Reflect.has(d,f):d.interface.hasFunction(f)})}connect(e){return new xp(this.target,this.interface,e)}attach(e){return new xp(e,this.interface,this.runner)}async getAddress(){return await qi(this).addrPromise}async getDeployedCode(){const e=zc(this.runner);je(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=zc(this.runner);return je(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,o)=>{const s=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",s)}catch(a){o(a)}};s()})}deploymentTransaction(){return qi(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),ppe(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),mpe(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:o}=qi(this),s=i||await o,{fragment:a,topics:l}=await I5(this,e),c={address:s,topics:l,fromBlock:n,toBlock:r},u=zc(this.runner);return je(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(d=>{let f=a;if(f==null)try{f=this.interface.getEvent(d.topics[0])}catch{}if(f)try{return new T5(d,this.interface,f)}catch(h){return new yz(d,h)}return new d0(d,u)})}async on(e,n){const r=await T6(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await T6(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await A_(this,e,n,null)}async listenerCount(e){if(e){const i=await Yh(this,e);return i?i.listeners.length:0}const{subs:n}=qi(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await Yh(this,e);return i?i.listeners.map(({listener:o})=>o):[]}const{subs:n}=qi(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:o})=>o));return r}async off(e,n){const r=await Yh(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:o})=>o).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),qi(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await Yh(this,e);if(!n)return this;n.stop(),qi(this).subs.delete(n.tag)}else{const{subs:n}=qi(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends xp{constructor(i,o=null){super(i,e,o)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}}function wpe(){return xp}class Ep extends wpe(){}function qx(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):pe(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class bpe{name;constructor(e){Nt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const Sz=new RegExp("^(ipfs)://(.*)$","i"),M6=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Sz,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Kd{provider;address;name;#e;#t;constructor(e,n,r){Nt(this,{provider:e,address:n,name:r}),this.#e=null,this.#t=new Ep(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(Lr(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,n){n=(n||[]).slice();const r=this.#t.interface;n.unshift(x_(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),je(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[Ohe(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const o=await this.#t[e](...n);return i?r.decodeFunctionResult(i,o)[0]:o}catch(o){if(!Lr(o,"CALL_EXCEPTION"))throw o}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const o=await this.#n("addr(bytes32)");return o==null||o===Em?null:o}catch(o){if(Lr(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648;const s=await this.#n("addr(bytes32,uint)",[o]);if(bn(s,20))return cn(s)}let n=null;for(const o of this.provider.plugins)if(o instanceof bpe&&o.supportsCoinType(e)){n=o;break}if(n==null)return null;const r=await this.#n("addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;je(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await this.#n("text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",o=parseInt(n[4],16);if(n[5].length===o*2)return`${i}://${Mue("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;je(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<M6.length;r++){const i=n.match(M6[r]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const s=qx(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:s}),{linkage:e,url:s}}case"erc721":case"erc1155":{const s=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(i[2]||"").split("/");if(l.length!==2)return e.push({type:`!${o}caip`,value:i[2]||""}),{url:null,linkage:e};const c=l[1],u=new Ep(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){const m=await u.ownerOf(c);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(o==="erc1155"){const m=await u.balanceOf(a,c);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let d=await u[s](c);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),o==="erc1155"&&(d=d.replace("{id}",$l(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=qx(d)),e.push({type:"metadata-url",value:d});let f={};const h=await new ja(d).send();h.assertOk();try{f=h.bodyJson}catch{try{e.push({type:"!metadata",value:h.bodyText})}catch{const p=h.body;return p&&e.push({type:"!metadata",value:ct(p)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let g=f.image;if(typeof g!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(Sz)==null)return e.push({type:"!imageUrl-ipfs",value:g}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:g}),g=qx(g)}return e.push({type:"url",value:g}),{linkage:e,url:g}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return je(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async#r(e,n){const r=await Kd.getEnsAddress(e);try{const o=await new Ep(r,["function resolver(bytes32) view returns (address)"],e).resolver(x_(n),{enableCcipRead:!0});return o===Em?null:o}catch(i){throw i}return null}static async fromName(e,n){let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const i=await Kd.#r(e,r);if(i!=null){const o=new Kd(e,i,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}}const I6=BigInt(0);function Xt(t,e){return function(n){return n==null?e:t(n)}}function Mm(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function h0(t,e){return n=>{const r={};for(const i in t){let o=i;if(e&&i in e&&!(o in n)){for(const s of e[i])if(s in n){o=s;break}}try{const s=t[i](n[o]);s!==void 0&&(r[i]=s)}catch(s){const a=s instanceof Error?s.message:"not-an-error";je(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r}}function xpe(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}pe(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Cf(t){return pe(bn(t,!0),"invalid data","value",t),t}function Or(t){return pe(bn(t,32),"invalid hash","value",t),t}const Epe=h0({address:cn,blockHash:Or,blockNumber:Ht,data:Cf,index:Ht,removed:Xt(xpe,!1),topics:Mm(Or),transactionHash:Or,transactionIndex:Ht},{index:["logIndex"]});function Ape(t){return Epe(t)}const _pe=h0({hash:Xt(Or),parentHash:Or,parentBeaconBlockRoot:Xt(Or,null),number:Ht,timestamp:Ht,nonce:Xt(Cf),difficulty:At,gasLimit:At,gasUsed:At,stateRoot:Xt(Or,null),receiptsRoot:Xt(Or,null),blobGasUsed:Xt(At,null),excessBlobGas:Xt(At,null),miner:Xt(cn),prevRandao:Xt(Or,null),extraData:Cf,baseFeePerGas:Xt(At)},{prevRandao:["mixHash"]});function Spe(t){const e=_pe(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:Cz(n)),e}const Cpe=h0({transactionIndex:Ht,blockNumber:Ht,transactionHash:Or,address:cn,topics:Mm(Or),data:Cf,index:Ht,blockHash:Or},{index:["logIndex"]});function Tpe(t){return Cpe(t)}const Mpe=h0({to:Xt(cn,null),from:Xt(cn,null),contractAddress:Xt(cn,null),index:Ht,root:Xt(ct),gasUsed:At,blobGasUsed:Xt(At,null),logsBloom:Xt(Cf),blockHash:Or,hash:Or,logs:Mm(Tpe),blockNumber:Ht,cumulativeGasUsed:At,effectiveGasPrice:Xt(At),blobGasPrice:Xt(At,null),status:Xt(Ht),type:Xt(Ht,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Ipe(t){return Mpe(t)}function Cz(t){t.to&&At(t.to)===I6&&(t.to="0x0000000000000000000000000000000000000000");const e=h0({hash:Or,index:Xt(Ht,void 0),type:n=>n==="0x"||n==null?0:Ht(n),accessList:Xt(Du,null),blobVersionedHashes:Xt(Mm(Or,!0),null),authorizationList:Xt(Mm(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:cn(n.address),chainId:At(n.chainId),nonce:At(n.nonce),signature:zn.from(r)}},!1),null),blockHash:Xt(Or,null),blockNumber:Xt(Ht,null),transactionIndex:Xt(Ht,null),from:cn,gasPrice:Xt(At),maxPriorityFeePerGas:Xt(At),maxFeePerGas:Xt(At),maxFeePerBlobGas:Xt(At,null),gasLimit:At,to:Xt(cn,null),value:At,nonce:Ht,data:Cf,creates:Xt(cn,null),chainId:Xt(At,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=yfe(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=zn.from(t.signature):e.signature=zn.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&At(e.blockHash)===I6&&(e.blockHash=null),e}const Rpe="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class p0{name;constructor(e){Nt(this,{name:e})}clone(){return new p0(this.name)}}class X1 extends p0{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,n){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function i(o,s){let a=(n||{})[o];a==null&&(a=s),pe(typeof a=="number",`invalud value for ${o}`,"costs",n),r[o]=a}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),Nt(this,r)}clone(){return new X1(this.effectiveBlock,this)}}class Y1 extends p0{address;targetNetwork;constructor(e,n){super("org.ethers.plugins.network.Ens"),Nt(this,{address:e||Rpe,targetNetwork:n??1})}clone(){return new Y1(this.address,this.targetNetwork)}}class Ppe extends p0{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=n}clone(){return this}}const Kx=new Map;class io{#e;#t;#n;constructor(e,n){this.#e=e,this.#t=At(n),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=At(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===At(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===At(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===At(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new io(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new X1;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=Du(e.accessList);for(const o in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[o].storageKeys.length}return r}static from(e){if(Npe(),e==null)return io.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=Kx.get(e);if(n)return n();if(typeof e=="bigint")return new io("unknown",e);pe(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){pe(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new io(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new Y1(e.ensAddress,e.ensNetwork)),n}pe(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=Kx.get(e);r&&pe(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),Kx.set(e,n)}}function R6(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function P6(t){return new Ppe(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[o,s]=await Promise.all([r.send(),e()]);i=o;const a=i.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:R6(a.maxFee,9),maxPriorityFeePerGas:R6(a.maxPriorityFee,9)}}catch(o){je(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:o})}})}let N6=!1;function Npe(){if(N6)return;N6=!0;function t(e,n,r){const i=function(){const o=new io(e,n);return r.ensNetwork!=null&&o.attachPlugin(new Y1(null,r.ensNetwork)),o.attachPlugin(new X1),(r.plugins||[]).forEach(s=>{o.attachPlugin(s)}),o};io.register(e,i),io.register(n,i),r.altNames&&r.altNames.forEach(o=>{io.register(o,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[P6("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[P6("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function __(t){return JSON.parse(JSON.stringify(t))}class kpe{#e;#t;#n;#r;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#i(){try{const e=await this.#e.getBlockNumber();if(this.#r===-2){this.#r=e;return}if(e!==this.#r){for(let n=this.#r+1;n<=e;n++){if(this.#t==null)return;await this.#e.emit("block",n)}this.#r=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}}class R5{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=n=>{this._poll(n,this.#e)}}async _poll(e,n){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class Fpe extends R5{#e;#t;constructor(e,n){super(e),this.#e=n,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,n){const r=await n.getBlock(this.#e);r!=null&&(this.#t===-2?this.#t=r.number:r.number>this.#t&&(n.emit(this.#e,r.number),this.#t=r.number))}}class Ope extends R5{#e;constructor(e,n){super(e),this.#e=__(n)}async _poll(e,n){throw new Error("@TODO")}}class Bpe extends R5{#e;constructor(e,n){super(e),this.#e=n}async _poll(e,n){const r=await n.getTransactionReceipt(this.#e);r&&n.emit(this.#e,r)}}class P5{#e;#t;#n;#r;#i;constructor(e,n){this.#e=e,this.#t=__(n),this.#n=this.#s.bind(this),this.#r=!1,this.#i=-2}async#s(e){if(this.#i===-2)return;const n=__(this.#t);n.fromBlock=this.#i+1,n.toBlock=e;const r=await this.#e.getLogs(n);if(r.length===0){this.#i<e-60&&(this.#i=e-60);return}for(const i of r)this.#e.emit(this.#t,i),this.#i=i.blockNumber}start(){this.#r||(this.#r=!0,this.#i===-2&&this.#e.getBlockNumber().then(e=>{this.#i=e}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#i=-2)}resume(){this.start()}}const Lpe=BigInt(2),Dpe=10;function pg(t){return t&&typeof t.then=="function"}function Iy(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((o,s)=>(o[s]=r[s],o),{})}return r})}class Tz{name;constructor(e){Nt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Upe(t){return JSON.parse(JSON.stringify(t))}function S_(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Qx(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(bn(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:Iy("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:Iy("orphan",n),filter:Upe(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?S_(i.map(o=>o.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],o=[],s=a=>{bn(a)?i.push(a):o.push((async()=>{i.push(await ui(a,e))})())};Array.isArray(n.address)?n.address.forEach(s):s(n.address),o.length&&await Promise.all(o),r.address=S_(i.map(a=>a.toLowerCase()))}return{filter:r,tag:Iy("event",r),type:"event"}}pe(!1,"unknown ProviderEvent","event",t)}function Xx(){return new Date().getTime()}const zpe={cacheTimeout:250,pollingInterval:4e3};class jpe{#e;#t;#n;#r;#i;#s;#o;#a;#p;#u;#m;#h;constructor(e,n){if(this.#h=Object.assign({},zpe,n||{}),e==="any")this.#s=!0,this.#i=null;else if(e){const r=io.from(e);this.#s=!1,this.#i=Promise.resolve(r),setTimeout(()=>{this.emit("network",r,null)},0)}else this.#s=!1,this.#i=null;this.#a=-1,this.#o=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#p=1,this.#u=new Map,this.#m=!1}get pollingInterval(){return this.#h.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#m}set disableCcipRead(e){this.#m=!!e}async#l(e){const n=this.#h.cacheTimeout;if(n<0)return await this._perform(e);const r=Iy(e.method,e);let i=this.#o.get(r);return i||(i=this._perform(e),this.#o.set(r,i),setTimeout(()=>{this.#o.get(r)===i&&this.#o.delete(r)},n)),await i}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),o=n.toLowerCase(),s=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",o),u=new ja(c);l.indexOf("{data}")===-1&&(u.body={data:o,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let d="unknown error",f;try{f=await u.send()}catch(h){s.push(h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:h}});continue}try{const h=f.bodyJson;if(h.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:h}),h.data;h.message&&(d=h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:h})}catch{}je(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:d}}),s.push(d)}je(!1,`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:s}})}_wrapBlock(e,n){return new spe(Spe(e),this)}_wrapLog(e,n){return new d0(Ape(e),this)}_wrapTransactionReceipt(e,n){return new pz(Ipe(e),this)}_wrapTransactionResponse(e,n){return new f0(Cz(e),this)}_detectNetwork(){je(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){je(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Ht(await this.#l({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return ui(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(bn(e))return bn(e,32)?e:ts(e);if(typeof e=="bigint"&&(e=Ht(e,"blockTag")),typeof e=="number")return e>=0?ts(e):this.#a>=0?ts(this.#a+e):this.getBlockNumber().then(n=>ts(n+e));pe(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?S_(l.map(c=>c.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(l,c,u)=>{let d;switch(l.length){case 0:break;case 1:d=l[0];break;default:l.sort(),d=l}if(r&&(c!=null||u!=null))throw new Error("invalid filter");const f={};return d&&(f.address=d),n.length&&(f.topics=n),c&&(f.fromBlock=c),u&&(f.toBlock=u),r&&(f.blockHash=r),f};let o=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)o.push(this._getAddress(l));else o.push(this._getAddress(e.address));let s;"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),o.filter(l=>typeof l!="string").length||s!=null&&typeof s!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(o),s,a]).then(l=>i(l[0],l[1],l[2])):i(o,s,a)}_getTransactionRequest(e){const n=Yv(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const o=ui(n[i],this);pg(o)?r.push(async function(){n[i]=await o}()):n[i]=o}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);pg(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(this.#i==null){const i=(async()=>{try{const o=await this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw this.#i===i&&(this.#i=null),o}})();return this.#i=i,(await i).clone()}const e=this.#i,[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(this.#s?(this.emit("network",r,n),this.#i===e&&(this.#i=Promise.resolve(r))):je(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:o,priorityFee:s}=await ri({_block:this.#y("latest",!1),gasPrice:(async()=>{try{const u=await this.#l({method:"getGasPrice"});return At(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await this.#l({method:"getPriorityFee"});return At(u,"%response")}catch{}return null})()});let a=null,l=null;const c=this._wrapBlock(i,e);return c&&c.baseFeePerGas&&(l=s??BigInt("1000000000"),a=c.baseFeePerGas*Lpe+l),new S6(o,a,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new ja(r.url),o=await r.processFunc(n,this,i);return new S6(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return pg(n)&&(n=await n),At(await this.#l({method:"estimateGas",transaction:n}),"%response")}async#c(e,n,r){je(r<Dpe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=Yv(e);try{return ct(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(o){if(!this.disableCcipRead&&d5(o)&&o.data&&r>=0&&n==="latest"&&i.to!=null&&Dn(o.data,0,4)==="0x556f1830"){const s=o.data,a=await ui(i.to,this);let l;try{l=$pe(Dn(o.data,4))}catch(d){je(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:s}})}je(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(i,l.calldata,l.urls);je(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:o.data,errorArgs:l.errorArgs}});const u={to:a,data:Hn([l.selector,Vpe([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const d=await this.#c(u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw o}}async#d(e){const{value:n}=await ri({network:this.getNetwork(),value:e});return n}async call(e){const{tx:n,blockTag:r}=await ri({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#d(this.#c(n,r,e.enableCcipRead?0:-1))}async#f(e,n,r){let i=this._getAddress(n),o=this._getBlockTag(r);return(typeof i!="string"||typeof o!="string")&&([i,o]=await Promise.all([i,o])),await this.#d(this.#l(Object.assign(e,{address:i,blockTag:o})))}async getBalance(e,n){return At(await this.#f({method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Ht(await this.#f({method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return ct(await this.#f({method:"getCode"},e,n))}async getStorage(e,n,r){const i=At(n,"position");return ct(await this.#f({method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await ri({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=Xo.from(e);if(o.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,i).replaceableTransaction(n)}async#y(e,n){if(bn(e,32))return await this.#l({method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await this.#l({method:"getBlock",blockTag:r,includeTransactions:n})}async getBlock(e,n){const{network:r,params:i}=await ri({network:this.getNetwork(),params:this.#y(e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await ri({network:this.getNetwork(),params:this.#l({method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await ri({network:this.getNetwork(),params:this.#l({method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await this.#l({method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await ri({network:this.getNetwork(),result:this.#l({method:"getTransactionResult",hash:e})});return n==null?null:ct(n)}async getLogs(e){let n=this._getFilter(e);pg(n)&&(n=await n);const{network:r,params:i}=await ri({network:this.getNetwork(),params:this.#l({method:"getLogs",filter:n})});return i.map(o=>this._wrapLog(o,r))}_getProvider(e){je(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Kd.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=cn(e);const n=x_(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await Kd.getEnsAddress(this),o=await new Ep(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(o==null||o===Em)return null;const a=await new Ep(o,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(Lr(r,"BAD_DATA")&&r.value==="0x"||Lr(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(o,s)=>{let a=null;const l=async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=i){o(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",l)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),s(Tn("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){je(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=this.#u.get(e);n&&(n.timer&&clearTimeout(n.timer),this.#u.delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=this.#p++,i=()=>{this.#u.delete(r),e()};if(this.paused)this.#u.set(r,{timer:null,func:i,time:n});else{const o=setTimeout(i,n);this.#u.set(r,{timer:o,func:i,time:Xx()})}return r}_forEachSubscriber(e){for(const n of this.#e.values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Tz(e.type);case"block":{const n=new kpe(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new Fpe(this,e.type);case"event":return new P5(this,e.filter);case"transaction":return new Bpe(this,e.hash);case"orphan":return new Ope(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of this.#e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),this.#n!=null&&n.pause(this.#n);break}}async#g(e,n){let r=await Qx(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await Qx({orphan:"drop-log",log:n[0]},this)),this.#e.get(r.tag)||null}async#v(e){const n=await Qx(e,this),r=n.tag;let i=this.#e.get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(r,i)),i}async on(e,n){const r=await this.#v(e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async once(e,n){const r=await this.#v(e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async emit(e,...n){const r=await this.#g(e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:o,once:s})=>{const a=new $7(this,s?null:o,e);try{o.call(this,...n,a)}catch{}return!s}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await this.#g(e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of this.#e.values())n+=r.length;return n}async listeners(e){if(e){const r=await this.#g(e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of this.#e.values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await this.#g(e);if(!r)return this;if(n){const i=r.listeners.map(({listener:o})=>o).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await this.#v(e);r&&i.stop(),this.#e.delete(n)}else for(const[n,{started:r,subscriber:i}]of this.#e)r&&i.stop(),this.#e.delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(const e of this.#u.keys())this._clearTimeout(e);this.#r=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#n!=null){if(this.#n==!!e)return;je(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),this.#n=!!e;for(const n of this.#u.values())n.timer&&clearTimeout(n.timer),n.time=Xx()-n.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(const e of this.#u.values()){let n=e.time;n<0&&(n=0),e.time=Xx(),setTimeout(e.func,n)}}}}function Gpe(t,e){try{const n=C_(t,e);if(n)return Wv(n)}catch{}return null}function C_(t,e){if(t==="0x")return null;try{const n=Ht(Dn(t,e,e+32)),r=Ht(Dn(t,n,n+32));return Dn(t,n+32,n+32+r)}catch{}return null}function k6(t){const e=hr(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function Hpe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const Wpe=new Uint8Array([]);function Vpe(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(Wpe),n+=32;for(let r=0;r<t.length;r++){const i=Gt(t[r]);e[r]=k6(n),e.push(k6(i.length)),e.push(Hpe(i)),n+=32+Math.ceil(i.length/32)*32}return Hn(e)}const F6="0x0000000000000000000000000000000000000000000000000000000000000000";function $pe(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};je(Vd(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Dn(t,0,32);je(Dn(n,0,12)===Dn(F6,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Dn(n,12);try{const r=[],i=Ht(Dn(t,32,64)),o=Ht(Dn(t,i,i+32)),s=Dn(t,i+32);for(let a=0;a<o;a++){const l=Gpe(s,a*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{je(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=C_(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{je(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}je(Dn(t,100,128)===Dn(F6,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Dn(t,96,100);try{const r=C_(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{je(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function ac(t,e){if(t.provider)return t.provider;je(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function O6(t,e){let n=Yv(e);if(n.to!=null&&(n.to=ui(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),ui(r,t)]).then(([i,o])=>(pe(i.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),i))}else n.from=t.getAddress();return await ri(n)}class qpe{provider;constructor(e){Nt(this,{provider:e||null})}async getNonce(e){return ac(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await O6(this,e)}async populateTransaction(e){const n=ac(this,"populateTransaction"),r=await O6(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const s=At(r.chainId);pe(s===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const o=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||o)?pe(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&o&&pe(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const s=await n.getFeeData();je(s.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice)}else{const s=await n.getFeeData();if(r.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(je(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice),r.type=0):je(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return await ri(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await ac(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return ac(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return ac(this,"call").call(await this.populateCall(e))}async resolveName(e){return await ac(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=ac(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=Xo.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){je(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function Kpe(t){return JSON.parse(JSON.stringify(t))}class Mz{#e;#t;#n;#r;#i;#s;constructor(e){this.#e=e,this.#t=null,this.#n=this.#o.bind(this),this.#r=!1,this.#i=null,this.#s=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#o(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let n=null;try{n=await this.#t}catch(o){if(!Lr(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(n==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const r=await this.#e.getNetwork();if(this.#i||(this.#i=r),this.#i.chainId!==r.chainId)throw new Error("chaid changed");if(this.#s)return;const i=await this.#e.send("eth_getFilterChanges",[n]);await this._emitResults(this.#e,i)}catch(n){console.log("@TODO",n)}this.#e.once("block",this.#n)}#a(){const e=this.#t;e&&(this.#t=null,e.then(n=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[n])}))}start(){this.#r||(this.#r=!0,this.#o(-2))}stop(){this.#r&&(this.#r=!1,this.#s=!0,this.#a(),this.#e.off("block",this.#n))}pause(e){e&&this.#a(),this.#e.off("block",this.#n)}resume(){this.start()}}class Qpe extends Mz{#e;constructor(e,n){super(e),this.#e=Kpe(n)}_recover(e){return new P5(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,n){for(const r of n)e.emit(this.#e,e._wrapLog(r,e._network))}}class Xpe extends Mz{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const Ype="bigint,boolean,function,number,string,symbol".split(/,/g);function Ry(t){if(t==null||Ype.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Ry);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function Jpe(t){return new Promise(e=>{setTimeout(e,t)})}function Qu(t){return t&&t.toLowerCase()}function B6(t){return t&&typeof t.pollingInterval=="number"}const Iz={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Yx extends qpe{address;constructor(e,n){super(e),n=cn(n),Nt(this,{address:n})}connect(e){je(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const n=Ry(e),r=[];if(n.from){const o=n.from;r.push((async()=>{const s=await ui(o,this.provider);pe(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=s})())}else n.from=this.address;if(n.gasLimit==null&&r.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;r.push((async()=>{n.to=await ui(o,this.provider)})())}r.length&&await Promise.all(r);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const n=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((i,o)=>{const s=[1e3,100];let a=0;const l=async()=>{try{const c=await this.provider.getTransaction(r);if(c!=null){i(c.replaceableTransaction(n));return}}catch(c){if(Lr(c,"CANCELLED")||Lr(c,"BAD_DATA")||Lr(c,"NETWORK_ERROR")||Lr(c,"UNSUPPORTED_OPERATION")){c.info==null&&(c.info={}),c.info.sendTransactionHash=r,o(c);return}if(Lr(c,"INVALID_ARGUMENT")&&(a++,c.info==null&&(c.info={}),c.info.sendTransactionHash=r,a>10)){o(c);return}this.provider.emit("error",Tn("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:c}))}this.provider._setTimeout(()=>{l()},s.pop()||4e3)};l()})}async signTransaction(e){const n=Ry(e);if(n.from){const i=await ui(n.from,this.provider);pe(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=i}else n.from=this.address;const r=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const n=typeof e=="string"?Ra(e):e;return await this.provider.send("personal_sign",[ct(n),this.address.toLowerCase()])}async signTypedData(e,n,r){const i=Ry(r),o=await $i.resolveNames(e,n,i,async s=>{const a=await ui(s);return pe(a!=null,"TypedData does not support null address","value",s),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify($i.getPayload(o.domain,n,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const n=typeof e=="string"?Ra(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ct(n)])}}class Zpe extends jpe{#e;#t;#n;#r;#i;#s;#o;#a(){if(this.#r)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;const n=this.#n;for(this.#n=[];n.length;){const r=[n.shift()];for(;n.length&&r.length!==this.#e.batchMaxCount;)if(r.push(n.shift()),JSON.stringify(r.map(o=>o.payload)).length>this.#e.batchMaxSize){n.unshift(r.pop());break}(async()=>{const i=r.length===1?r[0].payload:r.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:s,reject:a,payload:l}of r){if(this.destroyed){a(Tn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const c=o.filter(u=>u.id===l.id)[0];if(c==null){const u=Tn("missing response for request","BAD_DATA",{value:o,info:{payload:l}});this.emit("error",u),a(u);continue}if("error"in c){a(this.getRpcError(l,c));continue}s(c.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:s}of r)s(o)}})()}},e)}constructor(e,n){super(e,n),this.#t=1,this.#e=Object.assign({},Iz,n||{}),this.#n=[],this.#r=null,this.#s=null,this.#o=null;{let i=null;const o=new Promise(s=>{i=s});this.#i={promise:o,resolve:i}}const r=this._getOption("staticNetwork");typeof r=="boolean"?(pe(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",n),r&&e!=null&&(this.#s=io.from(e))):r&&(pe(e==null||r.matches(e),"staticNetwork MUST match network object","options",n),this.#s=r)}_getOption(e){return this.#e[e]}get _network(){return je(this.#s,"network is not available yet","NETWORK_ERROR"),this.#s}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&At(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}const n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#s)return this.#s}else return e;return this.#o?await this.#o:this.ready?(this.#o=(async()=>{try{const n=io.from(At(await this.send("eth_chainId",[])));return this.#o=null,n}catch(n){throw this.#o=null,n}})(),await this.#o):(this.#o=(async()=>{const n={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let r;try{r=(await this._send(n))[0],this.#o=null}catch(i){throw this.#o=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return io.from(At(r.result));throw this.getRpcError(n,r)})(),await this.#o)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#s==null&&!this.destroyed;)try{this.#s=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Tn("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Jpe(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(e){return e.type==="pending"?new Xpe(this):e.type==="event"?this._getOption("polling")?new P5(this,e.filter):new Qpe(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Tz("orphan"):super._getSubscriber(e)}get ready(){return this.#i==null}getRpcTransaction(e){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let i=r;r==="gasLimit"&&(i="gas"),n[i]=ts(At(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(n[r]=ct(e[r]))}),e.accessList&&(n.accessList=Du(e.accessList)),e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes.map(r=>r.toLowerCase())),e.authorizationList&&(n.authorizationList=e.authorizationList.map(r=>{const i=F9(r);return{address:i.address,nonce:ts(i.nonce),chainId:ts(i.chainId),yParity:ts(i.signature.yParity),r:ts(i.signature.r),s:ts(i.signature.s)}})),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Qu(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Qu(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Qu(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Qu(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Qu):e.filter.address=Qu(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){const{method:r}=e,{error:i}=n;if(r==="eth_estimateGas"&&i.message){const a=i.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Tn("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return Tn("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if(r==="eth_call"||r==="eth_estimateGas"){const a=T_(i),l=Sf.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return l.info={error:i,payload:e},l}const o=JSON.stringify(tme(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Tn("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){const a=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Tn("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return Tn("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Tn("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:i}});if(o.match(/only replay-protected/i))return Tn("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:a,info:{error:i}}})}let s=!!o.match(/the method .* does not exist/i);return s||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(s=!0),s?Tn("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):Tn("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(Tn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#t++,i=new Promise((o,s)=>{this.#n.push({resolve:o,reject:s,payload:{method:e,params:n,id:r,jsonrpc:"2.0"}})});return this.#a(),i}async getSigner(e){e==null&&(e=0);const n=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await n;if(e>=i.length)throw new Error("no such account");return new Yx(this,i[e])}const{accounts:r}=await ri({network:this.getNetwork(),accounts:n});e=cn(e);for(const i of r)if(cn(i)===e)return new Yx(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new Yx(this,n))}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(const{payload:e,reject:n}of this.#n)n(Tn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}}class eme extends Zpe{#e;constructor(e,n){super(e,n);let r=this._getOption("pollingInterval");r==null&&(r=Iz.pollingInterval),this.#e=r}_getSubscriber(e){const n=super._getSubscriber(e);return B6(n)&&(n.pollingInterval=this.#e),n}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(n=>{B6(n)&&(n.pollingInterval=this.#e)})}}function T_(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&bn(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=T_(t[e]);if(n)return n}return null}if(typeof t=="string")try{return T_(JSON.parse(t))}catch{}return null}function M_(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)M_(t[n],e);if(typeof t=="string")try{return M_(JSON.parse(t),e)}catch{}}}function tme(t){const e=[];return M_(t,e),e}class Ac extends eme{#e;#t;constructor(e,n,r){const i=Object.assign({},r??{},{batchMaxCount:1});pe(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(n,i),this.#t=null,r&&r.providerInfo&&(this.#t=r.providerInfo),this.#e=async(o,s)=>{const a={method:o,params:s};this.emit("debug",{action:"sendEip1193Request",payload:a});try{const l=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){const c=new Error(l.message);throw c.code=l.code,c.data=l.data,c.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:c}),c}}}get providerInfo(){return this.#t}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){pe(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const n=await this.#e(e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);const n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(n){const r=n.payload;throw this.getRpcError(r,{id:r.id,error:n})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new Ac(e.provider);const n=e.window?e.window:typeof window<"u"?window:null;if(n==null)return null;const r=e.anyProvider;if(r&&n.ethereum)return new Ac(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const i=e.timeout?e.timeout:300;return i===0?null:await new Promise((o,s)=>{let a=[];const l=d=>{a.push(d.detail),r&&c()},c=()=>{if(clearTimeout(u),a.length)if(e&&e.filter){const d=e.filter(a.map(f=>Object.assign({},f.info)));if(d==null)o(null);else if(d instanceof Ac)o(d);else{let f=null;if(d.uuid&&(f=a.filter(g=>d.uuid===g.info.uuid)[0]),f){const{provider:h,info:g}=f;o(new Ac(h,void 0,{providerInfo:g}))}else s(Tn("filter returned unknown info","UNSUPPORTED_OPERATION",{value:d}))}}else{const{provider:d,info:f}=a[0];o(new Ac(d,void 0,{providerInfo:f}))}else o(null);n.removeEventListener("eip6963:announceProvider",l)},u=setTimeout(()=>{c()},i);n.addEventListener("eip6963:announceProvider",l),n.dispatchEvent(new Event("eip6963:requestProvider"))})}}var nme={VITE_PLATFORM_FEE_RECEIVER:"0x47d80671Bcb7Ec368ef4d3ca6E1C20173CCc9a28",VITE_ETHEREUM_RPC_URL:"your_ethereum_rpc_url_here",VITE_SEPOLIA_RPC_URL:"your_sepolia_rpc_url_here",VITE_BASE_RPC_URL:"https://base-mainnet.g.alchemy.com/v2/hoaKpKFy40ibWtxftFZbJNUk5NQoL0R3",VITE_ALCHEMY_API_KEY:"hoaKpKFy40ibWtxftFZbJNUk5NQoL0R3",VITE_BASESCAN_API_KEY:"PD6BITPMKB19J57SJN1MB2XH5FQJ54GBE1",VITE_ETHERSCAN_API_KEY:"your_etherscan_api_key_here",VITE_BSCSCAN_API_KEY:"your_bscscan_api_key_here",VITE_AVALANCHE_API_KEY:"your_avalanche_api_key_here",VITE_POLYGONSCAN_API_KEY:"your_polygonscan_api_key_here",VITE_REPORT_GAS:"true",NODE_ENV:"production"};const Rz=U.createContext(),po=()=>{const t=U.useContext(Rz);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},rme=({children:t})=>{const{showSuccess:e,showError:n,showInfo:r}=Js(),{address:i,isConnected:o,isConnecting:s}=Ir(),a=t0(),{switchChain:l}=VD(),{data:c}=$D(),u=NT(),[d,f]=U.useState([]),[h,g]=U.useState(!1),m={1:{name:"Ethereum",symbol:"ETH",network:Ne.ETH_MAINNET},137:{name:"Polygon",symbol:"MATIC",network:Ne.MATIC_MAINNET},8453:{name:"Base",symbol:"ETH",network:Ne.BASE_MAINNET},42161:{name:"Arbitrum",symbol:"ETH",network:Ne.ARB_MAINNET},10:{name:"Optimism",symbol:"ETH",network:Ne.OPT_MAINNET},56:{name:"BSC",symbol:"BNB",network:Ne.BSC_MAINNET},43114:{name:"Avalanche",symbol:"AVAX",network:Ne.AVAX_MAINNET}},y=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),p=async()=>{try{await l({chainId:8453}),e("Switched to Base network")}catch(T){console.error("Network switch error:",T),n("Failed to switch to Base network")}},v=async()=>{if(i){g(!0);try{const T=m[a];if(!T)throw new Error("Unsupported network");const k=nme.VITE_ALCHEMY_API_KEY;console.log("Using Alchemy API key:",k);const A=new Eue({apiKey:k,network:T.network});console.log(" Loading NFTs for:",{address:i,chain:T.name,network:T.network});let z=[],S=null;do{const P=await A.nft.getNftsForOwner(i,{omitMetadata:!1,pageKey:S});console.log(" Raw NFTs from Alchemy:",{count:P.ownedNfts.length,pageKey:P.pageKey,totalCount:P.totalCount}),z=[...z,...P.ownedNfts],S=P.pageKey}while(S);console.log(" Total NFTs found:",z.length);const N=await Promise.all(z.map(async P=>({contractAddress:P.contract.address,tokenId:P.tokenId,name:P.title||P.name||`#${P.tokenId}`,collection:P.contract.name||"Unknown Collection",image:P.media?.[0]?.gateway||P.media?.[0]?.raw||P.image?.originalUrl||P.image?.cachedUrl||"",chain:T.name,description:P.description||"",animationUrl:P.media?.[0]?.format==="mp4"?P.media[0].gateway:P.animation_url||""})));console.log(" Loaded NFTs:",{count:N.length,nfts:N}),f(N)}catch(T){console.error(" Error loading NFTs:",T),n("Failed to load NFTs: "+T.message)}finally{g(!1)}}};U.useEffect(()=>{i?v():f([])},[i,a]),U.useEffect(()=>{o&&i&&e(`Connected to ${i.slice(0,6)}...${i.slice(-4)}`)},[o,i]),U.useEffect(()=>{console.log(" WalletContext state:",{isConnected:o,address:i,chainId:a,hasWalletClient:!!c,hasPublicClient:!!u,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)})},[o,i,a,c,u]);const w=()=>{if(c&&c.transport)try{return{getSigner:()=>(console.warn("getSigner() is deprecated. Use walletClient directly for transactions."),null)}}catch(T){console.error("Failed to create provider wrapper:",T)}if(window.ethereum)try{return new Ac(window.ethereum)}catch(T){console.error("Failed to create ethers provider:",T)}return null},x={isConnected:o,isConnecting:s,loading:h,address:i,chainId:a,chain:m[a]||{name:"Unknown",symbol:"ETH"},chains:m,switchChain:l,switchToBase:p,nfts:d,loadNFTs:v,isMobile:y,walletClient:c,publicClient:u,provider:w()};return F(Rz.Provider,{value:x,children:t})},Pz=U.createContext(),N5=()=>{const t=U.useContext(Pz);if(!t)throw new Error("useProfile must be used within a ProfileProvider");return t},ime=({children:t})=>{const{address:e}=po(),[n,r]=U.useState({}),[i,o]=U.useState({}),s="https://cryptoflipz2-production.up.railway.app";console.log(" ProfileContext API_BASE:",s,"NODE_ENV:","production");const a=async v=>{try{return(await m(v))?.name||""}catch(w){return console.error("Error getting player name:",w),""}},l=async(v,w)=>{try{const x=await m(v);await y(v,{...x,name:w}),r(T=>({...T,[v]:{...T[v],name:w}}))}catch(x){throw console.error("Error setting player name:",x),x}},c=async v=>{try{return(await m(v))?.avatar||""}catch(w){return console.error("Error getting profile picture:",w),""}},u=async(v,w)=>{try{const x=await m(v);await y(v,{...x,avatar:w}),r(T=>({...T,[v]:{...T[v],avatar:w}}))}catch(x){throw console.error("Error setting profile picture:",x),x}},d=async v=>{try{console.log(" Getting coin heads image for:",v);const w=await m(v);return console.log(" Profile loaded for heads:",{hasProfile:!!w,hasHeadsImage:!!w?.headsImage,headsLength:w?.headsImage?.length||0}),w?.headsImage||null}catch(w){return console.error("Error getting coin heads image:",w),null}},f=async(v,w)=>{try{const x=await m(v);await y(v,{...x,headsImage:w}),r(T=>({...T,[v]:{...T[v],headsImage:w}}))}catch(x){throw console.error("Error setting coin heads image:",x),x}},h=async v=>{try{console.log(" Getting coin tails image for:",v);const w=await m(v);return console.log(" Profile loaded for tails:",{hasProfile:!!w,hasTailsImage:!!w?.tailsImage,tailsLength:w?.tailsImage?.length||0}),w?.tailsImage||null}catch(w){return console.error("Error getting coin tails image:",w),null}},g=async(v,w)=>{try{const x=await m(v);await y(v,{...x,tailsImage:w}),r(T=>({...T,[v]:{...T[v],tailsImage:w}}))}catch(x){throw console.error("Error setting coin tails image:",x),x}},m=async v=>{if(i[v])return new Promise(w=>{const x=()=>{i[v]?setTimeout(x,100):w(n[v]||null)};x()});if(n[v])return n[v];o(w=>({...w,[v]:!0}));try{console.log(" Fetching profile from:",`${s}/api/profile/${v}`);const w=await fetch(`${s}/api/profile/${v}`);if(console.log(" Profile API response:",{status:w.status,ok:w.ok,statusText:w.statusText}),w.ok){const x=await w.json();return console.log(" Profile data received:",{address:x.address,hasName:!!x.name,hasAvatar:!!x.avatar,hasHeadsImage:!!x.headsImage,hasTailsImage:!!x.tailsImage}),r(T=>({...T,[v]:x})),x}else{console.warn("Profile not found, returning empty profile");const x={address:v,name:"",avatar:"",headsImage:"",tailsImage:""};return r(T=>({...T,[v]:x})),x}}catch(w){console.error("Error fetching profile:",w);const x={address:v,name:"",avatar:"",headsImage:"",tailsImage:""};return r(T=>({...T,[v]:x})),x}finally{o(w=>({...w,[v]:!1}))}},y=async(v,w)=>{try{const x=await fetch(`${s}/api/profile/${v}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!x.ok)throw new Error("Failed to update profile");return await x.json()}catch(x){throw console.error("Error updating profile:",x),x}},p={getPlayerName:a,setPlayerName:l,getProfilePicture:c,setProfilePicture:u,getCoinHeadsImage:d,setCoinHeadsImage:f,getCoinTailsImage:h,setCoinTailsImage:g};return F(Pz.Provider,{value:p,children:t})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mn(){return Mn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mn.apply(this,arguments)}var Zn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zn||(Zn={}));const L6="popstate";function ome(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Im("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Eu(i)}return ame(e,n,null,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sme(){return Math.random().toString(36).substr(2,8)}function D6(t,e){return{usr:t.state,key:t.key,idx:e}}function Im(t,e,n,r){return n===void 0&&(n=null),Mn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nc(e):e,{state:n,key:e&&e.key||r||sme()})}function Eu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function nc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ame(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Zn.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Mn({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Zn.Pop;let y=u(),p=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:p})}function f(y,p){a=Zn.Push;let v=Im(m.location,y,p);c=u()+1;let w=D6(v,c),x=m.createHref(v);try{s.pushState(w,"",x)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(x)}o&&l&&l({action:a,location:m.location,delta:1})}function h(y,p){a=Zn.Replace;let v=Im(m.location,y,p);c=u();let w=D6(v,c),x=m.createHref(v);s.replaceState(w,"",x),o&&l&&l({action:a,location:m.location,delta:0})}function g(y){let p=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:Eu(y);return v=v.replace(/ $/,"%20"),qt(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let m={get action(){return a},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(L6,d),l=y,()=>{i.removeEventListener(L6,d),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let p=g(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:h,go(y){return s.go(y)}};return m}var dn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dn||(dn={}));const lme=new Set(["lazy","caseSensitive","path","id","index","children"]);function cme(t){return t.index===!0}function Zv(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],a=typeof i.id=="string"?i.id:s.join("-");if(qt(i.index!==!0||!i.children,"Cannot specify children on an index route"),qt(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),cme(i)){let l=Mn({},i,e(i),{id:a});return r[a]=l,l}else{let l=Mn({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Zv(i.children,e,s,r)),l}})}function _c(t,e,n){return n===void 0&&(n="/"),Py(t,e,n,!1)}function Py(t,e,n,r){let i=typeof e=="string"?nc(e):e,o=ih(i.pathname||"/",n);if(o==null)return null;let s=Nz(t);dme(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=Eme(o);a=bme(s[l],c,r)}return a}function ume(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Nz(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(qt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Na([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(qt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Nz(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:vme(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of kz(o.path))i(o,s,l)}),e}function kz(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=kz(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function dme(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wme(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fme=/^:[\w-]+$/,hme=3,pme=2,mme=1,gme=10,yme=-2,U6=t=>t==="*";function vme(t,e){let n=t.split("/"),r=n.length;return n.some(U6)&&(r+=yme),e&&(r+=pme),n.filter(i=>!U6(i)).reduce((i,o)=>i+(fme.test(o)?hme:o===""?mme:gme),r)}function wme(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bme(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=z6({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=z6({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Na([o,d.pathname]),pathnameBase:Sme(Na([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Na([o,d.pathnameBase]))}return s}function z6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xme(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let m=a[d]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[d];return h&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function xme(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Tf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Eme(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ih(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ame(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?nc(t):t;return{pathname:n?n.startsWith("/")?n:_me(n,e):e,search:Cme(r),hash:Tme(i)}}function _me(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jx(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function k5(t,e){let n=Fz(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function F5(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=nc(t):(i=Mn({},t),qt(!i.pathname||!i.pathname.includes("?"),Jx("?","pathname","search",i)),qt(!i.pathname||!i.pathname.includes("#"),Jx("#","pathname","hash",i)),qt(!i.search||!i.search.includes("#"),Jx("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Ame(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Na=t=>t.join("/").replace(/\/\/+/g,"/"),Sme=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Cme=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Tme=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class ew{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Rm(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Oz=["post","put","patch","delete"],Mme=new Set(Oz),Ime=["get",...Oz],Rme=new Set(Ime),Pme=new Set([301,302,303,307,308]),Nme=new Set([307,308]),Zx={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kme={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ph={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},O5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fme=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Bz="remix-router-transitions";function Ome(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;qt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let ie=t.detectErrorBoundary;i=me=>({hasErrorBoundary:ie(me)})}else i=Fme;let o={},s=Zv(t.routes,i,void 0,o),a,l=t.basename||"/",c=t.dataStrategy||Ume,u=t.patchRoutesOnNavigation,d=Mn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,h=new Set,g=null,m=null,y=null,p=t.hydrationData!=null,v=_c(s,t.history.location,l),w=!1,x=null;if(v==null&&!u){let ie=Ei(404,{pathname:t.history.location.pathname}),{matches:me,route:ve}=Y6(s);v=me,x={[ve.id]:ie}}v&&!t.hydrationData&&Ft(v,s,t.history.location.pathname).active&&(v=null);let T;if(v)if(v.some(ie=>ie.route.lazy))T=!1;else if(!v.some(ie=>ie.route.loader))T=!0;else if(d.v7_partialHydration){let ie=t.hydrationData?t.hydrationData.loaderData:null,me=t.hydrationData?t.hydrationData.errors:null;if(me){let ve=v.findIndex(Me=>me[Me.route.id]!==void 0);T=v.slice(0,ve+1).every(Me=>!R_(Me.route,ie,me))}else T=v.every(ve=>!R_(ve.route,ie,me))}else T=t.hydrationData!=null;else if(T=!1,v=[],d.v7_partialHydration){let ie=Ft(null,s,t.history.location.pathname);ie.active&&ie.matches&&(w=!0,v=ie.matches)}let k,A={historyAction:t.history.action,location:t.history.location,matches:v,initialized:T,navigation:Zx,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},z=Zn.Pop,S=!1,N,P=!1,W=new Map,B=null,b=!1,E=!1,I=[],O=new Set,C=new Map,j=0,H=-1,D=new Map,M=new Set,$=new Map,J=new Map,Z=new Set,ce=new Map,oe=new Map,Ae;function de(){if(f=t.history.listen(ie=>{let{action:me,location:ve,delta:Me}=ie;if(Ae){Ae(),Ae=void 0;return}Tf(oe.size===0||Me!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let et=it({currentLocation:A.location,nextLocation:ve,historyAction:me});if(et&&Me!=null){let st=new Promise(nt=>{Ae=nt});t.history.go(Me*-1),le(et,{state:"blocked",location:ve,proceed(){le(et,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),st.then(()=>t.history.go(Me))},reset(){let nt=new Map(A.blockers);nt.set(et,Ph),we({blockers:nt})}});return}return ft(me,ve)}),n){Zme(e,W);let ie=()=>e0e(e,W);e.addEventListener("pagehide",ie),B=()=>e.removeEventListener("pagehide",ie)}return A.initialized||ft(Zn.Pop,A.location,{initialHydration:!0}),k}function Re(){f&&f(),B&&B(),h.clear(),N&&N.abort(),A.fetchers.forEach((ie,me)=>Y(me)),A.blockers.forEach((ie,me)=>rt(me))}function ae(ie){return h.add(ie),()=>h.delete(ie)}function we(ie,me){me===void 0&&(me={}),A=Mn({},A,ie);let ve=[],Me=[];d.v7_fetcherPersist&&A.fetchers.forEach((et,st)=>{et.state==="idle"&&(Z.has(st)?Me.push(st):ve.push(st))}),Z.forEach(et=>{!A.fetchers.has(et)&&!C.has(et)&&Me.push(et)}),[...h].forEach(et=>et(A,{deletedFetchers:Me,viewTransitionOpts:me.viewTransitionOpts,flushSync:me.flushSync===!0})),d.v7_fetcherPersist?(ve.forEach(et=>A.fetchers.delete(et)),Me.forEach(et=>Y(et))):Me.forEach(et=>Z.delete(et))}function Ve(ie,me,ve){var Me,et;let{flushSync:st}=ve===void 0?{}:ve,nt=A.actionData!=null&&A.navigation.formMethod!=null&&Jo(A.navigation.formMethod)&&A.navigation.state==="loading"&&((Me=ie.state)==null?void 0:Me._isRedirect)!==!0,pt;me.actionData?Object.keys(me.actionData).length>0?pt=me.actionData:pt=null:nt?pt=A.actionData:pt=null;let Xe=me.loaderData?Q6(A.loaderData,me.loaderData,me.matches||[],me.errors):A.loaderData,Ke=A.blockers;Ke.size>0&&(Ke=new Map(Ke),Ke.forEach((Ct,gn)=>Ke.set(gn,Ph)));let Et=S===!0||A.navigation.formMethod!=null&&Jo(A.navigation.formMethod)&&((et=ie.state)==null?void 0:et._isRedirect)!==!0;a&&(s=a,a=void 0),b||z===Zn.Pop||(z===Zn.Push?t.history.push(ie,ie.state):z===Zn.Replace&&t.history.replace(ie,ie.state));let wt;if(z===Zn.Pop){let Ct=W.get(A.location.pathname);Ct&&Ct.has(ie.pathname)?wt={currentLocation:A.location,nextLocation:ie}:W.has(ie.pathname)&&(wt={currentLocation:ie,nextLocation:A.location})}else if(P){let Ct=W.get(A.location.pathname);Ct?Ct.add(ie.pathname):(Ct=new Set([ie.pathname]),W.set(A.location.pathname,Ct)),wt={currentLocation:A.location,nextLocation:ie}}we(Mn({},me,{actionData:pt,loaderData:Xe,historyAction:z,location:ie,initialized:!0,navigation:Zx,revalidation:"idle",restoreScrollPosition:un(ie,me.matches||A.matches),preventScrollReset:Et,blockers:Ke}),{viewTransitionOpts:wt,flushSync:st===!0}),z=Zn.Pop,S=!1,P=!1,b=!1,E=!1,I=[]}async function te(ie,me){if(typeof ie=="number"){t.history.go(ie);return}let ve=I_(A.location,A.matches,l,d.v7_prependBasename,ie,d.v7_relativeSplatPath,me?.fromRouteId,me?.relative),{path:Me,submission:et,error:st}=j6(d.v7_normalizeFormMethod,!1,ve,me),nt=A.location,pt=Im(A.location,Me,me&&me.state);pt=Mn({},pt,t.history.encodeLocation(pt));let Xe=me&&me.replace!=null?me.replace:void 0,Ke=Zn.Push;Xe===!0?Ke=Zn.Replace:Xe===!1||et!=null&&Jo(et.formMethod)&&et.formAction===A.location.pathname+A.location.search&&(Ke=Zn.Replace);let Et=me&&"preventScrollReset"in me?me.preventScrollReset===!0:void 0,wt=(me&&me.flushSync)===!0,Ct=it({currentLocation:nt,nextLocation:pt,historyAction:Ke});if(Ct){le(Ct,{state:"blocked",location:pt,proceed(){le(Ct,{state:"proceeding",proceed:void 0,reset:void 0,location:pt}),te(ie,me)},reset(){let gn=new Map(A.blockers);gn.set(Ct,Ph),we({blockers:gn})}});return}return await ft(Ke,pt,{submission:et,pendingError:st,preventScrollReset:Et,replace:me&&me.replace,enableViewTransition:me&&me.viewTransition,flushSync:wt})}function Be(){if(G(),we({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){ft(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}ft(z||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:P===!0})}}async function ft(ie,me,ve){N&&N.abort(),N=null,z=ie,b=(ve&&ve.startUninterruptedRevalidation)===!0,lt(A.location,A.matches),S=(ve&&ve.preventScrollReset)===!0,P=(ve&&ve.enableViewTransition)===!0;let Me=a||s,et=ve&&ve.overrideNavigation,st=ve!=null&&ve.initialHydration&&A.matches&&A.matches.length>0&&!w?A.matches:_c(Me,me,l),nt=(ve&&ve.flushSync)===!0;if(st&&A.initialized&&!E&&Vme(A.location,me)&&!(ve&&ve.submission&&Jo(ve.submission.formMethod))){Ve(me,{matches:st},{flushSync:nt});return}let pt=Ft(st,Me,me.pathname);if(pt.active&&pt.matches&&(st=pt.matches),!st){let{error:K,notFoundMatches:se,route:ye}=Ee(me.pathname);Ve(me,{matches:se,loaderData:{},errors:{[ye.id]:K}},{flushSync:nt});return}N=new AbortController;let Xe=Xu(t.history,me,N.signal,ve&&ve.submission),Ke;if(ve&&ve.pendingError)Ke=[Sc(st).route.id,{type:dn.error,error:ve.pendingError}];else if(ve&&ve.submission&&Jo(ve.submission.formMethod)){let K=await ut(Xe,me,ve.submission,st,pt.active,{replace:ve.replace,flushSync:nt});if(K.shortCircuited)return;if(K.pendingActionResult){let[se,ye]=K.pendingActionResult;if(Ji(ye)&&Rm(ye.error)&&ye.error.status===404){N=null,Ve(me,{matches:K.matches,loaderData:{},errors:{[se]:ye.error}});return}}st=K.matches||st,Ke=K.pendingActionResult,et=eE(me,ve.submission),nt=!1,pt.active=!1,Xe=Xu(t.history,Xe.url,Xe.signal)}let{shortCircuited:Et,matches:wt,loaderData:Ct,errors:gn}=await Je(Xe,me,st,pt.active,et,ve&&ve.submission,ve&&ve.fetcherSubmission,ve&&ve.replace,ve&&ve.initialHydration===!0,nt,Ke);Et||(N=null,Ve(me,Mn({matches:wt||st},X6(Ke),{loaderData:Ct,errors:gn})))}async function ut(ie,me,ve,Me,et,st){st===void 0&&(st={}),G();let nt=Yme(me,ve);if(we({navigation:nt},{flushSync:st.flushSync===!0}),et){let Ke=await Mt(Me,me.pathname,ie.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let Et=Sc(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,pendingActionResult:[Et,{type:dn.error,error:Ke.error}]}}else if(Ke.matches)Me=Ke.matches;else{let{notFoundMatches:Et,error:wt,route:Ct}=Ee(me.pathname);return{matches:Et,pendingActionResult:[Ct.id,{type:dn.error,error:wt}]}}}let pt,Xe=Jh(Me,me);if(!Xe.route.action&&!Xe.route.lazy)pt={type:dn.error,error:Ei(405,{method:ie.method,pathname:me.pathname,routeId:Xe.route.id})};else if(pt=(await Ie("action",A,ie,[Xe],Me,null))[Xe.route.id],ie.signal.aborted)return{shortCircuited:!0};if(jc(pt)){let Ke;return st&&st.replace!=null?Ke=st.replace:Ke=$6(pt.response.headers.get("Location"),new URL(ie.url),l)===A.location.pathname+A.location.search,await _e(ie,pt,!0,{submission:ve,replace:Ke}),{shortCircuited:!0}}if(_l(pt))throw Ei(400,{type:"defer-action"});if(Ji(pt)){let Ke=Sc(Me,Xe.route.id);return(st&&st.replace)!==!0&&(z=Zn.Push),{matches:Me,pendingActionResult:[Ke.route.id,pt]}}return{matches:Me,pendingActionResult:[Xe.route.id,pt]}}async function Je(ie,me,ve,Me,et,st,nt,pt,Xe,Ke,Et){let wt=et||eE(me,st),Ct=st||nt||Z6(wt),gn=!b&&(!d.v7_partialHydration||!Xe);if(Me){if(gn){let ue=kt(Et);we(Mn({navigation:wt},ue!==void 0?{actionData:ue}:{}),{flushSync:Ke})}let dt=await Mt(ve,me.pathname,ie.signal);if(dt.type==="aborted")return{shortCircuited:!0};if(dt.type==="error"){let ue=Sc(dt.partialMatches).route.id;return{matches:dt.partialMatches,loaderData:{},errors:{[ue]:dt.error}}}else if(dt.matches)ve=dt.matches;else{let{error:ue,notFoundMatches:Le,route:Oe}=Ee(me.pathname);return{matches:Le,loaderData:{},errors:{[Oe.id]:ue}}}}let K=a||s,[se,ye]=H6(t.history,A,ve,Ct,me,d.v7_partialHydration&&Xe===!0,d.v7_skipActionErrorRevalidation,E,I,O,Z,$,M,K,l,Et);if(Te(dt=>!(ve&&ve.some(ue=>ue.route.id===dt))||se&&se.some(ue=>ue.route.id===dt)),H=++j,se.length===0&&ye.length===0){let dt=ke();return Ve(me,Mn({matches:ve,loaderData:{},errors:Et&&Ji(Et[1])?{[Et[0]]:Et[1].error}:null},X6(Et),dt?{fetchers:new Map(A.fetchers)}:{}),{flushSync:Ke}),{shortCircuited:!0}}if(gn){let dt={};if(!Me){dt.navigation=wt;let ue=kt(Et);ue!==void 0&&(dt.actionData=ue)}ye.length>0&&(dt.fetchers=ot(ye)),we(dt,{flushSync:Ke})}ye.forEach(dt=>{ne(dt.key),dt.controller&&C.set(dt.key,dt.controller)});let be=()=>ye.forEach(dt=>ne(dt.key));N&&N.signal.addEventListener("abort",be);let{loaderResults:he,fetcherResults:ze}=await ge(A,ve,se,ye,ie);if(ie.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",be),ye.forEach(dt=>C.delete(dt.key));let Ye=mg(he);if(Ye)return await _e(ie,Ye.result,!0,{replace:pt}),{shortCircuited:!0};if(Ye=mg(ze),Ye)return M.add(Ye.key),await _e(ie,Ye.result,!0,{replace:pt}),{shortCircuited:!0};let{loaderData:gt,errors:mt}=K6(A,ve,he,Et,ye,ze,ce);ce.forEach((dt,ue)=>{dt.subscribe(Le=>{(Le||dt.done)&&ce.delete(ue)})}),d.v7_partialHydration&&Xe&&A.errors&&(mt=Mn({},A.errors,mt));let Tt=ke(),Rt=qe(H),yt=Tt||Rt||ye.length>0;return Mn({matches:ve,loaderData:gt,errors:mt},yt?{fetchers:new Map(A.fetchers)}:{})}function kt(ie){if(ie&&!Ji(ie[1]))return{[ie[0]]:ie[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function ot(ie){return ie.forEach(me=>{let ve=A.fetchers.get(me.key),Me=Nh(void 0,ve?ve.data:void 0);A.fetchers.set(me.key,Me)}),new Map(A.fetchers)}function X(ie,me,ve,Me){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ne(ie);let et=(Me&&Me.flushSync)===!0,st=a||s,nt=I_(A.location,A.matches,l,d.v7_prependBasename,ve,d.v7_relativeSplatPath,me,Me?.relative),pt=_c(st,nt,l),Xe=Ft(pt,st,nt);if(Xe.active&&Xe.matches&&(pt=Xe.matches),!pt){R(ie,me,Ei(404,{pathname:nt}),{flushSync:et});return}let{path:Ke,submission:Et,error:wt}=j6(d.v7_normalizeFormMethod,!0,nt,Me);if(wt){R(ie,me,wt,{flushSync:et});return}let Ct=Jh(pt,Ke),gn=(Me&&Me.preventScrollReset)===!0;if(Et&&Jo(Et.formMethod)){V(ie,me,Ke,Ct,pt,Xe.active,et,gn,Et);return}$.set(ie,{routeId:me,path:Ke}),fe(ie,me,Ke,Ct,pt,Xe.active,et,gn,Et)}async function V(ie,me,ve,Me,et,st,nt,pt,Xe){G(),$.delete(ie);function Ke(Pe){if(!Pe.route.action&&!Pe.route.lazy){let We=Ei(405,{method:Xe.formMethod,pathname:ve,routeId:me});return R(ie,me,We,{flushSync:nt}),!0}return!1}if(!st&&Ke(Me))return;let Et=A.fetchers.get(ie);_(ie,Jme(Xe,Et),{flushSync:nt});let wt=new AbortController,Ct=Xu(t.history,ve,wt.signal,Xe);if(st){let Pe=await Mt(et,new URL(Ct.url).pathname,Ct.signal,ie);if(Pe.type==="aborted")return;if(Pe.type==="error"){R(ie,me,Pe.error,{flushSync:nt});return}else if(Pe.matches){if(et=Pe.matches,Me=Jh(et,ve),Ke(Me))return}else{R(ie,me,Ei(404,{pathname:ve}),{flushSync:nt});return}}C.set(ie,wt);let gn=j,se=(await Ie("action",A,Ct,[Me],et,ie))[Me.route.id];if(Ct.signal.aborted){C.get(ie)===wt&&C.delete(ie);return}if(d.v7_fetcherPersist&&Z.has(ie)){if(jc(se)||Ji(se)){_(ie,pl(void 0));return}}else{if(jc(se))if(C.delete(ie),H>gn){_(ie,pl(void 0));return}else return M.add(ie),_(ie,Nh(Xe)),_e(Ct,se,!1,{fetcherSubmission:Xe,preventScrollReset:pt});if(Ji(se)){R(ie,me,se.error);return}}if(_l(se))throw Ei(400,{type:"defer-action"});let ye=A.navigation.location||A.location,be=Xu(t.history,ye,wt.signal),he=a||s,ze=A.navigation.state!=="idle"?_c(he,A.navigation.location,l):A.matches;qt(ze,"Didn't find any matches after fetcher action");let Ye=++j;D.set(ie,Ye);let gt=Nh(Xe,se.data);A.fetchers.set(ie,gt);let[mt,Tt]=H6(t.history,A,ze,Xe,ye,!1,d.v7_skipActionErrorRevalidation,E,I,O,Z,$,M,he,l,[Me.route.id,se]);Tt.filter(Pe=>Pe.key!==ie).forEach(Pe=>{let We=Pe.key,xn=A.fetchers.get(We),Pt=Nh(void 0,xn?xn.data:void 0);A.fetchers.set(We,Pt),ne(We),Pe.controller&&C.set(We,Pe.controller)}),we({fetchers:new Map(A.fetchers)});let Rt=()=>Tt.forEach(Pe=>ne(Pe.key));wt.signal.addEventListener("abort",Rt);let{loaderResults:yt,fetcherResults:dt}=await ge(A,ze,mt,Tt,be);if(wt.signal.aborted)return;wt.signal.removeEventListener("abort",Rt),D.delete(ie),C.delete(ie),Tt.forEach(Pe=>C.delete(Pe.key));let ue=mg(yt);if(ue)return _e(be,ue.result,!1,{preventScrollReset:pt});if(ue=mg(dt),ue)return M.add(ue.key),_e(be,ue.result,!1,{preventScrollReset:pt});let{loaderData:Le,errors:Oe}=K6(A,ze,yt,void 0,Tt,dt,ce);if(A.fetchers.has(ie)){let Pe=pl(se.data);A.fetchers.set(ie,Pe)}qe(Ye),A.navigation.state==="loading"&&Ye>H?(qt(z,"Expected pending action"),N&&N.abort(),Ve(A.navigation.location,{matches:ze,loaderData:Le,errors:Oe,fetchers:new Map(A.fetchers)})):(we({errors:Oe,loaderData:Q6(A.loaderData,Le,ze,Oe),fetchers:new Map(A.fetchers)}),E=!1)}async function fe(ie,me,ve,Me,et,st,nt,pt,Xe){let Ke=A.fetchers.get(ie);_(ie,Nh(Xe,Ke?Ke.data:void 0),{flushSync:nt});let Et=new AbortController,wt=Xu(t.history,ve,Et.signal);if(st){let se=await Mt(et,new URL(wt.url).pathname,wt.signal,ie);if(se.type==="aborted")return;if(se.type==="error"){R(ie,me,se.error,{flushSync:nt});return}else if(se.matches)et=se.matches,Me=Jh(et,ve);else{R(ie,me,Ei(404,{pathname:ve}),{flushSync:nt});return}}C.set(ie,Et);let Ct=j,K=(await Ie("loader",A,wt,[Me],et,ie))[Me.route.id];if(_l(K)&&(K=await B5(K,wt.signal,!0)||K),C.get(ie)===Et&&C.delete(ie),!wt.signal.aborted){if(Z.has(ie)){_(ie,pl(void 0));return}if(jc(K))if(H>Ct){_(ie,pl(void 0));return}else{M.add(ie),await _e(wt,K,!1,{preventScrollReset:pt});return}if(Ji(K)){R(ie,me,K.error);return}qt(!_l(K),"Unhandled fetcher deferred data"),_(ie,pl(K.data))}}async function _e(ie,me,ve,Me){let{submission:et,fetcherSubmission:st,preventScrollReset:nt,replace:pt}=Me===void 0?{}:Me;me.response.headers.has("X-Remix-Revalidate")&&(E=!0);let Xe=me.response.headers.get("Location");qt(Xe,"Expected a Location header on the redirect Response"),Xe=$6(Xe,new URL(ie.url),l);let Ke=Im(A.location,Xe,{_isRedirect:!0});if(n){let se=!1;if(me.response.headers.has("X-Remix-Reload-Document"))se=!0;else if(O5.test(Xe)){const ye=t.history.createURL(Xe);se=ye.origin!==e.location.origin||ih(ye.pathname,l)==null}if(se){pt?e.location.replace(Xe):e.location.assign(Xe);return}}N=null;let Et=pt===!0||me.response.headers.has("X-Remix-Replace")?Zn.Replace:Zn.Push,{formMethod:wt,formAction:Ct,formEncType:gn}=A.navigation;!et&&!st&&wt&&Ct&&gn&&(et=Z6(A.navigation));let K=et||st;if(Nme.has(me.response.status)&&K&&Jo(K.formMethod))await ft(Et,Ke,{submission:Mn({},K,{formAction:Xe}),preventScrollReset:nt||S,enableViewTransition:ve?P:void 0});else{let se=eE(Ke,et);await ft(Et,Ke,{overrideNavigation:se,fetcherSubmission:st,preventScrollReset:nt||S,enableViewTransition:ve?P:void 0})}}async function Ie(ie,me,ve,Me,et,st){let nt,pt={};try{nt=await zme(c,ie,me,ve,Me,et,st,o,i)}catch(Xe){return Me.forEach(Ke=>{pt[Ke.route.id]={type:dn.error,error:Xe}}),pt}for(let[Xe,Ke]of Object.entries(nt))if($me(Ke)){let Et=Ke.result;pt[Xe]={type:dn.redirect,response:Hme(Et,ve,Xe,et,l,d.v7_relativeSplatPath)}}else pt[Xe]=await Gme(Ke);return pt}async function ge(ie,me,ve,Me,et){let st=ie.matches,nt=Ie("loader",ie,et,ve,me,null),pt=Promise.all(Me.map(async Et=>{if(Et.matches&&Et.match&&Et.controller){let Ct=(await Ie("loader",ie,Xu(t.history,Et.path,Et.controller.signal),[Et.match],Et.matches,Et.key))[Et.match.route.id];return{[Et.key]:Ct}}else return Promise.resolve({[Et.key]:{type:dn.error,error:Ei(404,{pathname:Et.path})}})})),Xe=await nt,Ke=(await pt).reduce((Et,wt)=>Object.assign(Et,wt),{});return await Promise.all([Qme(me,Xe,et.signal,st,ie.loaderData),Xme(me,Ke,Me)]),{loaderResults:Xe,fetcherResults:Ke}}function G(){E=!0,I.push(...Te()),$.forEach((ie,me)=>{C.has(me)&&O.add(me),ne(me)})}function _(ie,me,ve){ve===void 0&&(ve={}),A.fetchers.set(ie,me),we({fetchers:new Map(A.fetchers)},{flushSync:(ve&&ve.flushSync)===!0})}function R(ie,me,ve,Me){Me===void 0&&(Me={});let et=Sc(A.matches,me);Y(ie),we({errors:{[et.route.id]:ve},fetchers:new Map(A.fetchers)},{flushSync:(Me&&Me.flushSync)===!0})}function Q(ie){return J.set(ie,(J.get(ie)||0)+1),Z.has(ie)&&Z.delete(ie),A.fetchers.get(ie)||kme}function Y(ie){let me=A.fetchers.get(ie);C.has(ie)&&!(me&&me.state==="loading"&&D.has(ie))&&ne(ie),$.delete(ie),D.delete(ie),M.delete(ie),d.v7_fetcherPersist&&Z.delete(ie),O.delete(ie),A.fetchers.delete(ie)}function ee(ie){let me=(J.get(ie)||0)-1;me<=0?(J.delete(ie),Z.add(ie),d.v7_fetcherPersist||Y(ie)):J.set(ie,me),we({fetchers:new Map(A.fetchers)})}function ne(ie){let me=C.get(ie);me&&(me.abort(),C.delete(ie))}function Ue(ie){for(let me of ie){let ve=Q(me),Me=pl(ve.data);A.fetchers.set(me,Me)}}function ke(){let ie=[],me=!1;for(let ve of M){let Me=A.fetchers.get(ve);qt(Me,"Expected fetcher: "+ve),Me.state==="loading"&&(M.delete(ve),ie.push(ve),me=!0)}return Ue(ie),me}function qe(ie){let me=[];for(let[ve,Me]of D)if(Me<ie){let et=A.fetchers.get(ve);qt(et,"Expected fetcher: "+ve),et.state==="loading"&&(ne(ve),D.delete(ve),me.push(ve))}return Ue(me),me.length>0}function ht(ie,me){let ve=A.blockers.get(ie)||Ph;return oe.get(ie)!==me&&oe.set(ie,me),ve}function rt(ie){A.blockers.delete(ie),oe.delete(ie)}function le(ie,me){let ve=A.blockers.get(ie)||Ph;qt(ve.state==="unblocked"&&me.state==="blocked"||ve.state==="blocked"&&me.state==="blocked"||ve.state==="blocked"&&me.state==="proceeding"||ve.state==="blocked"&&me.state==="unblocked"||ve.state==="proceeding"&&me.state==="unblocked","Invalid blocker state transition: "+ve.state+" -> "+me.state);let Me=new Map(A.blockers);Me.set(ie,me),we({blockers:Me})}function it(ie){let{currentLocation:me,nextLocation:ve,historyAction:Me}=ie;if(oe.size===0)return;oe.size>1&&Tf(!1,"A router only supports one blocker at a time");let et=Array.from(oe.entries()),[st,nt]=et[et.length-1],pt=A.blockers.get(st);if(!(pt&&pt.state==="proceeding")&&nt({currentLocation:me,nextLocation:ve,historyAction:Me}))return st}function Ee(ie){let me=Ei(404,{pathname:ie}),ve=a||s,{matches:Me,route:et}=Y6(ve);return Te(),{notFoundMatches:Me,route:et,error:me}}function Te(ie){let me=[];return ce.forEach((ve,Me)=>{(!ie||ie(Me))&&(ve.cancel(),me.push(Me),ce.delete(Me))}),me}function tt(ie,me,ve){if(g=ie,y=me,m=ve||null,!p&&A.navigation===Zx){p=!0;let Me=un(A.location,A.matches);Me!=null&&we({restoreScrollPosition:Me})}return()=>{g=null,y=null,m=null}}function He(ie,me){return m&&m(ie,me.map(Me=>ume(Me,A.loaderData)))||ie.key}function lt(ie,me){if(g&&y){let ve=He(ie,me);g[ve]=y()}}function un(ie,me){if(g){let ve=He(ie,me),Me=g[ve];if(typeof Me=="number")return Me}return null}function Ft(ie,me,ve){if(u)if(ie){if(Object.keys(ie[0].params).length>0)return{active:!0,matches:Py(me,ve,l,!0)}}else return{active:!0,matches:Py(me,ve,l,!0)||[]};return{active:!1,matches:null}}async function Mt(ie,me,ve,Me){if(!u)return{type:"success",matches:ie};let et=ie;for(;;){let st=a==null,nt=a||s,pt=o;try{await u({signal:ve,path:me,matches:et,fetcherKey:Me,patch:(Et,wt)=>{ve.aborted||V6(Et,wt,nt,pt,i)}})}catch(Et){return{type:"error",error:Et,partialMatches:et}}finally{st&&!ve.aborted&&(s=[...s])}if(ve.aborted)return{type:"aborted"};let Xe=_c(nt,me,l);if(Xe)return{type:"success",matches:Xe};let Ke=Py(nt,me,l,!0);if(!Ke||et.length===Ke.length&&et.every((Et,wt)=>Et.route.id===Ke[wt].route.id))return{type:"success",matches:null};et=Ke}}function lr(ie){o={},a=Zv(ie,i,void 0,o)}function Kt(ie,me){let ve=a==null;V6(ie,me,a||s,o,i),ve&&(s=[...s],we({}))}return k={get basename(){return l},get future(){return d},get state(){return A},get routes(){return s},get window(){return e},initialize:de,subscribe:ae,enableScrollRestoration:tt,navigate:te,fetch:X,revalidate:Be,createHref:ie=>t.history.createHref(ie),encodeLocation:ie=>t.history.encodeLocation(ie),getFetcher:Q,deleteFetcher:ee,dispose:Re,getBlocker:ht,deleteBlocker:rt,patchRoutes:Kt,_internalFetchControllers:C,_internalActiveDeferreds:ce,_internalSetRoutes:lr},k}function Bme(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function I_(t,e,n,r,i,o,s,a){let l,c;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){c=d;break}}else l=e,c=e[e.length-1];let u=F5(i||".",k5(l,o),ih(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let d=L5(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let f=new URLSearchParams(u.search),h=f.getAll("index");f.delete("index"),h.filter(m=>m).forEach(m=>f.append("index",m));let g=f.toString();u.search=g?"?"+g:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Na([n,u.pathname])),Eu(u)}function j6(t,e,n,r){if(!r||!Bme(r))return{path:n};if(r.formMethod&&!Kme(r.formMethod))return{path:n,error:Ei(405,{method:r.formMethod})};let i=()=>({path:n,error:Ei(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=Uz(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Jo(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,g)=>{let[m,y]=g;return""+h+m+"="+y+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Jo(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}qt(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=P_(r.formData),c=r.formData;else if(r.body instanceof FormData)l=P_(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=q6(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=q6(l)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Jo(u.formMethod))return{path:n,submission:u};let d=nc(n);return e&&d.search&&L5(d.search)&&l.append("index",""),d.search="?"+l,{path:Eu(d),submission:u}}function G6(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function H6(t,e,n,r,i,o,s,a,l,c,u,d,f,h,g,m){let y=m?Ji(m[1])?m[1].error:m[1].data:void 0,p=t.createURL(e.location),v=t.createURL(i),w=n;o&&e.errors?w=G6(n,Object.keys(e.errors)[0],!0):m&&Ji(m[1])&&(w=G6(n,m[0]));let x=m?m[1].statusCode:void 0,T=s&&x&&x>=400,k=w.filter((z,S)=>{let{route:N}=z;if(N.lazy)return!0;if(N.loader==null)return!1;if(o)return R_(N,e.loaderData,e.errors);if(Lme(e.loaderData,e.matches[S],z)||l.some(B=>B===z.route.id))return!0;let P=e.matches[S],W=z;return W6(z,Mn({currentUrl:p,currentParams:P.params,nextUrl:v,nextParams:W.params},r,{actionResult:y,actionStatus:x,defaultShouldRevalidate:T?!1:a||p.pathname+p.search===v.pathname+v.search||p.search!==v.search||Lz(P,W)}))}),A=[];return d.forEach((z,S)=>{if(o||!n.some(b=>b.route.id===z.routeId)||u.has(S))return;let N=_c(h,z.path,g);if(!N){A.push({key:S,routeId:z.routeId,path:z.path,matches:null,match:null,controller:null});return}let P=e.fetchers.get(S),W=Jh(N,z.path),B=!1;f.has(S)?B=!1:c.has(S)?(c.delete(S),B=!0):P&&P.state!=="idle"&&P.data===void 0?B=a:B=W6(W,Mn({currentUrl:p,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:y,actionStatus:x,defaultShouldRevalidate:T?!1:a})),B&&A.push({key:S,routeId:z.routeId,path:z.path,matches:N,match:W,controller:new AbortController})}),[k,A]}function R_(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function Lme(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Lz(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function W6(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function V6(t,e,n,r,i){var o;let s;if(t){let c=r[t];qt(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),s=c.children}else s=n;let a=e.filter(c=>!s.some(u=>Dz(c,u))),l=Zv(a,i,[t||"_","patch",String(((o=s)==null?void 0:o.length)||"0")],r);s.push(...l)}function Dz(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>Dz(n,o))}):!1}async function Dme(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];qt(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Tf(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!lme.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Mn({},e(i),{lazy:void 0}))}async function Ume(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function zme(t,e,n,r,i,o,s,a,l,c){let u=o.map(h=>h.route.lazy?Dme(h.route,l,a):void 0),d=o.map((h,g)=>{let m=u[g],y=i.some(v=>v.route.id===h.route.id);return Mn({},h,{shouldLoad:y,resolve:async v=>(v&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(y=!0),y?jme(e,r,h,m,v,c):Promise.resolve({type:dn.data,result:void 0}))})}),f=await t({matches:d,request:r,params:o[0].params,fetcherKey:s,context:c});try{await Promise.all(u)}catch{}return f}async function jme(t,e,n,r,i,o){let s,a,l=c=>{let u,d=new Promise((g,m)=>u=m);a=()=>u(),e.signal.addEventListener("abort",a);let f=g=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:o},...g!==void 0?[g]:[]),h=(async()=>{try{return{type:"data",result:await(i?i(m=>f(m)):f())}}catch(g){return{type:"error",result:g}}})();return Promise.race([h,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;s=d}else if(await r,c=n.route[t],c)s=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Ei(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:dn.data,result:void 0};else if(c)s=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Ei(404,{pathname:d})}qt(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:dn.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return s}async function Gme(t){let{result:e,type:n}=t;if(zz(e)){let d;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(f){return{type:dn.error,error:f}}return n===dn.error?{type:dn.error,error:new ew(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:dn.data,data:d,statusCode:e.status,headers:e.headers}}if(n===dn.error){if(J6(e)){var r,i;if(e.data instanceof Error){var o,s;return{type:dn.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:dn.error,error:new ew(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Rm(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:dn.error,error:e,statusCode:Rm(e)?e.status:void 0}}if(qme(e)){var a,l;return{type:dn.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(J6(e)){var c,u;return{type:dn.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:dn.data,data:e}}function Hme(t,e,n,r,i,o){let s=t.headers.get("Location");if(qt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!O5.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=I_(new URL(e.url),a,i,!0,s,o),t.headers.set("Location",s)}return t}function $6(t,e,n){if(O5.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=ih(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Xu(t,e,n,r){let i=t.createURL(Uz(e)).toString(),o={signal:n};if(r&&Jo(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=P_(r.formData):o.body=r.formData}return new Request(i,o)}function P_(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function q6(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Wme(t,e,n,r,i){let o={},s=null,a,l=!1,c={},u=n&&Ji(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,h=e[f];if(qt(!jc(h),"Cannot handle redirect results in processLoaderData"),Ji(h)){let g=h.error;u!==void 0&&(g=u,u=void 0),s=s||{};{let m=Sc(t,f);s[m.route.id]==null&&(s[m.route.id]=g)}o[f]=void 0,l||(l=!0,a=Rm(h.error)?h.error.status:500),h.headers&&(c[f]=h.headers)}else _l(h)?(r.set(f,h.deferredData),o[f]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers)):(o[f]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers))}),u!==void 0&&n&&(s={[n[0]]:u},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function K6(t,e,n,r,i,o,s){let{loaderData:a,errors:l}=Wme(e,n,r,s);return i.forEach(c=>{let{key:u,match:d,controller:f}=c,h=o[u];if(qt(h,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Ji(h)){let g=Sc(t.matches,d?.route.id);l&&l[g.route.id]||(l=Mn({},l,{[g.route.id]:h.error})),t.fetchers.delete(u)}else if(jc(h))qt(!1,"Unhandled fetcher revalidation redirect");else if(_l(h))qt(!1,"Unhandled fetcher deferred data");else{let g=pl(h.data);t.fetchers.set(u,g)}}),{loaderData:a,errors:l}}function Q6(t,e,n,r){let i=Mn({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function X6(t){return t?Ji(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Sc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Y6(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ei(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new ew(t||500,a,new Error(l),!0)}function mg(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(jc(i))return{key:r,result:i}}}function Uz(t){let e=typeof t=="string"?nc(t):t;return Eu(Mn({},e,{hash:""}))}function Vme(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function $me(t){return zz(t.result)&&Pme.has(t.result.status)}function _l(t){return t.type===dn.deferred}function Ji(t){return t.type===dn.error}function jc(t){return(t&&t.type)===dn.redirect}function J6(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function qme(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function zz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Kme(t){return Rme.has(t.toLowerCase())}function Jo(t){return Mme.has(t.toLowerCase())}async function Qme(t,e,n,r,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[a,l]=o[s],c=t.find(f=>f?.route.id===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!Lz(u,c)&&(i&&i[c.route.id])!==void 0;_l(l)&&d&&await B5(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function Xme(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],a=e[i];t.find(c=>c?.route.id===o)&&_l(a)&&(qt(s,"Expected an AbortController for revalidating fetcher deferred result"),await B5(a,s.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function B5(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:dn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:dn.error,error:i}}return{type:dn.data,data:t.deferredData.data}}}function L5(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Jh(t,e){let n=typeof e=="string"?nc(e).search:e.search;if(t[t.length-1].route.index&&L5(n||""))return t[t.length-1];let r=Fz(t);return r[r.length-1]}function Z6(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function eE(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Yme(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Nh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Jme(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function pl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Zme(t,e){try{let n=t.sessionStorage.getItem(Bz);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function e0e(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Bz,JSON.stringify(n))}catch(r){Tf(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(this,arguments)}const J1=U.createContext(null),jz=U.createContext(null),zu=U.createContext(null),D5=U.createContext(null),Qa=U.createContext({outlet:null,matches:[],isDataRoute:!1}),Gz=U.createContext(null);function t0e(t,e){let{relative:n}=e===void 0?{}:e;m0()||qt(!1);let{basename:r,navigator:i}=U.useContext(zu),{hash:o,pathname:s,search:a}=Vz(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Na([r,s])),i.createHref({pathname:l,search:a,hash:o})}function m0(){return U.useContext(D5)!=null}function Z1(){return m0()||qt(!1),U.useContext(D5).location}function Hz(t){U.useContext(zu).static||U.useLayoutEffect(t)}function oh(){let{isDataRoute:t}=U.useContext(Qa);return t?m0e():n0e()}function n0e(){m0()||qt(!1);let t=U.useContext(J1),{basename:e,future:n,navigator:r}=U.useContext(zu),{matches:i}=U.useContext(Qa),{pathname:o}=Z1(),s=JSON.stringify(k5(i,n.v7_relativeSplatPath)),a=U.useRef(!1);return Hz(()=>{a.current=!0}),U.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=F5(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Na([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,t])}const r0e=U.createContext(null);function i0e(t){let e=U.useContext(Qa).outlet;return e&&U.createElement(r0e.Provider,{value:t},e)}function Wz(){let{matches:t}=U.useContext(Qa),e=t[t.length-1];return e?e.params:{}}function Vz(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(zu),{matches:i}=U.useContext(Qa),{pathname:o}=Z1(),s=JSON.stringify(k5(i,r.v7_relativeSplatPath));return U.useMemo(()=>F5(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function o0e(t,e,n,r){m0()||qt(!1);let{navigator:i}=U.useContext(zu),{matches:o}=U.useContext(Qa),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Z1(),u;u=c;let d=u.pathname||"/",f=d;if(l!=="/"){let m=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(m.length).join("/")}let h=_c(t,{pathname:f});return u0e(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:Na([l,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:Na([l,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r)}function s0e(){let t=p0e(),e=Rm(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const a0e=U.createElement(s0e,null);class l0e extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(Qa.Provider,{value:this.props.routeContext},U.createElement(Gz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c0e(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(J1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Qa.Provider,{value:e},r)}function u0e(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);u>=0||qt(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let h,g=!1,m=null,y=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||a0e,l&&(c<0&&f===0?(g0e("route-fallback"),g=!0,y=null):c===f&&(g=!0,y=d.route.hydrateFallbackElement||null)));let p=e.concat(s.slice(0,f+1)),v=()=>{let w;return h?w=m:g?w=y:d.route.Component?w=U.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,U.createElement(c0e,{match:d,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?U.createElement(l0e,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var $z=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($z||{}),qz=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qz||{});function d0e(t){let e=U.useContext(J1);return e||qt(!1),e}function f0e(t){let e=U.useContext(jz);return e||qt(!1),e}function h0e(t){let e=U.useContext(Qa);return e||qt(!1),e}function Kz(t){let e=h0e(),n=e.matches[e.matches.length-1];return n.route.id||qt(!1),n.route.id}function p0e(){var t;let e=U.useContext(Gz),n=f0e(qz.UseRouteError),r=Kz();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function m0e(){let{router:t}=d0e($z.UseNavigateStable),e=Kz(),n=U.useRef(!1);return Hz(()=>{n.current=!0}),U.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,tw({fromRouteId:e},o)))},[t,e])}const eN={};function g0e(t,e,n){eN[t]||(eN[t]=!0)}function y0e(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function v0e(t){return i0e(t.context)}function w0e(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Zn.Pop,navigator:o,static:s=!1,future:a}=t;m0()&&qt(!1);let l=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:o,static:s,future:tw({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=nc(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:g="default"}=r,m=U.useMemo(()=>{let y=ih(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:g},navigationType:i}},[l,u,d,f,h,g,i]);return m==null?null:U.createElement(zu.Provider,{value:c},U.createElement(D5.Provider,{children:n,value:m}))}new Promise(()=>{});function b0e(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:U.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:U.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:U.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(this,arguments)}function x0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function E0e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function A0e(t,e){return t.button===0&&(!e||e==="_self")&&!E0e(t)}const _0e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],S0e="6";try{window.__reactRouterVersion=S0e}catch{}function C0e(t,e){return Ome({basename:void 0,future:Pm({},void 0,{v7_prependBasename:!0}),history:ome({window:void 0}),hydrationData:T0e(),routes:t,mapRouteProperties:b0e,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function T0e(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Pm({},e,{errors:M0e(e.errors)})),e}function M0e(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new ew(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const I0e=U.createContext({isTransitioning:!1}),R0e=U.createContext(new Map),P0e="startTransition",tN=KE[P0e],N0e="flushSync",nN=qV[N0e];function k0e(t){tN?tN(t):t()}function kh(t){nN?nN(t):t()}class F0e{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function O0e(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=U.useState(n.state),[s,a]=U.useState(),[l,c]=U.useState({isTransitioning:!1}),[u,d]=U.useState(),[f,h]=U.useState(),[g,m]=U.useState(),y=U.useRef(new Map),{v7_startTransition:p}=r||{},v=U.useCallback(z=>{p?k0e(z):z()},[p]),w=U.useCallback((z,S)=>{let{deletedFetchers:N,flushSync:P,viewTransitionOpts:W}=S;z.fetchers.forEach((b,E)=>{b.data!==void 0&&y.current.set(E,b.data)}),N.forEach(b=>y.current.delete(b));let B=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!W||B){P?kh(()=>o(z)):v(()=>o(z));return}if(P){kh(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:W.currentLocation,nextLocation:W.nextLocation})});let b=n.window.document.startViewTransition(()=>{kh(()=>o(z))});b.finished.finally(()=>{kh(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})})}),kh(()=>h(b));return}f?(u&&u.resolve(),f.skipTransition(),m({state:z,currentLocation:W.currentLocation,nextLocation:W.nextLocation})):(a(z),c({isTransitioning:!0,flushSync:!1,currentLocation:W.currentLocation,nextLocation:W.nextLocation}))},[n.window,f,u,y,v]);U.useLayoutEffect(()=>n.subscribe(w),[n,w]),U.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new F0e)},[l]),U.useEffect(()=>{if(u&&s&&n.window){let z=s,S=u.promise,N=n.window.document.startViewTransition(async()=>{v(()=>o(z)),await S});N.finished.finally(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})}),h(N)}},[v,s,u,n.window]),U.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,f,i.location,s]),U.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),c({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),m(void 0))},[l.isTransitioning,g]),U.useEffect(()=>{},[]);let x=U.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:z=>n.navigate(z),push:(z,S,N)=>n.navigate(z,{state:S,preventScrollReset:N?.preventScrollReset}),replace:(z,S,N)=>n.navigate(z,{replace:!0,state:S,preventScrollReset:N?.preventScrollReset})}),[n]),T=n.basename||"/",k=U.useMemo(()=>({router:n,navigator:x,static:!1,basename:T}),[n,x,T]),A=U.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return U.useEffect(()=>y0e(r,n.future),[r,n.future]),U.createElement(U.Fragment,null,U.createElement(J1.Provider,{value:k},U.createElement(jz.Provider,{value:i},U.createElement(R0e.Provider,{value:y.current},U.createElement(I0e.Provider,{value:l},U.createElement(w0e,{basename:T,location:i.location,navigationType:i.historyAction,navigator:x,future:A},i.initialized||n.future.v7_partialHydration?U.createElement(B0e,{routes:n.routes,future:n.future,state:i}):e))))),null)}const B0e=U.memo(L0e);function L0e(t){let{routes:e,future:n,state:r}=t;return o0e(e,void 0,r,n)}const D0e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U0e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g0=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=x0e(e,_0e),{basename:h}=U.useContext(zu),g,m=!1;if(typeof c=="string"&&U0e.test(c)&&(g=c,D0e))try{let w=new URL(window.location.href),x=c.startsWith("//")?new URL(w.protocol+c):new URL(c),T=ih(x.pathname,h);x.origin===w.origin&&T!=null?c=T+x.search+x.hash:m=!0}catch{}let y=t0e(c,{relative:i}),p=z0e(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function v(w){r&&r(w),w.defaultPrevented||p(w)}return U.createElement("a",Pm({},f,{href:g||y,onClick:m||o?r:v,ref:n,target:l}))});var rN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rN||(rN={}));var iN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iN||(iN={}));function z0e(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=oh(),c=Z1(),u=Vz(t,{relative:s});return U.useCallback(d=>{if(A0e(d,n)){d.preventDefault();let f=r!==void 0?r:Eu(c)===Eu(u);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}var oN=function(e,n){var r=arguments;if(n==null||!Dm.call(n,"css"))return U.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=HS,o[1]=GS(e,n);for(var s=2;s<i;s++)o[s]=r[s];return U.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(oN||(oN={}));function j0e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return jS(e)}function G0e(){var t=j0e.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var H0e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,W0e=xF(function(t){return H0e.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),V0e=W0e,$0e=function(e){return e!=="theme"},sN=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?V0e:$0e},aN=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},q0e=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return zS(n,r,i),RF(function(){return MF(n,r,i)}),null},xe=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=aN(e,n,r),l=a||sN(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var f=u[0];d.push(f[0]);for(var h=u.length,g=1;g<h;g++)d.push(u[g],f[g])}var m=NF(function(y,p,v){var w=c&&y.as||i,x="",T=[],k=y;if(y.theme==null){k={};for(var A in y)k[A]=y[A];k.theme=U.useContext(qy)}typeof y.className=="string"?x=TF(p.registered,T,y.className):y.className!=null&&(x=y.className+" ");var z=jS(d.concat(T),p.registered,k);x+=p.key+"-"+z.name,s!==void 0&&(x+=" "+s);var S=c&&a===void 0?sN(w):l,N={};for(var P in y)c&&P==="as"||S(P)&&(N[P]=y[P]);return N.className=x,v&&(N.ref=v),U.createElement(U.Fragment,null,U.createElement(q0e,{cache:p,serialized:z,isStringTag:typeof w=="string"}),U.createElement(w,N))});return m.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+s}}),m.withComponent=function(y,p){var v=t(y,$y({},n,p,{shouldForwardProp:aN(m,p,!0)}));return v.apply(void 0,d)},m}};const Ze={colors:{bgDark:"#0a0a1a",neonPink:"#00ff9d",neonGreen:"#00FF41",neonBlue:"#00bfff",neonPurple:"#b026ff",neonYellow:"#ffde03",neonOrange:"#ff6b00",textPrimary:"#ffffff",textSecondary:"rgba(255, 255, 255, 0.7)",textTertiary:"rgba(255, 255, 255, 0.5)",statusSuccess:"#00FF41",statusWarning:"#ffde03",statusError:"#ff1493"},shadows:{neon:"0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41",neonGreen:"0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41",neonBlue:"0 0 5px #00bfff, 0 0 10px #00bfff, 0 0 20px #00bfff, 0 0 40px #00bfff",neonPurple:"0 0 5px #b026ff, 0 0 10px #b026ff, 0 0 20px #b026ff, 0 0 40px #b026ff",glass:"0 8px 32px rgba(0, 0, 0, 0.2)"},animations:{neonPulse:`
      @keyframes neonPulse {
        0%, 100% {
          text-shadow: 0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41;
        }
        50% {
          text-shadow: 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41, 0 0 80px #00FF41;
        }
      }
    `,neonBorder:`
      @keyframes neonBorder {
        0%, 100% {
          box-shadow: 0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41;
        }
        50% {
          box-shadow: 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41, 0 0 80px #00FF41;
        }
      }
    `,neonRotate:`
      @keyframes neonRotate {
        0% { filter: hue-rotate(0deg); }
        100% { filter: hue-rotate(360deg); }
      }
    `,neonFloat:`
      @keyframes neonFloat {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }
    `,neonGlow:`
      @keyframes neonGlow {
        0%, 100% {
          opacity: 1;
          filter: brightness(1);
        }
        50% {
          opacity: 0.8;
          filter: brightness(1.5);
        }
      }
    `,psychedelicBg:`
      @keyframes psychedelicBg {
        0% {
          background: radial-gradient(circle at 50% 50%, rgba(0, 255, 65, 0.1) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        25% {
          background: radial-gradient(circle at 75% 25%, rgba(0, 255, 65, 0.15) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        50% {
          background: radial-gradient(circle at 50% 50%, rgba(0, 255, 65, 0.2) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        75% {
          background: radial-gradient(circle at 25% 75%, rgba(0, 255, 65, 0.15) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        100% {
          background: radial-gradient(circle at 50% 50%, rgba(0, 255, 65, 0.1) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
      }
    `},transitions:{default:"200ms cubic-bezier(0.4, 0, 0.2, 1)",fast:"150ms cubic-bezier(0.4, 0, 0.2, 1)",slow:"300ms cubic-bezier(0.4, 0, 0.2, 1)"}},Ny="/assets/haze-z9wVEcTU.webm";var Ri=function(){return Ri=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ri.apply(this,arguments)};function nw(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var _n="-ms-",Ap="-moz-",an="-webkit-",Qz="comm",eb="rule",U5="decl",K0e="@import",Xz="@keyframes",Q0e="@layer",Yz=Math.abs,z5=String.fromCharCode,N_=Object.assign;function X0e(t,e){return Ar(t,0)^45?(((e<<2^Ar(t,0))<<2^Ar(t,1))<<2^Ar(t,2))<<2^Ar(t,3):0}function Jz(t){return t.trim()}function pa(t,e){return(t=e.exec(t))?t[0]:t}function Ut(t,e,n){return t.replace(e,n)}function ky(t,e,n){return t.indexOf(e,n)}function Ar(t,e){return t.charCodeAt(e)|0}function Mf(t,e,n){return t.slice(e,n)}function Ns(t){return t.length}function Zz(t){return t.length}function Zh(t,e){return e.push(t),t}function Y0e(t,e){return t.map(e).join("")}function lN(t,e){return t.filter(function(n){return!pa(n,e)})}var tb=1,If=1,ej=0,Uo=0,tr=0,sh="";function nb(t,e,n,r,i,o,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:tb,column:If,length:s,return:"",siblings:a}}function ml(t,e){return N_(nb("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Yu(t){for(;t.root;)t=ml(t.root,{children:[t]});Zh(t,t.siblings)}function J0e(){return tr}function Z0e(){return tr=Uo>0?Ar(sh,--Uo):0,If--,tr===10&&(If=1,tb--),tr}function ds(){return tr=Uo<ej?Ar(sh,Uo++):0,If++,tr===10&&(If=1,tb++),tr}function Jc(){return Ar(sh,Uo)}function Fy(){return Uo}function rb(t,e){return Mf(sh,t,e)}function k_(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ege(t){return tb=If=1,ej=Ns(sh=t),Uo=0,[]}function tge(t){return sh="",t}function tE(t){return Jz(rb(Uo-1,F_(t===91?t+2:t===40?t+1:t)))}function nge(t){for(;(tr=Jc())&&tr<33;)ds();return k_(t)>2||k_(tr)>3?"":" "}function rge(t,e){for(;--e&&ds()&&!(tr<48||tr>102||tr>57&&tr<65||tr>70&&tr<97););return rb(t,Fy()+(e<6&&Jc()==32&&ds()==32))}function F_(t){for(;ds();)switch(tr){case t:return Uo;case 34:case 39:t!==34&&t!==39&&F_(tr);break;case 40:t===41&&F_(t);break;case 92:ds();break}return Uo}function ige(t,e){for(;ds()&&t+tr!==57;)if(t+tr===84&&Jc()===47)break;return"/*"+rb(e,Uo-1)+"*"+z5(t===47?t:ds())}function oge(t){for(;!k_(Jc());)ds();return rb(t,Uo)}function sge(t){return tge(Oy("",null,null,null,[""],t=ege(t),0,[0],t))}function Oy(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,h=0,g=0,m=1,y=1,p=1,v=0,w="",x=i,T=o,k=r,A=w;y;)switch(g=v,v=ds()){case 40:if(g!=108&&Ar(A,d-1)==58){ky(A+=Ut(tE(v),"&","&\f"),"&\f",Yz(c?a[c-1]:0))!=-1&&(p=-1);break}case 34:case 39:case 91:A+=tE(v);break;case 9:case 10:case 13:case 32:A+=nge(g);break;case 92:A+=rge(Fy()-1,7);continue;case 47:switch(Jc()){case 42:case 47:Zh(age(ige(ds(),Fy()),e,n,l),l);break;default:A+="/"}break;case 123*m:a[c++]=Ns(A)*p;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:p==-1&&(A=Ut(A,/\f/g,"")),h>0&&Ns(A)-d&&Zh(h>32?uN(A+";",r,n,d-1,l):uN(Ut(A," ","")+";",r,n,d-2,l),l);break;case 59:A+=";";default:if(Zh(k=cN(A,e,n,c,u,i,a,w,x=[],T=[],d,o),o),v===123)if(u===0)Oy(A,e,k,k,x,o,d,a,T);else switch(f===99&&Ar(A,3)===110?100:f){case 100:case 108:case 109:case 115:Oy(t,k,k,r&&Zh(cN(t,k,k,0,0,i,a,w,i,x=[],d,T),T),i,T,d,a,r?x:T);break;default:Oy(A,k,k,k,[""],T,0,a,T)}}c=u=h=0,m=p=1,w=A="",d=s;break;case 58:d=1+Ns(A),h=g;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&Z0e()==125)continue}switch(A+=z5(v),v*m){case 38:p=u>0?1:(A+="\f",-1);break;case 44:a[c++]=(Ns(A)-1)*p,p=1;break;case 64:Jc()===45&&(A+=tE(ds())),f=Jc(),u=d=Ns(w=A+=oge(Fy())),v++;break;case 45:g===45&&Ns(A)==2&&(m=0)}}return o}function cN(t,e,n,r,i,o,s,a,l,c,u,d){for(var f=i-1,h=i===0?o:[""],g=Zz(h),m=0,y=0,p=0;m<r;++m)for(var v=0,w=Mf(t,f+1,f=Yz(y=s[m])),x=t;v<g;++v)(x=Jz(y>0?h[v]+" "+w:Ut(w,/&\f/g,h[v])))&&(l[p++]=x);return nb(t,e,n,i===0?eb:a,l,c,u,d)}function age(t,e,n,r){return nb(t,e,n,Qz,z5(J0e()),Mf(t,2,-2),0,r)}function uN(t,e,n,r,i){return nb(t,e,n,U5,Mf(t,0,r),Mf(t,r+1,-1),r,i)}function tj(t,e,n){switch(X0e(t,e)){case 5103:return an+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return an+t+t;case 4789:return Ap+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return an+t+Ap+t+_n+t+t;case 5936:switch(Ar(t,e+11)){case 114:return an+t+_n+Ut(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return an+t+_n+Ut(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return an+t+_n+Ut(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return an+t+_n+t+t;case 6165:return an+t+_n+"flex-"+t+t;case 5187:return an+t+Ut(t,/(\w+).+(:[^]+)/,an+"box-$1$2"+_n+"flex-$1$2")+t;case 5443:return an+t+_n+"flex-item-"+Ut(t,/flex-|-self/g,"")+(pa(t,/flex-|baseline/)?"":_n+"grid-row-"+Ut(t,/flex-|-self/g,""))+t;case 4675:return an+t+_n+"flex-line-pack"+Ut(t,/align-content|flex-|-self/g,"")+t;case 5548:return an+t+_n+Ut(t,"shrink","negative")+t;case 5292:return an+t+_n+Ut(t,"basis","preferred-size")+t;case 6060:return an+"box-"+Ut(t,"-grow","")+an+t+_n+Ut(t,"grow","positive")+t;case 4554:return an+Ut(t,/([^-])(transform)/g,"$1"+an+"$2")+t;case 6187:return Ut(Ut(Ut(t,/(zoom-|grab)/,an+"$1"),/(image-set)/,an+"$1"),t,"")+t;case 5495:case 3959:return Ut(t,/(image-set\([^]*)/,an+"$1$`$1");case 4968:return Ut(Ut(t,/(.+:)(flex-)?(.*)/,an+"box-pack:$3"+_n+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+an+t+t;case 4200:if(!pa(t,/flex-|baseline/))return _n+"grid-column-align"+Mf(t,e)+t;break;case 2592:case 3360:return _n+Ut(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,pa(r.props,/grid-\w+-end/)})?~ky(t+(n=n[e].value),"span",0)?t:_n+Ut(t,"-start","")+t+_n+"grid-row-span:"+(~ky(n,"span",0)?pa(n,/\d+/):+pa(n,/\d+/)-+pa(t,/\d+/))+";":_n+Ut(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return pa(r.props,/grid-\w+-start/)})?t:_n+Ut(Ut(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ut(t,/(.+)-inline(.+)/,an+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ns(t)-1-e>6)switch(Ar(t,e+1)){case 109:if(Ar(t,e+4)!==45)break;case 102:return Ut(t,/(.+:)(.+)-([^]+)/,"$1"+an+"$2-$3$1"+Ap+(Ar(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ky(t,"stretch",0)?tj(Ut(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Ut(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,a,l,c){return _n+i+":"+o+c+(s?_n+i+"-span:"+(a?l:+l-+o)+c:"")+t});case 4949:if(Ar(t,e+6)===121)return Ut(t,":",":"+an)+t;break;case 6444:switch(Ar(t,Ar(t,14)===45?18:11)){case 120:return Ut(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+an+(Ar(t,14)===45?"inline-":"")+"box$3$1"+an+"$2$3$1"+_n+"$2box$3")+t;case 100:return Ut(t,":",":"+_n)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ut(t,"scroll-","scroll-snap-")+t}return t}function rw(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function lge(t,e,n,r){switch(t.type){case Q0e:if(t.children.length)break;case K0e:case U5:return t.return=t.return||t.value;case Qz:return"";case Xz:return t.return=t.value+"{"+rw(t.children,r)+"}";case eb:if(!Ns(t.value=t.props.join(",")))return""}return Ns(n=rw(t.children,r))?t.return=t.value+"{"+n+"}":""}function cge(t){var e=Zz(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function uge(t){return function(e){e.root||(e=e.return)&&t(e)}}function dge(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case U5:t.return=tj(t.value,t.length,n);return;case Xz:return rw([ml(t,{value:Ut(t.value,"@","@"+an)})],r);case eb:if(t.length)return Y0e(n=t.props,function(i){switch(pa(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Yu(ml(t,{props:[Ut(i,/:(read-\w+)/,":"+Ap+"$1")]})),Yu(ml(t,{props:[i]})),N_(t,{props:lN(n,r)});break;case"::placeholder":Yu(ml(t,{props:[Ut(i,/:(plac\w+)/,":"+an+"input-$1")]})),Yu(ml(t,{props:[Ut(i,/:(plac\w+)/,":"+Ap+"$1")]})),Yu(ml(t,{props:[Ut(i,/:(plac\w+)/,_n+"input-$1")]})),Yu(ml(t,{props:[i]})),N_(t,{props:lN(n,r)});break}return""})}}var fge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ki={},Rf=typeof process<"u"&&Ki!==void 0&&(Ki.REACT_APP_SC_ATTR||Ki.SC_ATTR)||"data-styled",nj="active",rj="data-styled-version",ib="6.1.19",j5=`/*!sc*/
`,iw=typeof window<"u"&&typeof document<"u",hge=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ki!==void 0&&Ki.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ki.REACT_APP_SC_DISABLE_SPEEDY!==""?Ki.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ki.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ki!==void 0&&Ki.SC_DISABLE_SPEEDY!==void 0&&Ki.SC_DISABLE_SPEEDY!==""&&Ki.SC_DISABLE_SPEEDY!=="false"&&Ki.SC_DISABLE_SPEEDY),ob=Object.freeze([]),Pf=Object.freeze({});function pge(t,e,n){return n===void 0&&(n=Pf),t.theme!==n.theme&&t.theme||e||n.theme}var ij=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),mge=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,gge=/(^-|-$)/g;function dN(t){return t.replace(mge,"-").replace(gge,"")}var yge=/(a)(d)/gi,gg=52,fN=function(t){return String.fromCharCode(t+(t>25?39:97))};function O_(t){var e,n="";for(e=Math.abs(t);e>gg;e=e/gg|0)n=fN(e%gg)+n;return(fN(e%gg)+n).replace(yge,"$1-$2")}var nE,oj=5381,Rd=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},sj=function(t){return Rd(oj,t)};function vge(t){return O_(sj(t)>>>0)}function wge(t){return t.displayName||t.name||"Component"}function rE(t){return typeof t=="string"&&!0}var aj=typeof Symbol=="function"&&Symbol.for,lj=aj?Symbol.for("react.memo"):60115,bge=aj?Symbol.for("react.forward_ref"):60112,xge={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ege={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},cj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Age=((nE={})[bge]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},nE[lj]=cj,nE);function hN(t){return("type"in(e=t)&&e.type.$$typeof)===lj?cj:"$$typeof"in t?Age[t.$$typeof]:xge;var e}var _ge=Object.defineProperty,Sge=Object.getOwnPropertyNames,pN=Object.getOwnPropertySymbols,Cge=Object.getOwnPropertyDescriptor,Tge=Object.getPrototypeOf,mN=Object.prototype;function uj(t,e,n){if(typeof e!="string"){if(mN){var r=Tge(e);r&&r!==mN&&uj(t,r,n)}var i=Sge(e);pN&&(i=i.concat(pN(e)));for(var o=hN(t),s=hN(e),a=0;a<i.length;++a){var l=i[a];if(!(l in Ege||n&&n[l]||s&&l in s||o&&l in o)){var c=Cge(e,l);try{_ge(t,l,c)}catch{}}}}return t}function Nf(t){return typeof t=="function"}function G5(t){return typeof t=="object"&&"styledComponentId"in t}function Gc(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function gN(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Nm(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function B_(t,e,n){if(n===void 0&&(n=!1),!n&&!Nm(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=B_(t[r],e[r]);else if(Nm(e))for(var r in e)t[r]=B_(t[r],e[r]);return t}function H5(t,e){Object.defineProperty(t,"toString",{value:e})}function y0(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Mge=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;e>=o;)if((o<<=1)<0)throw y0(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(e+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(j5);return n},t}(),By=new Map,ow=new Map,Ly=1,yg=function(t){if(By.has(t))return By.get(t);for(;ow.has(Ly);)Ly++;var e=Ly++;return By.set(t,e),ow.set(e,t),e},Ige=function(t,e){Ly=e+1,By.set(t,e),ow.set(e,t)},Rge="style[".concat(Rf,"][").concat(rj,'="').concat(ib,'"]'),Pge=new RegExp("^".concat(Rf,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Nge=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},kge=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(j5),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(Pge);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(Ige(u,c),Nge(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},yN=function(t){for(var e=document.querySelectorAll(Rge),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Rf)!==nj&&(kge(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function Fge(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var dj=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Rf,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(Rf,nj),r.setAttribute(rj,ib);var s=Fge();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},Oge=function(){function t(e){this.element=dj(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw y0(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),Bge=function(){function t(e){this.element=dj(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),Lge=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),vN=iw,Dge={isServer:!iw,useCSSOMInjection:!hge},fj=function(){function t(e,n,r){e===void 0&&(e=Pf),n===void 0&&(n={});var i=this;this.options=Ri(Ri({},Dge),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&iw&&vN&&(vN=!1,yN(this)),H5(this,function(){return function(o){for(var s=o.getTag(),a=s.length,l="",c=function(d){var f=function(p){return ow.get(p)}(d);if(f===void 0)return"continue";var h=o.names.get(f),g=s.getGroup(d);if(h===void 0||!h.size||g.length===0)return"continue";var m="".concat(Rf,".g").concat(d,'[id="').concat(f,'"]'),y="";h!==void 0&&h.forEach(function(p){p.length>0&&(y+="".concat(p,","))}),l+="".concat(g).concat(m,'{content:"').concat(y,'"}').concat(j5)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return yg(e)},t.prototype.rehydrate=function(){!this.server&&iw&&yN(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Ri(Ri({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new Lge(i):r?new Oge(i):new Bge(i)}(this.options),new Mge(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(yg(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(yg(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(yg(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Uge=/&/g,zge=/^\s*\/\/.*$/gm;function hj(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=hj(n.children,e)),n})}function jge(t){var e,n,r,i=Pf,o=i.options,s=o===void 0?Pf:o,a=i.plugins,l=a===void 0?ob:a,c=function(f,h,g){return g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===eb&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(Uge,n).replace(r,c))}),s.prefix&&u.push(dge),u.push(lge);var d=function(f,h,g,m){h===void 0&&(h=""),g===void 0&&(g=""),m===void 0&&(m="&"),e=m,n=h,r=new RegExp("\\".concat(n,"\\b"),"g");var y=f.replace(zge,""),p=sge(g||h?"".concat(g," ").concat(h," { ").concat(y," }"):y);s.namespace&&(p=hj(p,s.namespace));var v=[];return rw(p,cge(u.concat(uge(function(w){return v.push(w)})))),v};return d.hash=l.length?l.reduce(function(f,h){return h.name||y0(15),Rd(f,h.name)},oj).toString():"",d}var Gge=new fj,L_=jge(),pj=L.createContext({shouldForwardProp:void 0,styleSheet:Gge,stylis:L_});pj.Consumer;L.createContext(void 0);function wN(){return U.useContext(pj)}var Hge=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=L_);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,H5(this,function(){throw y0(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=L_),this.name+e.hash},t}(),Wge=function(t){return t>="A"&&t<="Z"};function bN(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Wge(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var mj=function(t){return t==null||t===!1||t===""},gj=function(t){var e,n,r=[];for(var i in t){var o=t[i];t.hasOwnProperty(i)&&!mj(o)&&(Array.isArray(o)&&o.isCss||Nf(o)?r.push("".concat(bN(i),":"),o,";"):Nm(o)?r.push.apply(r,nw(nw(["".concat(i," {")],gj(o),!1),["}"],!1)):r.push("".concat(bN(i),": ").concat((e=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in fge||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Zc(t,e,n,r){if(mj(t))return[];if(G5(t))return[".".concat(t.styledComponentId)];if(Nf(t)){if(!Nf(o=t)||o.prototype&&o.prototype.isReactComponent||!e)return[t];var i=t(e);return Zc(i,e,n,r)}var o;return t instanceof Hge?n?(t.inject(n,r),[t.getName(r)]):[t]:Nm(t)?gj(t):Array.isArray(t)?Array.prototype.concat.apply(ob,t.map(function(s){return Zc(s,e,n,r)})):[t.toString()]}function Vge(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Nf(n)&&!G5(n))return!1}return!0}var $ge=sj(ib),qge=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Vge(e),this.componentId=n,this.baseHash=Rd($ge,n),this.baseStyle=r,fj.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Gc(i,this.staticRulesId);else{var o=gN(Zc(this.rules,e,n,r)),s=O_(Rd(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}i=Gc(i,s),this.staticRulesId=s}else{for(var l=Rd(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var f=gN(Zc(d,e,n,r));l=Rd(l,f+u),c+=f}}if(c){var h=O_(l>>>0);n.hasNameForId(this.componentId,h)||n.insertRules(this.componentId,h,r(c,".".concat(h),void 0,this.componentId)),i=Gc(i,h)}}return i},t}(),yj=L.createContext(void 0);yj.Consumer;var iE={};function Kge(t,e,n){var r=G5(t),i=t,o=!rE(t),s=e.attrs,a=s===void 0?ob:s,l=e.componentId,c=l===void 0?function(x,T){var k=typeof x!="string"?"sc":dN(x);iE[k]=(iE[k]||0)+1;var A="".concat(k,"-").concat(vge(ib+k+iE[k]));return T?"".concat(T,"-").concat(A):A}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(x){return rE(x)?"styled.".concat(x):"Styled(".concat(wge(x),")")}(t):u,f=e.displayName&&e.componentId?"".concat(dN(e.displayName),"-").concat(e.componentId):e.componentId||c,h=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=e.shouldForwardProp;if(r&&i.shouldForwardProp){var m=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;g=function(x,T){return m(x,T)&&y(x,T)}}else g=m}var p=new qge(n,f,r?i.componentStyle:void 0);function v(x,T){return function(k,A,z){var S=k.attrs,N=k.componentStyle,P=k.defaultProps,W=k.foldedComponentIds,B=k.styledComponentId,b=k.target,E=L.useContext(yj),I=wN(),O=k.shouldForwardProp||I.shouldForwardProp,C=pge(A,E,P)||Pf,j=function(Z,ce,oe){for(var Ae,de=Ri(Ri({},ce),{className:void 0,theme:oe}),Re=0;Re<Z.length;Re+=1){var ae=Nf(Ae=Z[Re])?Ae(de):Ae;for(var we in ae)de[we]=we==="className"?Gc(de[we],ae[we]):we==="style"?Ri(Ri({},de[we]),ae[we]):ae[we]}return ce.className&&(de.className=Gc(de.className,ce.className)),de}(S,A,C),H=j.as||b,D={};for(var M in j)j[M]===void 0||M[0]==="$"||M==="as"||M==="theme"&&j.theme===C||(M==="forwardedAs"?D.as=j.forwardedAs:O&&!O(M,H)||(D[M]=j[M]));var $=function(Z,ce){var oe=wN(),Ae=Z.generateAndInjectStyles(ce,oe.styleSheet,oe.stylis);return Ae}(N,j),J=Gc(W,B);return $&&(J+=" "+$),j.className&&(J+=" "+j.className),D[rE(H)&&!ij.has(H)?"class":"className"]=J,z&&(D.ref=z),U.createElement(H,D)}(w,x,T)}v.displayName=d;var w=L.forwardRef(v);return w.attrs=h,w.componentStyle=p,w.displayName=d,w.shouldForwardProp=g,w.foldedComponentIds=r?Gc(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=f,w.target=r?i.target:t,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=r?function(T){for(var k=[],A=1;A<arguments.length;A++)k[A-1]=arguments[A];for(var z=0,S=k;z<S.length;z++)B_(T,S[z],!0);return T}({},i.defaultProps,x):x}}),H5(w,function(){return".".concat(w.styledComponentId)}),o&&uj(w,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function xN(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var EN=function(t){return Object.assign(t,{isCss:!0})};function Qge(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Nf(t)||Nm(t))return EN(Zc(xN(ob,nw([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Zc(r):EN(Zc(xN(r,e)))}function D_(t,e,n){if(n===void 0&&(n=Pf),!e)throw y0(1,e);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t(e,n,Qge.apply(void 0,nw([i],o,!1)))};return r.attrs=function(i){return D_(t,e,Ri(Ri({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return D_(t,e,Ri(Ri({},n),i))},r}var vj=function(t){return D_(Kge,t)},ah=vj;ij.forEach(function(t){ah[t]=vj(t)});var Xge={VITE_BASE_RPC_URL:"https://base-mainnet.g.alchemy.com/v2/hoaKpKFy40ibWtxftFZbJNUk5NQoL0R3"};const wr=[{name:"createGame",type:"function",stateMutability:"payable",inputs:[{name:"nftContract",type:"address"},{name:"tokenId",type:"uint256"},{name:"priceUSD",type:"uint256"},{name:"acceptedToken",type:"uint8"},{name:"gameType",type:"uint8"},{name:"authInfo",type:"string"}],outputs:[]},{name:"joinGame",type:"function",stateMutability:"payable",inputs:[{name:"gameId",type:"uint256"},{name:"paymentToken",type:"uint8"},{name:"challengerNFTContract",type:"address"},{name:"challengerTokenId",type:"uint256"}],outputs:[]},{name:"completeGame",type:"function",stateMutability:"nonpayable",inputs:[{name:"gameId",type:"uint256"},{name:"winner",type:"address"}],outputs:[]},{name:"cancelGame",type:"function",stateMutability:"nonpayable",inputs:[{name:"gameId",type:"uint256"}],outputs:[]},{name:"withdrawRewards",type:"function",stateMutability:"nonpayable",inputs:[],outputs:[]},{name:"withdrawNFT",type:"function",stateMutability:"nonpayable",inputs:[{name:"nftContract",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{name:"getGameDetails",type:"function",stateMutability:"view",inputs:[{name:"gameId",type:"uint256"}],outputs:[{name:"game",type:"tuple",components:[{name:"gameId",type:"uint256"},{name:"creator",type:"address"},{name:"joiner",type:"address"},{name:"nftContract",type:"address"},{name:"tokenId",type:"uint256"},{name:"state",type:"uint8"},{name:"gameType",type:"uint8"},{name:"priceUSD",type:"uint256"},{name:"paymentToken",type:"uint8"},{name:"totalPaid",type:"uint256"},{name:"winner",type:"address"},{name:"createdAt",type:"uint256"},{name:"expiresAt",type:"uint256"}]},{name:"nftChallenge",type:"tuple",components:[{name:"challengerNFTContract",type:"address"},{name:"challengerTokenId",type:"uint256"}]}]},{name:"getETHAmount",type:"function",stateMutability:"view",inputs:[{name:"usdAmount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{name:"listingFeeUSD",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"nextGameId",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"unclaimedETH",type:"function",stateMutability:"view",inputs:[{name:"user",type:"address"}],outputs:[{name:"",type:"uint256"}]},{name:"unclaimedUSDC",type:"function",stateMutability:"view",inputs:[{name:"user",type:"address"}],outputs:[{name:"",type:"uint256"}]}],ra=[{name:"ownerOf",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"address"}]},{name:"approve",type:"function",stateMutability:"nonpayable",inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{name:"getApproved",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"address"}]},{name:"setApprovalForAll",type:"function",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{name:"isApprovedForAll",type:"function",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{name:"",type:"bool"}]}],vg={base:{chain:g1,contractAddress:"0xb2d09A3A6E502287D0acdAC31328B01AADe35941",rpcUrls:[Xge.VITE_BASE_RPC_URL,"https://base.blockpi.network/v1/rpc/public","https://mainnet.base.org"],currentRpcIndex:0},ethereum:{chain:ku,contractAddress:"0x0000000000000000000000000000000000000000",rpcUrl:"https://eth.llamarpc.com"},bnb:{chain:y1,contractAddress:"0x0000000000000000000000000000000000000000",rpcUrl:"https://bsc-dataseed.binance.org/"},avalanche:{chain:m1,contractAddress:"0x0000000000000000000000000000000000000000",rpcUrl:"https://api.avax.network/ext/bc/C/rpc"},polygon:{chain:v1,contractAddress:"0x0000000000000000000000000000000000000000",rpcUrl:"https://polygon-rpc.com/"}};class Yge{constructor(){this.walletClient=null,this.publicClient=null,this.currentChain=null,this.contractAddress=null,this.requestCount=0,this.lastRequestTime=0,this.rateLimitDelay=200,this.maxRetries=3}async init(e,n,r){const i=vg[e.toLowerCase()];if(!i)throw new Error(`Unsupported chain: ${e}`);this.currentChain=e.toLowerCase(),this.contractAddress=i.contractAddress,this.walletClient=n,this.publicClient=r||pI({chain:i.chain,transport:Is(i.rpcUrls?i.rpcUrls[0]:i.rpcUrl)}),console.log(` Contract service initialized for ${e}`),console.log(` Contract address: ${this.contractAddress}`)}async waitForRateLimit(){const n=Date.now()-this.lastRequestTime;if(n<this.rateLimitDelay){const r=this.rateLimitDelay-n;console.log(` Rate limiting: waiting ${r}ms`),await new Promise(i=>setTimeout(i,r))}this.lastRequestTime=Date.now(),this.requestCount++}getCurrentRpcUrl(){const e=vg[this.currentChain];return!e||!e.rpcUrls?e?.rpcUrl||null:e.rpcUrls[e.currentRpcIndex||0]}switchToNextRpc(){const e=vg[this.currentChain];if(!e||!e.rpcUrls)return!1;const n=e.currentRpcIndex||0,r=(n+1)%e.rpcUrls.length;return e.currentRpcIndex=r,console.log(` Switching RPC from ${e.rpcUrls[n]} to ${e.rpcUrls[r]}`),this.publicClient&&(this.publicClient=pI({chain:e.chain,transport:Is(e.rpcUrls[r])}),console.log(` Recreated public client with new RPC: ${e.rpcUrls[r]}`)),!0}getCurrentConfig(){if(!this.currentChain)throw new Error("Contract service not initialized");return vg[this.currentChain]}getCurrentClients(){if(!this.publicClient)throw new Error("Public client not initialized");return this.walletClient?{walletClient:this.walletClient,publicClient:this.publicClient}:{walletClient:null,publicClient:this.publicClient}}async approveNFT(e,n){try{const{walletClient:r,publicClient:i}=this.getCurrentClients();if(!r)throw new Error("Wallet client not available. Please connect your wallet.");const o=r.account.address;console.log(` Checking NFT approval for contract: ${e}, token: ${n}`),console.log(` Game contract address: ${this.contractAddress}`);try{const a=await i.getBytecode({address:e});if(!a||a==="0x")throw new Error("NFT contract does not exist or has no code");console.log(" NFT contract exists and has code")}catch(a){return console.error(" NFT contract validation failed:",a.message),{success:!1,error:`Invalid NFT contract: ${a.message}`}}let s=!1;try{if(await i.readContract({address:e,abi:ra,functionName:"isApprovedForAll",args:[o,this.contractAddress]}))return console.log(" NFT already approved for all"),{success:!0,alreadyApproved:!0,method:"setApprovalForAll"};if((await i.readContract({address:e,abi:ra,functionName:"getApproved",args:[BigInt(n)]})).toLowerCase()===this.contractAddress.toLowerCase())return console.log(" NFT already approved"),{success:!0,alreadyApproved:!0,method:"approve"}}catch(a){console.warn(" Could not check approval status, proceeding with approval:",a.message)}console.log(" Approving NFT...");try{const{request:a}=await i.simulateContract({address:e,abi:ra,functionName:"approve",args:[this.contractAddress,BigInt(n)],account:o}),l=await r.writeContract(a),c=await i.waitForTransactionReceipt({hash:l});return console.log(" NFT approval successful (individual token)"),{success:!0,transactionHash:l,receipt:c}}catch(a){console.warn(" Individual token approval failed, trying setApprovalForAll:",a.message);const{request:l}=await i.simulateContract({address:e,abi:ra,functionName:"setApprovalForAll",args:[this.contractAddress,!0],account:o}),c=await r.writeContract(l),u=await i.waitForTransactionReceipt({hash:c});return console.log(" NFT approval successful (setApprovalForAll)"),{success:!0,transactionHash:c,receipt:u,method:"setApprovalForAll"}}}catch(r){console.error(" Error approving NFT:",r);let i=r.message;return r.message.includes("stack underflow")?i="NFT contract does not support standard ERC721 approval. This NFT may not be compatible with the game.":r.message.includes("execution reverted")?i="NFT approval failed. You may not own this NFT or it may not be transferable.":r.message.includes("insufficient funds")&&(i="Insufficient funds to pay for NFT approval transaction."),{success:!1,error:i}}}async createGame(e){try{await this.waitForRateLimit();const{walletClient:n,publicClient:r}=this.getCurrentClients();if(!n)throw new Error("Wallet client not available. Please connect your wallet.");const i=n.account.address;console.log(" Creating game with params:",{nftContract:e.nftContract,tokenId:e.tokenId,priceUSD:e.priceUSD,account:i}),console.log(" Verifying NFT ownership...");let o,s=0;for(;s<this.maxRetries;)try{o=await r.readContract({address:e.nftContract,abi:ra,functionName:"ownerOf",args:[BigInt(e.tokenId)]});break}catch(v){if(s++,console.warn(` NFT ownership check error (attempt ${s}/${this.maxRetries}):`,v.message),v.message.includes("429")||v.message.includes("rate limit"))this.switchToNextRpc(),await new Promise(w=>setTimeout(w,1e3*s));else if(s<this.maxRetries)await new Promise(w=>setTimeout(w,500*s));else throw new Error("Failed to verify NFT ownership: "+v.message)}if(o.toLowerCase()!==i.toLowerCase())throw new Error(`You don't own this NFT. Owner: ${o}, Your address: ${i}`);console.log(" NFT ownership verified"),console.log(" Approving NFT for transfer...");const a=await this.approveNFT(e.nftContract,e.tokenId);if(!a.success&&!a.alreadyApproved)throw new Error("Failed to approve NFT: "+a.error);let l,c;const u=3;let d=0;for(;d<u;)try{l=await r.readContract({address:this.contractAddress,abi:wr,functionName:"listingFeeUSD"}),await new Promise(v=>setTimeout(v,1e3)),c=await r.readContract({address:this.contractAddress,abi:wr,functionName:"getETHAmount",args:[l]});break}catch(v){if(d++,v.message.includes("rate limit")||v.message.includes("429")){if(console.log(` Rate limit hit (attempt ${d}/${u}), waiting ${d} seconds...`),await new Promise(w=>setTimeout(w,d*1e3)),d>=u)throw new Error("Network is busy. Please try again in a few seconds.")}else throw v}console.log(` Listing fee: ${c} ETH`);const f=[e.nftContract,BigInt(e.tokenId),BigInt(Math.floor(e.priceUSD*1e6)),e.acceptedToken||0,e.gameType||0,e.authInfo||""];console.log(" Game parameters:",f),console.log(" Creating game on blockchain...");const{request:h}=await r.simulateContract({address:this.contractAddress,abi:wr,functionName:"createGame",args:f,account:i,value:c}),g=await n.writeContract(h),m=await r.waitForTransactionReceipt({hash:g}),y=await r.readContract({address:this.contractAddress,abi:wr,functionName:"nextGameId"});return{success:!0,gameId:(Number(y)-1).toString(),transactionHash:g,receipt:m}}catch(n){console.error(" Error creating game:",n);let r=n.message;return n.message.includes("WRONG_FROM")?r="NFT approval failed. The NFT contract may have restrictions or you may not own this NFT.":n.message.includes("rate limit")?r="Network is busy. Please try again in a few seconds.":n.message.includes("execution reverted")&&(r="Game creation failed. Please check your NFT ownership and try again."),{success:!1,error:r}}}async joinGame(e){try{const{walletClient:n,publicClient:r}=this.getCurrentClients();if(!n)throw new Error("Wallet client not available. Please connect your wallet.");const i=n.account.address,o=await this.getGameDetails(e.gameId);if(!o.success)throw new Error("Failed to get game details");const{game:s}=o.data,a=e.paymentToken||0;let l=0n;if(a===0&&(l=await r.readContract({address:this.contractAddress,abi:wr,functionName:"getETHAmount",args:[s.priceUSD]}),console.log(` Payment amount: ${l} ETH`)),e.challengerNFTContract&&e.challengerTokenId){console.log(" Approving challenger NFT...");const f=await this.approveNFT(e.challengerNFTContract,e.challengerTokenId);if(!f.success&&!f.alreadyApproved)throw new Error("Failed to approve NFT: "+f.error)}console.log(" Joining game on blockchain...");const{request:c}=await r.simulateContract({address:this.contractAddress,abi:wr,functionName:"joinGame",args:[BigInt(e.gameId),a,e.challengerNFTContract||"0x0000000000000000000000000000000000000000",e.challengerTokenId?BigInt(e.challengerTokenId):0n],account:i,value:l}),u=await n.writeContract(c),d=await r.waitForTransactionReceipt({hash:u});return{success:!0,transactionHash:u,receipt:d}}catch(n){return console.error("Error joining game:",n),{success:!1,error:n.message}}}async completeGame(e,n){try{const{walletClient:r,publicClient:i}=this.getCurrentClients();if(!r)throw new Error("Wallet client not available. Please connect your wallet.");const o=r.account.address;console.log(" Completing game...");const{request:s}=await i.simulateContract({address:this.contractAddress,abi:wr,functionName:"completeGame",args:[BigInt(e),n],account:o}),a=await r.writeContract(s),l=await i.waitForTransactionReceipt({hash:a});return{success:!0,transactionHash:a,receipt:l}}catch(r){return console.error("Error completing game:",r),{success:!1,error:r.message}}}async cancelGame(e){try{const{walletClient:n,publicClient:r}=this.getCurrentClients();if(!n)throw new Error("Wallet client not available. Please connect your wallet.");const i=n.account.address;console.log(" Cancelling game...");const{request:o}=await r.simulateContract({address:this.contractAddress,abi:wr,functionName:"cancelGame",args:[BigInt(e)],account:i}),s=await n.writeContract(o),a=await r.waitForTransactionReceipt({hash:s});return{success:!0,transactionHash:s,receipt:a}}catch(n){return console.error("Error cancelling game:",n),{success:!1,error:n.message}}}async withdrawRewards(){try{const{walletClient:e,publicClient:n}=this.getCurrentClients();if(!e)throw new Error("Wallet client not available. Please connect your wallet.");const r=e.account.address,[i,o]=await Promise.all([n.readContract({address:this.contractAddress,abi:wr,functionName:"unclaimedETH",args:[r]}),n.readContract({address:this.contractAddress,abi:wr,functionName:"unclaimedUSDC",args:[r]})]);if(i===0n&&o===0n)return{success:!1,error:"No rewards to claim"};console.log(" Withdrawing rewards...");const{request:s}=await n.simulateContract({address:this.contractAddress,abi:wr,functionName:"withdrawRewards",account:r}),a=await e.writeContract(s),l=await n.waitForTransactionReceipt({hash:a});return{success:!0,transactionHash:a,receipt:l,ethWithdrawn:i,usdcWithdrawn:o}}catch(e){return console.error("Error withdrawing rewards:",e),{success:!1,error:e.message}}}async withdrawNFT(e,n){try{const{walletClient:r,publicClient:i}=this.getCurrentClients();if(!r)throw new Error("Wallet client not available. Please connect your wallet.");const o=r.account.address;console.log(" Withdrawing NFT...");const{request:s}=await i.simulateContract({address:this.contractAddress,abi:wr,functionName:"withdrawNFT",args:[e,BigInt(n)],account:o}),a=await r.writeContract(s),l=await i.waitForTransactionReceipt({hash:a});return{success:!0,transactionHash:a,receipt:l}}catch(r){return console.error("Error withdrawing NFT:",r),{success:!1,error:r.message}}}async getGameDetails(e){try{const{publicClient:n}=this.getCurrentClients(),r=await n.readContract({address:this.contractAddress,abi:wr,functionName:"getGameDetails",args:[BigInt(e)]});return{success:!0,data:{game:r[0],nftChallenge:r[1]}}}catch(n){return console.error("Error getting game details:",n),{success:!1,error:n.message}}}async getUnclaimedRewards(e){try{const{publicClient:n}=this.getCurrentClients(),[r,i]=await Promise.all([n.readContract({address:this.contractAddress,abi:wr,functionName:"unclaimedETH",args:[e]}),n.readContract({address:this.contractAddress,abi:wr,functionName:"unclaimedUSDC",args:[e]})]);return{success:!0,eth:r,usdc:i}}catch(n){return console.error("Error checking unclaimed rewards:",n),{success:!1,error:n.message}}}async testNFTContract(e,n){try{const{walletClient:r,publicClient:i}=this.getCurrentClients();if(!r)throw new Error("Wallet client not available. Please connect your wallet.");const o=r.account.address;console.log(` Testing NFT contract: ${e}, token: ${n}`);const s={contractExists:!1,hasCode:!1,supportsERC721:!1,ownerCheck:!1,approvalCheck:!1,errors:[]};try{const a=await i.getBytecode({address:e});s.contractExists=!0,s.hasCode=a&&a!=="0x",console.log(` Contract exists: ${s.contractExists}, Has code: ${s.hasCode}`)}catch(a){s.errors.push(`Contract check failed: ${a.message}`)}try{const a=await i.readContract({address:e,abi:ra,functionName:"ownerOf",args:[BigInt(n)]});s.ownerCheck=!0,console.log(` Owner check passed: ${a}`)}catch(a){s.errors.push(`Owner check failed: ${a.message}`)}try{const a=await i.readContract({address:e,abi:ra,functionName:"getApproved",args:[BigInt(n)]});s.approvalCheck=!0,console.log(` Approval check passed: ${a}`)}catch(a){s.errors.push(`Approval check failed: ${a.message}`)}try{const a=await i.readContract({address:e,abi:ra,functionName:"isApprovedForAll",args:[o,this.contractAddress]});console.log(` isApprovedForAll check passed: ${a}`)}catch(a){s.errors.push(`isApprovedForAll check failed: ${a.message}`)}return s.supportsERC721=s.ownerCheck&&s.approvalCheck,{success:!0,results:s}}catch(r){return console.error("Error testing NFT contract:",r),{success:!1,error:r.message}}}async findMyNFTs(e,n){try{const{walletClient:r,publicClient:i}=this.getCurrentClients();if(!r)throw new Error("Wallet client not available. Please connect your wallet.");const o=r.account.address;console.log(` Looking for NFT: ${e}, tokenId: ${n}`);const s=await i.readContract({address:e,abi:ra,functionName:"ownerOf",args:[BigInt(n)]});return console.log(` Current owner: ${s}`),console.log(` Your address: ${o}`),console.log(` Game contract: ${this.contractAddress}`),s.toLowerCase()===o.toLowerCase()?{success:!0,location:"your_wallet",message:"NFT is in your wallet"}:s.toLowerCase()===this.contractAddress.toLowerCase()?{success:!0,location:"game_contract",message:"NFT is in the game contract"}:{success:!0,location:"other",message:`NFT is owned by: ${s}`}}catch(r){return console.error("Error finding NFT:",r),{success:!1,error:r.message}}}async getUserActiveGames(e){try{await this.waitForRateLimit();const{publicClient:n}=this.getCurrentClients();console.log(` Looking for active games for address: ${e}`);let r,i=0;for(;i<this.maxRetries;)try{r=await n.readContract({address:this.contractAddress,abi:wr,functionName:"nextGameId"});break}catch(a){if(i++,console.warn(` RPC error (attempt ${i}/${this.maxRetries}):`,a.message),a.message.includes("429")||a.message.includes("rate limit"))this.switchToNextRpc(),await new Promise(l=>setTimeout(l,1e3*i));else if(i<this.maxRetries)await new Promise(l=>setTimeout(l,500*i));else throw a}if(!r)return console.warn(" Could not get nextGameId, returning empty array"),[];console.log(` Total games created: ${r}`);const o=[],s=Math.min(Number(r),20);for(let a=1;a<=s;a++)try{await this.waitForRateLimit();const l=await this.getGameDetails(a.toString());if(l.success){const{game:c}=l.data;(c.creator.toLowerCase()===e.toLowerCase()||c.joiner.toLowerCase()===e.toLowerCase())&&c.state<3&&o.push(a)}}catch(l){console.warn(`Could not get details for game ${a}:`,l.message)}return console.log(` Found ${o.length} active games for ${e}`),o}catch(n){return console.error("Error getting user active games:",n),[]}}async getMyGames(e){try{const{publicClient:n}=this.getCurrentClients();console.log(` Looking for games for address: ${e}`);const r=await n.readContract({address:this.contractAddress,abi:wr,functionName:"nextGameId"});console.log(` Total games created: ${r}`);const i=[],o=10;for(let s=1;s<Math.min(Number(r),o+1);s++)try{const a=await this.getGameDetails(s.toString());if(a.success){const{game:l}=a.data;l.creator.toLowerCase()===e.toLowerCase()&&i.push({gameId:s,creator:l.creator,joiner:l.joiner,nftContract:l.nftContract,tokenId:l.tokenId.toString(),state:l.state})}}catch(a){console.warn(`Could not get details for game ${s}:`,a.message)}return{success:!0,totalGames:Number(r),myGames:i}}catch(n){return console.error("Error getting my games:",n),{success:!1,error:n.message}}}async emergencyCancelGame(e){try{const{walletClient:n,publicClient:r}=this.getCurrentClients();if(!n)throw new Error("Wallet client not available. Please connect your wallet.");const i=n.account.address;console.log(` Emergency cancelling game: ${e}`);const o=await this.getGameDetails(e);if(!o.success)throw new Error("Could not get game details");const{game:s}=o.data;if(s.creator.toLowerCase()!==i.toLowerCase())throw new Error("Only the game creator can cancel the game");if(s.state!==0)throw new Error("Game is not in created state - cannot cancel");const{request:a}=await r.simulateContract({address:this.contractAddress,abi:wr,functionName:"cancelGame",args:[BigInt(e)],account:i}),l=await n.writeContract(a),c=await r.waitForTransactionReceipt({hash:l});return console.log(` Game cancelled successfully: ${l}`),{success:!0,transactionHash:l,receipt:c,message:"Game cancelled and NFT should be returned to your wallet"}}catch(n){return console.error("Error cancelling game:",n),{success:!1,error:n.message}}}}const jt=new Yge,Jge=ah.div`
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 16px;
  padding: 2rem;
  margin: 2rem 0;
  color: white;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
`,Zge=ah.h3`
  font-size: 1.5rem;
  margin-bottom: 1rem;
  font-weight: 600;
`,AN=ah.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 1rem 0;
  padding: 1rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
`,_N=ah.span`
  font-size: 1.2rem;
  font-weight: 600;
`,eye=ah.button`
  background: white;
  color: #667eea;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-top: 1rem;
  width: 100%;
  
  &:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
`,tye=()=>{const{address:t,isConnected:e}=Ir(),[n,r]=U.useState({eth:0n,usdc:0n}),[i,o]=U.useState(!1),[s,a]=U.useState(!1);U.useEffect(()=>{e&&t&&jt.currentChain&&l()},[e,t]);const l=async()=>{try{o(!0);const d=await jt.getUnclaimedRewards(t);d.success&&r({eth:d.eth,usdc:d.usdc})}catch(d){console.error("Error checking rewards:",d)}finally{o(!1)}},c=async()=>{try{a(!0);const d=await jt.withdrawRewards();d.success?(alert("Rewards claimed successfully! "),r({eth:0n,usdc:0n})):alert("Failed to claim rewards: "+d.error)}catch(d){console.error("Error claiming rewards:",d),alert("Error claiming rewards: "+d.message)}finally{a(!1)}},u=n.eth>0n||n.usdc>0n;return!e||i||!u?null:q(Jge,{children:[F(Zge,{children:" Unclaimed Rewards"}),n.eth>0n&&q(AN,{children:[F("span",{children:"ETH"}),q(_N,{children:[Ww(n.eth)," ETH"]})]}),n.usdc>0n&&q(AN,{children:[F("span",{children:"USDC"}),q(_N,{children:[$m(n.usdc,6)," USDC"]})]}),F(eye,{onClick:c,disabled:s,children:s?"Claiming...":"Claim All Rewards"})]})},to=xe("div",{target:"eyxi51559"})("min-height:100vh;background-color:transparent;color:",t=>t.theme.colors.textPrimary,";padding:2rem;"),no=xe("div",{target:"eyxi51558"})({name:"tyoysd",styles:"max-width:1200px;margin:0 auto;padding:1rem;@media (max-width: 768px){padding:0.5rem;}"}),Au=xe("div",{target:"eyxi51557"})("background:rgba(255, 255, 0, 0.1);backdrop-filter:blur(10px);border:1px solid rgba(255, 255, 0, 0.2);border-radius:1rem;padding:1.5rem;transition:",t=>t.theme.transitions.default,";&:hover{transform:translateY(-4px);box-shadow:",t=>t.theme.shadows.glass,";border-color:rgba(255, 255, 0, 0.3);}"),Ds=xe("h3",{target:"eyxi51556"})("color:",t=>t.theme.colors.neonPink,";animation:neonPulse 2s infinite;",t=>t.theme.animations.neonPulse,";"),xr=xe("button",{target:"eyxi51554"})("background:linear-gradient(45deg, ",t=>t.theme.colors.neonPink,", ",t=>t.theme.colors.neonBlue,");color:white;border:none;border-radius:0.75rem;padding:0.75rem 1.5rem;font-weight:500;cursor:pointer;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);box-shadow:",t=>t.theme.shadows.neon,";&::before{transform:translateX(100%);}}"),nye=xe("div",{target:"eyxi51553"})({name:"2ojh76",styles:"display:grid;grid-template-columns:repeat(5, 1fr);gap:1rem;padding:1rem;@media (max-width: 1400px){grid-template-columns:repeat(4, 1fr);}@media (max-width: 1200px){grid-template-columns:repeat(3, 1fr);}@media (max-width: 768px){grid-template-columns:repeat(1, 1fr);gap:0.75rem;padding:0.5rem;}"}),rye=xe("div",{target:"eyxi51552"})({name:"zp4fuo",styles:"background:rgba(0, 0, 0, 0.3);border:1px solid rgba(255, 255, 255, 0.1);border-radius:1rem;overflow:hidden;transition:all 0.3s ease;position:relative;@media (max-width: 768px){margin-bottom:0.75rem;border-radius:0.75rem;}&:hover{transform:translateY(-2px);box-shadow:0 0 20px rgba(0, 255, 65, 0.2);}"}),U_=xe("img",{target:"eyxi51551"})({name:"18zqpt0",styles:"width:100%;height:100%;object-fit:cover;object-position:center;@media (max-width: 768px){height:180px;}"}),sb=xe("div",{target:"eyxi51543"})("display:inline-block;width:2rem;height:2rem;border:3px solid ",t=>t.theme.colors.neonPink,";border-radius:50%;border-top-color:transparent;animation:spin 1s linear infinite;@keyframes spin{to{transform:rotate(360deg);}}"),iye=xe("div",{target:"eyxi51542"})({name:"1ict2wg",styles:"max-width:2xl;margin:0 auto;padding:2rem"}),oye=xe(Ds,{target:"eyxi51541"})({name:"1e9obx1",styles:"font-size:2rem;margin-bottom:2rem"}),Fh=xe(Au,{target:"eyxi51540"})({name:"1da3ewm",styles:"padding:1.5rem;margin-bottom:1.5rem"}),Oh=xe("h2",{target:"eyxi51539"})("color:",t=>t.theme.colors.neonPink,";font-size:1.25rem;font-weight:600;margin-bottom:1rem;"),sye=xe("div",{target:"eyxi51538"})({name:"w5cb7o",styles:"display:flex;align-items:center;gap:1rem;padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:0.75rem;border:1px solid rgba(255, 255, 255, 0.1)"}),aye=xe("img",{target:"eyxi51537"})({name:"1bmg8cs",styles:"width:5rem;height:5rem;border-radius:0.5rem;object-fit:cover"}),lye=xe("div",{target:"eyxi51536"})({name:"82a6rk",styles:"flex:1"}),cye=xe("h3",{target:"eyxi51535"})("color:",t=>t.theme.colors.textPrimary,";font-weight:600;margin-bottom:0.25rem;"),uye=xe("p",{target:"eyxi51534"})("color:",t=>t.theme.colors.textSecondary,";font-size:0.875rem;"),dye=xe("button",{target:"eyxi51533"})("width:100%;padding:1.5rem;border:2px dashed rgba(255, 255, 255, 0.2);border-radius:0.75rem;background:transparent;color:",t=>t.theme.colors.textSecondary,";font-size:1rem;cursor:pointer;transition:",t=>t.theme.transitions.default,";&:hover{border-color:",t=>t.theme.colors.neonPink,";color:",t=>t.theme.colors.neonPink,";background:rgba(255, 255, 255, 0.05);}"),fye=xe("div",{target:"eyxi51532"})({name:"bjn8wh",styles:"position:relative"}),hye=xe("input",{target:"eyxi51531"})("width:100%;padding:0.75rem 1rem;background:rgba(255, 255, 255, 0.05);border:1px solid rgba(255, 255, 255, 0.1);border-radius:0.5rem;color:",t=>t.theme.colors.textPrimary,";font-size:1rem;transition:",t=>t.theme.transitions.default,";&:focus{outline:none;border-color:",t=>t.theme.colors.neonPink,";box-shadow:",t=>t.theme.shadows.neon,";}&::placeholder{color:",t=>t.theme.colors.textTertiary,";}"),pye=xe("div",{target:"eyxi51530"})("position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:",t=>t.theme.colors.textSecondary,";font-size:0.875rem;"),mye=xe(xr,{target:"eyxi51527"})({name:"bz05c1",styles:"width:100%;padding:1rem;font-size:1.125rem;&:disabled{opacity:0.5;cursor:not-allowed;}"}),wj=xe("div",{target:"eyxi51526"})({name:"1e06wu4",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;padding:2rem;text-align:center;background:rgba(0, 0, 0, 0.3);border-radius:1rem;margin:2rem 0;[data-rk]{width:100%;max-width:300px;}"}),bj=xe(Ds,{target:"eyxi51525"})({name:"s9j5gk",styles:"font-size:2rem;margin-bottom:1rem"}),xj=xe("p",{target:"eyxi51524"})("color:",t=>t.theme.colors.textSecondary,";margin-bottom:2rem;"),z_=xe("div",{target:"eyxi51523"})({name:"1iwin9z",styles:"background:rgba(255, 0, 0, 0.1);border:1px solid rgba(255, 0, 0, 0.2);color:#ff4444;padding:1rem;border-radius:0.5rem;margin-bottom:1.5rem;font-size:0.875rem;animation:fadeIn 0.3s ease-in-out;@keyframes fadeIn{from{opacity:0;transform:translateY(-10px);}to{opacity:1;transform:translateY(0);}}"}),SN=xe("div",{target:"eyxi51522"})({name:"kkm2ff",styles:"text-align:center;padding:3rem 2rem;background:rgba(255, 0, 0, 0.1);border:1px solid rgba(255, 0, 0, 0.3);border-radius:1rem;margin:2rem 0"}),CN=xe("h2",{target:"eyxi51521"})("color:",t=>t.theme.colors.error||"#ff4444",";margin-bottom:1rem;font-size:1.5rem;"),gye=xe("div",{target:"eyxi51520"})({name:"3gaqqa",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 2rem;text-align:center"}),yye=xe("div",{target:"eyxi51519"})({name:"b2i4m4",styles:"width:100%;max-width:1200px;margin:0 auto"}),vye=xe("div",{target:"eyxi51510"})({name:"1qj36wb",styles:"padding:0.75rem;display:flex;flex-direction:column;gap:0.5rem"}),wye=xe("h3",{target:"eyxi5159"})({name:"1w69tks",styles:"font-size:1rem;font-weight:700;color:white;margin:0"}),bye=xe("p",{target:"eyxi5158"})("color:",t=>t.theme.colors.textSecondary,";font-size:0.75rem;margin:0;"),xye=xe("div",{target:"eyxi5157"})({name:"1fq4wdl",styles:"display:flex;flex-wrap:wrap;gap:0.25rem;margin-top:0.25rem"}),Bh=xe("div",{target:"eyxi5156"})("background:rgba(255, 255, 255, 0.1);padding:0.15rem 0.5rem;border-radius:1rem;font-size:0.75rem;color:",t=>t.theme.colors.textSecondary,";"),Eye=xe("div",{target:"eyxi5153"})("background:transparent;backdrop-filter:blur(10px);border:1px solid ",t=>t.theme.colors.neonGreen,";border-radius:1rem;padding:1rem;transition:",t=>t.theme.transitions.default,";margin-bottom:2rem;"),Aye=t=>t&&{ethereum:"https://etherscan.io",polygon:"https://polygonscan.com",base:"https://basescan.org",arbitrum:"https://arbiscan.io",optimism:"https://optimistic.etherscan.io"}[t.toLowerCase()]||"https://etherscan.io",_ye=t=>t&&{ethereum:"https://opensea.io/assets/ethereum",polygon:"https://opensea.io/assets/matic",base:"https://opensea.io/assets/base",arbitrum:"https://opensea.io/assets/arbitrum",optimism:"https://opensea.io/assets/optimism"}[t.toLowerCase()]||"https://opensea.io/assets/ethereum",oE=xe("video",{target:"e1tha5qy5"})({name:"nal8u7",styles:"position:fixed;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1;opacity:0.7"}),Sye=xe("div",{target:"e1tha5qy4"})({name:"1av86fp",styles:"display:flex;gap:0.5rem;flex-wrap:wrap;align-items:center;@media (max-width: 768px){flex-wrap:nowrap;gap:0.25rem;}"}),Cye=xe("div",{target:"e1tha5qy3"})({name:"1fxxqiq",styles:"display:flex;gap:0.5rem;flex-wrap:wrap;@media (max-width: 768px){display:none;}"}),Tye=xe(xr,{target:"e1tha5qy2"})("background:",t=>t.active?t.theme.colors.neonGreen:"transparent",";border:1px solid ",t=>t.theme.colors.neonGreen,";padding:0.5rem 1rem;color:",t=>t.active?"#000B1A":t.theme.colors.textPrimary,";white-space:nowrap;@media (max-width: 768px){padding:0.5rem;font-size:0.9rem;}"),Mye=xe("select",{target:"e1tha5qy1"})("display:none;background:transparent;border:1px solid ",t=>t.theme.colors.neonGreen,";color:",t=>t.theme.colors.textPrimary,";padding:0.5rem;border-radius:0.5rem;cursor:pointer;font-size:0.9rem;width:100%;max-width:200px;@media (max-width: 768px){display:block;}option{background:",t=>t.theme.colors.bgDark,";color:",t=>t.theme.colors.textPrimary,";}"),Iye=xe("input",{target:"e1tha5qy0"})("background:rgba(255, 255, 255, 0.05);border:1px solid ",t=>t.theme.colors.neonBlue,";color:",t=>t.theme.colors.textPrimary,";padding:0.5rem 1rem;border-radius:0.5rem;font-size:0.9rem;width:100%;max-width:300px;transition:all 0.3s ease;&:focus{outline:none;border-color:",t=>t.theme.colors.neonPink,";box-shadow:0 0 10px ",t=>t.theme.colors.neonPink,";}&::placeholder{color:",t=>t.theme.colors.textSecondary,";}@media (max-width: 768px){max-width:100%;margin-bottom:0.5rem;}"),Rye=()=>{const t=oh(),{showSuccess:e,showError:n,showInfo:r}=Js(),{isConnected:i,address:o,chain:s,walletClient:a,publicClient:l}=po(),[c,u]=U.useState("all"),[d,f]=U.useState(""),[h,g]=U.useState([]),[m,y]=U.useState(!1),[p,v]=U.useState(null),[w,x]=U.useState(""),T="https://cryptoflipz2-production.up.railway.app";U.useEffect(()=>{console.log(" Home Debug:",{isConnected:i,address:o,chain:s,hasWalletClient:!!a,hasPublicClient:!!l})},[i,o,s,a,l]);const k=async()=>{try{y(!0),x(null);const S=await fetch(`${T}/api/games`);if(!S.ok)throw new Error("Failed to fetch games");const N=await S.json();console.log(" Fetched games from database:",N);const P=N.map(W=>({id:W.id,nft:{name:W.nft_name||"Unknown NFT",image:W.nft_image||"/placeholder-nft.png",collection:W.nft_collection||"Unknown Collection",contractAddress:W.nft_contract,tokenId:W.nft_token_id,chain:W.nft_chain||"base"},gameType:W.game_type||"nft-vs-crypto",price:W.price_usd,priceUSD:W.price_usd,currency:W.game_type==="nft-vs-nft"?"NFT":"USD",chain:W.nft_chain||"base",creator:W.creator,joiner:W.joiner,rounds:W.rounds,status:W.status,createdAt:W.created_at,winner:W.winner,creatorWins:W.creator_wins||0,joinerWins:W.joiner_wins||0,challengerNFT:W.challenger_nft_name?{name:W.challenger_nft_name,image:W.challenger_nft_image,collection:W.challenger_nft_collection,contractAddress:W.challenger_nft_contract,tokenId:W.challenger_nft_token_id}:null,description:W.game_type==="nft-vs-nft"?`NFT Battle: ${W.nft_name} vs ${W.challenger_nft_name||"Waiting for challenger"}`:`${W.nft_name} from ${W.nft_collection} - Ready for battle!`}));console.log(" Processed flips:",P),g(P),P.length>0&&v(P[0])}catch(S){console.error(" Error fetching games:",S),x("Failed to load games. Please try again.")}finally{y(!1)}};U.useEffect(()=>{k();const S=setInterval(k,1e4);return()=>clearInterval(S)},[]);const A=h.filter(S=>{const N=c==="all"||(c==="nft-vs-crypto"||c==="nft-vs-nft"?S.gameType===c:S.chain===c),P=d.toLowerCase(),W=!d||S.nft.name.toLowerCase().includes(P)||S.nft.collection.toLowerCase().includes(P)||S.description.toLowerCase().includes(P);return N&&W}),z=[{key:"all",name:"ALL",icon:""},{key:"nft-vs-crypto",name:"NFT VS CRYPTO",icon:""},{key:"nft-vs-nft",name:"NFT VS NFT",icon:""},{key:"ethereum",name:"ETH",icon:""},{key:"base",name:"BASE",icon:""},{key:"bnb",name:"BNB",icon:""},{key:"avalanche",name:"AVAX",icon:""},{key:"polygon",name:"POLY",icon:""},{key:"arbitrum",name:"ARB",icon:""},{key:"optimism",name:"OPT",icon:""}];return m?q(Qr,{theme:Ze,children:[F(oE,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:F("source",{src:Ny,type:"video/webm"})}),F(to,{children:F(no,{children:q("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:[F(sb,{}),F("span",{style:{marginLeft:"1rem",color:Ze.colors.textSecondary},children:"Loading games from database..."})]})})})]}):w?q(Qr,{theme:Ze,children:[F(oE,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:F("source",{src:Ny,type:"video/webm"})}),F(to,{children:F(no,{children:q(Au,{style:{textAlign:"center",padding:"3rem"},children:[F(Ds,{style:{fontSize:"2rem",marginBottom:"1rem",color:Ze.colors.statusError},children:"Error Loading Games"}),F("p",{style:{color:Ze.colors.textSecondary,marginBottom:"2rem"},children:w}),F(xr,{onClick:k,style:{background:Ze.colors.neonPink},children:"Retry"})]})})})]}):q(Qr,{theme:Ze,children:[F(oE,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:F("source",{src:Ny,type:"video/webm"})}),F(to,{children:q(no,{children:[F(tye,{}),F(Eye,{style:{background:Ze.colors.bgDark},children:q(Sye,{children:[F(Cye,{children:z.map(S=>q(Tye,{onClick:()=>u(S.key),active:c===S.key,children:[S.icon," ",S.name]},S.key))}),F(Mye,{value:c,onChange:S=>u(S.target.value),children:z.map(S=>q("option",{value:S.key,children:[S.icon," ",S.name]},S.key))})]})}),A.length===0?q(Au,{style:{textAlign:"center",padding:"3rem",border:`2px solid ${Ze.colors.neonPink}`},children:[F(Ds,{style:{fontSize:"2rem",marginBottom:"1rem"},children:"No Active Flips"}),F("p",{style:{color:Ze.colors.textSecondary,marginBottom:"2rem"},children:"Be the first to create a flip game!"}),F(xr,{as:g0,to:"/create",style:{background:Ze.colors.neonPink},children:"Create Flip"})]}):q("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"240px 1fr",gap:"1.5rem",marginTop:"2rem"},children:[F("div",{style:{order:window.innerWidth<=768?1:0,width:window.innerWidth<=768?"100%":"240px"},children:p&&q("div",{style:{background:"rgba(0, 0, 0, 0.8)",borderRadius:"1rem",padding:window.innerWidth<=768?"1.25rem":"1.5rem",border:`2px solid ${p.gameType==="nft-vs-nft"?Ze.colors.neonGreen:Ze.colors.neonPink}`,maxWidth:window.innerWidth<=768?"100%":"240px"},children:[F("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:Ze.colors.neonBlue,borderBottom:`2px solid ${Ze.colors.neonBlue}`,paddingBottom:"0.5rem",marginBottom:"1rem",textShadow:`0 0 10px ${Ze.colors.neonBlue}`},children:"Current Flip"}),q("div",{style:{display:"flex",flexDirection:window.innerWidth<=768?"row":"column",gap:(window.innerWidth<=768,"1rem"),alignItems:window.innerWidth<=768?"flex-start":"stretch"},children:[q("div",{style:{position:"relative",aspectRatio:"1",borderRadius:"0.75rem",overflow:"hidden",width:window.innerWidth<=768?"60%":"100%",flexShrink:0},children:[F(U_,{src:p.nft.image,alt:p.nft.name}),F("div",{style:{position:"absolute",bottom:"0.5rem",right:"0.5rem",background:p.gameType==="nft-vs-nft"?"linear-gradient(45deg, #00FF41, #39FF14)":"linear-gradient(45deg, #FF1493, #FF69B4)",color:p.gameType==="nft-vs-nft"?"#000":"#fff",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",fontWeight:"bold"},children:p.gameType==="nft-vs-nft"?" NFT BATTLE":" CRYPTO"})]}),window.innerWidth<=768&&q("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",flex:1},children:[q("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[F("div",{style:{fontSize:"0.7rem",color:Ze.colors.textSecondary},children:"Price"}),q("div",{style:{fontSize:"1rem",fontWeight:"bold"},children:["$",p.priceUSD.toFixed(2)]})]}),q("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[F("div",{style:{fontSize:"0.7rem",color:Ze.colors.textSecondary},children:"Type"}),F("div",{style:{fontSize:"0.9rem",fontWeight:"bold",color:p.gameType==="nft-vs-nft"?Ze.colors.neonGreen:Ze.colors.neonPink},children:p.gameType==="nft-vs-nft"?"NFT Battle":"NFT vs Crypto"})]})]})]}),q(vye,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[q("div",{children:[F(wye,{style:{fontSize:"1.2rem",marginBottom:"0.5rem"},children:p.nft.name}),F(bye,{style:{fontSize:"0.9rem"},children:p.nft.collection})]}),window.innerWidth>768&&F(xye,{style:{display:"grid",gridTemplateColumns:"1fr",gap:"0.75rem"},children:p.gameType==="nft-vs-nft"?q(as,{children:[q(Bh,{children:[F("span",{children:"Type"}),F("div",{style:{color:Ze.colors.neonGreen},children:"NFT Battle"})]}),q(Bh,{children:[F("span",{children:"Stakes"}),F("div",{children:"Winner Takes All"})]}),p.challengerNFT&&q(Bh,{children:[F("span",{children:"VS"}),F("div",{style:{color:Ze.colors.neonYellow},children:p.challengerNFT.name})]})]}):q(as,{children:[q(Bh,{children:[F("span",{children:"Price"}),q("div",{children:["$",p.priceUSD.toFixed(2)]})]}),q(Bh,{children:[F("span",{children:"Type"}),F("div",{style:{color:Ze.colors.neonPink},children:"NFT vs Crypto"})]})]})}),q("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[F("a",{href:`${Aye(p.nft.chain)}/token/${p.nft.contractAddress}?a=${p.nft.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:" Explorer"}),q("a",{href:`${_ye(p.nft.chain)}/${p.nft.contractAddress}/${p.nft.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:[F("img",{src:"images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain"}}),"OpenSea"]})]}),q("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[F(xr,{onClick:()=>t(`/game/${p.id}`),style:{flex:2,background:"linear-gradient(45deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",textShadow:"0 0 10px rgba(255, 20, 147, 0.5)",boxShadow:"0 0 20px rgba(255, 20, 147, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:S=>{S.currentTarget.style.transform="scale(1.05)",S.currentTarget.style.boxShadow="0 0 30px rgba(255, 20, 147, 0.5)"},onMouseLeave:S=>{S.currentTarget.style.transform="scale(1)",S.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.3)"},children:"View Flip"}),p.gameType==="nft-vs-nft"&&!p.challengerNFT&&q(xr,{onClick:()=>t(`/flip/${p.id}/join`),style:{flex:1,background:"linear-gradient(45deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",textShadow:"0 0 10px rgba(255, 20, 147, 0.5)",boxShadow:"0 0 20px rgba(255, 20, 147, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:S=>{S.currentTarget.style.transform="scale(1.05)",S.currentTarget.style.boxShadow="0 0 30px rgba(255, 20, 147, 0.5)"},onMouseLeave:S=>{S.currentTarget.style.transform="scale(1)",S.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.3)"},children:[F("span",{children:""})," Join Battle"]})]})]})]})}),q("div",{style:{background:"rgba(0, 0, 20, 0.95)",borderRadius:"1rem",padding:window.innerWidth<=768?"0.75rem":"1rem",border:`1px solid ${Ze.colors.neonBlue}`,maxHeight:window.innerWidth<=768?"none":"600px",overflowY:"auto",order:window.innerWidth<=768?2:0},children:[q("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:Ze.colors.neonBlue,marginBottom:"1rem",padding:"0.5rem",borderBottom:`1px solid ${Ze.colors.neonBlue}`,textShadow:"0 0 10px rgba(0, 150, 255, 0.5)"},children:["Available Flips (",A.filter(S=>S.status==="waiting").length,")"]}),F("div",{style:{marginBottom:"1rem"},children:F(Iye,{type:"text",placeholder:"Search NFTs or collections...",value:d,onChange:S=>f(S.target.value)})}),F("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"repeat(2, 1fr)":"repeat(5, 1fr)",gap:window.innerWidth<=768?"0.25rem":"0.75rem",margin:"1rem 0",width:"100%",overflowX:"hidden",padding:window.innerWidth<=768?"0 0.25rem":"0",gridAutoRows:"minmax(auto, auto)",gridAutoFlow:"row"},children:A.map(S=>q("div",{onClick:()=>v(S),style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:window.innerWidth<=768?"0.5rem":"0.75rem",padding:window.innerWidth<=768?"0.25rem":"0.5rem",cursor:"pointer",transition:"all 0.2s ease",border:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",flexDirection:"column",gap:window.innerWidth<=768?"0.15rem":"0.25rem",height:window.innerWidth<=768?"auto":"210px",width:"100%"},onMouseEnter:N=>{N.currentTarget.style.transform="scale(1.02)",N.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},onMouseLeave:N=>{N.currentTarget.style.transform="scale(1)",N.currentTarget.style.background="rgba(255, 255, 255, 0.05)"},children:[q("div",{style:{position:"relative",aspectRatio:"1",borderRadius:window.innerWidth<=768?"0.25rem":"0.5rem",overflow:"hidden",width:"100%",height:window.innerWidth<=768?"auto":"135px",minHeight:window.innerWidth<=768?"80px":"135px"},children:[F(U_,{src:S.nft.image,alt:S.nft.name,style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),F("div",{style:{position:"absolute",bottom:"0.25rem",right:"0.25rem",background:S.gameType==="nft-vs-nft"?"linear-gradient(45deg, #00FF41, #39FF14)":"linear-gradient(45deg, #FF1493, #FF69B4)",color:S.gameType==="nft-vs-nft"?"#000":"#fff",padding:window.innerWidth<=768?"0.1rem 0.25rem":"0.15rem 0.35rem",borderRadius:window.innerWidth<=768?"0.15rem":"0.25rem",fontSize:window.innerWidth<=768?"0.5rem":"0.6rem",fontWeight:"bold"},children:S.gameType==="nft-vs-nft"?" NFT BATTLE":" CRYPTO"})]}),q("div",{style:{display:"flex",flexDirection:"column",gap:window.innerWidth<=768?"0.1rem":"0.25rem",padding:window.innerWidth<=768?"0.1rem":"0.25rem",height:window.innerWidth<=768?"auto":"60px",justifyContent:"space-between"},children:[F("div",{style:{fontSize:window.innerWidth<=768?"0.6rem":"0.7rem",fontWeight:"bold",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:S.nft.name}),F("div",{style:{fontSize:window.innerWidth<=768?"0.5rem":"0.6rem",color:Ze.colors.textSecondary,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:S.nft.collection}),q("div",{style:{fontSize:window.innerWidth<=768?"0.6rem":"0.7rem",fontWeight:"bold",color:Ze.colors.neonBlue},children:["$",S.priceUSD.toFixed(2)]})]})]},S.id))})]})]})]})})]})},v0=()=>{const{address:t,isConnected:e,connector:n}=Ir(),{data:r}=$D(),i=NT(),{showError:o}=Js(),[s,a]=U.useState(!1),[l,c]=U.useState(null);return U.useEffect(()=>{const u=async()=>{try{c(null);const d=!!t,f=!!r,h=!!i,g=e;if(console.log(" Wallet connection check:",{hasAddress:d,hasWalletClient:f,hasPublicClient:h,isWagmiConnected:g,connector:n?.name,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}),g&&d&&(!f||!h)){console.log(" Waiting for clients to initialize..."),setTimeout(()=>{u()},1e3);return}const m=d&&f&&h&&g;a(m),!m&&g&&(c("Wallet connection incomplete. Please reconnect your wallet."),console.error(" Incomplete wallet connection:",{hasAddress:d,hasWalletClient:f,hasPublicClient:h,isWagmiConnected:g}))}catch(d){console.error(" Error checking wallet connection:",d),c(d.message),a(!1)}};u()},[t,r,i,e,n]),{isFullyConnected:s,connectionError:l,address:t,walletClient:r,publicClient:i,connector:n}},Pye=({isOpen:t,onClose:e,onSelect:n,nfts:r=[],loading:i=!1})=>{const{chain:o,chains:s}=po();return t?F(Qr,{theme:Ze,children:F("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,padding:"1rem"},children:q(Au,{style:{width:"100%",maxWidth:"1200px",maxHeight:"90vh",display:"flex",flexDirection:"column",gap:"1.5rem"},children:[q("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[q("div",{children:[F(Ds,{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:"Select NFT"}),q("p",{style:{color:Ze.colors.textSecondary},children:["Choose an NFT from your ",s[o]?.name||"wallet"]})]}),F(xr,{onClick:e,style:{padding:"0.5rem"},children:""})]}),F("div",{style:{flex:1,overflowY:"auto",paddingRight:"0.5rem"},children:i?F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1rem"},children:[...Array(6)].map((a,l)=>q(Au,{style:{padding:"1rem"},children:[F("div",{style:{width:"100%",height:"200px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",marginBottom:"1rem"}}),q("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[F("div",{style:{height:"1rem",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.25rem",width:"75%"}}),F("div",{style:{height:"1rem",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.25rem",width:"50%"}})]})]},l))}):!r||r.length===0?F("div",{style:{textAlign:"center",padding:"3rem 0",color:Ze.colors.textSecondary},children:q("p",{style:{fontSize:"1.125rem"},children:["No NFTs found in your ",s[o]?.name||"wallet"]})}):F(nye,{children:r.map(a=>q(rye,{onClick:()=>{n(a),e()},style:{cursor:"pointer"},children:[F(U_,{src:a.image,alt:a.name,onError:l=>{console.error(" Image failed to load:",a.image),l.target.src="/placeholder-nft.svg"},onLoad:()=>{console.log(" Image loaded successfully:",a.image)}}),q("div",{style:{padding:"1rem"},children:[F("h3",{style:{color:Ze.colors.textPrimary,fontWeight:600,marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.name}),F("p",{style:{color:Ze.colors.textSecondary,fontSize:"0.875rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.collection}),q("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",color:Ze.colors.textSecondary},children:[F("span",{children:"Token ID:"}),q("span",{style:{color:Ze.colors.textPrimary},children:["#",a.tokenId]})]})]})]},`${a.contractAddress}-${a.tokenId}`))})})]})})}):null},Nye=({onCoinSelect:t,selectedCoin:e=null,showCustomOption:n=!0})=>{const{address:r}=po(),{getCoinHeadsImage:i,getCoinTailsImage:o}=N5(),[s,a]=U.useState(null),[l,c]=U.useState(null),[u,d]=U.useState(e?.type||null),f=[{id:"plain",type:"default",name:"Classic",headsImage:"/coins/plainh.png",tailsImage:"/coins/plaint.png"},{id:"skull",type:"default",name:"Skull",headsImage:"/coins/skullh.png",tailsImage:"/coins/skullt.png"},{id:"trump",type:"default",name:"Trump",headsImage:"/coins/trumpheads.webp",tailsImage:"/coins/trumptails.webp"},{id:"mario",type:"default",name:"Mario Bros",headsImage:"/coins/mario.png",tailsImage:"/coins/luigi.png"}];U.useEffect(()=>{(async()=>{if(r)try{console.log(" Loading custom coin for address:",r);const y=await i(r),p=await o(r);console.log(" Custom coin loaded:",{hasHeads:!!y,hasTails:!!p,headsLength:y?.length||0,tailsLength:p?.length||0}),a(y),c(p)}catch(y){console.error("Error loading custom coin:",y)}})()},[r,i,o]);const h=m=>{if(d(m.id),m.type==="default"){const y={id:m.id,type:m.type,name:m.name,headsImage:m.headsImage,tailsImage:m.tailsImage};t(y)}else t(m)},g=s||l;return console.log(" CoinSelector state:",{address:r,hasCustomCoin:g,customHeadsImage:!!s,customTailsImage:!!l,showCustomOption:n,selectedCoinType:u}),q("div",{style:{background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem",padding:"2rem",width:"100%",maxWidth:"1200px",margin:"0 auto"},children:[F("h3",{style:{color:"#FFD700",textAlign:"center",marginBottom:"1.5rem",fontSize:"1.5rem",fontWeight:"bold"},children:"Choose Your Coin Design"}),F("p",{style:{color:"#fff",textAlign:"center",marginBottom:"2rem",fontSize:"0.9rem",opacity:.8},children:"Both players will see this coin design during the game"}),F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1.5rem",marginBottom:n&&g?"2rem":"0"},children:f.map(m=>q("div",{onClick:()=>h(m),style:{background:u===m.id?"rgba(255, 215, 0, 0.2)":"rgba(255, 255, 255, 0.05)",border:u===m.id?"2px solid #FFD700":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"1rem",padding:"1rem",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},children:[q("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginBottom:"1.5rem"},children:[F("div",{style:{width:"70px",height:"70px",borderRadius:"50%",backgroundImage:`url(${m.headsImage})`,backgroundSize:"cover",backgroundPosition:"center",border:"3px solid #FFD700",position:"relative"},children:F("div",{style:{position:"absolute",bottom:"-25px",left:"50%",transform:"translateX(-50%)",fontSize:"0.8rem",color:"#FFD700",fontWeight:"bold"},children:"H"})}),F("div",{style:{width:"70px",height:"70px",borderRadius:"50%",backgroundImage:`url(${m.tailsImage})`,backgroundSize:"cover",backgroundPosition:"center",border:"3px solid #FFD700",position:"relative"},children:F("div",{style:{position:"absolute",bottom:"-25px",left:"50%",transform:"translateX(-50%)",fontSize:"0.8rem",color:"#FFD700",fontWeight:"bold"},children:"T"})})]}),F("div",{style:{color:"#fff",fontSize:"1.1rem",fontWeight:"bold",textAlign:"center"},children:m.name})]},m.id))}),n&&g&&q(as,{children:[F("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), transparent)",margin:"2rem 0"}}),q("div",{onClick:()=>h({id:"custom",type:"custom",name:"Your Custom Coin",headsImage:s||"/coins/plainh.png",tailsImage:l||"/coins/plaint.png",description:"Your personal coin design"}),style:{background:u==="custom"?"rgba(255, 215, 0, 0.2)":"rgba(255, 255, 255, 0.05)",border:u==="custom"?"2px solid #FFD700":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"1rem",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},children:[q("div",{style:{display:"flex",justifyContent:"center",gap:"1.5rem",marginBottom:"1.5rem"},children:[q("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundImage:s?`url(${s})`:"none",backgroundColor:s?"transparent":"rgba(255, 215, 0, 0.2)",backgroundSize:"cover",backgroundPosition:"center",border:"4px solid #FFD700",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[!s&&F("div",{style:{color:"#FFD700",fontSize:"2rem",fontWeight:"bold"},children:"?"}),F("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",fontSize:"0.9rem",color:"#FFD700",fontWeight:"bold"},children:"HEADS"})]}),q("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundImage:l?`url(${l})`:"none",backgroundColor:l?"transparent":"rgba(255, 215, 0, 0.2)",backgroundSize:"cover",backgroundPosition:"center",border:"4px solid #FFD700",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[!l&&F("div",{style:{color:"#FFD700",fontSize:"2rem",fontWeight:"bold"},children:"?"}),F("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",fontSize:"0.9rem",color:"#FFD700",fontWeight:"bold"},children:"TAILS"})]})]}),F("div",{style:{color:"#FFD700",fontSize:"1.1rem",fontWeight:"bold",marginBottom:"0.5rem"},children:" Your Custom Coin"}),F("div",{style:{color:"#fff",fontSize:"0.8rem",opacity:.8},children:"Use your personalized coin design"})]})]}),n&&!g&&q(as,{children:[F("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), transparent)",margin:"2rem 0"}}),q("div",{style:{padding:"1.5rem",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem",textAlign:"center"},children:[F("div",{style:{color:"#FFD700",fontSize:"1rem",fontWeight:"bold",marginBottom:"0.5rem"},children:" Want to use a custom coin?"}),F("div",{style:{color:"#fff",fontSize:"0.9rem",opacity:.8},children:"Go to your profile and upload custom heads & tails images to unlock this option!"})]})]})]})},kye=()=>{const t=oh(),{nfts:e,loading:n,chain:r}=po(),{showSuccess:i,showError:o,showInfo:s}=Js(),{isFullyConnected:a,connectionError:l,address:c,walletClient:u,publicClient:d}=v0(),[f,h]=U.useState(null),[g,m]=U.useState(!1),[y,p]=U.useState(""),[v,w]=U.useState(""),[x,T]=U.useState(null),[k,A]=U.useState(""),[z,S]=U.useState(!1);if(U.useEffect(()=>{console.log(" CreateFlip - Wallet state:",{isFullyConnected:a,connectionError:l,address:c,hasWalletClient:!!u,chain:r?.name})},[a,l,c,u,r]),U.useEffect(()=>{l&&A(l)},[l]),U.useEffect(()=>{if(a&&u&&d&&r){const W=r.name.toLowerCase();jt.init(W,u,d).then(()=>{console.log(" Contract service initialized for chain:",W)}).catch(B=>{console.error(" Failed to initialize contract service:",B),A("Failed to connect to smart contract")})}},[a,u,d,r]),!a||!c)return F(Qr,{theme:Ze,children:F(to,{children:F(no,{children:q(wj,{children:[F(bj,{children:"Connect Your Wallet"}),F(xj,{children:l||"Please connect your wallet to create a new flip game."}),F(Bu,{}),l&&F("div",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#FF6B6B"},children:l})]})})})});const N=async W=>{W.preventDefault(),A(""),S(!0);try{if(!f)throw new Error("Please select an NFT");if(!v)throw new Error("Please select a game type");if(!x)throw new Error("Please select a coin design");let B=0;if(v==="nft-vs-crypto"){const O=parseFloat(y);if(!y||isNaN(O)||O<=0)throw new Error("Please enter a valid price in USD");B=O}if(!u||!c)throw new Error("Wallet not connected properly. Please reconnect your wallet.");s("Preparing game creation...");const b={nftContract:f.contractAddress,tokenId:f.tokenId,priceUSD:B,acceptedToken:0,maxRounds:5,gameType:v==="nft-vs-nft"?1:0,authInfo:JSON.stringify({coinDesign:x,gameType:v,creator:c})};console.log(" Creating game with smart contract:",b),console.log(" Selected NFT object:",f);const E=await jt.createGame(b);if(!E.success)throw new Error("Failed to create game: "+E.error);i("Game created successfully!"),console.log(" Game created on blockchain:",E);const I=await P({id:E.gameId.toString(),creator:c,nft_contract:f.contractAddress,nft_token_id:f.tokenId,nft_name:f.name,nft_image:f.image,nft_collection:f.collection,nft_chain:r?.name?.toLowerCase()||"base",price_usd:B,game_type:v,coin:x,status:"created",contract_game_id:E.gameId.toString(),transaction_hash:E.transactionHash});I.success?t(`/game/${E.gameId}`):(console.warn(" Game created on blockchain but failed to save to database:",I.error),t(`/game/${E.gameId}`))}catch(B){console.error(" Error creating game:",B),A(B.message),o("Failed to create game: "+B.message)}finally{S(!1)}},P=async W=>{try{console.log(" Saving game to database:",W);const b=await fetch("https://cryptoflipz2-production.up.railway.app/api/games",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(!b.ok)throw new Error("Failed to save game to database");const E=await b.json();return console.log(" Game saved to database:",E),{success:!0,gameId:E.id}}catch(B){return console.error(" Error saving game to database:",B),{success:!1,error:B.message}}};return F(Qr,{theme:Ze,children:q(to,{children:[F(no,{children:q(iye,{children:[F(oye,{children:"Create New Flip"}),k&&F(z_,{children:k}),q("form",{onSubmit:N,children:[q(Fh,{children:[F(Oh,{children:"Choose Game Type"}),q("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[q("button",{type:"button",onClick:()=>w("nft-vs-crypto"),style:{width:"100%",padding:"1.5rem",background:v==="nft-vs-crypto"?"linear-gradient(45deg, #FF1493, #FF69B4)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${v==="nft-vs-crypto"?"#FF1493":"rgba(255, 255, 255, 0.1)"}`,borderRadius:"1rem",color:"white",cursor:"pointer",transition:"all 0.3s ease"},children:[F("div",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:" vs "}),F("div",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"NFT vs Crypto"}),F("div",{style:{fontSize:"0.8rem",opacity:.8},children:"Your NFT vs opponent's crypto bet"}),F("div",{style:{fontSize:"0.7rem",color:"#FFD700",marginTop:"0.5rem"},children:"Listing fee: $0.10"})]}),q("button",{type:"button",onClick:()=>w("nft-vs-nft"),style:{width:"100%",padding:"1.5rem",background:v==="nft-vs-nft"?"linear-gradient(45deg, #00FF41, #39FF14)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${v==="nft-vs-nft"?"#00FF41":"rgba(255, 255, 255, 0.1)"}`,borderRadius:"1rem",color:v==="nft-vs-nft"?"#000":"white",cursor:"pointer",transition:"all 0.3s ease"},children:[F("div",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:" vs "}),F("div",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"NFT vs NFT"}),F("div",{style:{fontSize:"0.8rem",opacity:.8},children:"Your NFT vs opponent's NFT - Winner takes both!"}),F("div",{style:{fontSize:"0.7rem",color:"#FFD700",marginTop:"0.5rem"},children:"Listing fee: $0.50"})]})]})]}),q(Fh,{children:[F(Oh,{children:"Select Your NFT"}),f?q(sye,{children:[F(aye,{src:f.image,alt:f.name}),q(lye,{children:[F(cye,{children:f.name}),F(uye,{children:f.collection})]}),F(xr,{type:"button",onClick:()=>h(null),children:"Change"})]}):F(dye,{type:"button",onClick:()=>m(!0),children:"Select NFT to Flip"})]}),v==="nft-vs-crypto"&&q(Fh,{children:[F(Oh,{children:"Set Price"}),q(fye,{children:[F(hye,{type:"number",step:"0.01",min:"0",placeholder:"Enter price in USD",value:y,onChange:W=>p(W.target.value),required:!0}),F(pye,{children:"USD"})]})]}),v==="nft-vs-nft"&&q(Fh,{children:[F(Oh,{children:"NFT vs NFT Battle"}),q("div",{style:{padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"1px solid rgba(0, 255, 65, 0.3)",borderRadius:"0.5rem"},children:[q("p",{style:{margin:0,color:"white"},children:[" ",F("strong",{children:"Ultimate NFT Battle!"})]}),q("p",{style:{margin:"0.5rem 0",fontSize:"0.9rem",opacity:.8},children:[" Other players can offer their NFTs to challenge you",F("br",{})," You choose which NFT to battle against",F("br",{})," Winner takes both NFTs!",F("br",{})," Best of 5 rounds determines the victor"]})]})]}),q(Fh,{children:[F(Oh,{children:"Choose Coin Design"}),F(Nye,{onCoinSelect:T,selectedCoin:x,showCustomOption:!0}),x&&q("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"1px solid rgba(0, 255, 65, 0.3)",borderRadius:"0.5rem",textAlign:"center"},children:[q("div",{style:{color:"#00FF41",fontWeight:"bold",marginBottom:"0.5rem"},children:[" Selected: ",x.name]}),F("div",{style:{color:"#fff",fontSize:"0.9rem",opacity:.8},children:"This coin design will be used for both players in the game"})]})]}),F(mye,{type:"submit",disabled:z||!v||!x,style:{color:"#000",background:"linear-gradient(45deg, #00FF41, #39FF14)",border:"none",fontWeight:"bold"},children:z?q(as,{children:[F(sb,{})," Creating ",v==="nft-vs-nft"?"NFT Battle":"Flip","..."]}):`Create ${v==="nft-vs-nft"?"NFT Battle":"Flip"}`})]})]})}),F(Pye,{isOpen:g,onClose:()=>m(!1),onSelect:h,nfts:e||[],loading:n,selectedNFT:f})]})})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const W5="170",Fye=0,TN=1,Oye=2,Ej=1,Bye=2,ca=3,Kl=0,zi=1,ba=2,Ul=0,Qd=1,MN=2,IN=3,RN=4,Lye=5,Cc=100,Dye=101,Uye=102,zye=103,jye=104,Gye=200,Hye=201,Wye=202,Vye=203,j_=204,G_=205,$ye=206,qye=207,Kye=208,Qye=209,Xye=210,Yye=211,Jye=212,Zye=213,eve=214,H_=0,W_=1,V_=2,kf=3,$_=4,q_=5,K_=6,Q_=7,V5=0,tve=1,nve=2,zl=0,rve=1,ive=2,ove=3,sve=4,ave=5,lve=6,cve=7,Aj=300,Ff=301,Of=302,X_=303,Y_=304,ab=306,J_=1e3,Hc=1001,Z_=1002,fs=1003,uve=1004,wg=1005,Pi=1006,sE=1007,Wc=1008,Ha=1009,_j=1010,Sj=1011,km=1012,$5=1013,_u=1014,Ca=1015,w0=1016,q5=1017,K5=1018,Bf=1020,Cj=35902,Tj=1021,Mj=1022,os=1023,Ij=1024,Rj=1025,Xd=1026,Lf=1027,Pj=1028,Q5=1029,Nj=1030,X5=1031,Y5=1033,Dy=33776,Uy=33777,zy=33778,jy=33779,eS=35840,tS=35841,nS=35842,rS=35843,iS=36196,oS=37492,sS=37496,aS=37808,lS=37809,cS=37810,uS=37811,dS=37812,fS=37813,hS=37814,pS=37815,mS=37816,gS=37817,yS=37818,vS=37819,wS=37820,bS=37821,Gy=36492,xS=36494,ES=36495,kj=36283,AS=36284,_S=36285,SS=36286,dve=3200,fve=3201,Fj=0,hve=1,xl="",qr="srgb",lh="srgb-linear",lb="linear",pn="srgb",Ju=7680,PN=519,pve=512,mve=513,gve=514,Oj=515,yve=516,vve=517,wve=518,bve=519,NN=35044,kN="300 es",Ta=2e3,sw=2001;class ch{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const Wr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],aE=Math.PI/180,CS=180/Math.PI;function b0(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Wr[t&255]+Wr[t>>8&255]+Wr[t>>16&255]+Wr[t>>24&255]+"-"+Wr[e&255]+Wr[e>>8&255]+"-"+Wr[e>>16&15|64]+Wr[e>>24&255]+"-"+Wr[n&63|128]+Wr[n>>8&255]+"-"+Wr[n>>16&255]+Wr[n>>24&255]+Wr[r&255]+Wr[r>>8&255]+Wr[r>>16&255]+Wr[r>>24&255]).toLowerCase()}function Ci(t,e,n){return Math.max(e,Math.min(n,t))}function xve(t,e){return(t%e+e)%e}function lE(t,e,n){return(1-n)*t+n*e}function Lh(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function xi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class sn{constructor(e=0,n=0){sn.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ci(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Bt{constructor(e,n,r,i,o,s,a,l,c){Bt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c)}set(e,n,r,i,o,s,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],g=r[8],m=i[0],y=i[3],p=i[6],v=i[1],w=i[4],x=i[7],T=i[2],k=i[5],A=i[8];return o[0]=s*m+a*v+l*T,o[3]=s*y+a*w+l*k,o[6]=s*p+a*x+l*A,o[1]=c*m+u*v+d*T,o[4]=c*y+u*w+d*k,o[7]=c*p+u*x+d*A,o[2]=f*m+h*v+g*T,o[5]=f*y+h*w+g*k,o[8]=f*p+h*x+g*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*s*u-n*a*c-r*o*u+r*a*l+i*o*c-i*s*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*s-a*c,f=a*l-u*o,h=c*o-s*l,g=n*d+r*f+i*h;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/g;return e[0]=d*m,e[1]=(i*c-u*r)*m,e[2]=(a*r-i*s)*m,e[3]=f*m,e[4]=(u*n-i*l)*m,e[5]=(i*o-a*n)*m,e[6]=h*m,e[7]=(r*l-c*n)*m,e[8]=(s*n-r*o)*m,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,s,a){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*s+c*a)+s+e,-i*c,i*l,-i*(-c*s+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(cE.makeScale(e,n)),this}rotate(e){return this.premultiply(cE.makeRotation(-e)),this}translate(e,n){return this.premultiply(cE.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const cE=new Bt;function Bj(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Fm(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Eve(){const t=Fm("canvas");return t.style.display="block",t}const FN={};function ep(t){t in FN||(FN[t]=!0,console.warn(t))}function Ave(t,e,n){return new Promise(function(r,i){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}function _ve(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Sve(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const Jt={enabled:!0,workingColorSpace:lh,spaces:{},convert:function(t,e,n){return this.enabled===!1||e===n||!e||!n||(this.spaces[e].transfer===pn&&(t.r=ka(t.r),t.g=ka(t.g),t.b=ka(t.b)),this.spaces[e].primaries!==this.spaces[n].primaries&&(t.applyMatrix3(this.spaces[e].toXYZ),t.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===pn&&(t.r=Yd(t.r),t.g=Yd(t.g),t.b=Yd(t.b))),t},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===xl?lb:this.spaces[t].transfer},getLuminanceCoefficients:function(t,e=this.workingColorSpace){return t.fromArray(this.spaces[e].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},_getMatrix:function(t,e,n){return t.copy(this.spaces[e].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace}};function ka(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Yd(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const ON=[.64,.33,.3,.6,.15,.06],BN=[.2126,.7152,.0722],LN=[.3127,.329],DN=new Bt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),UN=new Bt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);Jt.define({[lh]:{primaries:ON,whitePoint:LN,transfer:lb,toXYZ:DN,fromXYZ:UN,luminanceCoefficients:BN,workingColorSpaceConfig:{unpackColorSpace:qr},outputColorSpaceConfig:{drawingBufferColorSpace:qr}},[qr]:{primaries:ON,whitePoint:LN,transfer:pn,toXYZ:DN,fromXYZ:UN,luminanceCoefficients:BN,outputColorSpaceConfig:{drawingBufferColorSpace:qr}}});let Zu;class Cve{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Zu===void 0&&(Zu=Fm("canvas")),Zu.width=e.width,Zu.height=e.height;const r=Zu.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Zu}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Fm("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=ka(o[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(ka(n[r]/255)*255):n[r]=ka(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Tve=0;class Lj{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Tve++}),this.uuid=b0(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(uE(i[s].image)):o.push(uE(i[s]))}else o=uE(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function uE(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Cve.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Mve=0;class Jr extends ch{constructor(e=Jr.DEFAULT_IMAGE,n=Jr.DEFAULT_MAPPING,r=Hc,i=Hc,o=Pi,s=Wc,a=os,l=Ha,c=Jr.DEFAULT_ANISOTROPY,u=xl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Mve++}),this.uuid=b0(),this.name="",this.source=new Lj(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new sn(0,0),this.repeat=new sn(1,1),this.center=new sn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Bt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Aj)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case J_:e.x=e.x-Math.floor(e.x);break;case Hc:e.x=e.x<0?0:1;break;case Z_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case J_:e.y=e.y-Math.floor(e.y);break;case Hc:e.y=e.y<0?0:1;break;case Z_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Jr.DEFAULT_IMAGE=null;Jr.DEFAULT_MAPPING=Aj;Jr.DEFAULT_ANISOTROPY=1;class Gn{constructor(e=0,n=0,r=0,i=1){Gn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],g=l[9],m=l[2],y=l[6],p=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(g-y)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(g+y)<.1&&Math.abs(c+h+p-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(c+1)/2,x=(h+1)/2,T=(p+1)/2,k=(u+f)/4,A=(d+m)/4,z=(g+y)/4;return w>x&&w>T?w<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(w),i=k/r,o=A/r):x>T?x<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(x),r=k/i,o=z/i):T<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(T),r=A/o,i=z/o),this.set(r,i,o,n),this}let v=Math.sqrt((y-g)*(y-g)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(v)<.001&&(v=1),this.x=(y-g)/v,this.y=(d-m)/v,this.z=(f-u)/v,this.w=Math.acos((c+h+p-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ive extends ch{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Gn(0,0,e,n),this.scissorTest=!1,this.viewport=new Gn(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Pi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new Jr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const s=r.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Lj(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Su extends Ive{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class Dj extends Jr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=fs,this.minFilter=fs,this.wrapR=Hc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Rve extends Jr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=fs,this.minFilter=fs,this.wrapR=Hc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class x0{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,s,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=o[s+0],h=o[s+1],g=o[s+2],m=o[s+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=h,e[n+2]=g,e[n+3]=m;return}if(d!==m||l!==f||c!==h||u!==g){let y=1-a;const p=l*f+c*h+u*g+d*m,v=p>=0?1:-1,w=1-p*p;if(w>Number.EPSILON){const T=Math.sqrt(w),k=Math.atan2(T,p*v);y=Math.sin(y*k)/T,a=Math.sin(a*k)/T}const x=a*v;if(l=l*y+f*x,c=c*y+h*x,u=u*y+g*x,d=d*y+m*x,y===1-a){const T=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=T,c*=T,u*=T,d*=T}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,o,s){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=o[s],f=o[s+1],h=o[s+2],g=o[s+3];return e[n]=a*g+u*d+l*h-c*f,e[n+1]=l*g+u*f+c*d-a*h,e[n+2]=c*g+u*h+a*f-l*d,e[n+3]=u*g-a*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(o/2),f=l(r/2),h=l(i/2),g=l(o/2);switch(s){case"XYZ":this._x=f*u*d+c*h*g,this._y=c*h*d-f*u*g,this._z=c*u*g+f*h*d,this._w=c*u*d-f*h*g;break;case"YXZ":this._x=f*u*d+c*h*g,this._y=c*h*d-f*u*g,this._z=c*u*g-f*h*d,this._w=c*u*d+f*h*g;break;case"ZXY":this._x=f*u*d-c*h*g,this._y=c*h*d+f*u*g,this._z=c*u*g+f*h*d,this._w=c*u*d-f*h*g;break;case"ZYX":this._x=f*u*d-c*h*g,this._y=c*h*d+f*u*g,this._z=c*u*g-f*h*d,this._w=c*u*d+f*h*g;break;case"YZX":this._x=f*u*d+c*h*g,this._y=c*h*d+f*u*g,this._z=c*u*g-f*h*d,this._w=c*u*d-f*h*g;break;case"XZY":this._x=f*u*d-c*h*g,this._y=c*h*d-f*u*g,this._z=c*u*g+f*h*d,this._w=c*u*d+f*h*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],s=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=r+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(o-c)*h,this._z=(s-i)*h}else if(r>a&&r>d){const h=2*Math.sqrt(1+r-a-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(o+c)/h}else if(a>d){const h=2*Math.sqrt(1+a-r-d);this._w=(o-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-a);this._w=(s-i)/h,this._x=(o+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ci(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,s=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+s*a+i*c-o*l,this._y=i*u+s*l+o*a-r*c,this._z=o*u+s*c+r*l-i*a,this._w=s*u-r*a-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-n;return this._w=h*s+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=s*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=o*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Se{constructor(e=0,n=0,r=0){Se.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(zN.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(zN.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,c=2*(s*i-a*r),u=2*(a*n-o*i),d=2*(o*r-s*n);return this.x=n+l*c+s*d-a*u,this.y=r+l*u+a*c-o*d,this.z=i+l*d+o*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,s=n.x,a=n.y,l=n.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return dE.copy(this).projectOnVector(e),this.sub(dE)}reflect(e){return this.sub(dE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ci(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const dE=new Se,zN=new x0;class E0{constructor(e=new Se(1/0,1/0,1/0),n=new Se(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ho.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ho.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ho.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)e.isMesh===!0?e.getVertexPosition(s,Ho):Ho.fromBufferAttribute(o,s),Ho.applyMatrix4(e.matrixWorld),this.expandByPoint(Ho);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),bg.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),bg.copy(r.boundingBox)),bg.applyMatrix4(e.matrixWorld),this.union(bg)}const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ho),Ho.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Dh),xg.subVectors(this.max,Dh),ed.subVectors(e.a,Dh),td.subVectors(e.b,Dh),nd.subVectors(e.c,Dh),sl.subVectors(td,ed),al.subVectors(nd,td),lc.subVectors(ed,nd);let n=[0,-sl.z,sl.y,0,-al.z,al.y,0,-lc.z,lc.y,sl.z,0,-sl.x,al.z,0,-al.x,lc.z,0,-lc.x,-sl.y,sl.x,0,-al.y,al.x,0,-lc.y,lc.x,0];return!fE(n,ed,td,nd,xg)||(n=[1,0,0,0,1,0,0,0,1],!fE(n,ed,td,nd,xg))?!1:(Eg.crossVectors(sl,al),n=[Eg.x,Eg.y,Eg.z],fE(n,ed,td,nd,xg))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ho).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ho).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ia[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ia[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ia[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ia[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ia[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ia[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ia[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ia[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ia),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ia=[new Se,new Se,new Se,new Se,new Se,new Se,new Se,new Se],Ho=new Se,bg=new E0,ed=new Se,td=new Se,nd=new Se,sl=new Se,al=new Se,lc=new Se,Dh=new Se,xg=new Se,Eg=new Se,cc=new Se;function fE(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){cc.fromArray(t,o);const a=i.x*Math.abs(cc.x)+i.y*Math.abs(cc.y)+i.z*Math.abs(cc.z),l=e.dot(cc),c=n.dot(cc),u=r.dot(cc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Pve=new E0,Uh=new Se,hE=new Se;class J5{constructor(e=new Se,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Pve.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Uh.subVectors(e,this.center);const n=Uh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Uh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(hE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Uh.copy(e.center).add(hE)),this.expandByPoint(Uh.copy(e.center).sub(hE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const oa=new Se,pE=new Se,Ag=new Se,ll=new Se,mE=new Se,_g=new Se,gE=new Se;class Nve{constructor(e=new Se,n=new Se(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,oa)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=oa.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(oa.copy(this.origin).addScaledVector(this.direction,n),oa.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){pE.copy(e).add(n).multiplyScalar(.5),Ag.copy(n).sub(e).normalize(),ll.copy(this.origin).sub(pE);const o=e.distanceTo(n)*.5,s=-this.direction.dot(Ag),a=ll.dot(this.direction),l=-ll.dot(Ag),c=ll.lengthSq(),u=Math.abs(1-s*s);let d,f,h,g;if(u>0)if(d=s*l-a,f=s*a-l,g=o*u,d>=0)if(f>=-g)if(f<=g){const m=1/u;d*=m,f*=m,h=d*(d+s*f+2*a)+f*(s*d+f+2*l)+c}else f=o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;else f=-o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;else f<=-g?(d=Math.max(0,-(-s*o+a)),f=d>0?-o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c):f<=g?(d=0,f=Math.min(Math.max(-o,-l),o),h=f*(f+2*l)+c):(d=Math.max(0,-(s*o+a)),f=d>0?o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c);else f=s>0?-o:o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(pE).addScaledVector(Ag,f),h}intersectSphere(e,n){oa.subVectors(e.center,this.origin);const r=oa.dot(this.direction),i=oa.dot(oa)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,l=r+s;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,s,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(o=(e.min.y-f.y)*u,s=(e.max.y-f.y)*u):(o=(e.max.y-f.y)*u,s=(e.min.y-f.y)*u),r>s||o>i||((o>r||isNaN(r))&&(r=o),(s<i||isNaN(i))&&(i=s),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,oa)!==null}intersectTriangle(e,n,r,i,o){mE.subVectors(n,e),_g.subVectors(r,e),gE.crossVectors(mE,_g);let s=this.direction.dot(gE),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;ll.subVectors(this.origin,e);const l=a*this.direction.dot(_g.crossVectors(ll,_g));if(l<0)return null;const c=a*this.direction.dot(mE.cross(ll));if(c<0||l+c>s)return null;const u=-a*ll.dot(gE);return u<0?null:this.at(u/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Wn{constructor(e,n,r,i,o,s,a,l,c,u,d,f,h,g,m,y){Wn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c,u,d,f,h,g,m,y)}set(e,n,r,i,o,s,a,l,c,u,d,f,h,g,m,y){const p=this.elements;return p[0]=e,p[4]=n,p[8]=r,p[12]=i,p[1]=o,p[5]=s,p[9]=a,p[13]=l,p[2]=c,p[6]=u,p[10]=d,p[14]=f,p[3]=h,p[7]=g,p[11]=m,p[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Wn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/rd.setFromMatrixColumn(e,0).length(),o=1/rd.setFromMatrixColumn(e,1).length(),s=1/rd.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const f=s*u,h=s*d,g=a*u,m=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=h+g*c,n[5]=f-m*c,n[9]=-a*l,n[2]=m-f*c,n[6]=g+h*c,n[10]=s*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,g=c*u,m=c*d;n[0]=f+m*a,n[4]=g*a-h,n[8]=s*c,n[1]=s*d,n[5]=s*u,n[9]=-a,n[2]=h*a-g,n[6]=m+f*a,n[10]=s*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,g=c*u,m=c*d;n[0]=f-m*a,n[4]=-s*d,n[8]=g+h*a,n[1]=h+g*a,n[5]=s*u,n[9]=m-f*a,n[2]=-s*c,n[6]=a,n[10]=s*l}else if(e.order==="ZYX"){const f=s*u,h=s*d,g=a*u,m=a*d;n[0]=l*u,n[4]=g*c-h,n[8]=f*c+m,n[1]=l*d,n[5]=m*c+f,n[9]=h*c-g,n[2]=-c,n[6]=a*l,n[10]=s*l}else if(e.order==="YZX"){const f=s*l,h=s*c,g=a*l,m=a*c;n[0]=l*u,n[4]=m-f*d,n[8]=g*d+h,n[1]=d,n[5]=s*u,n[9]=-a*u,n[2]=-c*u,n[6]=h*d+g,n[10]=f-m*d}else if(e.order==="XZY"){const f=s*l,h=s*c,g=a*l,m=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+m,n[5]=s*u,n[9]=h*d-g,n[2]=g*d-h,n[6]=a*u,n[10]=m*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(kve,e,Fve)}lookAt(e,n,r){const i=this.elements;return Wi.subVectors(e,n),Wi.lengthSq()===0&&(Wi.z=1),Wi.normalize(),cl.crossVectors(r,Wi),cl.lengthSq()===0&&(Math.abs(r.z)===1?Wi.x+=1e-4:Wi.z+=1e-4,Wi.normalize(),cl.crossVectors(r,Wi)),cl.normalize(),Sg.crossVectors(Wi,cl),i[0]=cl.x,i[4]=Sg.x,i[8]=Wi.x,i[1]=cl.y,i[5]=Sg.y,i[9]=Wi.y,i[2]=cl.z,i[6]=Sg.z,i[10]=Wi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],g=r[2],m=r[6],y=r[10],p=r[14],v=r[3],w=r[7],x=r[11],T=r[15],k=i[0],A=i[4],z=i[8],S=i[12],N=i[1],P=i[5],W=i[9],B=i[13],b=i[2],E=i[6],I=i[10],O=i[14],C=i[3],j=i[7],H=i[11],D=i[15];return o[0]=s*k+a*N+l*b+c*C,o[4]=s*A+a*P+l*E+c*j,o[8]=s*z+a*W+l*I+c*H,o[12]=s*S+a*B+l*O+c*D,o[1]=u*k+d*N+f*b+h*C,o[5]=u*A+d*P+f*E+h*j,o[9]=u*z+d*W+f*I+h*H,o[13]=u*S+d*B+f*O+h*D,o[2]=g*k+m*N+y*b+p*C,o[6]=g*A+m*P+y*E+p*j,o[10]=g*z+m*W+y*I+p*H,o[14]=g*S+m*B+y*O+p*D,o[3]=v*k+w*N+x*b+T*C,o[7]=v*A+w*P+x*E+T*j,o[11]=v*z+w*W+x*I+T*H,o[15]=v*S+w*B+x*O+T*D,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],g=e[3],m=e[7],y=e[11],p=e[15];return g*(+o*l*d-i*c*d-o*a*f+r*c*f+i*a*h-r*l*h)+m*(+n*l*h-n*c*f+o*s*f-i*s*h+i*c*u-o*l*u)+y*(+n*c*d-n*a*h-o*s*d+r*s*h+o*a*u-r*c*u)+p*(-i*a*u-n*l*d+n*a*f+i*s*d-r*s*f+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],g=e[12],m=e[13],y=e[14],p=e[15],v=d*y*c-m*f*c+m*l*h-a*y*h-d*l*p+a*f*p,w=g*f*c-u*y*c-g*l*h+s*y*h+u*l*p-s*f*p,x=u*m*c-g*d*c+g*a*h-s*m*h-u*a*p+s*d*p,T=g*d*l-u*m*l-g*a*f+s*m*f+u*a*y-s*d*y,k=n*v+r*w+i*x+o*T;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/k;return e[0]=v*A,e[1]=(m*f*o-d*y*o-m*i*h+r*y*h+d*i*p-r*f*p)*A,e[2]=(a*y*o-m*l*o+m*i*c-r*y*c-a*i*p+r*l*p)*A,e[3]=(d*l*o-a*f*o-d*i*c+r*f*c+a*i*h-r*l*h)*A,e[4]=w*A,e[5]=(u*y*o-g*f*o+g*i*h-n*y*h-u*i*p+n*f*p)*A,e[6]=(g*l*o-s*y*o-g*i*c+n*y*c+s*i*p-n*l*p)*A,e[7]=(s*f*o-u*l*o+u*i*c-n*f*c-s*i*h+n*l*h)*A,e[8]=x*A,e[9]=(g*d*o-u*m*o-g*r*h+n*m*h+u*r*p-n*d*p)*A,e[10]=(s*m*o-g*a*o+g*r*c-n*m*c-s*r*p+n*a*p)*A,e[11]=(u*a*o-s*d*o-u*r*c+n*d*c+s*r*h-n*a*h)*A,e[12]=T*A,e[13]=(u*m*i-g*d*i+g*r*f-n*m*f-u*r*y+n*d*y)*A,e[14]=(g*a*i-s*m*i-g*r*l+n*m*l+s*r*y-n*a*y)*A,e[15]=(s*d*i-u*a*i+u*r*l-n*d*l-s*r*f+n*a*f)*A,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,s=e.x,a=e.y,l=e.z,c=o*s,u=o*a;return this.set(c*s+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*s,0,c*l-i*a,u*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,s=n._y,a=n._z,l=n._w,c=o+o,u=s+s,d=a+a,f=o*c,h=o*u,g=o*d,m=s*u,y=s*d,p=a*d,v=l*c,w=l*u,x=l*d,T=r.x,k=r.y,A=r.z;return i[0]=(1-(m+p))*T,i[1]=(h+x)*T,i[2]=(g-w)*T,i[3]=0,i[4]=(h-x)*k,i[5]=(1-(f+p))*k,i[6]=(y+v)*k,i[7]=0,i[8]=(g+w)*A,i[9]=(y-v)*A,i[10]=(1-(f+m))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=rd.set(i[0],i[1],i[2]).length();const s=rd.set(i[4],i[5],i[6]).length(),a=rd.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],Wo.copy(this);const c=1/o,u=1/s,d=1/a;return Wo.elements[0]*=c,Wo.elements[1]*=c,Wo.elements[2]*=c,Wo.elements[4]*=u,Wo.elements[5]*=u,Wo.elements[6]*=u,Wo.elements[8]*=d,Wo.elements[9]*=d,Wo.elements[10]*=d,n.setFromRotationMatrix(Wo),r.x=o,r.y=s,r.z=a,this}makePerspective(e,n,r,i,o,s,a=Ta){const l=this.elements,c=2*o/(n-e),u=2*o/(r-i),d=(n+e)/(n-e),f=(r+i)/(r-i);let h,g;if(a===Ta)h=-(s+o)/(s-o),g=-2*s*o/(s-o);else if(a===sw)h=-s/(s-o),g=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,s,a=Ta){const l=this.elements,c=1/(n-e),u=1/(r-i),d=1/(s-o),f=(n+e)*c,h=(r+i)*u;let g,m;if(a===Ta)g=(s+o)*d,m=-2*d;else if(a===sw)g=o*d,m=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=m,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const rd=new Se,Wo=new Wn,kve=new Se(0,0,0),Fve=new Se(1,1,1),cl=new Se,Sg=new Se,Wi=new Se,jN=new Wn,GN=new x0;class Ys{constructor(e=0,n=0,r=0,i=Ys.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(Ci(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Ci(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(Ci(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Ci(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Ci(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Ci(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return jN.makeRotationFromQuaternion(e),this.setFromRotationMatrix(jN,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return GN.setFromEuler(this),this.setFromQuaternion(GN,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ys.DEFAULT_ORDER="XYZ";class Uj{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Ove=0;const HN=new Se,id=new x0,sa=new Wn,Cg=new Se,zh=new Se,Bve=new Se,Lve=new x0,WN=new Se(1,0,0),VN=new Se(0,1,0),$N=new Se(0,0,1),qN={type:"added"},Dve={type:"removed"},od={type:"childadded",child:null},yE={type:"childremoved",child:null};class Zr extends ch{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Ove++}),this.uuid=b0(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Zr.DEFAULT_UP.clone();const e=new Se,n=new Ys,r=new x0,i=new Se(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Wn},normalMatrix:{value:new Bt}}),this.matrix=new Wn,this.matrixWorld=new Wn,this.matrixAutoUpdate=Zr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Zr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Uj,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return id.setFromAxisAngle(e,n),this.quaternion.multiply(id),this}rotateOnWorldAxis(e,n){return id.setFromAxisAngle(e,n),this.quaternion.premultiply(id),this}rotateX(e){return this.rotateOnAxis(WN,e)}rotateY(e){return this.rotateOnAxis(VN,e)}rotateZ(e){return this.rotateOnAxis($N,e)}translateOnAxis(e,n){return HN.copy(e).applyQuaternion(this.quaternion),this.position.add(HN.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(WN,e)}translateY(e){return this.translateOnAxis(VN,e)}translateZ(e){return this.translateOnAxis($N,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(sa.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Cg.copy(e):Cg.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),zh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?sa.lookAt(zh,Cg,this.up):sa.lookAt(Cg,zh,this.up),this.quaternion.setFromRotationMatrix(sa),i&&(sa.extractRotation(i.matrixWorld),id.setFromRotationMatrix(sa),this.quaternion.premultiply(id.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(qN),od.child=e,this.dispatchEvent(od),od.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Dve),yE.child=e,this.dispatchEvent(yE),yE.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),sa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),sa.multiply(e.parent.matrixWorld)),e.applyMatrix4(sa),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(qN),od.child=e,this.dispatchEvent(od),od.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(zh,e,Bve),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(zh,Lve,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(o(e.animations,l))}}if(n){const a=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),f=s(e.skeletons),h=s(e.animations),g=s(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),g.length>0&&(r.nodes=g)}return r.object=i,r;function s(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Zr.DEFAULT_UP=new Se(0,1,0);Zr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Zr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Vo=new Se,aa=new Se,vE=new Se,la=new Se,sd=new Se,ad=new Se,KN=new Se,wE=new Se,bE=new Se,xE=new Se,EE=new Gn,AE=new Gn,_E=new Gn;class is{constructor(e=new Se,n=new Se,r=new Se){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Vo.subVectors(e,n),i.cross(Vo);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Vo.subVectors(i,n),aa.subVectors(r,n),vE.subVectors(e,n);const s=Vo.dot(Vo),a=Vo.dot(aa),l=Vo.dot(vE),c=aa.dot(aa),u=aa.dot(vE),d=s*c-a*a;if(d===0)return o.set(0,0,0),null;const f=1/d,h=(c*l-a*u)*f,g=(s*u-a*l)*f;return o.set(1-h-g,g,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,la)===null?!1:la.x>=0&&la.y>=0&&la.x+la.y<=1}static getInterpolation(e,n,r,i,o,s,a,l){return this.getBarycoord(e,n,r,i,la)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,la.x),l.addScaledVector(s,la.y),l.addScaledVector(a,la.z),l)}static getInterpolatedAttribute(e,n,r,i,o,s){return EE.setScalar(0),AE.setScalar(0),_E.setScalar(0),EE.fromBufferAttribute(e,n),AE.fromBufferAttribute(e,r),_E.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(EE,o.x),s.addScaledVector(AE,o.y),s.addScaledVector(_E,o.z),s}static isFrontFacing(e,n,r,i){return Vo.subVectors(r,n),aa.subVectors(e,n),Vo.cross(aa).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Vo.subVectors(this.c,this.b),aa.subVectors(this.a,this.b),Vo.cross(aa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return is.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return is.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return is.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return is.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return is.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let s,a;sd.subVectors(i,r),ad.subVectors(o,r),wE.subVectors(e,r);const l=sd.dot(wE),c=ad.dot(wE);if(l<=0&&c<=0)return n.copy(r);bE.subVectors(e,i);const u=sd.dot(bE),d=ad.dot(bE);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return s=l/(l-u),n.copy(r).addScaledVector(sd,s);xE.subVectors(e,o);const h=sd.dot(xE),g=ad.dot(xE);if(g>=0&&h<=g)return n.copy(o);const m=h*c-l*g;if(m<=0&&c>=0&&g<=0)return a=c/(c-g),n.copy(r).addScaledVector(ad,a);const y=u*g-h*d;if(y<=0&&d-u>=0&&h-g>=0)return KN.subVectors(o,i),a=(d-u)/(d-u+(h-g)),n.copy(i).addScaledVector(KN,a);const p=1/(y+m+f);return s=m*p,a=f*p,n.copy(r).addScaledVector(sd,s).addScaledVector(ad,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const zj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ul={h:0,s:0,l:0},Tg={h:0,s:0,l:0};function SE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class tn{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=qr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Jt.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Jt.workingColorSpace){return this.r=e,this.g=n,this.b=r,Jt.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Jt.workingColorSpace){if(e=xve(e,1),n=Ci(n,0,1),r=Ci(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=SE(s,o,e+1/3),this.g=SE(s,o,e),this.b=SE(s,o,e-1/3)}return Jt.toWorkingColorSpace(this,i),this}setStyle(e,n=qr){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=qr){const r=zj[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ka(e.r),this.g=ka(e.g),this.b=ka(e.b),this}copyLinearToSRGB(e){return this.r=Yd(e.r),this.g=Yd(e.g),this.b=Yd(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=qr){return Jt.fromWorkingColorSpace(Vr.copy(this),e),Math.round(Ci(Vr.r*255,0,255))*65536+Math.round(Ci(Vr.g*255,0,255))*256+Math.round(Ci(Vr.b*255,0,255))}getHexString(e=qr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Jt.workingColorSpace){Jt.fromWorkingColorSpace(Vr.copy(this),n);const r=Vr.r,i=Vr.g,o=Vr.b,s=Math.max(r,i,o),a=Math.min(r,i,o);let l,c;const u=(a+s)/2;if(a===s)l=0,c=0;else{const d=s-a;switch(c=u<=.5?d/(s+a):d/(2-s-a),s){case r:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-r)/d+2;break;case o:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Jt.workingColorSpace){return Jt.fromWorkingColorSpace(Vr.copy(this),n),e.r=Vr.r,e.g=Vr.g,e.b=Vr.b,e}getStyle(e=qr){Jt.fromWorkingColorSpace(Vr.copy(this),e);const n=Vr.r,r=Vr.g,i=Vr.b;return e!==qr?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(ul),this.setHSL(ul.h+e,ul.s+n,ul.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(ul),e.getHSL(Tg);const r=lE(ul.h,Tg.h,n),i=lE(ul.s,Tg.s,n),o=lE(ul.l,Tg.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Vr=new tn;tn.NAMES=zj;let Uve=0;class A0 extends ch{static get type(){return"Material"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Uve++}),this.uuid=b0(),this.name="",this.blending=Qd,this.side=Kl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=j_,this.blendDst=G_,this.blendEquation=Cc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new tn(0,0,0),this.blendAlpha=0,this.depthFunc=kf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=PN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ju,this.stencilZFail=Ju,this.stencilZPass=Ju,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Qd&&(r.blending=this.blending),this.side!==Kl&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==j_&&(r.blendSrc=this.blendSrc),this.blendDst!==G_&&(r.blendDst=this.blendDst),this.blendEquation!==Cc&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==kf&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==PN&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ju&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Ju&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Ju&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(n){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class jj extends A0{static get type(){return"MeshBasicMaterial"}constructor(e){super(),this.isMeshBasicMaterial=!0,this.color=new tn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ys,this.combine=V5,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Jn=new Se,Mg=new sn;class Ws{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=NN,this.updateRanges=[],this.gpuType=Ca,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Mg.fromBufferAttribute(this,n),Mg.applyMatrix3(e),this.setXY(n,Mg.x,Mg.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Jn.fromBufferAttribute(this,n),Jn.applyMatrix3(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Jn.fromBufferAttribute(this,n),Jn.applyMatrix4(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Jn.fromBufferAttribute(this,n),Jn.applyNormalMatrix(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Jn.fromBufferAttribute(this,n),Jn.transformDirection(e),this.setXYZ(n,Jn.x,Jn.y,Jn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Lh(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=xi(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Lh(n,this.array)),n}setX(e,n){return this.normalized&&(n=xi(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Lh(n,this.array)),n}setY(e,n){return this.normalized&&(n=xi(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Lh(n,this.array)),n}setZ(e,n){return this.normalized&&(n=xi(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Lh(n,this.array)),n}setW(e,n){return this.normalized&&(n=xi(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=xi(n,this.array),r=xi(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=xi(n,this.array),r=xi(r,this.array),i=xi(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=xi(n,this.array),r=xi(r,this.array),i=xi(i,this.array),o=xi(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==NN&&(e.usage=this.usage),e}}class Gj extends Ws{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Hj extends Ws{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Vs extends Ws{constructor(e,n,r){super(new Float32Array(e),n,r)}}let zve=0;const wo=new Wn,CE=new Zr,ld=new Se,Vi=new E0,jh=new E0,br=new Se;class rc extends ch{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:zve++}),this.uuid=b0(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Bj(e)?Hj:Gj)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Bt().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return wo.makeRotationFromQuaternion(e),this.applyMatrix4(wo),this}rotateX(e){return wo.makeRotationX(e),this.applyMatrix4(wo),this}rotateY(e){return wo.makeRotationY(e),this.applyMatrix4(wo),this}rotateZ(e){return wo.makeRotationZ(e),this.applyMatrix4(wo),this}translate(e,n,r){return wo.makeTranslation(e,n,r),this.applyMatrix4(wo),this}scale(e,n,r){return wo.makeScale(e,n,r),this.applyMatrix4(wo),this}lookAt(e){return CE.lookAt(e),CE.updateMatrix(),this.applyMatrix4(CE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ld).negate(),this.translate(ld.x,ld.y,ld.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,o=e.length;i<o;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Vs(r,3))}else{for(let r=0,i=n.count;r<i;r++){const o=e[r];n.setXYZ(r,o.x,o.y,o.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new E0);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Se(-1/0,-1/0,-1/0),new Se(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Vi.setFromBufferAttribute(o),this.morphTargetsRelative?(br.addVectors(this.boundingBox.min,Vi.min),this.boundingBox.expandByPoint(br),br.addVectors(this.boundingBox.max,Vi.max),this.boundingBox.expandByPoint(br)):(this.boundingBox.expandByPoint(Vi.min),this.boundingBox.expandByPoint(Vi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new J5);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Se,1/0);return}if(e){const r=this.boundingSphere.center;if(Vi.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const a=n[o];jh.setFromBufferAttribute(a),this.morphTargetsRelative?(br.addVectors(Vi.min,jh.min),Vi.expandByPoint(br),br.addVectors(Vi.max,jh.max),Vi.expandByPoint(br)):(Vi.expandByPoint(jh.min),Vi.expandByPoint(jh.max))}Vi.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)br.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(br));if(n)for(let o=0,s=n.length;o<s;o++){const a=n[o],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)br.fromBufferAttribute(a,c),l&&(ld.fromBufferAttribute(e,c),br.add(ld)),i=Math.max(i,r.distanceToSquared(br))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ws(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),a=[],l=[];for(let z=0;z<r.count;z++)a[z]=new Se,l[z]=new Se;const c=new Se,u=new Se,d=new Se,f=new sn,h=new sn,g=new sn,m=new Se,y=new Se;function p(z,S,N){c.fromBufferAttribute(r,z),u.fromBufferAttribute(r,S),d.fromBufferAttribute(r,N),f.fromBufferAttribute(o,z),h.fromBufferAttribute(o,S),g.fromBufferAttribute(o,N),u.sub(c),d.sub(c),h.sub(f),g.sub(f);const P=1/(h.x*g.y-g.x*h.y);isFinite(P)&&(m.copy(u).multiplyScalar(g.y).addScaledVector(d,-h.y).multiplyScalar(P),y.copy(d).multiplyScalar(h.x).addScaledVector(u,-g.x).multiplyScalar(P),a[z].add(m),a[S].add(m),a[N].add(m),l[z].add(y),l[S].add(y),l[N].add(y))}let v=this.groups;v.length===0&&(v=[{start:0,count:e.count}]);for(let z=0,S=v.length;z<S;++z){const N=v[z],P=N.start,W=N.count;for(let B=P,b=P+W;B<b;B+=3)p(e.getX(B+0),e.getX(B+1),e.getX(B+2))}const w=new Se,x=new Se,T=new Se,k=new Se;function A(z){T.fromBufferAttribute(i,z),k.copy(T);const S=a[z];w.copy(S),w.sub(T.multiplyScalar(T.dot(S))).normalize(),x.crossVectors(k,S);const P=x.dot(l[z])<0?-1:1;s.setXYZW(z,w.x,w.y,w.z,P)}for(let z=0,S=v.length;z<S;++z){const N=v[z],P=N.start,W=N.count;for(let B=P,b=P+W;B<b;B+=3)A(e.getX(B+0)),A(e.getX(B+1)),A(e.getX(B+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Ws(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new Se,o=new Se,s=new Se,a=new Se,l=new Se,c=new Se,u=new Se,d=new Se;if(e)for(let f=0,h=e.count;f<h;f+=3){const g=e.getX(f+0),m=e.getX(f+1),y=e.getX(f+2);i.fromBufferAttribute(n,g),o.fromBufferAttribute(n,m),s.fromBufferAttribute(n,y),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,m),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let f=0,h=n.count;f<h;f+=3)i.fromBufferAttribute(n,f+0),o.fromBufferAttribute(n,f+1),s.fromBufferAttribute(n,f+2),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)br.fromBufferAttribute(e,n),br.normalize(),e.setXYZ(n,br.x,br.y,br.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let h=0,g=0;for(let m=0,y=l.length;m<y;m++){a.isInterleavedBufferAttribute?h=l[m]*a.data.stride+a.offset:h=l[m]*u;for(let p=0;p<u;p++)f[g++]=c[h++]}return new Ws(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new rc,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const l=[],c=o[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,r);l.push(h)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const c=s[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],d=o[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const QN=new Wn,uc=new Nve,Ig=new J5,XN=new Se,Rg=new Se,Pg=new Se,Ng=new Se,TE=new Se,kg=new Se,YN=new Se,Fg=new Se;class ss extends Zr{constructor(e=new rc,n=new jj){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(o&&a){kg.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=a[l],d=o[l];u!==0&&(TE.fromBufferAttribute(d,e),s?kg.addScaledVector(TE,u):kg.addScaledVector(TE.sub(n),u))}n.add(kg)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Ig.copy(r.boundingSphere),Ig.applyMatrix4(o),uc.copy(e.ray).recast(e.near),!(Ig.containsPoint(uc.origin)===!1&&(uc.intersectSphere(Ig,XN)===null||uc.origin.distanceToSquared(XN)>(e.far-e.near)**2))&&(QN.copy(o).invert(),uc.copy(e.ray).applyMatrix4(QN),!(r.boundingBox!==null&&uc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,uc)))}_computeIntersections(e,n,r){let i;const o=this.geometry,s=this.material,a=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,d=o.attributes.normal,f=o.groups,h=o.drawRange;if(a!==null)if(Array.isArray(s))for(let g=0,m=f.length;g<m;g++){const y=f[g],p=s[y.materialIndex],v=Math.max(y.start,h.start),w=Math.min(a.count,Math.min(y.start+y.count,h.start+h.count));for(let x=v,T=w;x<T;x+=3){const k=a.getX(x),A=a.getX(x+1),z=a.getX(x+2);i=Og(this,p,e,r,c,u,d,k,A,z),i&&(i.faceIndex=Math.floor(x/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,h.start),m=Math.min(a.count,h.start+h.count);for(let y=g,p=m;y<p;y+=3){const v=a.getX(y),w=a.getX(y+1),x=a.getX(y+2);i=Og(this,s,e,r,c,u,d,v,w,x),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let g=0,m=f.length;g<m;g++){const y=f[g],p=s[y.materialIndex],v=Math.max(y.start,h.start),w=Math.min(l.count,Math.min(y.start+y.count,h.start+h.count));for(let x=v,T=w;x<T;x+=3){const k=x,A=x+1,z=x+2;i=Og(this,p,e,r,c,u,d,k,A,z),i&&(i.faceIndex=Math.floor(x/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,h.start),m=Math.min(l.count,h.start+h.count);for(let y=g,p=m;y<p;y+=3){const v=y,w=y+1,x=y+2;i=Og(this,s,e,r,c,u,d,v,w,x),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function jve(t,e,n,r,i,o,s,a){let l;if(e.side===zi?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side===Kl,a),l===null)return null;Fg.copy(a),Fg.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Fg);return c<n.near||c>n.far?null:{distance:c,point:Fg.clone(),object:t}}function Og(t,e,n,r,i,o,s,a,l,c){t.getVertexPosition(a,Rg),t.getVertexPosition(l,Pg),t.getVertexPosition(c,Ng);const u=jve(t,e,n,r,Rg,Pg,Ng,YN);if(u){const d=new Se;is.getBarycoord(YN,Rg,Pg,Ng,d),i&&(u.uv=is.getInterpolatedAttribute(i,a,l,c,d,new sn)),o&&(u.uv1=is.getInterpolatedAttribute(o,a,l,c,d,new sn)),s&&(u.normal=is.getInterpolatedAttribute(s,a,l,c,d,new Se),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new Se,materialIndex:0};is.getNormal(Rg,Pg,Ng,f.normal),u.face=f,u.barycoord=d}return u}class _0 extends rc{constructor(e=1,n=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const l=[],c=[],u=[],d=[];let f=0,h=0;g("z","y","x",-1,-1,r,n,e,s,o,0),g("z","y","x",1,-1,r,n,-e,s,o,1),g("x","z","y",1,1,e,r,n,i,s,2),g("x","z","y",1,-1,e,r,-n,i,s,3),g("x","y","z",1,-1,e,n,r,i,o,4),g("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Vs(c,3)),this.setAttribute("normal",new Vs(u,3)),this.setAttribute("uv",new Vs(d,2));function g(m,y,p,v,w,x,T,k,A,z,S){const N=x/A,P=T/z,W=x/2,B=T/2,b=k/2,E=A+1,I=z+1;let O=0,C=0;const j=new Se;for(let H=0;H<I;H++){const D=H*P-B;for(let M=0;M<E;M++){const $=M*N-W;j[m]=$*v,j[y]=D*w,j[p]=b,c.push(j.x,j.y,j.z),j[m]=0,j[y]=0,j[p]=k>0?1:-1,u.push(j.x,j.y,j.z),d.push(M/A),d.push(1-H/z),O+=1}}for(let H=0;H<z;H++)for(let D=0;D<A;D++){const M=f+D+E*H,$=f+D+E*(H+1),J=f+(D+1)+E*(H+1),Z=f+(D+1)+E*H;l.push(M,$,Z),l.push($,J,Z),C+=6}a.addGroup(h,C,S),h+=C,f+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Df(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ti(t){const e={};for(let n=0;n<t.length;n++){const r=Df(t[n]);for(const i in r)e[i]=r[i]}return e}function Gve(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Wj(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Jt.workingColorSpace}const Hve={clone:Df,merge:ti};var Wve=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Vve=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ql extends A0{static get type(){return"ShaderMaterial"}constructor(e){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Wve,this.fragmentShader=Vve,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Df(e.uniforms),this.uniformsGroups=Gve(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Vj extends Zr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Wn,this.projectionMatrix=new Wn,this.projectionMatrixInverse=new Wn,this.coordinateSystem=Ta}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const dl=new Se,JN=new sn,ZN=new sn;class Zi extends Vj{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=CS*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(aE*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return CS*2*Math.atan(Math.tan(aE*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){dl.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(dl.x,dl.y).multiplyScalar(-e/dl.z),dl.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(dl.x,dl.y).multiplyScalar(-e/dl.z)}getViewSize(e,n){return this.getViewBounds(e,JN,ZN),n.subVectors(ZN,JN)}setViewOffset(e,n,r,i,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(aE*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/l,n-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const cd=-90,ud=1;class $ve extends Zr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Zi(cd,ud,e,n);i.layers=this.layers,this.add(i);const o=new Zi(cd,ud,e,n);o.layers=this.layers,this.add(o);const s=new Zi(cd,ud,e,n);s.layers=this.layers,this.add(s);const a=new Zi(cd,ud,e,n);a.layers=this.layers,this.add(a);const l=new Zi(cd,ud,e,n);l.layers=this.layers,this.add(l);const c=new Zi(cd,ud,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,s,a,l]=n;for(const c of n)this.remove(c);if(e===Ta)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===sw)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,s,a,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,s),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=m,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(d,f,h),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class $j extends Jr{constructor(e,n,r,i,o,s,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Ff,super(e,n,r,i,o,s,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class qve extends Su{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new $j(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Pi}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new _0(5,5,5),o=new Ql({name:"CubemapFromEquirect",uniforms:Df(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:zi,blending:Ul});o.uniforms.tEquirect.value=n;const s=new ss(i,o),a=n.minFilter;return n.minFilter===Wc&&(n.minFilter=Pi),new $ve(1,10,this).update(e,s),n.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(o)}}const ME=new Se,Kve=new Se,Qve=new Bt;class vc{constructor(e=new Se(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=ME.subVectors(r,n).cross(Kve.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(ME),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Qve.getNormalMatrix(e),i=this.coplanarPoint(ME).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const dc=new J5,Bg=new Se;class Z5{constructor(e=new vc,n=new vc,r=new vc,i=new vc,o=new vc,s=new vc){this.planes=[e,n,r,i,o,s]}set(e,n,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ta){const r=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],h=i[8],g=i[9],m=i[10],y=i[11],p=i[12],v=i[13],w=i[14],x=i[15];if(r[0].setComponents(l-o,f-c,y-h,x-p).normalize(),r[1].setComponents(l+o,f+c,y+h,x+p).normalize(),r[2].setComponents(l+s,f+u,y+g,x+v).normalize(),r[3].setComponents(l-s,f-u,y-g,x-v).normalize(),r[4].setComponents(l-a,f-d,y-m,x-w).normalize(),n===Ta)r[5].setComponents(l+a,f+d,y+m,x+w).normalize();else if(n===sw)r[5].setComponents(a,d,m,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),dc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),dc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(dc)}intersectsSprite(e){return dc.center.set(0,0,0),dc.radius=.7071067811865476,dc.applyMatrix4(e.matrixWorld),this.intersectsSphere(dc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Bg.x=i.normal.x>0?e.max.x:e.min.x,Bg.y=i.normal.y>0?e.max.y:e.min.y,Bg.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Bg)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function qj(){let t=null,e=!1,n=null,r=null;function i(o,s){n(o,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function Xve(t){const e=new WeakMap;function n(a,l){const c=a.array,u=a.usage,d=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,u),a.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function r(a,l,c){const u=l.array,d=l.updateRanges;if(t.bindBuffer(c,a),d.length===0)t.bufferSubData(c,0,u);else{d.sort((h,g)=>h.start-g.start);let f=0;for(let h=1;h<d.length;h++){const g=d[f],m=d[h];m.start<=g.start+g.count+1?g.count=Math.max(g.count,m.start+m.count-g.start):(++f,d[f]=m)}d.length=f+1;for(let h=0,g=d.length;h<g;h++){const m=d[h];t.bufferSubData(c,m.start*u.BYTES_PER_ELEMENT,u,m.start,m.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function s(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:o,update:s}}class cb extends rc{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,s=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,f=n/l,h=[],g=[],m=[],y=[];for(let p=0;p<u;p++){const v=p*f-s;for(let w=0;w<c;w++){const x=w*d-o;g.push(x,-v,0),m.push(0,0,1),y.push(w/a),y.push(1-p/l)}}for(let p=0;p<l;p++)for(let v=0;v<a;v++){const w=v+c*p,x=v+c*(p+1),T=v+1+c*(p+1),k=v+1+c*p;h.push(w,x,k),h.push(x,T,k)}this.setIndex(h),this.setAttribute("position",new Vs(g,3)),this.setAttribute("normal",new Vs(m,3)),this.setAttribute("uv",new Vs(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cb(e.width,e.height,e.widthSegments,e.heightSegments)}}var Yve=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Jve=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Zve=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,ewe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,twe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,nwe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,rwe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,iwe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,owe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,swe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,awe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,lwe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,cwe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,uwe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,dwe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,fwe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,hwe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,pwe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,mwe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,gwe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,ywe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,vwe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,wwe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,bwe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,xwe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Ewe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Awe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,_we=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Swe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Cwe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Twe="gl_FragColor = linearToOutputTexel( gl_FragColor );",Mwe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Iwe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Rwe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Pwe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Nwe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,kwe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Fwe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Owe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Bwe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Lwe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Dwe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Uwe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,zwe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,jwe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Gwe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Hwe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Wwe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Vwe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,$we=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,qwe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Kwe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Qwe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Xwe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Ywe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Jwe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Zwe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,e1e=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,t1e=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,n1e=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,r1e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,i1e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,o1e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,s1e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,a1e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,l1e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,c1e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,u1e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,d1e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,f1e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,h1e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,p1e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,m1e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,g1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,y1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,v1e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,w1e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,b1e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,x1e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,E1e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,A1e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,_1e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,S1e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,C1e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,T1e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,M1e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,I1e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,R1e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,P1e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,N1e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,k1e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,F1e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,O1e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,B1e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,L1e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,D1e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,U1e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,z1e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,j1e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,G1e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,H1e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,W1e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,V1e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,$1e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,q1e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,K1e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Q1e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const X1e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Y1e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,J1e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Z1e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ebe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tbe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nbe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,rbe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,ibe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,obe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,sbe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,abe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lbe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cbe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ube=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,dbe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fbe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hbe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pbe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,mbe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gbe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ybe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vbe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wbe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bbe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,xbe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ebe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Abe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_be=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Sbe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Cbe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tbe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Mbe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ibe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Dt={alphahash_fragment:Yve,alphahash_pars_fragment:Jve,alphamap_fragment:Zve,alphamap_pars_fragment:ewe,alphatest_fragment:twe,alphatest_pars_fragment:nwe,aomap_fragment:rwe,aomap_pars_fragment:iwe,batching_pars_vertex:owe,batching_vertex:swe,begin_vertex:awe,beginnormal_vertex:lwe,bsdfs:cwe,iridescence_fragment:uwe,bumpmap_pars_fragment:dwe,clipping_planes_fragment:fwe,clipping_planes_pars_fragment:hwe,clipping_planes_pars_vertex:pwe,clipping_planes_vertex:mwe,color_fragment:gwe,color_pars_fragment:ywe,color_pars_vertex:vwe,color_vertex:wwe,common:bwe,cube_uv_reflection_fragment:xwe,defaultnormal_vertex:Ewe,displacementmap_pars_vertex:Awe,displacementmap_vertex:_we,emissivemap_fragment:Swe,emissivemap_pars_fragment:Cwe,colorspace_fragment:Twe,colorspace_pars_fragment:Mwe,envmap_fragment:Iwe,envmap_common_pars_fragment:Rwe,envmap_pars_fragment:Pwe,envmap_pars_vertex:Nwe,envmap_physical_pars_fragment:Hwe,envmap_vertex:kwe,fog_vertex:Fwe,fog_pars_vertex:Owe,fog_fragment:Bwe,fog_pars_fragment:Lwe,gradientmap_pars_fragment:Dwe,lightmap_pars_fragment:Uwe,lights_lambert_fragment:zwe,lights_lambert_pars_fragment:jwe,lights_pars_begin:Gwe,lights_toon_fragment:Wwe,lights_toon_pars_fragment:Vwe,lights_phong_fragment:$we,lights_phong_pars_fragment:qwe,lights_physical_fragment:Kwe,lights_physical_pars_fragment:Qwe,lights_fragment_begin:Xwe,lights_fragment_maps:Ywe,lights_fragment_end:Jwe,logdepthbuf_fragment:Zwe,logdepthbuf_pars_fragment:e1e,logdepthbuf_pars_vertex:t1e,logdepthbuf_vertex:n1e,map_fragment:r1e,map_pars_fragment:i1e,map_particle_fragment:o1e,map_particle_pars_fragment:s1e,metalnessmap_fragment:a1e,metalnessmap_pars_fragment:l1e,morphinstance_vertex:c1e,morphcolor_vertex:u1e,morphnormal_vertex:d1e,morphtarget_pars_vertex:f1e,morphtarget_vertex:h1e,normal_fragment_begin:p1e,normal_fragment_maps:m1e,normal_pars_fragment:g1e,normal_pars_vertex:y1e,normal_vertex:v1e,normalmap_pars_fragment:w1e,clearcoat_normal_fragment_begin:b1e,clearcoat_normal_fragment_maps:x1e,clearcoat_pars_fragment:E1e,iridescence_pars_fragment:A1e,opaque_fragment:_1e,packing:S1e,premultiplied_alpha_fragment:C1e,project_vertex:T1e,dithering_fragment:M1e,dithering_pars_fragment:I1e,roughnessmap_fragment:R1e,roughnessmap_pars_fragment:P1e,shadowmap_pars_fragment:N1e,shadowmap_pars_vertex:k1e,shadowmap_vertex:F1e,shadowmask_pars_fragment:O1e,skinbase_vertex:B1e,skinning_pars_vertex:L1e,skinning_vertex:D1e,skinnormal_vertex:U1e,specularmap_fragment:z1e,specularmap_pars_fragment:j1e,tonemapping_fragment:G1e,tonemapping_pars_fragment:H1e,transmission_fragment:W1e,transmission_pars_fragment:V1e,uv_pars_fragment:$1e,uv_pars_vertex:q1e,uv_vertex:K1e,worldpos_vertex:Q1e,background_vert:X1e,background_frag:Y1e,backgroundCube_vert:J1e,backgroundCube_frag:Z1e,cube_vert:ebe,cube_frag:tbe,depth_vert:nbe,depth_frag:rbe,distanceRGBA_vert:ibe,distanceRGBA_frag:obe,equirect_vert:sbe,equirect_frag:abe,linedashed_vert:lbe,linedashed_frag:cbe,meshbasic_vert:ube,meshbasic_frag:dbe,meshlambert_vert:fbe,meshlambert_frag:hbe,meshmatcap_vert:pbe,meshmatcap_frag:mbe,meshnormal_vert:gbe,meshnormal_frag:ybe,meshphong_vert:vbe,meshphong_frag:wbe,meshphysical_vert:bbe,meshphysical_frag:xbe,meshtoon_vert:Ebe,meshtoon_frag:Abe,points_vert:_be,points_frag:Sbe,shadow_vert:Cbe,shadow_frag:Tbe,sprite_vert:Mbe,sprite_frag:Ibe},at={common:{diffuse:{value:new tn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Bt},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Bt}},envmap:{envMap:{value:null},envMapRotation:{value:new Bt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Bt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Bt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Bt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Bt},normalScale:{value:new sn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Bt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Bt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Bt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Bt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new tn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new tn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0},uvTransform:{value:new Bt}},sprite:{diffuse:{value:new tn(16777215)},opacity:{value:1},center:{value:new sn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Bt},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0}}},ks={basic:{uniforms:ti([at.common,at.specularmap,at.envmap,at.aomap,at.lightmap,at.fog]),vertexShader:Dt.meshbasic_vert,fragmentShader:Dt.meshbasic_frag},lambert:{uniforms:ti([at.common,at.specularmap,at.envmap,at.aomap,at.lightmap,at.emissivemap,at.bumpmap,at.normalmap,at.displacementmap,at.fog,at.lights,{emissive:{value:new tn(0)}}]),vertexShader:Dt.meshlambert_vert,fragmentShader:Dt.meshlambert_frag},phong:{uniforms:ti([at.common,at.specularmap,at.envmap,at.aomap,at.lightmap,at.emissivemap,at.bumpmap,at.normalmap,at.displacementmap,at.fog,at.lights,{emissive:{value:new tn(0)},specular:{value:new tn(1118481)},shininess:{value:30}}]),vertexShader:Dt.meshphong_vert,fragmentShader:Dt.meshphong_frag},standard:{uniforms:ti([at.common,at.envmap,at.aomap,at.lightmap,at.emissivemap,at.bumpmap,at.normalmap,at.displacementmap,at.roughnessmap,at.metalnessmap,at.fog,at.lights,{emissive:{value:new tn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Dt.meshphysical_vert,fragmentShader:Dt.meshphysical_frag},toon:{uniforms:ti([at.common,at.aomap,at.lightmap,at.emissivemap,at.bumpmap,at.normalmap,at.displacementmap,at.gradientmap,at.fog,at.lights,{emissive:{value:new tn(0)}}]),vertexShader:Dt.meshtoon_vert,fragmentShader:Dt.meshtoon_frag},matcap:{uniforms:ti([at.common,at.bumpmap,at.normalmap,at.displacementmap,at.fog,{matcap:{value:null}}]),vertexShader:Dt.meshmatcap_vert,fragmentShader:Dt.meshmatcap_frag},points:{uniforms:ti([at.points,at.fog]),vertexShader:Dt.points_vert,fragmentShader:Dt.points_frag},dashed:{uniforms:ti([at.common,at.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Dt.linedashed_vert,fragmentShader:Dt.linedashed_frag},depth:{uniforms:ti([at.common,at.displacementmap]),vertexShader:Dt.depth_vert,fragmentShader:Dt.depth_frag},normal:{uniforms:ti([at.common,at.bumpmap,at.normalmap,at.displacementmap,{opacity:{value:1}}]),vertexShader:Dt.meshnormal_vert,fragmentShader:Dt.meshnormal_frag},sprite:{uniforms:ti([at.sprite,at.fog]),vertexShader:Dt.sprite_vert,fragmentShader:Dt.sprite_frag},background:{uniforms:{uvTransform:{value:new Bt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Dt.background_vert,fragmentShader:Dt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Bt}},vertexShader:Dt.backgroundCube_vert,fragmentShader:Dt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Dt.cube_vert,fragmentShader:Dt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Dt.equirect_vert,fragmentShader:Dt.equirect_frag},distanceRGBA:{uniforms:ti([at.common,at.displacementmap,{referencePosition:{value:new Se},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Dt.distanceRGBA_vert,fragmentShader:Dt.distanceRGBA_frag},shadow:{uniforms:ti([at.lights,at.fog,{color:{value:new tn(0)},opacity:{value:1}}]),vertexShader:Dt.shadow_vert,fragmentShader:Dt.shadow_frag}};ks.physical={uniforms:ti([ks.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Bt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Bt},clearcoatNormalScale:{value:new sn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Bt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Bt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Bt},sheen:{value:0},sheenColor:{value:new tn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Bt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Bt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Bt},transmissionSamplerSize:{value:new sn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Bt},attenuationDistance:{value:0},attenuationColor:{value:new tn(0)},specularColor:{value:new tn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Bt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Bt},anisotropyVector:{value:new sn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Bt}}]),vertexShader:Dt.meshphysical_vert,fragmentShader:Dt.meshphysical_frag};const Lg={r:0,b:0,g:0},fc=new Ys,Rbe=new Wn;function Pbe(t,e,n,r,i,o,s){const a=new tn(0);let l=o===!0?0:1,c,u,d=null,f=0,h=null;function g(v){let w=v.isScene===!0?v.background:null;return w&&w.isTexture&&(w=(v.backgroundBlurriness>0?n:e).get(w)),w}function m(v){let w=!1;const x=g(v);x===null?p(a,l):x&&x.isColor&&(p(x,1),w=!0);const T=t.xr.getEnvironmentBlendMode();T==="additive"?r.buffers.color.setClear(0,0,0,1,s):T==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||w)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(v,w){const x=g(w);x&&(x.isCubeTexture||x.mapping===ab)?(u===void 0&&(u=new ss(new _0(1,1,1),new Ql({name:"BackgroundCubeMaterial",uniforms:Df(ks.backgroundCube.uniforms),vertexShader:ks.backgroundCube.vertexShader,fragmentShader:ks.backgroundCube.fragmentShader,side:zi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(T,k,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),fc.copy(w.backgroundRotation),fc.x*=-1,fc.y*=-1,fc.z*=-1,x.isCubeTexture&&x.isRenderTargetTexture===!1&&(fc.y*=-1,fc.z*=-1),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Rbe.makeRotationFromEuler(fc)),u.material.toneMapped=Jt.getTransfer(x.colorSpace)!==pn,(d!==x||f!==x.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,d=x,f=x.version,h=t.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(c===void 0&&(c=new ss(new cb(2,2),new Ql({name:"BackgroundMaterial",uniforms:Df(ks.background.uniforms),vertexShader:ks.background.vertexShader,fragmentShader:ks.background.fragmentShader,side:Kl,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=x,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=Jt.getTransfer(x.colorSpace)!==pn,x.matrixAutoUpdate===!0&&x.updateMatrix(),c.material.uniforms.uvTransform.value.copy(x.matrix),(d!==x||f!==x.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,d=x,f=x.version,h=t.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}function p(v,w){v.getRGB(Lg,Wj(t)),r.buffers.color.setClear(Lg.r,Lg.g,Lg.b,w,s)}return{getClearColor:function(){return a},setClearColor:function(v,w=1){a.set(v),l=w,p(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,p(a,l)},render:m,addToRenderList:y}}function Nbe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let o=i,s=!1;function a(N,P,W,B,b){let E=!1;const I=d(B,W,P);o!==I&&(o=I,c(o.object)),E=h(N,B,W,b),E&&g(N,B,W,b),b!==null&&e.update(b,t.ELEMENT_ARRAY_BUFFER),(E||s)&&(s=!1,x(N,P,W,B),b!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(b).buffer))}function l(){return t.createVertexArray()}function c(N){return t.bindVertexArray(N)}function u(N){return t.deleteVertexArray(N)}function d(N,P,W){const B=W.wireframe===!0;let b=r[N.id];b===void 0&&(b={},r[N.id]=b);let E=b[P.id];E===void 0&&(E={},b[P.id]=E);let I=E[B];return I===void 0&&(I=f(l()),E[B]=I),I}function f(N){const P=[],W=[],B=[];for(let b=0;b<n;b++)P[b]=0,W[b]=0,B[b]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:W,attributeDivisors:B,object:N,attributes:{},index:null}}function h(N,P,W,B){const b=o.attributes,E=P.attributes;let I=0;const O=W.getAttributes();for(const C in O)if(O[C].location>=0){const H=b[C];let D=E[C];if(D===void 0&&(C==="instanceMatrix"&&N.instanceMatrix&&(D=N.instanceMatrix),C==="instanceColor"&&N.instanceColor&&(D=N.instanceColor)),H===void 0||H.attribute!==D||D&&H.data!==D.data)return!0;I++}return o.attributesNum!==I||o.index!==B}function g(N,P,W,B){const b={},E=P.attributes;let I=0;const O=W.getAttributes();for(const C in O)if(O[C].location>=0){let H=E[C];H===void 0&&(C==="instanceMatrix"&&N.instanceMatrix&&(H=N.instanceMatrix),C==="instanceColor"&&N.instanceColor&&(H=N.instanceColor));const D={};D.attribute=H,H&&H.data&&(D.data=H.data),b[C]=D,I++}o.attributes=b,o.attributesNum=I,o.index=B}function m(){const N=o.newAttributes;for(let P=0,W=N.length;P<W;P++)N[P]=0}function y(N){p(N,0)}function p(N,P){const W=o.newAttributes,B=o.enabledAttributes,b=o.attributeDivisors;W[N]=1,B[N]===0&&(t.enableVertexAttribArray(N),B[N]=1),b[N]!==P&&(t.vertexAttribDivisor(N,P),b[N]=P)}function v(){const N=o.newAttributes,P=o.enabledAttributes;for(let W=0,B=P.length;W<B;W++)P[W]!==N[W]&&(t.disableVertexAttribArray(W),P[W]=0)}function w(N,P,W,B,b,E,I){I===!0?t.vertexAttribIPointer(N,P,W,b,E):t.vertexAttribPointer(N,P,W,B,b,E)}function x(N,P,W,B){m();const b=B.attributes,E=W.getAttributes(),I=P.defaultAttributeValues;for(const O in E){const C=E[O];if(C.location>=0){let j=b[O];if(j===void 0&&(O==="instanceMatrix"&&N.instanceMatrix&&(j=N.instanceMatrix),O==="instanceColor"&&N.instanceColor&&(j=N.instanceColor)),j!==void 0){const H=j.normalized,D=j.itemSize,M=e.get(j);if(M===void 0)continue;const $=M.buffer,J=M.type,Z=M.bytesPerElement,ce=J===t.INT||J===t.UNSIGNED_INT||j.gpuType===$5;if(j.isInterleavedBufferAttribute){const oe=j.data,Ae=oe.stride,de=j.offset;if(oe.isInstancedInterleavedBuffer){for(let Re=0;Re<C.locationSize;Re++)p(C.location+Re,oe.meshPerAttribute);N.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let Re=0;Re<C.locationSize;Re++)y(C.location+Re);t.bindBuffer(t.ARRAY_BUFFER,$);for(let Re=0;Re<C.locationSize;Re++)w(C.location+Re,D/C.locationSize,J,H,Ae*Z,(de+D/C.locationSize*Re)*Z,ce)}else{if(j.isInstancedBufferAttribute){for(let oe=0;oe<C.locationSize;oe++)p(C.location+oe,j.meshPerAttribute);N.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=j.meshPerAttribute*j.count)}else for(let oe=0;oe<C.locationSize;oe++)y(C.location+oe);t.bindBuffer(t.ARRAY_BUFFER,$);for(let oe=0;oe<C.locationSize;oe++)w(C.location+oe,D/C.locationSize,J,H,D*Z,D/C.locationSize*oe*Z,ce)}}else if(I!==void 0){const H=I[O];if(H!==void 0)switch(H.length){case 2:t.vertexAttrib2fv(C.location,H);break;case 3:t.vertexAttrib3fv(C.location,H);break;case 4:t.vertexAttrib4fv(C.location,H);break;default:t.vertexAttrib1fv(C.location,H)}}}}v()}function T(){z();for(const N in r){const P=r[N];for(const W in P){const B=P[W];for(const b in B)u(B[b].object),delete B[b];delete P[W]}delete r[N]}}function k(N){if(r[N.id]===void 0)return;const P=r[N.id];for(const W in P){const B=P[W];for(const b in B)u(B[b].object),delete B[b];delete P[W]}delete r[N.id]}function A(N){for(const P in r){const W=r[P];if(W[N.id]===void 0)continue;const B=W[N.id];for(const b in B)u(B[b].object),delete B[b];delete W[N.id]}}function z(){S(),s=!0,o!==i&&(o=i,c(o.object))}function S(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:z,resetDefaultState:S,dispose:T,releaseStatesOfGeometry:k,releaseStatesOfProgram:A,initAttributes:m,enableAttribute:y,disableUnusedAttributes:v}}function kbe(t,e,n){let r;function i(c){r=c}function o(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function s(c,u,d){d!==0&&(t.drawArraysInstanced(r,c,u,d),n.update(u,r,d))}function a(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,d);let h=0;for(let g=0;g<d;g++)h+=u[g];n.update(h,r,1)}function l(c,u,d,f){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let g=0;g<c.length;g++)s(c[g],u[g],f[g]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,f,0,d);let g=0;for(let m=0;m<d;m++)g+=u[m]*f[m];n.update(g,r,1)}}this.setMode=i,this.render=o,this.renderInstances=s,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function Fbe(t,e,n,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(A){return!(A!==os&&r.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(A){const z=A===w0&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(A!==Ha&&r.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&A!==Ca&&!z)}function l(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,f=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),v=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),w=t.getParameter(t.MAX_VARYING_VECTORS),x=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),T=g>0,k=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:f,maxTextures:h,maxVertexTextures:g,maxTextureSize:m,maxCubemapSize:y,maxAttributes:p,maxVertexUniforms:v,maxVaryings:w,maxFragmentUniforms:x,vertexTextures:T,maxSamples:k}}function Obe(t){const e=this;let n=null,r=0,i=!1,o=!1;const s=new vc,a=new Bt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=d.length!==0||f||r!==0||i;return i=f,r=d.length,h},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,h){const g=d.clippingPlanes,m=d.clipIntersection,y=d.clipShadows,p=t.get(d);if(!i||g===null||g.length===0||o&&!y)o?u(null):c();else{const v=o?0:r,w=v*4;let x=p.clippingState||null;l.value=x,x=u(g,f,w,h);for(let T=0;T!==w;++T)x[T]=n[T];p.clippingState=x,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=v}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,h,g){const m=d!==null?d.length:0;let y=null;if(m!==0){if(y=l.value,g!==!0||y===null){const p=h+m*4,v=f.matrixWorldInverse;a.getNormalMatrix(v),(y===null||y.length<p)&&(y=new Float32Array(p));for(let w=0,x=h;w!==m;++w,x+=4)s.copy(d[w]).applyMatrix4(v,a),s.normal.toArray(y,x),y[x+3]=s.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,y}}function Bbe(t){let e=new WeakMap;function n(s,a){return a===X_?s.mapping=Ff:a===Y_&&(s.mapping=Of),s}function r(s){if(s&&s.isTexture){const a=s.mapping;if(a===X_||a===Y_)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new qve(l.height);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",i),n(c.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class Kj extends Vj{constructor(e=-1,n=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Pd=4,ek=[.125,.215,.35,.446,.526,.582],Tc=20,IE=new Kj,tk=new tn;let RE=null,PE=0,NE=0,kE=!1;const wc=(1+Math.sqrt(5))/2,dd=1/wc,nk=[new Se(-wc,dd,0),new Se(wc,dd,0),new Se(-dd,0,wc),new Se(dd,0,wc),new Se(0,wc,-dd),new Se(0,wc,dd),new Se(-1,1,-1),new Se(1,1,-1),new Se(-1,1,1),new Se(1,1,1)];class rk{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){RE=this._renderer.getRenderTarget(),PE=this._renderer.getActiveCubeFace(),NE=this._renderer.getActiveMipmapLevel(),kE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=sk(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=ok(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(RE,PE,NE),this._renderer.xr.enabled=kE,e.scissorTest=!1,Dg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ff||e.mapping===Of?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),RE=this._renderer.getRenderTarget(),PE=this._renderer.getActiveCubeFace(),NE=this._renderer.getActiveMipmapLevel(),kE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Pi,minFilter:Pi,generateMipmaps:!1,type:w0,format:os,colorSpace:lh,depthBuffer:!1},i=ik(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=ik(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Lbe(o)),this._blurMaterial=Dbe(o,e,n)}return i}_compileMaterial(e){const n=new ss(this._lodPlanes[0],e);this._renderer.compile(n,IE)}_sceneToCubeUV(e,n,r,i){const a=new Zi(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(tk),u.toneMapping=zl,u.autoClear=!1;const h=new jj({name:"PMREM.Background",side:zi,depthWrite:!1,depthTest:!1}),g=new ss(new _0,h);let m=!1;const y=e.background;y?y.isColor&&(h.color.copy(y),e.background=null,m=!0):(h.color.copy(tk),m=!0);for(let p=0;p<6;p++){const v=p%3;v===0?(a.up.set(0,l[p],0),a.lookAt(c[p],0,0)):v===1?(a.up.set(0,0,l[p]),a.lookAt(0,c[p],0)):(a.up.set(0,l[p],0),a.lookAt(0,0,c[p]));const w=this._cubeSize;Dg(i,v*w,p>2?w:0,w,w),u.setRenderTarget(i),m&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Ff||e.mapping===Of;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=sk()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=ok());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new ss(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const l=this._cubeSize;Dg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,IE)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let o=1;o<i;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),a=nk[(i-o-1)%nk.length];this._blur(e,o-1,o,s,a)}n.autoClear=r}_blur(e,n,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,s,a){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new ss(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,g=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*Tc-1),m=o/g,y=isFinite(o)?1+Math.floor(u*m):Tc;y>Tc&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Tc}`);const p=[];let v=0;for(let A=0;A<Tc;++A){const z=A/m,S=Math.exp(-z*z/2);p.push(S),A===0?v+=S:A<y&&(v+=2*S)}for(let A=0;A<p.length;A++)p[A]=p[A]/v;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=p,f.latitudinal.value=s==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:w}=this;f.dTheta.value=g,f.mipInt.value=w-r;const x=this._sizeLods[i],T=3*x*(i>w-Pd?i-w+Pd:0),k=4*(this._cubeSize-x);Dg(n,T,k,3*x,2*x),l.setRenderTarget(n),l.render(d,IE)}}function Lbe(t){const e=[],n=[],r=[];let i=t;const o=t-Pd+1+ek.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);n.push(a);let l=1/a;s>t-Pd?l=ek[s-t+Pd-1]:s===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,g=6,m=3,y=2,p=1,v=new Float32Array(m*g*h),w=new Float32Array(y*g*h),x=new Float32Array(p*g*h);for(let k=0;k<h;k++){const A=k%3*2/3-1,z=k>2?0:-1,S=[A,z,0,A+2/3,z,0,A+2/3,z+1,0,A,z,0,A+2/3,z+1,0,A,z+1,0];v.set(S,m*g*k),w.set(f,y*g*k);const N=[k,k,k,k,k,k];x.set(N,p*g*k)}const T=new rc;T.setAttribute("position",new Ws(v,m)),T.setAttribute("uv",new Ws(w,y)),T.setAttribute("faceIndex",new Ws(x,p)),e.push(T),i>Pd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function ik(t,e,n){const r=new Su(t,e,n);return r.texture.mapping=ab,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Dg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Dbe(t,e,n){const r=new Float32Array(Tc),i=new Se(0,1,0);return new Ql({name:"SphericalGaussianBlur",defines:{n:Tc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:e3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ul,depthTest:!1,depthWrite:!1})}function ok(){return new Ql({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:e3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ul,depthTest:!1,depthWrite:!1})}function sk(){return new Ql({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:e3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ul,depthTest:!1,depthWrite:!1})}function e3(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Ube(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===X_||l===Y_,u=l===Ff||l===Of;if(c||u){let d=e.get(a);const f=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return n===null&&(n=new rk(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const h=a.image;return c&&h&&h.height>0||u&&h&&i(h)?(n===null&&(n=new rk(t)),d=c?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",o),d.texture):null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function o(a){const l=a.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function zbe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&ep("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function jbe(t,e,n,r){const i={},o=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const g in f.attributes)e.remove(f.attributes[g]);for(const g in f.morphAttributes){const m=f.morphAttributes[g];for(let y=0,p=m.length;y<p;y++)e.remove(m[y])}f.removeEventListener("dispose",s),delete i[f.id];const h=o.get(f);h&&(e.remove(h),o.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",s),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const g in f)e.update(f[g],t.ARRAY_BUFFER);const h=d.morphAttributes;for(const g in h){const m=h[g];for(let y=0,p=m.length;y<p;y++)e.update(m[y],t.ARRAY_BUFFER)}}function c(d){const f=[],h=d.index,g=d.attributes.position;let m=0;if(h!==null){const v=h.array;m=h.version;for(let w=0,x=v.length;w<x;w+=3){const T=v[w+0],k=v[w+1],A=v[w+2];f.push(T,k,k,A,A,T)}}else if(g!==void 0){const v=g.array;m=g.version;for(let w=0,x=v.length/3-1;w<x;w+=3){const T=w+0,k=w+1,A=w+2;f.push(T,k,k,A,A,T)}}else return;const y=new(Bj(f)?Hj:Gj)(f,1);y.version=m;const p=o.get(d);p&&e.remove(p),o.set(d,y)}function u(d){const f=o.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return o.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function Gbe(t,e,n){let r;function i(f){r=f}let o,s;function a(f){o=f.type,s=f.bytesPerElement}function l(f,h){t.drawElements(r,h,o,f*s),n.update(h,r,1)}function c(f,h,g){g!==0&&(t.drawElementsInstanced(r,h,o,f*s,g),n.update(h,r,g))}function u(f,h,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,o,f,0,g);let y=0;for(let p=0;p<g;p++)y+=h[p];n.update(y,r,1)}function d(f,h,g,m){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let p=0;p<f.length;p++)c(f[p]/s,h[p],m[p]);else{y.multiDrawElementsInstancedWEBGL(r,h,0,o,f,0,m,0,g);let p=0;for(let v=0;v<g;v++)p+=h[v]*m[v];n.update(p,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function Hbe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=a*(o/3);break;case t.LINES:n.lines+=a*(o/2);break;case t.LINE_STRIP:n.lines+=a*(o-1);break;case t.LINE_LOOP:n.lines+=a*o;break;case t.POINTS:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Wbe(t,e,n){const r=new WeakMap,i=new Gn;function o(s,a,l){const c=s.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=u!==void 0?u.length:0;let f=r.get(a);if(f===void 0||f.count!==d){let h=function(){z.dispose(),r.delete(a),a.removeEventListener("dispose",h)};f!==void 0&&f.texture.dispose();const g=a.morphAttributes.position!==void 0,m=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,p=a.morphAttributes.position||[],v=a.morphAttributes.normal||[],w=a.morphAttributes.color||[];let x=0;g===!0&&(x=1),m===!0&&(x=2),y===!0&&(x=3);let T=a.attributes.position.count*x,k=1;T>e.maxTextureSize&&(k=Math.ceil(T/e.maxTextureSize),T=e.maxTextureSize);const A=new Float32Array(T*k*4*d),z=new Dj(A,T,k,d);z.type=Ca,z.needsUpdate=!0;const S=x*4;for(let N=0;N<d;N++){const P=p[N],W=v[N],B=w[N],b=T*k*4*N;for(let E=0;E<P.count;E++){const I=E*S;g===!0&&(i.fromBufferAttribute(P,E),A[b+I+0]=i.x,A[b+I+1]=i.y,A[b+I+2]=i.z,A[b+I+3]=0),m===!0&&(i.fromBufferAttribute(W,E),A[b+I+4]=i.x,A[b+I+5]=i.y,A[b+I+6]=i.z,A[b+I+7]=0),y===!0&&(i.fromBufferAttribute(B,E),A[b+I+8]=i.x,A[b+I+9]=i.y,A[b+I+10]=i.z,A[b+I+11]=B.itemSize===4?i.w:1)}}f={count:d,texture:z,size:new sn(T,k)},r.set(a,f),a.addEventListener("dispose",h)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let h=0;for(let m=0;m<c.length;m++)h+=c[m];const g=a.morphTargetsRelative?1:1-h;l.getUniforms().setValue(t,"morphTargetBaseInfluence",g),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:o}}function Vbe(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function s(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:s}}class Qj extends Jr{constructor(e,n,r,i,o,s,a,l,c,u=Xd){if(u!==Xd&&u!==Lf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Xd&&(r=_u),r===void 0&&u===Lf&&(r=Bf),super(null,i,o,s,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:fs,this.minFilter=l!==void 0?l:fs,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const Xj=new Jr,ak=new Qj(1,1),Yj=new Dj,Jj=new Rve,Zj=new $j,lk=[],ck=[],uk=new Float32Array(16),dk=new Float32Array(9),fk=new Float32Array(4);function uh(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=lk[i];if(o===void 0&&(o=new Float32Array(i),lk[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function mr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function gr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function ub(t,e){let n=ck[e];n===void 0&&(n=new Int32Array(e),ck[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function $be(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function qbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mr(n,e))return;t.uniform2fv(this.addr,e),gr(n,e)}}function Kbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(mr(n,e))return;t.uniform3fv(this.addr,e),gr(n,e)}}function Qbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mr(n,e))return;t.uniform4fv(this.addr,e),gr(n,e)}}function Xbe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),gr(n,e)}else{if(mr(n,r))return;fk.set(r),t.uniformMatrix2fv(this.addr,!1,fk),gr(n,r)}}function Ybe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),gr(n,e)}else{if(mr(n,r))return;dk.set(r),t.uniformMatrix3fv(this.addr,!1,dk),gr(n,r)}}function Jbe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),gr(n,e)}else{if(mr(n,r))return;uk.set(r),t.uniformMatrix4fv(this.addr,!1,uk),gr(n,r)}}function Zbe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function exe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mr(n,e))return;t.uniform2iv(this.addr,e),gr(n,e)}}function txe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mr(n,e))return;t.uniform3iv(this.addr,e),gr(n,e)}}function nxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mr(n,e))return;t.uniform4iv(this.addr,e),gr(n,e)}}function rxe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function ixe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mr(n,e))return;t.uniform2uiv(this.addr,e),gr(n,e)}}function oxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mr(n,e))return;t.uniform3uiv(this.addr,e),gr(n,e)}}function sxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mr(n,e))return;t.uniform4uiv(this.addr,e),gr(n,e)}}function axe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let o;this.type===t.SAMPLER_2D_SHADOW?(ak.compareFunction=Oj,o=ak):o=Xj,n.setTexture2D(e||o,i)}function lxe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Jj,i)}function cxe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Zj,i)}function uxe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Yj,i)}function dxe(t){switch(t){case 5126:return $be;case 35664:return qbe;case 35665:return Kbe;case 35666:return Qbe;case 35674:return Xbe;case 35675:return Ybe;case 35676:return Jbe;case 5124:case 35670:return Zbe;case 35667:case 35671:return exe;case 35668:case 35672:return txe;case 35669:case 35673:return nxe;case 5125:return rxe;case 36294:return ixe;case 36295:return oxe;case 36296:return sxe;case 35678:case 36198:case 36298:case 36306:case 35682:return axe;case 35679:case 36299:case 36307:return lxe;case 35680:case 36300:case 36308:case 36293:return cxe;case 36289:case 36303:case 36311:case 36292:return uxe}}function fxe(t,e){t.uniform1fv(this.addr,e)}function hxe(t,e){const n=uh(e,this.size,2);t.uniform2fv(this.addr,n)}function pxe(t,e){const n=uh(e,this.size,3);t.uniform3fv(this.addr,n)}function mxe(t,e){const n=uh(e,this.size,4);t.uniform4fv(this.addr,n)}function gxe(t,e){const n=uh(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function yxe(t,e){const n=uh(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function vxe(t,e){const n=uh(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function wxe(t,e){t.uniform1iv(this.addr,e)}function bxe(t,e){t.uniform2iv(this.addr,e)}function xxe(t,e){t.uniform3iv(this.addr,e)}function Exe(t,e){t.uniform4iv(this.addr,e)}function Axe(t,e){t.uniform1uiv(this.addr,e)}function _xe(t,e){t.uniform2uiv(this.addr,e)}function Sxe(t,e){t.uniform3uiv(this.addr,e)}function Cxe(t,e){t.uniform4uiv(this.addr,e)}function Txe(t,e,n){const r=this.cache,i=e.length,o=ub(n,i);mr(r,o)||(t.uniform1iv(this.addr,o),gr(r,o));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||Xj,o[s])}function Mxe(t,e,n){const r=this.cache,i=e.length,o=ub(n,i);mr(r,o)||(t.uniform1iv(this.addr,o),gr(r,o));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||Jj,o[s])}function Ixe(t,e,n){const r=this.cache,i=e.length,o=ub(n,i);mr(r,o)||(t.uniform1iv(this.addr,o),gr(r,o));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||Zj,o[s])}function Rxe(t,e,n){const r=this.cache,i=e.length,o=ub(n,i);mr(r,o)||(t.uniform1iv(this.addr,o),gr(r,o));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||Yj,o[s])}function Pxe(t){switch(t){case 5126:return fxe;case 35664:return hxe;case 35665:return pxe;case 35666:return mxe;case 35674:return gxe;case 35675:return yxe;case 35676:return vxe;case 5124:case 35670:return wxe;case 35667:case 35671:return bxe;case 35668:case 35672:return xxe;case 35669:case 35673:return Exe;case 5125:return Axe;case 36294:return _xe;case 36295:return Sxe;case 36296:return Cxe;case 35678:case 36198:case 36298:case 36306:case 35682:return Txe;case 35679:case 36299:case 36307:return Mxe;case 35680:case 36300:case 36308:case 36293:return Ixe;case 36289:case 36303:case 36311:case 36292:return Rxe}}class Nxe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=dxe(n.type)}}class kxe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Pxe(n.type)}}class Fxe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,n[a.id],r)}}}const FE=/(\w+)(\])?(\[|\.)?/g;function hk(t,e){t.seq.push(e),t.map[e.id]=e}function Oxe(t,e,n){const r=t.name,i=r.length;for(FE.lastIndex=0;;){const o=FE.exec(r),s=FE.lastIndex;let a=o[1];const l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===i){hk(n,c===void 0?new Nxe(a,t,e):new kxe(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new Fxe(a),hk(n,d)),n=d}}}class Hy{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),s=e.getUniformLocation(n,o.name);Oxe(o,s,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,s=n.length;o!==s;++o){const a=n[o],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function pk(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Bxe=37297;let Lxe=0;function Dxe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${n[s]}`)}return r.join(`
`)}const mk=new Bt;function Uxe(t){Jt._getMatrix(mk,Jt.workingColorSpace,t);const e=`mat3( ${mk.elements.map(n=>n.toFixed(4))} )`;switch(Jt.getTransfer(t)){case lb:return[e,"LinearTransferOETF"];case pn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function gk(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+Dxe(t.getShaderSource(e),s)}else return i}function zxe(t,e){const n=Uxe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function jxe(t,e){let n;switch(e){case rve:n="Linear";break;case ive:n="Reinhard";break;case ove:n="Cineon";break;case sve:n="ACESFilmic";break;case lve:n="AgX";break;case cve:n="Neutral";break;case ave:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Ug=new Se;function Gxe(){Jt.getLuminanceCoefficients(Ug);const t=Ug.x.toFixed(4),e=Ug.y.toFixed(4),n=Ug.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Hxe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(tp).join(`
`)}function Wxe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Vxe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),s=o.name;let a=1;o.type===t.FLOAT_MAT2&&(a=2),o.type===t.FLOAT_MAT3&&(a=3),o.type===t.FLOAT_MAT4&&(a=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:a}}return n}function tp(t){return t!==""}function yk(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function vk(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const $xe=/^[ \t]*#include +<([\w\d./]+)>/gm;function TS(t){return t.replace($xe,Kxe)}const qxe=new Map;function Kxe(t,e){let n=Dt[e];if(n===void 0){const r=qxe.get(e);if(r!==void 0)n=Dt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return TS(n)}const Qxe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function wk(t){return t.replace(Qxe,Xxe)}function Xxe(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function bk(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Yxe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Ej?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Bye?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ca&&(e="SHADOWMAP_TYPE_VSM"),e}function Jxe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ff:case Of:e="ENVMAP_TYPE_CUBE";break;case ab:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Zxe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Of:e="ENVMAP_MODE_REFRACTION";break}return e}function eEe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case V5:e="ENVMAP_BLENDING_MULTIPLY";break;case tve:e="ENVMAP_BLENDING_MIX";break;case nve:e="ENVMAP_BLENDING_ADD";break}return e}function tEe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function nEe(t,e,n,r){const i=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=Yxe(n),c=Jxe(n),u=Zxe(n),d=eEe(n),f=tEe(n),h=Hxe(n),g=Wxe(o),m=i.createProgram();let y,p,v=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(tp).join(`
`),y.length>0&&(y+=`
`),p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(tp).join(`
`),p.length>0&&(p+=`
`)):(y=[bk(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(tp).join(`
`),p=[bk(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==zl?"#define TONE_MAPPING":"",n.toneMapping!==zl?Dt.tonemapping_pars_fragment:"",n.toneMapping!==zl?jxe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Dt.colorspace_pars_fragment,zxe("linearToOutputTexel",n.outputColorSpace),Gxe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(tp).join(`
`)),s=TS(s),s=yk(s,n),s=vk(s,n),a=TS(a),a=yk(a,n),a=vk(a,n),s=wk(s),a=wk(a),n.isRawShaderMaterial!==!0&&(v=`#version 300 es
`,y=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,p=["#define varying in",n.glslVersion===kN?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===kN?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);const w=v+y+s,x=v+p+a,T=pk(i,i.VERTEX_SHADER,w),k=pk(i,i.FRAGMENT_SHADER,x);i.attachShader(m,T),i.attachShader(m,k),n.index0AttributeName!==void 0?i.bindAttribLocation(m,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m);function A(P){if(t.debug.checkShaderErrors){const W=i.getProgramInfoLog(m).trim(),B=i.getShaderInfoLog(T).trim(),b=i.getShaderInfoLog(k).trim();let E=!0,I=!0;if(i.getProgramParameter(m,i.LINK_STATUS)===!1)if(E=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,m,T,k);else{const O=gk(i,T,"vertex"),C=gk(i,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+`

Material Name: `+P.name+`
Material Type: `+P.type+`

Program Info Log: `+W+`
`+O+`
`+C)}else W!==""?console.warn("THREE.WebGLProgram: Program Info Log:",W):(B===""||b==="")&&(I=!1);I&&(P.diagnostics={runnable:E,programLog:W,vertexShader:{log:B,prefix:y},fragmentShader:{log:b,prefix:p}})}i.deleteShader(T),i.deleteShader(k),z=new Hy(i,m),S=Vxe(i,m)}let z;this.getUniforms=function(){return z===void 0&&A(this),z};let S;this.getAttributes=function(){return S===void 0&&A(this),S};let N=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=i.getProgramParameter(m,Bxe)),N},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Lxe++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=T,this.fragmentShader=k,this}let rEe=0;class iEe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new oEe(e),n.set(e,r)),r}}class oEe{constructor(e){this.id=rEe++,this.code=e,this.usedTimes=0}}function sEe(t,e,n,r,i,o,s){const a=new Uj,l=new iEe,c=new Set,u=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(S){return c.add(S),S===0?"uv":`uv${S}`}function y(S,N,P,W,B){const b=W.fog,E=B.geometry,I=S.isMeshStandardMaterial?W.environment:null,O=(S.isMeshStandardMaterial?n:e).get(S.envMap||I),C=O&&O.mapping===ab?O.image.height:null,j=g[S.type];S.precision!==null&&(h=i.getMaxPrecision(S.precision),h!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",h,"instead."));const H=E.morphAttributes.position||E.morphAttributes.normal||E.morphAttributes.color,D=H!==void 0?H.length:0;let M=0;E.morphAttributes.position!==void 0&&(M=1),E.morphAttributes.normal!==void 0&&(M=2),E.morphAttributes.color!==void 0&&(M=3);let $,J,Z,ce;if(j){const Mt=ks[j];$=Mt.vertexShader,J=Mt.fragmentShader}else $=S.vertexShader,J=S.fragmentShader,l.update(S),Z=l.getVertexShaderID(S),ce=l.getFragmentShaderID(S);const oe=t.getRenderTarget(),Ae=t.state.buffers.depth.getReversed(),de=B.isInstancedMesh===!0,Re=B.isBatchedMesh===!0,ae=!!S.map,we=!!S.matcap,Ve=!!O,te=!!S.aoMap,Be=!!S.lightMap,ft=!!S.bumpMap,ut=!!S.normalMap,Je=!!S.displacementMap,kt=!!S.emissiveMap,ot=!!S.metalnessMap,X=!!S.roughnessMap,V=S.anisotropy>0,fe=S.clearcoat>0,_e=S.dispersion>0,Ie=S.iridescence>0,ge=S.sheen>0,G=S.transmission>0,_=V&&!!S.anisotropyMap,R=fe&&!!S.clearcoatMap,Q=fe&&!!S.clearcoatNormalMap,Y=fe&&!!S.clearcoatRoughnessMap,ee=Ie&&!!S.iridescenceMap,ne=Ie&&!!S.iridescenceThicknessMap,Ue=ge&&!!S.sheenColorMap,ke=ge&&!!S.sheenRoughnessMap,qe=!!S.specularMap,ht=!!S.specularColorMap,rt=!!S.specularIntensityMap,le=G&&!!S.transmissionMap,it=G&&!!S.thicknessMap,Ee=!!S.gradientMap,Te=!!S.alphaMap,tt=S.alphaTest>0,He=!!S.alphaHash,lt=!!S.extensions;let un=zl;S.toneMapped&&(oe===null||oe.isXRRenderTarget===!0)&&(un=t.toneMapping);const Ft={shaderID:j,shaderType:S.type,shaderName:S.name,vertexShader:$,fragmentShader:J,defines:S.defines,customVertexShaderID:Z,customFragmentShaderID:ce,isRawShaderMaterial:S.isRawShaderMaterial===!0,glslVersion:S.glslVersion,precision:h,batching:Re,batchingColor:Re&&B._colorsTexture!==null,instancing:de,instancingColor:de&&B.instanceColor!==null,instancingMorph:de&&B.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:oe===null?t.outputColorSpace:oe.isXRRenderTarget===!0?oe.texture.colorSpace:lh,alphaToCoverage:!!S.alphaToCoverage,map:ae,matcap:we,envMap:Ve,envMapMode:Ve&&O.mapping,envMapCubeUVHeight:C,aoMap:te,lightMap:Be,bumpMap:ft,normalMap:ut,displacementMap:f&&Je,emissiveMap:kt,normalMapObjectSpace:ut&&S.normalMapType===hve,normalMapTangentSpace:ut&&S.normalMapType===Fj,metalnessMap:ot,roughnessMap:X,anisotropy:V,anisotropyMap:_,clearcoat:fe,clearcoatMap:R,clearcoatNormalMap:Q,clearcoatRoughnessMap:Y,dispersion:_e,iridescence:Ie,iridescenceMap:ee,iridescenceThicknessMap:ne,sheen:ge,sheenColorMap:Ue,sheenRoughnessMap:ke,specularMap:qe,specularColorMap:ht,specularIntensityMap:rt,transmission:G,transmissionMap:le,thicknessMap:it,gradientMap:Ee,opaque:S.transparent===!1&&S.blending===Qd&&S.alphaToCoverage===!1,alphaMap:Te,alphaTest:tt,alphaHash:He,combine:S.combine,mapUv:ae&&m(S.map.channel),aoMapUv:te&&m(S.aoMap.channel),lightMapUv:Be&&m(S.lightMap.channel),bumpMapUv:ft&&m(S.bumpMap.channel),normalMapUv:ut&&m(S.normalMap.channel),displacementMapUv:Je&&m(S.displacementMap.channel),emissiveMapUv:kt&&m(S.emissiveMap.channel),metalnessMapUv:ot&&m(S.metalnessMap.channel),roughnessMapUv:X&&m(S.roughnessMap.channel),anisotropyMapUv:_&&m(S.anisotropyMap.channel),clearcoatMapUv:R&&m(S.clearcoatMap.channel),clearcoatNormalMapUv:Q&&m(S.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Y&&m(S.clearcoatRoughnessMap.channel),iridescenceMapUv:ee&&m(S.iridescenceMap.channel),iridescenceThicknessMapUv:ne&&m(S.iridescenceThicknessMap.channel),sheenColorMapUv:Ue&&m(S.sheenColorMap.channel),sheenRoughnessMapUv:ke&&m(S.sheenRoughnessMap.channel),specularMapUv:qe&&m(S.specularMap.channel),specularColorMapUv:ht&&m(S.specularColorMap.channel),specularIntensityMapUv:rt&&m(S.specularIntensityMap.channel),transmissionMapUv:le&&m(S.transmissionMap.channel),thicknessMapUv:it&&m(S.thicknessMap.channel),alphaMapUv:Te&&m(S.alphaMap.channel),vertexTangents:!!E.attributes.tangent&&(ut||V),vertexColors:S.vertexColors,vertexAlphas:S.vertexColors===!0&&!!E.attributes.color&&E.attributes.color.itemSize===4,pointsUvs:B.isPoints===!0&&!!E.attributes.uv&&(ae||Te),fog:!!b,useFog:S.fog===!0,fogExp2:!!b&&b.isFogExp2,flatShading:S.flatShading===!0,sizeAttenuation:S.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:Ae,skinning:B.isSkinnedMesh===!0,morphTargets:E.morphAttributes.position!==void 0,morphNormals:E.morphAttributes.normal!==void 0,morphColors:E.morphAttributes.color!==void 0,morphTargetsCount:D,morphTextureStride:M,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:S.dithering,shadowMapEnabled:t.shadowMap.enabled&&P.length>0,shadowMapType:t.shadowMap.type,toneMapping:un,decodeVideoTexture:ae&&S.map.isVideoTexture===!0&&Jt.getTransfer(S.map.colorSpace)===pn,decodeVideoTextureEmissive:kt&&S.emissiveMap.isVideoTexture===!0&&Jt.getTransfer(S.emissiveMap.colorSpace)===pn,premultipliedAlpha:S.premultipliedAlpha,doubleSided:S.side===ba,flipSided:S.side===zi,useDepthPacking:S.depthPacking>=0,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionClipCullDistance:lt&&S.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(lt&&S.extensions.multiDraw===!0||Re)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:S.customProgramCacheKey()};return Ft.vertexUv1s=c.has(1),Ft.vertexUv2s=c.has(2),Ft.vertexUv3s=c.has(3),c.clear(),Ft}function p(S){const N=[];if(S.shaderID?N.push(S.shaderID):(N.push(S.customVertexShaderID),N.push(S.customFragmentShaderID)),S.defines!==void 0)for(const P in S.defines)N.push(P),N.push(S.defines[P]);return S.isRawShaderMaterial===!1&&(v(N,S),w(N,S),N.push(t.outputColorSpace)),N.push(S.customProgramCacheKey),N.join()}function v(S,N){S.push(N.precision),S.push(N.outputColorSpace),S.push(N.envMapMode),S.push(N.envMapCubeUVHeight),S.push(N.mapUv),S.push(N.alphaMapUv),S.push(N.lightMapUv),S.push(N.aoMapUv),S.push(N.bumpMapUv),S.push(N.normalMapUv),S.push(N.displacementMapUv),S.push(N.emissiveMapUv),S.push(N.metalnessMapUv),S.push(N.roughnessMapUv),S.push(N.anisotropyMapUv),S.push(N.clearcoatMapUv),S.push(N.clearcoatNormalMapUv),S.push(N.clearcoatRoughnessMapUv),S.push(N.iridescenceMapUv),S.push(N.iridescenceThicknessMapUv),S.push(N.sheenColorMapUv),S.push(N.sheenRoughnessMapUv),S.push(N.specularMapUv),S.push(N.specularColorMapUv),S.push(N.specularIntensityMapUv),S.push(N.transmissionMapUv),S.push(N.thicknessMapUv),S.push(N.combine),S.push(N.fogExp2),S.push(N.sizeAttenuation),S.push(N.morphTargetsCount),S.push(N.morphAttributeCount),S.push(N.numDirLights),S.push(N.numPointLights),S.push(N.numSpotLights),S.push(N.numSpotLightMaps),S.push(N.numHemiLights),S.push(N.numRectAreaLights),S.push(N.numDirLightShadows),S.push(N.numPointLightShadows),S.push(N.numSpotLightShadows),S.push(N.numSpotLightShadowsWithMaps),S.push(N.numLightProbes),S.push(N.shadowMapType),S.push(N.toneMapping),S.push(N.numClippingPlanes),S.push(N.numClipIntersection),S.push(N.depthPacking)}function w(S,N){a.disableAll(),N.supportsVertexTextures&&a.enable(0),N.instancing&&a.enable(1),N.instancingColor&&a.enable(2),N.instancingMorph&&a.enable(3),N.matcap&&a.enable(4),N.envMap&&a.enable(5),N.normalMapObjectSpace&&a.enable(6),N.normalMapTangentSpace&&a.enable(7),N.clearcoat&&a.enable(8),N.iridescence&&a.enable(9),N.alphaTest&&a.enable(10),N.vertexColors&&a.enable(11),N.vertexAlphas&&a.enable(12),N.vertexUv1s&&a.enable(13),N.vertexUv2s&&a.enable(14),N.vertexUv3s&&a.enable(15),N.vertexTangents&&a.enable(16),N.anisotropy&&a.enable(17),N.alphaHash&&a.enable(18),N.batching&&a.enable(19),N.dispersion&&a.enable(20),N.batchingColor&&a.enable(21),S.push(a.mask),a.disableAll(),N.fog&&a.enable(0),N.useFog&&a.enable(1),N.flatShading&&a.enable(2),N.logarithmicDepthBuffer&&a.enable(3),N.reverseDepthBuffer&&a.enable(4),N.skinning&&a.enable(5),N.morphTargets&&a.enable(6),N.morphNormals&&a.enable(7),N.morphColors&&a.enable(8),N.premultipliedAlpha&&a.enable(9),N.shadowMapEnabled&&a.enable(10),N.doubleSided&&a.enable(11),N.flipSided&&a.enable(12),N.useDepthPacking&&a.enable(13),N.dithering&&a.enable(14),N.transmission&&a.enable(15),N.sheen&&a.enable(16),N.opaque&&a.enable(17),N.pointsUvs&&a.enable(18),N.decodeVideoTexture&&a.enable(19),N.decodeVideoTextureEmissive&&a.enable(20),N.alphaToCoverage&&a.enable(21),S.push(a.mask)}function x(S){const N=g[S.type];let P;if(N){const W=ks[N];P=Hve.clone(W.uniforms)}else P=S.uniforms;return P}function T(S,N){let P;for(let W=0,B=u.length;W<B;W++){const b=u[W];if(b.cacheKey===N){P=b,++P.usedTimes;break}}return P===void 0&&(P=new nEe(t,N,S,o),u.push(P)),P}function k(S){if(--S.usedTimes===0){const N=u.indexOf(S);u[N]=u[u.length-1],u.pop(),S.destroy()}}function A(S){l.remove(S)}function z(){l.dispose()}return{getParameters:y,getProgramCacheKey:p,getUniforms:x,acquireProgram:T,releaseProgram:k,releaseShaderCache:A,programs:u,dispose:z}}function aEe(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function r(s){t.delete(s)}function i(s,a,l){t.get(s)[a]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:o}}function lEe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function xk(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Ek(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function s(d,f,h,g,m,y){let p=t[e];return p===void 0?(p={id:d.id,object:d,geometry:f,material:h,groupOrder:g,renderOrder:d.renderOrder,z:m,group:y},t[e]=p):(p.id=d.id,p.object=d,p.geometry=f,p.material=h,p.groupOrder=g,p.renderOrder=d.renderOrder,p.z=m,p.group=y),e++,p}function a(d,f,h,g,m,y){const p=s(d,f,h,g,m,y);h.transmission>0?r.push(p):h.transparent===!0?i.push(p):n.push(p)}function l(d,f,h,g,m,y){const p=s(d,f,h,g,m,y);h.transmission>0?r.unshift(p):h.transparent===!0?i.unshift(p):n.unshift(p)}function c(d,f){n.length>1&&n.sort(d||lEe),r.length>1&&r.sort(f||xk),i.length>1&&i.sort(f||xk)}function u(){for(let d=e,f=t.length;d<f;d++){const h=t[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:a,unshift:l,finish:u,sort:c}}function cEe(){let t=new WeakMap;function e(r,i){const o=t.get(r);let s;return o===void 0?(s=new Ek,t.set(r,[s])):i>=o.length?(s=new Ek,o.push(s)):s=o[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function uEe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Se,color:new tn};break;case"SpotLight":n={position:new Se,direction:new Se,color:new tn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Se,color:new tn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Se,skyColor:new tn,groundColor:new tn};break;case"RectAreaLight":n={color:new tn,position:new Se,halfWidth:new Se,halfHeight:new Se};break}return t[e.id]=n,n}}}function dEe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sn};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sn};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sn,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let fEe=0;function hEe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function pEe(t){const e=new uEe,n=dEe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new Se);const i=new Se,o=new Wn,s=new Wn;function a(c){let u=0,d=0,f=0;for(let S=0;S<9;S++)r.probe[S].set(0,0,0);let h=0,g=0,m=0,y=0,p=0,v=0,w=0,x=0,T=0,k=0,A=0;c.sort(hEe);for(let S=0,N=c.length;S<N;S++){const P=c[S],W=P.color,B=P.intensity,b=P.distance,E=P.shadow&&P.shadow.map?P.shadow.map.texture:null;if(P.isAmbientLight)u+=W.r*B,d+=W.g*B,f+=W.b*B;else if(P.isLightProbe){for(let I=0;I<9;I++)r.probe[I].addScaledVector(P.sh.coefficients[I],B);A++}else if(P.isDirectionalLight){const I=e.get(P);if(I.color.copy(P.color).multiplyScalar(P.intensity),P.castShadow){const O=P.shadow,C=n.get(P);C.shadowIntensity=O.intensity,C.shadowBias=O.bias,C.shadowNormalBias=O.normalBias,C.shadowRadius=O.radius,C.shadowMapSize=O.mapSize,r.directionalShadow[h]=C,r.directionalShadowMap[h]=E,r.directionalShadowMatrix[h]=P.shadow.matrix,v++}r.directional[h]=I,h++}else if(P.isSpotLight){const I=e.get(P);I.position.setFromMatrixPosition(P.matrixWorld),I.color.copy(W).multiplyScalar(B),I.distance=b,I.coneCos=Math.cos(P.angle),I.penumbraCos=Math.cos(P.angle*(1-P.penumbra)),I.decay=P.decay,r.spot[m]=I;const O=P.shadow;if(P.map&&(r.spotLightMap[T]=P.map,T++,O.updateMatrices(P),P.castShadow&&k++),r.spotLightMatrix[m]=O.matrix,P.castShadow){const C=n.get(P);C.shadowIntensity=O.intensity,C.shadowBias=O.bias,C.shadowNormalBias=O.normalBias,C.shadowRadius=O.radius,C.shadowMapSize=O.mapSize,r.spotShadow[m]=C,r.spotShadowMap[m]=E,x++}m++}else if(P.isRectAreaLight){const I=e.get(P);I.color.copy(W).multiplyScalar(B),I.halfWidth.set(P.width*.5,0,0),I.halfHeight.set(0,P.height*.5,0),r.rectArea[y]=I,y++}else if(P.isPointLight){const I=e.get(P);if(I.color.copy(P.color).multiplyScalar(P.intensity),I.distance=P.distance,I.decay=P.decay,P.castShadow){const O=P.shadow,C=n.get(P);C.shadowIntensity=O.intensity,C.shadowBias=O.bias,C.shadowNormalBias=O.normalBias,C.shadowRadius=O.radius,C.shadowMapSize=O.mapSize,C.shadowCameraNear=O.camera.near,C.shadowCameraFar=O.camera.far,r.pointShadow[g]=C,r.pointShadowMap[g]=E,r.pointShadowMatrix[g]=P.shadow.matrix,w++}r.point[g]=I,g++}else if(P.isHemisphereLight){const I=e.get(P);I.skyColor.copy(P.color).multiplyScalar(B),I.groundColor.copy(P.groundColor).multiplyScalar(B),r.hemi[p]=I,p++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=at.LTC_FLOAT_1,r.rectAreaLTC2=at.LTC_FLOAT_2):(r.rectAreaLTC1=at.LTC_HALF_1,r.rectAreaLTC2=at.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=d,r.ambient[2]=f;const z=r.hash;(z.directionalLength!==h||z.pointLength!==g||z.spotLength!==m||z.rectAreaLength!==y||z.hemiLength!==p||z.numDirectionalShadows!==v||z.numPointShadows!==w||z.numSpotShadows!==x||z.numSpotMaps!==T||z.numLightProbes!==A)&&(r.directional.length=h,r.spot.length=m,r.rectArea.length=y,r.point.length=g,r.hemi.length=p,r.directionalShadow.length=v,r.directionalShadowMap.length=v,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=x,r.spotShadowMap.length=x,r.directionalShadowMatrix.length=v,r.pointShadowMatrix.length=w,r.spotLightMatrix.length=x+T-k,r.spotLightMap.length=T,r.numSpotLightShadowsWithMaps=k,r.numLightProbes=A,z.directionalLength=h,z.pointLength=g,z.spotLength=m,z.rectAreaLength=y,z.hemiLength=p,z.numDirectionalShadows=v,z.numPointShadows=w,z.numSpotShadows=x,z.numSpotMaps=T,z.numLightProbes=A,r.version=fEe++)}function l(c,u){let d=0,f=0,h=0,g=0,m=0;const y=u.matrixWorldInverse;for(let p=0,v=c.length;p<v;p++){const w=c[p];if(w.isDirectionalLight){const x=r.directional[d];x.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),x.direction.sub(i),x.direction.transformDirection(y),d++}else if(w.isSpotLight){const x=r.spot[h];x.position.setFromMatrixPosition(w.matrixWorld),x.position.applyMatrix4(y),x.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),x.direction.sub(i),x.direction.transformDirection(y),h++}else if(w.isRectAreaLight){const x=r.rectArea[g];x.position.setFromMatrixPosition(w.matrixWorld),x.position.applyMatrix4(y),s.identity(),o.copy(w.matrixWorld),o.premultiply(y),s.extractRotation(o),x.halfWidth.set(w.width*.5,0,0),x.halfHeight.set(0,w.height*.5,0),x.halfWidth.applyMatrix4(s),x.halfHeight.applyMatrix4(s),g++}else if(w.isPointLight){const x=r.point[f];x.position.setFromMatrixPosition(w.matrixWorld),x.position.applyMatrix4(y),f++}else if(w.isHemisphereLight){const x=r.hemi[m];x.direction.setFromMatrixPosition(w.matrixWorld),x.direction.transformDirection(y),m++}}}return{setup:a,setupView:l,state:r}}function Ak(t){const e=new pEe(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function o(u){n.push(u)}function s(u){r.push(u)}function a(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:o,pushShadow:s}}function mEe(t){let e=new WeakMap;function n(i,o=0){const s=e.get(i);let a;return s===void 0?(a=new Ak(t),e.set(i,[a])):o>=s.length?(a=new Ak(t),s.push(a)):a=s[o],a}function r(){e=new WeakMap}return{get:n,dispose:r}}class gEe extends A0{static get type(){return"MeshDepthMaterial"}constructor(e){super(),this.isMeshDepthMaterial=!0,this.depthPacking=dve,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class yEe extends A0{static get type(){return"MeshDistanceMaterial"}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const vEe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,wEe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function bEe(t,e,n){let r=new Z5;const i=new sn,o=new sn,s=new Gn,a=new gEe({depthPacking:fve}),l=new yEe,c={},u=n.maxTextureSize,d={[Kl]:zi,[zi]:Kl,[ba]:ba},f=new Ql({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new sn},radius:{value:4}},vertexShader:vEe,fragmentShader:wEe}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const g=new rc;g.setAttribute("position",new Ws(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new ss(g,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ej;let p=this.type;this.render=function(k,A,z){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||k.length===0)return;const S=t.getRenderTarget(),N=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),W=t.state;W.setBlending(Ul),W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const B=p!==ca&&this.type===ca,b=p===ca&&this.type!==ca;for(let E=0,I=k.length;E<I;E++){const O=k[E],C=O.shadow;if(C===void 0){console.warn("THREE.WebGLShadowMap:",O,"has no shadow.");continue}if(C.autoUpdate===!1&&C.needsUpdate===!1)continue;i.copy(C.mapSize);const j=C.getFrameExtents();if(i.multiply(j),o.copy(C.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/j.x),i.x=o.x*j.x,C.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/j.y),i.y=o.y*j.y,C.mapSize.y=o.y)),C.map===null||B===!0||b===!0){const D=this.type!==ca?{minFilter:fs,magFilter:fs}:{};C.map!==null&&C.map.dispose(),C.map=new Su(i.x,i.y,D),C.map.texture.name=O.name+".shadowMap",C.camera.updateProjectionMatrix()}t.setRenderTarget(C.map),t.clear();const H=C.getViewportCount();for(let D=0;D<H;D++){const M=C.getViewport(D);s.set(o.x*M.x,o.y*M.y,o.x*M.z,o.y*M.w),W.viewport(s),C.updateMatrices(O,D),r=C.getFrustum(),x(A,z,C.camera,O,this.type)}C.isPointLightShadow!==!0&&this.type===ca&&v(C,z),C.needsUpdate=!1}p=this.type,y.needsUpdate=!1,t.setRenderTarget(S,N,P)};function v(k,A){const z=e.update(m);f.defines.VSM_SAMPLES!==k.blurSamples&&(f.defines.VSM_SAMPLES=k.blurSamples,h.defines.VSM_SAMPLES=k.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),k.mapPass===null&&(k.mapPass=new Su(i.x,i.y)),f.uniforms.shadow_pass.value=k.map.texture,f.uniforms.resolution.value=k.mapSize,f.uniforms.radius.value=k.radius,t.setRenderTarget(k.mapPass),t.clear(),t.renderBufferDirect(A,null,z,f,m,null),h.uniforms.shadow_pass.value=k.mapPass.texture,h.uniforms.resolution.value=k.mapSize,h.uniforms.radius.value=k.radius,t.setRenderTarget(k.map),t.clear(),t.renderBufferDirect(A,null,z,h,m,null)}function w(k,A,z,S){let N=null;const P=z.isPointLight===!0?k.customDistanceMaterial:k.customDepthMaterial;if(P!==void 0)N=P;else if(N=z.isPointLight===!0?l:a,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const W=N.uuid,B=A.uuid;let b=c[W];b===void 0&&(b={},c[W]=b);let E=b[B];E===void 0&&(E=N.clone(),b[B]=E,A.addEventListener("dispose",T)),N=E}if(N.visible=A.visible,N.wireframe=A.wireframe,S===ca?N.side=A.shadowSide!==null?A.shadowSide:A.side:N.side=A.shadowSide!==null?A.shadowSide:d[A.side],N.alphaMap=A.alphaMap,N.alphaTest=A.alphaTest,N.map=A.map,N.clipShadows=A.clipShadows,N.clippingPlanes=A.clippingPlanes,N.clipIntersection=A.clipIntersection,N.displacementMap=A.displacementMap,N.displacementScale=A.displacementScale,N.displacementBias=A.displacementBias,N.wireframeLinewidth=A.wireframeLinewidth,N.linewidth=A.linewidth,z.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const W=t.properties.get(N);W.light=z}return N}function x(k,A,z,S,N){if(k.visible===!1)return;if(k.layers.test(A.layers)&&(k.isMesh||k.isLine||k.isPoints)&&(k.castShadow||k.receiveShadow&&N===ca)&&(!k.frustumCulled||r.intersectsObject(k))){k.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,k.matrixWorld);const B=e.update(k),b=k.material;if(Array.isArray(b)){const E=B.groups;for(let I=0,O=E.length;I<O;I++){const C=E[I],j=b[C.materialIndex];if(j&&j.visible){const H=w(k,j,S,N);k.onBeforeShadow(t,k,A,z,B,H,C),t.renderBufferDirect(z,null,B,H,k,C),k.onAfterShadow(t,k,A,z,B,H,C)}}}else if(b.visible){const E=w(k,b,S,N);k.onBeforeShadow(t,k,A,z,B,E,null),t.renderBufferDirect(z,null,B,E,k,null),k.onAfterShadow(t,k,A,z,B,E,null)}}const W=k.children;for(let B=0,b=W.length;B<b;B++)x(W[B],A,z,S,N)}function T(k){k.target.removeEventListener("dispose",T);for(const z in c){const S=c[z],N=k.target.uuid;N in S&&(S[N].dispose(),delete S[N])}}}const xEe={[H_]:W_,[V_]:K_,[$_]:Q_,[kf]:q_,[W_]:H_,[K_]:V_,[Q_]:$_,[q_]:kf};function EEe(t,e){function n(){let le=!1;const it=new Gn;let Ee=null;const Te=new Gn(0,0,0,0);return{setMask:function(tt){Ee!==tt&&!le&&(t.colorMask(tt,tt,tt,tt),Ee=tt)},setLocked:function(tt){le=tt},setClear:function(tt,He,lt,un,Ft){Ft===!0&&(tt*=un,He*=un,lt*=un),it.set(tt,He,lt,un),Te.equals(it)===!1&&(t.clearColor(tt,He,lt,un),Te.copy(it))},reset:function(){le=!1,Ee=null,Te.set(-1,0,0,0)}}}function r(){let le=!1,it=!1,Ee=null,Te=null,tt=null;return{setReversed:function(He){if(it!==He){const lt=e.get("EXT_clip_control");it?lt.clipControlEXT(lt.LOWER_LEFT_EXT,lt.ZERO_TO_ONE_EXT):lt.clipControlEXT(lt.LOWER_LEFT_EXT,lt.NEGATIVE_ONE_TO_ONE_EXT);const un=tt;tt=null,this.setClear(un)}it=He},getReversed:function(){return it},setTest:function(He){He?oe(t.DEPTH_TEST):Ae(t.DEPTH_TEST)},setMask:function(He){Ee!==He&&!le&&(t.depthMask(He),Ee=He)},setFunc:function(He){if(it&&(He=xEe[He]),Te!==He){switch(He){case H_:t.depthFunc(t.NEVER);break;case W_:t.depthFunc(t.ALWAYS);break;case V_:t.depthFunc(t.LESS);break;case kf:t.depthFunc(t.LEQUAL);break;case $_:t.depthFunc(t.EQUAL);break;case q_:t.depthFunc(t.GEQUAL);break;case K_:t.depthFunc(t.GREATER);break;case Q_:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Te=He}},setLocked:function(He){le=He},setClear:function(He){tt!==He&&(it&&(He=1-He),t.clearDepth(He),tt=He)},reset:function(){le=!1,Ee=null,Te=null,tt=null,it=!1}}}function i(){let le=!1,it=null,Ee=null,Te=null,tt=null,He=null,lt=null,un=null,Ft=null;return{setTest:function(Mt){le||(Mt?oe(t.STENCIL_TEST):Ae(t.STENCIL_TEST))},setMask:function(Mt){it!==Mt&&!le&&(t.stencilMask(Mt),it=Mt)},setFunc:function(Mt,lr,Kt){(Ee!==Mt||Te!==lr||tt!==Kt)&&(t.stencilFunc(Mt,lr,Kt),Ee=Mt,Te=lr,tt=Kt)},setOp:function(Mt,lr,Kt){(He!==Mt||lt!==lr||un!==Kt)&&(t.stencilOp(Mt,lr,Kt),He=Mt,lt=lr,un=Kt)},setLocked:function(Mt){le=Mt},setClear:function(Mt){Ft!==Mt&&(t.clearStencil(Mt),Ft=Mt)},reset:function(){le=!1,it=null,Ee=null,Te=null,tt=null,He=null,lt=null,un=null,Ft=null}}}const o=new n,s=new r,a=new i,l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,h=[],g=null,m=!1,y=null,p=null,v=null,w=null,x=null,T=null,k=null,A=new tn(0,0,0),z=0,S=!1,N=null,P=null,W=null,B=null,b=null;const E=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let I=!1,O=0;const C=t.getParameter(t.VERSION);C.indexOf("WebGL")!==-1?(O=parseFloat(/^WebGL (\d)/.exec(C)[1]),I=O>=1):C.indexOf("OpenGL ES")!==-1&&(O=parseFloat(/^OpenGL ES (\d)/.exec(C)[1]),I=O>=2);let j=null,H={};const D=t.getParameter(t.SCISSOR_BOX),M=t.getParameter(t.VIEWPORT),$=new Gn().fromArray(D),J=new Gn().fromArray(M);function Z(le,it,Ee,Te){const tt=new Uint8Array(4),He=t.createTexture();t.bindTexture(le,He),t.texParameteri(le,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(le,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let lt=0;lt<Ee;lt++)le===t.TEXTURE_3D||le===t.TEXTURE_2D_ARRAY?t.texImage3D(it,0,t.RGBA,1,1,Te,0,t.RGBA,t.UNSIGNED_BYTE,tt):t.texImage2D(it+lt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,tt);return He}const ce={};ce[t.TEXTURE_2D]=Z(t.TEXTURE_2D,t.TEXTURE_2D,1),ce[t.TEXTURE_CUBE_MAP]=Z(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ce[t.TEXTURE_2D_ARRAY]=Z(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ce[t.TEXTURE_3D]=Z(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),s.setClear(1),a.setClear(0),oe(t.DEPTH_TEST),s.setFunc(kf),ft(!1),ut(TN),oe(t.CULL_FACE),te(Ul);function oe(le){u[le]!==!0&&(t.enable(le),u[le]=!0)}function Ae(le){u[le]!==!1&&(t.disable(le),u[le]=!1)}function de(le,it){return d[le]!==it?(t.bindFramebuffer(le,it),d[le]=it,le===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=it),le===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=it),!0):!1}function Re(le,it){let Ee=h,Te=!1;if(le){Ee=f.get(it),Ee===void 0&&(Ee=[],f.set(it,Ee));const tt=le.textures;if(Ee.length!==tt.length||Ee[0]!==t.COLOR_ATTACHMENT0){for(let He=0,lt=tt.length;He<lt;He++)Ee[He]=t.COLOR_ATTACHMENT0+He;Ee.length=tt.length,Te=!0}}else Ee[0]!==t.BACK&&(Ee[0]=t.BACK,Te=!0);Te&&t.drawBuffers(Ee)}function ae(le){return g!==le?(t.useProgram(le),g=le,!0):!1}const we={[Cc]:t.FUNC_ADD,[Dye]:t.FUNC_SUBTRACT,[Uye]:t.FUNC_REVERSE_SUBTRACT};we[zye]=t.MIN,we[jye]=t.MAX;const Ve={[Gye]:t.ZERO,[Hye]:t.ONE,[Wye]:t.SRC_COLOR,[j_]:t.SRC_ALPHA,[Xye]:t.SRC_ALPHA_SATURATE,[Kye]:t.DST_COLOR,[$ye]:t.DST_ALPHA,[Vye]:t.ONE_MINUS_SRC_COLOR,[G_]:t.ONE_MINUS_SRC_ALPHA,[Qye]:t.ONE_MINUS_DST_COLOR,[qye]:t.ONE_MINUS_DST_ALPHA,[Yye]:t.CONSTANT_COLOR,[Jye]:t.ONE_MINUS_CONSTANT_COLOR,[Zye]:t.CONSTANT_ALPHA,[eve]:t.ONE_MINUS_CONSTANT_ALPHA};function te(le,it,Ee,Te,tt,He,lt,un,Ft,Mt){if(le===Ul){m===!0&&(Ae(t.BLEND),m=!1);return}if(m===!1&&(oe(t.BLEND),m=!0),le!==Lye){if(le!==y||Mt!==S){if((p!==Cc||x!==Cc)&&(t.blendEquation(t.FUNC_ADD),p=Cc,x=Cc),Mt)switch(le){case Qd:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case MN:t.blendFunc(t.ONE,t.ONE);break;case IN:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case RN:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case Qd:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case MN:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case IN:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case RN:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}v=null,w=null,T=null,k=null,A.set(0,0,0),z=0,y=le,S=Mt}return}tt=tt||it,He=He||Ee,lt=lt||Te,(it!==p||tt!==x)&&(t.blendEquationSeparate(we[it],we[tt]),p=it,x=tt),(Ee!==v||Te!==w||He!==T||lt!==k)&&(t.blendFuncSeparate(Ve[Ee],Ve[Te],Ve[He],Ve[lt]),v=Ee,w=Te,T=He,k=lt),(un.equals(A)===!1||Ft!==z)&&(t.blendColor(un.r,un.g,un.b,Ft),A.copy(un),z=Ft),y=le,S=!1}function Be(le,it){le.side===ba?Ae(t.CULL_FACE):oe(t.CULL_FACE);let Ee=le.side===zi;it&&(Ee=!Ee),ft(Ee),le.blending===Qd&&le.transparent===!1?te(Ul):te(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.blendColor,le.blendAlpha,le.premultipliedAlpha),s.setFunc(le.depthFunc),s.setTest(le.depthTest),s.setMask(le.depthWrite),o.setMask(le.colorWrite);const Te=le.stencilWrite;a.setTest(Te),Te&&(a.setMask(le.stencilWriteMask),a.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),a.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),kt(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?oe(t.SAMPLE_ALPHA_TO_COVERAGE):Ae(t.SAMPLE_ALPHA_TO_COVERAGE)}function ft(le){N!==le&&(le?t.frontFace(t.CW):t.frontFace(t.CCW),N=le)}function ut(le){le!==Fye?(oe(t.CULL_FACE),le!==P&&(le===TN?t.cullFace(t.BACK):le===Oye?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ae(t.CULL_FACE),P=le}function Je(le){le!==W&&(I&&t.lineWidth(le),W=le)}function kt(le,it,Ee){le?(oe(t.POLYGON_OFFSET_FILL),(B!==it||b!==Ee)&&(t.polygonOffset(it,Ee),B=it,b=Ee)):Ae(t.POLYGON_OFFSET_FILL)}function ot(le){le?oe(t.SCISSOR_TEST):Ae(t.SCISSOR_TEST)}function X(le){le===void 0&&(le=t.TEXTURE0+E-1),j!==le&&(t.activeTexture(le),j=le)}function V(le,it,Ee){Ee===void 0&&(j===null?Ee=t.TEXTURE0+E-1:Ee=j);let Te=H[Ee];Te===void 0&&(Te={type:void 0,texture:void 0},H[Ee]=Te),(Te.type!==le||Te.texture!==it)&&(j!==Ee&&(t.activeTexture(Ee),j=Ee),t.bindTexture(le,it||ce[le]),Te.type=le,Te.texture=it)}function fe(){const le=H[j];le!==void 0&&le.type!==void 0&&(t.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function _e(){try{t.compressedTexImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ie(){try{t.compressedTexImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ge(){try{t.texSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function G(){try{t.texSubImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function _(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function R(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Q(){try{t.texStorage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Y(){try{t.texStorage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ee(){try{t.texImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ne(){try{t.texImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ue(le){$.equals(le)===!1&&(t.scissor(le.x,le.y,le.z,le.w),$.copy(le))}function ke(le){J.equals(le)===!1&&(t.viewport(le.x,le.y,le.z,le.w),J.copy(le))}function qe(le,it){let Ee=c.get(it);Ee===void 0&&(Ee=new WeakMap,c.set(it,Ee));let Te=Ee.get(le);Te===void 0&&(Te=t.getUniformBlockIndex(it,le.name),Ee.set(le,Te))}function ht(le,it){const Te=c.get(it).get(le);l.get(it)!==Te&&(t.uniformBlockBinding(it,Te,le.__bindingPointIndex),l.set(it,Te))}function rt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},j=null,H={},d={},f=new WeakMap,h=[],g=null,m=!1,y=null,p=null,v=null,w=null,x=null,T=null,k=null,A=new tn(0,0,0),z=0,S=!1,N=null,P=null,W=null,B=null,b=null,$.set(0,0,t.canvas.width,t.canvas.height),J.set(0,0,t.canvas.width,t.canvas.height),o.reset(),s.reset(),a.reset()}return{buffers:{color:o,depth:s,stencil:a},enable:oe,disable:Ae,bindFramebuffer:de,drawBuffers:Re,useProgram:ae,setBlending:te,setMaterial:Be,setFlipSided:ft,setCullFace:ut,setLineWidth:Je,setPolygonOffset:kt,setScissorTest:ot,activeTexture:X,bindTexture:V,unbindTexture:fe,compressedTexImage2D:_e,compressedTexImage3D:Ie,texImage2D:ee,texImage3D:ne,updateUBOMapping:qe,uniformBlockBinding:ht,texStorage2D:Q,texStorage3D:Y,texSubImage2D:ge,texSubImage3D:G,compressedTexSubImage2D:_,compressedTexSubImage3D:R,scissor:Ue,viewport:ke,reset:rt}}function _k(t,e,n,r){const i=AEe(r);switch(n){case Tj:return t*e;case Ij:return t*e;case Rj:return t*e*2;case Pj:return t*e/i.components*i.byteLength;case Q5:return t*e/i.components*i.byteLength;case Nj:return t*e*2/i.components*i.byteLength;case X5:return t*e*2/i.components*i.byteLength;case Mj:return t*e*3/i.components*i.byteLength;case os:return t*e*4/i.components*i.byteLength;case Y5:return t*e*4/i.components*i.byteLength;case Dy:case Uy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case zy:case jy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case tS:case rS:return Math.max(t,16)*Math.max(e,8)/4;case eS:case nS:return Math.max(t,8)*Math.max(e,8)/2;case iS:case oS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case sS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case aS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case lS:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case cS:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case uS:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case dS:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case fS:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case hS:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case pS:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case mS:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case gS:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case yS:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case vS:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case wS:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case bS:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Gy:case xS:case ES:return Math.ceil(t/4)*Math.ceil(e/4)*16;case kj:case AS:return Math.ceil(t/4)*Math.ceil(e/4)*8;case _S:case SS:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function AEe(t){switch(t){case Ha:case _j:return{byteLength:1,components:1};case km:case Sj:case w0:return{byteLength:2,components:1};case q5:case K5:return{byteLength:2,components:4};case _u:case $5:case Ca:return{byteLength:4,components:1};case Cj:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}function _Ee(t,e,n,r,i,o,s){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new sn,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(X,V){return h?new OffscreenCanvas(X,V):Fm("canvas")}function m(X,V,fe){let _e=1;const Ie=ot(X);if((Ie.width>fe||Ie.height>fe)&&(_e=fe/Math.max(Ie.width,Ie.height)),_e<1)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap||typeof VideoFrame<"u"&&X instanceof VideoFrame){const ge=Math.floor(_e*Ie.width),G=Math.floor(_e*Ie.height);d===void 0&&(d=g(ge,G));const _=V?g(ge,G):d;return _.width=ge,_.height=G,_.getContext("2d").drawImage(X,0,0,ge,G),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ie.width+"x"+Ie.height+") to ("+ge+"x"+G+")."),_}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ie.width+"x"+Ie.height+")."),X;return X}function y(X){return X.generateMipmaps}function p(X){t.generateMipmap(X)}function v(X){return X.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:X.isWebGL3DRenderTarget?t.TEXTURE_3D:X.isWebGLArrayRenderTarget||X.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function w(X,V,fe,_e,Ie=!1){if(X!==null){if(t[X]!==void 0)return t[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let ge=V;if(V===t.RED&&(fe===t.FLOAT&&(ge=t.R32F),fe===t.HALF_FLOAT&&(ge=t.R16F),fe===t.UNSIGNED_BYTE&&(ge=t.R8)),V===t.RED_INTEGER&&(fe===t.UNSIGNED_BYTE&&(ge=t.R8UI),fe===t.UNSIGNED_SHORT&&(ge=t.R16UI),fe===t.UNSIGNED_INT&&(ge=t.R32UI),fe===t.BYTE&&(ge=t.R8I),fe===t.SHORT&&(ge=t.R16I),fe===t.INT&&(ge=t.R32I)),V===t.RG&&(fe===t.FLOAT&&(ge=t.RG32F),fe===t.HALF_FLOAT&&(ge=t.RG16F),fe===t.UNSIGNED_BYTE&&(ge=t.RG8)),V===t.RG_INTEGER&&(fe===t.UNSIGNED_BYTE&&(ge=t.RG8UI),fe===t.UNSIGNED_SHORT&&(ge=t.RG16UI),fe===t.UNSIGNED_INT&&(ge=t.RG32UI),fe===t.BYTE&&(ge=t.RG8I),fe===t.SHORT&&(ge=t.RG16I),fe===t.INT&&(ge=t.RG32I)),V===t.RGB_INTEGER&&(fe===t.UNSIGNED_BYTE&&(ge=t.RGB8UI),fe===t.UNSIGNED_SHORT&&(ge=t.RGB16UI),fe===t.UNSIGNED_INT&&(ge=t.RGB32UI),fe===t.BYTE&&(ge=t.RGB8I),fe===t.SHORT&&(ge=t.RGB16I),fe===t.INT&&(ge=t.RGB32I)),V===t.RGBA_INTEGER&&(fe===t.UNSIGNED_BYTE&&(ge=t.RGBA8UI),fe===t.UNSIGNED_SHORT&&(ge=t.RGBA16UI),fe===t.UNSIGNED_INT&&(ge=t.RGBA32UI),fe===t.BYTE&&(ge=t.RGBA8I),fe===t.SHORT&&(ge=t.RGBA16I),fe===t.INT&&(ge=t.RGBA32I)),V===t.RGB&&fe===t.UNSIGNED_INT_5_9_9_9_REV&&(ge=t.RGB9_E5),V===t.RGBA){const G=Ie?lb:Jt.getTransfer(_e);fe===t.FLOAT&&(ge=t.RGBA32F),fe===t.HALF_FLOAT&&(ge=t.RGBA16F),fe===t.UNSIGNED_BYTE&&(ge=G===pn?t.SRGB8_ALPHA8:t.RGBA8),fe===t.UNSIGNED_SHORT_4_4_4_4&&(ge=t.RGBA4),fe===t.UNSIGNED_SHORT_5_5_5_1&&(ge=t.RGB5_A1)}return(ge===t.R16F||ge===t.R32F||ge===t.RG16F||ge===t.RG32F||ge===t.RGBA16F||ge===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ge}function x(X,V){let fe;return X?V===null||V===_u||V===Bf?fe=t.DEPTH24_STENCIL8:V===Ca?fe=t.DEPTH32F_STENCIL8:V===km&&(fe=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):V===null||V===_u||V===Bf?fe=t.DEPTH_COMPONENT24:V===Ca?fe=t.DEPTH_COMPONENT32F:V===km&&(fe=t.DEPTH_COMPONENT16),fe}function T(X,V){return y(X)===!0||X.isFramebufferTexture&&X.minFilter!==fs&&X.minFilter!==Pi?Math.log2(Math.max(V.width,V.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?V.mipmaps.length:1}function k(X){const V=X.target;V.removeEventListener("dispose",k),z(V),V.isVideoTexture&&u.delete(V)}function A(X){const V=X.target;V.removeEventListener("dispose",A),N(V)}function z(X){const V=r.get(X);if(V.__webglInit===void 0)return;const fe=X.source,_e=f.get(fe);if(_e){const Ie=_e[V.__cacheKey];Ie.usedTimes--,Ie.usedTimes===0&&S(X),Object.keys(_e).length===0&&f.delete(fe)}r.remove(X)}function S(X){const V=r.get(X);t.deleteTexture(V.__webglTexture);const fe=X.source,_e=f.get(fe);delete _e[V.__cacheKey],s.memory.textures--}function N(X){const V=r.get(X);if(X.depthTexture&&(X.depthTexture.dispose(),r.remove(X.depthTexture)),X.isWebGLCubeRenderTarget)for(let _e=0;_e<6;_e++){if(Array.isArray(V.__webglFramebuffer[_e]))for(let Ie=0;Ie<V.__webglFramebuffer[_e].length;Ie++)t.deleteFramebuffer(V.__webglFramebuffer[_e][Ie]);else t.deleteFramebuffer(V.__webglFramebuffer[_e]);V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer[_e])}else{if(Array.isArray(V.__webglFramebuffer))for(let _e=0;_e<V.__webglFramebuffer.length;_e++)t.deleteFramebuffer(V.__webglFramebuffer[_e]);else t.deleteFramebuffer(V.__webglFramebuffer);if(V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&t.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let _e=0;_e<V.__webglColorRenderbuffer.length;_e++)V.__webglColorRenderbuffer[_e]&&t.deleteRenderbuffer(V.__webglColorRenderbuffer[_e]);V.__webglDepthRenderbuffer&&t.deleteRenderbuffer(V.__webglDepthRenderbuffer)}const fe=X.textures;for(let _e=0,Ie=fe.length;_e<Ie;_e++){const ge=r.get(fe[_e]);ge.__webglTexture&&(t.deleteTexture(ge.__webglTexture),s.memory.textures--),r.remove(fe[_e])}r.remove(X)}let P=0;function W(){P=0}function B(){const X=P;return X>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+i.maxTextures),P+=1,X}function b(X){const V=[];return V.push(X.wrapS),V.push(X.wrapT),V.push(X.wrapR||0),V.push(X.magFilter),V.push(X.minFilter),V.push(X.anisotropy),V.push(X.internalFormat),V.push(X.format),V.push(X.type),V.push(X.generateMipmaps),V.push(X.premultiplyAlpha),V.push(X.flipY),V.push(X.unpackAlignment),V.push(X.colorSpace),V.join()}function E(X,V){const fe=r.get(X);if(X.isVideoTexture&&Je(X),X.isRenderTargetTexture===!1&&X.version>0&&fe.__version!==X.version){const _e=X.image;if(_e===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(_e.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{J(fe,X,V);return}}n.bindTexture(t.TEXTURE_2D,fe.__webglTexture,t.TEXTURE0+V)}function I(X,V){const fe=r.get(X);if(X.version>0&&fe.__version!==X.version){J(fe,X,V);return}n.bindTexture(t.TEXTURE_2D_ARRAY,fe.__webglTexture,t.TEXTURE0+V)}function O(X,V){const fe=r.get(X);if(X.version>0&&fe.__version!==X.version){J(fe,X,V);return}n.bindTexture(t.TEXTURE_3D,fe.__webglTexture,t.TEXTURE0+V)}function C(X,V){const fe=r.get(X);if(X.version>0&&fe.__version!==X.version){Z(fe,X,V);return}n.bindTexture(t.TEXTURE_CUBE_MAP,fe.__webglTexture,t.TEXTURE0+V)}const j={[J_]:t.REPEAT,[Hc]:t.CLAMP_TO_EDGE,[Z_]:t.MIRRORED_REPEAT},H={[fs]:t.NEAREST,[uve]:t.NEAREST_MIPMAP_NEAREST,[wg]:t.NEAREST_MIPMAP_LINEAR,[Pi]:t.LINEAR,[sE]:t.LINEAR_MIPMAP_NEAREST,[Wc]:t.LINEAR_MIPMAP_LINEAR},D={[pve]:t.NEVER,[bve]:t.ALWAYS,[mve]:t.LESS,[Oj]:t.LEQUAL,[gve]:t.EQUAL,[wve]:t.GEQUAL,[yve]:t.GREATER,[vve]:t.NOTEQUAL};function M(X,V){if(V.type===Ca&&e.has("OES_texture_float_linear")===!1&&(V.magFilter===Pi||V.magFilter===sE||V.magFilter===wg||V.magFilter===Wc||V.minFilter===Pi||V.minFilter===sE||V.minFilter===wg||V.minFilter===Wc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(X,t.TEXTURE_WRAP_S,j[V.wrapS]),t.texParameteri(X,t.TEXTURE_WRAP_T,j[V.wrapT]),(X===t.TEXTURE_3D||X===t.TEXTURE_2D_ARRAY)&&t.texParameteri(X,t.TEXTURE_WRAP_R,j[V.wrapR]),t.texParameteri(X,t.TEXTURE_MAG_FILTER,H[V.magFilter]),t.texParameteri(X,t.TEXTURE_MIN_FILTER,H[V.minFilter]),V.compareFunction&&(t.texParameteri(X,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(X,t.TEXTURE_COMPARE_FUNC,D[V.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(V.magFilter===fs||V.minFilter!==wg&&V.minFilter!==Wc||V.type===Ca&&e.has("OES_texture_float_linear")===!1)return;if(V.anisotropy>1||r.get(V).__currentAnisotropy){const fe=e.get("EXT_texture_filter_anisotropic");t.texParameterf(X,fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,i.getMaxAnisotropy())),r.get(V).__currentAnisotropy=V.anisotropy}}}function $(X,V){let fe=!1;X.__webglInit===void 0&&(X.__webglInit=!0,V.addEventListener("dispose",k));const _e=V.source;let Ie=f.get(_e);Ie===void 0&&(Ie={},f.set(_e,Ie));const ge=b(V);if(ge!==X.__cacheKey){Ie[ge]===void 0&&(Ie[ge]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,fe=!0),Ie[ge].usedTimes++;const G=Ie[X.__cacheKey];G!==void 0&&(Ie[X.__cacheKey].usedTimes--,G.usedTimes===0&&S(V)),X.__cacheKey=ge,X.__webglTexture=Ie[ge].texture}return fe}function J(X,V,fe){let _e=t.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(_e=t.TEXTURE_2D_ARRAY),V.isData3DTexture&&(_e=t.TEXTURE_3D);const Ie=$(X,V),ge=V.source;n.bindTexture(_e,X.__webglTexture,t.TEXTURE0+fe);const G=r.get(ge);if(ge.version!==G.__version||Ie===!0){n.activeTexture(t.TEXTURE0+fe);const _=Jt.getPrimaries(Jt.workingColorSpace),R=V.colorSpace===xl?null:Jt.getPrimaries(V.colorSpace),Q=V.colorSpace===xl||_===R?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,V.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,V.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Q);let Y=m(V.image,!1,i.maxTextureSize);Y=kt(V,Y);const ee=o.convert(V.format,V.colorSpace),ne=o.convert(V.type);let Ue=w(V.internalFormat,ee,ne,V.colorSpace,V.isVideoTexture);M(_e,V);let ke;const qe=V.mipmaps,ht=V.isVideoTexture!==!0,rt=G.__version===void 0||Ie===!0,le=ge.dataReady,it=T(V,Y);if(V.isDepthTexture)Ue=x(V.format===Lf,V.type),rt&&(ht?n.texStorage2D(t.TEXTURE_2D,1,Ue,Y.width,Y.height):n.texImage2D(t.TEXTURE_2D,0,Ue,Y.width,Y.height,0,ee,ne,null));else if(V.isDataTexture)if(qe.length>0){ht&&rt&&n.texStorage2D(t.TEXTURE_2D,it,Ue,qe[0].width,qe[0].height);for(let Ee=0,Te=qe.length;Ee<Te;Ee++)ke=qe[Ee],ht?le&&n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,ke.width,ke.height,ee,ne,ke.data):n.texImage2D(t.TEXTURE_2D,Ee,Ue,ke.width,ke.height,0,ee,ne,ke.data);V.generateMipmaps=!1}else ht?(rt&&n.texStorage2D(t.TEXTURE_2D,it,Ue,Y.width,Y.height),le&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Y.width,Y.height,ee,ne,Y.data)):n.texImage2D(t.TEXTURE_2D,0,Ue,Y.width,Y.height,0,ee,ne,Y.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){ht&&rt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,it,Ue,qe[0].width,qe[0].height,Y.depth);for(let Ee=0,Te=qe.length;Ee<Te;Ee++)if(ke=qe[Ee],V.format!==os)if(ee!==null)if(ht){if(le)if(V.layerUpdates.size>0){const tt=_k(ke.width,ke.height,V.format,V.type);for(const He of V.layerUpdates){const lt=ke.data.subarray(He*tt/ke.data.BYTES_PER_ELEMENT,(He+1)*tt/ke.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,He,ke.width,ke.height,1,ee,lt)}V.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,0,ke.width,ke.height,Y.depth,ee,ke.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ee,Ue,ke.width,ke.height,Y.depth,0,ke.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ht?le&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,0,ke.width,ke.height,Y.depth,ee,ne,ke.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ee,Ue,ke.width,ke.height,Y.depth,0,ee,ne,ke.data)}else{ht&&rt&&n.texStorage2D(t.TEXTURE_2D,it,Ue,qe[0].width,qe[0].height);for(let Ee=0,Te=qe.length;Ee<Te;Ee++)ke=qe[Ee],V.format!==os?ee!==null?ht?le&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ee,0,0,ke.width,ke.height,ee,ke.data):n.compressedTexImage2D(t.TEXTURE_2D,Ee,Ue,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ht?le&&n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,ke.width,ke.height,ee,ne,ke.data):n.texImage2D(t.TEXTURE_2D,Ee,Ue,ke.width,ke.height,0,ee,ne,ke.data)}else if(V.isDataArrayTexture)if(ht){if(rt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,it,Ue,Y.width,Y.height,Y.depth),le)if(V.layerUpdates.size>0){const Ee=_k(Y.width,Y.height,V.format,V.type);for(const Te of V.layerUpdates){const tt=Y.data.subarray(Te*Ee/Y.data.BYTES_PER_ELEMENT,(Te+1)*Ee/Y.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Te,Y.width,Y.height,1,ee,ne,tt)}V.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Y.width,Y.height,Y.depth,ee,ne,Y.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ue,Y.width,Y.height,Y.depth,0,ee,ne,Y.data);else if(V.isData3DTexture)ht?(rt&&n.texStorage3D(t.TEXTURE_3D,it,Ue,Y.width,Y.height,Y.depth),le&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Y.width,Y.height,Y.depth,ee,ne,Y.data)):n.texImage3D(t.TEXTURE_3D,0,Ue,Y.width,Y.height,Y.depth,0,ee,ne,Y.data);else if(V.isFramebufferTexture){if(rt)if(ht)n.texStorage2D(t.TEXTURE_2D,it,Ue,Y.width,Y.height);else{let Ee=Y.width,Te=Y.height;for(let tt=0;tt<it;tt++)n.texImage2D(t.TEXTURE_2D,tt,Ue,Ee,Te,0,ee,ne,null),Ee>>=1,Te>>=1}}else if(qe.length>0){if(ht&&rt){const Ee=ot(qe[0]);n.texStorage2D(t.TEXTURE_2D,it,Ue,Ee.width,Ee.height)}for(let Ee=0,Te=qe.length;Ee<Te;Ee++)ke=qe[Ee],ht?le&&n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,ee,ne,ke):n.texImage2D(t.TEXTURE_2D,Ee,Ue,ee,ne,ke);V.generateMipmaps=!1}else if(ht){if(rt){const Ee=ot(Y);n.texStorage2D(t.TEXTURE_2D,it,Ue,Ee.width,Ee.height)}le&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ee,ne,Y)}else n.texImage2D(t.TEXTURE_2D,0,Ue,ee,ne,Y);y(V)&&p(_e),G.__version=ge.version,V.onUpdate&&V.onUpdate(V)}X.__version=V.version}function Z(X,V,fe){if(V.image.length!==6)return;const _e=$(X,V),Ie=V.source;n.bindTexture(t.TEXTURE_CUBE_MAP,X.__webglTexture,t.TEXTURE0+fe);const ge=r.get(Ie);if(Ie.version!==ge.__version||_e===!0){n.activeTexture(t.TEXTURE0+fe);const G=Jt.getPrimaries(Jt.workingColorSpace),_=V.colorSpace===xl?null:Jt.getPrimaries(V.colorSpace),R=V.colorSpace===xl||G===_?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,V.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,V.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,R);const Q=V.isCompressedTexture||V.image[0].isCompressedTexture,Y=V.image[0]&&V.image[0].isDataTexture,ee=[];for(let Te=0;Te<6;Te++)!Q&&!Y?ee[Te]=m(V.image[Te],!0,i.maxCubemapSize):ee[Te]=Y?V.image[Te].image:V.image[Te],ee[Te]=kt(V,ee[Te]);const ne=ee[0],Ue=o.convert(V.format,V.colorSpace),ke=o.convert(V.type),qe=w(V.internalFormat,Ue,ke,V.colorSpace),ht=V.isVideoTexture!==!0,rt=ge.__version===void 0||_e===!0,le=Ie.dataReady;let it=T(V,ne);M(t.TEXTURE_CUBE_MAP,V);let Ee;if(Q){ht&&rt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,it,qe,ne.width,ne.height);for(let Te=0;Te<6;Te++){Ee=ee[Te].mipmaps;for(let tt=0;tt<Ee.length;tt++){const He=Ee[tt];V.format!==os?Ue!==null?ht?le&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,tt,0,0,He.width,He.height,Ue,He.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,tt,qe,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ht?le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,tt,0,0,He.width,He.height,Ue,ke,He.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,tt,qe,He.width,He.height,0,Ue,ke,He.data)}}}else{if(Ee=V.mipmaps,ht&&rt){Ee.length>0&&it++;const Te=ot(ee[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,it,qe,Te.width,Te.height)}for(let Te=0;Te<6;Te++)if(Y){ht?le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,ee[Te].width,ee[Te].height,Ue,ke,ee[Te].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,qe,ee[Te].width,ee[Te].height,0,Ue,ke,ee[Te].data);for(let tt=0;tt<Ee.length;tt++){const lt=Ee[tt].image[Te].image;ht?le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,tt+1,0,0,lt.width,lt.height,Ue,ke,lt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,tt+1,qe,lt.width,lt.height,0,Ue,ke,lt.data)}}else{ht?le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,Ue,ke,ee[Te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,qe,Ue,ke,ee[Te]);for(let tt=0;tt<Ee.length;tt++){const He=Ee[tt];ht?le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,tt+1,0,0,Ue,ke,He.image[Te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,tt+1,qe,Ue,ke,He.image[Te])}}}y(V)&&p(t.TEXTURE_CUBE_MAP),ge.__version=Ie.version,V.onUpdate&&V.onUpdate(V)}X.__version=V.version}function ce(X,V,fe,_e,Ie,ge){const G=o.convert(fe.format,fe.colorSpace),_=o.convert(fe.type),R=w(fe.internalFormat,G,_,fe.colorSpace),Q=r.get(V),Y=r.get(fe);if(Y.__renderTarget=V,!Q.__hasExternalTextures){const ee=Math.max(1,V.width>>ge),ne=Math.max(1,V.height>>ge);Ie===t.TEXTURE_3D||Ie===t.TEXTURE_2D_ARRAY?n.texImage3D(Ie,ge,R,ee,ne,V.depth,0,G,_,null):n.texImage2D(Ie,ge,R,ee,ne,0,G,_,null)}n.bindFramebuffer(t.FRAMEBUFFER,X),ut(V)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,_e,Ie,Y.__webglTexture,0,ft(V)):(Ie===t.TEXTURE_2D||Ie>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ie<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,_e,Ie,Y.__webglTexture,ge),n.bindFramebuffer(t.FRAMEBUFFER,null)}function oe(X,V,fe){if(t.bindRenderbuffer(t.RENDERBUFFER,X),V.depthBuffer){const _e=V.depthTexture,Ie=_e&&_e.isDepthTexture?_e.type:null,ge=x(V.stencilBuffer,Ie),G=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,_=ft(V);ut(V)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,_,ge,V.width,V.height):fe?t.renderbufferStorageMultisample(t.RENDERBUFFER,_,ge,V.width,V.height):t.renderbufferStorage(t.RENDERBUFFER,ge,V.width,V.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,G,t.RENDERBUFFER,X)}else{const _e=V.textures;for(let Ie=0;Ie<_e.length;Ie++){const ge=_e[Ie],G=o.convert(ge.format,ge.colorSpace),_=o.convert(ge.type),R=w(ge.internalFormat,G,_,ge.colorSpace),Q=ft(V);fe&&ut(V)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Q,R,V.width,V.height):ut(V)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Q,R,V.width,V.height):t.renderbufferStorage(t.RENDERBUFFER,R,V.width,V.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ae(X,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,X),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const _e=r.get(V.depthTexture);_e.__renderTarget=V,(!_e.__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),E(V.depthTexture,0);const Ie=_e.__webglTexture,ge=ft(V);if(V.depthTexture.format===Xd)ut(V)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ie,0,ge):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ie,0);else if(V.depthTexture.format===Lf)ut(V)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ie,0,ge):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ie,0);else throw new Error("Unknown depthTexture format")}function de(X){const V=r.get(X),fe=X.isWebGLCubeRenderTarget===!0;if(V.__boundDepthTexture!==X.depthTexture){const _e=X.depthTexture;if(V.__depthDisposeCallback&&V.__depthDisposeCallback(),_e){const Ie=()=>{delete V.__boundDepthTexture,delete V.__depthDisposeCallback,_e.removeEventListener("dispose",Ie)};_e.addEventListener("dispose",Ie),V.__depthDisposeCallback=Ie}V.__boundDepthTexture=_e}if(X.depthTexture&&!V.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");Ae(V.__webglFramebuffer,X)}else if(fe){V.__webglDepthbuffer=[];for(let _e=0;_e<6;_e++)if(n.bindFramebuffer(t.FRAMEBUFFER,V.__webglFramebuffer[_e]),V.__webglDepthbuffer[_e]===void 0)V.__webglDepthbuffer[_e]=t.createRenderbuffer(),oe(V.__webglDepthbuffer[_e],X,!1);else{const Ie=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ge=V.__webglDepthbuffer[_e];t.bindRenderbuffer(t.RENDERBUFFER,ge),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ie,t.RENDERBUFFER,ge)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer===void 0)V.__webglDepthbuffer=t.createRenderbuffer(),oe(V.__webglDepthbuffer,X,!1);else{const _e=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ie=V.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Ie),t.framebufferRenderbuffer(t.FRAMEBUFFER,_e,t.RENDERBUFFER,Ie)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Re(X,V,fe){const _e=r.get(X);V!==void 0&&ce(_e.__webglFramebuffer,X,X.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),fe!==void 0&&de(X)}function ae(X){const V=X.texture,fe=r.get(X),_e=r.get(V);X.addEventListener("dispose",A);const Ie=X.textures,ge=X.isWebGLCubeRenderTarget===!0,G=Ie.length>1;if(G||(_e.__webglTexture===void 0&&(_e.__webglTexture=t.createTexture()),_e.__version=V.version,s.memory.textures++),ge){fe.__webglFramebuffer=[];for(let _=0;_<6;_++)if(V.mipmaps&&V.mipmaps.length>0){fe.__webglFramebuffer[_]=[];for(let R=0;R<V.mipmaps.length;R++)fe.__webglFramebuffer[_][R]=t.createFramebuffer()}else fe.__webglFramebuffer[_]=t.createFramebuffer()}else{if(V.mipmaps&&V.mipmaps.length>0){fe.__webglFramebuffer=[];for(let _=0;_<V.mipmaps.length;_++)fe.__webglFramebuffer[_]=t.createFramebuffer()}else fe.__webglFramebuffer=t.createFramebuffer();if(G)for(let _=0,R=Ie.length;_<R;_++){const Q=r.get(Ie[_]);Q.__webglTexture===void 0&&(Q.__webglTexture=t.createTexture(),s.memory.textures++)}if(X.samples>0&&ut(X)===!1){fe.__webglMultisampledFramebuffer=t.createFramebuffer(),fe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,fe.__webglMultisampledFramebuffer);for(let _=0;_<Ie.length;_++){const R=Ie[_];fe.__webglColorRenderbuffer[_]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,fe.__webglColorRenderbuffer[_]);const Q=o.convert(R.format,R.colorSpace),Y=o.convert(R.type),ee=w(R.internalFormat,Q,Y,R.colorSpace,X.isXRRenderTarget===!0),ne=ft(X);t.renderbufferStorageMultisample(t.RENDERBUFFER,ne,ee,X.width,X.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+_,t.RENDERBUFFER,fe.__webglColorRenderbuffer[_])}t.bindRenderbuffer(t.RENDERBUFFER,null),X.depthBuffer&&(fe.__webglDepthRenderbuffer=t.createRenderbuffer(),oe(fe.__webglDepthRenderbuffer,X,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ge){n.bindTexture(t.TEXTURE_CUBE_MAP,_e.__webglTexture),M(t.TEXTURE_CUBE_MAP,V);for(let _=0;_<6;_++)if(V.mipmaps&&V.mipmaps.length>0)for(let R=0;R<V.mipmaps.length;R++)ce(fe.__webglFramebuffer[_][R],X,V,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+_,R);else ce(fe.__webglFramebuffer[_],X,V,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+_,0);y(V)&&p(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(G){for(let _=0,R=Ie.length;_<R;_++){const Q=Ie[_],Y=r.get(Q);n.bindTexture(t.TEXTURE_2D,Y.__webglTexture),M(t.TEXTURE_2D,Q),ce(fe.__webglFramebuffer,X,Q,t.COLOR_ATTACHMENT0+_,t.TEXTURE_2D,0),y(Q)&&p(t.TEXTURE_2D)}n.unbindTexture()}else{let _=t.TEXTURE_2D;if((X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(_=X.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(_,_e.__webglTexture),M(_,V),V.mipmaps&&V.mipmaps.length>0)for(let R=0;R<V.mipmaps.length;R++)ce(fe.__webglFramebuffer[R],X,V,t.COLOR_ATTACHMENT0,_,R);else ce(fe.__webglFramebuffer,X,V,t.COLOR_ATTACHMENT0,_,0);y(V)&&p(_),n.unbindTexture()}X.depthBuffer&&de(X)}function we(X){const V=X.textures;for(let fe=0,_e=V.length;fe<_e;fe++){const Ie=V[fe];if(y(Ie)){const ge=v(X),G=r.get(Ie).__webglTexture;n.bindTexture(ge,G),p(ge),n.unbindTexture()}}}const Ve=[],te=[];function Be(X){if(X.samples>0){if(ut(X)===!1){const V=X.textures,fe=X.width,_e=X.height;let Ie=t.COLOR_BUFFER_BIT;const ge=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,G=r.get(X),_=V.length>1;if(_)for(let R=0;R<V.length;R++)n.bindFramebuffer(t.FRAMEBUFFER,G.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+R,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+R,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,G.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,G.__webglFramebuffer);for(let R=0;R<V.length;R++){if(X.resolveDepthBuffer&&(X.depthBuffer&&(Ie|=t.DEPTH_BUFFER_BIT),X.stencilBuffer&&X.resolveStencilBuffer&&(Ie|=t.STENCIL_BUFFER_BIT)),_){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,G.__webglColorRenderbuffer[R]);const Q=r.get(V[R]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Q,0)}t.blitFramebuffer(0,0,fe,_e,0,0,fe,_e,Ie,t.NEAREST),l===!0&&(Ve.length=0,te.length=0,Ve.push(t.COLOR_ATTACHMENT0+R),X.depthBuffer&&X.resolveDepthBuffer===!1&&(Ve.push(ge),te.push(ge),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,te)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ve))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),_)for(let R=0;R<V.length;R++){n.bindFramebuffer(t.FRAMEBUFFER,G.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+R,t.RENDERBUFFER,G.__webglColorRenderbuffer[R]);const Q=r.get(V[R]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+R,t.TEXTURE_2D,Q,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,G.__webglMultisampledFramebuffer)}else if(X.depthBuffer&&X.resolveDepthBuffer===!1&&l){const V=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[V])}}}function ft(X){return Math.min(i.maxSamples,X.samples)}function ut(X){const V=r.get(X);return X.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function Je(X){const V=s.render.frame;u.get(X)!==V&&(u.set(X,V),X.update())}function kt(X,V){const fe=X.colorSpace,_e=X.format,Ie=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||fe!==lh&&fe!==xl&&(Jt.getTransfer(fe)===pn?(_e!==os||Ie!==Ha)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",fe)),V}function ot(X){return typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement?(c.width=X.naturalWidth||X.width,c.height=X.naturalHeight||X.height):typeof VideoFrame<"u"&&X instanceof VideoFrame?(c.width=X.displayWidth,c.height=X.displayHeight):(c.width=X.width,c.height=X.height),c}this.allocateTextureUnit=B,this.resetTextureUnits=W,this.setTexture2D=E,this.setTexture2DArray=I,this.setTexture3D=O,this.setTextureCube=C,this.rebindTextures=Re,this.setupRenderTarget=ae,this.updateRenderTargetMipmap=we,this.updateMultisampleRenderTarget=Be,this.setupDepthRenderbuffer=de,this.setupFrameBufferTexture=ce,this.useMultisampledRTT=ut}function SEe(t,e){function n(r,i=xl){let o;const s=Jt.getTransfer(i);if(r===Ha)return t.UNSIGNED_BYTE;if(r===q5)return t.UNSIGNED_SHORT_4_4_4_4;if(r===K5)return t.UNSIGNED_SHORT_5_5_5_1;if(r===Cj)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===_j)return t.BYTE;if(r===Sj)return t.SHORT;if(r===km)return t.UNSIGNED_SHORT;if(r===$5)return t.INT;if(r===_u)return t.UNSIGNED_INT;if(r===Ca)return t.FLOAT;if(r===w0)return t.HALF_FLOAT;if(r===Tj)return t.ALPHA;if(r===Mj)return t.RGB;if(r===os)return t.RGBA;if(r===Ij)return t.LUMINANCE;if(r===Rj)return t.LUMINANCE_ALPHA;if(r===Xd)return t.DEPTH_COMPONENT;if(r===Lf)return t.DEPTH_STENCIL;if(r===Pj)return t.RED;if(r===Q5)return t.RED_INTEGER;if(r===Nj)return t.RG;if(r===X5)return t.RG_INTEGER;if(r===Y5)return t.RGBA_INTEGER;if(r===Dy||r===Uy||r===zy||r===jy)if(s===pn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===Dy)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Uy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===zy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===jy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===Dy)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Uy)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===zy)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===jy)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===eS||r===tS||r===nS||r===rS)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===eS)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===tS)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===nS)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===rS)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===iS||r===oS||r===sS)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===iS||r===oS)return s===pn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===sS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===aS||r===lS||r===cS||r===uS||r===dS||r===fS||r===hS||r===pS||r===mS||r===gS||r===yS||r===vS||r===wS||r===bS)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===aS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===lS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===cS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===uS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===dS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===fS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===hS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===pS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===mS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===gS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===yS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===vS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===wS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===bS)return s===pn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Gy||r===xS||r===ES)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===Gy)return s===pn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===xS)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===ES)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===kj||r===AS||r===_S||r===SS)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===Gy)return o.COMPRESSED_RED_RGTC1_EXT;if(r===AS)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===_S)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===SS)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Bf?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class CEe extends Zi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class zg extends Zr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const TEe={type:"move"};class OE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new zg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new zg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Se,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Se),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new zg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Se,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Se),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,s=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const m of e.hand.values()){const y=n.getJointPose(m,r),p=this._getHandJoint(c,m);y!==null&&(p.matrix.fromArray(y.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=y.radius),p.visible=y!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,g=.005;c.inputState.pinching&&f>h+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(TEe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new zg;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const MEe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,IEe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class REe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Jr,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Ql({vertexShader:MEe,fragmentShader:IEe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new ss(new cb(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class PEe extends ch{constructor(e,n){super();const r=this;let i=null,o=1,s=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,g=null;const m=new REe,y=n.getContextAttributes();let p=null,v=null;const w=[],x=[],T=new sn;let k=null;const A=new Zi;A.viewport=new Gn;const z=new Zi;z.viewport=new Gn;const S=[A,z],N=new CEe;let P=null,W=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let Z=w[J];return Z===void 0&&(Z=new OE,w[J]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(J){let Z=w[J];return Z===void 0&&(Z=new OE,w[J]=Z),Z.getGripSpace()},this.getHand=function(J){let Z=w[J];return Z===void 0&&(Z=new OE,w[J]=Z),Z.getHandSpace()};function B(J){const Z=x.indexOf(J.inputSource);if(Z===-1)return;const ce=w[Z];ce!==void 0&&(ce.update(J.inputSource,J.frame,c||s),ce.dispatchEvent({type:J.type,data:J.inputSource}))}function b(){i.removeEventListener("select",B),i.removeEventListener("selectstart",B),i.removeEventListener("selectend",B),i.removeEventListener("squeeze",B),i.removeEventListener("squeezestart",B),i.removeEventListener("squeezeend",B),i.removeEventListener("end",b),i.removeEventListener("inputsourceschange",E);for(let J=0;J<w.length;J++){const Z=x[J];Z!==null&&(x[J]=null,w[J].disconnect(Z))}P=null,W=null,m.reset(),e.setRenderTarget(p),h=null,f=null,d=null,i=null,v=null,$.stop(),r.isPresenting=!1,e.setPixelRatio(k),e.setSize(T.width,T.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){o=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){a=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(J){c=J},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(J){if(i=J,i!==null){if(p=e.getRenderTarget(),i.addEventListener("select",B),i.addEventListener("selectstart",B),i.addEventListener("selectend",B),i.addEventListener("squeeze",B),i.addEventListener("squeezestart",B),i.addEventListener("squeezeend",B),i.addEventListener("end",b),i.addEventListener("inputsourceschange",E),y.xrCompatible!==!0&&await n.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(T),i.renderState.layers===void 0){const Z={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,n,Z),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),v=new Su(h.framebufferWidth,h.framebufferHeight,{format:os,type:Ha,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let Z=null,ce=null,oe=null;y.depth&&(oe=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Z=y.stencil?Lf:Xd,ce=y.stencil?Bf:_u);const Ae={colorFormat:n.RGBA8,depthFormat:oe,scaleFactor:o};d=new XRWebGLBinding(i,n),f=d.createProjectionLayer(Ae),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),v=new Su(f.textureWidth,f.textureHeight,{format:os,type:Ha,depthTexture:new Qj(f.textureWidth,f.textureHeight,ce,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(a),$.setContext(i),$.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};function E(J){for(let Z=0;Z<J.removed.length;Z++){const ce=J.removed[Z],oe=x.indexOf(ce);oe>=0&&(x[oe]=null,w[oe].disconnect(ce))}for(let Z=0;Z<J.added.length;Z++){const ce=J.added[Z];let oe=x.indexOf(ce);if(oe===-1){for(let de=0;de<w.length;de++)if(de>=x.length){x.push(ce),oe=de;break}else if(x[de]===null){x[de]=ce,oe=de;break}if(oe===-1)break}const Ae=w[oe];Ae&&Ae.connect(ce)}}const I=new Se,O=new Se;function C(J,Z,ce){I.setFromMatrixPosition(Z.matrixWorld),O.setFromMatrixPosition(ce.matrixWorld);const oe=I.distanceTo(O),Ae=Z.projectionMatrix.elements,de=ce.projectionMatrix.elements,Re=Ae[14]/(Ae[10]-1),ae=Ae[14]/(Ae[10]+1),we=(Ae[9]+1)/Ae[5],Ve=(Ae[9]-1)/Ae[5],te=(Ae[8]-1)/Ae[0],Be=(de[8]+1)/de[0],ft=Re*te,ut=Re*Be,Je=oe/(-te+Be),kt=Je*-te;if(Z.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(kt),J.translateZ(Je),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert(),Ae[10]===-1)J.projectionMatrix.copy(Z.projectionMatrix),J.projectionMatrixInverse.copy(Z.projectionMatrixInverse);else{const ot=Re+Je,X=ae+Je,V=ft-kt,fe=ut+(oe-kt),_e=we*ae/X*ot,Ie=Ve*ae/X*ot;J.projectionMatrix.makePerspective(V,fe,_e,Ie,ot,X),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}}function j(J,Z){Z===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(Z.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(i===null)return;let Z=J.near,ce=J.far;m.texture!==null&&(m.depthNear>0&&(Z=m.depthNear),m.depthFar>0&&(ce=m.depthFar)),N.near=z.near=A.near=Z,N.far=z.far=A.far=ce,(P!==N.near||W!==N.far)&&(i.updateRenderState({depthNear:N.near,depthFar:N.far}),P=N.near,W=N.far),A.layers.mask=J.layers.mask|2,z.layers.mask=J.layers.mask|4,N.layers.mask=A.layers.mask|z.layers.mask;const oe=J.parent,Ae=N.cameras;j(N,oe);for(let de=0;de<Ae.length;de++)j(Ae[de],oe);Ae.length===2?C(N,A,z):N.projectionMatrix.copy(A.projectionMatrix),H(J,N,oe)};function H(J,Z,ce){ce===null?J.matrix.copy(Z.matrixWorld):(J.matrix.copy(ce.matrixWorld),J.matrix.invert(),J.matrix.multiply(Z.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(Z.projectionMatrix),J.projectionMatrixInverse.copy(Z.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=CS*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return N},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(J){l=J,f!==null&&(f.fixedFoveation=J),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=J)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(N)};let D=null;function M(J,Z){if(u=Z.getViewerPose(c||s),g=Z,u!==null){const ce=u.views;h!==null&&(e.setRenderTargetFramebuffer(v,h.framebuffer),e.setRenderTarget(v));let oe=!1;ce.length!==N.cameras.length&&(N.cameras.length=0,oe=!0);for(let de=0;de<ce.length;de++){const Re=ce[de];let ae=null;if(h!==null)ae=h.getViewport(Re);else{const Ve=d.getViewSubImage(f,Re);ae=Ve.viewport,de===0&&(e.setRenderTargetTextures(v,Ve.colorTexture,f.ignoreDepthValues?void 0:Ve.depthStencilTexture),e.setRenderTarget(v))}let we=S[de];we===void 0&&(we=new Zi,we.layers.enable(de),we.viewport=new Gn,S[de]=we),we.matrix.fromArray(Re.transform.matrix),we.matrix.decompose(we.position,we.quaternion,we.scale),we.projectionMatrix.fromArray(Re.projectionMatrix),we.projectionMatrixInverse.copy(we.projectionMatrix).invert(),we.viewport.set(ae.x,ae.y,ae.width,ae.height),de===0&&(N.matrix.copy(we.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale)),oe===!0&&N.cameras.push(we)}const Ae=i.enabledFeatures;if(Ae&&Ae.includes("depth-sensing")){const de=d.getDepthInformation(ce[0]);de&&de.isValid&&de.texture&&m.init(e,de,i.renderState)}}for(let ce=0;ce<w.length;ce++){const oe=x[ce],Ae=w[ce];oe!==null&&Ae!==void 0&&Ae.update(oe,Z,c||s)}D&&D(J,Z),Z.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Z}),g=null}const $=new qj;$.setAnimationLoop(M),this.setAnimationLoop=function(J){D=J},this.dispose=function(){}}}const hc=new Ys,NEe=new Wn;function kEe(t,e){function n(y,p){y.matrixAutoUpdate===!0&&y.updateMatrix(),p.value.copy(y.matrix)}function r(y,p){p.color.getRGB(y.fogColor.value,Wj(t)),p.isFog?(y.fogNear.value=p.near,y.fogFar.value=p.far):p.isFogExp2&&(y.fogDensity.value=p.density)}function i(y,p,v,w,x){p.isMeshBasicMaterial||p.isMeshLambertMaterial?o(y,p):p.isMeshToonMaterial?(o(y,p),d(y,p)):p.isMeshPhongMaterial?(o(y,p),u(y,p)):p.isMeshStandardMaterial?(o(y,p),f(y,p),p.isMeshPhysicalMaterial&&h(y,p,x)):p.isMeshMatcapMaterial?(o(y,p),g(y,p)):p.isMeshDepthMaterial?o(y,p):p.isMeshDistanceMaterial?(o(y,p),m(y,p)):p.isMeshNormalMaterial?o(y,p):p.isLineBasicMaterial?(s(y,p),p.isLineDashedMaterial&&a(y,p)):p.isPointsMaterial?l(y,p,v,w):p.isSpriteMaterial?c(y,p):p.isShadowMaterial?(y.color.value.copy(p.color),y.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function o(y,p){y.opacity.value=p.opacity,p.color&&y.diffuse.value.copy(p.color),p.emissive&&y.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(y.map.value=p.map,n(p.map,y.mapTransform)),p.alphaMap&&(y.alphaMap.value=p.alphaMap,n(p.alphaMap,y.alphaMapTransform)),p.bumpMap&&(y.bumpMap.value=p.bumpMap,n(p.bumpMap,y.bumpMapTransform),y.bumpScale.value=p.bumpScale,p.side===zi&&(y.bumpScale.value*=-1)),p.normalMap&&(y.normalMap.value=p.normalMap,n(p.normalMap,y.normalMapTransform),y.normalScale.value.copy(p.normalScale),p.side===zi&&y.normalScale.value.negate()),p.displacementMap&&(y.displacementMap.value=p.displacementMap,n(p.displacementMap,y.displacementMapTransform),y.displacementScale.value=p.displacementScale,y.displacementBias.value=p.displacementBias),p.emissiveMap&&(y.emissiveMap.value=p.emissiveMap,n(p.emissiveMap,y.emissiveMapTransform)),p.specularMap&&(y.specularMap.value=p.specularMap,n(p.specularMap,y.specularMapTransform)),p.alphaTest>0&&(y.alphaTest.value=p.alphaTest);const v=e.get(p),w=v.envMap,x=v.envMapRotation;w&&(y.envMap.value=w,hc.copy(x),hc.x*=-1,hc.y*=-1,hc.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(hc.y*=-1,hc.z*=-1),y.envMapRotation.value.setFromMatrix4(NEe.makeRotationFromEuler(hc)),y.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=p.reflectivity,y.ior.value=p.ior,y.refractionRatio.value=p.refractionRatio),p.lightMap&&(y.lightMap.value=p.lightMap,y.lightMapIntensity.value=p.lightMapIntensity,n(p.lightMap,y.lightMapTransform)),p.aoMap&&(y.aoMap.value=p.aoMap,y.aoMapIntensity.value=p.aoMapIntensity,n(p.aoMap,y.aoMapTransform))}function s(y,p){y.diffuse.value.copy(p.color),y.opacity.value=p.opacity,p.map&&(y.map.value=p.map,n(p.map,y.mapTransform))}function a(y,p){y.dashSize.value=p.dashSize,y.totalSize.value=p.dashSize+p.gapSize,y.scale.value=p.scale}function l(y,p,v,w){y.diffuse.value.copy(p.color),y.opacity.value=p.opacity,y.size.value=p.size*v,y.scale.value=w*.5,p.map&&(y.map.value=p.map,n(p.map,y.uvTransform)),p.alphaMap&&(y.alphaMap.value=p.alphaMap,n(p.alphaMap,y.alphaMapTransform)),p.alphaTest>0&&(y.alphaTest.value=p.alphaTest)}function c(y,p){y.diffuse.value.copy(p.color),y.opacity.value=p.opacity,y.rotation.value=p.rotation,p.map&&(y.map.value=p.map,n(p.map,y.mapTransform)),p.alphaMap&&(y.alphaMap.value=p.alphaMap,n(p.alphaMap,y.alphaMapTransform)),p.alphaTest>0&&(y.alphaTest.value=p.alphaTest)}function u(y,p){y.specular.value.copy(p.specular),y.shininess.value=Math.max(p.shininess,1e-4)}function d(y,p){p.gradientMap&&(y.gradientMap.value=p.gradientMap)}function f(y,p){y.metalness.value=p.metalness,p.metalnessMap&&(y.metalnessMap.value=p.metalnessMap,n(p.metalnessMap,y.metalnessMapTransform)),y.roughness.value=p.roughness,p.roughnessMap&&(y.roughnessMap.value=p.roughnessMap,n(p.roughnessMap,y.roughnessMapTransform)),p.envMap&&(y.envMapIntensity.value=p.envMapIntensity)}function h(y,p,v){y.ior.value=p.ior,p.sheen>0&&(y.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),y.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(y.sheenColorMap.value=p.sheenColorMap,n(p.sheenColorMap,y.sheenColorMapTransform)),p.sheenRoughnessMap&&(y.sheenRoughnessMap.value=p.sheenRoughnessMap,n(p.sheenRoughnessMap,y.sheenRoughnessMapTransform))),p.clearcoat>0&&(y.clearcoat.value=p.clearcoat,y.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(y.clearcoatMap.value=p.clearcoatMap,n(p.clearcoatMap,y.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,n(p.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(y.clearcoatNormalMap.value=p.clearcoatNormalMap,n(p.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===zi&&y.clearcoatNormalScale.value.negate())),p.dispersion>0&&(y.dispersion.value=p.dispersion),p.iridescence>0&&(y.iridescence.value=p.iridescence,y.iridescenceIOR.value=p.iridescenceIOR,y.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(y.iridescenceMap.value=p.iridescenceMap,n(p.iridescenceMap,y.iridescenceMapTransform)),p.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=p.iridescenceThicknessMap,n(p.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),p.transmission>0&&(y.transmission.value=p.transmission,y.transmissionSamplerMap.value=v.texture,y.transmissionSamplerSize.value.set(v.width,v.height),p.transmissionMap&&(y.transmissionMap.value=p.transmissionMap,n(p.transmissionMap,y.transmissionMapTransform)),y.thickness.value=p.thickness,p.thicknessMap&&(y.thicknessMap.value=p.thicknessMap,n(p.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=p.attenuationDistance,y.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(y.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(y.anisotropyMap.value=p.anisotropyMap,n(p.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=p.specularIntensity,y.specularColor.value.copy(p.specularColor),p.specularColorMap&&(y.specularColorMap.value=p.specularColorMap,n(p.specularColorMap,y.specularColorMapTransform)),p.specularIntensityMap&&(y.specularIntensityMap.value=p.specularIntensityMap,n(p.specularIntensityMap,y.specularIntensityMapTransform))}function g(y,p){p.matcap&&(y.matcap.value=p.matcap)}function m(y,p){const v=e.get(p).light;y.referencePosition.value.setFromMatrixPosition(v.matrixWorld),y.nearDistance.value=v.shadow.camera.near,y.farDistance.value=v.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function FEe(t,e,n,r){let i={},o={},s=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(v,w){const x=w.program;r.uniformBlockBinding(v,x)}function c(v,w){let x=i[v.id];x===void 0&&(g(v),x=u(v),i[v.id]=x,v.addEventListener("dispose",y));const T=w.program;r.updateUBOMapping(v,T);const k=e.render.frame;o[v.id]!==k&&(f(v),o[v.id]=k)}function u(v){const w=d();v.__bindingPointIndex=w;const x=t.createBuffer(),T=v.__size,k=v.usage;return t.bindBuffer(t.UNIFORM_BUFFER,x),t.bufferData(t.UNIFORM_BUFFER,T,k),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,x),x}function d(){for(let v=0;v<a;v++)if(s.indexOf(v)===-1)return s.push(v),v;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(v){const w=i[v.id],x=v.uniforms,T=v.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let k=0,A=x.length;k<A;k++){const z=Array.isArray(x[k])?x[k]:[x[k]];for(let S=0,N=z.length;S<N;S++){const P=z[S];if(h(P,k,S,T)===!0){const W=P.__offset,B=Array.isArray(P.value)?P.value:[P.value];let b=0;for(let E=0;E<B.length;E++){const I=B[E],O=m(I);typeof I=="number"||typeof I=="boolean"?(P.__data[0]=I,t.bufferSubData(t.UNIFORM_BUFFER,W+b,P.__data)):I.isMatrix3?(P.__data[0]=I.elements[0],P.__data[1]=I.elements[1],P.__data[2]=I.elements[2],P.__data[3]=0,P.__data[4]=I.elements[3],P.__data[5]=I.elements[4],P.__data[6]=I.elements[5],P.__data[7]=0,P.__data[8]=I.elements[6],P.__data[9]=I.elements[7],P.__data[10]=I.elements[8],P.__data[11]=0):(I.toArray(P.__data,b),b+=O.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,W,P.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(v,w,x,T){const k=v.value,A=w+"_"+x;if(T[A]===void 0)return typeof k=="number"||typeof k=="boolean"?T[A]=k:T[A]=k.clone(),!0;{const z=T[A];if(typeof k=="number"||typeof k=="boolean"){if(z!==k)return T[A]=k,!0}else if(z.equals(k)===!1)return z.copy(k),!0}return!1}function g(v){const w=v.uniforms;let x=0;const T=16;for(let A=0,z=w.length;A<z;A++){const S=Array.isArray(w[A])?w[A]:[w[A]];for(let N=0,P=S.length;N<P;N++){const W=S[N],B=Array.isArray(W.value)?W.value:[W.value];for(let b=0,E=B.length;b<E;b++){const I=B[b],O=m(I),C=x%T,j=C%O.boundary,H=C+j;x+=j,H!==0&&T-H<O.storage&&(x+=T-H),W.__data=new Float32Array(O.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=x,x+=O.storage}}}const k=x%T;return k>0&&(x+=T-k),v.__size=x,v.__cache={},this}function m(v){const w={boundary:0,storage:0};return typeof v=="number"||typeof v=="boolean"?(w.boundary=4,w.storage=4):v.isVector2?(w.boundary=8,w.storage=8):v.isVector3||v.isColor?(w.boundary=16,w.storage=12):v.isVector4?(w.boundary=16,w.storage=16):v.isMatrix3?(w.boundary=48,w.storage=48):v.isMatrix4?(w.boundary=64,w.storage=64):v.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",v),w}function y(v){const w=v.target;w.removeEventListener("dispose",y);const x=s.indexOf(w.__bindingPointIndex);s.splice(x,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete o[w.id]}function p(){for(const v in i)t.deleteBuffer(i[v]);s=[],i={},o={}}return{bind:l,update:c,dispose:p}}class eG{constructor(e={}){const{canvas:n=Eve(),context:r=null,depth:i=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=s;const g=new Uint32Array(4),m=new Int32Array(4);let y=null,p=null;const v=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=qr,this.toneMapping=zl,this.toneMappingExposure=1;const x=this;let T=!1,k=0,A=0,z=null,S=-1,N=null;const P=new Gn,W=new Gn;let B=null;const b=new tn(0);let E=0,I=n.width,O=n.height,C=1,j=null,H=null;const D=new Gn(0,0,I,O),M=new Gn(0,0,I,O);let $=!1;const J=new Z5;let Z=!1,ce=!1;const oe=new Wn,Ae=new Wn,de=new Se,Re=new Gn,ae={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let we=!1;function Ve(){return z===null?C:1}let te=r;function Be(K,se){return n.getContext(K,se)}try{const K={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${W5}`),n.addEventListener("webglcontextlost",Te,!1),n.addEventListener("webglcontextrestored",tt,!1),n.addEventListener("webglcontextcreationerror",He,!1),te===null){const se="webgl2";if(te=Be(se,K),te===null)throw Be(se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(K){throw console.error("THREE.WebGLRenderer: "+K.message),K}let ft,ut,Je,kt,ot,X,V,fe,_e,Ie,ge,G,_,R,Q,Y,ee,ne,Ue,ke,qe,ht,rt,le;function it(){ft=new zbe(te),ft.init(),ht=new SEe(te,ft),ut=new Fbe(te,ft,e,ht),Je=new EEe(te,ft),ut.reverseDepthBuffer&&f&&Je.buffers.depth.setReversed(!0),kt=new Hbe(te),ot=new aEe,X=new _Ee(te,ft,Je,ot,ut,ht,kt),V=new Bbe(x),fe=new Ube(x),_e=new Xve(te),rt=new Nbe(te,_e),Ie=new jbe(te,_e,kt,rt),ge=new Vbe(te,Ie,_e,kt),Ue=new Wbe(te,ut,X),Y=new Obe(ot),G=new sEe(x,V,fe,ft,ut,rt,Y),_=new kEe(x,ot),R=new cEe,Q=new mEe(ft),ne=new Pbe(x,V,fe,Je,ge,h,l),ee=new bEe(x,ge,ut),le=new FEe(te,kt,ut,Je),ke=new kbe(te,ft,kt),qe=new Gbe(te,ft,kt),kt.programs=G.programs,x.capabilities=ut,x.extensions=ft,x.properties=ot,x.renderLists=R,x.shadowMap=ee,x.state=Je,x.info=kt}it();const Ee=new PEe(x,te);this.xr=Ee,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const K=ft.get("WEBGL_lose_context");K&&K.loseContext()},this.forceContextRestore=function(){const K=ft.get("WEBGL_lose_context");K&&K.restoreContext()},this.getPixelRatio=function(){return C},this.setPixelRatio=function(K){K!==void 0&&(C=K,this.setSize(I,O,!1))},this.getSize=function(K){return K.set(I,O)},this.setSize=function(K,se,ye=!0){if(Ee.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}I=K,O=se,n.width=Math.floor(K*C),n.height=Math.floor(se*C),ye===!0&&(n.style.width=K+"px",n.style.height=se+"px"),this.setViewport(0,0,K,se)},this.getDrawingBufferSize=function(K){return K.set(I*C,O*C).floor()},this.setDrawingBufferSize=function(K,se,ye){I=K,O=se,C=ye,n.width=Math.floor(K*ye),n.height=Math.floor(se*ye),this.setViewport(0,0,K,se)},this.getCurrentViewport=function(K){return K.copy(P)},this.getViewport=function(K){return K.copy(D)},this.setViewport=function(K,se,ye,be){K.isVector4?D.set(K.x,K.y,K.z,K.w):D.set(K,se,ye,be),Je.viewport(P.copy(D).multiplyScalar(C).round())},this.getScissor=function(K){return K.copy(M)},this.setScissor=function(K,se,ye,be){K.isVector4?M.set(K.x,K.y,K.z,K.w):M.set(K,se,ye,be),Je.scissor(W.copy(M).multiplyScalar(C).round())},this.getScissorTest=function(){return $},this.setScissorTest=function(K){Je.setScissorTest($=K)},this.setOpaqueSort=function(K){j=K},this.setTransparentSort=function(K){H=K},this.getClearColor=function(K){return K.copy(ne.getClearColor())},this.setClearColor=function(){ne.setClearColor.apply(ne,arguments)},this.getClearAlpha=function(){return ne.getClearAlpha()},this.setClearAlpha=function(){ne.setClearAlpha.apply(ne,arguments)},this.clear=function(K=!0,se=!0,ye=!0){let be=0;if(K){let he=!1;if(z!==null){const ze=z.texture.format;he=ze===Y5||ze===X5||ze===Q5}if(he){const ze=z.texture.type,Ye=ze===Ha||ze===_u||ze===km||ze===Bf||ze===q5||ze===K5,gt=ne.getClearColor(),mt=ne.getClearAlpha(),Tt=gt.r,Rt=gt.g,yt=gt.b;Ye?(g[0]=Tt,g[1]=Rt,g[2]=yt,g[3]=mt,te.clearBufferuiv(te.COLOR,0,g)):(m[0]=Tt,m[1]=Rt,m[2]=yt,m[3]=mt,te.clearBufferiv(te.COLOR,0,m))}else be|=te.COLOR_BUFFER_BIT}se&&(be|=te.DEPTH_BUFFER_BIT),ye&&(be|=te.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),te.clear(be)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Te,!1),n.removeEventListener("webglcontextrestored",tt,!1),n.removeEventListener("webglcontextcreationerror",He,!1),R.dispose(),Q.dispose(),ot.dispose(),V.dispose(),fe.dispose(),ge.dispose(),rt.dispose(),le.dispose(),G.dispose(),Ee.dispose(),Ee.removeEventListener("sessionstart",ie),Ee.removeEventListener("sessionend",me),ve.stop()};function Te(K){K.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function tt(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const K=kt.autoReset,se=ee.enabled,ye=ee.autoUpdate,be=ee.needsUpdate,he=ee.type;it(),kt.autoReset=K,ee.enabled=se,ee.autoUpdate=ye,ee.needsUpdate=be,ee.type=he}function He(K){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",K.statusMessage)}function lt(K){const se=K.target;se.removeEventListener("dispose",lt),un(se)}function un(K){Ft(K),ot.remove(K)}function Ft(K){const se=ot.get(K).programs;se!==void 0&&(se.forEach(function(ye){G.releaseProgram(ye)}),K.isShaderMaterial&&G.releaseShaderCache(K))}this.renderBufferDirect=function(K,se,ye,be,he,ze){se===null&&(se=ae);const Ye=he.isMesh&&he.matrixWorld.determinant()<0,gt=wt(K,se,ye,be,he);Je.setMaterial(be,Ye);let mt=ye.index,Tt=1;if(be.wireframe===!0){if(mt=Ie.getWireframeAttribute(ye),mt===void 0)return;Tt=2}const Rt=ye.drawRange,yt=ye.attributes.position;let dt=Rt.start*Tt,ue=(Rt.start+Rt.count)*Tt;ze!==null&&(dt=Math.max(dt,ze.start*Tt),ue=Math.min(ue,(ze.start+ze.count)*Tt)),mt!==null?(dt=Math.max(dt,0),ue=Math.min(ue,mt.count)):yt!=null&&(dt=Math.max(dt,0),ue=Math.min(ue,yt.count));const Le=ue-dt;if(Le<0||Le===1/0)return;rt.setup(he,be,gt,ye,mt);let Oe,Pe=ke;if(mt!==null&&(Oe=_e.get(mt),Pe=qe,Pe.setIndex(Oe)),he.isMesh)be.wireframe===!0?(Je.setLineWidth(be.wireframeLinewidth*Ve()),Pe.setMode(te.LINES)):Pe.setMode(te.TRIANGLES);else if(he.isLine){let We=be.linewidth;We===void 0&&(We=1),Je.setLineWidth(We*Ve()),he.isLineSegments?Pe.setMode(te.LINES):he.isLineLoop?Pe.setMode(te.LINE_LOOP):Pe.setMode(te.LINE_STRIP)}else he.isPoints?Pe.setMode(te.POINTS):he.isSprite&&Pe.setMode(te.TRIANGLES);if(he.isBatchedMesh)if(he._multiDrawInstances!==null)Pe.renderMultiDrawInstances(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount,he._multiDrawInstances);else if(ft.get("WEBGL_multi_draw"))Pe.renderMultiDraw(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount);else{const We=he._multiDrawStarts,xn=he._multiDrawCounts,Pt=he._multiDrawCount,On=mt?_e.get(mt).bytesPerElement:1,_t=ot.get(be).currentProgram.getUniforms();for(let wi=0;wi<Pt;wi++)_t.setValue(te,"_gl_DrawID",wi),Pe.render(We[wi]/On,xn[wi])}else if(he.isInstancedMesh)Pe.renderInstances(dt,Le,he.count);else if(ye.isInstancedBufferGeometry){const We=ye._maxInstanceCount!==void 0?ye._maxInstanceCount:1/0,xn=Math.min(ye.instanceCount,We);Pe.renderInstances(dt,Le,xn)}else Pe.render(dt,Le)};function Mt(K,se,ye){K.transparent===!0&&K.side===ba&&K.forceSinglePass===!1?(K.side=zi,K.needsUpdate=!0,Xe(K,se,ye),K.side=Kl,K.needsUpdate=!0,Xe(K,se,ye),K.side=ba):Xe(K,se,ye)}this.compile=function(K,se,ye=null){ye===null&&(ye=K),p=Q.get(ye),p.init(se),w.push(p),ye.traverseVisible(function(he){he.isLight&&he.layers.test(se.layers)&&(p.pushLight(he),he.castShadow&&p.pushShadow(he))}),K!==ye&&K.traverseVisible(function(he){he.isLight&&he.layers.test(se.layers)&&(p.pushLight(he),he.castShadow&&p.pushShadow(he))}),p.setupLights();const be=new Set;return K.traverse(function(he){if(!(he.isMesh||he.isPoints||he.isLine||he.isSprite))return;const ze=he.material;if(ze)if(Array.isArray(ze))for(let Ye=0;Ye<ze.length;Ye++){const gt=ze[Ye];Mt(gt,ye,he),be.add(gt)}else Mt(ze,ye,he),be.add(ze)}),w.pop(),p=null,be},this.compileAsync=function(K,se,ye=null){const be=this.compile(K,se,ye);return new Promise(he=>{function ze(){if(be.forEach(function(Ye){ot.get(Ye).currentProgram.isReady()&&be.delete(Ye)}),be.size===0){he(K);return}setTimeout(ze,10)}ft.get("KHR_parallel_shader_compile")!==null?ze():setTimeout(ze,10)})};let lr=null;function Kt(K){lr&&lr(K)}function ie(){ve.stop()}function me(){ve.start()}const ve=new qj;ve.setAnimationLoop(Kt),typeof self<"u"&&ve.setContext(self),this.setAnimationLoop=function(K){lr=K,Ee.setAnimationLoop(K),K===null?ve.stop():ve.start()},Ee.addEventListener("sessionstart",ie),Ee.addEventListener("sessionend",me),this.render=function(K,se){if(se!==void 0&&se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;if(K.matrixWorldAutoUpdate===!0&&K.updateMatrixWorld(),se.parent===null&&se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),Ee.enabled===!0&&Ee.isPresenting===!0&&(Ee.cameraAutoUpdate===!0&&Ee.updateCamera(se),se=Ee.getCamera()),K.isScene===!0&&K.onBeforeRender(x,K,se,z),p=Q.get(K,w.length),p.init(se),w.push(p),Ae.multiplyMatrices(se.projectionMatrix,se.matrixWorldInverse),J.setFromProjectionMatrix(Ae),ce=this.localClippingEnabled,Z=Y.init(this.clippingPlanes,ce),y=R.get(K,v.length),y.init(),v.push(y),Ee.enabled===!0&&Ee.isPresenting===!0){const ze=x.xr.getDepthSensingMesh();ze!==null&&Me(ze,se,-1/0,x.sortObjects)}Me(K,se,0,x.sortObjects),y.finish(),x.sortObjects===!0&&y.sort(j,H),we=Ee.enabled===!1||Ee.isPresenting===!1||Ee.hasDepthSensing()===!1,we&&ne.addToRenderList(y,K),this.info.render.frame++,Z===!0&&Y.beginShadows();const ye=p.state.shadowsArray;ee.render(ye,K,se),Z===!0&&Y.endShadows(),this.info.autoReset===!0&&this.info.reset();const be=y.opaque,he=y.transmissive;if(p.setupLights(),se.isArrayCamera){const ze=se.cameras;if(he.length>0)for(let Ye=0,gt=ze.length;Ye<gt;Ye++){const mt=ze[Ye];st(be,he,K,mt)}we&&ne.render(K);for(let Ye=0,gt=ze.length;Ye<gt;Ye++){const mt=ze[Ye];et(y,K,mt,mt.viewport)}}else he.length>0&&st(be,he,K,se),we&&ne.render(K),et(y,K,se);z!==null&&(X.updateMultisampleRenderTarget(z),X.updateRenderTargetMipmap(z)),K.isScene===!0&&K.onAfterRender(x,K,se),rt.resetDefaultState(),S=-1,N=null,w.pop(),w.length>0?(p=w[w.length-1],Z===!0&&Y.setGlobalState(x.clippingPlanes,p.state.camera)):p=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function Me(K,se,ye,be){if(K.visible===!1)return;if(K.layers.test(se.layers)){if(K.isGroup)ye=K.renderOrder;else if(K.isLOD)K.autoUpdate===!0&&K.update(se);else if(K.isLight)p.pushLight(K),K.castShadow&&p.pushShadow(K);else if(K.isSprite){if(!K.frustumCulled||J.intersectsSprite(K)){be&&Re.setFromMatrixPosition(K.matrixWorld).applyMatrix4(Ae);const Ye=ge.update(K),gt=K.material;gt.visible&&y.push(K,Ye,gt,ye,Re.z,null)}}else if((K.isMesh||K.isLine||K.isPoints)&&(!K.frustumCulled||J.intersectsObject(K))){const Ye=ge.update(K),gt=K.material;if(be&&(K.boundingSphere!==void 0?(K.boundingSphere===null&&K.computeBoundingSphere(),Re.copy(K.boundingSphere.center)):(Ye.boundingSphere===null&&Ye.computeBoundingSphere(),Re.copy(Ye.boundingSphere.center)),Re.applyMatrix4(K.matrixWorld).applyMatrix4(Ae)),Array.isArray(gt)){const mt=Ye.groups;for(let Tt=0,Rt=mt.length;Tt<Rt;Tt++){const yt=mt[Tt],dt=gt[yt.materialIndex];dt&&dt.visible&&y.push(K,Ye,dt,ye,Re.z,yt)}}else gt.visible&&y.push(K,Ye,gt,ye,Re.z,null)}}const ze=K.children;for(let Ye=0,gt=ze.length;Ye<gt;Ye++)Me(ze[Ye],se,ye,be)}function et(K,se,ye,be){const he=K.opaque,ze=K.transmissive,Ye=K.transparent;p.setupLightsView(ye),Z===!0&&Y.setGlobalState(x.clippingPlanes,ye),be&&Je.viewport(P.copy(be)),he.length>0&&nt(he,se,ye),ze.length>0&&nt(ze,se,ye),Ye.length>0&&nt(Ye,se,ye),Je.buffers.depth.setTest(!0),Je.buffers.depth.setMask(!0),Je.buffers.color.setMask(!0),Je.setPolygonOffset(!1)}function st(K,se,ye,be){if((ye.isScene===!0?ye.overrideMaterial:null)!==null)return;p.state.transmissionRenderTarget[be.id]===void 0&&(p.state.transmissionRenderTarget[be.id]=new Su(1,1,{generateMipmaps:!0,type:ft.has("EXT_color_buffer_half_float")||ft.has("EXT_color_buffer_float")?w0:Ha,minFilter:Wc,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Jt.workingColorSpace}));const ze=p.state.transmissionRenderTarget[be.id],Ye=be.viewport||P;ze.setSize(Ye.z,Ye.w);const gt=x.getRenderTarget();x.setRenderTarget(ze),x.getClearColor(b),E=x.getClearAlpha(),E<1&&x.setClearColor(16777215,.5),x.clear(),we&&ne.render(ye);const mt=x.toneMapping;x.toneMapping=zl;const Tt=be.viewport;if(be.viewport!==void 0&&(be.viewport=void 0),p.setupLightsView(be),Z===!0&&Y.setGlobalState(x.clippingPlanes,be),nt(K,ye,be),X.updateMultisampleRenderTarget(ze),X.updateRenderTargetMipmap(ze),ft.has("WEBGL_multisampled_render_to_texture")===!1){let Rt=!1;for(let yt=0,dt=se.length;yt<dt;yt++){const ue=se[yt],Le=ue.object,Oe=ue.geometry,Pe=ue.material,We=ue.group;if(Pe.side===ba&&Le.layers.test(be.layers)){const xn=Pe.side;Pe.side=zi,Pe.needsUpdate=!0,pt(Le,ye,be,Oe,Pe,We),Pe.side=xn,Pe.needsUpdate=!0,Rt=!0}}Rt===!0&&(X.updateMultisampleRenderTarget(ze),X.updateRenderTargetMipmap(ze))}x.setRenderTarget(gt),x.setClearColor(b,E),Tt!==void 0&&(be.viewport=Tt),x.toneMapping=mt}function nt(K,se,ye){const be=se.isScene===!0?se.overrideMaterial:null;for(let he=0,ze=K.length;he<ze;he++){const Ye=K[he],gt=Ye.object,mt=Ye.geometry,Tt=be===null?Ye.material:be,Rt=Ye.group;gt.layers.test(ye.layers)&&pt(gt,se,ye,mt,Tt,Rt)}}function pt(K,se,ye,be,he,ze){K.onBeforeRender(x,se,ye,be,he,ze),K.modelViewMatrix.multiplyMatrices(ye.matrixWorldInverse,K.matrixWorld),K.normalMatrix.getNormalMatrix(K.modelViewMatrix),he.onBeforeRender(x,se,ye,be,K,ze),he.transparent===!0&&he.side===ba&&he.forceSinglePass===!1?(he.side=zi,he.needsUpdate=!0,x.renderBufferDirect(ye,se,be,he,K,ze),he.side=Kl,he.needsUpdate=!0,x.renderBufferDirect(ye,se,be,he,K,ze),he.side=ba):x.renderBufferDirect(ye,se,be,he,K,ze),K.onAfterRender(x,se,ye,be,he,ze)}function Xe(K,se,ye){se.isScene!==!0&&(se=ae);const be=ot.get(K),he=p.state.lights,ze=p.state.shadowsArray,Ye=he.state.version,gt=G.getParameters(K,he.state,ze,se,ye),mt=G.getProgramCacheKey(gt);let Tt=be.programs;be.environment=K.isMeshStandardMaterial?se.environment:null,be.fog=se.fog,be.envMap=(K.isMeshStandardMaterial?fe:V).get(K.envMap||be.environment),be.envMapRotation=be.environment!==null&&K.envMap===null?se.environmentRotation:K.envMapRotation,Tt===void 0&&(K.addEventListener("dispose",lt),Tt=new Map,be.programs=Tt);let Rt=Tt.get(mt);if(Rt!==void 0){if(be.currentProgram===Rt&&be.lightsStateVersion===Ye)return Et(K,gt),Rt}else gt.uniforms=G.getUniforms(K),K.onBeforeCompile(gt,x),Rt=G.acquireProgram(gt,mt),Tt.set(mt,Rt),be.uniforms=gt.uniforms;const yt=be.uniforms;return(!K.isShaderMaterial&&!K.isRawShaderMaterial||K.clipping===!0)&&(yt.clippingPlanes=Y.uniform),Et(K,gt),be.needsLights=gn(K),be.lightsStateVersion=Ye,be.needsLights&&(yt.ambientLightColor.value=he.state.ambient,yt.lightProbe.value=he.state.probe,yt.directionalLights.value=he.state.directional,yt.directionalLightShadows.value=he.state.directionalShadow,yt.spotLights.value=he.state.spot,yt.spotLightShadows.value=he.state.spotShadow,yt.rectAreaLights.value=he.state.rectArea,yt.ltc_1.value=he.state.rectAreaLTC1,yt.ltc_2.value=he.state.rectAreaLTC2,yt.pointLights.value=he.state.point,yt.pointLightShadows.value=he.state.pointShadow,yt.hemisphereLights.value=he.state.hemi,yt.directionalShadowMap.value=he.state.directionalShadowMap,yt.directionalShadowMatrix.value=he.state.directionalShadowMatrix,yt.spotShadowMap.value=he.state.spotShadowMap,yt.spotLightMatrix.value=he.state.spotLightMatrix,yt.spotLightMap.value=he.state.spotLightMap,yt.pointShadowMap.value=he.state.pointShadowMap,yt.pointShadowMatrix.value=he.state.pointShadowMatrix),be.currentProgram=Rt,be.uniformsList=null,Rt}function Ke(K){if(K.uniformsList===null){const se=K.currentProgram.getUniforms();K.uniformsList=Hy.seqWithValue(se.seq,K.uniforms)}return K.uniformsList}function Et(K,se){const ye=ot.get(K);ye.outputColorSpace=se.outputColorSpace,ye.batching=se.batching,ye.batchingColor=se.batchingColor,ye.instancing=se.instancing,ye.instancingColor=se.instancingColor,ye.instancingMorph=se.instancingMorph,ye.skinning=se.skinning,ye.morphTargets=se.morphTargets,ye.morphNormals=se.morphNormals,ye.morphColors=se.morphColors,ye.morphTargetsCount=se.morphTargetsCount,ye.numClippingPlanes=se.numClippingPlanes,ye.numIntersection=se.numClipIntersection,ye.vertexAlphas=se.vertexAlphas,ye.vertexTangents=se.vertexTangents,ye.toneMapping=se.toneMapping}function wt(K,se,ye,be,he){se.isScene!==!0&&(se=ae),X.resetTextureUnits();const ze=se.fog,Ye=be.isMeshStandardMaterial?se.environment:null,gt=z===null?x.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:lh,mt=(be.isMeshStandardMaterial?fe:V).get(be.envMap||Ye),Tt=be.vertexColors===!0&&!!ye.attributes.color&&ye.attributes.color.itemSize===4,Rt=!!ye.attributes.tangent&&(!!be.normalMap||be.anisotropy>0),yt=!!ye.morphAttributes.position,dt=!!ye.morphAttributes.normal,ue=!!ye.morphAttributes.color;let Le=zl;be.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(Le=x.toneMapping);const Oe=ye.morphAttributes.position||ye.morphAttributes.normal||ye.morphAttributes.color,Pe=Oe!==void 0?Oe.length:0,We=ot.get(be),xn=p.state.lights;if(Z===!0&&(ce===!0||K!==N)){const mo=K===N&&be.id===S;Y.setState(be,K,mo)}let Pt=!1;be.version===We.__version?(We.needsLights&&We.lightsStateVersion!==xn.state.version||We.outputColorSpace!==gt||he.isBatchedMesh&&We.batching===!1||!he.isBatchedMesh&&We.batching===!0||he.isBatchedMesh&&We.batchingColor===!0&&he.colorTexture===null||he.isBatchedMesh&&We.batchingColor===!1&&he.colorTexture!==null||he.isInstancedMesh&&We.instancing===!1||!he.isInstancedMesh&&We.instancing===!0||he.isSkinnedMesh&&We.skinning===!1||!he.isSkinnedMesh&&We.skinning===!0||he.isInstancedMesh&&We.instancingColor===!0&&he.instanceColor===null||he.isInstancedMesh&&We.instancingColor===!1&&he.instanceColor!==null||he.isInstancedMesh&&We.instancingMorph===!0&&he.morphTexture===null||he.isInstancedMesh&&We.instancingMorph===!1&&he.morphTexture!==null||We.envMap!==mt||be.fog===!0&&We.fog!==ze||We.numClippingPlanes!==void 0&&(We.numClippingPlanes!==Y.numPlanes||We.numIntersection!==Y.numIntersection)||We.vertexAlphas!==Tt||We.vertexTangents!==Rt||We.morphTargets!==yt||We.morphNormals!==dt||We.morphColors!==ue||We.toneMapping!==Le||We.morphTargetsCount!==Pe)&&(Pt=!0):(Pt=!0,We.__version=be.version);let On=We.currentProgram;Pt===!0&&(On=Xe(be,se,he));let _t=!1,wi=!1,ic=!1;const En=On.getUniforms(),ws=We.uniforms;if(Je.useProgram(On.program)&&(_t=!0,wi=!0,ic=!0),be.id!==S&&(S=be.id,wi=!0),_t||N!==K){Je.buffers.depth.getReversed()?(oe.copy(K.projectionMatrix),_ve(oe),Sve(oe),En.setValue(te,"projectionMatrix",oe)):En.setValue(te,"projectionMatrix",K.projectionMatrix),En.setValue(te,"viewMatrix",K.matrixWorldInverse);const Xa=En.map.cameraPosition;Xa!==void 0&&Xa.setValue(te,de.setFromMatrixPosition(K.matrixWorld)),ut.logarithmicDepthBuffer&&En.setValue(te,"logDepthBufFC",2/(Math.log(K.far+1)/Math.LN2)),(be.isMeshPhongMaterial||be.isMeshToonMaterial||be.isMeshLambertMaterial||be.isMeshBasicMaterial||be.isMeshStandardMaterial||be.isShaderMaterial)&&En.setValue(te,"isOrthographic",K.isOrthographicCamera===!0),N!==K&&(N=K,wi=!0,ic=!0)}if(he.isSkinnedMesh){En.setOptional(te,he,"bindMatrix"),En.setOptional(te,he,"bindMatrixInverse");const mo=he.skeleton;mo&&(mo.boneTexture===null&&mo.computeBoneTexture(),En.setValue(te,"boneTexture",mo.boneTexture,X))}he.isBatchedMesh&&(En.setOptional(te,he,"batchingTexture"),En.setValue(te,"batchingTexture",he._matricesTexture,X),En.setOptional(te,he,"batchingIdTexture"),En.setValue(te,"batchingIdTexture",he._indirectTexture,X),En.setOptional(te,he,"batchingColorTexture"),he._colorsTexture!==null&&En.setValue(te,"batchingColorTexture",he._colorsTexture,X));const dh=ye.morphAttributes;if((dh.position!==void 0||dh.normal!==void 0||dh.color!==void 0)&&Ue.update(he,ye,On),(wi||We.receiveShadow!==he.receiveShadow)&&(We.receiveShadow=he.receiveShadow,En.setValue(te,"receiveShadow",he.receiveShadow)),be.isMeshGouraudMaterial&&be.envMap!==null&&(ws.envMap.value=mt,ws.flipEnvMap.value=mt.isCubeTexture&&mt.isRenderTargetTexture===!1?-1:1),be.isMeshStandardMaterial&&be.envMap===null&&se.environment!==null&&(ws.envMapIntensity.value=se.environmentIntensity),wi&&(En.setValue(te,"toneMappingExposure",x.toneMappingExposure),We.needsLights&&Ct(ws,ic),ze&&be.fog===!0&&_.refreshFogUniforms(ws,ze),_.refreshMaterialUniforms(ws,be,C,O,p.state.transmissionRenderTarget[K.id]),Hy.upload(te,Ke(We),ws,X)),be.isShaderMaterial&&be.uniformsNeedUpdate===!0&&(Hy.upload(te,Ke(We),ws,X),be.uniformsNeedUpdate=!1),be.isSpriteMaterial&&En.setValue(te,"center",he.center),En.setValue(te,"modelViewMatrix",he.modelViewMatrix),En.setValue(te,"normalMatrix",he.normalMatrix),En.setValue(te,"modelMatrix",he.matrixWorld),be.isShaderMaterial||be.isRawShaderMaterial){const mo=be.uniformsGroups;for(let Xa=0,Ya=mo.length;Xa<Ya;Xa++){const i3=mo[Xa];le.update(i3,On),le.bind(i3,On)}}return On}function Ct(K,se){K.ambientLightColor.needsUpdate=se,K.lightProbe.needsUpdate=se,K.directionalLights.needsUpdate=se,K.directionalLightShadows.needsUpdate=se,K.pointLights.needsUpdate=se,K.pointLightShadows.needsUpdate=se,K.spotLights.needsUpdate=se,K.spotLightShadows.needsUpdate=se,K.rectAreaLights.needsUpdate=se,K.hemisphereLights.needsUpdate=se}function gn(K){return K.isMeshLambertMaterial||K.isMeshToonMaterial||K.isMeshPhongMaterial||K.isMeshStandardMaterial||K.isShadowMaterial||K.isShaderMaterial&&K.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(K,se,ye){ot.get(K.texture).__webglTexture=se,ot.get(K.depthTexture).__webglTexture=ye;const be=ot.get(K);be.__hasExternalTextures=!0,be.__autoAllocateDepthBuffer=ye===void 0,be.__autoAllocateDepthBuffer||ft.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),be.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(K,se){const ye=ot.get(K);ye.__webglFramebuffer=se,ye.__useDefaultFramebuffer=se===void 0},this.setRenderTarget=function(K,se=0,ye=0){z=K,k=se,A=ye;let be=!0,he=null,ze=!1,Ye=!1;if(K){const mt=ot.get(K);if(mt.__useDefaultFramebuffer!==void 0)Je.bindFramebuffer(te.FRAMEBUFFER,null),be=!1;else if(mt.__webglFramebuffer===void 0)X.setupRenderTarget(K);else if(mt.__hasExternalTextures)X.rebindTextures(K,ot.get(K.texture).__webglTexture,ot.get(K.depthTexture).__webglTexture);else if(K.depthBuffer){const yt=K.depthTexture;if(mt.__boundDepthTexture!==yt){if(yt!==null&&ot.has(yt)&&(K.width!==yt.image.width||K.height!==yt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");X.setupDepthRenderbuffer(K)}}const Tt=K.texture;(Tt.isData3DTexture||Tt.isDataArrayTexture||Tt.isCompressedArrayTexture)&&(Ye=!0);const Rt=ot.get(K).__webglFramebuffer;K.isWebGLCubeRenderTarget?(Array.isArray(Rt[se])?he=Rt[se][ye]:he=Rt[se],ze=!0):K.samples>0&&X.useMultisampledRTT(K)===!1?he=ot.get(K).__webglMultisampledFramebuffer:Array.isArray(Rt)?he=Rt[ye]:he=Rt,P.copy(K.viewport),W.copy(K.scissor),B=K.scissorTest}else P.copy(D).multiplyScalar(C).floor(),W.copy(M).multiplyScalar(C).floor(),B=$;if(Je.bindFramebuffer(te.FRAMEBUFFER,he)&&be&&Je.drawBuffers(K,he),Je.viewport(P),Je.scissor(W),Je.setScissorTest(B),ze){const mt=ot.get(K.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_CUBE_MAP_POSITIVE_X+se,mt.__webglTexture,ye)}else if(Ye){const mt=ot.get(K.texture),Tt=se||0;te.framebufferTextureLayer(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,mt.__webglTexture,ye||0,Tt)}S=-1},this.readRenderTargetPixels=function(K,se,ye,be,he,ze,Ye){if(!(K&&K.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let gt=ot.get(K).__webglFramebuffer;if(K.isWebGLCubeRenderTarget&&Ye!==void 0&&(gt=gt[Ye]),gt){Je.bindFramebuffer(te.FRAMEBUFFER,gt);try{const mt=K.texture,Tt=mt.format,Rt=mt.type;if(!ut.textureFormatReadable(Tt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ut.textureTypeReadable(Rt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}se>=0&&se<=K.width-be&&ye>=0&&ye<=K.height-he&&te.readPixels(se,ye,be,he,ht.convert(Tt),ht.convert(Rt),ze)}finally{const mt=z!==null?ot.get(z).__webglFramebuffer:null;Je.bindFramebuffer(te.FRAMEBUFFER,mt)}}},this.readRenderTargetPixelsAsync=async function(K,se,ye,be,he,ze,Ye){if(!(K&&K.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let gt=ot.get(K).__webglFramebuffer;if(K.isWebGLCubeRenderTarget&&Ye!==void 0&&(gt=gt[Ye]),gt){const mt=K.texture,Tt=mt.format,Rt=mt.type;if(!ut.textureFormatReadable(Tt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ut.textureTypeReadable(Rt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(se>=0&&se<=K.width-be&&ye>=0&&ye<=K.height-he){Je.bindFramebuffer(te.FRAMEBUFFER,gt);const yt=te.createBuffer();te.bindBuffer(te.PIXEL_PACK_BUFFER,yt),te.bufferData(te.PIXEL_PACK_BUFFER,ze.byteLength,te.STREAM_READ),te.readPixels(se,ye,be,he,ht.convert(Tt),ht.convert(Rt),0);const dt=z!==null?ot.get(z).__webglFramebuffer:null;Je.bindFramebuffer(te.FRAMEBUFFER,dt);const ue=te.fenceSync(te.SYNC_GPU_COMMANDS_COMPLETE,0);return te.flush(),await Ave(te,ue,4),te.bindBuffer(te.PIXEL_PACK_BUFFER,yt),te.getBufferSubData(te.PIXEL_PACK_BUFFER,0,ze),te.deleteBuffer(yt),te.deleteSync(ue),ze}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(K,se=null,ye=0){K.isTexture!==!0&&(ep("WebGLRenderer: copyFramebufferToTexture function signature has changed."),se=arguments[0]||null,K=arguments[1]);const be=Math.pow(2,-ye),he=Math.floor(K.image.width*be),ze=Math.floor(K.image.height*be),Ye=se!==null?se.x:0,gt=se!==null?se.y:0;X.setTexture2D(K,0),te.copyTexSubImage2D(te.TEXTURE_2D,ye,0,0,Ye,gt,he,ze),Je.unbindTexture()},this.copyTextureToTexture=function(K,se,ye=null,be=null,he=0){K.isTexture!==!0&&(ep("WebGLRenderer: copyTextureToTexture function signature has changed."),be=arguments[0]||null,K=arguments[1],se=arguments[2],he=arguments[3]||0,ye=null);let ze,Ye,gt,mt,Tt,Rt,yt,dt,ue;const Le=K.isCompressedTexture?K.mipmaps[he]:K.image;ye!==null?(ze=ye.max.x-ye.min.x,Ye=ye.max.y-ye.min.y,gt=ye.isBox3?ye.max.z-ye.min.z:1,mt=ye.min.x,Tt=ye.min.y,Rt=ye.isBox3?ye.min.z:0):(ze=Le.width,Ye=Le.height,gt=Le.depth||1,mt=0,Tt=0,Rt=0),be!==null?(yt=be.x,dt=be.y,ue=be.z):(yt=0,dt=0,ue=0);const Oe=ht.convert(se.format),Pe=ht.convert(se.type);let We;se.isData3DTexture?(X.setTexture3D(se,0),We=te.TEXTURE_3D):se.isDataArrayTexture||se.isCompressedArrayTexture?(X.setTexture2DArray(se,0),We=te.TEXTURE_2D_ARRAY):(X.setTexture2D(se,0),We=te.TEXTURE_2D),te.pixelStorei(te.UNPACK_FLIP_Y_WEBGL,se.flipY),te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),te.pixelStorei(te.UNPACK_ALIGNMENT,se.unpackAlignment);const xn=te.getParameter(te.UNPACK_ROW_LENGTH),Pt=te.getParameter(te.UNPACK_IMAGE_HEIGHT),On=te.getParameter(te.UNPACK_SKIP_PIXELS),_t=te.getParameter(te.UNPACK_SKIP_ROWS),wi=te.getParameter(te.UNPACK_SKIP_IMAGES);te.pixelStorei(te.UNPACK_ROW_LENGTH,Le.width),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,Le.height),te.pixelStorei(te.UNPACK_SKIP_PIXELS,mt),te.pixelStorei(te.UNPACK_SKIP_ROWS,Tt),te.pixelStorei(te.UNPACK_SKIP_IMAGES,Rt);const ic=K.isDataArrayTexture||K.isData3DTexture,En=se.isDataArrayTexture||se.isData3DTexture;if(K.isRenderTargetTexture||K.isDepthTexture){const ws=ot.get(K),dh=ot.get(se),mo=ot.get(ws.__renderTarget),Xa=ot.get(dh.__renderTarget);Je.bindFramebuffer(te.READ_FRAMEBUFFER,mo.__webglFramebuffer),Je.bindFramebuffer(te.DRAW_FRAMEBUFFER,Xa.__webglFramebuffer);for(let Ya=0;Ya<gt;Ya++)ic&&te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,ot.get(K).__webglTexture,he,Rt+Ya),K.isDepthTexture?(En&&te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,ot.get(se).__webglTexture,he,ue+Ya),te.blitFramebuffer(mt,Tt,ze,Ye,yt,dt,ze,Ye,te.DEPTH_BUFFER_BIT,te.NEAREST)):En?te.copyTexSubImage3D(We,he,yt,dt,ue+Ya,mt,Tt,ze,Ye):te.copyTexSubImage2D(We,he,yt,dt,ue+Ya,mt,Tt,ze,Ye);Je.bindFramebuffer(te.READ_FRAMEBUFFER,null),Je.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else En?K.isDataTexture||K.isData3DTexture?te.texSubImage3D(We,he,yt,dt,ue,ze,Ye,gt,Oe,Pe,Le.data):se.isCompressedArrayTexture?te.compressedTexSubImage3D(We,he,yt,dt,ue,ze,Ye,gt,Oe,Le.data):te.texSubImage3D(We,he,yt,dt,ue,ze,Ye,gt,Oe,Pe,Le):K.isDataTexture?te.texSubImage2D(te.TEXTURE_2D,he,yt,dt,ze,Ye,Oe,Pe,Le.data):K.isCompressedTexture?te.compressedTexSubImage2D(te.TEXTURE_2D,he,yt,dt,Le.width,Le.height,Oe,Le.data):te.texSubImage2D(te.TEXTURE_2D,he,yt,dt,ze,Ye,Oe,Pe,Le);te.pixelStorei(te.UNPACK_ROW_LENGTH,xn),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,Pt),te.pixelStorei(te.UNPACK_SKIP_PIXELS,On),te.pixelStorei(te.UNPACK_SKIP_ROWS,_t),te.pixelStorei(te.UNPACK_SKIP_IMAGES,wi),he===0&&se.generateMipmaps&&te.generateMipmap(We),Je.unbindTexture()},this.copyTextureToTexture3D=function(K,se,ye=null,be=null,he=0){return K.isTexture!==!0&&(ep("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ye=arguments[0]||null,be=arguments[1]||null,K=arguments[2],se=arguments[3],he=arguments[4]||0),ep('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(K,se,ye,be,he)},this.initRenderTarget=function(K){ot.get(K).__webglFramebuffer===void 0&&X.setupRenderTarget(K)},this.initTexture=function(K){K.isCubeTexture?X.setTextureCube(K,0):K.isData3DTexture?X.setTexture3D(K,0):K.isDataArrayTexture||K.isCompressedArrayTexture?X.setTexture2DArray(K,0):X.setTexture2D(K,0),Je.unbindTexture()},this.resetState=function(){k=0,A=0,z=null,Je.reset(),rt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ta}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=Jt._getDrawingBufferColorSpace(e),n.unpackColorSpace=Jt._getUnpackColorSpace()}}class tG extends Zr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ys,this.environmentIntensity=1,this.environmentRotation=new Ys,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class nG extends Jr{constructor(e,n,r,i,o,s,a,l,c){super(e,n,r,i,o,s,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class db extends rc{constructor(e=1,n=1,r=1,i=32,o=1,s=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],d=[],f=[],h=[];let g=0;const m=[],y=r/2;let p=0;v(),s===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(u),this.setAttribute("position",new Vs(d,3)),this.setAttribute("normal",new Vs(f,3)),this.setAttribute("uv",new Vs(h,2));function v(){const x=new Se,T=new Se;let k=0;const A=(n-e)/r;for(let z=0;z<=o;z++){const S=[],N=z/o,P=N*(n-e)+e;for(let W=0;W<=i;W++){const B=W/i,b=B*l+a,E=Math.sin(b),I=Math.cos(b);T.x=P*E,T.y=-N*r+y,T.z=P*I,d.push(T.x,T.y,T.z),x.set(E,A,I).normalize(),f.push(x.x,x.y,x.z),h.push(B,1-N),S.push(g++)}m.push(S)}for(let z=0;z<i;z++)for(let S=0;S<o;S++){const N=m[S][z],P=m[S+1][z],W=m[S+1][z+1],B=m[S][z+1];(e>0||S!==0)&&(u.push(N,P,B),k+=3),(n>0||S!==o-1)&&(u.push(P,W,B),k+=3)}c.addGroup(p,k,0),p+=k}function w(x){const T=g,k=new sn,A=new Se;let z=0;const S=x===!0?e:n,N=x===!0?1:-1;for(let W=1;W<=i;W++)d.push(0,y*N,0),f.push(0,N,0),h.push(.5,.5),g++;const P=g;for(let W=0;W<=i;W++){const b=W/i*l+a,E=Math.cos(b),I=Math.sin(b);A.x=S*I,A.y=y*N,A.z=S*E,d.push(A.x,A.y,A.z),f.push(0,N,0),k.x=E*.5+.5,k.y=I*.5*N+.5,h.push(k.x,k.y),g++}for(let W=0;W<i;W++){const B=T+W,b=P+W;x===!0?u.push(b,b+1,B):u.push(b+1,b,B),z+=3}c.addGroup(p,z,x===!0?1:2),p+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new db(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Wy extends A0{static get type(){return"MeshPhongMaterial"}constructor(e){super(),this.isMeshPhongMaterial=!0,this.color=new tn(16777215),this.specular=new tn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fj,this.normalScale=new sn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ys,this.combine=V5,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}const Sk={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class OEe{constructor(e,n,r){const i=this;let o=!1,s=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,o===!1&&i.onStart!==void 0&&i.onStart(u,s,a),o=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],g=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return g}return null}}}const BEe=new OEe;class t3{constructor(e){this.manager=e!==void 0?e:BEe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}t3.DEFAULT_MATERIAL_NAME="__DEFAULT";class LEe extends t3{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Sk.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a=Fm("img");function l(){u(),Sk.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(d){u(),i&&i(d),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class rG extends t3{constructor(e){super(e)}load(e,n,r,i){const o=new Jr,s=new LEe(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class iG extends Zr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new tn(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}const BE=new Wn,Ck=new Se,Tk=new Se;class DEe{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new sn(512,512),this.map=null,this.mapPass=null,this.matrix=new Wn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Z5,this._frameExtents=new sn(1,1),this._viewportCount=1,this._viewports=[new Gn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;Ck.setFromMatrixPosition(e.matrixWorld),n.position.copy(Ck),Tk.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(Tk),n.updateMatrixWorld(),BE.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BE),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(BE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class UEe extends DEe{constructor(){super(new Kj(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class oG extends iG{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Zr.DEFAULT_UP),this.updateMatrix(),this.target=new Zr,this.shadow=new UEe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class sG extends iG{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:W5}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=W5);const zEe=[{minFlips:5,duration:2e3,speed:1},{minFlips:6,duration:3e3,speed:1.2},{minFlips:7,duration:4e3,speed:1.4},{minFlips:8,duration:5e3,speed:1.6},{minFlips:9,duration:6e3,speed:1.8},{minFlips:10,duration:7e3,speed:2},{minFlips:12,duration:8e3,speed:2.3},{minFlips:14,duration:1e4,speed:2.6},{minFlips:16,duration:12e3,speed:3},{minFlips:20,duration:15e3,speed:3.5}],jEe=({isFlipping:t=!1,flipResult:e=null,flipDuration:n=2e3,isPlayerTurn:r=!1,onPowerCharge:i,onPowerRelease:o,chargingPlayer:s=null,isCharging:a=!1,creatorPower:l=0,joinerPower:c=0,size:u=300,creatorChoice:d=null,joinerChoice:f=null,isCreator:h=!1,customHeadsImage:g=null,customTailsImage:m=null})=>{console.log(" OptimizedGoldCoin rendering with size:",u,"props:",{isFlipping:t,flipResult:e,isPlayerTurn:r}),console.log(" Component timestamp:",Date.now());const y=U.useRef(null),p=U.useRef(null),v=U.useRef(null),w=U.useRef(null),x=U.useRef({}),T=U.useRef(null),k=U.useRef(!1),A=U.useRef({level:"high",fps:60}),z=U.useRef(0),S=U.useRef(performance.now()),N=()=>{const O=A.current.fps;return O<30?"low":O<50?"medium":"high"},P=()=>{z.current++;const O=performance.now(),C=O-S.current;C>=1e3&&(A.current.fps=Math.round(z.current*1e3/C),A.current.level=N(),z.current=0,S.current=O)},W=()=>{const O=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),C=A.current.level;if(O)return C==="low"?24:32;switch(C){case"low":return 32;case"medium":return 48;case"high":return 64;default:return 48}},B=(O,C=null)=>{const j=`${O}-${C||"default"}`;if(x.current[j])return x.current[j];if(C){const Z=new rG().load(C);return Z.colorSpace=qr,x.current[j]=Z,Z}const H=A.current.level==="low"?256:512,D=document.createElement("canvas");D.width=H,D.height=H;const M=D.getContext("2d");O==="edge"?(M.fillStyle="#F5F5F5",M.fillRect(0,0,H,H)):M.clearRect(0,0,H,H);const $=new nG(D);return $.colorSpace=qr,x.current[j]=$,$};U.useEffect(()=>{if(!y.current||p.current)return;console.log(" Creating new Three.js scene for OptimizedGoldCoin with size:",u);const O=new tG,C=new Zi(50,1,.1,1e3);C.position.set(0,3,10),C.lookAt(0,0,0);const j=new eG({antialias:A.current.level!=="low",alpha:!0,powerPreference:"high-performance"});j.setSize(u,u),j.setClearColor(0,0),j.setPixelRatio(Math.min(window.devicePixelRatio,2)),j.domElement.style.display="block",j.domElement.style.margin="0 auto",j.domElement.style.position="relative",j.domElement.style.left="50%",j.domElement.style.transform="translateX(-50%)",y.current.appendChild(j.domElement),p.current=O,v.current=j;const H=new sG(16777215,1.2);O.add(H);const D=new oG(16777215,1);D.position.set(5,5,5),O.add(D),console.log(" Creating materials at:",Date.now());const M=[new Wy({map:B("edge"),color:16777215,shininess:80,specular:4473924}),new Wy({map:B("heads",g),color:16777215,shininess:80,specular:4473924}),new Wy({map:B("tails",m),color:16777215,shininess:80,specular:4473924})],$=W(),J=new db(3,3,.4,$),Z=new ss(J,M);Z.scale.y=1.5,O.add(Z),w.current=Z,Z.rotation.x=0,Z.rotation.y=Math.PI/2,Z.rotation.z=0;const ce=()=>{if(!w.current||!v.current)return;P();const oe=w.current,Ae=Date.now()*.001,de=A.current.level;if(!k.current)if(a&&!k.current){const Re=Math.min(1,(l+c)/20);if(de!=="low"){const ae=1+Math.sin(Ae*10)*.05*Re;oe.scale.set(ae,ae,ae),oe.position.y=Math.sin(Ae*5)*.05*Re}oe.rotation.x+=.01*(1+Re*.5)}else de!=="low"&&(oe.rotation.x+=.003,oe.position.y=Math.sin(Ae*2)*.01),oe.scale.set(1,1,1),oe.position.x=0,oe.position.z=0;j.render(O,C),T.current=requestAnimationFrame(ce)};if(A.current.level==="low"){let oe=0;const de=1e3/30,Re=ae=>{ae-oe>=de&&(ce(),oe=ae),T.current=requestAnimationFrame(Re)};Re(0)}else ce();return()=>{T.current&&cancelAnimationFrame(T.current),console.log(" Cleaning up OptimizedGoldCoin Three.js scene"),M.forEach(oe=>{oe.map&&oe.map.dispose(),oe.dispose()}),J.dispose(),j.dispose(),Object.values(x.current).forEach(oe=>{oe.dispose()}),x.current={},p.current=null,v.current=null}},[u,g,m]),U.useEffect(()=>{if(!w.current)return;const O=w.current;Object.values(x.current).forEach(C=>{C.dispose()}),x.current={},O.material[1]&&(O.material[1].map&&O.material[1].map.dispose(),O.material[1].map=B("heads",g),O.material[1].needsUpdate=!0),O.material[2]&&(O.material[2].map&&O.material[2].map.dispose(),O.material[2].map=B("tails",m),O.material[2].needsUpdate=!0),O.material[0]&&(O.material[0].map&&O.material[0].map.dispose(),O.material[0].map=B("edge"),O.material[0].needsUpdate=!0)},[g,m,d,f]);const b=(O,C)=>{if(!w.current)return;const j=200,H=Date.now(),D=w.current,M={x:D.rotation.x,y:D.rotation.y,z:D.rotation.z},J=Math.floor(M.x/(Math.PI*2))*Math.PI*2+O,Z=()=>{const ce=Date.now()-H,oe=Math.min(ce/j,1),Ae=oe<.5?2*oe*oe:1-Math.pow(-2*oe+2,2)/2;D.rotation.x=M.x+(J-M.x)*Ae,D.rotation.y=Math.PI/2,D.rotation.z=0,D.position.y=0,oe<.3&&(D.position.y=Math.sin(oe*10)*.1*(1-oe*3)),oe<1?requestAnimationFrame(Z):(D.rotation.x=J,D.rotation.y=Math.PI/2,D.rotation.z=0,k.current=!1,console.log(" Desktop coin animation fully complete - winner should be announced now"))};Z()};U.useEffect(()=>!t||!e||!w.current?void 0:((()=>{if(k.current)return;k.current=!0;const C=w.current,j=(l||0)+(c||0),H=Math.max(1,Math.min(10,Math.ceil(j))),D=zEe[Math.max(0,H-1)],{minFlips:M,duration:$,speed:J}=D,Z=Math.PI*2,ce=M*Z,oe=Math.random()*Math.PI*4,Ae=ce+oe,Re=e==="heads"?0:Math.PI,ae=Date.now(),we={x:C.rotation.x,y:C.rotation.y,z:C.rotation.z},Ve=(5+H*.5)/2,te=J,Be=()=>{const ft=Date.now()-ae,ut=Math.min(ft/$,1),Je=1-Math.pow(1-ut,3),kt=Math.sin(ut*Math.PI);C.position.y=kt*Ve,C.rotation.x=we.x+Ae*Je*te,C.rotation.y=Math.PI/2,C.rotation.z=0,ut<1?requestAnimationFrame(Be):b(Re)};Be()})(),()=>{k.current=!1}),[t,e,n,l,c]);const E=O=>{!r||!i||(O.preventDefault(),i(O))},I=O=>{!r||!o||(O.preventDefault(),o(O))};return F("div",{ref:y,onMouseDown:r?E:void 0,onMouseUp:r?I:void 0,onMouseLeave:r?I:void 0,onTouchStart:r?E:void 0,onTouchEnd:r?I:void 0,style:{width:u,height:u,cursor:r?"pointer":"default",userSelect:"none",touchAction:"none",position:"relative",margin:"0 auto",display:"block",background:a?"radial-gradient(circle, rgba(255,20,147,0.1) 0%, transparent 70%)":"transparent",transition:"background 0.3s ease",borderRadius:"50%"}})},GEe=[{minFlips:5,duration:2e3,speed:1},{minFlips:6,duration:3e3,speed:1.2},{minFlips:7,duration:4e3,speed:1.4},{minFlips:8,duration:5e3,speed:1.6},{minFlips:9,duration:6e3,speed:1.8},{minFlips:10,duration:7e3,speed:2},{minFlips:12,duration:8e3,speed:2.3},{minFlips:14,duration:1e4,speed:2.6},{minFlips:16,duration:12e3,speed:3},{minFlips:20,duration:15e3,speed:3.5}],HEe=({isFlipping:t,flipResult:e,flipDuration:n=3e3,onPowerCharge:r,onPowerRelease:i,isPlayerTurn:o,isCharging:s=!1,chargingPlayer:a,creatorPower:l=0,joinerPower:c=0,creatorChoice:u=null,joinerChoice:d=null,isCreator:f=!1,customHeadsImage:h=null,customTailsImage:g=null,size:m=187})=>{const y=U.useRef(null),p=U.useRef(null),v=U.useRef(null),w=U.useRef(null),x=U.useRef(null),T=U.useRef(!1),k=U.useRef("heads"),A=U.useRef({}),z=U.useRef({}),S=U.useRef(0),N=U.useRef(Date.now()),[P,W]=U.useState(!1),B=(O,C=null)=>{const j=`${O}-${C||"default"}-${u}-${d}`;if(A.current[j])return A.current[j];if(C){const J=new rG().load(C);return J.colorSpace=qr,J.generateMipmaps=!1,J.minFilter=Pi,J.magFilter=Pi,A.current[j]=J,J}const H=document.createElement("canvas");H.width=256,H.height=256;const D=H.getContext("2d");if(O==="heads"){const $=D.createRadialGradient(128,128,0,128,128,128);$.addColorStop(0,"#FFFFFF"),$.addColorStop(.3,"#FFD700"),$.addColorStop(.7,"#FFA500"),$.addColorStop(1,"#CD853F"),D.fillStyle=$,D.fillRect(0,0,256,256),D.fillStyle="#2C1810",D.font="bold 64px serif",D.textAlign="center",D.textBaseline="middle",D.fillText("",128,108),u==="heads"&&f||d==="heads"&&!f?(D.fillStyle="#00FF00",D.shadowColor="#00FF00",D.shadowBlur=8):u==="heads"&&!f||d==="heads"&&f?(D.fillStyle="#FF0000",D.shadowColor="#FF0000",D.shadowBlur=8):(D.fillStyle="#2C1810",D.shadowBlur=0),D.font="bold 32px Arial",D.fillText("HEADS",128,148),D.shadowBlur=0,D.strokeStyle="#8B4513",D.lineWidth=4,D.beginPath(),D.arc(128,128,120,0,Math.PI*2),D.stroke()}else if(O==="tails"){const $=D.createRadialGradient(128,128,0,128,128,128);$.addColorStop(0,"#FFFFFF"),$.addColorStop(.3,"#FFD700"),$.addColorStop(.7,"#FFA500"),$.addColorStop(1,"#CD853F"),D.fillStyle=$,D.fillRect(0,0,256,256),D.fillStyle="#2C1810",D.font="bold 64px serif",D.textAlign="center",D.textBaseline="middle",D.fillText("",128,108),u==="tails"&&f||d==="tails"&&!f?(D.fillStyle="#00FF00",D.shadowColor="#00FF00",D.shadowBlur=8):u==="tails"&&!f||d==="tails"&&f?(D.fillStyle="#FF0000",D.shadowColor="#FF0000",D.shadowBlur=8):(D.fillStyle="#2C1810",D.shadowBlur=0),D.font="bold 32px Arial",D.fillText("TAILS",128,148),D.shadowBlur=0,D.strokeStyle="#8B4513",D.lineWidth=4,D.beginPath(),D.arc(128,128,120,0,Math.PI*2),D.stroke()}else if(O==="edge"){D.fillStyle="#DAA520",D.fillRect(0,0,256,256),D.strokeStyle="#B8860B",D.lineWidth=2;for(let $=0;$<256;$+=8)D.beginPath(),D.moveTo($,0),D.lineTo($,256),D.stroke()}const M=new nG(H);return M.colorSpace=qr,M.generateMipmaps=!1,M.minFilter=Pi,M.magFilter=Pi,A.current[j]=M,M},b=(O,C=null)=>{const j=`material-${O}-${C||"default"}-${u}-${d}`;if(z.current[j])return z.current[j];const H=new Wy({map:B(O,C),color:16777215,shininess:60,specular:3355443});return z.current[j]=H,H},E=(O,C)=>{if(!p.current)return;const j=150,H=Date.now(),D=p.current,M=D.rotation.x,J=Math.floor(M/(Math.PI*2))*Math.PI*2+O,Z=()=>{const ce=Date.now()-H,oe=Math.min(ce/j,1),Ae=1-Math.pow(1-oe,2);D.rotation.x=M+(J-M)*Ae,D.position.y=0,D.rotation.y=Math.PI/2,D.rotation.z=0,oe<1?requestAnimationFrame(Z):(D.rotation.x=J,D.rotation.y=Math.PI/2,D.rotation.z=0,k.current=C?"heads":"tails",T.current=!1,console.log(" Mobile coin animation fully complete - winner should be announced now"))};Z()},I=O=>{if(!p.current){console.warn(" No coin ref available for flip");return}if(T.current){console.log(" Flip already in progress, skipping");return}console.log(" Mobile 3D flip starting with power mechanics:",{result:O,testMode:P,isFlipping:t,currentSide:k.current,coinVisible:p.current?.visible!==!1}),T.current=!0;const C=p.current;C.visible=!0,C.visible||(console.warn(" Mobile coin became invisible during flip - forcing visible"),C.visible=!0);const j=(l||0)+(c||0)||5,H=Math.max(1,Math.min(10,Math.ceil(j))),D=GEe[Math.max(0,H-1)],{minFlips:M,duration:$,speed:J}=D,Z=Math.PI*2,ce=M*Z+Math.random()*Math.PI*2,oe=O==="heads",Ae=oe?0:Math.PI,de=Date.now(),Re=C.rotation.x,ae=(4+H*.3)/2,we=()=>{if(!p.current){console.warn(" Coin disappeared during animation"),T.current=!1;return}if(!T.current){console.log(" Animation stopped externally");return}const Ve=Date.now()-de,te=Math.min(Ve/$,1),Be=1-Math.pow(1-te,2);C.position.y=Math.sin(te*Math.PI)*ae,C.rotation.x=Re+ce*Be*J,te<1?requestAnimationFrame(we):E(Ae,oe)};we()};return U.useEffect(()=>{if(!y.current||v.current)return;console.log(" Creating mobile optimized 3D coin");const O=new tG,C=new Zi(45,1,.1,1e3);C.position.set(0,3,10),C.lookAt(0,0,0);const j=new eG({antialias:!1,alpha:!0,powerPreference:"high-performance"});j.setSize(m,m),j.setClearColor(0,0),j.setPixelRatio(Math.min(window.devicePixelRatio,2)),j.domElement.style.display="block",j.domElement.style.margin="0 auto",y.current.appendChild(j.domElement),v.current=O,w.current=j;const H=new sG(16777215,1);O.add(H);const D=new oG(16777215,.8);D.position.set(3,3,5),O.add(D);const M=[b("edge"),b("heads",h),b("tails",g)],$=new db(3,3,.4,32),J=new ss($,M);J.scale.y=1.5,O.add(J),p.current=J,J.rotation.x=0,J.rotation.y=Math.PI/2,J.rotation.z=0,J.visible=!0,k.current="heads",console.log(" Mobile coin initialized:",{position:J.position,rotation:J.rotation,visible:J.visible,scale:J.scale});const Z=()=>{if(!p.current||!w.current){console.warn(" Missing refs in animation loop:",{coin:!!p.current,renderer:!!w.current});return}const ce=p.current,oe=Date.now()*.001;if(ce.visible=!0,ce.visible||(console.warn(" Mobile coin visibility issue detected - forcing visible"),ce.visible=!0),!T.current)if(s){const Ae=(l+c)/20;ce.position.y=Math.sin(oe*6)*.1*Ae,ce.scale.set(1+Ae*.05,1+Ae*.05,1+Ae*.05)}else ce.scale.set(1,1,1),ce.position.set(0,0,0),ce.position.y=Math.sin(oe*2)*.02;S.current++,Date.now()-N.current>1e3&&(console.log(` Mobile 3D FPS: ${S.current} | Coin visible: ${ce.visible} | Test: ${P}`),S.current=0,N.current=Date.now()),w.current.render(O,C),x.current=requestAnimationFrame(Z)};return Z(),()=>{x.current&&cancelAnimationFrame(x.current),y.current&&j.domElement&&y.current.removeChild(j.domElement),$.dispose(),M.forEach(ce=>ce.dispose()),j.dispose()}},[m]),U.useEffect(()=>{if(!p.current)return;console.log(" Updating mobile coin textures:",{creatorChoice:u,joinerChoice:d});const O=p.current;O.visible=!0;try{if(O.material&&O.material[1]){const C=B("heads",h);O.material[1].map=C,O.material[1].needsUpdate=!0}if(O.material&&O.material[2]){const C=B("tails",g);O.material[2].map=C,O.material[2].needsUpdate=!0}}catch(C){console.warn("Error updating mobile coin textures:",C)}O.visible=!0},[u,d,h,g]),U.useEffect(()=>{!t||!e||P||I(e)},[t,e,l,c]),F("div",{style:{position:"relative"},children:F("div",{ref:y,style:{width:m,height:m,margin:"0 auto",cursor:o?"pointer":"default"},onTouchStart:P?void 0:r,onTouchEnd:P?void 0:i})})},Mk=({creatorPower:t=0,joinerPower:e=0,currentPlayer:n=null,creator:r=null,joiner:i=null,chargingPlayer:o=null,gamePhase:s=null,isMyTurn:a=!1,playerChoice:l=null,onChoiceSelect:c=null,isMobile:u=!1})=>{const d=t+e,f=10,h=s==="choosing"&&a&&!l&&c;console.log(" PowerDisplay Debug:",{gamePhase:s,isMyTurn:a,playerChoice:l,currentPlayer:n,creator:r,joiner:i,showChoiceButtons:h,hasOnChoiceSelect:!!c});const g=s==="round_active"||l;if(!h&&!g&&s!=="choosing")return null;const m=u?{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)",width:"100%"}:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(25, 20, 0, 0.8) 100%)",padding:"1.5rem",borderRadius:"1rem",border:"2px solid #FFD700",backdropFilter:"blur(10px)",maxWidth:"550px",margin:"0 auto",boxShadow:"0 0 20px rgba(255, 215, 0, 0.3), inset 0 0 20px rgba(255, 215, 0, 0.1)"},y=u?{color:Ze.colors.neonYellow,fontSize:"1rem",fontWeight:"bold",textAlign:"center",marginBottom:"1rem"}:{color:"#FFD700",fontSize:"1.1rem",fontWeight:"bold",textAlign:"center",marginBottom:"1.2rem",textShadow:"0 0 10px rgba(255, 215, 0, 0.5)",letterSpacing:"1px"},p=u?{width:"100%",padding:"1rem",fontSize:"1rem",minHeight:"50px"}:{flex:1,padding:"1.5rem",fontSize:"1.2rem"};return q("div",{style:m,children:[F("div",{style:y,children:" POWER LEVEL "}),h&&q("div",{style:{marginBottom:u?"1rem":"1.5rem"},children:[F("div",{style:{color:u?Ze.colors.neonYellow:"#FFD700",fontSize:u?"0.9rem":"1rem",fontWeight:"bold",marginBottom:u?"0.75rem":"1rem",textAlign:"center"},children:" CHOOSE YOUR SIDE"}),q("div",{style:{display:"flex",gap:u?"0.75rem":"1rem",flexDirection:u?"column":"row"},children:[F("button",{onClick:()=>{console.log(" HEADS clicked by:",n,"gamePhase:",s),c?c("heads"):console.error(" onChoiceSelect is null!")},style:{...p,background:"linear-gradient(45deg, #00FF41, #00CC33)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:u?"0.75rem":"1rem",color:"#000000",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 0 20px rgba(0, 255, 65, 0.5)",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)",position:"relative",overflow:"hidden",animation:"colorPulse 2s ease infinite"},children:"HEADS"}),F("button",{onClick:()=>{console.log(" TAILS clicked by:",n,"gamePhase:",s),c?c("tails"):console.error(" onChoiceSelect is null!")},style:{...p,background:"#FF1493",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:u?"0.75rem":"1rem",color:"white",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 0 20px rgba(255, 20, 147, 0.5)",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)",position:"relative",overflow:"hidden",animation:"colorPulse 2s ease infinite"},children:"TAILS"})]})]}),(g||!h)&&q("div",{children:[q("div",{style:{marginBottom:u?"1rem":"1.2rem"},children:[q("div",{style:{color:u?Ze.colors.neonYellow:"#FFD700",fontSize:u?"0.85rem":"0.95rem",fontWeight:"bold",marginBottom:u?"0.5rem":"0.6rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("span",{children:"Total Power"}),q("span",{style:{color:u?Ze.colors.neonYellow:"#FFD700",textShadow:u?"none":"0 0 5px rgba(255, 215, 0, 0.8)"},children:[d.toFixed(1),"/10"]})]}),q("div",{style:{height:u?"16px":"24px",background:"linear-gradient(90deg, rgba(0, 0, 0, 0.8) 0%, rgba(40, 30, 0, 0.6) 100%)",borderRadius:u?"8px":"12px",overflow:"hidden",border:u?"2px solid #FFD700":"3px solid #FFD700",position:"relative",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.5)"},children:[F("div",{style:{height:"100%",width:`${d/f*100}%`,background:o?"linear-gradient(90deg, #FFD700 0%, #FFA500 30%, #FF6B00 60%, #FF1493 100%)":"linear-gradient(90deg, #FFD700 0%, #FFA500 50%, #FF6B00 100%)",borderRadius:u?"6px":"9px",transition:"width 0.15s ease-out",backgroundSize:"200% 100%",animation:o?"powerCharge 0.6s linear infinite":"none",boxShadow:o?"0 0 15px rgba(255, 215, 0, 0.8), inset 0 0 10px rgba(255, 255, 255, 0.3)":"0 0 8px rgba(255, 215, 0, 0.6)"}}),F("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 0.5rem"},children:[2,4,6,8].map(v=>F("div",{style:{width:"2px",height:"70%",background:"rgba(255, 255, 255, 0.4)",opacity:d>=v?1:.3}},v))})]})]}),o&&F("div",{style:{padding:u?"0.5rem":"0.6rem",background:"linear-gradient(90deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 165, 0, 0.1) 100%)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:u?"0.5rem":"0.75rem",textAlign:"center"},children:q("div",{style:{color:u?Ze.colors.neonYellow:"#FFD700",fontSize:u?"0.8rem":"0.9rem",fontWeight:"bold",animation:"powerPulse 0.4s ease-in-out infinite",textShadow:u?"none":"0 0 10px rgba(255, 215, 0, 0.8)"},children:[" ",o===r?"PLAYER 1":"PLAYER 2"," CHARGING "]})})]})]})},aG=xe("div",{target:"ev7jjqq2"})("position:relative;width:",t=>t.size,"px;height:",t=>t.size,"px;border-radius:",t=>t.style?.borderRadius||"50%",";overflow:hidden;cursor:",t=>t.isClickable?"pointer":"default",";border:",t=>t.style?.border||"2px solid rgba(255, 255, 255, 0.2)",";background:rgba(0, 0, 0, 0.3);display:flex;align-items:center;justify-content:center;transition:all 0.3s ease;&:hover{border-color:",t=>t.isClickable?"rgba(255, 20, 147, 0.5)":t.style?.border,";box-shadow:",t=>t.isClickable?"0 0 15px rgba(255, 20, 147, 0.3)":"none",";}"),WEe=xe("img",{target:"ev7jjqq1"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"}),VEe=xe("div",{target:"ev7jjqq0"})("position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:white;font-size:1.5rem;opacity:0;transition:opacity 0.3s ease;pointer-events:none;",aG,":hover &{opacity:1;}"),Ik=({address:t,size:e=40,isClickable:n=!1,showUploadIcon:r=!1,profileData:i=null,style:o={}})=>{const{getProfilePicture:s,setProfilePicture:a}=N5(),{address:l}=po(),[c,u]=U.useState(i?.imageUrl||null),[d,f]=U.useState(!0);return U.useEffect(()=>{if(i?.imageUrl){u(i.imageUrl),f(!1);return}(async()=>{if(t)try{f(!0);const m=await s(t);u(m)}catch(m){console.error("Error loading profile picture:",m)}finally{f(!1)}})()},[t,i,s]),q(aG,{size:e,isClickable:n,onClick:async g=>{if(!n)return;const m=document.createElement("input");m.type="file",m.accept="image/*",m.onchange=async y=>{const p=y.target.files[0];if(p){if(p.size>5*1024*1024){alert("Image size must be less than 5MB");return}const v=new FileReader;v.onload=async w=>{try{const x=w.target.result;await a(t,x),u(x)}catch(x){console.error("Error uploading profile picture:",x)}},v.readAsDataURL(p)}},m.click()},style:o,children:[c?F(WEe,{src:c,alt:"Profile"}):F("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:`${e*.4}px`},children:t?.slice(0,2).toUpperCase()}),r&&n&&F(VEe,{children:""})]})},$Ee="/assets/mobile-DNcTw2U2.webm",lG=xe("div",{target:"e12jjgri4"})("position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);width:",t=>t.isMobile?"320px":"400px",";background:rgba(0, 0, 0, 0.9);border-radius:1.5rem;z-index:1000;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;padding:1rem;backdrop-filter:blur(10px);"),qEe=xe(lG,{target:"e12jjgri3"})(""),Rk=xe("div",{target:"e12jjgri2"})("position:relative;width:",t=>t.isMobile?"280px":"360px",";height:",t=>t.isMobile?"280px":"360px",";border-radius:1rem;overflow:hidden;border:",t=>t.isWinner?"3px solid #00FF41":"3px solid #FF1493",";box-shadow:",t=>t.isWinner?"0 0 30px rgba(0, 255, 65, 0.6), 0 0 60px rgba(0, 255, 65, 0.3)":"0 0 30px rgba(255, 20, 147, 0.6), 0 0 60px rgba(255, 20, 147, 0.3)",";animation:",t=>t.isWinner?"winnerGlow":"loserGlow"," 2s ease-in-out infinite alternate;@keyframes winnerGlow{0%{box-shadow:0 0 30px rgba(0, 255, 65, 0.4),0 0 60px rgba(0, 255, 65, 0.2);}100%{box-shadow:0 0 40px rgba(0, 255, 65, 0.6),0 0 80px rgba(0, 255, 65, 0.3);}}@keyframes loserGlow{0%{box-shadow:0 0 30px rgba(255, 20, 147, 0.4),0 0 60px rgba(255, 20, 147, 0.2);}100%{box-shadow:0 0 40px rgba(255, 20, 147, 0.6),0 0 80px rgba(255, 20, 147, 0.3);}}"),Pk=xe("div",{target:"e12jjgri1"})("width:100%;display:flex;flex-direction:column;gap:1rem;align-items:center;padding:1rem;background:rgba(0, 0, 0, 0.8);border-radius:1rem;border:2px solid ",t=>t.isWinner?"#00FF41":"#FF1493",";backdrop-filter:blur(10px);animation:buttonFlash 2s ease-in-out infinite;@keyframes buttonFlash{0%,100%{border-color:",t=>t.isWinner?"rgba(0, 255, 65, 0.6)":"rgba(255, 20, 147, 0.6)",";box-shadow:0 0 20px ",t=>t.isWinner?"rgba(0, 255, 65, 0.3)":"rgba(255, 20, 147, 0.3)",";}50%{border-color:",t=>t.isWinner?"rgba(0, 255, 65, 1)":"rgba(255, 20, 147, 1)",";box-shadow:0 0 30px ",t=>t.isWinner?"rgba(0, 255, 65, 0.6)":"rgba(255, 20, 147, 0.6)",";}}"),cG=({isVisible:t,isWinner:e,flipResult:n,playerChoice:r,onClose:i,onClaimWinnings:o,gameData:s=null})=>{const a=oh(),l=window.innerWidth<=768;if(!t)return null;const c=()=>{a("/")};return q("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(10px)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",animation:"fadeIn 0.3s ease-in-out"},children:[e&&q(lG,{isMobile:l,children:[F(Rk,{isMobile:l,isWinner:!0,children:F("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"},src:"/images/video/LoseWin/final lose win/endwin.webm",onError:d=>{console.error("Video playback error:",d),console.log("Video source:",d.target.src);const f=["/images/video/LoseWin/final lose win/endwin.webm","images/video/LoseWin/final lose win/endwin.webm","./images/video/LoseWin/final lose win/endwin.webm"],g=(f.indexOf(d.target.src)+1)%f.length;d.target.src=f[g]},onLoadedData:d=>{console.log("Video loaded successfully"),d.target.play().catch(f=>console.error("Play error:",f))}},"win")}),q(Pk,{isWinner:!0,children:[F("h2",{style:{color:"#00FF41",textShadow:"0 0 10px #00FF41",marginBottom:"0.5rem",fontSize:"1.4rem",textAlign:"center"},children:" You Won!"}),F("p",{style:{fontSize:"1rem",marginBottom:"1rem",color:"white",textAlign:"center"},children:"Congratulations!"}),q("div",{style:{display:"flex",gap:"0.75rem",width:"100%"},children:[F("button",{onClick:()=>{o&&o()},style:{flex:1,background:"linear-gradient(135deg, #00FF41, #39FF14)",color:"#000",border:"none",padding:"1rem 0.75rem",borderRadius:"0.75rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(0, 255, 65, 0.5)",transition:"all 0.3s ease",textTransform:"uppercase",animation:"collectFlash 1.5s ease-in-out infinite"},onMouseOver:d=>{d.currentTarget.style.transform="scale(1.05)",d.currentTarget.style.boxShadow="0 0 25px rgba(0, 255, 65, 0.7)"},onMouseOut:d=>{d.currentTarget.style.transform="scale(1)",d.currentTarget.style.boxShadow="0 0 20px rgba(0, 255, 65, 0.5)"},children:" COLLECT"}),F("button",{onClick:c,style:{flex:1,background:"linear-gradient(135deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"1rem 0.75rem",borderRadius:"0.75rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(255, 20, 147, 0.5)",transition:"all 0.3s ease",textTransform:"uppercase"},onMouseOver:d=>{d.currentTarget.style.transform="scale(1.05)",d.currentTarget.style.boxShadow="0 0 25px rgba(255, 20, 147, 0.7)"},onMouseOut:d=>{d.currentTarget.style.transform="scale(1)",d.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.5)"},children:" HOME"})]})]})]}),!e&&q(qEe,{isMobile:l,children:[F(Rk,{isMobile:l,isWinner:!1,children:F("video",{autoPlay:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"},src:"/images/video/LoseWin/final lose win/endlose.webm",onError:d=>{console.error("Video playback error:",d),console.log("Video source:",d.target.src);const f=["/images/video/LoseWin/final lose win/endlose.webm","images/video/LoseWin/final lose win/endlose.webm","./images/video/LoseWin/final lose win/endlose.webm"],g=(f.indexOf(d.target.src)+1)%f.length;d.target.src=f[g]},onLoadedData:d=>{console.log("Video loaded successfully"),d.target.play().catch(f=>console.error("Play error:",f))}},"lose")}),q(Pk,{isWinner:!1,children:[F("h2",{style:{color:"#FF1493",textShadow:"0 0 10px #FF1493",marginBottom:"0.5rem",fontSize:"1.4rem",textAlign:"center"},children:" You Lost"}),F("p",{style:{fontSize:"1rem",marginBottom:"1rem",color:"white",textAlign:"center"},children:"Better luck next time!"}),F("button",{onClick:c,style:{width:"100%",background:"linear-gradient(135deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"1rem",borderRadius:"0.75rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(255, 20, 147, 0.5)",transition:"all 0.3s ease",textTransform:"uppercase",animation:"homeFlash 1.5s ease-in-out infinite"},onMouseOver:d=>{d.currentTarget.style.transform="scale(1.05)",d.currentTarget.style.boxShadow="0 0 25px rgba(255, 20, 147, 0.7)"},onMouseOut:d=>{d.currentTarget.style.transform="scale(1)",d.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.5)"},children:" HOME"})]})]})]})},KEe=xe("div",{target:"e1v3jcde7"})({name:"ugv07s",styles:"background:rgba(0, 0, 0, 0.7);border:1px solid rgba(255, 255, 255, 0.1);border-radius:1rem;padding:1rem;height:300px;display:flex;flex-direction:column"}),QEe=xe("div",{target:"e1v3jcde6"})({name:"oasci9",styles:"flex:1;overflow-y:auto;margin-bottom:1rem;padding-right:0.5rem;&::-webkit-scrollbar{width:6px;}&::-webkit-scrollbar-track{background:rgba(255, 255, 255, 0.1);border-radius:3px;}&::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.2);border-radius:3px;}"}),XEe=xe("div",{target:"e1v3jcde5"})("margin-bottom:0.5rem;padding:0.5rem;border-radius:0.5rem;background:",t=>t.isCurrentUser?"rgba(255, 20, 147, 0.2)":"rgba(255, 255, 255, 0.1)",";border:1px solid ",t=>t.isCurrentUser?"rgba(255, 20, 147, 0.3)":"rgba(255, 255, 255, 0.2)",";"),YEe=xe("div",{target:"e1v3jcde4"})("display:flex;justify-content:space-between;margin-bottom:0.25rem;font-size:0.8rem;color:",t=>t.isCurrentUser?"#FF1493":"#00BFFF",";"),JEe=xe("div",{target:"e1v3jcde3"})({name:"l6ov4n",styles:"color:#fff;word-break:break-word"}),ZEe=xe("form",{target:"e1v3jcde2"})({name:"aj6rbz",styles:"display:flex;gap:0.5rem"}),eAe=xe("input",{target:"e1v3jcde1"})({name:"d6ulw3",styles:"flex:1;background:rgba(255, 255, 255, 0.1);border:1px solid rgba(255, 255, 255, 0.2);border-radius:0.5rem;padding:0.5rem;color:#fff;font-size:0.9rem;&:focus{outline:none;border-color:rgba(255, 20, 147, 0.5);box-shadow:0 0 10px rgba(255, 20, 147, 0.2);}"}),tAe=xe("button",{target:"e1v3jcde0"})({name:"10wre2a",styles:"background:linear-gradient(45deg, #FF1493, #FF69B4);border:none;border-radius:0.5rem;padding:0.5rem 1rem;color:#fff;font-weight:bold;cursor:pointer;transition:all 0.3s ease;&:hover{transform:scale(1.05);box-shadow:0 0 15px rgba(255, 20, 147, 0.4);}&:disabled{opacity:0.5;cursor:not-allowed;transform:none;}"}),LE=({gameId:t,socket:e,connected:n})=>{const{address:r,isConnected:i}=po(),{getPlayerName:o,setPlayerName:s}=N5(),{showError:a}=Js(),[l,c]=U.useState([]),[u,d]=U.useState(""),[f,h]=U.useState(!1),[g,m]=U.useState(""),[y,p]=U.useState(""),[v,w]=U.useState(!0),[x,T]=U.useState(0),[k,A]=U.useState({}),z=U.useRef(null),S=U.useRef(null);U.useEffect(()=>{r&&i&&(async()=>{const O=await o(r);p(O||"")})()},[r,i,o]),U.useEffect(()=>{z.current?.scrollIntoView({behavior:"smooth"})},[l]),U.useEffect(()=>{if(!e)return;const I=O=>{try{const C=JSON.parse(O.data);C.type==="chat_message"&&c(j=>[...j,{id:C.id,address:C.address,name:C.name,message:C.message,timestamp:C.timestamp,isSystem:C.isSystem||!1}])}catch(C){console.error("Error parsing chat message:",C)}};return e.addEventListener("message",I),()=>e.removeEventListener("message",I)},[e]);const N=I=>!(!I||typeof I!="string"||I.trim().length===0||I.length>500||I.includes("<")||I.includes(">")||I.includes("javascript:")||I.includes("data:")),P=I=>!(!I||typeof I!="string"||I.trim().length===0||I.length>50||!/^[a-zA-Z0-9\s\-_.!@#$%^&*()]+$/.test(I)||I.includes("<")||I.includes(">")||I.includes("javascript:")||I.includes("data:")),W=async I=>{if(I.preventDefault(),!n||!e||!r||!i){a("Not connected to game");return}if(!y){h(!0);return}const O=u.trim();if(!N(O)){a("Invalid message. Keep it under 500 characters and avoid special characters.");return}try{const C={type:"chat_message",gameId:t,address:r,name:y,message:O,timestamp:new Date().toISOString()};e.send(JSON.stringify(C)),d(""),S.current?.focus()}catch(C){console.error("Error sending chat message:",C),a("Failed to send message")}},B=async()=>{if(!P(g)){a("Invalid name. Use 50 characters or less, alphanumeric and basic punctuation only.");return}try{await s(r,g.trim()),p(g.trim()),h(!1),m("")}catch(I){console.error("Error saving name:",I),a("Failed to save name")}},b=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),W(I))},E=I=>new Date(I).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return U.useEffect(()=>{(async()=>{const O={};for(const C of l)if(!O[C.address]){const j=await o(C.address);O[C.address]=j}A(O)})()},[l,o]),i?q(KEe,{children:[q("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"1px solid rgba(255, 215, 0, 0.3)"},children:[F("div",{style:{color:"#FFD700",fontWeight:"bold",fontSize:"1.2rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Chat"}),q("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[F("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:n?"#00FF00":"#FF0000",animation:n?"pulse 2s infinite":"none"}}),F("span",{style:{color:Ze.colors.textSecondary,fontSize:"0.8rem"},children:n?"Connected":"Disconnected"})]})]}),q(QEe,{children:[l.map((I,O)=>{const C=I.address===r,j=k[I.address]||I.address.slice(0,6)+"..."+I.address.slice(-4);return q(XEe,{isCurrentUser:C,children:[q(YEe,{isCurrentUser:C,children:[F("span",{children:j}),F("span",{children:E(I.timestamp)})]}),F(JEe,{children:I.message})]},O)}),F("div",{ref:z})]}),q(ZEe,{onSubmit:W,children:[F(eAe,{ref:S,type:"text",value:u,onChange:I=>d(I.target.value),onKeyPress:b,placeholder:"Type your message...",disabled:!n,style:{flex:1,background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.75rem",color:"#fff",fontSize:"0.9rem"}}),F(tAe,{type:"submit",disabled:!n||!u.trim(),style:{background:"linear-gradient(45deg, #FF1493, #FF69B4)",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1rem",color:"#fff",fontWeight:"bold",cursor:"pointer",fontSize:"0.9rem",minWidth:"60px",whiteSpace:"nowrap"},children:"Send"})]}),f&&F("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",zIndex:10001,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(5px)"},children:q("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(25, 20, 0, 0.9) 100%)",border:"2px solid #FFD700",borderRadius:"1rem",padding:"1.5rem",width:"90%",maxWidth:"400px",position:"relative"},children:[F("h3",{style:{color:"#FFD700",marginBottom:"1rem",fontSize:"1.2rem"},children:y?"Change Your Name":"Set Your Name"}),F("input",{type:"text",value:g,onChange:I=>m(I.target.value),placeholder:"Enter your name...",style:{width:"100%",padding:"0.75rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"0.5rem",color:"#fff",fontSize:"1rem",marginBottom:"1rem"}}),q("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[F("button",{onClick:()=>h(!1),style:{padding:"0.75rem 1.5rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.5rem",color:"#fff",fontSize:"0.9rem",cursor:"pointer"},children:"Cancel"}),F("button",{onClick:B,style:{padding:"0.75rem 1.5rem",background:"linear-gradient(45deg, #FFD700, #FFA500)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer"},children:"Save"})]})]})}),F("style",{children:`
          @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
          }
        `})]}):F("div",{style:{background:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"1rem",padding:"1rem",textAlign:"center"},children:F("div",{style:{color:Ze.colors.textSecondary},children:"Connect your wallet to join the chat"})})},nAe=({nftData:t,chainConfig:e})=>{if(!t)return F("div",{style:{color:"#888",textAlign:"center",padding:"1rem"},children:"NFT data not available"});const[n,r]=U.useState(!1),[i,o]=U.useState(""),s=(l,c)=>{navigator.clipboard.writeText(l),o(c),setTimeout(()=>o(""),2e3)},a=l=>l?`${(l*100).toFixed(2)}%`:"N/A";return q("div",{style:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"12px",padding:"16px",color:"#fff",fontFamily:"Inter, sans-serif"},children:[F("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:F("h3",{style:{margin:0,fontSize:"16px"},children:t.name||"Unnamed NFT"})}),q("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[q("div",{children:[F("div",{style:{fontSize:"14px",opacity:.8},children:"Collection"}),F("div",{style:{fontWeight:"bold"},children:t.collection||"Unknown"})]}),q("div",{children:[F("div",{style:{fontSize:"14px",opacity:.8},children:"Token ID"}),q("div",{style:{fontWeight:"bold"},children:["#",t.tokenId]})]})]}),q("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[F("a",{href:`${e.explorerUrl}/token/${t.contractAddress}?a=${t.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"4px"},children:" Explorer"}),F("a",{href:`${e.marketplaceUrl}/${t.contractAddress}/${t.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"4px"},children:" OpenSea"})]}),q("div",{children:[q("button",{onClick:()=>r(!n),style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"8px",width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[F("span",{children:"View Details"}),F("span",{children:n?"":""})]}),n&&q("div",{style:{marginTop:"12px",padding:"12px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:[q("div",{style:{marginBottom:"16px"},children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"4px"},children:"Contract Address"}),q("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",wordBreak:"break-all"},children:[F("span",{children:`${t.contractAddress.slice(0,6)}...${t.contractAddress.slice(-4)}`}),F("button",{onClick:()=>s(t.contractAddress,"contract"),style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"4px"},children:i==="contract"?"":""})]})]}),t.metadata?.description&&q("div",{style:{marginBottom:"16px"},children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"4px"},children:"Description"}),F("div",{style:{fontSize:"12px",lineHeight:"1.4"},children:t.metadata.description})]}),t.metadata?.attributes?.length>0&&q("div",{style:{marginBottom:"16px"},children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"8px"},children:"Attributes"}),F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"8px"},children:t.metadata.attributes.map((l,c)=>q("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"8px",borderRadius:"6px",fontSize:"12px"},children:[F("div",{style:{opacity:.8},children:l.trait_type}),F("div",{style:{fontWeight:"bold"},children:l.value}),l.rarity&&q("div",{style:{fontSize:"10px",opacity:.6},children:["Rarity: ",a(l.rarity)]})]},c))})]}),q("div",{children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"4px"},children:"Verification Status"}),q("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px"},children:[F("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:Ze.colors.neonGreen}}),q("span",{children:["Verified on ",e.name]})]})]})]})]})]})},Nk=({gameId:t,gameData:e,isCreator:n,socket:r,connected:i,offeredNFTs:o=[],onOfferSubmitted:s,onOfferAccepted:a})=>{const{isConnected:l,address:c,nfts:u,provider:d}=po(),{showSuccess:f,showError:h,showInfo:g}=Js(),[m,y]=U.useState(null),[p,v]=U.useState(!1),[w,x]=U.useState(!1),T=async()=>{if(!(!m||!i||!r))try{v(!0),g("Submitting NFT offer...");const S={type:"nft_offer",gameId:t,offererAddress:c,nft:{contractAddress:m.contractAddress,tokenId:m.tokenId,name:m.name,image:m.image,collection:m.collection,chain:m.chain},timestamp:new Date().toISOString()};r.send(JSON.stringify(S)),f("NFT offer submitted! Waiting for creator to accept..."),y(null),x(!1),s&&s(S)}catch(S){console.error("Error submitting offer:",S),h("Failed to submit offer: "+S.message)}finally{v(!1)}},k=async S=>{if(!(!n||!i||!r))try{g("Accepting NFT challenge...");const N={type:"accept_nft_offer",gameId:t,creatorAddress:c,acceptedOffer:S,timestamp:new Date().toISOString()};r.send(JSON.stringify(N)),a&&a(S)}catch(N){console.error("Error accepting offer:",N),h("Failed to accept offer: "+N.message)}},A=S=>{const N={ethereum:"https://etherscan.io",base:"https://basescan.org",polygon:"https://polygonscan.com",arbitrum:"https://arbiscan.io"};return`${N[S.chain?.toLowerCase()]||N.ethereum}/token/${S.contractAddress}?a=${S.tokenId}`},z=S=>`https://opensea.io/assets/${{ethereum:"ethereum",base:"base",polygon:"matic",arbitrum:"arbitrum"}[S.chain?.toLowerCase()]||"ethereum"}/${S.contractAddress}/${S.tokenId}`;return n?q("div",{style:{background:"rgba(0, 255, 65, 0.1)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"1rem",padding:"1.5rem",marginTop:"1rem"},children:[q("h3",{style:{color:"#00FF41",fontSize:"1.2rem",marginBottom:"1rem",textAlign:"center"},children:[" NFT Battle Offers (",o.length,")"]}),o.length===0?q("div",{style:{textAlign:"center",padding:"2rem",color:"rgba(255, 255, 255, 0.7)"},children:[F("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),F("p",{children:"Waiting for players to offer their NFTs..."}),F("p",{style:{fontSize:"0.8rem",marginTop:"0.5rem"},children:"Share your game link to attract challengers!"})]}):F("div",{style:{display:"grid",gap:"1rem",maxHeight:"400px",overflowY:"auto"},children:o.map((S,N)=>q("div",{style:{background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.75rem",padding:"1rem",display:"flex",gap:"1rem",alignItems:"center"},children:[F("img",{src:S.nft.image,alt:S.nft.name,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover"}}),q("div",{style:{flex:1},children:[F("h4",{style:{color:"white",margin:"0 0 0.25rem 0",fontSize:"1rem"},children:S.nft.name}),F("p",{style:{color:"rgba(255, 255, 255, 0.7)",margin:"0 0 0.5rem 0",fontSize:"0.8rem"},children:S.nft.collection}),q("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"0.7rem",marginBottom:"0.5rem"},children:["From: ",S.offererAddress.slice(0,6),"...",S.offererAddress.slice(-4)]}),q("div",{style:{display:"flex",gap:"0.5rem"},children:[F("a",{href:A(S.nft),target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",color:"#00FF41",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",border:"1px solid rgba(0, 255, 65, 0.3)"},children:" Verify"}),F("a",{href:z(S.nft),target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",color:"#00BFFF",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",border:"1px solid rgba(0, 191, 255, 0.3)"},children:" OpenSea"})]})]}),F("button",{onClick:()=>k(S),style:{background:"linear-gradient(45deg, #00FF41, #39FF14)",color:"#000",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",fontWeight:"bold",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.3s ease"},onMouseOver:P=>{P.target.style.transform="scale(1.05)",P.target.style.boxShadow="0 0 15px rgba(0, 255, 65, 0.5)"},onMouseOut:P=>{P.target.style.transform="scale(1)",P.target.style.boxShadow="none"},children:" BATTLE!"})]},N))})]}):!n&&e?.gameType==="nft-vs-nft"&&e?.status==="waiting"?q("div",{style:{background:"rgba(255, 20, 147, 0.1)",border:"2px solid rgba(255, 20, 147, 0.3)",borderRadius:"1rem",padding:"1.5rem",marginTop:"1rem"},children:[F("h3",{style:{color:"#FF1493",fontSize:"1.2rem",marginBottom:"1rem",textAlign:"center"},children:" Challenge with Your NFT!"}),q("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.75rem",marginBottom:"1rem"},children:[F("h4",{style:{color:"white",margin:"0 0 0.5rem 0"},children:"Creator's NFT:"}),q("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[F("img",{src:e.nft.image,alt:e.nft.name,style:{width:"60px",height:"60px",borderRadius:"0.5rem",objectFit:"cover"}}),q("div",{children:[F("div",{style:{color:"white",fontWeight:"bold"},children:e.nft.name}),F("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem"},children:e.nft.collection})]})]})]}),m?q("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.75rem",marginBottom:"1rem"},children:[F("h4",{style:{color:"white",margin:"0 0 0.5rem 0"},children:"Your NFT:"}),q("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[F("img",{src:m.image,alt:m.name,style:{width:"60px",height:"60px",borderRadius:"0.5rem",objectFit:"cover"}}),q("div",{style:{flex:1},children:[F("div",{style:{color:"white",fontWeight:"bold"},children:m.name}),F("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem"},children:m.collection})]}),F("button",{onClick:()=>y(null),style:{background:"rgba(255, 0, 0, 0.2)",color:"white",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.25rem",padding:"0.25rem 0.5rem",cursor:"pointer",fontSize:"0.8rem"},children:"Change"})]})]}):F("button",{onClick:()=>x(!0),style:{width:"100%",padding:"1rem",background:"rgba(255, 255, 255, 0.1)",border:"2px dashed rgba(255, 20, 147, 0.5)",borderRadius:"0.75rem",color:"#FF1493",cursor:"pointer",marginBottom:"1rem"},children:"Select Your NFT to Battle"}),q("div",{style:{background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"0.5rem",padding:"0.75rem",marginBottom:"1rem",fontSize:"0.8rem"},children:[F("strong",{style:{color:"#FFD700"},children:" Battle Rules:"}),F("br",{})," Winner takes both NFTs",F("br",{})," You pay $0.50 only if your offer is accepted",F("br",{})," Best of 5 rounds"]}),F("button",{onClick:T,disabled:!m||p||!i,style:{width:"100%",padding:"1rem",background:m?"linear-gradient(45deg, #FF1493, #FF69B4)":"rgba(255, 255, 255, 0.1)",color:"white",border:"none",borderRadius:"0.75rem",fontWeight:"bold",cursor:m?"pointer":"not-allowed",fontSize:"1rem",opacity:m?1:.5,transition:"all 0.3s ease"},children:p?"Submitting Offer...":" Submit Battle Offer!"}),w&&F("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(5px)"},children:q("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(25, 20, 0, 0.9) 100%)",border:"2px solid #FF1493",borderRadius:"1rem",padding:"2rem",maxWidth:"600px",maxHeight:"80vh",overflowY:"auto",position:"relative"},children:[F("button",{onClick:()=>x(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"50%",width:"30px",height:"30px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:""}),F("h3",{style:{color:"#FF1493",marginBottom:"1rem"},children:"Select Your Battle NFT"}),F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},children:u?.map(S=>q("div",{onClick:()=>{y(S),x(!1)},style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.75rem",padding:"1rem",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},onMouseOver:N=>{N.currentTarget.style.transform="scale(1.05)",N.currentTarget.style.borderColor="#FF1493"},onMouseOut:N=>{N.currentTarget.style.transform="scale(1)",N.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},children:[F("img",{src:S.image,alt:S.name,style:{width:"100%",aspectRatio:"1",objectFit:"cover",borderRadius:"0.5rem",marginBottom:"0.5rem"}}),F("div",{style:{color:"white",fontWeight:"bold",fontSize:"0.9rem",marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:S.name}),F("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:S.collection})]},S.id))}),(!u||u.length===0)&&F("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.7)",padding:"2rem"},children:"No NFTs found in your wallet"})]})})]}):null};var rAe={VITE_PLATFORM_FEE_RECEIVER:"0x47d80671Bcb7Ec368ef4d3ca6E1C20173CCc9a28",VITE_ETHEREUM_RPC_URL:"your_ethereum_rpc_url_here",VITE_SEPOLIA_RPC_URL:"your_sepolia_rpc_url_here",VITE_BASE_RPC_URL:"https://base-mainnet.g.alchemy.com/v2/hoaKpKFy40ibWtxftFZbJNUk5NQoL0R3",VITE_ALCHEMY_API_KEY:"hoaKpKFy40ibWtxftFZbJNUk5NQoL0R3",VITE_BASESCAN_API_KEY:"PD6BITPMKB19J57SJN1MB2XH5FQJ54GBE1",VITE_ETHERSCAN_API_KEY:"your_etherscan_api_key_here",VITE_BSCSCAN_API_KEY:"your_bscscan_api_key_here",VITE_AVALANCHE_API_KEY:"your_avalanche_api_key_here",VITE_POLYGONSCAN_API_KEY:"your_polygonscan_api_key_here",VITE_REPORT_GAS:"true",NODE_ENV:"production"};const iAe=xe("video",{target:"eua38od28"})({name:"5au173",styles:"position:fixed;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1;opacity:0.7;pointer-events:none;background:#000"}),oAe=xe("div",{target:"eua38od27"})("position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);font-size:",t=>t.isMobile?"6rem":"10rem",";font-weight:900;color:",t=>t.color,";text-transform:uppercase;opacity:0;z-index:1000;pointer-events:none;animation:choiceAnimation 1s ease-out forwards;text-shadow:0 0 20px ",t=>t.color,";@keyframes choiceAnimation{0%{opacity:0;transform:translate(-50%, -50%) scale(0.2);}20%{opacity:1;transform:translate(-50%, -50%) scale(1.1);}80%{opacity:1;transform:translate(-50%, -50%) scale(1);}100%{opacity:0;transform:translate(-50%, -50%) scale(1.2);}}"),sAe=xe("div",{target:"eua38od26"})("position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);font-size:",t=>t.isMobile?"4rem":"6rem",";font-weight:900;color:#FFD700;text-transform:uppercase;opacity:0;z-index:1000;pointer-events:none;animation:autoFlipAnimation 2s ease-out forwards;text-shadow:0 0 30px #FFD700,0 0 60px #FFD700;text-align:center;line-height:1.2;@keyframes autoFlipAnimation{0%{opacity:0;transform:translate(-50%, -50%) scale(0.1) translateZ(-100px);}20%{opacity:1;transform:translate(-50%, -50%) scale(1.2) translateZ(50px);}60%{opacity:1;transform:translate(-50%, -50%) scale(1) translateZ(0px);}100%{opacity:0;transform:translate(-50%, -50%) scale(1.5) translateZ(100px);}}"),jg=xe("div",{target:"eua38od25"})({name:"mlpn4u",styles:"position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.7);display:flex;align-items:center;justify-content:center;z-index:1000"}),Gg=xe(Au,{target:"eua38od24"})({name:"12nlpps",styles:"max-width:500px;width:90%;padding:2rem"}),Hg=xe("div",{target:"eua38od23"})({name:"1h026t7",styles:"margin-bottom:1.5rem"}),Wg=xe("div",{target:"eua38od22"})({name:"1h026t7",styles:"margin-bottom:1.5rem"}),kk=xe("div",{target:"eua38od21"})({name:"wb501w",styles:"display:flex;justify-content:flex-end;gap:1rem"}),Vg=xe("button",{target:"eua38od20"})("position:absolute;top:1rem;right:1rem;background:none;border:none;color:",t=>t.theme.colors.textSecondary,";cursor:pointer;font-size:1.5rem;padding:0.5rem;&:hover{color:",t=>t.theme.colors.textPrimary,";}"),DE=xe("img",{target:"eua38od19"})({name:"1g591yl",styles:"width:100%;max-width:200px;height:auto;border-radius:1rem;margin:0.5rem 0"}),Fk=xe("a",{target:"eua38od18"})("color:",t=>t.theme.colors.neonBlue,";text-decoration:none;&:hover{text-decoration:underline;}"),aAe=xe("div",{target:"eua38od17"})({name:"174mppy",styles:"display:none;@media (max-width: 768px){display:flex;flex-direction:column;gap:1rem;padding:0.5rem;width:100%;}"}),Ok=xe("div",{target:"eua38od16"})({name:"15n7w10",styles:"padding:0.75rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin-bottom:0.5rem"}),lAe=xe("div",{target:"eua38od15"})({name:"hgry52",styles:"padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0;display:flex;flex-direction:column;align-items:center;gap:0.5rem"}),cAe=xe("div",{target:"eua38od14"})({name:"8ilj6n",styles:"width:100%;padding:0.75rem;background:rgba(0, 0, 0, 0.3);border-radius:0.5rem;margin-bottom:0.5rem"}),UE=xe("div",{target:"eua38od13"})({name:"1hqz8lq",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem;font-size:0.9rem;&:last-child{margin-bottom:0;}"}),zE=xe("span",{target:"eua38od12"})("color:",t=>t.theme.colors.textSecondary,";"),jE=xe("span",{target:"eua38od11"})("color:",t=>t.theme.colors.textPrimary,";font-family:monospace;"),uAe=xe("div",{target:"eua38od9"})({name:"1y953wd",styles:"padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0"}),dAe=xe("div",{target:"eua38od8"})({name:"zp1p6h",styles:"padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0;height:300px;overflow-y:auto"}),fAe=xe("div",{target:"eua38od7"})({name:"1rvp68",styles:"display:grid;grid-template-columns:300px 1fr 300px;gap:2rem;margin-bottom:2rem;align-items:start;min-height:500px;@media (max-width: 768px){display:none;}"}),hAe=xe("div",{target:"eua38od6"})({name:"1rx4431",styles:"display:flex;gap:0.5rem;width:100%;justify-content:center;padding:0.5rem"}),pAe=xe("div",{target:"eua38od5"})({name:"10o8xn0",styles:"position:fixed;bottom:0;left:0;right:0;display:flex;gap:0.25rem;padding:0.5rem;background:rgba(0, 0, 0, 0.9);backdrop-filter:blur(10px);border-top:1px solid rgba(255, 255, 255, 0.1);z-index:1000;@media (min-width: 769px){display:none;}"}),GE=xe("button",{target:"eua38od4"})("flex:",t=>t.isJoinButton?"2":"1",";padding:0.5rem;border-radius:0.5rem;border:2px solid rgba(0, 255, 65, 0.6);background:",t=>t.isJoinButton?"linear-gradient(45deg, #FF1493, #FF69B4)":"rgba(255, 255, 255, 0.05)",";color:white;font-weight:bold;display:flex;align-items:center;justify-content:center;gap:0.25rem;cursor:pointer;transition:all 0.2s ease;font-size:0.875rem;&:hover{transform:translateY(-2px);border-color:rgba(0, 255, 65, 0.8);box-shadow:",t=>t.isJoinButton?"0 0 20px rgba(255, 20, 147, 0.5)":"0 0 15px rgba(0, 255, 65, 0.3)",";}"),HE=xe("div",{target:"eua38od3"})({name:"18t8hgp",styles:"@media (max-width: 768px){display:none;}"}),Bk=xe("div",{target:"eua38od1"})("position:fixed;bottom:",t=>t.isOpen?"60px":"-100%",";left:0;right:0;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);padding:0.75rem;border-top:1px solid rgba(255, 255, 255, 0.1);transition:bottom 0.3s ease;z-index:999;max-height:70vh;overflow-y:auto;@media (min-width: 769px){display:none;}"),mAe=()=>{const{gameId:t}=Wz(),e=oh(),{publicClient:n,isMobile:r}=po(),{showSuccess:i,showError:o,showInfo:s}=Js(),{isFullyConnected:a,connectionError:l,address:c}=v0(),u="https://cryptoflipz2-production.up.railway.app",[d,f]=U.useState(null),[h,g]=U.useState(!0),[m,y]=U.useState(""),[p,v]=U.useState(!1),[w,x]=U.useState(!1),[T,k]=U.useState(null),[A,z]=U.useState(null),[S,N]=U.useState(!1),[P,W]=U.useState(null),[B,b]=U.useState(null),[E,I]=U.useState(null),[O,C]=U.useState(null),[j,H]=U.useState(null),[D,M]=U.useState(null),[$,J]=U.useState(null),Z=U.useRef(!1),ce=U.useRef(null),oe=d?.creator===c,Ae=d?.joiner===c,de=oe||Ae,Re=P?.currentPlayer===c,[ae,we]=U.useState(!1),[Ve,te]=U.useState(null),[Be,ft]=U.useState(null),[ut,Je]=U.useState(!1),[kt,ot]=U.useState([]),[X,V]=U.useState(null),[fe,_e]=U.useState(!1),[Ie,ge]=U.useState(!1),[G,_]=U.useState(!1),[R,Q]=U.useState(""),[Y,ee]=U.useState("#00FF41"),[ne,Ue]=U.useState(!1),[ke,qe]=U.useState(!1),[ht,rt]=U.useState(!1),[le,it]=U.useState(!1),[Ee,Te]=U.useState(!1),[tt,He]=U.useState(null),[lt,un]=U.useState(null),[Ft,Mt]=U.useState(null),lr=()=>d?(console.log(" Join button state check:",{gameData:{joiner:d.joiner,status:d.status,creator:d.creator},gameState:{joiner:P?.joiner,phase:P?.phase},address:c,joinInProgress:w,joiningGame:p}),w||P?.joinInProgress?(T||P?.joiningPlayer)===c?{text:" Joining...",disabled:!0,color:"yellow"}:{text:" Player Joining...",disabled:!0,color:"blue"}:d.joiner&&d.joiner!=="0x0000000000000000000000000000000000000000"?{text:"Game Full",disabled:!0,color:"gray"}:P?.joiner&&P.joiner!=="0x0000000000000000000000000000000000000000"?{text:"Game Full",disabled:!0,color:"gray"}:d.creator===c?{text:"Your Game",disabled:!0,color:"gray"}:d.status!=="waiting"&&P?.phase!=="waiting"?{text:"In Progress",disabled:!0,color:"gray"}:p?{text:" Processing...",disabled:!0,color:"yellow"}:a?{text:"Join Flip",disabled:!1,color:"green"}:{text:"Connect Wallet",disabled:!0,color:"red"}):{text:"Loading...",disabled:!0,color:"gray"},Kt=U.useRef(null),[ie,me]=U.useState(!1),[ve,Me]=U.useState(!1),[et,st]=U.useState(!1),[nt,pt]=U.useState(!1),[Xe,Ke]=U.useState(!1);U.useEffect(()=>{console.log(" Coin useEffect triggered - gameState?.coin:",P?.coin),P?.coin?(console.log(" Using game creator's selected coin:",P.coin),J(P.coin),H(P.coin.headsImage),M(P.coin.tailsImage),console.log(" Set coin images to:",{heads:P.coin.headsImage,tails:P.coin.tailsImage,type:P.coin.type})):(console.log(" No game coin data - using default null (no fallback to profile)"),H(null),M(null))},[P?.coin]),U.useEffect(()=>{const ue=Kt.current;ue&&(async()=>{try{await ue.play()}catch(Oe){console.error("Video play error:",Oe),me(!0)}})()},[]),U.useEffect(()=>{const ue=()=>{const Le=window.innerWidth<=768;console.log(" Screen size check:",{windowWidth:window.innerWidth,isMobile:Le,previousIsMobile:nt}),pt(Le),Ke(!0)};return ue(),window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue)},[nt]),U.useEffect(()=>{if(!t||!c){console.log(" Cannot connect - missing gameId or address:",{gameId:t,address:c});return}console.log(" Setting up WebSocket connection:",{gameId:t,address:c});let ue=0;const Le=5;let Oe;const Pe=()=>{const xn="wss://cryptoflipz2-production.up.railway.app";console.log(" Connecting to WebSocket:",xn);const Pt=new WebSocket(xn);return Pt.onopen=()=>{console.log(" WebSocket connected"),N(!0),z(Pt),ue=0;const On={type:"connect_to_game",gameId:t,address:c};console.log(" Sending join message:",On),Pt.send(JSON.stringify(On))},Pt.onmessage=On=>{try{const _t=JSON.parse(On.data);switch(console.log(" Received WebSocket message:",{type:_t.type,phase:_t.phase,currentPlayer:_t.currentPlayer,creatorChoice:_t.creatorChoice,joinerChoice:_t.joinerChoice,creator:_t.creator,joiner:_t.joiner}),_t.type){case"game_state":if(console.log(" Game state update:",{phase:_t.phase,currentRound:_t.currentRound,currentPlayer:_t.currentPlayer,creatorWins:_t.creatorWins,joinerWins:_t.joinerWins,isFlipInProgress:_t.isFlipInProgress,creatorChoice:_t.creatorChoice,joinerChoice:_t.joinerChoice,creator:_t.creator,joiner:_t.joiner,coin:_t.coin}),console.log(" Coin data in game state:",_t.coin),W(_t),_t.phase==="round_active"&&(oe&&_t.joinerChoice||Ae&&_t.creatorChoice)){const ic=(oe?_t.joinerChoice:_t.creatorChoice)==="heads"?"tails":"heads";Q(ic.toUpperCase()),ee("#FF1493"),_(!0),setTimeout(()=>{_(!1)},1e3)}break;case"flip_animation":console.log(" Flip animation received:",_t),console.log(" Flip animation details:",{result:_t.result,duration:_t.duration,playerChoice:_t.playerChoice,playerAddress:_t.playerAddress,power:_t.power}),b(_t),I(null);break;case"round_result":console.log(" Round result received:",_t),console.log(" Round result details:",{result:_t.result,isWinner:_t.isWinner,playerAddress:_t.playerAddress,playerChoice:_t.playerChoice,actualWinner:_t.actualWinner,creatorWins:_t.creatorWins,joinerWins:_t.joinerWins,roundNumber:_t.roundNumber,myAddress:c,isCreator:oe,isJoiner:Ae,flipperWon:_t.flipperWon,creatorChoice:_t.creatorChoice,joinerChoice:_t.joinerChoice}),I(_t),C(_t.result),b(null),setTimeout(()=>I(null),4e3);break;case"error":console.log(" Error received:",_t.error),o(_t.error);break}}catch(_t){console.error(" Error parsing WebSocket message:",_t)}},Pt.onclose=()=>{console.log(" WebSocket disconnected"),N(!1),z(null),ue<Le?(ue++,console.log(` Attempting to reconnect (${ue}/${Le})...`),Oe=setTimeout(()=>{Pe()},2e3*ue)):o("Lost connection to game server. Please refresh the page.")},Pt.onerror=On=>{console.error(" WebSocket error:",On)},Pt},We=Pe();return()=>{Oe&&clearTimeout(Oe),We&&We.readyState===WebSocket.OPEN&&We.close()}},[t,c]),U.useEffect(()=>{if(!P)return;const ue=P.turnTimeLeft,Le=ce.current;Le!==null&&Le>0&&(ue===0||ue===void 0)&&P.phase==="round_active"&&(console.log(" Auto-flip detected! Showing animation..."),Ue(!0),setTimeout(()=>{Ue(!1)},2e3)),ce.current=ue},[P?.turnTimeLeft,P?.phase]);const Et=async ue=>{try{const Le=rAe.REACT_APP_API_URL||"https://cryptoflipz2-production.up.railway.app";(await fetch(`${Le}/api/games/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ue)})).ok||console.warn("Failed to update game in database")}catch(Le){console.error("Error updating database:",Le)}},wt=async()=>{try{g(!0),y("");const Le=await fetch(`https://cryptoflipz2-production.up.railway.app/api/games/${t}`);if(!Le.ok)throw new Error("Game not found");const Oe=await Le.json();if(console.log(" Game loaded from database:",Oe),Oe.coin&&typeof Oe.coin=="string")try{Oe.coin=JSON.parse(Oe.coin)}catch(Pe){console.warn("Could not parse coin data:",Pe)}f(Oe),ft({contractAddress:Oe.nft_contract,tokenId:Oe.nft_token_id,name:Oe.nft_name,image:Oe.nft_image,collection:Oe.nft_collection,chain:Oe.nft_chain})}catch(ue){console.error(" Error loading game:",ue),y(ue.message)}finally{g(!1)}};U.useEffect(()=>{wt()},[t]),U.useEffect(()=>{t&&d&&Ct(t)},[t,d]),U.useEffect(()=>{d&&!Be&&!ut&&(console.log(" Setting NFT data from gameData:",d.nft),ft({contractAddress:d.nft.contractAddress,tokenId:d.nft.tokenId,name:d.nft.name,image:d.nft.image,collection:d.nft.collection,chain:d.nft.chain,metadata:{description:d.nft.description||"",attributes:d.nft.attributes||[]}}))},[d,Be,ut]),U.useEffect(()=>{d?.coin&&(console.log(" Setting coin data from gameData:",d.coin),J(d.coin),H(d.coin.headsImage),M(d.coin.tailsImage))},[d?.coin]);const Ct=async ue=>{try{Je(!0),console.log(" Fetching NFT data for game:",ue);const Le=await fetch(`${u}/api/games/${ue}/nft`);if(!Le.ok)throw new Error("Failed to fetch NFT data");const Oe=await Le.json();console.log(" NFT data received:",Oe),ft(Oe)}catch(Le){console.error(" Error fetching NFT data:",Le),ft(null)}finally{Je(!1)}},gn=()=>{if(console.log(" handlePowerChargeStart called:",{isMyTurn:Re,hasSocket:!!A,isCharging:Z.current,gamePhase:P?.phase,currentPlayer:P?.currentPlayer,myAddress:c}),!Re||!A||Z.current){console.log(" Cannot start charging:",{isMyTurn:Re,hasSocket:!!A,isCharging:Z.current});return}if(P?.phase!=="round_active"&&P?.phase!=="choosing"){console.log(" Wrong phase for charging:",P?.phase);return}if(!(oe?P?.creatorChoice:P?.joinerChoice)){o("You must choose heads or tails first!");return}Z.current=!0,A.send(JSON.stringify({type:"start_charging",gameId:t,address:c}))},K=async()=>{if(!(!A||!Z.current))if(Z.current=!1,jt.currentChain&&d?.contract_game_id)try{s("Flipping coin on blockchain...");const ue={gameId:d.contract_game_id,power:chargedPower||50};console.log(" Flipping coin with smart contract:",ue);const Le=await jt.flipCoin(ue);if(!Le.success)throw new Error("Failed to flip coin: "+Le.error);if(console.log(" Coin flipped on blockchain:",Le),Le.gameDetails){const{game:Oe,gameState:Pe}=Le.gameDetails;f(xn=>({...xn,current_round:Pe.currentRound,creator_wins:Pe.creatorWins,joiner_wins:Pe.joinerWins,winner:Pe.winner,status:Pe.winner!=="0x0000000000000000000000000000000000000000"?"completed":"active"})),await Et({current_round:Pe.currentRound,creator_wins:Pe.creatorWins,joiner_wins:Pe.joinerWins,winner:Pe.winner,status:Pe.winner!=="0x0000000000000000000000000000000000000000"?"completed":"active",flip_transaction_hash:Le.transactionHash});const We=Pe.winner===c;Pe.winner!=="0x0000000000000000000000000000000000000000"?i(`Game completed! ${We?"You won!":"You lost!"}`):i(`Round ${Pe.currentRound} completed!`)}}catch(ue){console.error(" Error flipping coin:",ue),o("Failed to flip coin: "+ue.message),A.send(JSON.stringify({type:"stop_charging",gameId:t,address:c}))}else A.send(JSON.stringify({type:"stop_charging",gameId:t,address:c}))},se=ue=>{if(console.log(" handlePlayerChoice called:",{choice:ue,hasSocket:!!A,hasGameState:!!P,gamePhase:P?.phase,isMyTurn:P?.currentPlayer===c,currentPlayer:P?.currentPlayer,myAddress:c,isCreator:oe,isJoiner:Ae}),!A||!P){console.log(" Cannot make choice - missing socket or gameState"),o("Connection error - please refresh");return}if(P.phase!=="choosing"){console.log(" Cannot make choice - wrong phase:",P.phase),o("Not in choosing phase");return}if(!(P.currentPlayer===c)){console.log(" Not my turn:",{currentPlayer:P.currentPlayer,myAddress:c,isCreator:oe,isJoiner:Ae}),o("Not your turn");return}Q(ue.toUpperCase()),ee("#00FF41"),_(!0),setTimeout(()=>{_(!1)},1e3),console.log(" Sending player choice to server:",ue),A.send(JSON.stringify({type:"player_choice",gameId:t,address:c,choice:ue}))},ye=async()=>{if(!a||!c){o("Please connect your wallet to join the game");return}if(!d){o("Game data not available");return}v(!0);try{if(s("Joining game..."),d.contract_game_id){const Pe=parseInt(d.contract_game_id);if(isNaN(Pe)||Pe<=0)throw new Error("Invalid game ID: "+d.contract_game_id);console.log(" Joining game with ID:",Pe);const We={gameId:Pe,coinChoice:0,roleChoice:1,paymentToken:0,challengerNFTContract:null,challengerTokenId:null}}const ue="https://cryptoflipz2-production.up.railway.app";let Le=null;try{const Pe=await jt.joinGame(joinParams);if(!Pe.success)throw new Error(Pe.error||"Failed to join game");console.log(" Payment processed on blockchain:",Pe),Le=Pe.transactionHash}catch(Pe){console.error(" Contract error:",Pe),console.log(" Falling back to database-only join...")}if(!(await fetch(`${ue}/api/games/${t}/join`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({joinerAddress:c,paymentTxHash:Le,paymentAmount:d.price_usd||0})})).ok)throw new Error("Failed to update game status");i("Successfully joined the game!"),setTimeout(()=>{wt()},1e3)}catch(ue){console.error(" Error joining game:",ue),o(`Failed to join game: ${ue.message}`)}finally{v(!1)}},be=async()=>{if(!a||!c){o("Please connect your wallet to withdraw");return}try{s("Processing withdrawal...");const ue=await jt.withdrawRewards();if(!ue.success)throw new Error("Failed to withdraw: "+ue.error);i("Winnings withdrawn successfully! "),console.log(" Withdrawal successful:",ue),d?.nft_contract&&d?.token_id&&(await jt.withdrawNFT(d.nft_contract,d.token_id)).success&&i("NFT returned to your wallet!")}catch(ue){console.error(" Error withdrawing:",ue),o("Failed to withdraw: "+ue.message)}};U.useEffect(()=>{if(P?.phase==="game_complete"){const ue=P.winner===c;te({isWinner:ue,flipResult:null,playerChoice:null,gameData:d,finalScore:{creatorWins:P.creatorWins,joinerWins:P.joinerWins}}),we(!0)}},[P?.phase,P?.winner,c,d]),U.useEffect(()=>{d&&ge(d.gameType==="nft-vs-nft")},[d]),U.useEffect(()=>{if(!A)return;const ue=Le=>{try{const Oe=JSON.parse(Le.data);switch(console.log(" Received WebSocket message:",Oe),Oe.type){case"game_state":W(Oe),Oe.joinInProgress!==void 0&&(x(Oe.joinInProgress),k(Oe.joiningPlayer));break;case"game_info":x(Oe.joinInProgress||!1),k(Oe.joiningPlayer||null);break;case"join_state_update":x(Oe.joinInProgress||!1),k(Oe.joiningPlayer||null),Oe.joiner&&Oe.joiner!==d?.joiner&&f(Pe=>({...Pe,joiner:Oe.joiner}));break;case"join_process_response":Oe.success?s("Join process started - processing payment..."):(o(Oe.error||"Failed to start join process"),v(!1));break;case"flip_animation":console.log(" Flip animation received:",Oe),b(Oe),I(null);break;case"round_result":console.log(" Round result received:",Oe),I(Oe),C(Oe.result),b(null),setTimeout(()=>I(null),4e3);break;case"nft_offer_received":console.log(" NFT offer received:",Oe.offer),ot(Pe=>[...Pe,Oe.offer]),oe||s(`New NFT battle offer: ${Oe.offer.nft.name}`);break;case"nft_offer_accepted":console.log(" NFT offer accepted:",Oe.acceptedOffer),V(Oe.acceptedOffer),Oe.acceptedOffer.offererAddress===c&&s("Your NFT offer was accepted! Please pay to join the battle.");break;case"challenger_payment_confirmed":console.log(" Challenger payment confirmed"),_e(!0),i("Payment confirmed! Game starting...");break;case"error":console.log(" Error received:",Oe.error),o(Oe.error),v(!1);break;case"chat_message":console.log(" Chat message received:",Oe);break}}catch(Oe){console.error(" Error parsing WebSocket message:",Oe)}};return A.addEventListener("message",ue),()=>A.removeEventListener("message",ue)},[A,c,d,oe,o,s,i]);const he=ue=>{console.log(" NFT offer submitted:",ue)},ze=async ue=>{try{if(s("Accepting NFT challenge..."),!(await fetch(`${u}/api/games/${t}/accept-nft-offer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({creatorAddress:c,acceptedOffer:ue})})).ok)throw new Error("Failed to accept offer");i(`Challenge accepted! Waiting for ${ue.offererAddress.slice(0,6)}... to pay.`),V(ue)}catch(Le){console.error(" Error accepting offer:",Le),o("Failed to accept offer: "+Le.message)}};U.useEffect(()=>{d?.gameType==="nft-vs-nft"&&(console.log(" NFT vs NFT game detected"),!oe&&!kt?.length&&qe(!0))},[d,oe,kt]);const Ye=ue=>{console.log("NFT offer accepted:",ue),V(ue),qe(!1),i("NFT offer accepted!")},gt=()=>{console.log("NFT offer rejected"),qe(!1),s("NFT offer rejected")},mt=ue=>{console.log("NFT verification complete:",ue),He(ue),rt(!1),i("NFT verified successfully!")},Tt=()=>ke?F(jg,{children:q(Gg,{children:[F(Vg,{onClick:()=>qe(!1),children:""}),F(Hg,{children:F(Ds,{children:"NFT Offer"})}),F(Wg,{children:F(Nk,{gameId:t,onOfferAccepted:Ye,onOfferRejected:gt})})]})}):null,Rt=()=>ht?F(jg,{children:q(Gg,{children:[F(Vg,{onClick:()=>rt(!1),children:""}),F(Hg,{children:F(Ds,{children:"NFT Verification"})}),F(Wg,{children:F(nAe,{nft:tt,onVerificationComplete:mt})})]})}):null,yt=()=>!le||!tt?null:F(jg,{children:q(Gg,{children:[F(Vg,{onClick:()=>it(!1),children:""}),F(Hg,{children:F(Ds,{children:"NFT Details"})}),q(Wg,{children:[F(DE,{src:tt.image,alt:tt.name}),q("div",{children:[F("h3",{children:tt.name}),q("p",{children:["Collection: ",tt.collection]}),q("p",{children:["Token ID: ",tt.tokenId]}),F(Fk,{href:tt.openseaUrl,target:"_blank",rel:"noopener noreferrer",children:"View on OpenSea"})]})]}),F(kk,{children:F(xr,{onClick:()=>it(!1),children:"Close"})})]})}),dt=()=>!Ee||!lt?null:F(jg,{children:q(Gg,{children:[F(Vg,{onClick:()=>Te(!1),children:""}),F(Hg,{children:F(Ds,{children:"Review NFT Offer"})}),F(Wg,{children:q("div",{children:[F("h3",{children:"NFT Details"}),F(DE,{src:lt.image,alt:lt.name}),q("p",{children:["Name: ",lt.name]}),q("p",{children:["Collection: ",lt.collection]}),q("p",{children:["Token ID: ",lt.tokenId]}),F(Fk,{href:lt.openseaUrl,target:"_blank",rel:"noopener noreferrer",children:"View on OpenSea"})]})}),q(kk,{children:[F(xr,{onClick:()=>{Ye(lt),Te(!1)},children:"Accept Offer"}),F(xr,{onClick:()=>{gt(),Te(!1)},children:"Reject Offer"})]})]})});return a?h?F(Qr,{theme:Ze,children:F(to,{children:F(no,{children:F("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:F(sb,{})})})})}):q(Qr,{theme:Ze,children:[F(iAe,{ref:Kt,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",onError:ue=>{console.error("Video error:",ue),me(!0)},children:F("source",{src:nt?$Ee:Ny,type:"video/webm"})}),G&&F(oAe,{color:Y,isMobile:nt,children:R}),ne&&q(sAe,{isMobile:nt,children:["FINAL ROUND",F("br",{}),"AUTOFLIP"]}),F(to,{style:{position:"relative",minHeight:"100vh",background:"transparent !important",zIndex:1},children:q(no,{children:[console.log(" Screen size debug:",{isMobileScreen:nt,windowWidth:window.innerWidth}),Xe&&nt?q(aAe,{children:[q(pAe,{children:[q(GE,{onClick:()=>Me(!ve),children:[F("span",{children:""})," Info"]}),q(GE,{onClick:()=>st(!et),children:[F("span",{children:""})," Chat"]}),!de&&(()=>{const ue=lr();return F(GE,{isJoinButton:!0,onClick:ye,disabled:ue.disabled,style:{background:ue.disabled?"rgba(100, 100, 100, 0.5)":ue.color==="green"?"linear-gradient(45deg, #00FF41, #00BF31)":ue.color==="yellow"?"linear-gradient(45deg, #FFD700, #FFA500)":ue.color==="blue"?"linear-gradient(45deg, #00BFFF, #1E90FF)":"rgba(100, 100, 100, 0.5)",opacity:ue.disabled?.6:1},children:ue.text})})()]}),F(Bk,{isOpen:ve,children:q("div",{style:{marginBottom:"0.5rem"},children:[F("h3",{style:{color:Ze.colors.neonYellow,marginBottom:"0.25rem",fontSize:"1rem"},children:"Game Info"}),q("div",{style:{color:Ze.colors.textSecondary},children:[F("div",{style:{padding:"0.5rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",marginBottom:"0.5rem"},children:q("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("span",{style:{fontSize:"0.875rem"},children:"Cost:"}),q("span",{style:{color:Ze.colors.neonGreen,fontWeight:"bold",fontSize:"0.875rem"},children:["$",(d?.priceUSD||0).toFixed(2)]})]})}),F("div",{style:{padding:"0.5rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",marginBottom:"0.5rem"},children:q("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("span",{style:{fontSize:"0.875rem"},children:"Contract:"}),F("span",{onClick:()=>{d?.nft?.contractAddress&&(navigator.clipboard.writeText(d.nft.contractAddress),i("Contract address copied to clipboard!"))},style:{color:Ze.colors.textPrimary,fontFamily:"monospace",fontSize:"0.8rem",cursor:"pointer",padding:"0.25rem 0.5rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"0.25rem",transition:"all 0.2s ease"},onMouseOver:ue=>{ue.currentTarget.style.background="rgba(0, 0, 0, 0.4)",ue.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.2)"},onMouseOut:ue=>{ue.currentTarget.style.background="rgba(0, 0, 0, 0.3)",ue.currentTarget.style.border="none"},children:d?.nft?.contractAddress?`${d.nft.contractAddress.slice(0,6)}...${d.nft.contractAddress.slice(-4)}`:"Unknown"})]})}),d?.nft&&q(as,{children:[q("div",{style:{margin:"0.5rem 0",padding:"0.5rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[F("img",{src:d.nft.image,alt:d.nft.name,style:{width:"100%",maxWidth:"120px",height:"auto",borderRadius:"0.25rem",margin:"0 auto",display:"block"}}),F("p",{style:{marginTop:"0.25rem",textAlign:"center",fontSize:"0.8rem",margin:"0.25rem 0"},children:d.nft.name}),q("p",{style:{fontSize:"0.75rem",opacity:.8,margin:"0.125rem 0"},children:["Collection: ",d.nft.collection]}),q("p",{style:{fontSize:"0.75rem",opacity:.8,margin:"0.125rem 0"},children:["Token ID: ",d.nft.tokenId]})]}),q("div",{style:{display:"flex",gap:"0.25rem",marginTop:"0.25rem",justifyContent:"center"},children:[q(xr,{onClick:()=>window.open(`https://opensea.io/assets/${d.nft.contract}/${d.nft.tokenId}`,"_blank"),style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.25rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:[F("img",{src:"/images/opensea.png",alt:"OpenSea",style:{width:"12px",height:"12px",objectFit:"contain"}}),"OpenSea"]}),q(xr,{onClick:()=>window.open(`https://etherscan.io/token/${d.nft.contract}?a=${d.nft.tokenId}`,"_blank"),style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.25rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:[F("span",{style:{fontSize:"0.8rem"},children:""}),"Etherscan"]})]})]})]})]})}),F(Bk,{isOpen:et,children:q("div",{style:{marginBottom:"1rem"},children:[F("h3",{style:{color:Ze.colors.neonYellow,marginBottom:"0.5rem"},children:"Game Chat"}),F(LE,{gameId:t,socket:A,connected:S,isMobile:!0})]})}),F(Ok,{style:{background:oe?"rgba(255, 20, 147, 0.1)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${oe?"#FF1493":"rgba(255, 255, 255, 0.1)"}`,padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"12px",height:"60px",width:"100%",animation:Re&&oe&&(P?.phase==="choosing"||P?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:q("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:P?.creatorProfile?.profilePicture?`url(${P.creatorProfile.profilePicture})`:"linear-gradient(45deg, #FF1493, #FF69B4)",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgba(255, 255, 255, 0.3)",fontSize:"1rem",fontWeight:"bold",color:"#fff",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:!P?.creatorProfile?.profilePicture&&"P1"}),F("div",{style:{display:"flex",gap:"0.25rem"},children:[1,2,3,4,5].map(ue=>{const Le=ue,Oe=P?.currentRound||1;let Pe="pending";if(Le<Oe){const Pt=P?.roundResults?.[Le-1];Pt==="creator"?Pe="creator_won":Pt==="joiner"&&(Pe="joiner_won")}else Le===Oe&&(Pe="current");const We=()=>{switch(Pe){case"current":return"#FFFF00";case"creator_won":return"#00FF41";case"joiner_won":return"#FF1493";default:return"rgba(255, 255, 255, 0.1)"}},xn=()=>{switch(Pe){case"current":return"#000";case"creator_won":return"#000";case"joiner_won":return"#000";default:return"#666"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:We(),border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"bold",color:xn(),boxShadow:Pe==="current"?"0 0 10px #FFFF00":Pe==="creator_won"?"0 0 8px #00FF41":Pe==="joiner_won"?"0 0 8px #FF1493":"none",transition:"all 0.3s ease",transform:Pe==="current"?"scale(1.1)":"scale(1)",animation:Pe==="current"?"pulse 2s infinite":"none"},children:ue},`p1-round-${ue}`)})})]})}),F("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"0.25rem auto",padding:"0.25rem",width:"100%",textAlign:"center"},children:F(HEe,{isFlipping:!!B,flipResult:B?B.result:E?.result||O,flipDuration:B?.duration,onPowerCharge:gn,onPowerRelease:K,isPlayerTurn:Re,isCharging:P?.chargingPlayer===c,chargingPlayer:P?.chargingPlayer,creatorPower:P?.creatorPower||0,joinerPower:P?.joinerPower||0,creatorChoice:P?.creatorChoice,joinerChoice:P?.joinerChoice,isCreator:oe,size:187,customHeadsImage:j,customTailsImage:D})}),(()=>{const ue=P?.creatorChoice,Le=P?.joinerChoice;if(ue||Le){let Oe;return oe?Oe=ue:Ae&&(Oe=Le),Oe||(oe&&Le?Oe=Le==="heads"?"tails":"heads":Ae&&ue&&(Oe=ue==="heads"?"tails":"heads")),Oe?F("div",{style:{textAlign:"center",marginBottom:"1rem",padding:"0.5rem",background:"rgba(0, 255, 65, 0.1)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"0.75rem",animation:"pulse 2s ease-in-out infinite"},children:q("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#00FF41",textShadow:"0 0 10px rgba(0, 255, 65, 0.5)"},children:["You're ",Oe.toUpperCase()]})}):null}return null})(),F(Ok,{style:{background:Ae?"rgba(0, 191, 255, 0.1)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${Ae?"#00BFFF":"rgba(255, 255, 255, 0.1)"}`,padding:"0.5rem",marginBottom:"0.5rem",marginTop:"-15px",borderRadius:"12px",height:"60px",width:"100%",animation:Re&&Ae&&(P?.phase==="choosing"||P?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:q("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:P?.joinerProfile?.profilePicture?`url(${P.joinerProfile.profilePicture})`:"linear-gradient(45deg, #00BFFF, #87CEEB)",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgba(255, 255, 255, 0.3)",fontSize:"1rem",fontWeight:"bold",color:"#fff",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:!P?.joinerProfile?.profilePicture&&"P2"}),F("div",{style:{display:"flex",gap:"0.25rem"},children:[1,2,3,4,5].map(ue=>{const Le=ue,Oe=P?.currentRound||1;let Pe="pending";if(Le<Oe){const Pt=P?.roundResults?.[Le-1];Pt==="creator"?Pe="creator_won":Pt==="joiner"&&(Pe="joiner_won")}else Le===Oe&&(Pe="current");const We=()=>{switch(Pe){case"current":return"#FFFF00";case"creator_won":return"#FF1493";case"joiner_won":return"#00FF41";default:return"rgba(255, 255, 255, 0.1)"}},xn=()=>{switch(Pe){case"current":return"#000";case"creator_won":return"#000";case"joiner_won":return"#000";default:return"#666"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:We(),border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"bold",color:xn(),boxShadow:Pe==="current"?"0 0 10px #FFFF00":Pe==="creator_won"?"0 0 8px #FF1493":Pe==="joiner_won"?"0 0 8px #00FF41":"none",transition:"all 0.3s ease",transform:Pe==="current"?"scale(1.1)":"scale(1)",animation:Pe==="current"?"pulse 2s infinite":"none"},children:ue},`p2-round-${ue}`)})})]})}),F("div",{style:{marginBottom:"1rem",padding:"0.5rem"},children:F(Mk,{creatorPower:P?.creatorPower||0,joinerPower:P?.joinerPower||0,currentPlayer:P?.currentPlayer,creator:P?.creator,joiner:P?.joiner,chargingPlayer:P?.chargingPlayer,gamePhase:P?.phase,isMyTurn:Re,playerChoice:oe?P?.creatorChoice:P?.joinerChoice,onChoiceSelect:se})}),F(HE,{children:q(lAe,{children:[d?.nftImage&&F(DE,{src:d.nftImage,alt:"NFT"}),q(cAe,{children:[q(UE,{children:[F(zE,{children:"Collection:"}),F(jE,{children:d?.collectionName||"Unknown"})]}),q(UE,{children:[F(zE,{children:"Token ID:"}),F(jE,{children:d?.tokenId||"Unknown"})]}),q(UE,{children:[F(zE,{children:"Contract:"}),F(jE,{children:d?.contractAddress?`${d.contractAddress.slice(0,6)}...${d.contractAddress.slice(-4)}`:"Unknown"})]})]}),q(hAe,{children:[F(xr,{onClick:()=>window.open(Lk(d?.chain),"_blank"),style:{flex:1},children:"View on Explorer"}),q(xr,{onClick:()=>window.open(Dk(d?.chain),"_blank"),style:{flex:1},children:[F("img",{src:"/images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain",marginRight:"0.4rem"}}),"View on OpenSea"]})]})]})}),F(HE,{children:F(uAe,{children:F("div",{style:{fontSize:"0.85rem",color:P?.currentPlayer===c?Ze.colors.neonGreen:Ze.colors.textSecondary,textAlign:"center",padding:"0.5rem",background:P?.currentPlayer===c?"rgba(0, 255, 65, 0.1)":"transparent",borderRadius:"0.5rem"},children:P?.currentPlayer===c?"Your Turn":P?.phase==="waiting"?"Waiting for opponent":"Waiting"})})}),F(HE,{children:F(dAe,{children:F(LE,{gameId:t})})})]}):q(fAe,{children:[q("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",position:"relative"},children:[q("div",{style:{marginBottom:"1rem",padding:"1rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[q("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",padding:"0.75rem",background:oe?"rgba(255, 20, 147, 0.1)":"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:`2px solid ${oe?Ze.colors.neonPink:"rgba(255, 255, 255, 0.1)"}`,height:"60px",animation:Re&&oe&&(P?.phase==="choosing"||P?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:[F(Ik,{address:d?.creator,size:40,isClickable:oe,showUploadIcon:oe,profileData:P?.creatorProfile,style:{borderRadius:"12px",border:`2px solid ${Ze.colors.neonPink}`}}),F("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center"},children:[...Array(d?.rounds||5)].map((ue,Le)=>{const Oe=Le+1,Pe=P?.currentRound||1;P?.creatorWins,P?.joinerWins;let We="pending";if(Oe<Pe){const _t=P?.roundResults?.[Oe-1];_t==="creator"?We="creator_won":_t==="joiner"&&(We="joiner_won")}else Oe===Pe&&(We="current");const xn=()=>{switch(We){case"current":return"#FFFF00";case"creator_won":return"#00FF41";case"joiner_won":return"#FF1493";default:return"rgba(255, 255, 255, 0.2)"}},Pt=()=>{switch(We){case"current":return"0 0 10px #FFFF00, 0 0 20px #FFFF00";case"creator_won":return"0 0 10px #00FF41, 0 0 20px #00FF41";case"joiner_won":return"0 0 10px #FF1493, 0 0 20px #FF1493";default:return"none"}},On=()=>{switch(We){case"current":return"#000000";case"creator_won":return"#000000";case"joiner_won":return"#000000";default:return"#ffffff"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:xn(),opacity:1,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:On(),boxShadow:Pt(),transition:"all 0.3s ease",transform:We==="current"?"scale(1.1)":"scale(1)",animation:We==="current"?"pulse 2s infinite":"none"},children:Oe},Le)})})]}),P?.turnTimeLeft!==void 0&&q("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, rgba(255, 255, 0, 0.2), rgba(255, 215, 0, 0.1))",borderRadius:"1rem",border:`2px solid ${P.turnTimeLeft<=5?"#FF1493":"#FFFF00"}`,textAlign:"center",marginBottom:"1rem",boxShadow:P.turnTimeLeft<=5?"0 0 30px rgba(255, 20, 147, 0.6), inset 0 0 20px rgba(255, 20, 147, 0.3)":"0 0 30px rgba(255, 255, 0, 0.6), inset 0 0 20px rgba(255, 255, 0, 0.3)",animation:P.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[F("div",{style:{color:P.turnTimeLeft<=5?"#FF1493":"#FFFF00",fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"2px"},children:"Turn Timer"}),q("div",{style:{fontSize:"3rem",fontWeight:"bold",color:P.turnTimeLeft<=5?"#FF1493":"#FFFF00",textShadow:P.turnTimeLeft<=5?"0 0 20px rgba(255, 20, 147, 0.8)":"0 0 20px rgba(255, 255, 0, 0.8)",fontFamily:"monospace"},children:[P.turnTimeLeft,"s"]}),P?.currentPlayer&&F("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.8)",marginTop:"0.5rem"},children:P.currentPlayer===c?"Your Turn":"Opponent's Turn"})]}),q("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",background:Ae?"rgba(0, 191, 255, 0.1)":"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:`2px solid ${Ae?Ze.colors.neonBlue:"rgba(255, 255, 255, 0.1)"}`,height:"60px",animation:Re&&Ae&&(P?.phase==="choosing"||P?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:[F(Ik,{address:d?.joiner,size:40,isClickable:Ae,showUploadIcon:Ae,profileData:P?.joinerProfile,style:{borderRadius:"12px",border:`2px solid ${Ze.colors.neonBlue}`}}),F("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center"},children:[...Array(d?.rounds||5)].map((ue,Le)=>{const Oe=Le+1,Pe=P?.currentRound||1;P?.creatorWins,P?.joinerWins;let We="pending";if(Oe<Pe){const _t=P?.roundResults?.[Oe-1];_t==="creator"?We="creator_won":_t==="joiner"&&(We="joiner_won")}else Oe===Pe&&(We="current");const xn=()=>{switch(We){case"current":return"#FFFF00";case"creator_won":return"#FF1493";case"joiner_won":return"#00FF41";default:return"rgba(255, 255, 255, 0.2)"}},Pt=()=>{switch(We){case"current":return"0 0 10px #FFFF00, 0 0 20px #FFFF00";case"creator_won":return"0 0 10px #FF1493, 0 0 20px #FF1493";case"joiner_won":return"0 0 10px #00FF41, 0 0 20px #00FF41";default:return"none"}},On=()=>{switch(We){case"current":return"#000000";case"creator_won":return"#000000";case"joiner_won":return"#000000";default:return"#ffffff"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:xn(),opacity:1,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:On(),boxShadow:Pt(),transition:"all 0.3s ease",transform:We==="current"?"scale(1.1)":"scale(1)",animation:We==="current"?"pulse 2s infinite":"none"},children:Oe},Le)})})]})]}),q("div",{style:{padding:"1rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",textAlign:"center"},children:[q("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{color:Ze.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Game ID"}),q("div",{style:{color:Ze.colors.textPrimary,fontWeight:"bold",fontSize:"1.125rem"},children:["#",d?.id?.slice(-6).toUpperCase()]})]}),q("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{color:Ze.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Entry Fee"}),q("div",{style:{color:Ze.colors.textPrimary,fontWeight:"bold",fontSize:"1.125rem"},children:["$",d?.priceUSD?.toFixed(2)]})]}),q("div",{children:[F("div",{style:{color:Ze.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Rounds"}),q("div",{style:{color:Ze.colors.textPrimary,fontWeight:"bold",fontSize:"1.125rem"},children:["Best of ",d?.rounds]})]})]}),F("div",{style:{marginTop:"2rem"},children:F(LE,{gameId:t,socket:A,connected:S})})]}),Xe&&!nt&&q("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},children:[F("div",{id:"desktop-coin-container",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"440px",marginBottom:"2rem",marginLeft:"auto",marginRight:"auto",position:"relative",padding:"20px"},children:j&&D&&F(jEe,{isFlipping:!!B,flipResult:B?B.result:E?.result||O,flipDuration:B?.duration,onPowerCharge:gn,onPowerRelease:K,isPlayerTurn:Re,isCharging:P?.chargingPlayer===c,chargingPlayer:P?.chargingPlayer,gamePhase:P?.phase,creatorPower:P?.creatorPower||0,joinerPower:P?.joinerPower||0,creatorChoice:P?.creatorChoice,joinerChoice:P?.joinerChoice,isCreator:oe,size:440,customHeadsImage:j,customTailsImage:D})}),(()=>{const ue=P?.creatorChoice,Le=P?.joinerChoice;if(ue||Le){let Oe;return oe?Oe=ue:Ae&&(Oe=Le),Oe||(oe&&Le?Oe=Le==="heads"?"tails":"heads":Ae&&ue&&(Oe=ue==="heads"?"tails":"heads")),Oe?F("div",{style:{textAlign:"center",marginBottom:"1.5rem",padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"1rem",animation:"pulse 2s ease-in-out infinite"},children:q("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#00FF41",textShadow:"0 0 15px rgba(0, 255, 65, 0.5)"},children:["You're ",Oe.toUpperCase()]})}):null}return null})(),F(Mk,{creatorPower:P?.creatorPower||0,joinerPower:P?.joinerPower||0,currentPlayer:P?.currentPlayer,creator:P?.creator,joiner:P?.joiner,chargingPlayer:P?.chargingPlayer,gamePhase:P?.phase,isMyTurn:Re,playerChoice:oe?P?.creatorChoice:P?.joinerChoice,onChoiceSelect:se})]}),q("div",{style:{position:"relative",width:"100%",maxWidth:"600px",margin:"0 auto",padding:"2rem",background:"linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(0, 0, 0, 0.3) 100%)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"1.5rem",backdropFilter:"blur(10px)"},children:[Be?.image&&F("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:F("img",{src:Be.image,alt:"NFT",style:{width:"200px",height:"200px",borderRadius:"1rem",objectFit:"cover",border:"4px solid rgba(0, 255, 65, 0.6)",boxShadow:"0 0 30px rgba(0, 255, 65, 0.5), inset 0 0 30px rgba(0, 255, 65, 0.3)",animation:"nftBananaGlow 2s ease-in-out infinite"}})}),q("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",padding:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"1.5rem"},children:[F("div",{style:{color:Ze.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.75rem",textAlign:"center"},children:"Share"}),q("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[F("button",{onClick:()=>{const ue=window.location.href;window.open(`https://twitter.com/intent/tweet?text=Join my game of Crypto Flipz! ${ue}`,"_blank")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease"},children:F("span",{style:{fontSize:"1rem"},children:""})}),F("button",{onClick:()=>{const ue=window.location.href;window.open(`https://t.me/share/url?url=${encodeURIComponent(ue)}&text=Join my game of Crypto Flipz!`,"_blank")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease"},children:F("span",{style:{fontSize:"1rem"},children:""})}),F("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),i("Game link copied to clipboard!")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease"},children:F("span",{style:{fontSize:"1rem"},children:""})})]})]}),Be&&q("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[F("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"1rem",color:Ze.colors.neonYellow},children:Be.name}),q("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Collection"}),F("div",{style:{fontWeight:"bold",fontSize:"1rem"},children:Be.collection})]}),q("div",{style:{marginBottom:"1.5rem"},children:[F("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Token ID"}),q("div",{style:{fontWeight:"bold",fontSize:"1rem"},children:["#",Be.tokenId]})]}),q("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[F("a",{href:`${Lk(Be?.chain)}/token/${Be.contractAddress}?a=${Be.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease"},children:" Explorer"}),q("a",{href:`${Dk(Be?.chain)}/${Be.contractAddress}/${Be.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease"},children:[F("img",{src:"/images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain"}}),"OpenSea"]})]}),q("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Contract Address"}),q("div",{onClick:()=>{navigator.clipboard.writeText(Be.contractAddress)},style:{fontSize:"0.9rem",fontFamily:"monospace",background:"rgba(0, 0, 0, 0.3)",padding:"0.5rem",borderRadius:"0.25rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease"},onMouseOver:ue=>{ue.currentTarget.style.background="rgba(0, 0, 0, 0.4)",ue.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.2)"},onMouseOut:ue=>{ue.currentTarget.style.background="rgba(0, 0, 0, 0.3)",ue.currentTarget.style.border="none"},children:[q("span",{children:[Be.contractAddress?.slice(0,6),"...",Be.contractAddress?.slice(-4)]}),F("span",{style:{opacity:.6},children:""})]})]})]}),!de&&F("div",{style:{marginTop:"2rem",textAlign:"center"},children:(()=>{const ue=lr(),Le=()=>{switch(ue.color){case"green":return"linear-gradient(45deg, #00FF41, #00BF31)";case"yellow":return"linear-gradient(45deg, #FFD700, #FFA500)";case"blue":return"linear-gradient(45deg, #00BFFF, #1E90FF)";case"red":return"linear-gradient(45deg, #FF4444, #CC0000)";default:return"rgba(100, 100, 100, 0.5)"}};return F("button",{onClick:ye,disabled:ue.disabled,style:{background:ue.disabled?"rgba(100, 100, 100, 0.5)":Le(),color:"#fff",border:"none",padding:"1.5rem 3rem",borderRadius:"1rem",fontSize:"1.3rem",fontWeight:"bold",cursor:ue.disabled?"not-allowed":"pointer",width:"100%",transition:"all 0.3s ease",opacity:ue.disabled?.6:1,boxShadow:ue.disabled?"none":"0 0 20px rgba(0, 255, 65, 0.3)"},children:ue.text})})()})]})]}),Ie&&P?.phase==="waiting"&&F("div",{style:{gridColumn:"1 / -1",marginTop:"2rem"},children:F(Nk,{gameId:t,gameData:d,isCreator:oe,socket:A,connected:S,offeredNFTs:kt,onOfferSubmitted:he,onOfferAccepted:ze})}),Ie&&X&&P?.phase==="waiting"&&q("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",textAlign:"center",padding:"1rem",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem"},children:[F("h3",{style:{color:"#FFD700",marginBottom:"0.5rem"},children:" BATTLE ACCEPTED!"}),q("p",{style:{color:"white",margin:0},children:["Waiting for ",X.offererAddress.slice(0,6),"...",X.offererAddress.slice(-4)," to complete payment..."]}),q("div",{style:{display:"flex",justifyContent:"center",gap:"2rem",marginTop:"1rem",alignItems:"center"},children:[q("div",{style:{textAlign:"center"},children:[F("img",{src:d.nft.image,alt:d.nft.name,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover",marginBottom:"0.5rem"}}),F("div",{style:{fontSize:"0.8rem",color:"white"},children:d.nft.name})]}),F("div",{style:{fontSize:"2rem",color:"#FFD700",animation:"pulse 2s infinite"},children:""}),q("div",{style:{textAlign:"center"},children:[F("img",{src:X.nft.image,alt:X.nft.name,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover",marginBottom:"0.5rem"}}),F("div",{style:{fontSize:"0.8rem",color:"white"},children:X.nft.name})]})]})]}),!de&&P?.phase&&P.phase!=="waiting"&&q("div",{style:{marginTop:"2rem",textAlign:"center",padding:"1rem",background:"rgba(0, 191, 255, 0.1)",border:"1px solid rgba(0, 191, 255, 0.3)",borderRadius:"1rem"},children:[F("p",{style:{color:"#00BFFF",fontWeight:"bold",margin:0},children:" GAME IN PROGRESS"}),F("p",{style:{color:"#888",fontSize:"0.875rem",margin:"0.5rem 0 0 0"},children:"Join a game to see the action!"})]}),P?.phase==="choosing"&&F("div",{style:{textAlign:"center",marginBottom:"2rem"},children:Re?q("div",{style:{padding:"1rem",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:Ze.colors.textSecondary,marginTop:"0.5rem"},children:"Select heads or tails in your player box, then you can charge power and flip!"}),P.turnTimeLeft!==void 0&&q("div",{style:{color:P.turnTimeLeft<=5?Ze.colors.statusError:Ze.colors.neonYellow,fontWeight:"bold",fontSize:"1.2rem",marginTop:"0.5rem",animation:P.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[P.turnTimeLeft,"s to choose"]})]}):q("div",{style:{padding:"1rem",background:"rgba(255, 165, 0, 0.1)",border:"1px solid rgba(255, 165, 0, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:Ze.colors.statusWarning,fontWeight:"bold",fontSize:"1.2rem"},children:" Opponent is Choosing"}),q("div",{style:{color:Ze.colors.textSecondary,marginTop:"0.5rem"},children:["Waiting for ",oe?"Player 2":"Player 1"," to choose heads or tails"]}),P.turnTimeLeft!==void 0&&q("div",{style:{color:P.turnTimeLeft<=5?Ze.colors.statusError:Ze.colors.neonYellow,fontWeight:"bold",fontSize:"1.2rem",marginTop:"0.5rem",animation:P.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[P.turnTimeLeft,"s remaining"]})]})}),P?.phase==="round_active"&&F("div",{style:{textAlign:"center",marginBottom:"2rem"},children:Re?q("div",{style:{padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"1px solid rgba(0, 255, 65, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:Ze.colors.statusSuccess,fontWeight:"bold",fontSize:"1.2rem"},children:" YOUR TURN TO FLIP!"}),q("div",{style:{color:Ze.colors.textSecondary,marginTop:"0.5rem"},children:["You chose ",oe?P.creatorChoice?.toUpperCase():P.joinerChoice?.toUpperCase()," - Hold coin to charge power, release to flip!"]})]}):q("div",{style:{padding:"1rem",background:"rgba(255, 165, 0, 0.1)",border:"1px solid rgba(255, 165, 0, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:Ze.colors.statusWarning,fontWeight:"bold",fontSize:"1.2rem"},children:" Opponent's Turn"}),q("div",{style:{color:Ze.colors.textSecondary,marginTop:"0.5rem"},children:["They chose ",oe?P.joinerChoice?.toUpperCase():P.creatorChoice?.toUpperCase()," and are charging power to flip"]})]})}),E&&q("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,background:"rgba(0, 0, 0, 0.95)",padding:"2rem",borderRadius:"2rem",border:`4px solid ${E.actualWinner===c?"#00FF41":"#FF1493"}`,textAlign:"center",width:"90%",maxWidth:"600px",pointerEvents:"none",boxShadow:`0 0 50px ${E.actualWinner===c?"rgba(0, 255, 65, 0.5)":"rgba(255, 20, 147, 0.5)"}`},children:[F("div",{style:{position:"relative",width:"100%",height:"200px",marginBottom:"1rem",borderRadius:"1rem",overflow:"hidden"},children:F("video",{autoPlay:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"1rem"},src:E.actualWinner===c?"images/video/LoseWin/final lose win/win.webm":"images/video/LoseWin/final lose win/lose.webm",onError:ue=>{console.error("Video playback error:",ue),console.log("Video source:",ue.target.src),ue.target.src=E.actualWinner===c?"/images/video/LoseWin/final lose win/win.webm":"/images/video/LoseWin/final lose win/lose.webm"},onLoadedData:ue=>{console.log("Video loaded successfully"),ue.target.play().catch(Le=>console.error("Play error:",Le))}},E.actualWinner===c?"win":"lose")}),F("div",{style:{fontSize:"2.5rem",color:"white",fontWeight:"bold",marginBottom:"1rem",pointerEvents:"auto",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)"},children:E.result==="heads"?" HEADS":" TAILS"}),q("div",{style:{fontSize:"1.2rem",color:"rgba(255, 255, 255, 0.9)",marginBottom:"1rem",pointerEvents:"auto",padding:"0.5rem 1rem",background:"rgba(255, 255, 255, 0.1)",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:["You chose: ",F("strong",{children:((oe?P?.creatorChoice:P?.joinerChoice)||E?.playerChoice)?.toUpperCase()||"UNKNOWN"})]}),F("div",{style:{fontSize:"1.8rem",color:(oe?P?.creatorChoice:P?.joinerChoice)===E.result?"#00FF41":"#FF1493",fontWeight:"bold",marginBottom:"1rem",pointerEvents:"auto",textShadow:`0 0 15px ${(oe?P?.creatorChoice:P?.joinerChoice)===E.result?"rgba(0, 255, 65, 0.7)":"rgba(255, 20, 147, 0.7)"}`,animation:"pulse 1s infinite"},children:(oe?P?.creatorChoice:P?.joinerChoice)===E.result?" YOU WON!":" YOU LOST!"})]}),F(cG,{isVisible:ae&&P?.phase==="game_complete",isWinner:Ve?.isWinner||!1,flipResult:Ve?.flipResult,playerChoice:Ve?.playerChoice,gameData:Ve?.gameData,onClose:()=>we(!1),onClaimWinnings:be}),P?.winner&&F("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"2rem",backdropFilter:"blur(10px)"},children:q("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(25, 20, 0, 0.9) 100%)",border:"2px solid #FFD700",borderRadius:"1rem",padding:"2rem",textAlign:"center",maxWidth:nt?"400px":"700px",width:nt?"80%":"140%",boxShadow:"0 0 30px rgba(255, 215, 0, 0.3)"},children:[F("h2",{style:{color:"#FFD700",marginBottom:"1rem"},children:" You Won! "}),q("p",{style:{color:"#fff",marginBottom:"2rem"},children:["Congratulations! You've won ",P?.potAmount||0," ",P?.currency||"ETH"]}),q("div",{style:{display:"flex",gap:"1rem",width:"100%",marginBottom:"1rem"},children:[F("button",{onClick:be,style:{flex:1,background:"linear-gradient(135deg, #00FF41, #39FF14)",color:"#000",border:"none",padding:"1rem",borderRadius:"0.8rem",fontSize:"1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(0, 255, 65, 0.4)",transition:"all 0.3s ease",textTransform:"uppercase"},onMouseOver:ue=>{ue.currentTarget.style.transform="scale(1.05)",ue.currentTarget.style.boxShadow="0 0 30px rgba(0, 255, 65, 0.6)"},onMouseOut:ue=>{ue.currentTarget.style.transform="scale(1)",ue.currentTarget.style.boxShadow="0 0 20px rgba(0, 255, 65, 0.4)"},children:" COLLECT"}),F("button",{onClick:()=>e("/"),style:{flex:1,background:"linear-gradient(135deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"1rem",borderRadius:"0.8rem",fontSize:"1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(255, 20, 147, 0.4)",transition:"all 0.3s ease",textTransform:"uppercase"},onMouseOver:ue=>{ue.currentTarget.style.transform="scale(1.05)",ue.currentTarget.style.boxShadow="0 0 30px rgba(255, 20, 147, 0.6)"},onMouseOut:ue=>{ue.currentTarget.style.transform="scale(1)",ue.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.4)"},children:" HOME"})]}),F("p",{style:{color:"#ff4444",fontSize:"0.9rem",marginTop:"1rem",border:"1px solid rgba(255, 68, 68, 0.3)",padding:"0.5rem",borderRadius:"0.5rem",background:"rgba(255, 68, 68, 0.1)"},children:" Warning: If you leave this screen without claiming, you will lose your winnings."})]})}),d?.gameType==="nft-vs-nft"&&!oe&&!kt?.length&&F(xr,{colorScheme:"green",size:"lg",onClick:()=>qe(!0),mb:4,children:"Offer NFT to Battle"}),d?.gameType==="nft-vs-nft"&&!oe&&offerStatus==="pending"&&F(Text,{color:"neonYellow",mb:4,children:"Your NFT offer is pending review..."}),d?.gameType==="nft-vs-nft"&&!oe&&offerStatus==="accepted"&&F(xr,{colorScheme:"green",size:"lg",onClick:ye,mb:4,children:"Join Battle"}),d?.status==="completed"&&d?.winner===c&&F("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"center"},children:F("button",{onClick:be,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"12px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:ue=>{ue.currentTarget.style.transform="translateY(-2px)",ue.currentTarget.style.boxShadow="0 10px 30px rgba(102, 126, 234, 0.4)"},onMouseOut:ue=>{ue.currentTarget.style.transform="translateY(0)",ue.currentTarget.style.boxShadow="none"},children:"Claim Your Winnings "})})]})}),F("style",{children:`
          @keyframes buttonPulse {
            0% {
              box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            }
            50% {
              box-shadow: 0 0 25px rgba(255, 215, 0, 0.6);
            }
            100% {
              box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            }
          }

          @keyframes nftBananaGlow {
            0% {
              box-shadow: 0 0 30px rgba(255, 255, 0, 0.5), inset 0 0 30px rgba(255, 255, 0, 0.3);
            }
            50% {
              box-shadow: 0 0 50px rgba(255, 255, 0, 0.7), inset 0 0 50px rgba(255, 255, 0, 0.4);
            }
            100% {
              box-shadow: 0 0 30px rgba(255, 255, 0, 0.5), inset 0 0 30px rgba(255, 255, 0, 0.3);
            }
          }
        `}),Tt(),Rt(),yt(),dt()]}):F(Qr,{theme:Ze,children:F(to,{children:F(no,{children:q(Au,{style:{textAlign:"center",padding:"3rem"},children:[F(Ds,{children:"Connect Your Wallet"}),l&&F("p",{style:{color:"#FF6B6B",marginTop:"1rem"},children:l}),F(xr,{onClick:()=>e("/"),style:{marginTop:"1rem"},children:"Go Home"})]})})})})},Lk=t=>t&&{ethereum:"https://etherscan.io",polygon:"https://polygonscan.com",base:"https://basescan.org",arbitrum:"https://arbiscan.io",optimism:"https://optimistic.etherscan.io"}[t.toLowerCase()]||"https://etherscan.io",Dk=t=>t&&{ethereum:"https://opensea.io/assets/ethereum",polygon:"https://opensea.io/assets/matic",base:"https://opensea.io/assets/base",arbitrum:"https://opensea.io/assets/arbitrum",optimism:"https://opensea.io/assets/optimism"}[t.toLowerCase()]||"https://opensea.io/assets/ethereum",gAe=()=>{const{gameId:t}=Wz(),e=oh(),{isFullyConnected:n,connectionError:r,address:i,walletClient:o,publicClient:s}=v0(),{chain:a}=po(),{showSuccess:l,showError:c,showInfo:u}=Js(),[d,f]=U.useState(null),[h,g]=U.useState(!0),[m,y]=U.useState(""),[p,v]=U.useState(null),[w,x]=U.useState(!1),[T,k]=U.useState(!1);U.useEffect(()=>{if(n&&o&&s&&a){const E=a.name.toLowerCase();jt.init(E,o,s).then(()=>{console.log(" Contract service initialized for chain:",E)}).catch(I=>{console.error(" Failed to initialize contract service:",I),y("Failed to connect to smart contract")})}},[n,o,s,a,jt]),U.useEffect(()=>{t&&A()},[t]);const A=async()=>{try{if(g(!0),y(""),n&&jt.isInitialized())try{const C=await jt.getGame(t);if(C.success&&C.game){console.log(" Game loaded from smart contract:",C.game);const j=z(C.game);f(j),g(!1);return}}catch(C){console.warn(" Failed to load from contract, trying database:",C)}const I=await fetch(`https://cryptoflipz2-production.up.railway.app/api/games/${t}`);if(!I.ok)throw new Error("Game not found");const O=await I.json();console.log(" Game loaded from database:",O),f(O)}catch(E){console.error(" Error loading game:",E),y(E.message)}finally{g(!1)}},z=E=>({id:E.gameId.toString(),creator:E.creator,joiner:E.joiner,nft_contract:E.nftContract,token_id:E.tokenId.toString(),price_usd:parseFloat(E.priceUSD)/100,game_type:E.gameType===1?"nft-vs-nft":"nft-vs-crypto",status:S(E),current_round:E.currentRound,max_rounds:E.maxRounds,creator_score:E.creatorScore,joiner_score:E.joinerScore,auth_info:E.authInfo?JSON.parse(E.authInfo):{},created_at:new Date().toISOString(),contract_game_id:E.gameId.toString()}),S=E=>E.joiner==="0x0000000000000000000000000000000000000000"?"waiting":E.currentRound>=E.maxRounds?"completed":"active",N=async()=>{if(!n||!i){c("Please connect your wallet to join the game");return}if(!d){c("Game data not available");return}x(!0);try{u("Joining game...");const E={gameId:t,joiner:i,acceptedToken:0,authInfo:JSON.stringify({joiner:i,joinedAt:new Date().toISOString()})};console.log(" Joining game with smart contract:",E);const I=await jt.joinGame(E);if(!I.success)throw new Error("Failed to join game: "+I.error);l("Successfully joined the game!"),console.log(" Joined game on blockchain:",I),f(O=>({...O,joiner:i,status:"active"})),await B({joiner:i,status:"active"})}catch(E){console.error(" Error joining game:",E),c("Failed to join game: "+E.message)}finally{x(!1)}},P=async()=>{if(!n||!i){c("Please connect your wallet to flip the coin");return}if(!d){c("Game data not available");return}k(!0);try{u("Flipping coin...");const E={gameId:t,player:i,authInfo:JSON.stringify({player:i,flippedAt:new Date().toISOString()})};console.log(" Flipping coin with smart contract:",E);const I=await jt.flipCoin(E);if(!I.success)throw new Error("Failed to flip coin: "+I.error);console.log(" Coin flipped on blockchain:",I);const O=await W();O&&f(O),v({winner:I.winner,round:I.round,isFinal:I.isFinal,transactionHash:I.transactionHash}),I.isFinal?l(`Game completed! ${I.winner===i?"You won!":"You lost!"}`):l(`Round ${I.round} completed! ${I.winner===i?"You won this round!":"Opponent won this round!"}`)}catch(E){console.error(" Error flipping coin:",E),c("Failed to flip coin: "+E.message)}finally{k(!1)}},W=async()=>{try{const E=await jt.getGame(t);if(E.success&&E.game)return z(E.game)}catch(E){console.error(" Error loading updated game from contract:",E)}return null},B=async E=>{try{if(!(await fetch(`https://cryptoflipz2-production.up.railway.app/api/games/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)})).ok)throw new Error("Failed to update game in database");console.log(" Game updated in database")}catch(I){console.error(" Error updating game in database:",I)}},b=async()=>{if(!n||!i){c("Please connect your wallet to withdraw rewards");return}try{u("Checking for unclaimed rewards...");const E=await jt.getUnclaimedRewards(i);if(!E.success)throw new Error("Failed to check rewards: "+E.error);if(E.ethAmount>0||E.usdcAmount>0||E.nftCount>0){u("Withdrawing rewards...");const I=await jt.withdrawRewards();if(!I.success)throw new Error("Failed to withdraw rewards: "+I.error);l("Rewards withdrawn successfully!"),console.log(" Rewards withdrawn:",I)}else u("No unclaimed rewards found")}catch(E){console.error(" Error withdrawing rewards:",E),c("Failed to withdraw rewards: "+E.message)}};return!n||!i?F(Qr,{theme:Ze,children:F(to,{children:F(no,{children:q(wj,{children:[F(bj,{children:"Connect Your Wallet"}),F(xj,{children:r||"Please connect your wallet to play the game."}),F(Bu,{}),r&&F("div",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#FF6B6B"},children:r})]})})})}):h?F(Qr,{theme:Ze,children:F(to,{children:F(no,{children:q(gye,{children:[F(sb,{}),F("div",{children:"Loading game..."})]})})})}):m?F(Qr,{theme:Ze,children:F(to,{children:F(no,{children:q(SN,{children:[F(CN,{children:"Error Loading Game"}),F(z_,{children:m}),F("button",{onClick:()=>e("/"),style:{marginTop:"1rem",padding:"0.75rem 1.5rem",background:"linear-gradient(45deg, #00FF41, #39FF14)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",cursor:"pointer"},children:"Go Home"})]})})})}):d?F(Qr,{theme:Ze,children:q(to,{children:[F(no,{children:F(yye,{children:F(mAe,{game:d,currentPlayer:i,onJoinGame:N,onFlipCoin:P,onWithdrawRewards:b,isJoining:w,isFlipping:T,contractService:jt,gameId:t,socket:null,connected:!1})})}),p&&F(cG,{result:p,onClose:()=>v(null),onPlayAgain:()=>{v(null),e("/create")}})]})}):F(Qr,{theme:Ze,children:F(to,{children:F(no,{children:q(SN,{children:[F(CN,{children:"Game Not Found"}),F(z_,{children:"This game doesn't exist or has been removed."}),F("button",{onClick:()=>e("/"),style:{marginTop:"1rem",padding:"0.75rem 1.5rem",background:"linear-gradient(45deg, #00FF41, #39FF14)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",cursor:"pointer"},children:"Go Home"})]})})})})},yAe="/assets/FLIPNOSIS-C0NSmved.webp",vAe="/assets/mobile-DVZ6fP2r.webp";var wAe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bAe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xAe=(t,e)=>{const n=U.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>U.createElement("svg",{ref:c,...wAe,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${bAe(t)}`,...l},[...e.map(([u,d])=>U.createElement(u,d)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n};var vr=xAe;const EAe=vr("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Uk=vr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),AAe=vr("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),_Ae=vr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),SAe=vr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),CAe=vr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),TAe=vr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),MAe=vr("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),IAe=vr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),RAe=vr("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),_p=vr("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),zk=vr("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),PAe=vr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),NAe=vr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),kAe=vr("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),WE=vr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),jk=vr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),FAe=vr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),OAe=vr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),BAe=xe("button",{target:"e1fgybsa30"})({name:"1839d5x",styles:"display:flex;align-items:center;gap:0.75rem;background:rgba(0, 0, 0, 0.7);border:1px solid rgba(255, 255, 255, 0.1);border-radius:1rem;padding:0.5rem 1rem;cursor:pointer;transition:all 0.3s ease;position:relative;color:#fff;&:hover{background:rgba(0, 0, 0, 0.8);border-color:rgba(255, 20, 147, 0.3);box-shadow:0 0 15px rgba(255, 20, 147, 0.2);}"}),LAe=xe("div",{target:"e1fgybsa29"})({name:"1cja0z9",styles:"position:absolute;top:-0.5rem;right:-0.5rem;background:linear-gradient(45deg, #FF1493, #FF69B4);color:white;font-size:0.75rem;font-weight:bold;border-radius:50%;width:1.25rem;height:1.25rem;display:flex;align-items:center;justify-content:center;box-shadow:0 0 10px rgba(255, 20, 147, 0.4)"}),DAe=xe("div",{target:"e1fgybsa28"})({name:"1b6odgw",styles:"position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.8);display:flex;align-items:center;justify-content:center;z-index:1100;backdrop-filter:blur(10px)"}),UAe=xe("div",{target:"e1fgybsa27"})({name:"x3shza",styles:"background:rgba(0, 0, 0, 0.9);border:1px solid rgba(255, 20, 147, 0.3);border-radius:1rem;width:90%;max-width:800px;max-height:90vh;overflow:hidden;position:relative;box-shadow:0 0 30px rgba(255, 20, 147, 0.2)"}),zAe=xe("div",{target:"e1fgybsa26"})({name:"1may638",styles:"background:linear-gradient(45deg, #FF1493, #FF69B4);padding:1.5rem;border-radius:1rem 1rem 0 0;position:relative"}),jAe=xe("button",{target:"e1fgybsa25"})({name:"1578rug",styles:"position:absolute;top:1rem;right:1rem;background:none;border:none;color:rgba(255, 255, 255, 0.8);font-size:1.5rem;cursor:pointer;padding:0.5rem;transition:all 0.3s ease;&:hover{color:#fff;transform:scale(1.1);}"}),GAe=xe("div",{target:"e1fgybsa24"})({name:"j9zhdy",styles:"display:flex;margin-top:1rem;border-bottom:2px solid rgba(255, 255, 255, 0.2)"}),Gk=xe("button",{target:"e1fgybsa23"})("flex:1;padding:1rem;background:",t=>t.active?"rgba(255, 255, 255, 0.2)":"transparent",";border:none;color:",t=>t.active?"#fff":"rgba(255, 255, 255, 0.7)",";font-size:1.1rem;font-weight:",t=>t.active?"bold":"normal",";cursor:pointer;transition:all 0.3s ease;border-bottom:",t=>t.active?"2px solid #fff":"none",";margin-bottom:-2px;position:relative;&:hover{background:rgba(255, 255, 255, 0.1);}"),HAe=xe("div",{target:"e1fgybsa22"})({name:"1rthi20",styles:"position:absolute;top:0.5rem;right:0.5rem;background:linear-gradient(45deg, #FF1493, #FF69B4);color:white;font-size:0.75rem;font-weight:bold;border-radius:50%;width:1.25rem;height:1.25rem;display:flex;align-items:center;justify-content:center;box-shadow:0 0 10px rgba(255, 20, 147, 0.4)"}),WAe=xe("div",{target:"e1fgybsa21"})({name:"1l02fjv",styles:"padding:2rem;overflow-y:auto;max-height:calc(90vh - 200px)"}),VAe=xe("div",{target:"e1fgybsa16"})({name:"f28l0h",styles:"display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:2rem"}),Hk=xe("div",{target:"e1fgybsa15"})({name:"1c94xsr",styles:"background:rgba(255, 255, 255, 0.05);border:1px solid rgba(255, 20, 147, 0.2);border-radius:1rem;padding:1rem;transition:all 0.3s ease;&:hover{border-color:rgba(255, 20, 147, 0.4);box-shadow:0 0 15px rgba(255, 20, 147, 0.2);}"}),Wk=xe("img",{target:"e1fgybsa14"})({name:"q3omqe",styles:"width:100%;height:8rem;object-fit:cover;border-radius:0.5rem;border:2px solid rgba(255, 20, 147, 0.3);aspect-ratio:1"}),Vk=xe("div",{target:"e1fgybsa13"})({name:"rxgvgn",styles:"width:100%;height:8rem;background:rgba(255, 255, 255, 0.1);border-radius:0.5rem;display:flex;align-items:center;justify-content:center;border:2px solid rgba(255, 20, 147, 0.3);color:rgba(255, 255, 255, 0.5);aspect-ratio:1"}),$Ae=xe("div",{target:"e1fgybsa12"})({name:"vgvof3",styles:"background:rgba(255, 255, 255, 0.05);border:1px solid rgba(255, 20, 147, 0.2);border-radius:1rem;padding:1.5rem;margin-bottom:1rem;transition:all 0.3s ease;&:hover{border-color:rgba(255, 20, 147, 0.4);box-shadow:0 0 15px rgba(255, 20, 147, 0.2);transform:translateY(-2px);}"}),qAe=xe("div",{target:"e1fgybsa11"})({name:"17nzbd5",styles:"display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem"}),KAe=xe("div",{target:"e1fgybsa10"})({name:"82a6rk",styles:"flex:1"}),QAe=xe("div",{target:"e1fgybsa9"})({name:"aj6rbz",styles:"display:flex;gap:0.5rem"}),$k=xe("button",{target:"e1fgybsa8"})("background:",t=>t.variant==="danger"?"linear-gradient(45deg, #FF4444, #CC0000)":"linear-gradient(45deg, #FF1493, #FF69B4)",";border:none;border-radius:0.5rem;padding:0.5rem 1rem;color:#fff;font-weight:bold;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;gap:0.5rem;&:hover{transform:scale(1.05);box-shadow:0 0 15px ",t=>t.variant==="danger"?"rgba(255, 68, 68, 0.4)":"rgba(255, 20, 147, 0.4)",";}"),XAe=xe("span",{target:"e1fgybsa7"})("padding:0.25rem 0.75rem;border-radius:1rem;font-size:0.8rem;font-weight:bold;background:",t=>{switch(t.status){case 0:return"rgba(255, 193, 7, 0.2)";case 1:return"rgba(33, 150, 243, 0.2)";case 2:return"rgba(76, 175, 80, 0.2)";case 3:return"rgba(156, 39, 176, 0.2)";case 4:return"rgba(158, 158, 158, 0.2)";case 5:return"rgba(244, 67, 54, 0.2)";default:return"rgba(158, 158, 158, 0.2)"}},";color:",t=>{switch(t.status){case 0:return"#FFC107";case 1:return"#2196F3";case 2:return"#4CAF50";case 3:return"#9C27B0";case 4:return"#9E9E9E";case 5:return"#F44336";default:return"#9E9E9E"}},";border:1px solid ",t=>{switch(t.status){case 0:return"rgba(255, 193, 7, 0.3)";case 1:return"rgba(33, 150, 243, 0.3)";case 2:return"rgba(76, 175, 80, 0.3)";case 3:return"rgba(156, 39, 176, 0.3)";case 4:return"rgba(158, 158, 158, 0.3)";case 5:return"rgba(244, 67, 54, 0.3)";default:return"rgba(158, 158, 158, 0.3)"}},";"),YAe=xe("span",{target:"e1fgybsa6"})({name:"ee8xbw",styles:"padding:0.25rem 0.75rem;border-radius:1rem;font-size:0.8rem;font-weight:bold;background:rgba(255, 152, 0, 0.2);color:#FF9800;border:1px solid rgba(255, 152, 0, 0.3)"}),JAe=xe("div",{target:"e1fgybsa5"})({name:"1p97a7f",styles:"background:rgba(244, 67, 54, 0.1);border:1px solid rgba(244, 67, 54, 0.3);border-radius:1rem;padding:1rem;margin-bottom:1rem;display:flex;align-items:center;gap:0.5rem;color:#F44336"}),ZAe=xe("div",{target:"e1fgybsa4"})({name:"byvkc7",styles:"display:flex;flex-wrap:wrap;gap:0.5rem;margin-bottom:1rem"}),e2e=xe("div",{target:"e1fgybsa3"})({name:"1wws4zq",styles:"display:flex;align-items:center;gap:0.5rem;padding:0.5rem 1rem;border-radius:1rem;font-size:0.9rem;font-weight:bold;background:rgba(255, 20, 147, 0.1);color:#FF1493;border:1px solid rgba(255, 20, 147, 0.3)"}),qk=xe("div",{target:"e1fgybsa1"})({name:"1m8gwey",styles:"text-align:center;padding:3rem;color:rgba(255, 255, 255, 0.7)"}),t2e=xe("div",{target:"e1fgybsa0"})({name:"ye1ury",styles:"display:inline-block;width:2rem;height:2rem;border:3px solid rgba(255, 20, 147, 0.3);border-radius:50%;border-top-color:#FF1493;animation:spin 1s ease-in-out infinite;@keyframes spin{to{transform:rotate(360deg);}}"}),uG=({address:t,isConnected:e,currentChain:n})=>{const[r,i]=U.useState({name:"",avatar:"",headsImage:"",tailsImage:"",stats:{totalGames:0,gamesWon:0,gamesLost:0,winRate:0,totalVolume:0}}),[o,s]=U.useState([]),[a,l]=U.useState(!1),[c,u]=U.useState("profile"),[d,f]=U.useState(!1),[h,g]=U.useState(!0),[m,y]=U.useState([]),[p,v]=U.useState(!1),[w,x]=U.useState(!1),[T,k]=U.useState(""),[A,z]=U.useState(""),[S,N]=U.useState(""),[P,W]=U.useState(""),[B,b]=U.useState(0),[E,I]=U.useState(0),O=5,C=3,j=(ae,we={})=>{d&&"Notification"in window&&Notification.permission==="granted"&&new Notification(ae,{icon:"/logo.png",badge:"/logo.png",...we})},H=ae=>{const we=[];ae.length>=O&&we.push({type:"limit",title:"Game Limit Reached",description:`Maximum ${O} active games`,color:"text-red-500",icon:Uk}),ae.length>0&&we.push({type:"active",title:`${ae.length} Active Games`,description:"You have ongoing games",color:"text-blue-500",icon:_p});const Ve=ae.filter(te=>{const Be=new Date(te.createdAt||Date.now());return(Date.now()-Be.getTime())/(1e3*60*60)>=C-.5});Ve.length>0&&we.push({type:"expiring",title:`${Ve.length} Games Expiring Soon`,description:"Games will auto-cancel in 30 minutes",color:"text-orange-500",icon:CAe}),y(we)},D=async()=>{const ae=Math.floor(Date.now()/1e3),we=o.filter(Ve=>Ve.core.state===0&&Number(Ve.core.expiresAt)<=ae);for(const Ve of we)try{console.log(`Auto-cancelling expired game ${Ve.id}`),await jt.cancelGame(Ve.id),j("Game Auto-Cancelled",{body:`Game #${Ve.id} has been automatically cancelled due to expiration`,tag:`game-${Ve.id}`})}catch(te){console.error(`Failed to auto-cancel game ${Ve.id}:`,te)}we.length>0&&M()},M=async()=>{if(!(!t||!e)){v(!0);try{const ae=await fetch(`/api/profile/${t}`);if(ae.ok){const we=await ae.json();i(Ve=>({...Ve,...we,name:we.name||"",avatar:we.avatar||"",headsImage:we.headsImage||"",tailsImage:we.tailsImage||""})),k(we.name||""),z(we.avatar||""),N(we.headsImage||""),W(we.tailsImage||"")}}catch(ae){console.error("Failed to load profile data:",ae)}try{const ae=await jt.getUserActiveGames(t),we=[];for(const Ve of ae)try{const te=await jt.getGameDetails(Ve.toString());if(te.success){const{game:Be,nftChallenge:ft}=te.data;Be.creator.toLowerCase()===t.toLowerCase()&&we.push({id:Ve,creator:Be.creator,joiner:Be.joiner,core:{gameId:Be.gameId,state:Be.state,gameType:Be.gameType,priceUSD:Be.priceUSD,paymentToken:Be.paymentToken,totalPaid:Be.totalPaid,winner:Be.winner,createdAt:Be.createdAt,expiresAt:Be.expiresAt},nftChallenge:ft,progress:{currentRound:1,maxRounds:1},createdAt:new Date(Number(Be.createdAt)*1e3).toISOString(),stake:{nftContract:Be.nftContract,tokenId:Be.tokenId.toString(),amount:Be.priceUSD?(Number(Be.priceUSD)/1e18).toFixed(4):"0",token:Be.gameType===0?"ETH":"NFT"}})}}catch(te){console.warn(`Could not get details for game ${Ve}:`,te)}s(we),H(we),de()}catch(ae){console.error("Failed to load user games:",ae);const we=[{id:1,creator:t,joiner:"0x0000000000000000000000000000000000000000",core:{gameId:"1",state:0,gameType:0,priceUSD:"1000000000000000000",paymentToken:0,totalPaid:"0",winner:"0x0000000000000000000000000000000000000000",createdAt:Math.floor((Date.now()-2*60*60*1e3)/1e3),expiresAt:Math.floor((Date.now()+60*60*1e3)/1e3)},nftChallenge:{challengerNFTContract:"0x0000000000000000000000000000000000000000",challengerTokenId:"0"},progress:{currentRound:1,maxRounds:3},createdAt:new Date(Date.now()-2*60*60*1e3).toISOString(),stake:{nftContract:"0x0000000000000000000000000000000000000000",tokenId:"1",amount:"0.1",token:"ETH"}},{id:2,creator:t,joiner:"0x0000000000000000000000000000000000000000",core:{gameId:"2",state:0,gameType:1,priceUSD:"0",paymentToken:0,totalPaid:"0",winner:"0x0000000000000000000000000000000000000000",createdAt:Math.floor((Date.now()-1*60*60*1e3)/1e3),expiresAt:Math.floor((Date.now()+2*60*60*1e3)/1e3)},nftChallenge:{challengerNFTContract:"0x0000000000000000000000000000000000000000",challengerTokenId:"0"},progress:{currentRound:1,maxRounds:1},createdAt:new Date(Date.now()-1*60*60*1e3).toISOString(),stake:{nftContract:"0x1234567890123456789012345678901234567890",tokenId:"123",amount:"0",token:"NFT"}}];s(we),H(we)}v(!1)}};U.useEffect(()=>{M();const ae=setInterval(D,5*60*1e3);return()=>clearInterval(ae)},[t,e]),U.useEffect(()=>{"Notification"in window&&f(Notification.permission==="granted")},[]);const $=()=>{navigator.clipboard.writeText(t),x(!0),setTimeout(()=>x(!1),2e3)},J=ae=>{switch(ae){case 0:return"Waiting for Player";case 1:return"Player Joined";case 2:return"In Progress";case 3:return"Completed";case 4:return"Expired";case 5:return"Cancelled";default:return"Unknown"}},Z=ae=>{const we=new Date(Number(ae)*1e3),Ve=new Date,te=we.getTime()-Ve.getTime();if(te<=0)return"Expired";const Be=Math.floor(te/(1e3*60*60)),ft=Math.floor(te%(1e3*60*60)/(1e3*60));return Be>0?`${Be}h ${ft}m`:`${ft}m`},ce=async(ae,we)=>{const Ve=new FileReader;Ve.onload=async te=>{const Be=te.target.result;switch(i(ft=>({...ft,[ae==="avatar"?"avatar":ae==="heads"?"headsImage":"tailsImage"]:Be})),ae){case"avatar":z(Be);break;case"heads":N(Be);break;case"tails":W(Be);break}try{(await fetch(`/api/profile/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name,avatar:ae==="avatar"?Be:r.avatar,headsImage:ae==="heads"?Be:r.headsImage,tailsImage:ae==="tails"?Be:r.tailsImage})})).ok?console.log(`${ae} image uploaded successfully`):console.error("Failed to save image to database")}catch(ft){console.error("Error saving image:",ft)}},Ve.readAsDataURL(we)},oe=async ae=>{try{(await fetch(`/api/profile/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ae,avatar:r.avatar,headsImage:r.headsImage,tailsImage:r.tailsImage})})).ok&&i(Ve=>({...Ve,name:ae}))}catch(we){console.error("Failed to save profile data:",we)}},Ae=async ae=>{try{await jt.cancelGame(ae),j("Game Cancelled",{body:`Game #${ae} has been cancelled`,tag:`game-${ae}`}),M()}catch(we){console.error("Failed to cancel game:",we)}},de=async()=>{if(!(!t||!e)){if(o.length>0){let ae=0;for(const we of o)we.creator.toLowerCase()===t.toLowerCase()&&we.core.state>=1&&we.joiner!=="0x0000000000000000000000000000000000000000"&&ae++;I(ae);return}try{const ae=await jt.getUserActiveGames(t);let we=0;for(const Ve of ae)try{const te=await jt.getGameDetails(Ve.toString());if(te.success){const{game:Be}=te.data;Be.creator.toLowerCase()===t.toLowerCase()&&Be.state>=1&&Be.joiner!=="0x0000000000000000000000000000000000000000"&&we++}}catch(te){console.warn(`Could not get details for game ${Ve}:`,te)}I(we)}catch(ae){console.error("Error checking game join notifications:",ae)}}};U.useEffect(()=>{de();const ae=setInterval(de,6e4);return()=>clearInterval(ae)},[t,e]),U.useEffect(()=>{const ae=setInterval(()=>{b(we=>we+1),D()},6e4);return()=>clearInterval(ae)},[o]);const Re=()=>{I(0)};return q(as,{children:[q(BAe,{onClick:()=>{l(!0),Re()},children:[r.avatar?F("img",{src:r.avatar,alt:"Profile",style:{width:"2rem",height:"2rem",borderRadius:"12px",border:"2px solid rgba(255, 20, 147, 0.5)",objectFit:"cover"}}):F(jk,{style:{width:"1.5rem",height:"1.5rem",color:"#FF1493"}}),F("span",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:r.name||"Anonymous Player"}),E>0&&F(LAe,{children:E>9?"9+":E})]}),a&&F(DAe,{children:q(UAe,{children:[q(zAe,{children:[F("h2",{style:{color:"#fff",margin:0,fontSize:"1.5rem",fontWeight:"bold"},children:"Player Profile"}),F(jAe,{onClick:()=>l(!1),children:""}),q(GAe,{children:[F(Gk,{active:c==="profile",onClick:()=>u("profile"),children:"Profile"}),q(Gk,{active:c==="games",onClick:()=>u("games"),children:["My Games",o.length>0&&F(HAe,{children:o.length>9?"9+":o.length})]})]})]}),F(WAe,{children:c==="profile"?q(as,{children:[q("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",marginBottom:"2rem"},children:[q("div",{style:{position:"relative"},children:[q("div",{onClick:()=>{const ae=document.createElement("input");ae.type="file",ae.accept="image/*",ae.onchange=we=>{we.target.files[0]&&ce("avatar",we.target.files[0])},ae.click()},style:{cursor:"pointer",position:"relative",borderRadius:"12px",overflow:"hidden"},children:[r.avatar?F("img",{src:r.avatar,alt:"Profile",style:{width:"6rem",height:"6rem",borderRadius:"12px",border:"4px solid rgba(255, 20, 147, 0.5)",objectFit:"cover",transition:"all 0.3s ease"},onMouseEnter:ae=>{ae.target.style.transform="scale(1.05)",ae.target.style.borderColor="rgba(255, 20, 147, 0.8)"},onMouseLeave:ae=>{ae.target.style.transform="scale(1)",ae.target.style.borderColor="rgba(255, 20, 147, 0.5)"}}):F("div",{style:{width:"6rem",height:"6rem",borderRadius:"12px",background:"rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",border:"4px solid rgba(255, 20, 147, 0.5)",transition:"all 0.3s ease"},onMouseEnter:ae=>{ae.target.style.background="rgba(255, 255, 255, 0.2)",ae.target.style.borderColor="rgba(255, 20, 147, 0.8)"},onMouseLeave:ae=>{ae.target.style.background="rgba(255, 255, 255, 0.1)",ae.target.style.borderColor="rgba(255, 20, 147, 0.5)"},children:F(jk,{style:{width:"3rem",height:"3rem",color:"#FF1493"}})}),F("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",opacity:0,transition:"opacity 0.3s ease",pointerEvents:"none"},className:"upload-overlay",children:F(WE,{style:{width:"1.5rem",height:"1.5rem",color:"#fff"}})})]}),F("style",{jsx:!0,children:`
                        div[style*="cursor: pointer"]:hover .upload-overlay {
                          opacity: 1 !important;
                        }
                      `})]}),q("div",{style:{flex:1},children:[F("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:F("input",{type:"text",value:r.name||"",onChange:ae=>{const we=ae.target.value;i(Ve=>({...Ve,name:we})),k(we),clearTimeout(window.nameSaveTimeout),window.nameSaveTimeout=setTimeout(()=>{oe(we)},1e3)},style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 20, 147, 0.5)",borderRadius:"0.5rem",padding:"0.5rem",color:"#fff",fontSize:"1.5rem",fontWeight:"bold",width:"100%",maxWidth:"300px"},placeholder:"Name"})}),q("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[F("code",{style:{color:"rgba(255, 255, 255, 0.7)",background:"rgba(255, 255, 255, 0.1)",padding:"0.5rem 1rem",borderRadius:"0.5rem",fontFamily:"monospace",fontSize:"0.9rem"},children:t}),F("button",{onClick:$,style:{background:"none",border:"none",color:"rgba(255, 255, 255, 0.7)",cursor:"pointer",padding:"0.5rem"},children:w?F(_Ae,{style:{width:"1rem",height:"1rem",color:"#4CAF50"}}):F(TAe,{style:{width:"1rem",height:"1rem"}})})]})]})]}),q("div",{style:{marginBottom:"2rem"},children:[F("h4",{style:{color:"#fff",fontSize:"1.2rem",fontWeight:"bold",marginBottom:"1rem"},children:"Custom Coin Designs"}),q(VAe,{children:[q(Hk,{children:[F("h5",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.9rem",marginBottom:"0.5rem"},children:"Heads"}),q("div",{onClick:()=>{const ae=document.createElement("input");ae.type="file",ae.accept="image/*",ae.onchange=we=>{we.target.files[0]&&ce("heads",we.target.files[0])},ae.click()},style:{cursor:"pointer",position:"relative",borderRadius:"0.5rem",overflow:"hidden"},children:[r.headsImage?F(Wk,{src:r.headsImage,alt:"Heads",style:{transition:"all 0.3s ease"},onMouseEnter:ae=>{ae.target.style.transform="scale(1.05)",ae.target.style.borderColor="rgba(255, 20, 147, 0.8)"},onMouseLeave:ae=>{ae.target.style.transform="scale(1)",ae.target.style.borderColor="rgba(255, 20, 147, 0.3)"}}):F(Vk,{style:{transition:"all 0.3s ease"},onMouseEnter:ae=>{ae.target.style.background="rgba(255, 255, 255, 0.2)",ae.target.style.borderColor="rgba(255, 20, 147, 0.8)"},onMouseLeave:ae=>{ae.target.style.background="rgba(255, 255, 255, 0.1)",ae.target.style.borderColor="rgba(255, 20, 147, 0.3)"},children:F(zk,{style:{width:"2rem",height:"2rem"}})}),F("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.5rem",opacity:0,transition:"opacity 0.3s ease",pointerEvents:"none"},className:"upload-overlay",children:F(WE,{style:{width:"1rem",height:"1rem",color:"#fff"}})})]})]}),q(Hk,{children:[F("h5",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.9rem",marginBottom:"0.5rem"},children:"Tails"}),q("div",{onClick:()=>{const ae=document.createElement("input");ae.type="file",ae.accept="image/*",ae.onchange=we=>{we.target.files[0]&&ce("tails",we.target.files[0])},ae.click()},style:{cursor:"pointer",position:"relative",borderRadius:"0.5rem",overflow:"hidden"},children:[r.tailsImage?F(Wk,{src:r.tailsImage,alt:"Tails",style:{transition:"all 0.3s ease"},onMouseEnter:ae=>{ae.target.style.transform="scale(1.05)",ae.target.style.borderColor="rgba(255, 20, 147, 0.8)"},onMouseLeave:ae=>{ae.target.style.transform="scale(1)",ae.target.style.borderColor="rgba(255, 20, 147, 0.3)"}}):F(Vk,{style:{transition:"all 0.3s ease"},onMouseEnter:ae=>{ae.target.style.background="rgba(255, 255, 255, 0.2)",ae.target.style.borderColor="rgba(255, 20, 147, 0.8)"},onMouseLeave:ae=>{ae.target.style.background="rgba(255, 255, 255, 0.1)",ae.target.style.borderColor="rgba(255, 20, 147, 0.3)"},children:F(zk,{style:{width:"2rem",height:"2rem"}})}),F("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.5rem",opacity:0,transition:"opacity 0.3s ease",pointerEvents:"none"},className:"upload-overlay",children:F(WE,{style:{width:"1rem",height:"1rem",color:"#fff"}})})]})]})]})]})]}):F(as,{children:q("div",{style:{marginBottom:"2rem"},children:[F("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem"},children:q("h3",{style:{color:"#fff",fontSize:"1.5rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[F(_p,{style:{width:"1.5rem",height:"1.5rem",color:"#FF1493"}}),"My Games"]})}),o.length>=O&&q(JAe,{children:[F(Uk,{style:{width:"1.25rem",height:"1.25rem"}}),q("div",{children:[F("div",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:"Game Limit Reached"}),q("div",{style:{fontSize:"0.9rem"},children:["You have reached the maximum of ",O," active games. Cancel some games to create new ones."]})]})]}),m.length>0&&F(ZAe,{children:m.map((ae,we)=>q(e2e,{children:[F(ae.icon,{style:{width:"1rem",height:"1rem"}}),ae.title]},we))}),p?q(qk,{children:[F(t2e,{}),F("div",{style:{marginTop:"1rem"},children:"Loading games..."})]}):o.length===0?q(qk,{children:[F(_p,{style:{width:"4rem",height:"4rem",color:"rgba(255, 255, 255, 0.3)",marginBottom:"1rem"}}),F("h4",{style:{color:"#fff",fontSize:"1.2rem",fontWeight:"bold",marginBottom:"0.5rem"},children:"No Active Games"}),F("div",{children:"You don't have any active games yet."})]}):F("div",{children:o.map(ae=>F($Ae,{children:q(qAe,{children:[q(KAe,{children:[q("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[q("span",{style:{fontFamily:"monospace",fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)"},children:["Game #",ae.id]}),F(XAe,{status:ae.core.state,children:J(ae.core.state)}),ae.core.state===0&&F(YAe,{children:Z(ae.core.expiresAt)})]}),q("div",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem"},children:[ae.core.gameType===0?"NFT vs Crypto":"NFT vs NFT","  Round ",ae.progress.currentRound,"/",ae.progress.maxRounds]}),q("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)"},children:["Created ",new Date(Number(ae.core.createdAt)*1e3).toLocaleString()]})]}),q(QAe,{children:[ae.core.state===0&&q($k,{variant:"danger",onClick:()=>Ae(ae.id),children:[F(OAe,{style:{width:"1rem",height:"1rem"}}),"Cancel"]}),q($k,{as:"a",href:`/game/${ae.id}`,children:["View Game",F(RAe,{style:{width:"1rem",height:"1rem"}})]})]})]})},ae.id))})]})})})]})})]})},n2e=xe("div",{target:"etw64w16"})("position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.5);backdrop-filter:blur(5px);opacity:",t=>t.isOpen?1:0,";visibility:",t=>t.isOpen?"visible":"hidden",";transition:all 0.3s ease;z-index:999999;"),r2e=xe("div",{target:"etw64w15"})("position:fixed;top:0;right:0;width:70%;max-width:250px;height:100vh;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);padding:1.5rem;transform:translateX(",t=>t.isOpen?"0":"100%",");transition:transform 0.3s ease;z-index:1000000;display:flex;flex-direction:column;gap:0.75rem;overflow-y:auto;border-left:1px solid rgba(0, 255, 65, 0.2);box-shadow:-5px 0 20px rgba(0, 255, 65, 0.1);@media (min-width: 769px){display:none;}"),VE=xe(g0,{target:"etw64w14"})("color:",t=>t.theme.colors.textPrimary,";text-decoration:none;padding:1rem;border-radius:0.5rem;transition:all 0.3s ease;background:rgba(0, 255, 65, 0.05);border:2px solid rgba(0, 255, 65, 0.6);margin-bottom:0.5rem;&:hover{background:rgba(0, 255, 65, 0.1);color:#00FF41;transform:translateY(-2px);box-shadow:0 0 15px rgba(0, 255, 65, 0.2);border-color:rgba(0, 255, 65, 0.8);}"),i2e=xe("div",{target:"etw64w13"})({name:"noie68",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid rgba(0, 255, 65, 0.2)"}),o2e=xe("h2",{target:"etw64w12"})({name:"15t7f0j",styles:"color:#00FF41;margin:0;font-size:2rem;text-shadow:0 0 10px rgba(0, 255, 65, 0.5);font-family:'Hyperwave',sans-serif;letter-spacing:2px"}),s2e=xe("div",{target:"etw64w11"})({name:"tk3n8a",styles:'margin:1rem 0;button{width:100%!important;background:transparent!important;color:#00FF41!important;border:1px solid rgba(0, 255, 65, 0.3)!important;border-radius:0.75rem!important;padding:0.75rem 1rem!important;font-weight:600!important;transition:all 0.3s ease!important;div[data-testid="rk-chain-button"]{display:none!important;}&:hover{transform:translateY(-2px)!important;border-color:rgba(0, 255, 65, 0.5)!important;box-shadow:0 0 20px rgba(0, 255, 65, 0.2)!important;}}'}),a2e=xe("div",{target:"etw64w10"})({name:"mb3gdk",styles:"margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(0, 255, 65, 0.2)"}),l2e=({isOpen:t,onClose:e})=>{const{isConnected:n,address:r,chain:i}=po(),s=n&&r&&r.toLowerCase()==="0x47d80671Bcb7Ec368ef4d3ca6E1C20173CCc9a28".toLowerCase();return t?UO.createPortal(q(as,{children:[F(n2e,{isOpen:t,onClick:e}),q(r2e,{isOpen:t,children:[F(i2e,{children:F(o2e,{children:"Menu"})}),F(VE,{to:"/",onClick:e,children:"Home"}),F(VE,{to:"/create",onClick:e,children:"Create Flip"}),s&&F(VE,{to:"/admin",onClick:e,children:"Admin Panel"}),F(s2e,{children:F(Bu,{showBalance:{smallScreen:!1,largeScreen:!0}})}),n&&F(a2e,{children:F(uG,{address:r,isConnected:n,currentChain:i?.name?.toLowerCase()||"base"})})]})]}),document.body):null},c2e=xe("header",{target:"e18h9zca22"})("background-color:",t=>t.theme.colors.bgDark,";padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;position:relative;z-index:100;width:100%;box-sizing:border-box;overflow-x:hidden;@media (max-width: 768px){padding:0.75rem 1rem;position:fixed;top:0;left:0;right:0;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);z-index:9998;}"),u2e=xe("div",{target:"e18h9zca21"})({name:"21q7ph",styles:"display:flex;align-items:center;gap:1rem;@media (max-width: 768px){gap:0.5rem;}"}),d2e=xe(g0,{target:"e18h9zca20"})("color:#00FF41;font-size:3rem;font-weight:700;text-decoration:none;letter-spacing:6px;font-family:'Hyperwave',sans-serif;animation:neonPulse 2s infinite;",t=>t.theme.animations.neonPulse,"@media (max-width: 768px){font-size:2.5rem;letter-spacing:4px;}"),f2e=xe("div",{target:"e18h9zca19"})({name:"10imiyw",styles:"display:flex;gap:1rem;align-items:center;@media (max-width: 768px){display:none;}"}),h2e=xe(g0,{target:"e18h9zca18"})("background:linear-gradient(45deg, #00FF41, #39FF14);color:#000000;padding:0.5rem 1.5rem;border-radius:0.75rem;text-decoration:none;font-weight:600;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;border:2px solid #00FF41;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);&::before{transform:translateX(100%);}}"),p2e=xe(g0,{target:"e18h9zca17"})("background:linear-gradient(45deg, #FF6B35, #F7931E);color:#000000;padding:0.5rem 1.5rem;border-radius:0.75rem;text-decoration:none;font-weight:600;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;border:2px solid #FF6B35;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);&::before{transform:translateX(100%);}}"),m2e=xe("button",{target:"e18h9zca15"})({name:"191oh3x",styles:"display:none;background:none;border:none;color:#00FF41;font-size:1.5rem;cursor:pointer;padding:0.5rem;z-index:100000;@media (max-width: 768px){display:block;}"}),g2e=G0e`
  0%, 100% {
    box-shadow: 0 0 0px #00FF41, 0 0 0px #00FF41;
    border-color: #00FF41;
  }
  50% {
    box-shadow: 0 0 16px #00FF41, 0 0 32px #00FF41;
    border-color: #baffc9;
  }
`,y2e=xe("button",{target:"e18h9zca6"})("background:rgba(0,255,65,0.12);border:2px solid #00FF41;color:#00FF41;border-radius:50%;width:2.5rem;height:2.5rem;font-size:1.5rem;font-weight:bold;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background 0.2s;animation:",g2e," 1.2s infinite;&:hover{background:rgba(0,255,65,0.25);}@media (max-width: 768px){display:none;}"),v2e=xe("div",{target:"e18h9zca4"})({name:"ohaszm",styles:"position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:9999;display:flex;align-items:center;justify-content:center"}),w2e=xe("div",{target:"e18h9zca3"})({name:"6bvd8o",styles:"background:#181c1b;border-radius:1rem;padding:2rem;box-shadow:0 0 32px #00FF41;max-width:95vw;max-height:90vh;display:flex;flex-direction:column;align-items:center;width:90vw"}),b2e=xe("button",{target:"e18h9zca2"})({name:"3cl7o3",styles:"background:none;border:none;color:#00FF41;font-size:2rem;position:absolute;top:2rem;right:2rem;cursor:pointer"}),x2e=xe("div",{target:"e18h9zca1"})({name:"jl9pt",styles:"display:flex;justify-content:space-between;align-items:center;width:100%;margin-bottom:1rem"}),E2e=xe("div",{target:"e18h9zca0"})({name:"iya5c3",styles:"max-width:90vw;width:100%;height:100%;display:flex;justify-content:center;align-items:center;padding:1rem"}),A2e=()=>{const{isConnected:t,address:e,chainId:n,chain:r}=po(),{showInfo:i}=Js(),[o,s]=U.useState(!1),[a,l]=U.useState(!1),u=t&&e&&e.toLowerCase()==="0x47d80671Bcb7Ec368ef4d3ca6E1C20173CCc9a28".toLowerCase(),d=()=>{window.innerWidth>768&&s(!1)};return L.useEffect(()=>(window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)),[]),F(Qr,{theme:Ze,children:q(c2e,{children:[F(u2e,{children:F(d2e,{to:"/",children:"FLIPNOSIS"})}),q(f2e,{children:[F(h2e,{to:"/create",children:"Create Flip"}),u&&F(p2e,{to:"/admin",children:"Admin"}),F(Bu,{showBalance:{smallScreen:!1,largeScreen:!0}}),t&&F(uG,{address:e,isConnected:t,currentChain:r?.name?.toLowerCase()||"base"})]}),F(m2e,{onClick:()=>s(!o),children:o?"":""}),F(l2e,{isOpen:o,onClose:()=>s(!1)}),F(y2e,{onClick:()=>l(!0),title:"About FLIPNOSIS",children:"i"}),a&&F(v2e,{onClick:()=>l(!1),children:q(w2e,{onClick:f=>f.stopPropagation(),children:[F(b2e,{onClick:()=>l(!1),children:""}),F(x2e,{children:F("h2",{style:{color:"#00FF41",margin:0},children:"About FLIPNOSIS"})}),F(E2e,{children:F("img",{src:window.innerWidth<=768?vAe:yAe,alt:"FLIPNOSIS Info",style:{maxWidth:"100%",height:"auto",borderRadius:"1rem",objectFit:"contain"}})})]})})]})})},_2e=()=>q("div",{className:"min-h-screen bg-bg-primary",children:[F(A2e,{}),F("main",{style:{paddingTop:window.innerWidth<=768?"80px":"0"},children:F(v0e,{})})]}),S2e=()=>{const{address:t}=v0(),{showSuccess:e,showError:n,showInfo:r}=Js(),[i,o]=U.useState(""),[s,a]=U.useState(""),[l,c]=U.useState(!1),[u,d]=U.useState(null),[f,h]=U.useState(null),g=async()=>{if(!i||!s){n("Please enter NFT contract address and token ID");return}c(!0);try{r("Searching for your NFT...");const p=await jt.findMyNFTs(i,s);d(p),p.success?e(`NFT found: ${p.message}`):n("Failed to find NFT: "+p.error)}catch(p){n("Error searching for NFT: "+p.message)}finally{c(!1)}},m=async()=>{if(!t){n("Please connect your wallet");return}c(!0);try{r("Searching for your games...");const p=await jt.getMyGames(t);h(p),p.success?e(`Found ${p.myGames.length} games`):n("Failed to find games: "+p.error)}catch(p){n("Error searching for games: "+p.message)}finally{c(!1)}},y=async p=>{if(confirm(`Are you sure you want to cancel game ${p}? This will return your NFT to your wallet.`))try{r("Cancelling game...");const v=await jt.emergencyCancelGame(p);v.success?(e("Game cancelled successfully! Your NFT should be returned to your wallet."),m()):n("Failed to cancel game: "+v.error)}catch(v){n("Error cancelling game: "+v.message)}};return q("div",{children:[q("div",{style:{marginBottom:"2rem"},children:[F("h3",{style:{color:"#FFD700",marginBottom:"1rem"},children:"Find Your NFT"}),q("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[F("input",{type:"text",placeholder:"NFT Contract Address",value:i,onChange:p=>o(p.target.value),style:{flex:1,padding:"0.5rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",color:"white"}}),F("input",{type:"text",placeholder:"Token ID",value:s,onChange:p=>a(p.target.value),style:{width:"120px",padding:"0.5rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",color:"white"}}),F("button",{onClick:g,disabled:l,style:{padding:"0.5rem 1rem",background:"#FF4444",color:"white",border:"none",borderRadius:"0.5rem",cursor:l?"not-allowed":"pointer"},children:l?"Searching...":"Find NFT"})]}),u&&q("div",{style:{padding:"1rem",background:u.success?"rgba(0, 255, 0, 0.1)":"rgba(255, 0, 0, 0.1)",border:`1px solid ${u.success?"rgba(0, 255, 0, 0.3)":"rgba(255, 0, 0, 0.3)"}`,borderRadius:"0.5rem",color:u.success?"#00FF00":"#FF4444"},children:[F("strong",{children:"Result:"})," ",u.message||u.error]})]}),q("div",{style:{marginBottom:"2rem"},children:[F("h3",{style:{color:"#FFD700",marginBottom:"1rem"},children:"Find Your Games"}),F("button",{onClick:m,disabled:l||!t,style:{padding:"0.5rem 1rem",background:"#FFD700",color:"black",border:"none",borderRadius:"0.5rem",cursor:l||!t?"not-allowed":"pointer",marginBottom:"1rem"},children:l?"Searching...":"Find My Games"}),f&&q("div",{children:[q("p",{style:{color:"white",marginBottom:"1rem"},children:["Total games created: ",f.totalGames]}),f.myGames.length>0?F("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:f.myGames.map(p=>F("div",{style:{padding:"1rem",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"0.5rem",color:"white"},children:q("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[q("div",{children:[q("strong",{children:["Game ",p.gameId]}),F("br",{}),q("small",{children:["NFT: ",p.nftContract," #",p.tokenId]}),F("br",{}),q("small",{children:["State: ",p.state===0?"Created":p.state===1?"Joined":"Completed"]}),F("br",{}),q("small",{children:["Joiner: ",p.joiner==="0x0000000000000000000000000000000000000000"?"None":p.joiner]})]}),p.state===0&&F("button",{onClick:()=>y(p.gameId),style:{padding:"0.5rem 1rem",background:"#FF4444",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer"},children:"Cancel Game"})]})},p.gameId))}):F("p",{style:{color:"white"},children:"No games found for your address."})]})]}),q("div",{style:{padding:"1rem",background:"rgba(255, 0, 0, 0.1)",border:"1px solid rgba(255, 0, 0, 0.3)",borderRadius:"0.5rem",color:"#FF4444"},children:[F("strong",{children:" Important:"}),' If your NFT is stuck in a game contract, you can cancel the game to recover it. Only games in "Created" state (no joiner) can be cancelled.']})]})},C2e="0x47d80671Bcb7Ec368ef4d3ca6E1C20173CCc9a28",T2e=xe("div",{target:"e1at9ogk25"})({name:"18g9eba",styles:"min-height:100vh;background:linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0d0d0d 100%);color:#ffffff;padding:2rem;font-family:'Inter',sans-serif"}),M2e=xe("div",{target:"e1at9ogk24"})({name:"1u3n3gu",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:2rem;background:linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(255, 107, 53, 0.1) 100%);border-radius:20px;border:1px solid rgba(0, 255, 65, 0.2);backdrop-filter:blur(10px)"}),I2e=xe("h1",{target:"e1at9ogk23"})({name:"qzr0p5",styles:"font-size:2.5rem;font-weight:700;background:linear-gradient(135deg, #00FF41 0%, #FF6B35 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0"}),R2e=xe("div",{target:"e1at9ogk21"})({name:"10u2hu4",styles:"display:flex;gap:1rem;margin-bottom:2rem;background:rgba(255, 255, 255, 0.05);padding:0.5rem;border-radius:16px;backdrop-filter:blur(10px)"}),Gh=xe("button",{target:"e1at9ogk20"})("background:",t=>t.active?"linear-gradient(135deg, #00FF41 0%, #39FF14 100%)":"transparent",";color:",t=>t.active?"#000":"#fff",";border:none;padding:1rem 2rem;border-radius:12px;font-weight:600;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;gap:0.5rem;&:hover{background:",t=>t.active?"linear-gradient(135deg, #00FF41 0%, #39FF14 100%)":"rgba(0, 255, 65, 0.1)",";}"),Kk=xe("div",{target:"e1at9ogk19"})({name:"13t28xe",styles:"background:rgba(255, 255, 255, 0.05);border-radius:20px;padding:2rem;backdrop-filter:blur(10px);border:1px solid rgba(255, 255, 255, 0.1)"}),P2e=xe("div",{target:"e1at9ogk18"})({name:"1bkibp1",styles:"display:grid;grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));gap:1.5rem;margin-bottom:2rem"}),$g=xe("div",{target:"e1at9ogk17"})({name:"ov55uu",styles:"background:linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(255, 107, 53, 0.1) 100%);border-radius:16px;padding:1.5rem;border:1px solid rgba(0, 255, 65, 0.2);transition:all 0.3s ease;&:hover{transform:translateY(-4px);box-shadow:0 8px 25px rgba(0, 255, 65, 0.2);}"}),qg=xe("div",{target:"e1at9ogk16"})({name:"16b97m6",styles:"display:flex;align-items:center;gap:1rem;margin-bottom:1rem"}),Kg=xe("div",{target:"e1at9ogk15"})({name:"gne3w0",styles:"width:50px;height:50px;border-radius:12px;background:linear-gradient(135deg, #00FF41 0%, #39FF14 100%);display:flex;align-items:center;justify-content:center;color:#000"}),Qg=xe("div",{target:"e1at9ogk14"})({name:"1nwd60l",styles:"font-size:2rem;font-weight:700;color:#00FF41"}),Xg=xe("div",{target:"e1at9ogk13"})({name:"cyrik3",styles:"color:#ccc;font-size:0.9rem;margin-top:0.5rem"}),N2e=xe("div",{target:"e1at9ogk12"})({name:"19ym1g9",styles:"display:flex;gap:1rem;margin-bottom:2rem"}),$E=xe("div",{target:"e1at9ogk10"})({name:"c55fph",styles:"background:rgba(255, 255, 255, 0.05);border-radius:16px;padding:1.5rem;margin-bottom:1rem;border:1px solid rgba(255, 255, 255, 0.1);transition:all 0.3s ease;&:hover{background:rgba(255, 255, 255, 0.08);transform:translateY(-2px);}"}),qE=xe("div",{target:"e1at9ogk9"})({name:"8r8ifa",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem"}),k2e=xe("span",{target:"e1at9ogk8"})("padding:0.5rem 1rem;border-radius:20px;font-size:0.8rem;font-weight:600;background:",t=>{switch(t.status){case"active":return"linear-gradient(135deg, #00FF41 0%, #39FF14 100%)";case"completed":return"linear-gradient(135deg, #FF6B35 0%, #F7931E 100%)";case"cancelled":return"linear-gradient(135deg, #FF4444 0%, #CC0000 100%)";default:return"rgba(255, 255, 255, 0.2)"}},";color:",t=>t.status==="active"||t.status==="completed"?"#000":"#fff",";"),F2e=xe("div",{target:"e1at9ogk7"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),O2e=xe("div",{target:"e1at9ogk6"})({name:"1dkpf8h",styles:"margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(255, 255, 255, 0.1);p{margin:0.5rem 0;color:#ccc;}"}),B2e=xe("form",{target:"e1at9ogk5"})({name:"1i3qy3r",styles:"display:grid;gap:1.5rem"}),Qk=xe("div",{target:"e1at9ogk4"})({name:"p5tmle",styles:"display:flex;flex-direction:column;gap:0.5rem"}),Xk=xe("label",{target:"e1at9ogk3"})({name:"1qzg6tw",styles:"font-weight:600;color:#ccc"}),Yk=xe("input",{target:"e1at9ogk2"})({name:"1aga977",styles:"background:rgba(255, 255, 255, 0.1);border:1px solid rgba(255, 255, 255, 0.2);border-radius:8px;padding:0.75rem;color:#fff;font-size:1rem;&:focus{outline:none;border-color:#00FF41;}"}),fl=xe("button",{target:"e1at9ogk1"})({name:"1jwqxzp",styles:"background:linear-gradient(135deg, #00FF41 0%, #39FF14 100%);color:#000;border:none;padding:1rem 2rem;border-radius:12px;font-weight:600;cursor:pointer;transition:all 0.3s ease;&:hover{transform:translateY(-2px);box-shadow:0 4px 15px rgba(0, 255, 65, 0.3);}&:disabled{background:#666;cursor:not-allowed;}"}),L2e=xe("div",{target:"e1at9ogk0"})("position:fixed;top:2rem;right:2rem;padding:1rem 2rem;border-radius:12px;color:#fff;font-weight:600;z-index:1000;animation:slideIn 0.3s ease;",t=>t.type==="success"&&`
    background: linear-gradient(135deg, #00FF41 0%, #39FF14 100%);
    color: #000;
  `," ",t=>t.type==="error"&&`
    background: linear-gradient(135deg, #FF4444 0%, #CC0000 100%);
  `,"@keyframes slideIn{from{transform:translateX(100%);opacity:0;}to{transform:translateX(0);opacity:1;}}");function D2e(){const{isFullyConnected:t,address:e,walletClient:n,publicClient:r}=v0(),{chain:i}=po(),[o,s]=U.useState(!1),[a,l]=U.useState(""),[c,u]=U.useState(!1),[d,f]=U.useState("overview"),[h,g]=U.useState("base"),[m,y]=U.useState(!1),[p,v]=U.useState(""),[w,x]=U.useState({totalGames:0,activeGames:0,totalVolume:0,platformFees:0,monthlyFees:0,totalNFTsInContract:0,totalETHInContract:0,totalUSDCInContract:0}),[T,k]=U.useState([]),[A,z]=U.useState([]),[S,N]=U.useState([]),[P,W]=U.useState({platformFeePercent:3.5,listingFeeUSD:.2}),[B,b]=U.useState(null),[E,I]=U.useState([]),O="https://cryptoflipz2-production.up.railway.app";U.useEffect(()=>{if(t&&e)if(e.toLowerCase()===C2e.toLowerCase()){u(!0),s(!0),l(e);const de=i?.name?.toLowerCase()||"base";jt.init(de,n,r).then(()=>{console.log(" Admin contract service initialized"),C()}).catch(Re=>{console.error(" Failed to initialize contract service:",Re)})}else alert("Unauthorized wallet. Admin access only.")},[t,e,n,r,i]);const C=async()=>{y(!0);try{const de=await fetch(`${O}/api/admin/games`);if(!de.ok)throw new Error("Failed to load games");const Re=await de.json();if(k(Re.games||[]),x(ae=>({...ae,totalGames:Re.stats?.totalGames||0,activeGames:Re.stats?.activeGames||0,totalVolume:Re.stats?.totalVolume||0})),jt.currentChain)try{console.log("Contract service is initialized for:",jt.currentChain)}catch(ae){console.error("Error loading blockchain data:",ae)}}catch(de){console.error("Error loading data:",de),Z("error","Failed to load data: "+de.message)}finally{y(!1)}},j=async()=>{if(!jt.currentChain){Z("error","Contract not initialized");return}try{Z("info","Platform fee update not implemented yet - use contract directly")}catch(de){console.error("Error updating platform fee:",de),Z("error","Failed to update platform fee")}},H=async()=>{if(!jt.currentChain){Z("error","Contract not initialized");return}try{Z("info","Listing fee update not implemented yet - use contract directly")}catch(de){console.error("Error updating listing fee:",de),Z("error","Failed to update listing fee")}},D=async de=>{if(confirm("Emergency withdraw NFT from this game?"))try{const Re=T.find(we=>we.id===de);if(!Re)throw new Error("Game not found");const ae=await jt.emergencyCancelGame(Re.contract_game_id);if(ae.success)Z("success","NFT withdrawn successfully!"),await fetch(`${O}/api/admin/games/${de}/cancel`,{method:"PUT"}),await C();else throw new Error(ae.error)}catch(Re){console.error("Error withdrawing NFT:",Re),Z("error","Failed to withdraw NFT: "+Re.message)}},M=async()=>{if(confirm("PAUSE ALL GAMES? This will prevent new games from being created or joined."))try{const de=await fetch(`${O}/api/admin/pause-all`,{method:"POST"});if(de.ok)Z("success","All games paused!"),await C();else if(de.status===404){Z("info","Server endpoint not available, using fallback method...");const Re=await fetch(`${O}/api/admin/games`);if(Re.ok){const we=(await Re.json()).games.filter(te=>te.status==="waiting");let Ve=0;for(const te of we)try{await fetch(`${O}/api/admin/games/${te.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"paused"})}),Ve++}catch(Be){console.warn("Failed to update game:",te.id,Be)}Z("success",`Paused ${Ve} games using fallback method!`),await C()}else throw new Error("Failed to load games for fallback update")}else throw new Error("Failed to pause games")}catch(de){Z("error","Failed to pause games: "+de.message)}},$=async()=>{if(!jt.currentChain){Z("error","Contract not initialized");return}try{const de=await jt.withdrawRewards();if(de.success)Z("success",`Withdrew ${de.ethWithdrawn} ETH and ${de.usdcWithdrawn} USDC`);else throw new Error(de.error)}catch(de){Z("error","Failed to withdraw fees: "+de.message)}},J=async de=>{try{(await fetch(`${O}/api/admin/games/${de}/cancel`,{method:"PUT",headers:{"Content-Type":"application/json"}})).ok?(Z("success","Game cancelled successfully!"),await C()):Z("error","Failed to cancel game")}catch(Re){console.error("Error cancelling game:",Re),Z("error","Failed to cancel game")}},Z=(de,Re)=>{const ae=Date.now();I(we=>[...we,{id:ae,type:de,message:Re}]),setTimeout(()=>{I(we=>we.filter(Ve=>Ve.id!==ae))},5e3)},ce=de=>`${de.slice(0,6)}...${de.slice(-4)}`,oe=de=>new Date(de).toLocaleDateString(),Ae=de=>{switch(de){case"active":return"#00FF41";case"completed":return"#FF6B35";case"cancelled":return"#FF4444";default:return"#666"}};return U.useEffect(()=>{const de=T.filter(Re=>Re.id.toString().includes(p)||Re.creator.toLowerCase().includes(p.toLowerCase())||Re.joiner&&Re.joiner.toLowerCase().includes(p.toLowerCase()));z(de)},[T,p]),q(T2e,{children:[q(M2e,{children:[F(I2e,{children:"Admin Dashboard"}),o?q("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[q("span",{children:["Connected: ",ce(a)]}),F("span",{children:i?.name||"Unknown Chain"})]}):F(Bu,{})]}),o?q(as,{children:[q(R2e,{children:[q(Gh,{active:d==="overview",onClick:()=>f("overview"),children:[F(AAe,{size:20}),"Overview"]}),q(Gh,{active:d==="games",onClick:()=>f("games"),children:[F(_p,{size:20}),"Games"]}),q(Gh,{active:d==="players",onClick:()=>f("players"),children:[F(FAe,{size:20}),"Players"]}),q(Gh,{active:d==="settings",onClick:()=>f("settings"),children:[F(NAe,{size:20}),"Settings"]}),q(Gh,{active:d==="emergency",onClick:()=>f("emergency"),children:[F(kAe,{size:20}),"Emergency"]})]}),q(Kk,{children:[d==="overview"&&q("div",{children:[q(P2e,{children:[F($g,{children:q(qg,{children:[F(Kg,{children:F(_p,{size:24})}),q("div",{children:[F(Qg,{children:w.totalGames}),F(Xg,{children:"Total Games"})]})]})}),F($g,{children:q(qg,{children:[F(Kg,{children:F(EAe,{size:24})}),q("div",{children:[F(Qg,{children:w.activeGames}),F(Xg,{children:"Active Games"})]})]})}),F($g,{children:q(qg,{children:[F(Kg,{children:F(IAe,{size:24})}),q("div",{children:[q(Qg,{children:["$",w.totalVolume.toFixed(2)]}),F(Xg,{children:"Total Volume"})]})]})}),F($g,{children:q(qg,{children:[F(Kg,{children:F(MAe,{size:24})}),q("div",{children:[q(Qg,{children:["$",w.platformFees.toFixed(2)]}),F(Xg,{children:"Platform Fees"})]})]})})]}),q("div",{style:{marginTop:"2rem"},children:[F("h3",{children:"Recent Activity"}),T.slice(0,5).map(de=>F($E,{children:q(qE,{children:[q("div",{children:[q("strong",{children:["Game #",de.id]}),q("div",{style:{fontSize:"0.9rem",color:"#ccc"},children:["Created by ",ce(de.creator)]})]}),F(k2e,{status:de.status,children:de.status})]})},de.id))]})]}),d==="games"&&q("div",{children:[q(N2e,{children:[F(PAe,{size:20}),F("input",{type:"text",placeholder:"Search by game ID or address...",value:p,onChange:de=>v(de.target.value)})]}),F(F2e,{children:A.map(de=>q($E,{children:[q(qE,{onClick:()=>b(B===de.id?null:de.id),children:[q("div",{children:[q("h4",{children:["Game #",de.id]}),q("p",{children:["NFT: ",de.nft_name]}),q("p",{children:["Status: ",F("span",{style:{color:Ae(de.status)},children:de.status})]})]}),F(SAe,{style:{transform:B===de.id?"rotate(180deg)":"none"}})]}),B===de.id&&q(O2e,{children:[q("p",{children:[F("strong",{children:"Creator:"})," ",ce(de.creator)]}),q("p",{children:[F("strong",{children:"Joiner:"})," ",ce(de.joiner)]}),q("p",{children:[F("strong",{children:"Price:"})," $",de.price_usd," USD"]}),q("p",{children:[F("strong",{children:"Contract Game ID:"})," ",de.contract_game_id||"N/A"]}),q("p",{children:[F("strong",{children:"Created:"})," ",oe(de.created_at)]}),q("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1rem"},children:[de.status==="waiting"&&F(fl,{onClick:()=>J(de.id),style:{background:"#ff4444"},children:"Cancel Game"}),de.contract_game_id&&de.status==="waiting"&&F(fl,{onClick:()=>D(de.id),style:{background:"#ff8800"},children:"Emergency Withdraw NFT"}),F(fl,{onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/game/${de.id}`),Z("success","Game URL copied!")},style:{background:"#0088ff"},children:"Copy Game URL"})]})]})]},de.id))})]}),d==="players"&&q("div",{children:[F("h3",{children:"Player Statistics"}),S.map(de=>q($E,{children:[F(qE,{children:F("div",{children:F("strong",{children:ce(de.address)})})}),q("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem"},children:[q("div",{children:[F("strong",{children:"Games Created:"})," ",de.gamesCreated]}),q("div",{children:[F("strong",{children:"Games Won:"})," ",de.gamesWon]}),q("div",{children:[F("strong",{children:"Total Volume:"})," $",de.totalVolume.toFixed(2)]})]})]},de.address))]}),d==="settings"&&q("div",{children:[F("h3",{children:"Platform Settings"}),q(B2e,{children:[q(Qk,{children:[F(Xk,{children:"Platform Fee Percentage"}),F(Yk,{type:"number",step:"0.1",value:P.platformFeePercent,onChange:de=>W(Re=>({...Re,platformFeePercent:parseFloat(de.target.value)}))})]}),q(Qk,{children:[F(Xk,{children:"Listing Fee (USD)"}),F(Yk,{type:"number",step:"0.01",value:P.listingFeeUSD,onChange:de=>W(Re=>({...Re,listingFeeUSD:parseFloat(de.target.value)}))})]}),F(fl,{onClick:j,disabled:!jt.currentChain,children:"Update Platform Fee"}),F(fl,{onClick:H,disabled:!jt.currentChain,children:"Update Listing Fee"})]})]}),d==="emergency"&&q("div",{children:[F("h3",{style:{color:"#ff4444",marginBottom:"2rem"},children:" Emergency Controls"}),q("div",{style:{background:"rgba(255, 68, 68, 0.1)",border:"2px solid #ff4444",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[F("h4",{style:{color:"#ff4444",marginBottom:"1rem"},children:" User NFT Recovery"}),F("p",{style:{marginBottom:"1rem"},children:"Help users recover their NFTs if they're stuck in game contracts."}),F(S2e,{})]}),q("div",{style:{background:"rgba(255, 0, 0, 0.1)",border:"2px solid #ff4444",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[F("h4",{children:"Pause All Games"}),F("p",{children:"This will prevent any new games from being created or joined."}),F(fl,{onClick:M,style:{background:"#ff4444",marginTop:"1rem"},children:" PAUSE ALL GAMES"})]}),q("div",{style:{background:"rgba(255, 215, 0, 0.1)",border:"2px solid #FFD700",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[F("h4",{children:"Withdraw Platform Fees"}),F("p",{children:"Withdraw accumulated platform fees from the contract."}),F(fl,{onClick:$,style:{background:"#FFD700",color:"#000",marginTop:"1rem"},children:" Withdraw Fees"})]}),q("div",{style:{background:"rgba(0, 0, 0, 0.3)",borderRadius:"12px",padding:"2rem"},children:[F("h4",{children:"Database Admin"}),F("p",{children:"Direct database management (use with caution)."}),F(fl,{onClick:()=>window.open("/database-admin","_blank"),style:{background:"#666",marginTop:"1rem"},children:" Open Database Admin"})]})]})]})]}):F(Kk,{children:q("div",{style:{textAlign:"center",padding:"4rem"},children:[F("h2",{children:"Connect your admin wallet to access the dashboard"}),F("p",{children:"Only authorized wallets can access this panel"})]})}),E.map(de=>F(L2e,{type:de.type,children:de.message},de.id))]})}const U2e=C0e([{path:"/",element:F(_2e,{}),children:[{index:!0,element:F(Rye,{})},{path:"create",element:F(kye,{})},{path:"game/:gameId",element:F(gAe,{})},{path:"admin",element:F(D2e,{})}]}]);function dG(t){const e=typeof window<"u"?window:void 0;if(typeof e>"u"||typeof e.ethereum>"u")return;const n=e.ethereum.providers;return n?n.find(r=>r[t]):e.ethereum[t]?e.ethereum:void 0}function fG(t){const e=(n,r)=>{const[i,...o]=r.split("."),s=n[i];if(s)return o.length===0?s:e(s,o.join("."))};if(typeof window<"u")return e(window,t)}function MS({flag:t,namespace:e}){return!!(e&&typeof fG(e)<"u"||t&&typeof dG(t)<"u")}function z2e({flag:t,namespace:e}){const n=typeof window<"u"?window:void 0;if(typeof n>"u")return;if(e){const i=fG(e);if(i)return i}const r=n.ethereum?.providers;if(t){const i=dG(t);if(i)return i}return typeof r<"u"&&r.length>0?r[0]:n.ethereum}function j2e(t){return e=>{const n=t?{target:()=>({id:e.rkDetails.id,name:e.rkDetails.name,provider:t})}:{};return r=>({...e0(n)(r),...e})}}function aw({flag:t,namespace:e,target:n}){const r=n||z2e({flag:t,namespace:e});return j2e(r)}var Jk=new Map,G2e=({projectId:t,walletConnectParameters:e,rkDetailsShowQrModal:n,rkDetailsIsWalletConnectModalConnector:r})=>{let i={...e||{},projectId:t,showQrModal:!1};n&&(i={...i,showQrModal:!0}),"customStoragePrefix"in i||(i={...i,customStoragePrefix:r?"clientOne":"clientTwo"});const o=JSON.stringify(i),s=Jk.get(o);if(s)return s;const a=E1(i);return Jk.set(o,a),a};function H2e({projectId:t,walletDetails:e,walletConnectParameters:n}){return r=>({...G2e({projectId:t,walletConnectParameters:n,rkDetailsShowQrModal:e.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:e.rkDetails.isWalletConnectModalConnector})(r),...e})}function n3({projectId:t,walletConnectParameters:e}){const n="21fef48091f12692cad574a6f7753643";if(!t||t==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return t==="YOUR_PROJECT_ID"&&(t=n),r=>H2e({projectId:t,walletDetails:r,walletConnectParameters:e})}function hG(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function W2e(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function V2e(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function r3(){return W2e()||V2e()}function Zk(){return hG()||r3()}var $2e=({projectId:t,walletConnectParameters:e})=>{const n=Zk()?MS({flag:"isTrust"}):MS({flag:"isTrustWallet"}),r=!n,i=c=>`trust://wc?uri=${encodeURIComponent(c)}`,o=c=>c,s={getUri:r?i:void 0};let a;return r&&(a={getUri:o,instructions:{learnMoreUrl:"https://trustwallet.com/",steps:[{description:"wallet_connectors.trust.qr_code.step1.description",step:"install",title:"wallet_connectors.trust.qr_code.step1.title"},{description:"wallet_connectors.trust.qr_code.step2.description",step:"create",title:"wallet_connectors.trust.qr_code.step2.title"},{description:"wallet_connectors.trust.qr_code.step3.description",step:"scan",title:"wallet_connectors.trust.qr_code.step3.title"}]}}),{id:"trust",name:"Trust Wallet",rdns:"com.trustwallet.app",iconUrl:async()=>(await Qe(async()=>{const{default:c}=await import("./trustWallet-42DZQQWY-B0DkYL5U.js");return{default:c}},[])).default,installed:n||void 0,iconAccent:"#3375BB",iconBackground:"#fff",downloadUrls:{android:"https://play.google.com/store/apps/details?id=com.wallet.crypto.trustapp",ios:"https://apps.apple.com/us/app/trust-crypto-bitcoin-wallet/id1288339409",mobile:"https://trustwallet.com/download",qrCode:"https://trustwallet.com/download",chrome:"https://chrome.google.com/webstore/detail/trust-wallet/egjidjbpglichdcondbcbdnbeeppgdph",browserExtension:"https://trustwallet.com/browser-extension"},mobile:s,qrCode:a,extension:{instructions:{learnMoreUrl:"https://trustwallet.com/browser-extension",steps:[{description:"wallet_connectors.trust.extension.step1.description",step:"install",title:"wallet_connectors.trust.extension.step1.title"},{description:"wallet_connectors.trust.extension.step2.description",step:"create",title:"wallet_connectors.trust.extension.step2.title"},{description:"wallet_connectors.trust.extension.step3.description",step:"refresh",title:"wallet_connectors.trust.extension.step3.title"}]}},createConnector:r?n3({projectId:t,walletConnectParameters:e}):Zk()?aw({flag:"isTrust"}):aw({flag:"isTrustWallet"})}},q2e=({projectId:t,options:e})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await Qe(async()=>{const{default:r}=await import("./walletConnectWallet-YHWKVTDY-BcMJSWZw.js");return{default:r}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:r=>r},createConnector:n3({projectId:t,walletConnectParameters:e})}),K2e=({projectId:t,walletConnectParameters:e})=>{const n=MS({flag:"isRainbow"}),r=!n,i=o=>hG()?o:r3()?`rainbow://wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await Qe(async()=>{const{default:o}=await import("./rainbowWallet-O26YNBMX-Cp7N6hKb.js");return{default:o}},[])).default,iconBackground:"#0c2f78",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:r?i:void 0},qrCode:r?{getUri:i,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:r?n3({projectId:t,walletConnectParameters:e}):aw({flag:"isRainbow"})}},Q2e=()=>({id:"injected",name:"Browser Wallet",iconUrl:async()=>(await Qe(async()=>{const{default:t}=await import("./injectedWallet-AWJSZPMG-Df9x-YJA.js");return{default:t}},[])).default,iconBackground:"#fff",createConnector:aw({})}),pG=({appName:t,appIcon:e})=>{const n=i=>i,r=r3();return{id:"coinbase",name:"Coinbase Wallet",shortName:"Coinbase",rdns:"com.coinbase.wallet",iconUrl:async()=>(await Qe(async()=>{const{default:i}=await import("./coinbaseWallet-OKXU3TRC-BmQqixYK.js");return{default:i}},[])).default,iconAccent:"#2c5ff6",iconBackground:"#2c5ff6",installed:!0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-store-crypto/id1278383455",mobile:"https://coinbase.com/wallet/downloads",qrCode:"https://coinbase-wallet.onelink.me/q5Sx/fdb9b250",chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",browserExtension:"https://coinbase.com/wallet"},...r?{}:{qrCode:{getUri:n,instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-mobile",steps:[{description:"wallet_connectors.coinbase.qr_code.step1.description",step:"install",title:"wallet_connectors.coinbase.qr_code.step1.title"},{description:"wallet_connectors.coinbase.qr_code.step2.description",step:"create",title:"wallet_connectors.coinbase.qr_code.step2.title"},{description:"wallet_connectors.coinbase.qr_code.step3.description",step:"scan",title:"wallet_connectors.coinbase.qr_code.step3.title"}]}},extension:{instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-extension",steps:[{description:"wallet_connectors.coinbase.extension.step1.description",step:"install",title:"wallet_connectors.coinbase.extension.step1.title"},{description:"wallet_connectors.coinbase.extension.step2.description",step:"create",title:"wallet_connectors.coinbase.extension.step2.title"},{description:"wallet_connectors.coinbase.extension.step3.description",step:"refresh",title:"wallet_connectors.coinbase.extension.step3.title"}]}}},createConnector:i=>{const{...o}=pG,s=n0({appName:t,appLogoUrl:e,...o});return a=>({...s(a),...i})}}};console.log("Initializing Rainbow Kit with:",{projectId:"fd95ed98ecab7ef051bdcaa27f9d0547",chains:[g1,ku,v1,BT,LT,y1,m1]});const Sl=[g1,ku,v1,BT,LT,y1,m1];if(!Sl||!Array.isArray(Sl)||Sl.length===0)throw console.error(" Chains array is invalid:",Sl),new Error("Chains configuration is invalid");Sl.forEach((t,e)=>{if(!t||!t.id||!t.name)throw console.error(` Invalid chain at index ${e}:`,t),new Error(`Chain at index ${e} is invalid`)});console.log(" Chains validated successfully:",Sl.map(t=>({id:t.id,name:t.name})));const eF="fd95ed98ecab7ef051bdcaa27f9d0547",X2e=typeof window<"u"&&/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);let Cl;if(X2e){const t=H8([{groupName:"Popular",wallets:[Q2e,pG,K2e,$2e,q2e]}],{appName:"FLIPNOSIS",projectId:eF});Cl=AD({chains:Sl,connectors:t,transports:{[g1.id]:Is(),[ku.id]:Is(),[v1.id]:Is(),[BT.id]:Is(),[LT.id]:Is(),[y1.id]:Is(),[m1.id]:Is()}})}else Cl=Bse({appName:"FLIPNOSIS",projectId:eF,chains:Sl,ssr:!1});console.log(" Rainbow Kit configuration created successfully");const Y2e=new Tee({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),{chains:IS}=Cl;console.log("Rainbow Kit Config:",{chains:IS.map(t=>t.name),projectId:Cl.projectId});class J2e extends L.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n)}render(){return this.state.hasError?q("div",{style:{padding:"20px",color:"red",background:"#000",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"20px"},children:[F("h1",{children:"Something went wrong"}),F("pre",{children:this.state.error?.message}),F("pre",{children:this.state.error?.stack})]}):this.props.children}}function Z2e(){return console.log(" App.jsx - Config check:",{config:Cl,hasChains:!!Cl?.chains,chainsLength:Cl?.chains?.length}),F(J2e,{children:F(jZ,{config:Cl,children:F($ee,{client:Y2e,children:F(ooe,{theme:QD({accentColor:"#00FF41",accentColorForeground:"black",borderRadius:"large",fontStack:"system",overlayBlur:"small"}),modalSize:"compact",initialChain:IS[0],chains:IS,children:F(Lse,{children:F(rme,{children:F(ime,{children:F(Qr,{theme:Ze,children:F(O0e,{router:U2e})})})})})})})})})}eA.createRoot(document.getElementById("root")).render(F(Z2e,{}));const tF=Object.freeze(Object.defineProperty({__proto__:null,default:B2},Symbol.toStringTag,{value:"Module"}));export{E_e as $,pue as A,Fe as B,q_e as C,Cle as D,$_e as E,WL as F,mY as G,dp as H,d_e as I,qp as J,Yq as K,Ii as L,IZ as M,Kc as N,b_e as O,oi as P,jse as Q,C_e as R,x_e as S,A_e as T,Li as U,uce as V,__e as W,gp as X,Vse as Y,S_e as Z,De as _,VC as a,Hse as a0,Tle as a1,Ne as a2,Rle as a3,V_e as a4,Zle as a5,Q_e as a6,bP as a7,mD as a8,em as a9,Sn as aa,Cd as ab,E2 as ac,$m as ad,Is as ae,hi as af,Wse as ag,WS as ah,w_e as ai,h_e as b,n1 as c,lQ as d,qs as e,ec as f,Om as g,$s as h,i1 as i,e_e as j,$t as k,tL as l,j7 as m,K_e as n,Y_e as o,J_e as p,jv as q,Vl as r,pr as s,Gv as t,Wle as u,Z_e as v,k1 as w,Qe as x,rF as y,jo as z};
